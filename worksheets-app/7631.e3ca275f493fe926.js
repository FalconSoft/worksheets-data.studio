"use strict";(self.webpackChunkworksheets_app_runtime=self.webpackChunkworksheets_app_runtime||[]).push([[7631],{47631:(Z,c,n)=>{n.r(c),n.d(c,{AppHostModule:()=>T});var u=n(96814),m=n(96711),l=n(75187),i=n(15861),h=n(32013),v=n(59773),y=n(10708),f=n(99796),C=n(79522),p=n(65879),g=n(26671),A=n(69569),M=n(18372);const P=[{path:":appOwner/:appName",component:(()=>{var e;class r{constructor(t,o,a,s){this.dataService=t,this.route=o,this.notificationService=a,this.appRuntimeService=s,this.xmlUIModel="",this.jspy="",this.jspyCodePath="",this.destroy$=new h.x,this._dataModel={}}ngOnInit(){var t=this;return(0,i.Z)(function*(){var o;t.route.params.pipe((0,v.R)(t.destroy$)).subscribe(function(a){return(o=o||(0,i.Z)(function*(s){return yield t.loadApp(s.appOwner,s.appName)})).apply(this,arguments)})})()}onRendered(t){this.appRuntimeService.onNgxRendered(t,this.appInfo?.onInit,this.jspy,this.jspyCodePath,{dataContext:this.dataModel})}get dataModel(){return this._dataModel}set dataModel(t){this._dataModel=t}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete()}appEventHandlers(t){var o=this;return(0,i.Z)(function*(){o.appRuntimeService.ngxEventHandlers(t,o.jspy,o.jspyCodePath,{dataContext:o.dataModel})})()}loadApp(t,o){var a=this;return(0,i.Z)(function*(){try{const s=yield(0,y.n)(a.dataService.getAppDefinition(t,o));a.appInfo=(0,C.p7)(s.appOwner,s.appName,s.appXmlContent),a.jspy=a.appInfo.jspyCodePath?(yield a.dataService.loadAppFileContent(t,o,(0,f.tT)(a.appInfo.jspyCodePath))).content||"":a.appInfo.script||"",a.jspyCodePath=a.appInfo.jspyCodePath||"",a.xmlUIModel=a.appInfo.uiModel,a.appRuntimeService.createAppRuntime(s)}catch(s){console.error(s),a.notificationService.error(s)}})()}}return(e=r).\u0275fac=function(t){return new(t||e)(p.Y36(g.U),p.Y36(l.gz),p.Y36(A.g),p.Y36(M.$))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-container"]],decls:3,vars:2,consts:[[1,"position-relative","h-100"],[1,"d-flex","flex-column","h-100","overflow-hidden",3,"xmlUIModel","dataModel","render","eventHandlers"]],template:function(t,o){1&t&&(p._UZ(0,"router-outlet"),p.TgZ(1,"div",0)(2,"ngx-dynamic-component",1),p.NdJ("render",function(s){return o.onRendered(s)})("eventHandlers",function(s){return o.appEventHandlers(s)}),p.qZA()()),2&t&&(p.xp6(2),p.Q6J("xmlUIModel",o.xmlUIModel)("dataModel",o.dataModel))},dependencies:[l.lC,m.MY],styles:["[_nghost-%COMP%]{display:block;background:var(--body-bg)}"]}),r})(),children:[{path:":page",component:(()=>{var e;class r{}return(e=r).\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-page-placeholder"]],decls:1,vars:0,template:function(t,o){1&t&&p._uU(0,"[page-placeholder]")},styles:["[_nghost-%COMP%]{display:none}"]}),r})()}]}];let x=(()=>{var e;class r{}return(e=r).\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[l.Bz.forChild(P),l.Bz]}),r})();var I=n(39669),j=n(40444),H=n(48081),R=n(20178),S=n(20362),U=n(72500);let T=(()=>{var e;class r{constructor(){(0,j.QR)()}}return(e=r).\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[u.ez,x,S.T,R.V,m.V6,I.zs,H.I,U.mr]}),r})()}}]);