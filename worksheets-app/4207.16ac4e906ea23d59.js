(self.webpackChunkworksheets_app_runtime=self.webpackChunkworksheets_app_runtime||[]).push([[4207],{20178:(Ol,ns,vr)=>{"use strict";vr.d(ns,{V:()=>b});var kr=vr(51220),ee=vr(53546),D=vr(96814),e=vr(96711),A=vr(56223),k=vr(54940),l=vr(75187),T=vr(65879);let b=(()=>{var d;class a{constructor(){(0,k.QR)()}}return(d=a).\u0275fac=function(i){return new(i||d)},d.\u0275mod=T.oAB({type:d}),d.\u0275inj=T.cJS({imports:[kr.C,ee.sF,D.ez,e.V6,A.u5,l.Bz]}),a})()},54940:(Ol,ns,vr)=>{"use strict";vr.d(ns,{lX:()=>g,QR:()=>h});var kr=vr(96711),ee=vr(15861),D=vr(65879),e=vr(51220),A=vr(32013),k=vr(59773),l=vr(91922);let a=(()=>{var v;class m extends kr.A5{constructor(){super(...arguments),this.display="block",this.cd=(0,D.f3M)(D.sBO),this.themeService=(0,D.f3M)(l.f),this.options={},this.themes={light:"ag-vivid",dark:"ag-vivid-dark"},this.destroy1$=new A.x}ngOnInit(){var f=()=>super.ngOnInit,S=this;return(0,ee.Z)(function*(){yield f().call(S),S.themeService.activeTheme$.pipe((0,k.R)(S.destroy1$)).subscribe(w=>{S.setOptions({theme:S.themes[w]})})})()}ngOnDestroy(){var f=()=>super.ngOnDestroy,S=this;return(0,ee.Z)(function*(){f().call(S),S.destroy1$.next(null),S.destroy1$.complete()})()}onDataChanged(f){f.forEach(({propertyName:S,propertyValue:w})=>{`$.${S}`===this.properties.options&&this.setOptions(w)})}setOptions(f){this.options={...this.options,...f},this.cd.detectChanges()}}return(v=m).\u0275fac=function(){let _;return function(S){return(_||(_=D.n5z(v)))(S||v)}}(),v.\u0275cmp=D.Xpm({type:v,selectors:[["app-ag-chart"]],viewQuery:function(f,S){if(1&f&&D.Gf(e.q,7),2&f){let w;D.iGM(w=D.CRH())&&(S.agChart=w.first)}},hostVars:2,hostBindings:function(f,S){2&f&&D.Udp("display",S.display)},features:[D.qOj],decls:1,vars:1,consts:[[3,"options"]],template:function(f,S){1&f&&D._UZ(0,"ag-charts-angular",0),2&f&&D.Q6J("options",S.options)},dependencies:[e.q],changeDetection:0}),m})();const i={name:"ag-chart",packageName:"ag",label:"Chart",category:"Data",description:"Chart component",itemProperties:class t extends kr.hl{},component:a,example:[{title:"Grid example",uiModel:'\n  <div class="h-100">\n    <ag-chart class="h-100"></ag-chart>\n  </div>\n  ',dataModel:{chartData:[{position:1,name:"Hydrogen",weight:1.0079,symbol:"H"},{position:2,name:"Helium",weight:4.0026,symbol:"He"},{position:3,name:"Lithium",weight:6.941,symbol:"Li"},{position:4,name:"Beryllium",weight:9.0122,symbol:"Be"},{position:5,name:"Boron",weight:10.811,symbol:"B"},{position:6,name:"Carbon",weight:12.0107,symbol:"C"},{position:7,name:"Nitrogen",weight:14.0067,symbol:"N"},{position:8,name:"Oxygen",weight:15.9994,symbol:"O"},{position:9,name:"Fluorine",weight:18.9984,symbol:"F"},{position:10,name:"Neon",weight:20.1797,symbol:"Ne"}]}}],children:!1};var r=vr(97582);var u=vr(53546);let p=(()=>{var v;class m extends kr.A5{constructor(){super(...arguments),this.display="block",this.agGrid={},this.cd=(0,D.f3M)(D.sBO)}ngOnInit(){var f=()=>super.ngOnInit,S=this;return(0,ee.Z)(function*(){S.addDataPropertyHandler(S.properties.rowData,w=>{S.rowData=w,S.gridApi?.setRowData(S.rowData)}),S.addDataPropertyHandler(S.properties.columnsDef,w=>{S.columnsDef=w,S.gridApi?.setColumnDefs(S.columnsDef)}),S.addDataPropertyHandler(S.properties.gridOptions,w=>S.gridOptions=w),yield f().call(S)})()}afterComponentDataModelChanged(){this.cd.detectChanges()}onGridReady(f){this.gridApi=f.api}}return(v=m).\u0275fac=function(){let _;return function(S){return(_||(_=D.n5z(v)))(S||v)}}(),v.\u0275cmp=D.Xpm({type:v,selectors:[["app-ag-grid"]],viewQuery:function(f,S){if(1&f&&D.Gf(u.N8,7),2&f){let w;D.iGM(w=D.CRH())&&(S.agGrid=w.first)}},hostVars:2,hostBindings:function(f,S){2&f&&D.Udp("display",S.display)},features:[D.qOj],decls:1,vars:0,consts:[[1,"ag-theme-balham","h-100","w-100",3,"gridReady"]],template:function(f,S){1&f&&(D.TgZ(0,"ag-grid-angular",0),D.NdJ("gridReady",function(E){return S.onGridReady(E)}),D.qZA())},dependencies:[u.N8],changeDetection:0}),m})();class c extends kr.hl{}(0,r.gn)([(0,kr.$M)({description:"rowData",example:"$.rowData"})],c.prototype,"rowData",void 0),(0,r.gn)([(0,kr.$M)({description:"columnsDef",example:"$.columnsDef"})],c.prototype,"columnsDef",void 0),(0,r.gn)([(0,kr.$M)({description:"gridOptions",example:"$.gridOptions"})],c.prototype,"gridOptions",void 0);const g=[{name:"ag-grid",packageName:"ag",label:"DataGrid",category:"Data",description:"Data table component",itemProperties:c,component:p,example:[{title:"Grid example",uiModel:'\n  <div class="h-100">\n    <ag-grid class="h-100"></ag-grid>\n  </div>\n  ',dataModel:{tableData:[{position:1,name:"Hydrogen",weight:1.0079,symbol:"H"},{position:2,name:"Helium",weight:4.0026,symbol:"He"},{position:3,name:"Lithium",weight:6.941,symbol:"Li"},{position:4,name:"Beryllium",weight:9.0122,symbol:"Be"},{position:5,name:"Boron",weight:10.811,symbol:"B"},{position:6,name:"Carbon",weight:12.0107,symbol:"C"},{position:7,name:"Nitrogen",weight:14.0067,symbol:"N"},{position:8,name:"Oxygen",weight:15.9994,symbol:"O"},{position:9,name:"Fluorine",weight:18.9984,symbol:"F"},{position:10,name:"Neon",weight:20.1797,symbol:"Ne"}]}}],children:!1},i];function h(){g.forEach(v=>kr.pX.registerComponent(v))}},57185:(Ol,ns,vr)=>{"use strict";vr.d(ns,{lX:()=>Fe,QR:()=>ce});var kr=vr(96711),ee=vr(15861),D=vr(97582),e=vr(65879),A=vr(59773),k=vr(32181),l=vr(63019),T=vr(16321),b=vr(85609);function d(ve,Ce){1&ve&&(e.TgZ(0,"div",3)(1,"div",4)(2,"span",5),e._uU(3,"Loading..."),e.qZA()()())}let a=(()=>{var ve;class Ce extends kr.A5{constructor(Oe,je){super(je),this.appStateService=Oe,this.renderService=je,this.error=new e.vpe,this.subs=[]}ngOnInit(){var Oe=()=>super.setHostStyles,je=this;return(0,ee.Z)(function*(){Oe().call(je),je.appStateService.page$.pipe((0,A.R)(je.destroy$),(0,k.h)(qe=>null!==qe)).subscribe(qe=>je.renderContent(qe.templateXml)),je.dataModel=je.appStateService.pageContext?.pageDataContext})()}renderContent(Oe){this.containerRef?.clear(),this.dataModel=this.appStateService.pageContext?.pageDataContext,this.uiModel.children=[kr.pX.parseXMLModel(Oe)],this.children=(0,kr.XD)(this),this.subs.forEach(je=>je.unsubscribe()),this.subs=[(0,l.T)(...this.children.map(je=>je.eventHandlers.pipe((0,A.R)(this.destroy$)))).subscribe(je=>this.appStateService.ngxPageEventHandlers(je))],T.z.schedule(()=>this.appStateService.onNgxPageRendered(this.uiModel))}}return(ve=Ce).\u0275fac=function(Oe){return new(Oe||ve)(e.Y36(b.Z),e.Y36(kr.yD))},ve.\u0275cmp=e.Xpm({type:ve,selectors:[["app-dcml-page"]],outputs:{error:"error"},features:[e.qOj],decls:5,vars:0,consts:[[1,"d-flex","position-relative","h-100","w-100"],["vc",""],["spinner",""],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(Oe,je){1&Oe&&(e.TgZ(0,"div",0),e.GkF(1,null,1),e.qZA(),e.YNc(3,d,4,0,"ng-template",null,2,e.W1O))},styles:["[_nghost-%COMP%]{height:100%;width:100%}"]}),Ce})();class t extends kr.vH{}(0,D.gn)([(0,kr.$M)({description:"Default Page which will be rendered when no page specified.",example:"page-1"})],t.prototype,"defaultPage",void 0);const i={name:"page-placeholder",packageName:"runner",label:"Page container",category:"Containers",description:"Page component",itemProperties:t,component:a,children:!1};var r=vr(61862),n=vr(21473),o=vr(75187),s=vr(96814);let u=(()=>{var ve;class Ce extends kr.A5{constructor(){super(...arguments),this.appStateService=(0,e.f3M)(b.Z)}ngOnInit(){var Oe=()=>super.ngOnInit,je=this;return(0,ee.Z)(function*(){yield Oe().call(je);const{appOwner:qe,appName:Je}=je.appStateService.appInfo;if(!qe||!Je)throw new Error("AppInfo is not initialized yet");if(!je.properties?.to)throw new Error('"to" property has to be initialized');je.appLinkPath=`/app/${qe}/${Je}/${(0,r.trim)(je.properties.to,"/")}`,je.queryParams=(0,n.O5)(je.properties.params)})()}}return(ve=Ce).\u0275fac=function(){let Re;return function(je){return(Re||(Re=e.n5z(ve)))(je||ve)}}(),ve.\u0275cmp=e.Xpm({type:ve,selectors:[["app-link"]],features:[e.qOj],decls:2,vars:5,consts:[[3,"ngStyle","routerLink","queryParams"]],template:function(Oe,je){1&Oe&&(e.TgZ(0,"a",0),e._uU(1),e.qZA()),2&Oe&&(e.Q6J("ngStyle",je.itemStyles)("routerLink",je.appLinkPath)("queryParams",je.queryParams),e.uIk("target",je.properties.target||null),e.xp6(1),e.Oqu(je.properties.label))},dependencies:[o.rH,s.PC],encapsulation:2}),Ce})();class p extends kr.vH{}(0,D.gn)([(0,kr.$M)({description:"Link label",example:"Click me!"})],p.prototype,"label",void 0),(0,D.gn)([(0,kr.$M)({description:"The target attribute specifies where to open the linked document.",example:"_blank"})],p.prototype,"target",void 0),(0,D.gn)([(0,kr.$M)({description:"Router link to the page.",example:"page.dcml"})],p.prototype,"to",void 0),(0,D.gn)([(0,kr.$M)({description:"Params for the router link.",example:"p1=123;p2=456"})],p.prototype,"params",void 0);const g={name:"link",label:"Link",packageName:"core",category:"Basic",description:"Link component",itemProperties:p,component:u,example:[{title:"Basic link example",uiModel:'\n  <div class="row align-items-center">\n    <link class="btn btn-primary mr-2" href="https://falconsoft.github.io/ngx-dynamic-components/components/core/button">Button</link>\n    <link target="_blank" disabled="true" href="https://www.google.com/">Google</link>\n  </div>\n  ',dataModel:{}},{title:"Page link example",uiModel:'\n  <div class="row align-items-center">\n    <link to="/components/core/a" class="btn btn-primary mb-2">Page Link</link>\n    <link to="/components/core/a" params="p1=123;p2=456" class="btn btn-secondary">Page Link with params</link>\n  </div>\n  ',dataModel:{}}],parseUIModel:ve=>({type:"link",itemProperties:{label:ve.content}}),defaultModel:'<link target="_blank" href="https://www.google.com/">Google</link>'};var h=vr(69569);let y=(()=>{var ve;class Ce extends kr.A5{constructor(){super(...arguments),this.loadedModel="",this.notificationService=(0,e.f3M)(h.g),this.appStateService=(0,e.f3M)(b.Z)}ngOnInit(){var Oe=this;return(0,ee.Z)(function*(){const je=yield Oe.getComponentContent();if(je){const{templateXml:qe}=je;Oe.createContext(je),Oe.dataModel=Oe.componentContext?.pageDataContext,Oe.renderContent(qe),T.z.schedule(()=>Oe.onNgxRendered(Oe.uiModel)),Oe.eventHandlers.pipe((0,A.R)(Oe.destroy$)).subscribe(Je=>Oe.componentEventHandlers(Je))}})()}get dataContext(){return this.properties.dataContext??"$"}isRootContext(){return"$"===this.dataContext}createContext(Oe){this.componentContext=this.appStateService.createComponentContext(Oe),this.componentContext?.pageDataContext.uiValueChanged$.pipe((0,A.R)(this.destroy$)).subscribe(()=>{const je=this.getDataModelFromContext(this.componentContext?.pageDataContext),qe={};(0,kr.sO)(qe,this.properties.dataContext??"$",je);const[it,Qe]=Object.entries(qe)[0];this.appStateService.pageContext?.pageDataContext.setUIValue(it,Qe)}),this.appStateService.pageContext?.pageDataContext.uiValueChanged$.pipe((0,A.R)(this.destroy$)).subscribe(je=>{if(this.isRootContext()){const qe=je.reduce((Je,{propertyName:it,propertyValue:Qe})=>(Je[it]=Qe,Je),{});this.updateContext(qe)}else if(this.isComponentDataModelProperty(je)){const qe=(0,kr.TS)(this.appStateService.pageContext?.pageDataContext,this.dataContext);this.updateContext(qe)}})}updateContext(Oe){Object.entries(Oe).forEach(([je,qe])=>{this.componentContext?.pageDataContext[je]!==qe&&this.componentContext?.pageDataContext.setUIValue(je,qe)})}isComponentDataModelProperty(Oe){return this.isRootContext()||Oe.some(({propertyName:je})=>this.dataContext.startsWith(`$.${je}`))}getDataModelFromContext(Oe){const je={...Oe};return delete je.uiValueChanged$,delete je.setUIValue,delete je._uiValueChanged$,je}renderContent(Oe){this.uiModel.children=[kr.pX.parseXMLModel(Oe)],this.children=(0,kr.XD)(this),(0,l.T)(...this.children.map(je=>je.eventHandlers.pipe((0,A.R)(this.destroy$)))).subscribe(je=>this.componentEventHandlers(je))}getComponentContent(){var Oe=this;return(0,ee.Z)(function*(){try{if(!Oe.properties?.path)throw Error("No path to component");return yield Oe.appStateService.getPage(Oe.properties.path)}catch(je){Oe.notificationService.error(Oe.getComponentErrorMessage(je))}})()}getComponentErrorMessage(Oe){return`load-component '${this.properties.path}'. Error: ${(0,n.e$)(Oe)}.`}componentEventHandlers(Oe){this.componentContext?.executePageEventHandler(Oe,{app:this.appStateService.appRuntime})}onNgxRendered(Oe){this.componentContext?.executePageInit(Oe,{app:this.appStateService.appRuntime})}}return(ve=Ce).\u0275fac=function(){let Re;return function(je){return(Re||(Re=e.n5z(ve)))(je||ve)}}(),ve.\u0275cmp=e.Xpm({type:ve,selectors:[["app-load-component"]],features:[e.qOj],decls:2,vars:0,consts:[["vc",""]],template:function(Oe,je){1&Oe&&e.GkF(0,null,0)},encapsulation:2}),Ce})();class v extends kr.vH{}(0,D.gn)([(0,kr.$M)({description:"Path to component.",example:"path/test.component.xml"})],v.prototype,"path",void 0),(0,D.gn)([(0,kr.$M)({description:"Datamodel binding",example:"$.prop"})],v.prototype,"dataContext",void 0);const _={name:"load-component",label:"Load component",packageName:"runner",category:"Custom Controls",description:"Loads component",itemProperties:v,component:y,example:{title:"Dynamic component example",uiModel:'<load-component path="user/user.component.xml" dataContext="$.user"></load-component>',dataModel:{user:{name:"Paul Jackson Pollock",born:"January 28, 1912",died:"August 11, 1956 (aged 44)",education:"Art Students League of New York"}}}};var w=vr(72500),E=vr(64007);const L=["submenu"];function C(ve,Ce){if(1&ve){const Re=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(Re);const je=e.oxw().$implicit,qe=e.oxw(2);return e.KtG(qe.onItemClick(je))}),e._uU(1),e.qZA()}if(2&ve){const Re=e.oxw().$implicit;e.Q6J("routerLink",Re.appLink)("queryParams",Re.queryParamsObject),e.xp6(1),e.Oqu(Re.label)}}function O(ve,Ce){1&ve&&e.GkF(0)}const R=function(){return[]},q=function(ve,Ce){return{items:ve,parents:Ce}};function P(ve,Ce){if(1&ve&&(e.TgZ(0,"div",19),e.YNc(1,O,1,0,"ng-container",20),e.qZA()),2&ve){const Re=e.oxw(2).$implicit;e.oxw();const Oe=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",Oe)("ngTemplateOutletContext",e.WLB(3,q,Re.children,e.DdM(2,R)))}}function U(ve,Ce){if(1&ve&&(e.ynx(0),e.TgZ(1,"a",16),e._uU(2),e._UZ(3,"i",17),e.qZA(),e.YNc(4,P,2,6,"div",18),e.BQk()),2&ve){const Re=e.oxw().$implicit;e.xp6(2),e.hij(" ",Re.label," ")}}function N(ve,Ce){if(1&ve&&(e.TgZ(0,"li",12),e.YNc(1,C,2,3,"a",13),e.YNc(2,U,5,1,"ng-container",14),e.qZA()),2&ve){const Re=Ce.$implicit;e.xp6(1),e.Q6J("ngIf",!Re.children),e.xp6(1),e.Q6J("ngIf",Re.children)}}function F(ve,Ce){if(1&ve){const Re=e.EpF();e.TgZ(0,"a",25),e.NdJ("click",function(){e.CHM(Re);const je=e.oxw().$implicit,qe=e.oxw(3);return e.KtG(qe.onItemClick(je))}),e._uU(1),e.qZA()}if(2&ve){const Re=e.oxw().$implicit;e.Q6J("routerLink",Re.appLink)("queryParams",Re.queryParams),e.xp6(1),e.Oqu(Re.label)}}function j(ve,Ce){1&ve&&e.GkF(0)}function G(ve,Ce){if(1&ve&&(e.TgZ(0,"div",28),e.YNc(1,j,1,0,"ng-container",20),e.qZA()),2&ve){const Re=e.oxw(2).$implicit,Oe=e.MAs(1),je=e.oxw().parents;e.oxw();const qe=e.MAs(3),Je=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",qe)("ngTemplateOutletContext",e.WLB(2,q,Re.children,Je.getParentsList(je,Oe)))}}function te(ve,Ce){if(1&ve&&(e.ynx(0),e.TgZ(1,"a",26),e._uU(2),e.qZA(),e.YNc(3,G,2,5,"div",27),e.BQk()),2&ve){const Re=e.oxw().$implicit;e.xp6(2),e.hij(" ",Re.label," ")}}function J(ve,Ce){if(1&ve&&(e.TgZ(0,"li",22,23),e.YNc(2,F,2,3,"a",24),e.YNc(3,te,4,1,"ng-container",14),e.qZA()),2&ve){const Re=Ce.$implicit;e.xp6(2),e.Q6J("ngIf",!Re.children),e.xp6(1),e.Q6J("ngIf",Re.children)}}function X(ve,Ce){1&ve&&e.YNc(0,J,4,2,"li",21),2&ve&&e.Q6J("ngForOf",Ce.items)}function Y(ve,Ce){if(1&ve&&(e.TgZ(0,"ul",9),e.YNc(1,N,3,2,"li",10),e.YNc(2,X,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&ve){const Re=Ce.ngIf;e.xp6(1),e.Q6J("ngForOf",Re)}}let W=(()=>{var ve;class Ce extends kr.A5{constructor(){super(...arguments),this.display="block",this.appStateService=(0,e.f3M)(b.Z)}ngOnInit(){var Oe=()=>super.ngOnInit,je=this;return(0,ee.Z)(function*(){const qe=je.appStateService.appRuntime?.info;qe&&(je.title=qe.title,je.appHomePage=`/app/${qe.appOwner}/${qe.appName}`),je.appMenuItems=je.properties?.menuItems?.map(Je=>Je.appLink?{...Je,appLink:`${je.appHomePage}/${(0,r.trim)(Je.appLink)}`,queryParamsObject:(0,n.O5)(Je.queryParams)}:Je),Oe().call(je)})()}onItemClick(Oe){Oe.click&&!Oe.appLink&&this.emitEvent(Oe.click,Oe)}getParentsList(Oe,je){return[...Oe,je]}onShowSubMenu(Oe,je){this.dropdowns?.forEach(qe=>{qe.isOpen&&qe!==Oe&&!je.includes(qe)&&qe.hide()})}}return(ve=Ce).\u0275fac=function(){let Re;return function(je){return(Re||(Re=e.n5z(ve)))(je||ve)}}(),ve.\u0275cmp=e.Xpm({type:ve,selectors:[["app-header"]],viewQuery:function(Oe,je){if(1&Oe&&e.Gf(L,5),2&Oe){let qe;e.iGM(qe=e.CRH())&&(je.dropdowns=qe)}},hostVars:2,hostBindings:function(Oe,je){2&Oe&&e.Udp("display",je.display)},features:[e.qOj],decls:10,vars:3,consts:[[1,"d-flex","flex-row","align-items-center","c-header"],[1,"col","px-0"],[1,"row","align-items-center","mx-0"],["routerLink","/",1,"c-header-brand","pl-1","pr-0"],["src","assets/img/ca-logo-80x80.png","width","45","height","45",1,"d-none","d-md-block","mr-2"],["src","assets/img/ca-logo-80x80.png","width","30","height","30",1,"d-md-none","c-header-brand-sm-up-center"],[1,"m-0","h2","top-sub-header","w-md-down-50",3,"routerLink"],["class","c-header-nav d-md-down-none",4,"ngIf"],[1,"d-flex","ml-auto"],[1,"c-header-nav","d-md-down-none"],["class","c-header-nav-item dropdown px-1","dropdown","","placement","bottom left","container","body",4,"ngFor","ngForOf"],["list",""],["dropdown","","placement","bottom left","container","body",1,"c-header-nav-item","dropdown","px-1"],["class","c-header-nav-link cursor-pointer",3,"routerLink","queryParams","click",4,"ngIf"],[4,"ngIf"],[1,"c-header-nav-link","cursor-pointer",3,"routerLink","queryParams","click"],["role","button","aria-haspopup","true","aria-expanded","false","dropdownToggle","",1,"c-header-nav-link","cursor-pointer"],[1,"fa","fa-caret-down","ml-1"],["class","dropdown-menu",4,"dropdownMenu"],[1,"dropdown-menu"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","c-header-nav-item dropdown","dropdown","","triggers","mouseover","placement","right","container","body",4,"ngFor","ngForOf"],["dropdown","","triggers","mouseover","placement","right","container","body",1,"c-header-nav-item","dropdown"],["submenu","bs-dropdown"],["class","dropdown-item cursor-pointer",3,"routerLink","queryParams","click",4,"ngIf"],[1,"dropdown-item","cursor-pointer",3,"routerLink","queryParams","click"],["role","button","aria-haspopup","true","aria-expanded","false","dropdownToggle","",1,"dropdown-item","cursor-pointer","d-caret"],["class","dropdown-menu dropdown-sub-menu-right",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-sub-menu-right"]],template:function(Oe,je){1&Oe&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e._UZ(4,"img",4)(5,"img",5),e.qZA(),e.TgZ(6,"a",6),e._uU(7),e.qZA()()(),e.YNc(8,Y,4,1,"ul",7),e._UZ(9,"app-nav",8),e.qZA()),2&Oe&&(e.xp6(6),e.s9C("routerLink",je.appHomePage),e.xp6(1),e.hij(" ",je.title," "),e.xp6(1),e.Q6J("ngIf",je.appMenuItems))},dependencies:[o.rH,w.Hz,w.Mq,w.TO,s.sg,s.O5,s.tP,E.r],styles:["[_nghost-%COMP%]{background:var(--bg);border-color:var(--border-color)}.top-sub-header[_ngcontent-%COMP%]{color:var(--color);font-family:Calibri;font-size:19px;font-weight:600;text-decoration:none}"],changeDetection:0}),Ce})();const ne={name:"app-header",packageName:"app",label:"Header",category:"Custom Controls",description:"Header component",itemProperties:class $ extends kr.hl{},component:W,parseUIModel(ve){const Ce={};return ve.childNodes&&(ve.childNodes.forEach(Re=>{const Oe=(0,kr.Y_)(Re);"menu-items"===Oe.type&&(Ce.menuItems=Oe.childNodes?.map(kr.Y_)?.filter(je=>"menu"===je.type)?.map(je=>{const qe={icon:je.attrs.icon,label:je.attrs.label,click:je.attrs.click,appLink:je.attrs.appLink,queryParams:je.attrs.queryParams};return je.childNodes&&(qe.children=je.childNodes.map(Je=>(0,kr.Y_)(Je).attrs)),qe})||[])}),ve.childNodes=null),{type:"app-header",itemProperties:Ce}},example:[{title:"Header example",uiModel:"\n  <app-header>\n    <menu-items>\n      <menu label='link 1' icon='fa fa-icon' click='onLink1()'/>\n      <menu label='link 2' icon='fa fa-icon' click='onLink2()'/>\n    </menu-items>\n  </app-header>\n  ",dataModel:null}],children:!1};var ue=vr(91412);function xe(ve,Ce){if(1&ve&&(e.TgZ(0,"li")(1,"a",4),e._uU(2),e.qZA()()),2&ve){const Re=Ce.$implicit,Oe=e.oxw();e.xp6(1),e.Q6J("routerLink",Oe.getRouterLink(Re))("queryParams",Oe.getQueryParams(Re)),e.xp6(1),e.Oqu(Oe.getFileName(Re))}}let Me=(()=>{var ve;class Ce extends kr.A5{constructor(){super(...arguments),this.display="block",this.appStateService=(0,e.f3M)(b.Z),this.appFilesService=(0,e.f3M)(ue.d),this.appObject=null,this.fileLinks=[]}ngOnInit(){var Oe=()=>super.ngOnInit,je=this;return(0,ee.Z)(function*(){je.appObject=je.appStateService.appRuntime;const qe=je.appObject?.info;qe&&(je.title=`${qe.appOwner}.${qe.appName}`,je.fileLinks=(yield je.appFilesService.getAppFiles(qe.appOwner,qe.appName)).map(n.x2),yield Oe().call(je))})()}getFileName(Oe){return(0,n.nV)(Oe)}getQueryParams(Oe){return{file:(0,n.nV)(Oe)}}getRouterLink(Oe){if(!this.appStateService.appRuntime)throw new Error("App is not initialized yet");const{appOwner:je,appName:qe}=this.appStateService.appRuntime?.info;return`/data-studio/app/${je}/${qe}`}}return(ve=Ce).\u0275fac=function(){let Re;return function(je){return(Re||(Re=e.n5z(ve)))(je||ve)}}(),ve.\u0275cmp=e.Xpm({type:ve,selectors:[["app-welcome"]],hostVars:2,hostBindings:function(Oe,je){2&Oe&&e.Udp("display",je.display)},features:[e.qOj],decls:9,vars:2,consts:[[1,"container","d-flex","flex-column","mt-4"],[1,"d-flex","align-items-bottom","justify-content-center"],[1,"d-flex","flex-column","mt-4","align-items-start"],[4,"ngFor","ngForOf"],[1,"cursor-pointer",3,"routerLink","queryParams"]],template:function(Oe,je){1&Oe&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3),e.qZA()(),e.TgZ(4,"div",2)(5,"h3"),e._uU(6,"Files"),e.qZA(),e.TgZ(7,"ul"),e.YNc(8,xe,3,3,"li",3),e.qZA()()()),2&Oe&&(e.xp6(3),e.hij("Welcome to ",je.title," app"),e.xp6(5),e.Q6J("ngForOf",je.fileLinks))},dependencies:[o.rH,s.sg],styles:['[_ngcontent-%COMP%]:root{--bg: #fff;--body-bg: #e4e5e6;--header-bg: #ebedef;--color: #4f5d73;--border-color: #c4c9d0;--ws-alt: #f7f7f7;--form-input-bg: #fff;--form-input-color: #768192;--nav-link-color: #8a93a2;--secondary-color: #c4c9d0;--opacity: .05;--hover: "#f0f3f5";--ag-edited-cell-bg: "rgba(255, 218, 218, 0.6)";--ag-added-cell-bg: "rgba(226, 255, 226, 0.5)"}[_nghost-%COMP%]{background:var(--bg);border-color:var(--border-color);border-radius:2px;text-align:center;display:flex}ul[_ngcontent-%COMP%]{padding-inline-start:.8em}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-align:left;color:#20a8d8}']}),Ce})();const pe={name:"welcome",packageName:"app",label:"Welcome",category:"Custom Controls",description:"Welcome component",itemProperties:class me extends kr.hl{},component:Me,example:[{title:"Welcome example",uiModel:"\n  <app-welcome/>\n  ",dataModel:null}],children:!1};var ge=vr(20553);let Pe=(()=>{var ve;class Ce extends kr.A5{constructor(){super(...arguments),this.display="block",this.version=ge.N.version}}return(ve=Ce).\u0275fac=function(){let Re;return function(je){return(Re||(Re=e.n5z(ve)))(je||ve)}}(),ve.\u0275cmp=e.Xpm({type:ve,selectors:[["app-footer"]],hostVars:2,hostBindings:function(Oe,je){2&Oe&&e.Udp("display",je.display)},features:[e.qOj],decls:10,vars:1,consts:[[1,"d-flex","px-2","position-relative","flex-column"],[1,"mx-auto"],[1,"terms-privacy","mx-auto","px-2"],["href","https://worksheet.systems/terms-of-service/","target","blank",1,"ml-auto"],["href","https://worksheet.systems/privacy-policy/","target","blank",1,"mx-2"]],template:function(Oe,je){1&Oe&&(e.TgZ(0,"footer",0)(1,"div",1),e._uU(2,"Copyright \xa9 FalconSoft Ltd"),e.qZA(),e.TgZ(3,"div",2)(4,"a",3),e._uU(5,"Terms & Conditions"),e.qZA(),e.TgZ(6,"a",4),e._uU(7,"Privacy"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()()),2&Oe&&(e.xp6(9),e.hij("v",je.version,""))},styles:["footer[_ngcontent-%COMP%]{background:var(--bg);border-top:1px solid var(--border-color);color:var(--color);flex:0 0 25px}.terms-privacy[_ngcontent-%COMP%]{position:absolute;right:0}@media (max-width: 767.98px){.terms-privacy[_ngcontent-%COMP%]{position:initial}}"],changeDetection:0}),Ce})();const we={name:"app-footer",packageName:"app",label:"Footer",category:"Custom Controls",description:"Footer component",itemProperties:class _e extends kr.hl{},component:Pe,example:{title:"Footer",uiModel:"<app-footer>",dataModel:null},children:!1};var se=vr(48335);let ke=(()=>{var ve;class Ce extends kr.A5{constructor(){super(...arguments),this.container=(0,e.f3M)(e.s_b),this.data=[]}ngOnInit(){var Oe=()=>super.ngOnInit,je=this;return(0,ee.Z)(function*(){je.initDataModelHandlers(),yield Oe().call(je),je.initChart(),je.renderChart()})()}initDataModelHandlers(){this.addDataPropertyHandler(this.properties.layout,Oe=>this.layout=Oe),this.addDataPropertyHandler(this.properties.data,Oe=>this.data=Oe)}afterComponentDataModelChanged(){this.renderChart()}initChart(){this.layout=this.properties.layout?(0,kr.TS)(this.dataModel,this.properties.layout):void 0,this.data=this.properties.data?(0,kr.TS)(this.dataModel,this.properties.data,[]):void 0}renderChart(){(0,se.newPlot)(this.container.element.nativeElement,this.data,this.layout)}}return(ve=Ce).\u0275fac=function(){let Re;return function(je){return(Re||(Re=e.n5z(ve)))(je||ve)}}(),ve.\u0275cmp=e.Xpm({type:ve,selectors:[["app-plotly-chart"]],features:[e.qOj],decls:0,vars:0,template:function(Oe,je){},encapsulation:2,changeDetection:0}),Ce})();const Fe=[i,g,_,ne,pe,we,{name:"plotly-chart",label:"Plotly chart",packageName:"plotly",category:"Data",description:"Plotly chart component",itemProperties:class be extends kr.hl{},component:ke,example:[{title:"Plotly example",uiModel:'\n  <div class="h-100">\n    <plotly-chart layout="$.layout" data="$.data" class="h-100"></plotly-chart>\n  </div>\n  ',dataModel:{layout:{title:"Line Dash",xaxis:{range:[.75,5.25],autorange:!1},yaxis:{range:[0,18.5],autorange:!1},legend:{y:.5,traceorder:"reversed",font:{size:16}}},data:[{x:[1,2,3,4,5],y:[1,3,2,3,1],mode:"lines",name:"Solid",line:{dash:"solid",width:4}},{x:[1,2,3,4,5],y:[6,8,7,8,6],mode:"lines",name:"dashdot",line:{dash:"dashdot",width:4}},{x:[1,2,3,4,5],y:[11,13,12,13,11],mode:"lines",name:"Solid",line:{dash:"solid",width:4}},{x:[1,2,3,4,5],y:[16,18,17,18,16],mode:"lines",name:"dot",line:{dash:"dot",width:4}}]}}],defaultModel:'<plotly-chart layout="$.layout" data="$.data"></plotly-chart>'}];function ce(){Fe.forEach(ve=>kr.pX.registerComponent(ve))}},85609:(Ol,ns,vr)=>{"use strict";vr.d(ns,{Z:()=>R});var kr=vr(15861),ee=vr(52929),D=vr(65619),e=vr(32013),A=vr(24036),k=vr(32181),l=vr(96711),T=vr(65879),b=vr(61862),d=vr(75187);let a=(()=>{var P;class U{constructor(){this.appStateService=(0,T.f3M)(R)}refresh(F){return!1}agInit(F){if(this.params=F,this.label=this.params?.value,this.params?.appLink&&this.appStateService?.appInfo){const{appOwner:j,appName:G}=this.appStateService?.appInfo;this.routerLink=`/app/${j}/${G}/${(0,b.trim)(this.params.appLink,"/")}`}"function"==typeof F?.queryParamsFunc&&(this.queryParams=F?.queryParamsFunc(this.params?.data))}}return(P=U).\u0275fac=function(F){return new(F||P)},P.\u0275cmp=T.Xpm({type:P,selectors:[["app-link-cell-renderer"]],decls:2,vars:3,consts:[[1,"cursor-pointer",3,"routerLink","queryParams"]],template:function(F,j){1&F&&(T.TgZ(0,"a",0),T._uU(1),T.qZA()),2&F&&(T.Q6J("routerLink",j.routerLink)("queryParams",j.queryParams),T.xp6(1),T.Oqu(j.label))},dependencies:[d.rH],encapsulation:2}),U})();var t=vr(58051);class i{constructor(U,N,F){this.moduleName=F,this.pageDataContext=new l.Ae,this.interpreter=this.createInterpreter(N),this.astBlock=this.interpreter.parse(U,this.moduleName),this.importJspyContext=this.interpreter.assignImportContext(this.astBlock,{})}executePageInit(U,N={}){const[F,j]=["onInit"],G={uiModel:U,argsKey:j,argsValue:(0,l.IF)(F)};return j&&(G[j]=G.argsValue),this.executePageEventHandler({eventName:F,eventHandler:F,rootUIModel:U,parameters:G},N,!0)}helperFuncs(){return{createAgColumnAsLink:(U,N,F)=>({...U,cellRenderer:a,cellRendererParams:{appLink:N,queryParamsFunc:F}})}}executePageEventHandler(U,N={},F){var j=this;return(0,kr.Z)(function*(){const{rootUIModel:G=null,parameters:te,eventHandler:J}=U,X=j.astBlock.funcs.find(W=>W.funcAst.name===J);if(!X)return void(F||console.error(`Function '${J}' not found in '${j.astBlock.name}'`));const Y={rootUIModel:G,dataContext:j.pageDataContext,setUIValue:(W,$)=>j.pageDataContext.setUIValue(W,$),...j.interpreter.initialExecutionContext,__env:{args:{},entryModule:"scriptPath",entryFunction:J||"",runsAt:"app"},...te,...j.importJspyContext,...N,...j.helperFuncs()};X?.isAsync?yield j.interpreter.evalAsync(j.astBlock,Y,[J,te?.argsValue],j.moduleName):j.interpreter.eval(j.astBlock,Y,[J,te?.argsValue],j.moduleName)})()}createInterpreter(U){const N=(0,t.Pi)(U),F=N.evalAsync,j=N.eval;return N.evalAsync=(...G)=>(this.registerGetComponentWithRootModel(G),F.apply(N,G)),N.eval=(...G)=>(this.registerGetComponentWithRootModel(G),j.apply(N,G)),N}registerGetComponentWithRootModel(U){U?.length>1&&(U[1]={...U[1],getComponentById:N=>{if(U[1].rootUIModel)return(0,l.r6)(U[1].rootUIModel,N);throw new Error("rootUIModel not available")}})}}var r=vr(85926),n=vr(18916),o=vr(42793),s=vr(21473),u=vr(99796),p=vr(33374),c=vr(69569),x=vr(96814);function g(P,U){if(1&P){const N=T.EpF();T.TgZ(0,"ngx-dynamic-component",8),T.NdJ("render",function(j){T.CHM(N);const G=T.oxw();return T.KtG(G.onRendered(j))})("eventHandlers",function(j){T.CHM(N);const G=T.oxw();return T.KtG(G.eventHandlers(j))}),T.qZA()}if(2&P){const N=T.oxw();T.Q6J("xmlUIModel",N.uiModel)("dataModel",N.dataModel)}}function h(P,U){1&P&&(T.TgZ(0,"div",9)(1,"div",10)(2,"span",11),T._uU(3,"Loading..."),T.qZA()()())}let y=(()=>{var P;class U{get dataModel(){return this.appStateService.dialogContext?.pageDataContext}constructor(F,j,G){this.dialogRef=F,this.appStateService=j,this.notificationService=G,this.title="",this.loaded=!0,this.uiModel="",this.destroy$=new e.x}ngOnInit(){var F=this;return(0,kr.Z)(function*(){if(!F.appStateService.appRuntime)throw new Error("App Runtime is not initialized yet");if(!F.dlgSettings)throw new Error("dlgSettings is not initialized yet");const j=F.dlgSettings.pageName;try{F.loaded=!1,F.uiModel=yield F.appStateService.loadDialog(j)}catch(G){console.error(G);const te=`'${j}':${(0,u.e$)(G)}`;F.notificationService.error(te)}finally{F.loaded=!0}})()}onRendered(F){this.appStateService.onNgxDialogRendered(F,{dialogRef:this.dialogRef,dialogParams:this.dlgSettings?.params})}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete(),this.appStateService.clearDialog()}eventHandlers(F){this.appStateService.ngxDialogEventHandlers(F,{dialogParams:this.dlgSettings?.params,dialogRef:this.dialogRef})}onClose(){this.dialogRef.close()}}return(P=U).\u0275fac=function(F){return new(F||P)(T.Y36(p.z),T.Y36(R),T.Y36(c.g))},P.\u0275cmp=T.Xpm({type:P,selectors:[["app-dynamic-modal"]],inputs:{dlgSettings:"dlgSettings"},decls:11,vars:3,consts:[[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","overflow-auto"],[3,"xmlUIModel","dataModel","render","eventHandlers",4,"ngIf","ngIfElse"],["spinner",""],[3,"xmlUIModel","dataModel","render","eventHandlers"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(F,j){if(1&F&&(T.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),T._uU(3),T.qZA(),T.TgZ(4,"button",3),T.NdJ("click",function(){return j.onClose()}),T.TgZ(5,"span",4),T._uU(6,"\xd7"),T.qZA()()(),T.TgZ(7,"div",5),T.YNc(8,g,1,2,"ngx-dynamic-component",6),T.qZA(),T.YNc(9,h,4,0,"ng-template",null,7,T.W1O),T.qZA()),2&F){const G=T.MAs(10);T.xp6(3),T.Oqu(j.title),T.xp6(5),T.Q6J("ngIf",j.loaded)("ngIfElse",G)}},dependencies:[x.O5,l.MY],styles:[".spinner[_ngcontent-%COMP%]{left:0}.modal-content[_ngcontent-%COMP%]{max-height:90vh}"]}),U})();var v=new WeakMap,m=new WeakMap,_=new WeakMap,f=new WeakMap,S=new WeakMap;class w{constructor(U,N,F,j,G,te){(0,r.Z)(this,v,{writable:!0,value:void 0}),(0,r.Z)(this,m,{writable:!0,value:void 0}),(0,r.Z)(this,_,{writable:!0,value:void 0}),(0,r.Z)(this,f,{writable:!0,value:void 0}),(0,r.Z)(this,S,{writable:!0,value:void 0}),this.currentUser=null,this.navigateTo=this.showPage,(0,o.Z)(this,v,N),(0,o.Z)(this,m,F),(0,o.Z)(this,_,j),(0,o.Z)(this,f,G),(0,o.Z)(this,S,te),this.info={appName:U.appName,appOwner:U.appOwner,description:U.description,logo:U.logo,title:U.title,accessLevel:U.accessLevel,codeAccessLevel:U.codeAccessLevel,publicAccess:U.publicAccess,publicCodeAccess:U.publicCodeAccess},te.isAuthenticated$.subscribe(J=>{this.currentUser=te.user?{userName:te.user.userName,firstName:te.user.firstName,lastName:te.user.lastName,email:te.user.email,avatar:te.user.avatar}:null})}showPage(U,N={}){if(!this.info)throw new Error("App is not loaded");const{appOwner:F,appName:j}=this.info;"string"==typeof N&&(N=(0,s.vl)(void 0,N)),(0,n.Z)(this,v).navigate(["app",F,j,U],{queryParams:N})}showDialog(U,N={},F){if(!this.info)throw new Error("App is not loaded");return"string"==typeof N&&(N=(0,s.vl)(void 0,N)),(0,n.Z)(this,_).open(y,{class:F||"modal-md",initialState:{dlgSettings:{pageName:U,params:N}}})}showErrorToast(U){(0,n.Z)(this,m).error(U)}getQueryParams(){return(0,s.vl)()}showNotificationToast(U){(0,n.Z)(this,m).success(U)}toggleTheme(U){(0,n.Z)(this,f).toggleMode(U)}showLoginDialog(){(0,n.Z)(this,S).showLoginDialog()}}var E=vr(91412),L=vr(75263),C=vr(6593),O=vr(36673);let R=(()=>{var P;class U{get appRuntime(){return this._currentApp}constructor(F,j,G,te,J,X,Y,W){this.dynamicAppService=F,this.notificationService=j,this.authService=G,this.router=te,this.dialogService=J,this.themeService=X,this.title=Y,this.meta=W,this.page$=new D.X(null),this.layout$=new D.X(null),this.layoutsMap=new Map,this.pagesMap=new Map,this._currentApp=null,this.appLoading$=new D.X(!1),this.pageLoading$=new e.x}loadApp(F,j){var G=this;return(0,kr.Z)(function*(){G.appLoading$.next(!0),G.appInfo=void 0;try{G.appInfo=yield G.dynamicAppService.getAppInfo(F,j);const{accessLevel:te,publicAccess:J}=G.appInfo;if(Math.max(te||0,J)<ee.mU.Reader)throw Error("No sufficient right to run this app");G.setMetaDataTags(),G.createAppRuntime(G.appInfo)}catch(te){G.notificationService.error(te)}finally{G.appLoading$.next(!1)}})()}setMetaDataTags(){const F=`${this.appInfo?.title} | Worksheet App`,j=this.appInfo?.description||F+" description",G="https://run.worksheet.systems/"+location.pathname;this.title.setTitle(F),this.meta.setMetaTags(this.meta.getDefaultTags(G,F,j))}loadPage(F){var j=this;return(0,kr.Z)(function*(){yield(0,A.z)(j.appLoading$.pipe((0,k.h)(te=>!1===te))),j.pageLoading$.next(!0),j.pageContext=void 0;try{var G;F||(F=j.appInfo?.homePage||"");const te=yield j.getPage(F);return j.updateLayout(te.layoutDcml),j.pageContext=new i(q(te.jspyScript),function(J){return(G=G||(0,kr.Z)(function*(X){return j.getFileContent(X)})).apply(this,arguments)},te.jspyModuleName),j.page$.next(te),te.templateXml}catch(te){return j.notificationService.error(te),""}finally{j.pageLoading$.next(!1)}})()}loadDialog(F){var j=this;return(0,kr.Z)(function*(){try{var G;const te=yield j.getPage(F);return j.dialogContext=new i(q(te.jspyScript),function(J){return(G=G||(0,kr.Z)(function*(X){return j.getFileContent(X)})).apply(this,arguments)},te.jspyModuleName),te.templateXml}catch(te){return j.notificationService.error(te),""}})()}ngxLayoutEventHandlers(F){this.tryExecute(this.layoutContext?.executePageEventHandler.bind(this.layoutContext,F))}onNgxLayoutRendered(F){this.tryExecute(this.layoutContext?.executePageInit.bind(this.layoutContext,F))}ngxPageEventHandlers(F){this.tryExecute(this.pageContext?.executePageEventHandler.bind(this.pageContext,F))}onNgxPageRendered(F){this.tryExecute(this.pageContext?.executePageInit.bind(this.pageContext,F))}ngxDialogEventHandlers(F,j){this.tryExecute(this.dialogContext?.executePageEventHandler.bind(this.dialogContext,F),j)}onNgxDialogRendered(F,j){this.tryExecute(this.dialogContext?.executePageInit.bind(this.dialogContext,F),j)}clearDialog(){this.dialogContext=void 0}tryExecute(F,j={}){var G=this;return(0,kr.Z)(function*(){try{yield F?.({app:G.appRuntime,...j})}catch(te){G.notificationService.error(te)}})()}createAppRuntime(F){this._currentApp=new w(F,this.router,this.notificationService,this.dialogService,this.themeService,this.authService)}getPage(F){var j=this;return(0,kr.Z)(function*(){if(!j.appInfo)throw Error("App is not loaded");const{appOwner:G,appName:te}=j.appInfo;if(!F)throw Error("Page name is not provided");if(!j.pagesMap.has(F)){F=F?.endsWith(".dcml")?F:`${F}/index.dcml`;const X=yield j.dynamicAppService.getFileContent(G,te,F);if(!X)throw Error(`Page '${F}' not found in '${G}/${te}' app`);const Y=yield j.parseDcml(X);j.pagesMap.set(F,Y)}const J=j.pagesMap.get(F);if(!J)throw Error(`Page '${F}' not found in '${G}/${te}' app`);return J})()}createComponentContext(F){var G,j=this;return new i(q(F.jspyScript),function(te){return(G=G||(0,kr.Z)(function*(J){return j.getFileContent(J)})).apply(this,arguments)},F.jspyModuleName)}parseDcml(F){var j=this;return(0,kr.Z)(function*(){const G=(new DOMParser).parseFromString(F,"application/xml"),te=G.querySelector("dcml > script")?.attributes?.getNamedItem("src")?.value||"",J=te||"dcml > jspy",W={jspyScript:te?yield j.getFileContent(te):G.querySelector("dcml > script")?.innerHTML?.trim()||"",templateXml:G.querySelector("dcml > template")?.innerHTML?.trim()||"",jspyModuleName:J},$=G.querySelector("dcml > layout")?.attributes?.getNamedItem("src")?.value||"";return W.layoutDcml=yield j.getLayout($),W})()}getLayout(F){var j=this;return(0,kr.Z)(function*(){if(F&&!j.layoutsMap.has(F)){const G=yield j.getFileContent(F);if(!G)throw Error(`Layout(${F}) Not Found`);const te=yield j.parseDcml(G);j.layoutsMap.set(F,te)}return j.layoutsMap.get(F)??{jspyScript:"",templateXml:"<page-placeholder></page-placeholder>",jspyModuleName:"> jspy"}})()}updateLayout(F){var G,j=this;this.currentLayout?.templateXml!==F?.templateXml&&(this.layoutContext=void 0,this.layout$.next(F??null),this.currentLayout=F,F)&&(this.layoutContext=new i(q(F.jspyScript),function(te){return(G=G||(0,kr.Z)(function*(J){return j.getFileContent(J)})).apply(this,arguments)},F.jspyModuleName))}getFileContent(F){var j=this;return(0,kr.Z)(function*(){if(!j.appInfo)throw Error("App is not loaded");F.startsWith("./")&&(F=F.substring(2)),F.startsWith("/")&&(F=F.substring(1));const{appOwner:G,appName:te}=j.appInfo;return yield j.dynamicAppService.getFileContent(G,te,F)})()}}return(P=U).\u0275fac=function(F){return new(F||P)(T.LFG(E.d),T.LFG(c.g),T.LFG(L.$h),T.LFG(d.F0),T.LFG(p.x),T.LFG(L.fY),T.LFG(C.Dx),T.LFG(O.R))},P.\u0275prov=T.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),U})();function q(P){return P.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")}},48335:Ol=>{self,Ol.exports=function(){var ns={98847:function(ee,D,e){"use strict";var A=e(71828),k={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var l in k){var T=l.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");A.addStyleRule(T,k[l])}},98222:function(ee,D,e){"use strict";ee.exports=e(82887)},27206:function(ee,D,e){"use strict";ee.exports=e(60822)},59893:function(ee,D,e){"use strict";ee.exports=e(23381)},5224:function(ee,D,e){"use strict";ee.exports=e(83832)},59509:function(ee,D,e){"use strict";ee.exports=e(72201)},75557:function(ee,D,e){"use strict";ee.exports=e(91815)},40338:function(ee,D,e){"use strict";ee.exports=e(21462)},35080:function(ee,D,e){"use strict";ee.exports=e(51319)},61396:function(ee,D,e){"use strict";ee.exports=e(57516)},40549:function(ee,D,e){"use strict";ee.exports=e(98128)},49866:function(ee,D,e){"use strict";ee.exports=e(99442)},36089:function(ee,D,e){"use strict";ee.exports=e(93740)},19548:function(ee,D,e){"use strict";ee.exports=e(8729)},35831:function(ee,D,e){"use strict";ee.exports=e(93814)},61039:function(ee,D,e){"use strict";ee.exports=e(14382)},97040:function(ee,D,e){"use strict";ee.exports=e(51759)},77986:function(ee,D,e){"use strict";ee.exports=e(10421)},24296:function(ee,D,e){"use strict";ee.exports=e(43102)},58872:function(ee,D,e){"use strict";ee.exports=e(92165)},29626:function(ee,D,e){"use strict";ee.exports=e(3325)},65591:function(ee,D,e){"use strict";ee.exports=e(36071)},69738:function(ee,D,e){"use strict";ee.exports=e(43905)},92650:function(ee,D,e){"use strict";ee.exports=e(35902)},35630:function(ee,D,e){"use strict";ee.exports=e(69816)},73434:function(ee,D,e){"use strict";ee.exports=e(94507)},27909:function(ee,D,e){"use strict";var A=e(19548);A.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),ee.exports=A},46163:function(ee,D,e){"use strict";ee.exports=e(15154)},96881:function(ee,D,e){"use strict";ee.exports=e(64943)},50581:function(ee,D,e){"use strict";ee.exports=e(21164)},55334:function(ee,D,e){"use strict";ee.exports=e(54186)},65317:function(ee,D,e){"use strict";ee.exports=e(94873)},10021:function(ee,D,e){"use strict";ee.exports=e(67618)},54201:function(ee,D,e){"use strict";ee.exports=e(58810)},5861:function(ee,D,e){"use strict";ee.exports=e(20593)},16122:function(ee,D,e){"use strict";ee.exports=e(29396)},83043:function(ee,D,e){"use strict";ee.exports=e(13551)},48131:function(ee,D,e){"use strict";ee.exports=e(46858)},47582:function(ee,D,e){"use strict";ee.exports=e(17988)},21641:function(ee,D,e){"use strict";ee.exports=e(68868)},96268:function(ee,D,e){"use strict";ee.exports=e(20467)},19440:function(ee,D,e){"use strict";ee.exports=e(91271)},99488:function(ee,D,e){"use strict";ee.exports=e(21461)},97393:function(ee,D,e){"use strict";ee.exports=e(85956)},25743:function(ee,D,e){"use strict";ee.exports=e(52979)},66398:function(ee,D,e){"use strict";ee.exports=e(32275)},17280:function(ee,D,e){"use strict";ee.exports=e(6419)},77900:function(ee,D,e){"use strict";ee.exports=e(61510)},81299:function(ee,D,e){"use strict";ee.exports=e(87619)},93005:function(ee,D,e){"use strict";ee.exports=e(93601)},40344:function(ee,D,e){"use strict";ee.exports=e(96595)},47645:function(ee,D,e){"use strict";ee.exports=e(70954)},6197:function(ee,D,e){"use strict";ee.exports=e(47462)},4534:function(ee,D,e){"use strict";ee.exports=e(17659)},85461:function(ee,D,e){"use strict";ee.exports=e(19990)},82884:function(ee){"use strict";ee.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(ee,D,e){"use strict";var A=e(82884),k=e(41940),l=e(85555),T=e(44467).templatedArray;e(24695),ee.exports=T("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:A.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:A.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",l.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",l.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",l.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",l.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:k({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(ee,D,e){"use strict";var A=e(71828),k=e(89298),l=e(92605).draw;function T(d){A.filterVisible(d._fullLayout.annotations).forEach(function(t){var i=k.getFromId(d,t.xref),r=k.getFromId(d,t.yref),n=k.getRefType(t.xref),o=k.getRefType(t.yref);t._extremes={},"range"===n&&b(t,i),"range"===o&&b(t,r)})}function b(d,a){var t,i=a._id,r=i.charAt(0),n=d[r],o=d["a"+r],p=d["_"+r+"padplus"],c=d["_"+r+"padminus"],x={x:1,y:-1}[r]*d[r+"shift"],g=3*d.arrowsize*d.arrowwidth||0,h=g+x,y=g-x,v=3*d.startarrowsize*d.arrowwidth||0,m=v+x,_=v-x;if(d["a"+r+"ref"]===d[r+"ref"]){var f=k.findExtremes(a,[a.r2c(n)],{ppadplus:h,ppadminus:y}),S=k.findExtremes(a,[a.r2c(o)],{ppadplus:Math.max(p,m),ppadminus:Math.max(c,_)});t={min:[f.min[0],S.min[0]],max:[f.max[0],S.max[0]]}}else m=o?m+o:m,_=o?_-o:_,t=k.findExtremes(a,[a.r2c(n)],{ppadplus:Math.max(p,h,m),ppadminus:Math.max(c,y,_)});d._extremes[i]=t}ee.exports=function(d){if(A.filterVisible(d._fullLayout.annotations).length&&d._fullData.length)return A.syncOrAsync([l,T],d)}},44317:function(ee,D,e){"use strict";var A=e(71828),k=e(73972),l=e(44467).arrayEditor;function T(d,a){var t,i,r,n,o,s,u,p=d._fullLayout.annotations,c=[],x=[],g=[],h=(a||[]).length;for(t=0;t<p.length;t++)if(n=(r=p[t]).clicktoshow){for(i=0;i<h;i++)if(s=(o=a[i]).xaxis,u=o.yaxis,s._id===r.xref&&u._id===r.yref&&s.d2r(o.x)===b(r._xclick,s)&&u.d2r(o.y)===b(r._yclick,u)){(r.visible?"onout"===n?x:g:c).push(t);break}i===h&&r.visible&&"onout"===n&&x.push(t)}return{on:c,off:x,explicitOff:g}}function b(d,a){return"log"===a.type?a.l2r(d):a.d2r(d)}ee.exports={hasClickToShow:function(d,a){var t=T(d,a);return t.on.length>0||t.explicitOff.length>0},onClick:function(d,a){var t,i,r=T(d,a),n=r.on,o=r.off.concat(r.explicitOff),s={},u=d._fullLayout.annotations;if(n.length||o.length){for(t=0;t<n.length;t++)(i=l(d.layout,"annotations",u[n[t]])).modifyItem("visible",!0),A.extendFlat(s,i.getUpdateObj());for(t=0;t<o.length;t++)(i=l(d.layout,"annotations",u[o[t]])).modifyItem("visible",!1),A.extendFlat(s,i.getUpdateObj());return k.call("update",d,{},s)}}}},25625:function(ee,D,e){"use strict";var A=e(71828),k=e(7901);ee.exports=function(l,T,b,d){d("opacity");var a=d("bgcolor"),t=d("bordercolor"),i=k.opacity(t);d("borderpad");var r=d("borderwidth"),n=d("showarrow");if(d("text",n?" ":b._dfltTitle.annotation),d("textangle"),A.coerceFont(d,"font",b.font),d("width"),d("align"),d("height")&&d("valign"),n){var o,s,u=d("arrowside");-1!==u.indexOf("end")&&(o=d("arrowhead"),s=d("arrowsize")),-1!==u.indexOf("start")&&(d("startarrowhead",o),d("startarrowsize",s)),d("arrowcolor",i?T.bordercolor:k.defaultLine),d("arrowwidth",2*(i&&r||1)),d("standoff"),d("startstandoff")}var p=d("hovertext"),c=b.hoverlabel||{};if(p){var x=d("hoverlabel.bgcolor",c.bgcolor||(k.opacity(a)?k.rgb(a):k.defaultLine)),g=d("hoverlabel.bordercolor",c.bordercolor||k.contrast(x));A.coerceFont(d,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||g})}d("captureevents",!!p)}},94128:function(ee,D,e){"use strict";var A=e(92770),k=e(58163);ee.exports=function(l,T,b,d){T=T||{};var a="log"===b&&"linear"===T.type;if(a||"linear"===b&&"log"===T.type)for(var i,r,n=l._fullLayout.annotations,o=T._id.charAt(0),s=0;s<n.length;s++)r="annotations["+s+"].",(i=n[s])[o+"ref"]===T._id&&u(o),i["a"+o+"ref"]===T._id&&u("a"+o);function u(p){var c=i[p],x=null;x=a?k(c,T.range):Math.pow(10,c),A(x)||(x=null),d(r+p,x)}}},84046:function(ee,D,e){"use strict";var A=e(71828),k=e(89298),l=e(85501),T=e(25625),b=e(50215);function d(a,t,i){function r(S,w){return A.coerce(a,t,b,S,w)}var n=r("visible"),o=r("clicktoshow");if(n||o){T(a,t,i,r);for(var s=t.showarrow,u=["x","y"],p=[-10,-30],c={_fullLayout:i},x=0;x<2;x++){var g=u[x],h=k.coerceRef(a,t,c,g,"","paper");if("paper"!==h&&k.getFromId(c,h)._annIndices.push(t._index),k.coercePosition(t,c,r,h,g,.5),s){var y="a"+g,v=k.coerceRef(a,t,c,y,"pixel",["pixel","paper"]);"pixel"!==v&&v!==h&&(v=t[y]="pixel"),k.coercePosition(t,c,r,v,y,"pixel"===v?p[x]:.4)}r(g+"anchor"),r(g+"shift")}if(A.noneOrAll(a,t,["x","y"]),s&&A.noneOrAll(a,t,["ax","ay"]),o){var _=r("xclick"),f=r("yclick");t._xclick=void 0===_?t.x:k.cleanPosition(_,c,t.xref),t._yclick=void 0===f?t.y:k.cleanPosition(f,c,t.yref)}}}ee.exports=function(a,t){l(a,t,{name:"annotations",handleItemDefaults:d})}},92605:function(ee,D,e){"use strict";var A=e(39898),k=e(73972),l=e(74875),T=e(71828),b=T.strTranslate,d=e(89298),a=e(7901),t=e(91424),i=e(30211),r=e(63893),n=e(6964),o=e(28569),s=e(44467).arrayEditor,u=e(13011);function p(g,h){var y=g._fullLayout.annotations[h]||{},v=d.getFromId(g,y.xref),m=d.getFromId(g,y.yref);v&&v.setScale(),m&&m.setScale(),x(g,y,h,!1,v,m)}function c(g,h,y,v,m){var _=m[y],f=m[y+"ref"],S=-1!==y.indexOf("y"),w="domain"===d.getRefType(f),E=S?v.h:v.w;return g?w?_+(S?-h:h)/g._length:g.p2r(g.r2p(_)+h):_+(S?-h:h)/E}function x(g,h,y,v,m,_){var f,S,w=g._fullLayout,E=g._fullLayout._size,L=g._context.edits;v?(f="annotation-"+v,S=v+".annotations"):(f="annotation",S="annotations");var C=s(g.layout,S,h),O=C.modifyBase,R=C.modifyItem,q=C.getUpdateObj;w._infolayer.selectAll("."+f+'[data-index="'+y+'"]').remove();var P="clip"+w._uid+"_ann"+y;if(h._input&&!1!==h.visible){var U={x:{},y:{}},N=+h.textangle||0,F=w._infolayer.append("g").classed(f,!0).attr("data-index",String(y)).style("opacity",h.opacity),j=F.append("g").classed("annotation-text-g",!0),G=L[h.showarrow?"annotationTail":"annotationPosition"],te=h.captureevents||L.annotationText||G,J=j.append("g").style("pointer-events",te?"all":null).call(n,"pointer").on("click",function(){g._dragging=!1,g.emit("plotly_clickannotation",Me(A.event))});h.hovertext&&J.on("mouseover",function(){var ge=h.hoverlabel,Pe=ge.font,_e=this.getBoundingClientRect(),we=g.getBoundingClientRect();i.loneHover({x0:_e.left-we.left,x1:_e.right-we.left,y:(_e.top+_e.bottom)/2-we.top,text:h.hovertext,color:ge.bgcolor,borderColor:ge.bordercolor,fontFamily:Pe.family,fontSize:Pe.size,fontColor:Pe.color},{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:g})}).on("mouseout",function(){i.loneUnhover(w._hoverlayer.node())});var X=h.borderwidth,W=X+h.borderpad,$=J.append("rect").attr("class","bg").style("stroke-width",X+"px").call(a.stroke,h.bordercolor).call(a.fill,h.bgcolor),ne=h.width||h.height,re=w._topclips.selectAll("#"+P).data(ne?[0]:[]);re.enter().append("clipPath").classed("annclip",!0).attr("id",P).append("rect"),re.exit().remove();var oe=h.font,ue=w._meta?T.templateString(h.text,w._meta):h.text,xe=J.append("text").classed("annotation-text",!0).text(ue);L.annotationText?xe.call(r.makeEditable,{delegate:J,gd:g}).call(me).on("edit",function(ge){h.text=ge,this.call(me),R("text",ge),m&&m.autorange&&O(m._name+".autorange",!0),_&&_.autorange&&O(_._name+".autorange",!0),k.call("_guiRelayout",g,q())}):xe.call(me)}else A.selectAll("#"+P).remove();function Me(ge){var Pe={index:y,annotation:h._input,fullAnnotation:h,event:ge};return v&&(Pe.subplotId=v),Pe}function me(ge){return ge.call(t.font,oe).attr({"text-anchor":{left:"start",right:"end"}[h.align]||"middle"}),r.convertToTspans(ge,g,pe),ge}function pe(){var ge=xe.selectAll("a");1===ge.size()&&ge.text()===xe.text()&&J.insert("a",":first-child").attr({"xlink:xlink:href":ge.attr("xlink:href"),"xlink:xlink:show":ge.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild($.node());var Pe=J.select(".annotation-text-math-group"),_e=!Pe.empty(),we=t.bBox((_e?Pe:xe).node()),se=we.width,ae=we.height,fe=h.width||se,Ee=h.height||ae,ke=Math.round(fe+2*W),be=Math.round(Ee+2*W);function Ie(vt,ut){return"auto"===ut&&(ut=vt<.3333333333333333?"left":vt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ut]}for(var Fe=!1,ce=["x","y"],Te=0;Te<ce.length;Te++){var ve,Ce,Re,Oe,je,qe=ce[Te],Je=h[qe+"ref"]||qe,it=h["a"+qe+"ref"],Qe={x:m,y:_}[qe],dt=(N+("x"===qe?0:-90))*Math.PI/180,yt=ke*Math.cos(dt),mt=be*Math.sin(dt),at=Math.abs(yt)+Math.abs(mt),st=h[qe+"anchor"],Tt=h[qe+"shift"]*("x"===qe?1:-1),At=U[qe],Pt=d.getRefType(Je);if(Qe&&"domain"!==Pt){var kt=Qe.r2fraction(h[qe]);(kt<0||kt>1)&&(it===Je?((kt=Qe.r2fraction(h["a"+qe]))<0||kt>1)&&(Fe=!0):Fe=!0),ve=Qe._offset+Qe.r2p(h[qe]),Oe=.5}else{var Ze="domain"===Pt;"x"===qe?(Re=h[qe],ve=Ze?Qe._offset+Qe._length*Re:ve=E.l+E.w*Re):(Re=1-h[qe],ve=Ze?Qe._offset+Qe._length*Re:ve=E.t+E.h*Re),Oe=h.showarrow?.5:Re}if(h.showarrow){At.head=ve;var Xe=h["a"+qe];if(je=yt*Ie(.5,h.xanchor)-mt*Ie(.5,h.yanchor),it===Je){var He=d.getRefType(it);"domain"===He?("y"===qe&&(Xe=1-Xe),At.tail=Qe._offset+Qe._length*Xe):At.tail="paper"===He?"y"===qe?E.t+E.h*(Xe=1-Xe):E.l+E.w*Xe:Qe._offset+Qe.r2p(Xe),Ce=je}else At.tail=ve+Xe,Ce=je+Xe;At.text=At.tail+je;var We=w["x"===qe?"width":"height"];if("paper"===Je&&(At.head=T.constrain(At.head,1,We-1)),"pixel"===it){var rt=-Math.max(At.tail-3,At.text),nt=Math.min(At.tail+3,At.text)-We;rt>0?(At.tail+=rt,At.text+=rt):nt>0&&(At.tail-=nt,At.text-=nt)}At.tail+=Tt,At.head+=Tt}else Ce=je=at*Ie(Oe,st),At.text=ve+je;At.text+=Tt,je+=Tt,h["_"+qe+"padplus"]=at/2+(Ce+=Tt),h["_"+qe+"padminus"]=at/2-Ce,h["_"+qe+"size"]=at,h["_"+qe+"shift"]=je}if(Fe)J.remove();else{var ze=0,Be=0;"left"!==h.align&&(ze=(fe-se)*("center"===h.align?.5:1)),"top"!==h.valign&&(Be=(Ee-ae)*("middle"===h.valign?.5:1)),_e?Pe.select("svg").attr({x:W+ze-1,y:W+Be}).call(t.setClipUrl,ne?P:null,g):xe.call(r.positionText,W+ze-we.left,W+Be-we.top).call(t.setClipUrl,ne?P:null,g),re.select("rect").call(t.setRect,W,W,fe,Ee),$.call(t.setRect,X/2,X/2,ke-X,be-X),J.call(t.setTranslate,Math.round(U.x.text-ke/2),Math.round(U.y.text-be/2)),j.attr({transform:"rotate("+N+","+U.x.text+","+U.y.text+")"});var gt,pt=function(vt,ut){F.selectAll(".annotation-arrow-g").remove();var wt=U.x.head,ct=U.y.head,ft=U.x.tail+vt,bt=U.y.tail+ut,It=U.x.text+vt,Dt=U.y.text+ut,Nt=T.rotationXYMatrix(N,It,Dt),$t=T.apply2DTransform(Nt),jt=T.apply2DTransform2(Nt),Yt=+$.attr("width"),Gt=+$.attr("height"),hn=It-.5*Yt,yn=hn+Yt,on=Dt-.5*Gt,Ut=on+Gt,nn=[[hn,on,hn,Ut],[hn,Ut,yn,Ut],[yn,Ut,yn,on],[yn,on,hn,on]].map(jt);if(!nn.reduce(function($n,qn){return $n^!!T.segmentsIntersect(wt,ct,wt+1e6,ct+1e6,qn[0],qn[1],qn[2],qn[3])},!1)){nn.forEach(function($n){var qn=T.segmentsIntersect(ft,bt,wt,ct,$n[0],$n[1],$n[2],$n[3]);qn&&(ft=qn.x,bt=qn.y)});var Xt=h.arrowwidth,rn=h.arrowcolor,fn=h.arrowside,gn=F.append("g").style({opacity:a.opacity(rn)}).classed("annotation-arrow-g",!0),An=gn.append("path").attr("d","M"+ft+","+bt+"L"+wt+","+ct).style("stroke-width",Xt+"px").call(a.stroke,a.rgb(rn));if(u(An,fn,h),L.annotationPosition&&An.node().parentNode&&!v){var En=wt,bn=ct;if(h.standoff){var Ln=Math.sqrt(Math.pow(wt-ft,2)+Math.pow(ct-bt,2));En+=h.standoff*(ft-wt)/Ln,bn+=h.standoff*(bt-ct)/Ln}var Wn,Qn,ir=gn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(ft-En)+","+(bt-bn),transform:b(En,bn)}).style("stroke-width",Xt+6+"px").call(a.stroke,"rgba(0,0,0,0)").call(a.fill,"rgba(0,0,0,0)");o.init({element:ir.node(),gd:g,prepFn:function(){var $n=t.getTranslate(J);Wn=$n.x,Qn=$n.y,m&&m.autorange&&O(m._name+".autorange",!0),_&&_.autorange&&O(_._name+".autorange",!0)},moveFn:function($n,qn){var dr=$t(Wn,Qn),Ft=dr[0]+$n,tn=dr[1]+qn;J.call(t.setTranslate,Ft,tn),R("x",c(m,$n,"x",E,h)),R("y",c(_,qn,"y",E,h)),h.axref===h.xref&&R("ax",c(m,$n,"ax",E,h)),h.ayref===h.yref&&R("ay",c(_,qn,"ay",E,h)),gn.attr("transform",b($n,qn)),j.attr({transform:"rotate("+N+","+Ft+","+tn+")"})},doneFn:function(){k.call("_guiRelayout",g,q());var $n=document.querySelector(".js-notes-box-panel");$n&&$n.redraw($n.selectedObj)}})}}};h.showarrow&&pt(0,0),G&&o.init({element:J.node(),gd:g,prepFn:function(){gt=j.attr("transform")},moveFn:function(vt,ut){var wt="pointer";if(h.showarrow)R("ax",h.axref===h.xref?c(m,vt,"ax",E,h):h.ax+vt),R("ay",h.ayref===h.yref?c(_,ut,"ay",E.w,h):h.ay+ut),pt(vt,ut);else{if(v)return;var ct,ft;if(m)ct=c(m,vt,"x",E,h);else{var bt=h._xsize/E.w;ct=o.align(h.x+(h._xshift-h.xshift)/E.w-bt/2+vt/E.w,bt,0,1,h.xanchor)}if(_)ft=c(_,ut,"y",E,h);else{var Dt=h._ysize/E.h;ft=o.align(h.y-(h._yshift+h.yshift)/E.h-Dt/2-ut/E.h,Dt,0,1,h.yanchor)}R("x",ct),R("y",ft),m&&_||(wt=o.getCursor(m?.5:ct,_?.5:ft,h.xanchor,h.yanchor))}j.attr({transform:b(vt,ut)+gt}),n(J,wt)},clickFn:function(vt,ut){h.captureevents&&g.emit("plotly_clickannotation",Me(ut))},doneFn:function(){n(J),k.call("_guiRelayout",g,q());var vt=document.querySelector(".js-notes-box-panel");vt&&vt.redraw(vt.selectedObj)}})}}}ee.exports={draw:function(g){var h=g._fullLayout;h._infolayer.selectAll(".annotation").remove();for(var y=0;y<h.annotations.length;y++)h.annotations[y].visible&&p(g,y);return l.previousPromises(g)},drawOne:p,drawRaw:x}},13011:function(ee,D,e){"use strict";var A=e(39898),k=e(7901),l=e(82884),T=e(71828),b=T.strScale,d=T.strRotate,a=T.strTranslate;ee.exports=function(t,i,r){var n,o,s,u,p=t.node(),c=l[r.arrowhead||0],x=l[r.startarrowhead||0],g=(r.arrowwidth||1)*(r.arrowsize||1),h=(r.arrowwidth||1)*(r.startarrowsize||1),y=i.indexOf("start")>=0,v=i.indexOf("end")>=0,m=c.backoff*g+r.standoff,_=x.backoff*h+r.startstandoff;if("line"===p.nodeName){n={x:+t.attr("x1"),y:+t.attr("y1")},o={x:+t.attr("x2"),y:+t.attr("y2")};var f=n.x-o.x,S=n.y-o.y;if(u=(s=Math.atan2(S,f))+Math.PI,m&&_&&m+_>Math.sqrt(f*f+S*S))return void F();if(m){if(m*m>f*f+S*S)return void F();var w=m*Math.cos(s),E=m*Math.sin(s);o.x+=w,o.y+=E,t.attr({x2:o.x,y2:o.y})}if(_){if(_*_>f*f+S*S)return void F();var L=_*Math.cos(s),C=_*Math.sin(s);n.x-=L,n.y-=C,t.attr({x1:n.x,y1:n.y})}}else if("path"===p.nodeName){var O=p.getTotalLength(),R="";if(O<m+_)return void F();var q=p.getPointAtLength(0),P=p.getPointAtLength(.1);s=Math.atan2(q.y-P.y,q.x-P.x),n=p.getPointAtLength(Math.min(_,O)),R="0px,"+_+"px,";var U=p.getPointAtLength(O),N=p.getPointAtLength(O-.1);u=Math.atan2(U.y-N.y,U.x-N.x),o=p.getPointAtLength(Math.max(0,O-m)),t.style("stroke-dasharray",R+=O-(R?_+m:m)+"px,"+O+"px")}function F(){t.style("stroke-dasharray","0px,100px")}function j(G,te,J,X){G.path&&(G.noRotate&&(J=0),A.select(p.parentNode).append("path").attr({class:t.attr("class"),d:G.path,transform:a(te.x,te.y)+d(180*J/Math.PI)+b(X)}).style({fill:k.rgb(r.arrowcolor),"stroke-width":0}))}y&&j(x,n,s,h),v&&j(c,o,u,g)}},32745:function(ee,D,e){"use strict";var A=e(92605),k=e(44317);ee.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:A.draw,drawOne:A.drawOne,drawRaw:A.drawRaw,hasClickToShow:k.hasClickToShow,onClick:k.onClick,convertCoords:e(94128)}},26997:function(ee,D,e){"use strict";var A=e(50215),k=e(30962).overrideAll,l=e(44467).templatedArray;ee.exports=k(l("annotation",{visible:A.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:A.xanchor,xshift:A.xshift,yanchor:A.yanchor,yshift:A.yshift,text:A.text,textangle:A.textangle,font:A.font,width:A.width,height:A.height,opacity:A.opacity,align:A.align,valign:A.valign,bgcolor:A.bgcolor,bordercolor:A.bordercolor,borderpad:A.borderpad,borderwidth:A.borderwidth,showarrow:A.showarrow,arrowcolor:A.arrowcolor,arrowhead:A.arrowhead,startarrowhead:A.startarrowhead,arrowside:A.arrowside,arrowsize:A.arrowsize,startarrowsize:A.startarrowsize,arrowwidth:A.arrowwidth,standoff:A.standoff,startstandoff:A.startstandoff,hovertext:A.hovertext,hoverlabel:A.hoverlabel,captureevents:A.captureevents}),"calc","from-root")},5485:function(ee,D,e){"use strict";var A=e(71828),k=e(89298);function l(T,b){var d=b.fullSceneLayout.domain,a=b.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};T._xa={},A.extendFlat(T._xa,t),k.setConvert(T._xa),T._xa._offset=a.l+d.x[0]*a.w,T._xa.l2p=function(){return.5*(1+T._pdata[0]/T._pdata[3])*a.w*(d.x[1]-d.x[0])},T._ya={},A.extendFlat(T._ya,t),k.setConvert(T._ya),T._ya._offset=a.t+(1-d.y[1])*a.h,T._ya.l2p=function(){return.5*(1-T._pdata[1]/T._pdata[3])*a.h*(d.y[1]-d.y[0])}}ee.exports=function(T){for(var b=T.fullSceneLayout.annotations,d=0;d<b.length;d++)l(b[d],T);T.fullLayout._infolayer.selectAll(".annotation-"+T.id).remove()}},20226:function(ee,D,e){"use strict";var A=e(71828),k=e(89298),l=e(85501),T=e(25625),b=e(26997);function d(a,t,i,r){function n(s,u){return A.coerce(a,t,b,s,u)}function o(s){var u=s+"axis",p={_fullLayout:{}};return p._fullLayout[u]=i[u],k.coercePosition(t,p,n,s,s,.5)}n("visible")&&(T(a,t,r.fullLayout,n),o("x"),o("y"),o("z"),A.noneOrAll(a,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",n("ax",-10),n("ay",-30),A.noneOrAll(a,t,["ax","ay"])))}ee.exports=function(a,t,i){l(a,t,{name:"annotations",handleItemDefaults:d,fullLayout:i.fullLayout})}},82188:function(ee,D,e){"use strict";var A=e(92605).drawRaw,k=e(63538),l=["x","y","z"];ee.exports=function(T){for(var b=T.fullSceneLayout,d=T.dataScale,a=b.annotations,t=0;t<a.length;t++){for(var i=a[t],r=!1,n=0;n<3;n++){var o=l[n],u=b[o+"axis"].r2fraction(i[o]);if(u<0||u>1){r=!0;break}}r?T.fullLayout._infolayer.select(".annotation-"+T.id+'[data-index="'+t+'"]').remove():(i._pdata=k(T.glplot.cameraParams,[b.xaxis.r2l(i.x)*d[0],b.yaxis.r2l(i.y)*d[1],b.zaxis.r2l(i.z)*d[2]]),A(T.graphDiv,i,t,T.id,i._xa,i._ya))}}},2468:function(ee,D,e){"use strict";var A=e(73972),k=e(71828);ee.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:function(l,T){var b=A.subplotsRegistry.gl3d;if(b)for(var d=b.attrRegex,a=Object.keys(l),t=0;t<a.length;t++){var i=a[t];d.test(i)&&(l[i].annotations||[]).length&&(k.pushUnique(T._basePlotModules,b),k.pushUnique(T._subplots.gl3d,i))}},convert:e(5485),draw:e(82188)}},7561:function(ee,D,e){"use strict";ee.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(ee,D,e){"use strict";var A=e(7561),k=e(71828),l=e(50606),T=l.EPOCHJD,b=l.ONEDAY,d={valType:"enumerated",values:k.sortObjectKeys(A.calendars),editType:"calc",dflt:"gregorian"},a=function(g,h,y,v){var m={};return m[y]=d,k.coerce(g,h,m,y,v)},t="##",i={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:t,w:t,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},r={};function n(g){return r[g]||(r[g]=A.instance(g))}function o(g){return k.extendFlat({},d,{description:g})}function s(g){return"Sets the calendar system to use with `"+g+"` date data."}var u={xcalendar:o(s("x"))},p=k.extendFlat({},u,{ycalendar:o(s("y"))}),c=k.extendFlat({},p,{zcalendar:o(s("z"))}),x=o(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));ee.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:c,surface:c,mesh3d:c,scattergl:p,ohlc:u,candlestick:u},layout:{calendar:o(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:x},yaxis:{calendar:x},scene:{xaxis:{calendar:x},yaxis:{calendar:x},zaxis:{calendar:x}},polar:{radialaxis:{calendar:x}}},transforms:{filter:{valuecalendar:o(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:o(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:d,handleDefaults:a,handleTraceDefaults:function(g,h,y,v){for(var m=0;m<y.length;m++)a(g,h,y[m]+"calendar",v.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:n,worldCalFmt:function(g,h,y){for(var v,m,_,f,S,w=Math.floor((h+.05)/b)+T,E=n(y).fromJD(w),L=0;-1!==(L=g.indexOf("%",L));)"0"===(v=g.charAt(L+1))||"-"===v||"_"===v?(_=3,m=g.charAt(L+2),"_"===v&&(v="-")):(m=v,v="0",_=2),(f=i[m])?(S=f===t?t:E.formatDate(f[v]),g=g.substr(0,L)+S+g.substr(L+_),L+=S.length):L+=_;return g}}},22399:function(ee,D){"use strict";D.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],D.defaultLine="#444",D.lightLine="#eee",D.background="#fff",D.borderLine="#BEC8D9",D.lightFraction=90.9090909090909},7901:function(ee,D,e){"use strict";var A=e(84267),k=e(92770),l=e(73627).isTypedArray,T=ee.exports={},b=e(22399);T.defaults=b.defaults;var d=T.defaultLine=b.defaultLine;T.lightLine=b.lightLine;var a=T.background=b.background;function t(i){if(k(i)||"string"!=typeof i)return i;var r=i.trim();if("rgb"!==r.substr(0,3))return i;var n=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return i;var o=n[1].trim().split(/\s*[\s,]\s*/),s="a"===r.charAt(3)&&4===o.length;if(!s&&3!==o.length)return i;for(var u=0;u<o.length;u++){if(!(o[u].length&&(o[u]=Number(o[u]),o[u]>=0)))return i;if(3===u)o[u]>1&&(o[u]=1);else if(o[u]>=1)return i}var p=Math.round(255*o[0])+", "+Math.round(255*o[1])+", "+Math.round(255*o[2]);return s?"rgba("+p+", "+o[3]+")":"rgb("+p+")"}T.tinyRGB=function(i){var r=i.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"},T.rgb=function(i){return T.tinyRGB(A(i))},T.opacity=function(i){return i?A(i).getAlpha():0},T.addOpacity=function(i,r){var n=A(i).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+r+")"},T.combine=function(i,r){var n=A(i).toRgb();if(1===n.a)return A(i).toRgbString();var o=A(r||a).toRgb(),s=1===o.a?o:{r:255*(1-o.a)+o.r*o.a,g:255*(1-o.a)+o.g*o.a,b:255*(1-o.a)+o.b*o.a};return A({r:s.r*(1-n.a)+n.r*n.a,g:s.g*(1-n.a)+n.g*n.a,b:s.b*(1-n.a)+n.b*n.a}).toRgbString()},T.contrast=function(i,r,n){var o=A(i);return 1!==o.getAlpha()&&(o=A(T.combine(i,a))),(o.isDark()?r?o.lighten(r):a:n?o.darken(n):d).toString()},T.stroke=function(i,r){var n=A(r);i.style({stroke:T.tinyRGB(n),"stroke-opacity":n.getAlpha()})},T.fill=function(i,r){var n=A(r);i.style({fill:T.tinyRGB(n),"fill-opacity":n.getAlpha()})},T.clean=function(i){if(i&&"object"==typeof i){var r,n,o,s,u=Object.keys(i);for(r=0;r<u.length;r++)if(s=i[o=u[r]],"color"===o.substr(o.length-5))if(Array.isArray(s))for(n=0;n<s.length;n++)s[n]=t(s[n]);else i[o]=t(s);else if("colorscale"===o.substr(o.length-10)&&Array.isArray(s))for(n=0;n<s.length;n++)Array.isArray(s[n])&&(s[n][1]=t(s[n][1]));else if(Array.isArray(s)){var p=s[0];if(!Array.isArray(p)&&p&&"object"==typeof p)for(n=0;n<s.length;n++)T.clean(s[n])}else s&&"object"==typeof s&&!l(s)&&T.clean(s)}}},63583:function(ee,D,e){"use strict";var A=e(13838),k=e(41940),l=e(1426).extendFlat,T=e(30962).overrideAll;ee.exports=T({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:A.linecolor,outlinewidth:A.linewidth,bordercolor:A.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:A.minor.tickmode,nticks:A.nticks,tick0:A.tick0,dtick:A.dtick,tickvals:A.tickvals,ticktext:A.ticktext,ticks:l({},A.ticks,{dflt:""}),ticklabeloverflow:l({},A.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:A.ticklen,tickwidth:A.tickwidth,tickcolor:A.tickcolor,ticklabelstep:A.ticklabelstep,showticklabels:A.showticklabels,labelalias:A.labelalias,tickfont:k({}),tickangle:A.tickangle,tickformat:A.tickformat,tickformatstops:A.tickformatstops,tickprefix:A.tickprefix,showtickprefix:A.showtickprefix,ticksuffix:A.ticksuffix,showticksuffix:A.showticksuffix,separatethousands:A.separatethousands,exponentformat:A.exponentformat,minexponent:A.minexponent,showexponent:A.showexponent,title:{text:{valType:"string"},font:k({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:k({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(ee){"use strict";ee.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(ee,D,e){"use strict";var A=e(71828),k=e(44467),l=e(26218),T=e(38701),b=e(96115),d=e(89426),a=e(63583);ee.exports=function(t,i,r){var n=k.newContainer(i,"colorbar"),o=t.colorbar||{};function s(R,q){return A.coerce(o,n,a,R,q)}var u=r.margin||{t:0,b:0,l:0,r:0},p=r.width-u.l-u.r,c=r.height-u.t-u.b,x="v"===s("orientation"),g=s("thicknessmode");s("thickness","fraction"===g?30/(x?p:c):30);var h=s("lenmode");s("len","fraction"===h?1:x?c:p);var y,v,m,_="paper"===s("yref"),f="paper"===s("xref"),S="left";x?(m="middle",S=f?"left":"right",y=f?1.02:1,v=.5):(m=_?"bottom":"top",S="center",y=.5,v=_?1.02:1),A.coerce(o,n,{x:{valType:"number",min:f?-2:0,max:f?3:1,dflt:y}},"x"),A.coerce(o,n,{y:{valType:"number",min:_?-2:0,max:_?3:1,dflt:v}},"y"),s("xanchor",S),s("xpad"),s("yanchor",m),s("ypad"),A.noneOrAll(o,n,["x","y"]),s("outlinecolor"),s("outlinewidth"),s("bordercolor"),s("borderwidth"),s("bgcolor");var w=A.coerce(o,n,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:x?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");s("ticklabeloverflow",-1!==w.indexOf("inside")?"hide past domain":"hide past div"),l(o,n,s,"linear");var E=r.font,L={outerTicks:!1,font:E};-1!==w.indexOf("inside")&&(L.bgColor="black"),d(o,n,s,"linear",L),b(o,n,s,"linear",L),T(o,n,s,"linear",L),s("title.text",r._dfltTitle.colorbar);var C=n.showticklabels?n.tickfont:E,O=A.extendFlat({},C,{color:E.color,size:A.bigFont(C.size)});A.coerceFont(s,"title.font",O),s("title.side",x?"top":"right")}},98981:function(ee,D,e){"use strict";var A=e(39898),k=e(84267),l=e(74875),T=e(73972),b=e(89298),d=e(28569),a=e(71828),t=a.strTranslate,i=e(1426).extendFlat,r=e(6964),n=e(91424),o=e(7901),s=e(92998),u=e(63893),p=e(52075).flipScale,c=e(71453),x=e(52830),g=e(13838),h=e(18783),y=h.LINE_SPACING,v=h.FROM_TL,m=h.FROM_BR,_=e(30939).cn;ee.exports={draw:function(f){var S=f._fullLayout._infolayer.selectAll("g."+_.colorbar).data(function(w){var E,L,C,O,R=w._fullLayout,q=w.calcdata,P=[];function U(ne){return i(ne,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function N(){"function"==typeof O.calc?O.calc(w,C,E):(E._fillgradient=L.reversescale?p(L.colorscale):L.colorscale,E._zrange=[L[O.min],L[O.max]])}for(var F=0;F<q.length;F++)if((C=q[F][0].trace)._module){var G=C._module.colorbar;if(!0===C.visible&&G)for(var te=Array.isArray(G),J=te?G:[G],X=0;X<J.length;X++){var Y=(O=J[X]).container;(L=Y?C[Y]:C)&&L.showscale&&((E=U(L.colorbar))._id="cb"+C.uid+(te&&Y?"-"+Y:""),E._traceIndex=C.index,E._propPrefix=(Y?Y+".":"")+"colorbar.",E._meta=C._meta,N(),P.push(E))}}for(var W in R._colorAxes)if((L=R[W]).showscale){var $=R._colorAxes[W];(E=U(L.colorbar))._id="cb"+W,E._propPrefix=W+".colorbar.",E._meta=R._meta,O={min:"cmin",max:"cmax"},"heatmap"!==$[0]&&(O.calc=(C=$[1])._module.colorbar.calc),N(),P.push(E)}return P}(f),function(w){return w._id});S.enter().append("g").attr("class",function(w){return w._id}).classed(_.colorbar,!0),S.each(function(w){var E=A.select(this);a.ensureSingle(E,"rect",_.cbbg),a.ensureSingle(E,"g",_.cbfills),a.ensureSingle(E,"g",_.cblines),a.ensureSingle(E,"g",_.cbaxis,function(C){C.classed(_.crisp,!0)}),a.ensureSingle(E,"g",_.cbtitleunshift,function(C){C.append("g").classed(_.cbtitle,!0)}),a.ensureSingle(E,"rect",_.cboutline);var C,O,R,q,P,U,N,F,L=function(C,O,R){var q="v"===O.orientation,P=O.len,U=O.lenmode,N=O.thickness,F=O.thicknessmode,j=O.outlinewidth,G=O.borderwidth,te=O.bgcolor,J=O.xanchor,X=O.yanchor,Y=O.xpad,W=O.ypad,$=O.x,ne=q?O.y:1-O.y,re="paper"===O.yref,oe="paper"===O.xref,ue=R._fullLayout,xe=ue._size,Me=O._fillcolor,me=O._line,pe=O.title,ge=pe.side,Pe=O._zrange||A.extent(("function"==typeof Me?Me:me.color).domain()),_e="function"==typeof me.color?me.color:function(){return me.color},we="function"==typeof Me?Me:function(){return Me},se=O._levels,ae=function(He,We,rt){var nt,ze,Be=We._levels,tt=[],et=[],gt=Be.end+Be.size/100,pt=Be.size,vt=1.001*rt[0]-.001*rt[1],ut=1.001*rt[1]-.001*rt[0];for(ze=0;ze<1e5&&(nt=Be.start+ze*pt,!(pt>0?nt>=gt:nt<=gt));ze++)nt>vt&&nt<ut&&tt.push(nt);if(We._fillgradient)et=[0];else if("function"==typeof We._fillcolor){var wt=We._filllevels;if(wt)for(gt=wt.end+wt.size/100,pt=wt.size,ze=0;ze<1e5&&(nt=wt.start+ze*pt,!(pt>0?nt>=gt:nt<=gt));ze++)nt>rt[0]&&nt<rt[1]&&et.push(nt);else(et=tt.map(function(ct){return ct-Be.size/2})).push(et[et.length-1]+Be.size)}else We._fillcolor&&"string"==typeof We._fillcolor&&(et=[0]);return Be.size<0&&(tt.reverse(),et.reverse()),{line:tt,fill:et}}(0,O,Pe),fe=ae.fill,Ee=ae.line,ke=Math.round(N*("fraction"===F?q?xe.w:xe.h:1)),be=ke/(q?xe.w:xe.h),Ie=Math.round(P*("fraction"===U?q?xe.h:xe.w:1)),Fe=Ie/(q?xe.h:xe.w),ce=oe?xe.w:R._fullLayout.width,Te=re?xe.h:R._fullLayout.height,ve=Math.round(q?$*ce+Y:ne*Te+W),Ce={center:.5,right:1}[J]||0,Re={top:1,middle:.5}[X]||0,Oe=q?$-Ce*be:ne-Re*be,je=q?ne-Re*Fe:$-Ce*Fe,qe=Math.round(q?Te*(1-je):ce*je);O._lenFrac=Fe,O._thickFrac=be,O._uFrac=Oe,O._vFrac=je;var Je=O._axis=function(He,We,rt){var nt=He._fullLayout,ze="v"===We.orientation,Be={type:"linear",range:rt,tickmode:We.tickmode,nticks:We.nticks,tick0:We.tick0,dtick:We.dtick,tickvals:We.tickvals,ticktext:We.ticktext,ticks:We.ticks,ticklen:We.ticklen,tickwidth:We.tickwidth,tickcolor:We.tickcolor,showticklabels:We.showticklabels,labelalias:We.labelalias,ticklabelposition:We.ticklabelposition,ticklabeloverflow:We.ticklabeloverflow,ticklabelstep:We.ticklabelstep,tickfont:We.tickfont,tickangle:We.tickangle,tickformat:We.tickformat,exponentformat:We.exponentformat,minexponent:We.minexponent,separatethousands:We.separatethousands,showexponent:We.showexponent,showtickprefix:We.showtickprefix,tickprefix:We.tickprefix,showticksuffix:We.showticksuffix,ticksuffix:We.ticksuffix,title:We.title,showline:!0,anchor:"free",side:ze?"right":"bottom",position:1},tt=ze?"y":"x",et={type:"linear",_id:tt+We._id},gt={letter:tt,font:nt.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:nt.calendar};function pt(vt,ut){return a.coerce(Be,et,g,vt,ut)}return c(Be,et,pt,gt,nt),x(Be,et,pt,gt),et}(R,O,Pe);Je.position=be+(q?$+Y/xe.w:ne+W/xe.h);var it=-1!==["top","bottom"].indexOf(ge);if(q&&it&&(Je.title.side=ge,Je.titlex=$+Y/xe.w,Je.titley=je+("top"===pe.side?Fe-W/xe.h:W/xe.h)),q||it||(Je.title.side=ge,Je.titley=ne+W/xe.h,Je.titlex=je+Y/xe.w),me.color&&"auto"===O.tickmode){Je.tickmode="linear",Je.tick0=se.start;var Qe=se.size,dt=a.constrain(Ie/50,4,15)+1,yt=(Pe[1]-Pe[0])/((O.nticks||dt)*Qe);if(yt>1){var mt=Math.pow(10,Math.floor(Math.log(yt)/Math.LN10));Qe*=mt*a.roundUp(yt/mt,[2,5,10]),(Math.abs(se.start)/se.size+1e-6)%1<2e-6&&(Je.tick0=0)}Je.dtick=Qe}Je.domain=q?[je+W/xe.h,je+Fe-W/xe.h]:[je+Y/xe.w,je+Fe-Y/xe.w],Je.setScale(),C.attr("transform",t(Math.round(xe.l),Math.round(xe.t)));var at,st=C.select("."+_.cbtitleunshift).attr("transform",t(-Math.round(xe.l),-Math.round(xe.t))),Tt=Je.ticklabelposition,At=Je.title.font.size,Pt=C.select("."+_.cbaxis),kt=0,Ze=0;function Xe(He,We){var rt={propContainer:Je,propName:O._propPrefix+"title",traceIndex:O._traceIndex,_meta:O._meta,placeholder:ue._dfltTitle.colorbar,containerGroup:C.select("."+_.cbtitle)},nt="h"===He.charAt(0)?He.substr(1):"h"+He;C.selectAll("."+nt+",."+nt+"-math-group").remove(),s.draw(R,He,i(rt,We||{}))}return a.syncOrAsync([l.previousPromises,function(){var He,We;(q&&it||!q&&!it)&&("top"===ge&&(He=Y+xe.l+ce*$,We=W+xe.t+Te*(1-je-Fe)+3+.75*At),"bottom"===ge&&(He=Y+xe.l+ce*$,We=W+xe.t+Te*(1-je)-3-.25*At),"right"===ge&&(We=W+xe.t+Te*ne+3+.75*At,He=Y+xe.l+ce*je),Xe(Je._id+"title",{attributes:{x:He,y:We,"text-anchor":q?"start":"middle"}}))},function(){if(!q&&!it||q&&it){var He,We=C.select("."+_.cbtitle),rt=We.select("text"),nt=[-j/2,j/2],ze=We.select(".h"+Je._id+"title-math-group").node(),Be=15.6;if(rt.node()&&(Be=parseInt(rt.node().style.fontSize,10)*y),ze?(He=n.bBox(ze),Ze=He.width,(kt=He.height)>Be&&(nt[1]-=(kt-Be)/2)):rt.node()&&!rt.classed(_.jsPlaceholder)&&(He=n.bBox(rt.node()),Ze=He.width,kt=He.height),q){if(kt){if(kt+=5,"top"===ge)Je.domain[1]-=kt/xe.h,nt[1]*=-1;else{Je.domain[0]+=kt/xe.h;var tt=u.lineCount(rt);nt[1]+=(1-tt)*Be}We.attr("transform",t(nt[0],nt[1])),Je.setScale()}}else Ze&&("right"===ge&&(Je.domain[0]+=(Ze+At/2)/xe.w),We.attr("transform",t(nt[0],nt[1])),Je.setScale())}C.selectAll("."+_.cbfills+",."+_.cblines).attr("transform",q?t(0,Math.round(xe.h*(1-Je.domain[1]))):t(Math.round(xe.w*Je.domain[0]),0)),Pt.attr("transform",q?t(0,Math.round(-xe.t)):t(Math.round(-xe.l),0));var et=C.select("."+_.cbfills).selectAll("rect."+_.cbfill).attr("style","").data(fe);et.enter().append("rect").classed(_.cbfill,!0).attr("style",""),et.exit().remove();var gt=Pe.map(Je.c2p).map(Math.round).sort(function(ct,ft){return ct-ft});et.each(function(ct,ft){var bt=[0===ft?Pe[0]:(fe[ft]+fe[ft-1])/2,ft===fe.length-1?Pe[1]:(fe[ft]+fe[ft+1])/2].map(Je.c2p).map(Math.round);q&&(bt[1]=a.constrain(bt[1]+(bt[1]>bt[0])?1:-1,gt[0],gt[1]));var It=A.select(this).attr(q?"x":"y",ve).attr(q?"y":"x",A.min(bt)).attr(q?"width":"height",Math.max(ke,2)).attr(q?"height":"width",Math.max(A.max(bt)-A.min(bt),2));if(O._fillgradient)n.gradient(It,R,O._id,q?"vertical":"horizontalreversed",O._fillgradient,"fill");else{var Dt=we(ct).replace("e-","");It.attr("fill",k(Dt).toHexString())}});var pt=C.select("."+_.cblines).selectAll("path."+_.cbline).data(me.color&&me.width?Ee:[]);pt.enter().append("path").classed(_.cbline,!0),pt.exit().remove(),pt.each(function(ct){var ft=ve,bt=Math.round(Je.c2p(ct))+me.width/2%1;A.select(this).attr("d","M"+(q?ft+","+bt:bt+","+ft)+(q?"h":"v")+ke).call(n.lineGroupStyle,me.width,_e(ct),me.dash)}),Pt.selectAll("g."+Je._id+"tick,path").remove();var vt=ve+ke+(j||0)/2-("outside"===O.ticks?1:0),ut=b.calcTicks(Je),wt=b.getTickSigns(Je)[2];return b.drawTicks(R,Je,{vals:"inside"===Je.ticks?b.clipEnds(Je,ut):ut,layer:Pt,path:b.makeTickPath(Je,vt,wt),transFn:b.makeTransTickFn(Je)}),b.drawLabels(R,Je,{vals:ut,layer:Pt,transFn:b.makeTransTickLabelFn(Je),labelFns:b.makeLabelFns(Je,vt)})},function(){if(q&&!it||!q&&it){var He,We,rt=Je.position||0,nt=Je._offset+Je._length/2;if("right"===ge)We=nt,He=xe.l+ce*rt+10+At*(Je.showticklabels?1:.5);else if(He=nt,"bottom"===ge&&(We=xe.t+Te*rt+10+(-1===Tt.indexOf("inside")?Je.tickfont.size:0)+("intside"!==Je.ticks&&O.ticklen||0)),"top"===ge){var ze=pe.text.split("<br>").length;We=xe.t+Te*rt+10-ke-y*At*ze}Xe((q?"h":"v")+Je._id+"title",{avoid:{selection:A.select(R).selectAll("g."+Je._id+"tick"),side:ge,offsetTop:q?0:xe.t,offsetLeft:q?xe.l:0,maxShift:q?ue.width:ue.height},attributes:{x:He,y:We,"text-anchor":"middle"},transform:{rotate:q?-90:0,offset:0}})}},l.previousPromises,function(){var He,We=ke+j/2;-1===Tt.indexOf("inside")&&(He=n.bBox(Pt.node()),We+=q?He.width:He.height),at=st.select("text");var rt=0,nt=q&&"top"===ge,ze=!q&&"right"===ge,Be=0;if(at.node()&&!at.classed(_.jsPlaceholder)){var tt,et=st.select(".h"+Je._id+"title-math-group").node();et&&(q&&it||!q&&!it)?(rt=(He=n.bBox(et)).width,tt=He.height):(rt=(He=n.bBox(st.node())).right-xe.l-(q?ve:qe),tt=He.bottom-xe.t-(q?qe:ve),q||"top"!==ge||(We+=He.height,Be=He.height)),ze&&(at.attr("transform",t(rt/2+At/2,0)),rt*=2),We=Math.max(We,q?rt:tt)}var gt=2*(q?Y:W)+We+G+j/2,pt=0;!q&&pe.text&&"bottom"===X&&ne<=0&&(gt+=pt=gt/2,Be+=pt),ue._hColorbarMoveTitle=pt,ue._hColorbarMoveCBTitle=Be;var vt=G+j,ut=(q?ve:qe)-vt/2-(q?Y:0),wt=(q?qe:ve)-(q?Ie:W+Be-pt);C.select("."+_.cbbg).attr("x",ut).attr("y",wt).attr(q?"width":"height",Math.max(gt-pt,2)).attr(q?"height":"width",Math.max(Ie+vt,2)).call(o.fill,te).call(o.stroke,O.bordercolor).style("stroke-width",G);var ct=ze?Math.max(rt-10,0):0;C.selectAll("."+_.cboutline).attr("x",(q?ve:qe+Y)+ct).attr("y",(q?qe+W-Ie:ve)+(nt?kt:0)).attr(q?"width":"height",Math.max(ke,2)).attr(q?"height":"width",Math.max(Ie-(q?2*W+kt:2*Y+ct),2)).call(o.stroke,O.outlinecolor).style({fill:"none","stroke-width":j});var ft=q?Ce*gt:0,bt=q?0:(1-Re)*gt-Be;if(C.attr("transform",t(ft=oe?xe.l-ft:-ft,bt=re?xe.t-bt:-bt)),!q&&(G||k(te).getAlpha()&&!k.equals(ue.paper_bgcolor,te))){var It=Pt.selectAll("text"),Dt=It[0].length,Nt=C.select("."+_.cbbg).node(),$t=n.bBox(Nt),jt=n.getTranslate(C);It.each(function(fn,gn){var An=Dt-1;if(0===gn||gn===An){var En,bn=n.bBox(this),Ln=n.getTranslate(this);gn===An?(En=$t.right+jt.x+qe-G-2+$-(bn.right+Ln.x))>0&&(En=0):0===gn&&(En=$t.left+jt.x+qe+G+2-(bn.left+Ln.x))<0&&(En=0),En&&(Dt<3?this.setAttribute("transform","translate("+En+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Yt={},Gt=v[J],hn=m[J],yn=v[X],on=m[X],Ut=gt-ke;q?("pixels"===U?(Yt.y=ne,Yt.t=Ie*yn,Yt.b=Ie*on):(Yt.t=Yt.b=0,Yt.yt=ne+P*yn,Yt.yb=ne-P*on),"pixels"===F?(Yt.x=$,Yt.l=gt*Gt,Yt.r=gt*hn):(Yt.l=Ut*Gt,Yt.r=Ut*hn,Yt.xl=$-N*Gt,Yt.xr=$+N*hn)):("pixels"===U?(Yt.x=$,Yt.l=Ie*Gt,Yt.r=Ie*hn):(Yt.l=Yt.r=0,Yt.xl=$+P*Gt,Yt.xr=$-P*hn),"pixels"===F?(Yt.y=1-ne,Yt.t=gt*yn,Yt.b=gt*on):(Yt.t=Ut*yn,Yt.b=Ut*on,Yt.yt=ne-N*yn,Yt.yb=ne+N*on));var nn=O.y<.5?"b":"t",Xt=O.x<.5?"l":"r";R._fullLayout._reservedMargin[O._id]={};var rn={r:ue.width-ut-ft,l:ut+Yt.r,b:ue.height-wt-bt,t:wt+Yt.b};oe&&re?l.autoMargin(R,O._id,Yt):oe?R._fullLayout._reservedMargin[O._id][nn]=rn[nn]:re||q?R._fullLayout._reservedMargin[O._id][Xt]=rn[Xt]:R._fullLayout._reservedMargin[O._id][nn]=rn[nn]}],R)}(E,w,f);L&&L.then&&(f._promises||[]).push(L),f._context.edits.colorbarPosition&&(N="v"===(O=w).orientation,F=(R=f)._fullLayout._size,d.init({element:(C=E).node(),gd:R,prepFn:function(){q=C.attr("transform"),r(C)},moveFn:function(j,G){C.attr("transform",q+t(j,G)),P=d.align((N?O._uFrac:O._vFrac)+j/F.w,N?O._thickFrac:O._lenFrac,0,1,O.xanchor),U=d.align((N?O._vFrac:1-O._uFrac)-G/F.h,N?O._lenFrac:O._thickFrac,0,1,O.yanchor);var te=d.getCursor(P,U,O.xanchor,O.yanchor);r(C,te)},doneFn:function(){if(r(C),void 0!==P&&void 0!==U){var j={};j[O._propPrefix+"x"]=P,j[O._propPrefix+"y"]=U,void 0!==O._traceIndex?T.call("_guiRestyle",R,j,O._traceIndex):T.call("_guiRelayout",R,j)}}}))}),S.exit().each(function(w){l.autoMargin(f,w._id)}).remove(),S.order()}}},76228:function(ee,D,e){"use strict";var A=e(71828);ee.exports=function(k){return A.isPlainObject(k.colorbar)}},12311:function(ee,D,e){"use strict";ee.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(ee,D,e){"use strict";var A=e(63583),k=e(30587).counter,l=e(78607),T=e(63282).scales;function b(d){return"`"+d+"`"}l(T),ee.exports=function(d,a){d=d||"";var t,i=(a=a||{}).cLetter||"c",r="noScale"in a?a.noScale:"marker.line"===d,n="showScaleDflt"in a?a.showScaleDflt:"z"===i,o="string"==typeof a.colorscaleDflt?T[a.colorscaleDflt]:null,s=a.editTypeOverride||"",u=d?d+".":"";"colorAttr"in a?t=a.colorAttr:b(u+(t={z:"z",c:"color"}[i]));var p=i+"auto",c=i+"min",x=i+"max",g=i+"mid",h=(b(u+p),b(u+c),b(u+x),{});h[c]=h[x]=void 0;var y={};y[p]=!1;var v={};return"color"===t&&(v.color={valType:"color",arrayOk:!0,editType:s||"style"},a.anim&&(v.color.anim=!0)),v[p]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},v[c]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:y},v[x]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:y},v[g]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},v.colorscale={valType:"colorscale",editType:"calc",dflt:o,impliedEdits:{autocolorscale:!1}},v.autocolorscale={valType:"boolean",dflt:!1!==a.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},v.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(v.showscale={valType:"boolean",dflt:n,editType:"calc"},v.colorbar=A),a.noColorAxis||(v.coloraxis={valType:"subplotid",regex:k("coloraxis"),dflt:null,editType:"calc"}),v}},78803:function(ee,D,e){"use strict";var A=e(92770),k=e(71828),l=e(52075).extractOpts;ee.exports=function(T,b,d){var t=T._fullLayout,i=d.vals,r=d.containerStr,n=r?k.nestedProperty(b,r).get():b,o=l(n),s=!1!==o.auto,u=o.min,p=o.max,c=o.mid,x=function(){return k.aggNums(Math.min,null,i)},g=function(){return k.aggNums(Math.max,null,i)};void 0===u?u=x():s&&(u=n._colorAx&&A(u)?Math.min(u,x()):x()),void 0===p?p=g():s&&(p=n._colorAx&&A(p)?Math.max(p,g()):g()),s&&void 0!==c&&(p-c>c-u?u=c-(p-c):p-c<c-u&&(p=c+(c-u))),u===p&&(u-=.5,p+=.5),o._sync("min",u),o._sync("max",p),o.autocolorscale&&o._sync("colorscale",u*p<0?t.colorscale.diverging:u>=0?t.colorscale.sequential:t.colorscale.sequentialminus)}},33046:function(ee,D,e){"use strict";var A=e(71828),k=e(52075).hasColorscale,l=e(52075).extractOpts;ee.exports=function(T,b){function d(s,u){var p=s["_"+u];void 0!==p&&(s[u]=p)}function a(s,u){var p=u.container?A.nestedProperty(s,u.container).get():s;if(p)if(p.coloraxis)p._colorAx=b[p.coloraxis];else{var c=l(p),x=c.auto;(x||void 0===c.min)&&d(p,u.min),(x||void 0===c.max)&&d(p,u.max),c.autocolorscale&&d(p,"colorscale")}}for(var t=0;t<T.length;t++){var i=T[t],r=i._module.colorbar;if(r)if(Array.isArray(r))for(var n=0;n<r.length;n++)a(i,r[n]);else a(i,r);k(i,"marker.line")&&a(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var o in b._colorAxes)a(b[o],{min:"cmin",max:"cmax"})}},1586:function(ee,D,e){"use strict";var A=e(92770),k=e(71828),l=e(76228),T=e(62499),b=e(63282).isValid,d=e(73972).traceIs;function a(t,i){var r=i.slice(0,i.length-1);return i?k.nestedProperty(t,r).get()||{}:t}ee.exports=function t(i,r,n,o,s){var u=s.prefix,p=s.cLetter,c="_module"in r,x=a(i,u),g=a(r,u),h=a(r._template||{},u)||{},y=function(){return delete i.coloraxis,delete r.coloraxis,t(i,r,n,o,s)};if(c){var v=n._colorAxes||{},m=o(u+"coloraxis");if(m){var _=d(r,"contour")&&k.nestedProperty(r,"contours.coloring").get()||"heatmap",f=v[m];return void(f?(f[2].push(y),f[0]!==_&&(f[0]=!1,k.warn(["Ignoring coloraxis:",m,"setting","as it is linked to incompatible colorscales."].join(" ")))):v[m]=[_,r,[y]])}}var S=x[p+"min"],w=x[p+"max"],E=A(S)&&A(w)&&S<w;o(u+p+"auto",!E)?o(u+p+"mid"):(o(u+p+"min"),o(u+p+"max"));var L,C,O=x.colorscale,R=h.colorscale;void 0!==O&&(L=!b(O)),void 0!==R&&(L=!b(R)),o(u+"autocolorscale",L),o(u+"colorscale"),o(u+"reversescale"),"marker.line."!==u&&(u&&c&&(C=l(x)),o(u+"showscale",C)&&(u&&h&&(g._template=h),T(x,g,n)))}},52075:function(ee,D,e){"use strict";var A=e(39898),k=e(84267),l=e(92770),T=e(71828),b=e(7901),d=e(63282).isValid,a=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(u){var p,c,x,g=u._colorAx,h=g||u,y={};for(c=0;c<a.length;c++)y[x=a[c]]=h[x];if(g)for(p="c",c=0;c<t.length;c++)y[x=t[c]]=h["c"+x];else{var v;for(c=0;c<t.length;c++)((v="c"+(x=t[c]))in h||(v="z"+x)in h)&&(y[x]=h[v]);p=v.charAt(0)}return y._sync=function(m,_){var f=-1!==t.indexOf(m)?p+m:m;h[f]=h["_"+f]=_},y}function r(u){for(var p=i(u),c=p.min,x=p.max,g=p.reversescale?n(p.colorscale):p.colorscale,h=g.length,y=new Array(h),v=new Array(h),m=0;m<h;m++){var _=g[m];y[m]=c+_[0]*(x-c),v[m]=_[1]}return{domain:y,range:v}}function n(u){for(var p=u.length,c=new Array(p),x=p-1,g=0;x>=0;x--,g++){var h=u[x];c[g]=[1-h[0],h[1]]}return c}function o(u,p){p=p||{};for(var c=u.domain,x=u.range,g=x.length,h=new Array(g),y=0;y<g;y++){var v=k(x[y]).toRgb();h[y]=[v.r,v.g,v.b,v.a]}var m,_=A.scale.linear().domain(c).range(h).clamp(!0),f=p.noNumericCheck,S=p.returnArray;return(m=f&&S?_:f?function(w){return s(_(w))}:S?function(w){return l(w)?_(w):k(w).isValid()?w:b.defaultLine}:function(w){return l(w)?s(_(w)):k(w).isValid()?w:b.defaultLine}).domain=_.domain,m.range=function(){return x},m}function s(u){return k({r:u[0],g:u[1],b:u[2],a:u[3]}).toRgbString()}ee.exports={hasColorscale:function(u,p,c){var x=p?T.nestedProperty(u,p).get()||{}:u,g=x[c||"color"],h=!1;if(T.isArrayOrTypedArray(g))for(var y=0;y<g.length;y++)if(l(g[y])){h=!0;break}return T.isPlainObject(x)&&(h||!0===x.showscale||l(x.cmin)&&l(x.cmax)||d(x.colorscale)||T.isPlainObject(x.colorbar))},extractOpts:i,extractScale:r,flipScale:n,makeColorScaleFunc:o,makeColorScaleFuncFromTrace:function(u,p){return o(r(u),p)}}},21081:function(ee,D,e){"use strict";var A=e(63282),k=e(52075);ee.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:A.scales,defaultScale:A.defaultScale,getScale:A.get,isValidScale:A.isValid,hasColorscale:k.hasColorscale,extractOpts:k.extractOpts,extractScale:k.extractScale,flipScale:k.flipScale,makeColorScaleFunc:k.makeColorScaleFunc,makeColorScaleFuncFromTrace:k.makeColorScaleFuncFromTrace}},72673:function(ee,D,e){"use strict";var A=e(1426).extendFlat,k=e(50693),l=e(63282).scales;ee.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:l.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:l.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:l.RdBu,editType:"calc"}},coloraxis:A({_isSubplotObj:!0,editType:"calc"},k("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(ee,D,e){"use strict";var A=e(71828),k=e(44467),l=e(72673),T=e(1586);ee.exports=function(b,d){function a(p,c){return A.coerce(b,d,l,p,c)}a("colorscale.sequential"),a("colorscale.sequentialminus"),a("colorscale.diverging");var t,i,r=d._colorAxes;function n(p,c){return A.coerce(t,i,l.coloraxis,p,c)}for(var o in r){var s=r[o];if(s[0])t=b[o]||{},(i=k.newContainer(d,o,"coloraxis"))._name=o,T(t,i,d,n,{prefix:"",cLetter:"c"});else{for(var u=0;u<s[2].length;u++)s[2][u]();delete d._colorAxes[o]}}}},63282:function(ee,D,e){"use strict";var A=e(84267),k={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},l=k.RdBu;function T(b){var d=0;if(!Array.isArray(b)||b.length<2||!b[0]||!b[b.length-1]||0!=+b[0][0]||1!=+b[b.length-1][0])return!1;for(var a=0;a<b.length;a++){var t=b[a];if(2!==t.length||+t[0]<d||!A(t[1]).isValid())return!1;d=+t[0]}return!0}ee.exports={scales:k,defaultScale:l,get:function(b,d){if(d||(d=l),!b)return d;function a(){try{b=k[b]||JSON.parse(b)}catch{b=d}}return"string"==typeof b&&(a(),"string"==typeof b&&a()),T(b)?b:d},isValid:function(b){return void 0!==k[b]||T(b)}}},92807:function(ee){"use strict";ee.exports=function(D,e,A,k,l){var T=(D-A)/(k-A),b=T+e/(k-A),d=(T+b)/2;return"left"===l||"bottom"===l?T:"center"===l||"middle"===l?d:"right"===l||"top"===l?b:T<.6666666666666666-d?T:b>1.3333333333333333-d?b:d}},70461:function(ee,D,e){"use strict";var A=e(71828),k=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];ee.exports=function(l,T,b,d){return l="left"===b?0:"center"===b?1:"right"===b?2:A.constrain(Math.floor(3*l),0,2),T="bottom"===d?0:"middle"===d?1:"top"===d?2:A.constrain(Math.floor(3*T),0,2),k[T][l]}},64505:function(ee,D){"use strict";D.selectMode=function(e){return"lasso"===e||"select"===e},D.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},D.openMode=function(e){return"drawline"===e||"drawopenpath"===e},D.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},D.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},D.selectingOrDrawing=function(e){return D.freeMode(e)||D.rectMode(e)}},28569:function(ee,D,e){"use strict";var A=e(48956),k=e(57035),l=e(38520),T=e(71828).removeElement,b=e(85555),d=ee.exports={};d.align=e(92807),d.getCursor=e(70461);var a=e(26041);function t(){var r=document.createElement("div");r.className="dragcover";var n=r.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(r),r}function i(r){return A(r.changedTouches?r.changedTouches[0]:r,document.body)}d.unhover=a.wrapped,d.unhoverRaw=a.raw,d.init=function(r){var n,o,s,u,p,c,x,g,h=r.gd,y=1,v=h._context.doubleClickDelay,m=r.element;h._mouseDownTime||(h._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=f,l?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=f,m.addEventListener("touchstart",f,{passive:!1})):m.ontouchstart=f;var _=r.clampFn||function(E,L,C){return Math.abs(E)<C&&(E=0),Math.abs(L)<C&&(L=0),[E,L]};function f(E){h._dragged=!1,h._dragging=!0;var L=i(E);n=L[0],o=L[1],x=E.target,c=E,g=2===E.buttons||E.ctrlKey,void 0===E.clientX&&void 0===E.clientY&&(E.clientX=n,E.clientY=o),(s=(new Date).getTime())-h._mouseDownTime<v?y+=1:(y=1,h._mouseDownTime=s),r.prepFn&&r.prepFn(E,n,o),k&&!g?(p=t()).style.cursor=window.getComputedStyle(m).cursor:k||(p=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",w),document.addEventListener("touchend",w),!1!==r.dragmode&&(E.preventDefault(),document.addEventListener("mousemove",S),document.addEventListener("touchmove",S,{passive:!1}))}function S(E){E.preventDefault();var L=i(E),O=_(L[0]-n,L[1]-o,r.minDrag||b.MINDRAG),R=O[0],q=O[1];(R||q)&&(h._dragged=!0,d.unhover(h,E)),h._dragged&&r.moveFn&&!g&&(h._dragdata={element:m,dx:R,dy:q},r.moveFn(R,q))}function w(E){if(delete h._dragdata,!1!==r.dragmode&&(E.preventDefault(),document.removeEventListener("mousemove",S),document.removeEventListener("touchmove",S)),document.removeEventListener("mouseup",w),document.removeEventListener("touchend",w),k?T(p):u&&(p.documentElement.style.cursor=u,u=null),h._dragging){if(h._dragging=!1,(new Date).getTime()-h._mouseDownTime>v&&(y=Math.max(y-1,1)),h._dragged)r.doneFn&&r.doneFn();else if(r.clickFn&&r.clickFn(y,c),!g){var L;try{L=new MouseEvent("click",E)}catch{var C=i(E);(L=document.createEvent("MouseEvents")).initMouseEvent("click",E.bubbles,E.cancelable,E.view,E.detail,E.screenX,E.screenY,C[0],C[1],E.ctrlKey,E.altKey,E.shiftKey,E.metaKey,E.button,E.relatedTarget)}x.dispatchEvent(L)}h._dragging=!1,h._dragged=!1}else h._dragged=!1}},d.coverSlip=t},26041:function(ee,D,e){"use strict";var A=e(11086),k=e(79990),l=e(24401).getGraphDiv,T=e(26675),b=ee.exports={};b.wrapped=function(d,a,t){(d=l(d))._fullLayout&&k.clear(d._fullLayout._uid+T.HOVERID),b.raw(d,a,t)},b.raw=function(d,a){var t=d._fullLayout,i=d._hoverdata;a||(a={}),a.target&&!d._dragged&&!1===A.triggerHandler(d,"plotly_beforehover",a)||(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),d._hoverdata=void 0,a.target&&i&&d.emit("plotly_unhover",{event:a,points:i}))}},79952:function(ee,D){"use strict";D.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},D.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=k.numberFormat,T=e(92770),b=e(84267),d=e(73972),a=e(7901),t=e(21081),i=k.strTranslate,r=e(63893),n=e(77922),o=e(18783).LINE_SPACING,s=e(37822).DESELECTDIM,u=e(34098),p=e(39984),c=e(23469).appendArrayPointValue,x=ee.exports={};function g(_e,we,se){var ae=we.fillpattern,fe=ae&&x.getPatternAttr(ae.shape,0,"");if(fe){var Ee=x.getPatternAttr(ae.bgcolor,0,null),ke=x.getPatternAttr(ae.fgcolor,0,null),be=ae.fgopacity,Ie=x.getPatternAttr(ae.size,0,8),Fe=x.getPatternAttr(ae.solidity,0,.3);x.pattern(_e,"point",se,we.uid,fe,Ie,Fe,void 0,ae.fillmode,Ee,ke,be)}else we.fillcolor&&_e.call(a.fill,we.fillcolor)}x.font=function(_e,we,se,ae){k.isPlainObject(we)&&(ae=we.color,se=we.size,we=we.family),we&&_e.style("font-family",we),se+1&&_e.style("font-size",se+"px"),ae&&_e.call(a.fill,ae)},x.setPosition=function(_e,we,se){_e.attr("x",we).attr("y",se)},x.setSize=function(_e,we,se){_e.attr("width",we).attr("height",se)},x.setRect=function(_e,we,se,ae,fe){_e.call(x.setPosition,we,se).call(x.setSize,ae,fe)},x.translatePoint=function(_e,we,se,ae){var fe=se.c2p(_e.x),Ee=ae.c2p(_e.y);return!!(T(fe)&&T(Ee)&&we.node())&&("text"===we.node().nodeName?we.attr("x",fe).attr("y",Ee):we.attr("transform",i(fe,Ee)),!0)},x.translatePoints=function(_e,we,se){_e.each(function(ae){var fe=A.select(this);x.translatePoint(ae,fe,we,se)})},x.hideOutsideRangePoint=function(_e,we,se,ae,fe,Ee){we.attr("display",se.isPtWithinRange(_e,fe)&&ae.isPtWithinRange(_e,Ee)?null:"none")},x.hideOutsideRangePoints=function(_e,we){if(we._hasClipOnAxisFalse){var se=we.xaxis,ae=we.yaxis;_e.each(function(fe){var Ee=fe[0].trace,ke=Ee.xcalendar,be=Ee.ycalendar,Ie=d.traceIs(Ee,"bar-like")?".bartext":".point,.textpoint";_e.selectAll(Ie).each(function(Fe){x.hideOutsideRangePoint(Fe,A.select(this),se,ae,ke,be)})})}},x.crispRound=function(_e,we,se){return we&&T(we)?_e._context.staticPlot?we:we<1?1:Math.round(we):se||0},x.singleLineStyle=function(_e,we,se,ae,fe){we.style("fill","none");var Ee=(((_e||[])[0]||{}).trace||{}).line||{},ke=se||Ee.width||0,be=fe||Ee.dash||"";a.stroke(we,ae||Ee.color),x.dashLine(we,be,ke)},x.lineGroupStyle=function(_e,we,se,ae){_e.style("fill","none").each(function(fe){var Ee=(((fe||[])[0]||{}).trace||{}).line||{},ke=we||Ee.width||0,be=ae||Ee.dash||"";A.select(this).call(a.stroke,se||Ee.color).call(x.dashLine,be,ke)})},x.dashLine=function(_e,we,se){we=x.dashStyle(we,se=+se||0),_e.style({"stroke-dasharray":we,"stroke-width":se+"px"})},x.dashStyle=function(_e,we){we=+we||1;var se=Math.max(we,3);return"solid"===_e?_e="":"dot"===_e?_e=se+"px,"+se+"px":"dash"===_e?_e=3*se+"px,"+3*se+"px":"longdash"===_e?_e=5*se+"px,"+5*se+"px":"dashdot"===_e?_e=3*se+"px,"+se+"px,"+se+"px,"+se+"px":"longdashdot"===_e&&(_e=5*se+"px,"+2*se+"px,"+se+"px,"+2*se+"px"),_e},x.singleFillStyle=function(_e,we){var se=A.select(_e.node());g(_e,((se.data()[0]||[])[0]||{}).trace||{},we)},x.fillGroupStyle=function(_e,we){_e.style("stroke-width",0).each(function(se){var ae=A.select(this);se[0].trace&&g(ae,se[0].trace,we)})};var h=e(90998);x.symbolNames=[],x.symbolFuncs=[],x.symbolBackOffs=[],x.symbolNeedLines={},x.symbolNoDot={},x.symbolNoFill={},x.symbolList=[],Object.keys(h).forEach(function(_e){var we=h[_e],se=we.n;x.symbolList.push(se,String(se),_e,se+100,String(se+100),_e+"-open"),x.symbolNames[se]=_e,x.symbolFuncs[se]=we.f,x.symbolBackOffs[se]=we.backoff||0,we.needLine&&(x.symbolNeedLines[se]=!0),we.noDot?x.symbolNoDot[se]=!0:x.symbolList.push(se+200,String(se+200),_e+"-dot",se+300,String(se+300),_e+"-open-dot"),we.noFill&&(x.symbolNoFill[se]=!0)});var y=x.symbolNames.length;function v(_e,we,se,ae){return x.symbolFuncs[_e%100](we,se,ae)+(_e>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}x.symbolNumber=function(_e){if(T(_e))_e=+_e;else if("string"==typeof _e){var we=0;_e.indexOf("-open")>0&&(we=100,_e=_e.replace("-open","")),_e.indexOf("-dot")>0&&(we+=200,_e=_e.replace("-dot","")),(_e=x.symbolNames.indexOf(_e))>=0&&(_e+=we)}return _e%100>=y||_e>=400?0:Math.floor(Math.max(_e,0))};var m={x1:1,x2:0,y1:0,y2:0},_={x1:0,x2:0,y1:1,y2:0},f=l("~f"),S={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:m},horizontalreversed:{node:"linearGradient",attrs:m,reversed:!0},vertical:{node:"linearGradient",attrs:_},verticalreversed:{node:"linearGradient",attrs:_,reversed:!0}};x.gradient=function(_e,we,se,ae,fe,Ee){for(var ke=fe.length,be=S[ae],Ie=new Array(ke),Fe=0;Fe<ke;Fe++)be.reversed?Ie[ke-1-Fe]=[f(100*(1-fe[Fe][0])),fe[Fe][1]]:Ie[Fe]=[f(100*fe[Fe][0]),fe[Fe][1]];var ce=we._fullLayout,Te="g"+ce._uid+"-"+se,ve=ce._defs.select(".gradients").selectAll("#"+Te).data([ae+Ie.join(";")],k.identity);ve.exit().remove(),ve.enter().append(be.node).each(function(){var Ce=A.select(this);be.attrs&&Ce.attr(be.attrs),Ce.attr("id",Te);var Re=Ce.selectAll("stop").data(Ie);Re.exit().remove(),Re.enter().append("stop"),Re.each(function(Oe){var je=b(Oe[1]);A.select(this).attr({offset:Oe[0]+"%","stop-color":a.tinyRGB(je),"stop-opacity":je.getAlpha()})})}),_e.style(Ee,J(Te,we)).style(Ee+"-opacity",null),_e.classed("gradient_filled",!0)},x.pattern=function(_e,we,se,ae,fe,Ee,ke,be,Ie,Fe,ce,Te){var ve="legend"===we;be&&("overlay"===Ie?ce=a.contrast(Fe=be):(Fe=void 0,ce=be));var Ce,Re,Oe,je,qe,Je,it,Qe,dt,yt=se._fullLayout,mt="p"+yt._uid+"-"+ae,at={},st=b(ce),Tt=a.tinyRGB(st),At=Te*st.getAlpha();switch(fe){case"/":Ce=Ee*Math.sqrt(2),Re=Ee*Math.sqrt(2),Je="path",at={d:Oe="M-"+Ce/4+","+Re/4+"l"+Ce/2+",-"+Re/2+"M0,"+Re+"L"+Ce+",0M"+Ce/4*3+","+Re/4*5+"l"+Ce/2+",-"+Re/2,opacity:At,stroke:Tt,"stroke-width":(je=ke*Ee)+"px"};break;case"\\":Ce=Ee*Math.sqrt(2),Re=Ee*Math.sqrt(2),Je="path",at={d:Oe="M"+Ce/4*3+",-"+Re/4+"l"+Ce/2+","+Re/2+"M0,0L"+Ce+","+Re+"M-"+Ce/4+","+Re/4*3+"l"+Ce/2+","+Re/2,opacity:At,stroke:Tt,"stroke-width":(je=ke*Ee)+"px"};break;case"x":Ce=Ee*Math.sqrt(2),Re=Ee*Math.sqrt(2),Oe="M-"+Ce/4+","+Re/4+"l"+Ce/2+",-"+Re/2+"M0,"+Re+"L"+Ce+",0M"+Ce/4*3+","+Re/4*5+"l"+Ce/2+",-"+Re/2+"M"+Ce/4*3+",-"+Re/4+"l"+Ce/2+","+Re/2+"M0,0L"+Ce+","+Re+"M-"+Ce/4+","+Re/4*3+"l"+Ce/2+","+Re/2,je=Ee-Ee*Math.sqrt(1-ke),Je="path",at={d:Oe,opacity:At,stroke:Tt,"stroke-width":je+"px"};break;case"|":Je="path",Je="path",at={d:Oe="M"+(Ce=Ee)/2+",0L"+Ce/2+","+(Re=Ee),opacity:At,stroke:Tt,"stroke-width":(je=ke*Ee)+"px"};break;case"-":Je="path",Je="path",at={d:Oe="M0,"+(Re=Ee)/2+"L"+(Ce=Ee)+","+Re/2,opacity:At,stroke:Tt,"stroke-width":(je=ke*Ee)+"px"};break;case"+":Je="path",Oe="M"+(Ce=Ee)/2+",0L"+Ce/2+","+(Re=Ee)+"M0,"+Re/2+"L"+Ce+","+Re/2,je=Ee-Ee*Math.sqrt(1-ke),Je="path",at={d:Oe,opacity:At,stroke:Tt,"stroke-width":je+"px"};break;case".":Ce=Ee,Re=Ee,ke<Math.PI/4?qe=Math.sqrt(ke*Ee*Ee/Math.PI):(it=ke,Qe=Math.PI/4,qe=(dt=Ee/2)+(Ee/Math.sqrt(2)-dt)*(it-Qe)/(1-Qe)),Je="circle",at={cx:Ce/2,cy:Re/2,r:qe,opacity:At,fill:Tt}}var Pt=[fe||"noSh",Fe||"noBg",ce||"noFg",Ee,ke].join(";"),kt=yt._defs.select(".patterns").selectAll("#"+mt).data([Pt],k.identity);kt.exit().remove(),kt.enter().append("pattern").each(function(){var Ze=A.select(this);if(Ze.attr({id:mt,width:Ce+"px",height:Re+"px",patternUnits:"userSpaceOnUse",patternTransform:ve?"scale(0.8)":""}),Fe){var Xe=b(Fe),He=a.tinyRGB(Xe),We=Xe.getAlpha(),rt=Ze.selectAll("rect").data([0]);rt.exit().remove(),rt.enter().append("rect").attr({width:Ce+"px",height:Re+"px",fill:He,"fill-opacity":We})}var nt=Ze.selectAll(Je).data([0]);nt.exit().remove(),nt.enter().append(Je).attr(at)}),_e.style("fill",J(mt,se)).style("fill-opacity",null),_e.classed("pattern_filled",!0)},x.initGradients=function(_e){k.ensureSingle(_e._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),A.select(_e).selectAll(".gradient_filled").classed("gradient_filled",!1)},x.initPatterns=function(_e){k.ensureSingle(_e._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),A.select(_e).selectAll(".pattern_filled").classed("pattern_filled",!1)},x.getPatternAttr=function(_e,we,se){return _e&&k.isArrayOrTypedArray(_e)?we<_e.length?_e[we]:se:_e},x.pointStyle=function(_e,we,se,ae){if(_e.size()){var fe=x.makePointStyleFns(we);_e.each(function(Ee){x.singlePointStyle(Ee,A.select(this),we,fe,se,ae)})}},x.singlePointStyle=function(_e,we,se,ae,fe,Ee){var ke=se.marker,be=ke.line;if(Ee&&Ee.i>=0&&void 0===_e.i&&(_e.i=Ee.i),we.style("opacity",ae.selectedOpacityFn?ae.selectedOpacityFn(_e):void 0===_e.mo?ke.opacity:_e.mo),ae.ms2mrc){var Ie;Ie="various"===_e.ms||"various"===ke.size?3:ae.ms2mrc(_e.ms),_e.mrc=Ie,ae.selectedSizeFn&&(Ie=_e.mrc=ae.selectedSizeFn(_e));var Fe=x.symbolNumber(_e.mx||ke.symbol)||0;_e.om=Fe%200>=100;var ce=Pe(_e,se),Te=W(_e,se);we.attr("d",v(Fe,Ie,ce,Te))}var ve,Ce,Re,Oe=!1;if(_e.so?(Re=be.outlierwidth,Ce=be.outliercolor,ve=ke.outliercolor):(Re=(_e.mlw+1||(be||{}).width+1||(_e.trace?(_e.trace.marker.line||{}).width:0)+1)-1||0,Ce="mlc"in _e?_e.mlcc=ae.lineScale(_e.mlc):k.isArrayOrTypedArray(be.color)?a.defaultLine:be.color,k.isArrayOrTypedArray(ke.color)&&(ve=a.defaultLine,Oe=!0),ve="mc"in _e?_e.mcc=ae.markerScale(_e.mc):ke.color||ke.colors||"rgba(0,0,0,0)",ae.selectedColorFn&&(ve=ae.selectedColorFn(_e))),_e.om)we.call(a.stroke,ve).style({"stroke-width":(Re||1)+"px",fill:"none"});else{we.style("stroke-width",(_e.isBlank?0:Re)+"px");var qe=ke.gradient,Je=_e.mgt;Je?Oe=!0:Je=qe&&qe.type,k.isArrayOrTypedArray(Je)&&(S[Je=Je[0]]||(Je=0));var it=ke.pattern,Qe=it&&x.getPatternAttr(it.shape,_e.i,"");if(Je&&"none"!==Je){var dt=_e.mgc;dt?Oe=!0:dt=qe.color;var yt=se.uid;Oe&&(yt+="-"+_e.i),x.gradient(we,fe,yt,Je,[[0,dt],[1,ve]],"fill")}else if(Qe){var mt=!1,at=it.fgcolor;!at&&Ee&&Ee.color&&(at=Ee.color,mt=!0);var st=x.getPatternAttr(at,_e.i,Ee&&Ee.color||null),Tt=x.getPatternAttr(it.bgcolor,_e.i,null),At=it.fgopacity,Pt=x.getPatternAttr(it.size,_e.i,8),kt=x.getPatternAttr(it.solidity,_e.i,.3);mt=mt||_e.mcc||k.isArrayOrTypedArray(it.shape)||k.isArrayOrTypedArray(it.bgcolor)||k.isArrayOrTypedArray(it.fgcolor)||k.isArrayOrTypedArray(it.size)||k.isArrayOrTypedArray(it.solidity);var Ze=se.uid;mt&&(Ze+="-"+_e.i),x.pattern(we,"point",fe,Ze,Qe,Pt,kt,_e.mcc,it.fillmode,Tt,st,At)}else k.isArrayOrTypedArray(ve)?a.fill(we,ve[_e.i]):a.fill(we,ve);Re&&a.stroke(we,Ce)}},x.makePointStyleFns=function(_e){var we={},se=_e.marker;return we.markerScale=x.tryColorscale(se,""),we.lineScale=x.tryColorscale(se,"line"),d.traceIs(_e,"symbols")&&(we.ms2mrc=u.isBubble(_e)?p(_e):function(){return(se.size||6)/2}),_e.selectedpoints&&k.extendFlat(we,x.makeSelectedPointStyleFns(_e)),we},x.makeSelectedPointStyleFns=function(_e){var we={},fe=_e.marker||{},Ee=(_e.selected||{}).marker||{},ke=(_e.unselected||{}).marker||{},Ie=Ee.opacity,Fe=ke.opacity,ce=void 0!==Ie,Te=void 0!==Fe;(k.isArrayOrTypedArray(fe.opacity)||ce||Te)&&(we.selectedOpacityFn=function(Qe){var dt=void 0===Qe.mo?fe.opacity:Qe.mo;return Qe.selected?ce?Ie:dt:Te?Fe:s*dt});var ve=fe.color,Ce=Ee.color,Re=ke.color;(Ce||Re)&&(we.selectedColorFn=function(Qe){var dt=Qe.mcc||ve;return Qe.selected?Ce||dt:Re||dt});var Oe=fe.size,je=Ee.size,qe=ke.size,Je=void 0!==je,it=void 0!==qe;return d.traceIs(_e,"symbols")&&(Je||it)&&(we.selectedSizeFn=function(Qe){var dt=Qe.mrc||Oe/2;return Qe.selected?Je?je/2:dt:it?qe/2:dt}),we},x.makeSelectedTextStyleFns=function(_e){var we={},be=(_e.textfont||{}).color,Ie=((_e.selected||{}).textfont||{}).color,Fe=((_e.unselected||{}).textfont||{}).color;return we.selectedTextColorFn=function(ce){var Te=ce.tc||be;return ce.selected?Ie||Te:Fe||(Ie?Te:a.addOpacity(Te,s))},we},x.selectedPointStyle=function(_e,we){if(_e.size()&&we.selectedpoints){var se=x.makeSelectedPointStyleFns(we),ae=we.marker||{},fe=[];se.selectedOpacityFn&&fe.push(function(Ee,ke){Ee.style("opacity",se.selectedOpacityFn(ke))}),se.selectedColorFn&&fe.push(function(Ee,ke){a.fill(Ee,se.selectedColorFn(ke))}),se.selectedSizeFn&&fe.push(function(Ee,ke){var be=ke.mx||ae.symbol||0,Ie=se.selectedSizeFn(ke);Ee.attr("d",v(x.symbolNumber(be),Ie,Pe(ke,we),W(ke,we))),ke.mrc2=Ie}),fe.length&&_e.each(function(Ee){for(var ke=A.select(this),be=0;be<fe.length;be++)fe[be](ke,Ee)})}},x.tryColorscale=function(_e,we){var se=we?k.nestedProperty(_e,we).get():_e;return se&&(se.colorscale||se._colorAx)&&k.isArrayOrTypedArray(se.color)?t.makeColorScaleFuncFromTrace(se):k.identity};var w,E,L={start:1,end:-1,middle:0,bottom:1,top:-1};function C(_e,we,se,ae,fe){var Ee=A.select(_e.node().parentNode),ke=-1!==we.indexOf("top")?"top":-1!==we.indexOf("bottom")?"bottom":"middle",be=-1!==we.indexOf("left")?"end":-1!==we.indexOf("right")?"start":"middle",Ie=ae?ae/.8+1:0,Fe=(r.lineCount(_e)-1)*o+1,ce=L[be]*Ie,Te=.75*se+L[ke]*Ie+(L[ke]-1)*Fe*se/2;_e.attr("text-anchor",be),fe||Ee.attr("transform",i(ce,Te))}function O(_e,we){var se=_e.ts||we.textfont.size;return T(se)&&se>0?se:0}function R(_e,we,se){return se&&(_e=j(_e)),we?P(_e[1]):q(_e[0])}function q(_e){var we=A.round(_e,2);return w=we,we}function P(_e){var we=A.round(_e,2);return E=we,we}function U(_e,we,se,ae){var fe=_e[0]-we[0],Ee=_e[1]-we[1],ke=se[0]-we[0],be=se[1]-we[1],Ie=Math.pow(fe*fe+Ee*Ee,.25),Fe=Math.pow(ke*ke+be*be,.25),ce=(Fe*Fe*fe-Ie*Ie*ke)*ae,Te=(Fe*Fe*Ee-Ie*Ie*be)*ae,ve=3*Fe*(Ie+Fe),Ce=3*Ie*(Ie+Fe);return[[q(we[0]+(ve&&ce/ve)),P(we[1]+(ve&&Te/ve))],[q(we[0]-(Ce&&ce/Ce)),P(we[1]-(Ce&&Te/Ce))]]}x.textPointStyle=function(_e,we,se){if(_e.size()){var ae;if(we.selectedpoints){var fe=x.makeSelectedTextStyleFns(we);ae=fe.selectedTextColorFn}var Ee=we.texttemplate,ke=se._fullLayout;_e.each(function(be){var Ie=A.select(this),Fe=Ee?k.extractOption(be,we,"txt","texttemplate"):k.extractOption(be,we,"tx","text");if(Fe||0===Fe){if(Ee){var ce=we._module.formatLabels,Te=ce?ce(be,we,ke):{},ve={};c(ve,we,be.i),Fe=k.texttemplateString(Fe,Te,ke._d3locale,ve,be,we._meta||{})}var Re=be.tp||we.textposition,Oe=O(be,we),je=ae?ae(be):be.tc||we.textfont.color;Ie.call(x.font,be.tf||we.textfont.family,Oe,je).text(Fe).call(r.convertToTspans,se).call(C,Re,Oe,be.mrc)}else Ie.remove()})}},x.selectedTextStyle=function(_e,we){if(_e.size()&&we.selectedpoints){var se=x.makeSelectedTextStyleFns(we);_e.each(function(ae){var fe=A.select(this),Ee=se.selectedTextColorFn(ae),ke=ae.tp||we.textposition,be=O(ae,we);a.fill(fe,Ee);var Ie=d.traceIs(we,"bar-like");C(fe,ke,be,ae.mrc2||ae.mrc,Ie)})}},x.smoothopen=function(_e,we){if(_e.length<3)return"M"+_e.join("L");var se,ae="M"+_e[0],fe=[];for(se=1;se<_e.length-1;se++)fe.push(U(_e[se-1],_e[se],_e[se+1],we));for(ae+="Q"+fe[0][0]+" "+_e[1],se=2;se<_e.length-1;se++)ae+="C"+fe[se-2][1]+" "+fe[se-1][0]+" "+_e[se];return ae+"Q"+fe[_e.length-3][1]+" "+_e[_e.length-1]},x.smoothclosed=function(_e,we){if(_e.length<3)return"M"+_e.join("L")+"Z";var se,ae="M"+_e[0],fe=_e.length-1,Ee=[U(_e[fe],_e[0],_e[1],we)];for(se=1;se<fe;se++)Ee.push(U(_e[se-1],_e[se],_e[se+1],we));for(Ee.push(U(_e[fe-1],_e[fe],_e[0],we)),se=1;se<=fe;se++)ae+="C"+Ee[se-1][1]+" "+Ee[se][0]+" "+_e[se];return ae+"C"+Ee[fe][1]+" "+Ee[0][0]+" "+_e[0]+"Z"};var N={hv:function(_e,we,se){return"H"+q(we[0])+"V"+R(we,1,se)},vh:function(_e,we,se){return"V"+P(we[1])+"H"+R(we,0,se)},hvh:function(_e,we,se){return"H"+q((_e[0]+we[0])/2)+"V"+P(we[1])+"H"+R(we,0,se)},vhv:function(_e,we,se){return"V"+P((_e[1]+we[1])/2)+"H"+q(we[0])+"V"+R(we,1,se)}},F=function(_e,we,se){return"L"+R(we,0,se)+","+R(we,1,se)};function j(_e,we){var se=_e.backoff,ae=_e.trace,fe=_e.d,Ee=_e.i;if(se&&ae&&ae.marker&&ae.marker.angle%360==0&&ae.line&&"spline"!==ae.line.shape){var ke=k.isArrayOrTypedArray(se),be=_e,Ie=we?we[0]:w||0,Fe=we?we[1]:E||0,ce=be[0],Te=be[1],Re=Math.atan2(Te-Fe,ce-Ie),Oe=ke?se[Ee]:se;if("auto"===Oe){var je=be.i;"scatter"===ae.type&&je--;var qe=be.marker,Je=qe.symbol;k.isArrayOrTypedArray(Je)&&(Je=Je[je]);var it=qe.size;k.isArrayOrTypedArray(it)&&(it=it[je]),Oe=qe?x.symbolBackOffs[x.symbolNumber(Je)]*it:0,Oe+=x.getMarkerStandoff(fe[je],ae)||0}var Qe=ce-Oe*Math.cos(Re),dt=Te-Oe*Math.sin(Re);(Qe<=ce&&Qe>=Ie||Qe>=ce&&Qe<=Ie)&&(dt<=Te&&dt>=Fe||dt>=Te&&dt<=Fe)&&(_e=[Qe,dt])}return _e}x.steps=function(_e){var we=N[_e]||F;return function(se){for(var ae="M"+q(se[0][0])+","+P(se[0][1]),fe=se.length,Ee=1;Ee<fe;Ee++)ae+=we(se[Ee-1],se[Ee],Ee===fe-1);return ae}},x.applyBackoff=j,x.makeTester=function(){var _e=k.ensureSingleById(A.select("body"),"svg","js-plotly-tester",function(se){se.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),we=k.ensureSingle(_e,"path","js-reference-point",function(se){se.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});x.tester=_e,x.testref=we},x.savedBBoxes={};var G=0;function te(_e){var we=_e.getAttribute("data-unformatted");if(null!==we)return we+_e.getAttribute("data-math")+_e.getAttribute("text-anchor")+_e.getAttribute("style")}function J(_e,we){if(!_e)return null;var se=we._context,ae=se._exportedPlot?"":se._baseUrl||"";return ae?"url('"+ae+"#"+_e+"')":"url(#"+_e+")"}x.bBox=function(_e,we,se){var ae,fe,Ee;if(se||(se=te(_e)),se){if(ae=x.savedBBoxes[se])return k.extendFlat({},ae)}else if(1===_e.childNodes.length){var ke=_e.childNodes[0];if(se=te(ke)){var be=+ke.getAttribute("x")||0,Ie=+ke.getAttribute("y")||0,Fe=ke.getAttribute("transform");if(!Fe){var ce=x.bBox(ke,!1,se);return be&&(ce.left+=be,ce.right+=be),Ie&&(ce.top+=Ie,ce.bottom+=Ie),ce}if(ae=x.savedBBoxes[se+="~"+be+"~"+Ie+"~"+Fe])return k.extendFlat({},ae)}}we?fe=_e:(Ee=x.tester.node(),fe=_e.cloneNode(!0),Ee.appendChild(fe)),A.select(fe).attr("transform",null).call(r.positionText,0,0);var Te=fe.getBoundingClientRect(),ve=x.testref.node().getBoundingClientRect();we||Ee.removeChild(fe);var Ce={height:Te.height,width:Te.width,left:Te.left-ve.left,top:Te.top-ve.top,right:Te.right-ve.left,bottom:Te.bottom-ve.top};return G>=1e4&&(x.savedBBoxes={},G=0),se&&(x.savedBBoxes[se]=Ce),G++,k.extendFlat({},Ce)},x.setClipUrl=function(_e,we,se){_e.attr("clip-path",J(we,se))},x.getTranslate=function(_e){var we=(_e[_e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(se,ae,fe){return[ae,fe].join(" ")}).split(" ");return{x:+we[0]||0,y:+we[1]||0}},x.setTranslate=function(_e,we,se){var fe=_e.attr?"attr":"setAttribute",Ee=_e[_e.attr?"attr":"getAttribute"]("transform")||"";return we=we||0,se=se||0,Ee=Ee.replace(/(\btranslate\(.*?\);?)/,"").trim(),Ee=(Ee+=i(we,se)).trim(),_e[fe]("transform",Ee),Ee},x.getScale=function(_e){var we=(_e[_e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(se,ae,fe){return[ae,fe].join(" ")}).split(" ");return{x:+we[0]||1,y:+we[1]||1}},x.setScale=function(_e,we,se){var fe=_e.attr?"attr":"setAttribute",Ee=_e[_e.attr?"attr":"getAttribute"]("transform")||"";return we=we||1,se=se||1,Ee=Ee.replace(/(\bscale\(.*?\);?)/,"").trim(),Ee=(Ee+="scale("+we+","+se+")").trim(),_e[fe]("transform",Ee),Ee};var X=/\s*sc.*/;x.setPointGroupScale=function(_e,we,se){if(we=we||1,se=se||1,_e){var ae=1===we&&1===se?"":"scale("+we+","+se+")";_e.each(function(){var fe=(this.getAttribute("transform")||"").replace(X,"");fe=(fe+=ae).trim(),this.setAttribute("transform",fe)})}};var Y=/translate\([^)]*\)\s*$/;function W(_e,we){var se;return _e&&(se=_e.mf),void 0===se&&(se=we.marker&&we.marker.standoff||0),we._geo||we._xA?se:-se}x.setTextPointsScale=function(_e,we,se){_e&&_e.each(function(){var ae,fe=A.select(this),Ee=fe.select("text");if(Ee.node()){var ke=parseFloat(Ee.attr("x")||0),be=parseFloat(Ee.attr("y")||0),Ie=(fe.attr("transform")||"").match(Y);ae=1===we&&1===se?[]:[i(ke,be),"scale("+we+","+se+")",i(-ke,-be)],Ie&&ae.push(Ie),fe.attr("transform",ae.join(""))}})},x.getMarkerStandoff=W;var $,ne,re,oe,ue,xe,Me=Math.atan2,me=Math.cos,pe=Math.sin;function ge(_e,we){var se=we[0],ae=we[1];return[se*me(_e)-ae*pe(_e),se*pe(_e)+ae*me(_e)]}function Pe(_e,we){var se,ae,fe=_e.ma;void 0===fe&&(fe=we.marker.angle||0);var Ee=we.marker.angleref;if("previous"===Ee||"north"===Ee){if(we._geo){var ke=we._geo.project(_e.lonlat);se=ke[0],ae=ke[1]}else{var be=we._xA,Ie=we._yA;if(!be||!Ie)return 90;se=be.c2p(_e.x),ae=Ie.c2p(_e.y)}if(we._geo){var Fe,ce=_e.lonlat[0],Te=_e.lonlat[1],ve=we._geo.project([ce,Te+1e-5]),Ce=we._geo.project([ce+1e-5,Te]),Re=Me(Ce[1]-ae,Ce[0]-se),Oe=Me(ve[1]-ae,ve[0]-se);if("north"===Ee)Fe=fe/180*Math.PI;else if("previous"===Ee){var je=ce/180*Math.PI,qe=Te/180*Math.PI,Je=$/180*Math.PI,it=ne/180*Math.PI,Qe=Je-je,dt=me(it)*pe(Qe),yt=pe(it)*me(qe)-me(it)*pe(qe)*me(Qe);Fe=-Me(dt,yt)-Math.PI,$=ce,ne=Te}var mt=ge(Re,[me(Fe),0]),at=ge(Oe,[pe(Fe),0]);fe=Me(mt[1]+at[1],mt[0]+at[0])/Math.PI*180,"previous"!==Ee||xe===we.uid&&_e.i===ue+1||(fe=null)}if("previous"===Ee&&!we._geo)if(xe===we.uid&&_e.i===ue+1&&T(se)&&T(ae)){var st=se-re,Tt=ae-oe,At=we.line&&we.line.shape||"",Pt=At.slice(At.length-1);"h"===Pt&&(Tt=0),"v"===Pt&&(st=0),fe+=Me(Tt,st)/Math.PI*180+90}else fe=null}return re=se,oe=ae,ue=_e.i,xe=we.uid,fe}x.getMarkerAngle=Pe},90998:function(ee,D,e){"use strict";var A,k,l,T,b=e(95616),d=e(39898).round,a="M0,0Z",t=Math.sqrt(2),i=Math.sqrt(3),r=Math.PI,n=Math.cos,o=Math.sin;function s(p){return null===p}function u(p,c,x){if(!(p&&p%360!=0||c))return x;if(l===p&&T===c&&A===x)return k;function g(R,q){var P=n(R),U=o(R),N=q[0],F=q[1]+(c||0);return[N*P-F*U,N*U+F*P]}l=p,T=c,A=x;for(var h=p/180*r,y=0,v=0,m=b(x),_="",f=0;f<m.length;f++){var S=m[f],w=S[0],E=y,L=v;if("M"===w||"L"===w)y=+S[1],v=+S[2];else if("m"===w||"l"===w)y+=+S[1],v+=+S[2];else if("H"===w)y=+S[1];else if("h"===w)y+=+S[1];else if("V"===w)v=+S[1];else if("v"===w)v+=+S[1];else if("A"===w){y=+S[1],v=+S[2];var C=g(h,[+S[6],+S[7]]);S[6]=C[0],S[7]=C[1],S[3]=+S[3]+p}"H"!==w&&"V"!==w||(w="L"),"h"!==w&&"v"!==w||(w="l"),"m"!==w&&"l"!==w||(y-=E,v-=L);var O=g(h,[y,v]);"H"!==w&&"V"!==w||(w="L"),"M"!==w&&"L"!==w&&"m"!==w&&"l"!==w||(S[1]=O[0],S[2]=O[1]),S[0]=w,_+=S[0]+S.slice(1).join(",")}return k=_,_}ee.exports={circle:{n:0,f:function(p,c,x){if(s(c))return a;var g=d(p,2),h="M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z";return x?u(c,x,h):h}},square:{n:1,f:function(p,c,x){if(s(c))return a;var g=d(p,2);return u(c,x,"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")}},diamond:{n:2,f:function(p,c,x){if(s(c))return a;var g=d(1.3*p,2);return u(c,x,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"Z")}},cross:{n:3,f:function(p,c,x){if(s(c))return a;var g=d(.4*p,2),h=d(1.2*p,2);return u(c,x,"M"+h+","+g+"H"+g+"V"+h+"H-"+g+"V"+g+"H-"+h+"V-"+g+"H-"+g+"V-"+h+"H"+g+"V-"+g+"H"+h+"Z")}},x:{n:4,f:function(p,c,x){if(s(c))return a;var g=d(.8*p/t,2),h="l"+g+","+g,y="l"+g+",-"+g,v="l-"+g+",-"+g,m="l-"+g+","+g;return u(c,x,"M0,"+g+h+y+v+y+v+m+v+m+h+m+h+"Z")}},"triangle-up":{n:5,f:function(p,c,x){if(s(c))return a;var g=d(2*p/i,2);return u(c,x,"M-"+g+","+d(p/2,2)+"H"+g+"L0,-"+d(p,2)+"Z")}},"triangle-down":{n:6,f:function(p,c,x){if(s(c))return a;var g=d(2*p/i,2);return u(c,x,"M-"+g+",-"+d(p/2,2)+"H"+g+"L0,"+d(p,2)+"Z")}},"triangle-left":{n:7,f:function(p,c,x){if(s(c))return a;var g=d(2*p/i,2);return u(c,x,"M"+d(p/2,2)+",-"+g+"V"+g+"L-"+d(p,2)+",0Z")}},"triangle-right":{n:8,f:function(p,c,x){if(s(c))return a;var g=d(2*p/i,2);return u(c,x,"M-"+d(p/2,2)+",-"+g+"V"+g+"L"+d(p,2)+",0Z")}},"triangle-ne":{n:9,f:function(p,c,x){if(s(c))return a;var g=d(.6*p,2),h=d(1.2*p,2);return u(c,x,"M-"+h+",-"+g+"H"+g+"V"+h+"Z")}},"triangle-se":{n:10,f:function(p,c,x){if(s(c))return a;var g=d(.6*p,2),h=d(1.2*p,2);return u(c,x,"M"+g+",-"+h+"V"+g+"H-"+h+"Z")}},"triangle-sw":{n:11,f:function(p,c,x){if(s(c))return a;var g=d(.6*p,2),h=d(1.2*p,2);return u(c,x,"M"+h+","+g+"H-"+g+"V-"+h+"Z")}},"triangle-nw":{n:12,f:function(p,c,x){if(s(c))return a;var g=d(.6*p,2),h=d(1.2*p,2);return u(c,x,"M-"+g+","+h+"V-"+g+"H"+h+"Z")}},pentagon:{n:13,f:function(p,c,x){if(s(c))return a;var g=d(.951*p,2),h=d(.588*p,2),y=d(-p,2),v=d(-.309*p,2);return u(c,x,"M"+g+","+v+"L"+h+","+d(.809*p,2)+"H-"+h+"L-"+g+","+v+"L0,"+y+"Z")}},hexagon:{n:14,f:function(p,c,x){if(s(c))return a;var g=d(p,2),h=d(p/2,2),y=d(p*i/2,2);return u(c,x,"M"+y+",-"+h+"V"+h+"L0,"+g+"L-"+y+","+h+"V-"+h+"L0,-"+g+"Z")}},hexagon2:{n:15,f:function(p,c,x){if(s(c))return a;var g=d(p,2),h=d(p/2,2),y=d(p*i/2,2);return u(c,x,"M-"+h+","+y+"H"+h+"L"+g+",0L"+h+",-"+y+"H-"+h+"L-"+g+",0Z")}},octagon:{n:16,f:function(p,c,x){if(s(c))return a;var g=d(.924*p,2),h=d(.383*p,2);return u(c,x,"M-"+h+",-"+g+"H"+h+"L"+g+",-"+h+"V"+h+"L"+h+","+g+"H-"+h+"L-"+g+","+h+"V-"+h+"Z")}},star:{n:17,f:function(p,c,x){if(s(c))return a;var g=1.4*p,h=d(.225*g,2),y=d(.951*g,2),v=d(.363*g,2),m=d(.588*g,2),_=d(-g,2),f=d(-.309*g,2),S=d(.118*g,2),w=d(.809*g,2);return u(c,x,"M"+h+","+f+"H"+y+"L"+v+","+S+"L"+m+","+w+"L0,"+d(.382*g,2)+"L-"+m+","+w+"L-"+v+","+S+"L-"+y+","+f+"H-"+h+"L0,"+_+"Z")}},hexagram:{n:18,f:function(p,c,x){if(s(c))return a;var g=d(.66*p,2),h=d(.38*p,2),y=d(.76*p,2);return u(c,x,"M-"+y+",0l-"+h+",-"+g+"h"+y+"l"+h+",-"+g+"l"+h+","+g+"h"+y+"l-"+h+","+g+"l"+h+","+g+"h-"+y+"l-"+h+","+g+"l-"+h+",-"+g+"h-"+y+"Z")}},"star-triangle-up":{n:19,f:function(p,c,x){if(s(c))return a;var g=d(p*i*.8,2),h=d(.8*p,2),y=d(1.6*p,2),v=d(4*p,2),m="A "+v+","+v+" 0 0 1 ";return u(c,x,"M-"+g+","+h+m+g+","+h+m+"0,-"+y+m+"-"+g+","+h+"Z")}},"star-triangle-down":{n:20,f:function(p,c,x){if(s(c))return a;var g=d(p*i*.8,2),h=d(.8*p,2),y=d(1.6*p,2),v=d(4*p,2),m="A "+v+","+v+" 0 0 1 ";return u(c,x,"M"+g+",-"+h+m+"-"+g+",-"+h+m+"0,"+y+m+g+",-"+h+"Z")}},"star-square":{n:21,f:function(p,c,x){if(s(c))return a;var g=d(1.1*p,2),h=d(2*p,2),y="A "+h+","+h+" 0 0 1 ";return u(c,x,"M-"+g+",-"+g+y+"-"+g+","+g+y+g+","+g+y+g+",-"+g+y+"-"+g+",-"+g+"Z")}},"star-diamond":{n:22,f:function(p,c,x){if(s(c))return a;var g=d(1.4*p,2),h=d(1.9*p,2),y="A "+h+","+h+" 0 0 1 ";return u(c,x,"M-"+g+",0"+y+"0,"+g+y+g+",0"+y+"0,-"+g+y+"-"+g+",0Z")}},"diamond-tall":{n:23,f:function(p,c,x){if(s(c))return a;var g=d(.7*p,2),h=d(1.4*p,2);return u(c,x,"M0,"+h+"L"+g+",0L0,-"+h+"L-"+g+",0Z")}},"diamond-wide":{n:24,f:function(p,c,x){if(s(c))return a;var g=d(1.4*p,2),h=d(.7*p,2);return u(c,x,"M0,"+h+"L"+g+",0L0,-"+h+"L-"+g+",0Z")}},hourglass:{n:25,f:function(p,c,x){if(s(c))return a;var g=d(p,2);return u(c,x,"M"+g+","+g+"H-"+g+"L"+g+",-"+g+"H-"+g+"Z")},noDot:!0},bowtie:{n:26,f:function(p,c,x){if(s(c))return a;var g=d(p,2);return u(c,x,"M"+g+","+g+"V-"+g+"L-"+g+","+g+"V-"+g+"Z")},noDot:!0},"circle-cross":{n:27,f:function(p,c,x){if(s(c))return a;var g=d(p,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(p,c,x){if(s(c))return a;var g=d(p,2),h=d(p/t,2);return u(c,x,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(p,c,x){if(s(c))return a;var g=d(p,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(p,c,x){if(s(c))return a;var g=d(p,2);return u(c,x,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(p,c,x){if(s(c))return a;var g=d(1.3*p,2);return u(c,x,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM0,-"+g+"V"+g+"M-"+g+",0H"+g)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(p,c,x){if(s(c))return a;var g=d(1.3*p,2),h=d(.65*p,2);return u(c,x,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM-"+h+",-"+h+"L"+h+","+h+"M-"+h+","+h+"L"+h+",-"+h)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(p,c,x){if(s(c))return a;var g=d(1.4*p,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(p,c,x){if(s(c))return a;var g=d(p,2);return u(c,x,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(p,c,x){if(s(c))return a;var g=d(1.2*p,2),h=d(.85*p,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(p,c,x){if(s(c))return a;var g=d(p/2,2),h=d(p,2);return u(c,x,"M"+g+","+h+"V-"+h+"M"+(g-h)+",-"+h+"V"+h+"M"+h+","+g+"H-"+h+"M-"+h+","+(g-h)+"H"+h)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(p,c,x){if(s(c))return a;var g=d(1.2*p,2),h=d(1.6*p,2),y=d(.8*p,2);return u(c,x,"M-"+g+","+y+"L0,0M"+g+","+y+"L0,0M0,-"+h+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(p,c,x){if(s(c))return a;var g=d(1.2*p,2),h=d(1.6*p,2),y=d(.8*p,2);return u(c,x,"M-"+g+",-"+y+"L0,0M"+g+",-"+y+"L0,0M0,"+h+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(p,c,x){if(s(c))return a;var g=d(1.2*p,2),h=d(1.6*p,2),y=d(.8*p,2);return u(c,x,"M"+y+","+g+"L0,0M"+y+",-"+g+"L0,0M-"+h+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(p,c,x){if(s(c))return a;var g=d(1.2*p,2),h=d(1.6*p,2),y=d(.8*p,2);return u(c,x,"M-"+y+","+g+"L0,0M-"+y+",-"+g+"L0,0M"+h+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(p,c,x){if(s(c))return a;var g=d(1.4*p,2);return u(c,x,"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(p,c,x){if(s(c))return a;var g=d(1.4*p,2);return u(c,x,"M0,"+g+"V-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(p,c,x){if(s(c))return a;var g=d(p,2);return u(c,x,"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(p,c,x){if(s(c))return a;var g=d(p,2);return u(c,x,"M"+g+","+g+"L-"+g+",-"+g)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(p,c,x){if(s(c))return a;var g=d(p,2);return u(c,x,"M0,0L-"+g+","+d(2*p,2)+"H"+g+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(p,c,x){if(s(c))return a;var g=d(p,2);return u(c,x,"M0,0L-"+g+",-"+d(2*p,2)+"H"+g+"Z")},noDot:!0},"arrow-left":{n:47,f:function(p,c,x){if(s(c))return a;var g=d(2*p,2),h=d(p,2);return u(c,x,"M0,0L"+g+",-"+h+"V"+h+"Z")},noDot:!0},"arrow-right":{n:48,f:function(p,c,x){if(s(c))return a;var g=d(2*p,2),h=d(p,2);return u(c,x,"M0,0L-"+g+",-"+h+"V"+h+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(p,c,x){if(s(c))return a;var g=d(p,2);return u(c,x,"M-"+g+",0H"+g+"M0,0L-"+g+","+d(2*p,2)+"H"+g+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(p,c,x){if(s(c))return a;var g=d(p,2);return u(c,x,"M-"+g+",0H"+g+"M0,0L-"+g+",-"+d(2*p,2)+"H"+g+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(p,c,x){if(s(c))return a;var g=d(2*p,2),h=d(p,2);return u(c,x,"M0,-"+h+"V"+h+"M0,0L"+g+",-"+h+"V"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(p,c,x){if(s(c))return a;var g=d(2*p,2),h=d(p,2);return u(c,x,"M0,-"+h+"V"+h+"M0,0L-"+g+",-"+h+"V"+h+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(p,c,x){if(s(c))return a;var g=r/2.5,h=2*p*n(g),y=2*p*o(g);return u(c,x,"M0,0L"+-h+","+y+"L"+h+","+y+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(p,c,x){if(s(c))return a;var g=r/4,h=2*p*n(g),y=2*p*o(g);return u(c,x,"M0,0L"+-h+","+y+"A "+2*p+","+2*p+" 0 0 1 "+h+","+y+"Z")},backoff:.4,noDot:!0}}},25673:function(ee){"use strict";ee.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(ee,D,e){"use strict";var A=e(92770),k=e(73972),l=e(89298),T=e(71828),b=e(45827);function d(a,t,i,r){var n=t["error_"+r]||{},o=[];if(n.visible&&-1!==["linear","log"].indexOf(i.type)){for(var s=b(n),u=0;u<a.length;u++){var p=a[u],c=p.i;if(void 0===c)c=u;else if(null===c)continue;var x=p[r];if(A(i.c2l(x))){var g=s(x,c);if(A(g[0])&&A(g[1])){var h=p[r+"s"]=x-g[0],y=p[r+"h"]=x+g[1];o.push(h,y)}}}var m=t._extremes[i._id],_=l.findExtremes(i,o,T.extendFlat({tozero:m.opts.tozero},{padded:!0}));m.min=m.min.concat(_.min),m.max=m.max.concat(_.max)}}ee.exports=function(a){for(var t=a.calcdata,i=0;i<t.length;i++){var r=t[i],n=r[0].trace;if(!0===n.visible&&k.traceIs(n,"errorBarsOK")){var o=l.getFromId(a,n.xaxis),s=l.getFromId(a,n.yaxis);d(r,n,o,"x"),d(r,n,s,"y")}}}},45827:function(ee){"use strict";function D(e,A){return"percent"===e?function(k){return Math.abs(k*A/100)}:"constant"===e?function(){return Math.abs(A)}:"sqrt"===e?function(k){return Math.sqrt(Math.abs(k))}:void 0}ee.exports=function(e){var A=e.type,k=e.symmetric;if("data"===A){var l=e.array||[];if(k)return function(a,t){var i=+l[t];return[i,i]};var T=e.arrayminus||[];return function(a,t){var i=+l[t],r=+T[t];return isNaN(i)&&isNaN(r)?[NaN,NaN]:[r||0,i||0]}}var b=D(A,e.value),d=D(A,e.valueminus);return k||void 0===e.valueminus?function(a){var t=b(a);return[t,t]}:function(a){return[d(a),b(a)]}}},97587:function(ee,D,e){"use strict";var A=e(92770),k=e(73972),l=e(71828),T=e(44467),b=e(25673);ee.exports=function(d,a,t,i){var r="error_"+i.axis,n=T.newContainer(a,r),o=d[r]||{};function s(x,g){return l.coerce(o,n,b,x,g)}if(!1!==s("visible",void 0!==o.array||void 0!==o.value||"sqrt"===o.type)){var u=s("type","array"in o?"data":"percent"),p=!0;"sqrt"!==u&&(p=s("symmetric",!(("data"===u?"arrayminus":"valueminus")in o))),"data"===u?(s("array"),s("traceref"),p||(s("arrayminus"),s("tracerefminus"))):"percent"!==u&&"constant"!==u||(s("value"),p||s("valueminus"));var c="copy_"+i.inherit+"style";i.inherit&&(a["error_"+i.inherit]||{}).visible&&s(c,!(o.color||A(o.thickness)||A(o.width))),i.inherit&&n[c]||(s("color",t),s("thickness"),s("width",k.traceIs(a,"gl3d")?0:4))}}},37369:function(ee,D,e){"use strict";var A=e(71828),k=e(30962).overrideAll,l=e(25673),T={error_x:A.extendFlat({},l),error_y:A.extendFlat({},l)};delete T.error_x.copy_zstyle,delete T.error_y.copy_zstyle,delete T.error_y.copy_ystyle;var b={error_x:A.extendFlat({},l),error_y:A.extendFlat({},l),error_z:A.extendFlat({},l)};delete b.error_x.copy_ystyle,delete b.error_y.copy_ystyle,delete b.error_z.copy_ystyle,delete b.error_z.copy_zstyle,ee.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:T,bar:T,histogram:T,scatter3d:k(b,"calc","nested"),scattergl:k(T,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:function(d,a,t){(a.error_y||{}).visible&&(t.yerr=d.yh-d.y,a.error_y.symmetric||(t.yerrneg=d.y-d.ys)),(a.error_x||{}).visible&&(t.xerr=d.xh-d.x,a.error_x.symmetric||(t.xerrneg=d.x-d.xs))}}},19398:function(ee,D,e){"use strict";var A=e(39898),k=e(92770),l=e(91424),T=e(34098);ee.exports=function(b,d,a,t){var i=a.xaxis,r=a.yaxis,n=t&&t.duration>0,o=b._context.staticPlot;d.each(function(s){var u,p=s[0].trace,c=p.error_x||{},x=p.error_y||{};p.ids&&(u=function(v){return v.id});var g=T.hasMarkers(p)&&p.marker.maxdisplayed>0;x.visible||c.visible||(s=[]);var h=A.select(this).selectAll("g.errorbar").data(s,u);if(h.exit().remove(),s.length){c.visible||h.selectAll("path.xerror").remove(),x.visible||h.selectAll("path.yerror").remove(),h.style("opacity",1);var y=h.enter().append("g").classed("errorbar",!0);n&&y.style("opacity",0).transition().duration(t.duration).style("opacity",1),l.setClipUrl(h,a.layerClipId,b),h.each(function(v){var C,O,R,q,m=A.select(this),_=(R=r,q={x:(O=i).c2p((C=v).x),y:R.c2p(C.y)},void 0!==C.yh&&(q.yh=R.c2p(C.yh),q.ys=R.c2p(C.ys),k(q.ys)||(q.noYS=!0,q.ys=R.c2p(C.ys,!0))),void 0!==C.xh&&(q.xh=O.c2p(C.xh),q.xs=O.c2p(C.xs),k(q.xs)||(q.noXS=!0,q.xs=O.c2p(C.xs,!0))),q);if(!g||v.vis){var f,S=m.select("path.yerror");if(x.visible&&k(_.x)&&k(_.yh)&&k(_.ys)){var w=x.width;f="M"+(_.x-w)+","+_.yh+"h"+2*w+"m-"+w+",0V"+_.ys,_.noYS||(f+="m-"+w+",0h"+2*w),S.size()?n&&(S=S.transition().duration(t.duration).ease(t.easing)):S=m.append("path").style("vector-effect",o?"none":"non-scaling-stroke").classed("yerror",!0),S.attr("d",f)}else S.remove();var E=m.select("path.xerror");if(c.visible&&k(_.y)&&k(_.xh)&&k(_.xs)){var L=(c.copy_ystyle?x:c).width;f="M"+_.xh+","+(_.y-L)+"v"+2*L+"m0,-"+L+"H"+_.xs,_.noXS||(f+="m0,-"+L+"v"+2*L),E.size()?n&&(E=E.transition().duration(t.duration).ease(t.easing)):E=m.append("path").style("vector-effect",o?"none":"non-scaling-stroke").classed("xerror",!0),E.attr("d",f)}else E.remove()}})}})}},62662:function(ee,D,e){"use strict";var A=e(39898),k=e(7901);ee.exports=function(l){l.each(function(T){var b=T[0].trace,d=b.error_y||{},a=b.error_x||{},t=A.select(this);t.selectAll("path.yerror").style("stroke-width",d.thickness+"px").call(k.stroke,d.color),a.copy_ystyle&&(a=d),t.selectAll("path.xerror").style("stroke-width",a.thickness+"px").call(k.stroke,a.color)})}},77914:function(ee,D,e){"use strict";var A=e(41940),k=e(528).hoverlabel,l=e(1426).extendFlat;ee.exports={hoverlabel:{bgcolor:l({},k.bgcolor,{arrayOk:!0}),bordercolor:l({},k.bordercolor,{arrayOk:!0}),font:A({arrayOk:!0,editType:"none"}),align:l({},k.align,{arrayOk:!0}),namelength:l({},k.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(ee,D,e){"use strict";var A=e(71828),k=e(73972);function l(T,b,d,a){a=a||A.identity,Array.isArray(T)&&(b[0][d]=a(T))}ee.exports=function(T){var b=T.calcdata,d=T._fullLayout;function a(o){return function(s){return A.coerceHoverinfo({hoverinfo:s},{_module:o._module},d)}}for(var t=0;t<b.length;t++){var i=b[t],r=i[0].trace;if(!k.traceIs(r,"pie-like")){var n=k.traceIs(r,"2dMap")?l:A.fillArray;n(r.hoverinfo,i,"hi",a(r)),r.hovertemplate&&n(r.hovertemplate,i,"ht"),r.hoverlabel&&(n(r.hoverlabel.bgcolor,i,"hbg"),n(r.hoverlabel.bordercolor,i,"hbc"),n(r.hoverlabel.font.size,i,"hts"),n(r.hoverlabel.font.color,i,"htc"),n(r.hoverlabel.font.family,i,"htf"),n(r.hoverlabel.namelength,i,"hnl"),n(r.hoverlabel.align,i,"hta"))}}}},75914:function(ee,D,e){"use strict";var A=e(73972),k=e(88335).hover;ee.exports=function(l,T,b){var d=A.getComponentMethod("annotations","onClick")(l,l._hoverdata);function a(){l.emit("plotly_click",{points:l._hoverdata,event:T})}void 0!==b&&k(l,T,b,!0),l._hoverdata&&T&&T.target&&(d&&d.then?d.then(a):a(),T.stopImmediatePropagation&&T.stopImmediatePropagation())}},26675:function(ee){"use strict";ee.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(ee,D,e){"use strict";var A=e(71828),k=e(77914),l=e(38048);ee.exports=function(T,b,d,a){var t=A.extendFlat({},a.hoverlabel);b.hovertemplate&&(t.namelength=-1),l(T,b,function(i,r){return A.coerce(T,b,k,i,r)},t)}},23469:function(ee,D,e){"use strict";var A=e(71828);D.getSubplot=function(a){return a.subplot||a.xaxis+a.yaxis||a.geo},D.isTraceInSubplots=function(a,t){if("splom"===a.type){for(var i=a.xaxes||[],r=a.yaxes||[],n=0;n<i.length;n++)for(var o=0;o<r.length;o++)if(-1!==t.indexOf(i[n]+r[o]))return!0;return!1}return-1!==t.indexOf(D.getSubplot(a))},D.flat=function(a,t){for(var i=new Array(a.length),r=0;r<a.length;r++)i[r]=t;return i},D.p2c=function(a,t){for(var i=new Array(a.length),r=0;r<a.length;r++)i[r]=a[r].p2c(t);return i},D.getDistanceFunction=function(a,t,i,r){return"closest"===a?r||D.quadrature(t,i):"x"===a.charAt(0)?t:i},D.getClosest=function(a,t,i){if(!1!==i.index)i.index>=0&&i.index<a.length?i.distance=0:i.index=!1;else for(var r=0;r<a.length;r++){var n=t(a[r]);n<=i.distance&&(i.index=r,i.distance=n)}return i},D.inbox=function(a,t,i){return a*t<0||0===a?i:1/0},D.quadrature=function(a,t){return function(i){var r=a(i),n=t(i);return Math.sqrt(r*r+n*n)}},D.makeEventData=function(a,t,i){var r="index"in a?a.index:a.pointNumber,n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:r};if(t._indexToPoints){var o=t._indexToPoints[r];1===o.length?n.pointIndex=o[0]:n.pointIndices=o}else n.pointIndex=r;return t._module.eventData?n=t._module.eventData(n,a,t,i,r):("xVal"in a?n.x=a.xVal:"x"in a&&(n.x=a.x),"yVal"in a?n.y=a.yVal:"y"in a&&(n.y=a.y),a.xa&&(n.xaxis=a.xa),a.ya&&(n.yaxis=a.ya),void 0!==a.zLabelVal&&(n.z=a.zLabelVal)),D.appendArrayPointValue(n,t,r),n},D.appendArrayPointValue=function(a,t,i){var r=t._arrayAttrs;if(r)for(var n=0;n<r.length;n++){var o=r[n],s=l(o);if(void 0===a[s]){var u=T(A.nestedProperty(t,o).get(),i);void 0!==u&&(a[s]=u)}}},D.appendArrayMultiPointValues=function(a,t,i){var r=t._arrayAttrs;if(r)for(var n=0;n<r.length;n++){var o=r[n],s=l(o);if(void 0===a[s]){for(var u=A.nestedProperty(t,o).get(),p=new Array(i.length),c=0;c<i.length;c++)p[c]=T(u,i[c]);a[s]=p}}};var k={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function l(a){return k[a]||a}function T(a,t){return Array.isArray(t)?Array.isArray(a)&&Array.isArray(a[t[0]])?a[t[0]][t[1]]:void 0:a[t]}var b={x:!0,y:!0},d={"x unified":!0,"y unified":!0};D.isUnifiedHover=function(a){return"string"==typeof a&&!!d[a]},D.isXYhover=function(a){return"string"==typeof a&&!!b[a]}},88335:function(ee,D,e){"use strict";var A=e(39898),k=e(92770),l=e(84267),T=e(71828),b=T.strTranslate,d=T.strRotate,a=e(11086),t=e(63893),i=e(39918),r=e(91424),n=e(7901),o=e(28569),s=e(89298),u=e(73972),p=e(23469),c=e(26675),x=e(99017),g=e(43969),h=c.YANGLE,y=Math.PI*h/180,v=1/Math.sin(y),m=Math.cos(y),_=Math.sin(y),f=c.HOVERARROWSIZE,S=c.HOVERTEXTPAD,w={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};function L(Y){return[Y.trace.index,Y.index,Y.x0,Y.y0,Y.name,Y.attr,Y.xa?Y.xa._id:"",Y.ya?Y.ya._id:""].join(",")}D.hover=function(Y,W,$,ne){Y=T.getGraphDiv(Y);var re=W.target;T.throttle(Y._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){!function(oe,ue,xe,Me,me){xe||(xe="xy");var pe=Array.isArray(xe)?xe:[xe],ge=oe._fullLayout,Pe=ge._plots||[],_e=Pe[xe],we=ge._has("cartesian");if(_e){var se=_e.overlays.map(function(Ft){return Ft.id});pe=pe.concat(se)}for(var ae=pe.length,fe=new Array(ae),Ee=new Array(ae),ke=!1,be=0;be<ae;be++){var Ie=pe[be];if(Pe[Ie])ke=!0,fe[be]=Pe[Ie].xaxis,Ee[be]=Pe[Ie].yaxis;else{if(!ge[Ie]||!ge[Ie]._subplot)return void T.warn("Unrecognized subplot: "+Ie);var Fe=ge[Ie]._subplot;fe[be]=Fe.xaxis,Ee[be]=Fe.yaxis}}var ce=ue.hovermode||ge.hovermode;if(ce&&!ke&&(ce="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(ce)||!oe.calcdata||oe.querySelector(".zoombox")||oe._dragging)return o.unhoverRaw(oe,ue);var Te=ge.hoverdistance;-1===Te&&(Te=1/0);var ve=ge.spikedistance;-1===ve&&(ve=1/0);var Ce,Re,Oe,je,qe,Je,it,Qe,dt,yt,mt,at,st,Tt=[],At=[],Pt={hLinePoint:null,vLinePoint:null},kt=!1;if(Array.isArray(ue))for(ce="array",Oe=0;Oe<ue.length;Oe++)(qe=oe.calcdata[ue[Oe].curveNumber||0])&&(Je=qe[0].trace,"skip"!==qe[0].trace.hoverinfo&&(At.push(qe),"h"===Je.orientation&&(kt=!0)));else{for(je=0;je<oe.calcdata.length;je++)"skip"!==(Je=(qe=oe.calcdata[je])[0].trace).hoverinfo&&p.isTraceInSubplots(Je,pe)&&(At.push(qe),"h"===Je.orientation&&(kt=!0));var Ze,Xe;if(me){if(!1===a.triggerHandler(oe,"plotly_beforehover",ue))return;var He=me.getBoundingClientRect();Ze=ue.clientX-He.left,Xe=ue.clientY-He.top,ge._calcInverseTransform(oe);var We=T.apply3DTransform(ge._invTransform)(Ze,Xe);if(Xe=We[1],(Ze=We[0])<0||Ze>fe[0]._length||Xe<0||Xe>Ee[0]._length)return o.unhoverRaw(oe,ue)}else Ze="xpx"in ue?ue.xpx:fe[0]._length/2,Xe="ypx"in ue?ue.ypx:Ee[0]._length/2;if(ue.pointerX=Ze+fe[0]._offset,ue.pointerY=Xe+Ee[0]._offset,Ce="xval"in ue?p.flat(pe,ue.xval):p.p2c(fe,Ze),Re="yval"in ue?p.flat(pe,ue.yval):p.p2c(Ee,Xe),!k(Ce[0])||!k(Re[0]))return T.warn("Fx.hover failed",ue,oe),o.unhoverRaw(oe,ue)}var rt=1/0;function nt(Ft,tn){for(je=0;je<At.length;je++)if((qe=At[je])&&qe[0]&&qe[0].trace&&!0===(Je=qe[0].trace).visible&&0!==Je._length&&-1===["carpet","contourcarpet"].indexOf(Je._module.name)){if("splom"===Je.type?it=pe[Qe=0]:(it=p.getSubplot(Je),Qe=pe.indexOf(it)),p.isUnifiedHover(dt=ce)&&(dt=dt.charAt(0)),at={cd:qe,trace:Je,xa:fe[Qe],ya:Ee[Qe],maxHoverDistance:Te,maxSpikeDistance:ve,index:!1,distance:Math.min(rt,Te),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:Je.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ge[it]&&(at.subplot=ge[it]._subplot),ge._splomScenes&&ge._splomScenes[Je.uid]&&(at.scene=ge._splomScenes[Je.uid]),st=Tt.length,"array"===dt){var cn=ue[je];"pointNumber"in cn?(at.index=cn.pointNumber,dt="closest"):(dt="","xval"in cn&&(yt=cn.xval,dt="x"),"yval"in cn&&(mt=cn.yval,dt=dt?"closest":"y"))}else void 0!==Ft&&void 0!==tn?(yt=Ft,mt=tn):(yt=Ce[Qe],mt=Re[Qe]);if(0!==Te)if(Je._module&&Je._module.hoverPoints){var dn=Je._module.hoverPoints(at,yt,mt,dt,{finiteRange:!0,hoverLayer:ge._hoverlayer});if(dn)for(var kn,Vn=0;Vn<dn.length;Vn++)k((kn=dn[Vn]).x0)&&k(kn.y0)&&Tt.push(U(kn,ce))}else T.log("Unrecognized trace type in hover:",Je);if("closest"===ce&&Tt.length>st&&(Tt.splice(0,st),rt=Tt[0].distance),we&&0!==ve&&0===Tt.length){at.distance=ve,at.index=!1;var In=Je._module.hoverPoints(at,yt,mt,"closest",{hoverLayer:ge._hoverlayer});if(In&&(In=In.filter(function(qt){return qt.spikeDistance<=ve})),In&&In.length){var Dn,Kn=In.filter(function(qt){return qt.xa.showspikes&&"hovered data"!==qt.xa.spikesnap});if(Kn.length){var Vt=Kn[0];k(Vt.x0)&&k(Vt.y0)&&(Dn=Be(Vt),(!Pt.vLinePoint||Pt.vLinePoint.spikeDistance>Dn.spikeDistance)&&(Pt.vLinePoint=Dn))}var _n=In.filter(function(qt){return qt.ya.showspikes&&"hovered data"!==qt.ya.spikesnap});if(_n.length){var Mt=_n[0];k(Mt.x0)&&k(Mt.y0)&&(Dn=Be(Mt),(!Pt.hLinePoint||Pt.hLinePoint.spikeDistance>Dn.spikeDistance)&&(Pt.hLinePoint=Dn))}}}}}function ze(Ft,tn,cn){for(var dn,kn=null,Vn=1/0,In=0;In<Ft.length;In++)dn=Ft[In].spikeDistance,cn&&0===In&&(dn=-1/0),dn<=Vn&&dn<=tn&&(kn=Ft[In],Vn=dn);return kn}function Be(Ft){return Ft?{xa:Ft.xa,ya:Ft.ya,x:void 0!==Ft.xSpike?Ft.xSpike:(Ft.x0+Ft.x1)/2,y:void 0!==Ft.ySpike?Ft.ySpike:(Ft.y0+Ft.y1)/2,distance:Ft.distance,spikeDistance:Ft.spikeDistance,curveNumber:Ft.trace.index,color:Ft.color,pointNumber:Ft.index}:null}nt();var tt={fullLayout:ge,container:ge._hoverlayer,event:ue},et=oe._spikepoints;oe._spikepoints={vLinePoint:Pt.vLinePoint,hLinePoint:Pt.hLinePoint};var pt=function(){Tt.sort(function(Ft,tn){return Ft.distance-tn.distance}),Tt=function(Ft,tn){for(var cn=tn.charAt(0),dn=[],kn=[],Vn=[],In=0;In<Ft.length;In++){var Dn=Ft[In];u.traceIs(Dn.trace,"bar-like")||u.traceIs(Dn.trace,"box-violin")?Vn.push(Dn):Dn.trace[cn+"period"]?kn.push(Dn):dn.push(Dn)}return dn.concat(kn).concat(Vn)}(Tt,ce)};pt();var vt=ce.charAt(0),ut=("x"===vt||"y"===vt)&&Tt[0]&&E[Tt[0].trace.type];if(we&&0!==ve&&0!==Tt.length){var wt=ze(Tt.filter(function(Ft){return Ft.ya.showspikes}),ve,ut);Pt.hLinePoint=Be(wt);var ct=ze(Tt.filter(function(Ft){return Ft.xa.showspikes}),ve,ut);Pt.vLinePoint=Be(ct)}if(0===Tt.length){var ft=o.unhoverRaw(oe,ue);return!we||null===Pt.hLinePoint&&null===Pt.vLinePoint||F(et)&&N(oe,Pt,tt),ft}if(we&&F(et)&&N(oe,Pt,tt),p.isXYhover(dt)&&0!==Tt[0].length&&"splom"!==Tt[0].trace.type){var bt=Tt[0],It=(Tt=w[bt.trace.type]?Tt.filter(function(Ft){return Ft.trace.index===bt.trace.index}):[bt]).length;nt(G("x",bt,ge),G("y",bt,ge));var Dt,Nt=[],$t={},jt=0,Yt=function(Ft){var tn=w[Ft.trace.type]?L(Ft):Ft.trace.index;if($t[tn]){var cn=$t[tn]-1,dn=Nt[cn];cn>0&&Math.abs(Ft.distance)<Math.abs(dn.distance)&&(Nt[cn]=Ft)}else jt++,$t[tn]=jt,Nt.push(Ft)};for(Dt=0;Dt<It;Dt++)Yt(Tt[Dt]);for(Dt=Tt.length-1;Dt>It-1;Dt--)Yt(Tt[Dt]);Tt=Nt,pt()}var Gt=oe._hoverdata,hn=[],yn=te(oe),on=J(oe);for(Oe=0;Oe<Tt.length;Oe++){var Ut=Tt[Oe],nn=p.makeEventData(Ut,Ut.trace,Ut.cd);if(!1!==Ut.hovertemplate){var Xt=!1;Ut.cd[Ut.index]&&Ut.cd[Ut.index].ht&&(Xt=Ut.cd[Ut.index].ht),Ut.hovertemplate=Xt||Ut.trace.hovertemplate||!1}if(Ut.xa&&Ut.ya){var rn=Ut.x0+Ut.xa._offset,fn=Ut.x1+Ut.xa._offset,gn=Ut.y0+Ut.ya._offset,An=Ut.y1+Ut.ya._offset,En=Math.min(rn,fn),bn=Math.max(rn,fn),Ln=Math.min(gn,An),Wn=Math.max(gn,An);nn.bbox={x0:En+on,x1:bn+on,y0:Ln+yn,y1:Wn+yn}}Ut.eventData=[nn],hn.push(nn)}oe._hoverdata=hn;var Qn="y"===ce&&(At.length>1||Tt.length>1)||"closest"===ce&&kt&&Tt.length>1,ir=n.combine(ge.plot_bgcolor||n.background,ge.paper_bgcolor),$n=O(Tt,{gd:oe,hovermode:ce,rotateLabels:Qn,bgColor:ir,container:ge._hoverlayer,outerContainer:ge._paper.node(),commonLabelOpts:ge.hoverlabel,hoverdistance:ge.hoverdistance}),qn=$n.hoverLabels;if(p.isUnifiedHover(ce)||(function(Ft,tn,cn,dn){var kn,Vn,In,Dn,Kn,Vt,_n,Mt=tn?"xa":"ya",qt=tn?"ya":"xa",Kt=0,mn=1,xn=Ft.size(),Mn=new Array(xn),ln=0,Wt=dn.minX,Jt=dn.maxX,sn=dn.minY,un=dn.maxY,Sn=function(ur){return ur*cn._invScaleX},Cn=function(ur){return ur*cn._invScaleY};function jn(ur){var _r=ur[0],Zn=ur[ur.length-1];if(In=Zn.pos+Zn.dp+Zn.size-_r.pmax,(Vn=_r.pmin-_r.pos-_r.dp+_r.size)>.01){for(Kn=ur.length-1;Kn>=0;Kn--)ur[Kn].dp+=Vn;kn=!1}if(!(In<.01)){if(Vn<-.01){for(Kn=ur.length-1;Kn>=0;Kn--)ur[Kn].dp-=In;kn=!1}if(kn){var pr=0;for(Dn=0;Dn<ur.length;Dn++)(Vt=ur[Dn]).pos+Vt.dp+Vt.size>_r.pmax&&pr++;for(Dn=ur.length-1;Dn>=0&&!(pr<=0);Dn--)(Vt=ur[Dn]).pos>_r.pmax-1&&(Vt.del=!0,pr--);for(Dn=0;Dn<ur.length&&!(pr<=0);Dn++)if((Vt=ur[Dn]).pos<_r.pmin+1)for(Vt.del=!0,pr--,In=2*Vt.size,Kn=ur.length-1;Kn>=0;Kn--)ur[Kn].dp-=In;for(Dn=ur.length-1;Dn>=0&&!(pr<=0);Dn--)(Vt=ur[Dn]).pos+Vt.dp+Vt.size>_r.pmax&&(Vt.del=!0,pr--)}}}for(Ft.each(function(ur){var _r=ur[Mt],Zn=ur[qt],pr="x"===_r._id.charAt(0),Lr=_r.range;0===ln&&Lr&&Lr[0]>Lr[1]!==pr&&(mn=-1);var Yr=0,si=pr?cn.width:cn.height;if("x"===cn.hovermode||"y"===cn.hovermode){var ii,hi,Qr=q(ur,tn),wi=ur.anchor,qa="end"===wi?-1:1;if("middle"===wi)hi=(ii=ur.crossPos+(pr?Cn(Qr.y-ur.by/2):Sn(ur.bx/2+ur.tx2width/2)))+(pr?Cn(ur.by):Sn(ur.bx));else if(pr)hi=(ii=ur.crossPos+Cn(f+Qr.y)-Cn(ur.by/2-f))+Cn(ur.by);else{var da=Sn(qa*f+Qr.x),no=da+Sn(qa*ur.bx);ii=ur.crossPos+Math.min(da,no),hi=ur.crossPos+Math.max(da,no)}pr?void 0!==sn&&void 0!==un&&Math.min(hi,un)-Math.max(ii,sn)>1&&("left"===Zn.side?(Yr=Zn._mainLinePosition,si=cn.width):si=Zn._mainLinePosition):void 0!==Wt&&void 0!==Jt&&Math.min(hi,Jt)-Math.max(ii,Wt)>1&&("top"===Zn.side?(Yr=Zn._mainLinePosition,si=cn.height):si=Zn._mainLinePosition)}Mn[ln++]=[{datum:ur,traceIndex:ur.trace.index,dp:0,pos:ur.pos,posref:ur.posref,size:ur.by*(pr?v:1)/2,pmin:Yr,pmax:si}]}),Mn.sort(function(ur,_r){return ur[0].posref-_r[0].posref||mn*(_r[0].traceIndex-ur[0].traceIndex)});!kn&&Kt<=xn;){for(Kt++,kn=!0,Dn=0;Dn<Mn.length-1;){var Fn=Mn[Dn],Xn=Mn[Dn+1],Hn=Fn[Fn.length-1],nr=Xn[0];if((Vn=Hn.pos+Hn.dp+Hn.size-nr.pos-nr.dp+nr.size)>.01&&Hn.pmin===nr.pmin&&Hn.pmax===nr.pmax){for(Kn=Xn.length-1;Kn>=0;Kn--)Xn[Kn].dp+=Vn;for(Fn.push.apply(Fn,Xn),Mn.splice(Dn+1,1),_n=0,Kn=Fn.length-1;Kn>=0;Kn--)_n+=Fn[Kn].dp;for(In=_n/Fn.length,Kn=Fn.length-1;Kn>=0;Kn--)Fn[Kn].dp-=In;kn=!1}else Dn++}Mn.forEach(jn)}for(Dn=Mn.length-1;Dn>=0;Dn--){var er=Mn[Dn];for(Kn=er.length-1;Kn>=0;Kn--){var tr=er[Kn],lr=tr.datum;lr.offset=tr.dp,lr.del=tr.del}}}(qn,Qn,ge,$n.commonLabelBoundingBox),P(qn,Qn,ge._invScaleX,ge._invScaleY)),me&&me.tagName){var dr=u.getComponentMethod("annotations","hasClickToShow")(oe,hn);i(A.select(me),dr?"pointer":"")}me&&!Me&&function(Ft,tn,cn){if(!cn||cn.length!==Ft._hoverdata.length)return!0;for(var dn=cn.length-1;dn>=0;dn--){var kn=cn[dn],Vn=Ft._hoverdata[dn];if(kn.curveNumber!==Vn.curveNumber||String(kn.pointNumber)!==String(Vn.pointNumber)||String(kn.pointNumbers)!==String(Vn.pointNumbers))return!0}return!1}(oe,0,Gt)&&(Gt&&oe.emit("plotly_unhover",{event:ue,points:Gt}),oe.emit("plotly_hover",{event:ue,points:oe._hoverdata,xaxes:fe,yaxes:Ee,xvals:Ce,yvals:Re}))}(Y,W,$,ne,re)})},D.loneHover=function(Y,W){var $=!0;Array.isArray(Y)||($=!1,Y=[Y]);var ne=W.gd,re=te(ne),oe=J(ne),ue=O(Y.map(function(me){var pe=me._x0||me.x0||me.x||0,ge=me._x1||me.x1||me.x||0,Pe=me._y0||me.y0||me.y||0,_e=me._y1||me.y1||me.y||0,we=me.eventData;if(we){var se=Math.min(pe,ge),ae=Math.max(pe,ge),fe=Math.min(Pe,_e),Ee=Math.max(Pe,_e),ke=me.trace;if(u.traceIs(ke,"gl3d")){var be=ne._fullLayout[ke.scene]._scene.container,Ie=be.offsetLeft,Fe=be.offsetTop;se+=Ie,ae+=Ie,fe+=Fe,Ee+=Fe}we.bbox={x0:se+oe,x1:ae+oe,y0:fe+re,y1:Ee+re},W.inOut_bbox&&W.inOut_bbox.push(we.bbox)}else we=!1;return{color:me.color||n.defaultLine,x0:me.x0||me.x||0,x1:me.x1||me.x||0,y0:me.y0||me.y||0,y1:me.y1||me.y||0,xLabel:me.xLabel,yLabel:me.yLabel,zLabel:me.zLabel,text:me.text,name:me.name,idealAlign:me.idealAlign,borderColor:me.borderColor,fontFamily:me.fontFamily,fontSize:me.fontSize,fontColor:me.fontColor,nameLength:me.nameLength,textAlign:me.textAlign,trace:me.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:me.hovertemplate||!1,hovertemplateLabels:me.hovertemplateLabels||!1,eventData:we}}),{gd:ne,hovermode:"closest",rotateLabels:!1,bgColor:W.bgColor||n.background,container:A.select(W.container),outerContainer:W.outerContainer||W.container}).hoverLabels,xe=0,Me=0;return ue.sort(function(me,pe){return me.y0-pe.y0}).each(function(me,pe){var ge=me.y0-me.by/2;me.offset=ge-5<xe?xe-ge+5:0,xe=ge+me.by+me.offset,pe===W.anchorIndex&&(Me=me.offset)}).each(function(me){me.offset-=Me}),P(ue,!1,ne._fullLayout._invScaleX,ne._fullLayout._invScaleY),$?ue:ue.node()};var C=/<extra>([\s\S]*)<\/extra>/;function O(Y,W){var $=W.gd,ne=$._fullLayout,re=W.hovermode,oe=W.rotateLabels,ue=W.bgColor,xe=W.container,Me=W.outerContainer,me=W.commonLabelOpts||{};if(0===Y.length)return[[]];var pe=W.fontFamily||c.HOVERFONT,ge=W.fontSize||c.HOVERFONTSIZE,Pe=Y[0],_e=Pe.xa,we=Pe.ya,se=re.charAt(0),ae=se+"Label",fe=Pe[ae];if(void 0===fe&&"multicategory"===_e.type)for(var Ee=0;Ee<Y.length&&void 0===(fe=Y[Ee][ae]);Ee++);var ke=X($,Me),be=ke.top,Ie=ke.width,Fe=ke.height,ce=void 0!==fe&&Pe.distance<=W.hoverdistance&&("x"===re||"y"===re);if(ce){var Te,ve,Ce=!0;for(Te=0;Te<Y.length;Te++)if(Ce&&void 0===Y[Te].zLabel&&(Ce=!1),ve=Y[Te].hoverinfo||Y[Te].trace.hoverinfo){var Re=Array.isArray(ve)?ve:ve.split("+");if(-1===Re.indexOf("all")&&-1===Re.indexOf(re)){ce=!1;break}}Ce&&(ce=!1)}var Oe=xe.selectAll("g.axistext").data(ce?[0]:[]);Oe.enter().append("g").classed("axistext",!0),Oe.exit().remove();var je={minX:0,maxX:0,minY:0,maxY:0};if(Oe.each(function(){var ft=A.select(this),bt=T.ensureSingle(ft,"path","",function(Ln){Ln.style({"stroke-width":"1px"})}),It=T.ensureSingle(ft,"text","",function(Ln){Ln.attr("data-notex",1)}),Dt=me.bgcolor||n.defaultLine,Nt=me.bordercolor||n.contrast(Dt),$t=n.contrast(Dt),jt={family:me.font.family||pe,size:me.font.size||ge,color:me.font.color||$t};bt.style({fill:Dt,stroke:Nt}),It.text(fe).call(r.font,jt).call(t.positionText,0,0).call(t.convertToTspans,$),ft.attr("transform","");var Yt,Gt,hn=X($,It.node());if("x"===re){var yn="top"===_e.side?"-":"";It.attr("text-anchor","middle").call(t.positionText,0,"top"===_e.side?be-hn.bottom-f-S:be-hn.top+f+S),Gt=we._offset+("top"===_e.side?0:we._length);var on=hn.width/2+S;(Yt=_e._offset+(Pe.x0+Pe.x1)/2)<on?(Yt=on,bt.attr("d","M-"+(on-f)+",0L-"+(on-2*f)+","+yn+f+"H"+on+"v"+yn+(2*S+hn.height)+"H-"+on+"V"+yn+f+"Z")):Yt>ne.width-on?(Yt=ne.width-on,bt.attr("d","M"+(on-f)+",0L"+on+","+yn+f+"v"+yn+(2*S+hn.height)+"H-"+on+"V"+yn+f+"H"+(on-2*f)+"Z")):bt.attr("d","M0,0L"+f+","+yn+f+"H"+on+"v"+yn+(2*S+hn.height)+"H-"+on+"V"+yn+f+"H-"+f+"Z"),je.minX=Yt-on,je.maxX=Yt+on,"top"===_e.side?(je.minY=Gt-(2*S+hn.height),je.maxY=Gt-S):(je.minY=Gt+S,je.maxY=Gt+(2*S+hn.height))}else{var Ut,nn,Xt;"right"===we.side?(Ut="start",nn=1,Xt="",Yt=_e._offset+_e._length):(Ut="end",nn=-1,Xt="-",Yt=_e._offset),Gt=we._offset+(Pe.y0+Pe.y1)/2,It.attr("text-anchor",Ut),bt.attr("d","M0,0L"+Xt+f+","+f+"V"+(S+hn.height/2)+"h"+Xt+(2*S+hn.width)+"V-"+(S+hn.height/2)+"H"+Xt+f+"V-"+f+"Z"),je.minY=Gt-(S+hn.height/2),je.maxY=Gt+(S+hn.height/2),"right"===we.side?(je.minX=Yt+f,je.maxX=Yt+f+(2*S+hn.width)):(je.minX=Yt-f-(2*S+hn.width),je.maxX=Yt-f);var rn,fn=hn.height/2,gn=be-hn.top-fn,An="clip"+ne._uid+"commonlabel"+we._id;if(Yt<hn.width+2*S+f){rn="M-"+(f+S)+"-"+fn+"h-"+(hn.width-S)+"V"+fn+"h"+(hn.width-S)+"Z";var En=hn.width-Yt+S;t.positionText(It,En,gn),"end"===Ut&&It.selectAll("tspan").each(function(){var Ln=A.select(this),Wn=r.tester.append("text").text(Ln.text()).call(r.font,jt),Qn=X($,Wn.node());Math.round(Qn.width)<Math.round(hn.width)&&Ln.attr("x",En-Qn.width),Wn.remove()})}else t.positionText(It,nn*(S+f),gn),rn=null;var bn=ne._topclips.selectAll("#"+An).data(rn?[0]:[]);bn.enter().append("clipPath").attr("id",An).append("path"),bn.exit().remove(),bn.select("path").attr("d",rn),r.setClipUrl(It,rn?An:null,$)}ft.attr("transform",b(Yt,Gt))}),p.isUnifiedHover(re)){xe.selectAll("g.hovertext").remove();var qe=Y.filter(function(ft){return"none"!==ft.hoverinfo});if(0===qe.length)return[];var Je=ne.hoverlabel,it=Je.font,dt={font:it};x({showlegend:!0,legend:{title:{text:fe,font:it},font:it,bgcolor:Je.bgcolor,bordercolor:Je.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ne.legend?ne.legend.traceorder:void 0,orientation:"v"}},dt,$._fullData);var yt=dt.legend;yt.entries=[];for(var mt=0;mt<qe.length;mt++){var at=qe[mt];if("none"!==at.hoverinfo){var st=R(at,!0,re,ne,fe),Tt=st[0],At=st[1];at.name=At,at.text=""!==At?At+" : "+Tt:Tt;var Pt=at.cd[at.index];Pt&&(Pt.mc&&(at.mc=Pt.mc),Pt.mcc&&(at.mc=Pt.mcc),Pt.mlc&&(at.mlc=Pt.mlc),Pt.mlcc&&(at.mlc=Pt.mlcc),Pt.mlw&&(at.mlw=Pt.mlw),Pt.mrc&&(at.mrc=Pt.mrc),Pt.dir&&(at.dir=Pt.dir)),at._distinct=!0,yt.entries.push([at])}}yt.entries.sort(function(ft,bt){return ft[0].trace.index-bt[0].trace.index}),yt.layer=xe,yt._inHover=!0,yt._groupTitleFont=Je.grouptitlefont,g($,yt);var kt,Ze,Xe,He,We=xe.select("g.legend"),rt=X($,We.node()),nt=rt.width+2*S,ze=rt.height+2*S,Be=qe[0],tt=(Be.x0+Be.x1)/2,et=(Be.y0+Be.y1)/2,gt=!(u.traceIs(Be.trace,"bar-like")||u.traceIs(Be.trace,"box-violin"));"y"===se?gt?(Ze=et-S,kt=et+S):(Ze=Math.min.apply(null,qe.map(function(ft){return Math.min(ft.y0,ft.y1)})),kt=Math.max.apply(null,qe.map(function(ft){return Math.max(ft.y0,ft.y1)}))):Ze=kt=T.mean(qe.map(function(ft){return(ft.y0+ft.y1)/2}))-ze/2,"x"===se?gt?(Xe=tt+S,He=tt-S):(Xe=Math.max.apply(null,qe.map(function(ft){return Math.max(ft.x0,ft.x1)})),He=Math.min.apply(null,qe.map(function(ft){return Math.min(ft.x0,ft.x1)}))):Xe=He=T.mean(qe.map(function(ft){return(ft.x0+ft.x1)/2}))-nt/2;var pt,vt,ut=_e._offset,wt=we._offset;return He+=ut-nt,Ze+=wt-ze,pt=(Xe+=ut)+nt<Ie&&Xe>=0?Xe:He+nt<Ie&&He>=0?He:ut+nt<Ie?ut:Xe-tt<tt-He+nt?Ie-nt:0,vt=(kt+=wt)+ze<Fe&&kt>=0?kt:Ze+ze<Fe&&Ze>=0?Ze:wt+ze<Fe?wt:kt-et<et-Ze+ze?Fe-ze:0,We.attr("transform",b((pt+=S)-1,(vt+=S)-1)),We}var ct=xe.selectAll("g.hovertext").data(Y,function(ft){return L(ft)});return ct.enter().append("g").classed("hovertext",!0).each(function(){var ft=A.select(this);ft.append("rect").call(n.fill,n.addOpacity(ue,.8)),ft.append("text").classed("name",!0),ft.append("path").style("stroke-width","1px"),ft.append("text").classed("nums",!0).call(r.font,pe,ge)}),ct.exit().remove(),ct.each(function(ft){var bt=A.select(this).attr("transform",""),It=ft.color;Array.isArray(It)&&(It=It[ft.eventData[0].pointNumber]);var Dt=ft.bgcolor||It,Nt=n.combine(n.opacity(Dt)?Dt:n.defaultLine,ue),$t=n.combine(n.opacity(It)?It:n.defaultLine,ue),jt=ft.borderColor||n.contrast(Nt),Yt=R(ft,ce,re,ne,fe,bt),Gt=Yt[0],hn=Yt[1],yn=bt.select("text.nums").call(r.font,ft.fontFamily||pe,ft.fontSize||ge,ft.fontColor||jt).text(Gt).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,$),on=bt.select("text.name"),Ut=0,nn=0;if(hn&&hn!==Gt){on.call(r.font,ft.fontFamily||pe,ft.fontSize||ge,$t).text(hn).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,$);var Xt=X($,on.node());Ut=Xt.width+2*S,nn=Xt.height+2*S}else on.remove(),bt.select("rect").remove();bt.select("path").style({fill:Nt,stroke:jt});var rn=ft.xa._offset+(ft.x0+ft.x1)/2,fn=ft.ya._offset+(ft.y0+ft.y1)/2,gn=Math.abs(ft.x1-ft.x0),An=Math.abs(ft.y1-ft.y0),En=X($,yn.node()),bn=En.width/ne._invScaleX,Ln=En.height/ne._invScaleY;ft.ty0=(be-En.top)/ne._invScaleY,ft.bx=bn+2*S,ft.by=Math.max(Ln+2*S,nn),ft.anchor="start",ft.txwidth=bn,ft.tx2width=Ut,ft.offset=0;var Wn,Qn,ir=(bn+f+S+Ut)*ne._invScaleX;if(oe)ft.pos=rn,Wn=fn+An/2+ir<=Fe,Qn=fn-An/2-ir>=0,"top"!==ft.idealAlign&&Wn||!Qn?Wn?(fn+=An/2,ft.anchor="start"):ft.anchor="middle":(fn-=An/2,ft.anchor="end"),ft.crossPos=fn;else{if(ft.pos=fn,Wn=rn+gn/2+ir<=Ie,Qn=rn-gn/2-ir>=0,"left"!==ft.idealAlign&&Wn||!Qn)if(Wn)rn+=gn/2,ft.anchor="start";else{ft.anchor="middle";var $n=ir/2,qn=rn+$n-Ie,dr=rn-$n;qn>0&&(rn-=qn),dr<0&&(rn+=-dr)}else rn-=gn/2,ft.anchor="end";ft.crossPos=rn}yn.attr("text-anchor",ft.anchor),Ut&&on.attr("text-anchor",ft.anchor),bt.attr("transform",b(rn,fn)+(oe?d(h):""))}),{hoverLabels:ct,commonLabelBoundingBox:je}}function R(Y,W,$,ne,re,oe){var ue="",xe="";void 0!==Y.nameOverride&&(Y.name=Y.nameOverride),Y.name&&(Y.trace._meta&&(Y.name=T.templateString(Y.name,Y.trace._meta)),ue=j(Y.name,Y.nameLength));var Me=$.charAt(0);void 0!==Y.zLabel?(void 0!==Y.xLabel&&(xe+="x: "+Y.xLabel+"<br>"),void 0!==Y.yLabel&&(xe+="y: "+Y.yLabel+"<br>"),"choropleth"!==Y.trace.type&&"choroplethmapbox"!==Y.trace.type&&(xe+=(xe?"z: ":"")+Y.zLabel)):W&&Y[Me+"Label"]===re?xe=Y[("x"===Me?"y":"x")+"Label"]||"":void 0===Y.xLabel?void 0!==Y.yLabel&&"scattercarpet"!==Y.trace.type&&(xe=Y.yLabel):xe=void 0===Y.yLabel?Y.xLabel:"("+Y.xLabel+", "+Y.yLabel+")",!Y.text&&0!==Y.text||Array.isArray(Y.text)||(xe+=(xe?"<br>":"")+Y.text),void 0!==Y.extraText&&(xe+=(xe?"<br>":"")+Y.extraText),oe&&""===xe&&!Y.hovertemplate&&(""===ue&&oe.remove(),xe=ue);var pe=Y.hovertemplate||!1;if(pe){var ge=Y.hovertemplateLabels||Y;Y[Me+"Label"]!==re&&(ge[Me+"other"]=ge[Me+"Val"],ge[Me+"otherLabel"]=ge[Me+"Label"]),xe=(xe=T.hovertemplateString(pe,ge,ne._d3locale,Y.eventData[0]||{},Y.trace._meta)).replace(C,function(Pe,_e){return ue=j(_e,Y.nameLength),""})}return[xe,ue]}function q(Y,W){var $=0,ne=Y.offset;return W&&(ne*=-_,$=Y.offset*m),{x:$,y:ne}}function P(Y,W,$,ne){var re=function(ue){return ue*$},oe=function(ue){return ue*ne};Y.each(function(ue){var xe=A.select(this);if(ue.del)return xe.remove();var Me,me,pe,ge,Pe=xe.select("text.nums"),_e=ue.anchor,we="end"===_e?-1:1,se=(ge=(pe=(me={start:1,end:-1,middle:0}[(Me=ue).anchor])*(f+S))+me*(Me.txwidth+S),"middle"===Me.anchor&&(pe-=Me.tx2width/2,ge+=Me.txwidth/2+S),{alignShift:me,textShiftX:pe,text2ShiftX:ge}),ae=q(ue,W),fe=ae.x,Ee=ae.y,ke="middle"===_e;xe.select("path").attr("d",ke?"M-"+re(ue.bx/2+ue.tx2width/2)+","+oe(Ee-ue.by/2)+"h"+re(ue.bx)+"v"+oe(ue.by)+"h-"+re(ue.bx)+"Z":"M0,0L"+re(we*f+fe)+","+oe(f+Ee)+"v"+oe(ue.by/2-f)+"h"+re(we*ue.bx)+"v-"+oe(ue.by)+"H"+re(we*f+fe)+"V"+oe(Ee-f)+"Z");var be=fe+se.textShiftX,Ie=Ee+ue.ty0-ue.by/2+S,Fe=ue.textAlign||"auto";"auto"!==Fe&&("left"===Fe&&"start"!==_e?(Pe.attr("text-anchor","start"),be=ke?-ue.bx/2-ue.tx2width/2+S:-ue.bx-S):"right"===Fe&&"end"!==_e&&(Pe.attr("text-anchor","end"),be=ke?ue.bx/2-ue.tx2width/2-S:ue.bx+S)),Pe.call(t.positionText,re(be),oe(Ie)),ue.tx2width&&(xe.select("text.name").call(t.positionText,re(se.text2ShiftX+se.alignShift*S+fe),oe(Ee+ue.ty0-ue.by/2+S)),xe.select("rect").call(r.setRect,re(se.text2ShiftX+(se.alignShift-1)*ue.tx2width/2+fe),oe(Ee-ue.by/2-1),re(ue.tx2width),oe(ue.by+2)))})}function U(Y,W){var $=Y.index,ne=Y.trace||{},re=Y.cd[0],oe=Y.cd[$]||{};function ue(Pe){return Pe||k(Pe)&&0===Pe}var xe=Array.isArray($)?function(Pe,_e){var we=T.castOption(re,$,Pe);return ue(we)?we:T.extractOption({},ne,"",_e)}:function(Pe,_e){return T.extractOption(oe,ne,Pe,_e)};function Me(Pe,_e,we){var se=xe(_e,we);ue(se)&&(Y[Pe]=se)}if(Me("hoverinfo","hi","hoverinfo"),Me("bgcolor","hbg","hoverlabel.bgcolor"),Me("borderColor","hbc","hoverlabel.bordercolor"),Me("fontFamily","htf","hoverlabel.font.family"),Me("fontSize","hts","hoverlabel.font.size"),Me("fontColor","htc","hoverlabel.font.color"),Me("nameLength","hnl","hoverlabel.namelength"),Me("textAlign","hta","hoverlabel.align"),Y.posref="y"===W||"closest"===W&&"h"===ne.orientation?Y.xa._offset+(Y.x0+Y.x1)/2:Y.ya._offset+(Y.y0+Y.y1)/2,Y.x0=T.constrain(Y.x0,0,Y.xa._length),Y.x1=T.constrain(Y.x1,0,Y.xa._length),Y.y0=T.constrain(Y.y0,0,Y.ya._length),Y.y1=T.constrain(Y.y1,0,Y.ya._length),void 0!==Y.xLabelVal&&(Y.xLabel="xLabel"in Y?Y.xLabel:s.hoverLabelText(Y.xa,Y.xLabelVal,ne.xhoverformat),Y.xVal=Y.xa.c2d(Y.xLabelVal)),void 0!==Y.yLabelVal&&(Y.yLabel="yLabel"in Y?Y.yLabel:s.hoverLabelText(Y.ya,Y.yLabelVal,ne.yhoverformat),Y.yVal=Y.ya.c2d(Y.yLabelVal)),void 0!==Y.zLabelVal&&void 0===Y.zLabel&&(Y.zLabel=String(Y.zLabelVal)),!(isNaN(Y.xerr)||"log"===Y.xa.type&&Y.xerr<=0)){var me=s.tickText(Y.xa,Y.xa.c2l(Y.xerr),"hover").text;Y.xLabel+=void 0!==Y.xerrneg?" +"+me+" / -"+s.tickText(Y.xa,Y.xa.c2l(Y.xerrneg),"hover").text:" \xb1 "+me,"x"===W&&(Y.distance+=1)}if(!(isNaN(Y.yerr)||"log"===Y.ya.type&&Y.yerr<=0)){var pe=s.tickText(Y.ya,Y.ya.c2l(Y.yerr),"hover").text;Y.yLabel+=void 0!==Y.yerrneg?" +"+pe+" / -"+s.tickText(Y.ya,Y.ya.c2l(Y.yerrneg),"hover").text:" \xb1 "+pe,"y"===W&&(Y.distance+=1)}var ge=Y.hoverinfo||Y.trace.hoverinfo;return ge&&"all"!==ge&&(-1===(ge=Array.isArray(ge)?ge:ge.split("+")).indexOf("x")&&(Y.xLabel=void 0),-1===ge.indexOf("y")&&(Y.yLabel=void 0),-1===ge.indexOf("z")&&(Y.zLabel=void 0),-1===ge.indexOf("text")&&(Y.text=void 0),-1===ge.indexOf("name")&&(Y.name=void 0)),Y}function N(Y,W,$){var ne,re,oe=$.container,ue=$.fullLayout,xe=ue._size,Me=$.event,me=!!W.hLinePoint,pe=!!W.vLinePoint;if(oe.selectAll(".spikeline").remove(),pe||me){var ge=n.combine(ue.plot_bgcolor,ue.paper_bgcolor);if(me){var Pe,_e,we=W.hLinePoint;ne=we&&we.xa,"cursor"===(re=we&&we.ya).spikesnap?(Pe=Me.pointerX,_e=Me.pointerY):(Pe=ne._offset+we.x,_e=re._offset+we.y);var se,ae,fe=l.readability(we.color,ge)<1.5?n.contrast(ge):we.color,Ee=re.spikemode,ke=re.spikethickness,be=re.spikecolor||fe,Ie=s.getPxPosition(Y,re);if(-1!==Ee.indexOf("toaxis")||-1!==Ee.indexOf("across")){if(-1!==Ee.indexOf("toaxis")&&(se=Ie,ae=Pe),-1!==Ee.indexOf("across")){var Fe=re._counterDomainMin,ce=re._counterDomainMax;"free"===re.anchor&&(Fe=Math.min(Fe,re.position),ce=Math.max(ce,re.position)),se=xe.l+Fe*xe.w,ae=xe.l+ce*xe.w}oe.insert("line",":first-child").attr({x1:se,x2:ae,y1:_e,y2:_e,"stroke-width":ke,stroke:be,"stroke-dasharray":r.dashStyle(re.spikedash,ke)}).classed("spikeline",!0).classed("crisp",!0),oe.insert("line",":first-child").attr({x1:se,x2:ae,y1:_e,y2:_e,"stroke-width":ke+2,stroke:ge}).classed("spikeline",!0).classed("crisp",!0)}-1!==Ee.indexOf("marker")&&oe.insert("circle",":first-child").attr({cx:Ie+("right"!==re.side?ke:-ke),cy:_e,r:ke,fill:be}).classed("spikeline",!0)}if(pe){var Te,ve,Ce=W.vLinePoint;re=Ce&&Ce.ya,"cursor"===(ne=Ce&&Ce.xa).spikesnap?(Te=Me.pointerX,ve=Me.pointerY):(Te=ne._offset+Ce.x,ve=re._offset+Ce.y);var Re,Oe,je=l.readability(Ce.color,ge)<1.5?n.contrast(ge):Ce.color,qe=ne.spikemode,Je=ne.spikethickness,it=ne.spikecolor||je,Qe=s.getPxPosition(Y,ne);if(-1!==qe.indexOf("toaxis")||-1!==qe.indexOf("across")){if(-1!==qe.indexOf("toaxis")&&(Re=Qe,Oe=ve),-1!==qe.indexOf("across")){var dt=ne._counterDomainMin,yt=ne._counterDomainMax;"free"===ne.anchor&&(dt=Math.min(dt,ne.position),yt=Math.max(yt,ne.position)),Re=xe.t+(1-yt)*xe.h,Oe=xe.t+(1-dt)*xe.h}oe.insert("line",":first-child").attr({x1:Te,x2:Te,y1:Re,y2:Oe,"stroke-width":Je,stroke:it,"stroke-dasharray":r.dashStyle(ne.spikedash,Je)}).classed("spikeline",!0).classed("crisp",!0),oe.insert("line",":first-child").attr({x1:Te,x2:Te,y1:Re,y2:Oe,"stroke-width":Je+2,stroke:ge}).classed("spikeline",!0).classed("crisp",!0)}-1!==qe.indexOf("marker")&&oe.insert("circle",":first-child").attr({cx:Te,cy:Qe-("top"!==ne.side?Je:-Je),r:Je,fill:it}).classed("spikeline",!0)}}}function F(Y,W){return!W||W.vLinePoint!==Y._spikepoints.vLinePoint||W.hLinePoint!==Y._spikepoints.hLinePoint}function j(Y,W){return t.plainText(Y||"",{len:W,allowedTags:["br","sub","sup","b","i","em"]})}function G(Y,W,$){var ne=W[Y+"a"],re=W[Y+"Val"],oe=W.cd[0];if("category"===ne.type||"multicategory"===ne.type)re=ne._categoriesMap[re];else if("date"===ne.type){var ue=W.trace[Y+"periodalignment"];if(ue){var xe=W.cd[W.index],Me=xe[Y+"Start"];void 0===Me&&(Me=xe[Y]);var me=xe[Y+"End"];void 0===me&&(me=xe[Y]);var pe=me-Me;"end"===ue?re+=pe:"middle"===ue&&(re+=pe/2)}re=ne.d2c(re)}return oe&&oe.t&&oe.t.posLetter===ne._id&&("group"!==$.boxmode&&"group"!==$.violinmode||(re+=oe.t.dPos)),re}function te(Y){return Y.offsetTop+Y.clientTop}function J(Y){return Y.offsetLeft+Y.clientLeft}function X(Y,W){var $=Y._fullLayout,ne=W.getBoundingClientRect(),re=ne.left,oe=ne.top,ue=re+ne.width,xe=oe+ne.height,Me=T.apply3DTransform($._invTransform)(re,oe),me=T.apply3DTransform($._invTransform)(ue,xe),pe=Me[0],ge=Me[1],Pe=me[0],_e=me[1];return{x:pe,y:ge,width:Pe-pe,height:_e-ge,top:Math.min(ge,_e),left:Math.min(pe,Pe),right:Math.max(pe,Pe),bottom:Math.max(ge,_e)}}},38048:function(ee,D,e){"use strict";var A=e(71828),k=e(7901),l=e(23469).isUnifiedHover;ee.exports=function(T,b,d,a){a=a||{};var t=b.legend;function i(r){a.font[r]||(a.font[r]=t?b.legend.font[r]:b.font[r])}b&&l(b.hovermode)&&(a.font||(a.font={}),i("size"),i("family"),i("color"),t?(a.bgcolor||(a.bgcolor=k.combine(b.legend.bgcolor,b.paper_bgcolor)),a.bordercolor||(a.bordercolor=b.legend.bordercolor)):a.bgcolor||(a.bgcolor=b.paper_bgcolor)),d("hoverlabel.bgcolor",a.bgcolor),d("hoverlabel.bordercolor",a.bordercolor),d("hoverlabel.namelength",a.namelength),A.coerceFont(d,"hoverlabel.font",a.font),d("hoverlabel.align",a.align)}},98212:function(ee,D,e){"use strict";var A=e(71828),k=e(528);ee.exports=function(l,T){function b(d,a){return void 0!==T[d]?T[d]:A.coerce(l,T,k,d,a)}return b("clickmode"),b("hovermode")}},30211:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(28569),T=e(23469),b=e(528),d=e(88335);ee.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:b},attributes:e(77914),layoutAttributes:b,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:T.getDistanceFunction,getClosest:T.getClosest,inbox:T.inbox,quadrature:T.quadrature,appendArrayPointValue:T.appendArrayPointValue,castHoverOption:function(a,t,i){return k.castOption(a,t,"hoverlabel."+i)},castHoverinfo:function(a,t,i){return k.castOption(a,i,"hoverinfo",function(r){return k.coerceHoverinfo({hoverinfo:r},{_module:a._module},t)})},hover:d.hover,unhover:l.unhover,loneHover:d.loneHover,loneUnhover:function(a){var t=k.isD3Selection(a)?a:A.select(a);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e(75914)}},528:function(ee,D,e){"use strict";var A=e(26675),k=e(41940),l=k({editType:"none"});l.family.dflt=A.HOVERFONT,l.size.dflt=A.HOVERFONTSIZE,ee.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:l,grouptitlefont:k({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(ee,D,e){"use strict";var A=e(71828),k=e(528),l=e(98212),T=e(38048);ee.exports=function(b,d){function a(n,o){return A.coerce(b,d,k,n,o)}l(b,d)&&(a("hoverdistance"),a("spikedistance")),"select"===a("dragmode")&&a("selectdirection");var t=d._has("mapbox"),i=d._has("geo"),r=d._basePlotModules.length;"zoom"===d.dragmode&&((t||i)&&1===r||t&&i&&2===r)&&(d.dragmode="pan"),T(b,d,a),A.coerceFont(a,"hoverlabel.grouptitlefont",d.hoverlabel.font)}},22774:function(ee,D,e){"use strict";var A=e(71828),k=e(38048),l=e(528);ee.exports=function(T,b){k(T,b,function(d,a){return A.coerce(T,b,l,d,a)})}},83312:function(ee,D,e){"use strict";var A=e(71828),k=e(30587).counter,l=e(27670).Y,T=e(85555).idRegex,b=e(44467),d={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[k("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[T.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[T.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:l({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function a(r,n,o){var s=n[o+"axes"],u=Object.keys((r._splomAxes||{})[o]||{});return Array.isArray(s)?s:u.length?u:void 0}function t(r,n,o,s,u,p){var c=n(r+"gap",o),x=n("domain."+r);n(r+"side",s);for(var g=new Array(u),h=x[0],y=(x[1]-h)/(u-c),v=y*(1-c),m=0;m<u;m++){var _=h+y*m;g[p?u-1-m:m]=[_,_+v]}return g}function i(r,n,o,s,u){var p,c=new Array(o);function x(g,h){-1!==n.indexOf(h)&&void 0===s[h]?(c[g]=h,s[h]=g):c[g]=""}if(Array.isArray(r))for(p=0;p<o;p++)x(p,r[p]);else for(x(0,u),p=1;p<o;p++)x(p,u+(p+1));return c}ee.exports={moduleType:"component",name:"grid",schema:{layout:{grid:d}},layoutAttributes:d,sizeDefaults:function(r,n){var o=r.grid||{},s=a(n,o,"x"),u=a(n,o,"y");if(r.grid||s||u){var p,c,x=Array.isArray(o.subplots)&&Array.isArray(o.subplots[0]),g=Array.isArray(s),h=Array.isArray(u),y=g&&s!==o.xaxes&&h&&u!==o.yaxes;x?(p=o.subplots.length,c=o.subplots[0].length):(h&&(p=u.length),g&&(c=s.length));var v=b.newContainer(n,"grid"),m=C("rows",p),_=C("columns",c);if(m*_>1){x||g||h||"independent"===C("pattern")&&(x=!0),v._hasSubplotGrid=x;var f,S,w="top to bottom"===C("roworder"),L=x?.3:.1;y&&n._splomGridDflt&&(f=n._splomGridDflt.xside,S=n._splomGridDflt.yside),v._domains={x:t("x",C,x?.2:.1,f,_),y:t("y",C,L,S,m,w)}}else delete n.grid}function C(O,R){return A.coerce(o,v,d,O,R)}},contentDefaults:function(r,n){var o=n.grid;if(o&&o._domains){var s,u,p,c,x,g,h,y=r.grid||{},v=n._subplots,m=o._hasSubplotGrid,_=o.rows,f=o.columns,S="independent"===o.pattern,w=o._axisMap={};if(m){var E=y.subplots||[];g=o.subplots=new Array(_);var L=1;for(s=0;s<_;s++){var C=g[s]=new Array(f),O=E[s]||[];for(u=0;u<f;u++)if(S?(x=1===L?"xy":"x"+L+"y"+L,L++):x=O[u],C[u]="",-1!==v.cartesian.indexOf(x)){if(h=x.indexOf("y"),p=x.slice(0,h),c=x.slice(h),void 0!==w[p]&&w[p]!==u||void 0!==w[c]&&w[c]!==s)continue;C[u]=x,w[p]=u,w[c]=s}}}else{var R=a(n,y,"x"),q=a(n,y,"y");o.xaxes=i(R,v.xaxis,f,w,"x"),o.yaxes=i(q,v.yaxis,_,w,"y")}var P=o._anchors={},U="top to bottom"===o.roworder;for(var N in w){var F,j,G,te=N.charAt(0),J=o[te+"side"];if(J.length<8)P[N]="free";else if("x"===te){if("t"===J.charAt(0)===U?(F=0,j=1,G=_):(F=_-1,j=-1,G=-1),m){var X=w[N];for(s=F;s!==G;s+=j)if((x=g[s][X])&&(h=x.indexOf("y"),x.slice(0,h)===N)){P[N]=x.slice(h);break}}else for(s=F;s!==G;s+=j)if(-1!==v.cartesian.indexOf(N+(c=o.yaxes[s]))){P[N]=c;break}}else if("l"===J.charAt(0)?(F=0,j=1,G=f):(F=f-1,j=-1,G=-1),m){var Y=w[N];for(s=F;s!==G;s+=j)if((x=g[Y][s])&&(h=x.indexOf("y"),x.slice(h)===N)){P[N]=x.slice(0,h);break}}else for(s=F;s!==G;s+=j)if(-1!==v.cartesian.indexOf((p=o.xaxes[s])+N)){P[N]=p;break}}}}}},69819:function(ee,D,e){"use strict";var A=e(85555),k=e(44467).templatedArray;e(24695),ee.exports=k("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",A.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",A.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(ee,D,e){"use strict";var A=e(92770),k=e(58163);ee.exports=function(l,T,b,d){T=T||{};var a="log"===b&&"linear"===T.type;if(a||"linear"===b&&"log"===T.type)for(var i,r,n=l._fullLayout.images,o=T._id.charAt(0),s=0;s<n.length;s++)if(r="images["+s+"].",(i=n[s])[o+"ref"]===T._id){var u=i[o],p=i["size"+o],c=null,x=null;if(a){c=k(u,T.range);var g=p/Math.pow(10,c)/2;x=2*Math.log(g+Math.sqrt(1+g*g))/Math.LN10}else x=(c=Math.pow(10,u))*(Math.pow(10,p/2)-Math.pow(10,-p/2));A(c)?A(x)||(x=null):(c=null,x=null),d(r+o,c),d(r+"size"+o,x)}}},81603:function(ee,D,e){"use strict";var A=e(71828),k=e(89298),l=e(85501),T=e(69819);function b(d,a,t){function i(c,x){return A.coerce(d,a,T,c,x)}var r=i("source");if(!i("visible",!!r))return a;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var n={_fullLayout:t},o=["x","y"],s=0;s<2;s++){var u=o[s],p=k.coerceRef(d,a,n,u,"paper",void 0);"paper"!==p&&k.getFromId(n,p)._imgIndices.push(a._index),k.coercePosition(a,n,i,p,u,0)}return a}ee.exports=function(d,a){l(d,a,{name:"images",handleItemDefaults:b})}},80750:function(ee,D,e){"use strict";var A=e(39898),k=e(91424),l=e(89298),T=e(41675),b=e(77922);ee.exports=function(d){var a,t,i=d._fullLayout,r=[],n={},o=[];for(t=0;t<i.images.length;t++){var s=i.images[t];if(s.visible)if("below"===s.layer&&"paper"!==s.xref&&"paper"!==s.yref){a=T.ref2id(s.xref)+T.ref2id(s.yref);var u=i._plots[a];if(!u){o.push(s);continue}u.mainplot&&(a=u.mainplot.id),n[a]||(n[a]=[]),n[a].push(s)}else"above"===s.layer?r.push(s):o.push(s)}var p={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},c={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function x(f){var S=A.select(this);if(this._imgSrc!==f.source)if(S.attr("xmlns",b.svg),f.source&&"data:"===f.source.slice(0,5))S.attr("xlink:href",f.source),this._imgSrc=f.source;else{var w=new Promise(function(E){var L=new Image;function C(){S.remove(),E()}this.img=L,L.setAttribute("crossOrigin","anonymous"),L.onerror=C,L.onload=function(){var O=document.createElement("canvas");O.width=this.width,O.height=this.height,O.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var R=O.toDataURL("image/png");S.attr("xlink:href",R),E()},S.on("error",C),L.src=f.source,this._imgSrc=f.source}.bind(this));d._promises.push(w)}}function g(f){var S,w,E=A.select(this),L=l.getFromId(d,f.xref),C=l.getFromId(d,f.yref),O="domain"===l.getRefType(f.xref),R="domain"===l.getRefType(f.yref),q=i._size;S=void 0!==L?"string"==typeof f.xref&&O?L._length*f.sizex:Math.abs(L.l2p(f.sizex)-L.l2p(0)):f.sizex*q.w,w=void 0!==C?"string"==typeof f.yref&&R?C._length*f.sizey:Math.abs(C.l2p(f.sizey)-C.l2p(0)):f.sizey*q.h;var P,U,N=S*p[f.xanchor].offset,F=w*c[f.yanchor].offset,j=p[f.xanchor].sizing+c[f.yanchor].sizing;switch(P=void 0!==L?"string"==typeof f.xref&&O?L._length*f.x+L._offset:L.r2p(f.x)+L._offset:f.x*q.w+q.l,P+=N,U=void 0!==C?"string"==typeof f.yref&&R?C._length*(1-f.y)+C._offset:C.r2p(f.y)+C._offset:q.h-f.y*q.h+q.t,U+=F,f.sizing){case"fill":j+=" slice";break;case"stretch":j="none"}E.attr({x:P,y:U,width:S,height:w,preserveAspectRatio:j,opacity:f.opacity});var G=(L&&"domain"!==l.getRefType(f.xref)?L._id:"")+(C&&"domain"!==l.getRefType(f.yref)?C._id:"");k.setClipUrl(E,G?"clip"+i._uid+G:null,d)}var h=i._imageLowerLayer.selectAll("image").data(o),y=i._imageUpperLayer.selectAll("image").data(r);h.enter().append("image"),y.enter().append("image"),h.exit().remove(),y.exit().remove(),h.each(function(f){x.bind(this)(f),g.bind(this)(f)}),y.each(function(f){x.bind(this)(f),g.bind(this)(f)});var v=Object.keys(i._plots);for(t=0;t<v.length;t++){var m=i._plots[a=v[t]];if(m.imagelayer){var _=m.imagelayer.selectAll("image").data(n[a]||[]);_.enter().append("image"),_.exit().remove(),_.each(function(f){x.bind(this)(f),g.bind(this)(f)})}}}},68804:function(ee,D,e){"use strict";ee.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(ee,D,e){"use strict";var A=e(41940),k=e(22399);ee.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:A({editType:"legend"}),grouptitlefont:A({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:A({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(ee){"use strict";ee.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(ee,D,e){"use strict";var A=e(73972),k=e(71828),l=e(44467),T=e(9012),b=e(33030),d=e(10820),a=e(10130);function t(i,r,n,o){var s=r[i]||{},u=l.newContainer(n,i);function p(j,G){return k.coerce(s,u,b,j,G)}var c=k.coerceFont(p,"font",n.font);if(p("bgcolor",n.paper_bgcolor),p("bordercolor"),p("visible")){for(var x,g=function(j,G){return k.coerce(x._input,x,T,j,G)},h=n.font||{},y=k.coerceFont(p,"grouptitlefont",k.extendFlat({},h,{size:Math.round(1.1*h.size)})),v=0,m=!1,_="normal",f=(n.shapes||[]).filter(function(j){return j.showlegend}),S=o.concat(f).filter(function(j){return i===(j.legend||"legend")}),w=0;w<S.length;w++)if((x=S[w]).visible){var E=x._isShape;(x.showlegend||x._dfltShowLegend&&!(x._module&&x._module.attributes&&x._module.attributes.showlegend&&!1===x._module.attributes.showlegend.dflt))&&(v++,x.showlegend&&(m=!0,(!E&&A.traceIs(x,"pie-like")||!0===x._input.showlegend)&&v++),k.coerceFont(g,"legendgrouptitle.font",y)),(!E&&A.traceIs(x,"bar")&&"stack"===n.barmode||-1!==["tonextx","tonexty"].indexOf(x.fill))&&(_=a.isGrouped({traceorder:_})?"grouped+reversed":"reversed"),void 0!==x.legendgroup&&""!==x.legendgroup&&(_=a.isReversed({traceorder:_})?"reversed+grouped":"grouped")}var L=k.coerce(r,n,d,"showlegend",m&&v>("legend"===i?1:0));if(!1===L&&(n[i]=void 0),(!1!==L||s.uirevision)&&(p("uirevision",n.uirevision),!1!==L)){p("borderwidth");var C,O,R,q="h"===p("orientation"),P="paper"===p("yref"),U="paper"===p("xref"),N="left";if(q?(C=0,A.getComponentMethod("rangeslider","isVisible")(r.xaxis)?P?(O=1.1,R="bottom"):(O=1,R="top"):P?(O=-.1,R="top"):(O=0,R="bottom")):(O=1,R="auto",U?C=1.02:(C=1,N="right")),k.coerce(s,u,{x:{valType:"number",editType:"legend",min:U?-2:0,max:U?3:1,dflt:C}},"x"),k.coerce(s,u,{y:{valType:"number",editType:"legend",min:P?-2:0,max:P?3:1,dflt:O}},"y"),p("traceorder",_),a.isGrouped(n[i])&&p("tracegroupgap"),p("entrywidth"),p("entrywidthmode"),p("itemsizing"),p("itemwidth"),p("itemclick"),p("itemdoubleclick"),p("groupclick"),p("xanchor",N),p("yanchor",R),p("valign"),k.noneOrAll(s,u,["x","y"]),p("title.text")){p("title.side",q?"left":"top");var F=k.extendFlat({},c,{size:k.bigFont(c.size)});k.coerceFont(p,"title.font",F)}}}}ee.exports=function(i,r,n){var o,s=n.slice(),u=r.shapes;if(u)for(o=0;o<u.length;o++){var p=u[o];p.showlegend&&s.push({_input:p._input,visible:p.visible,showlegend:p.showlegend,legend:p.legend})}var x=["legend"];for(o=0;o<s.length;o++)k.pushUnique(x,s[o].legend);for(r._legends=[],o=0;o<x.length;o++){var g=x[o];t(g,i,r,s),r[g]&&r[g].visible&&(r[g]._id=g),r._legends.push(g)}}},43969:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(74875),T=e(73972),b=e(11086),d=e(28569),a=e(91424),t=e(7901),i=e(63893),r=e(85167),n=e(14928),o=e(18783),s=o.LINE_SPACING,u=o.FROM_TL,p=o.FROM_BR,c=e(82424),x=e(53630),g=e(10130),h=1,y=/^legend[0-9]*$/;function v(R,q){var P,U,N=q||{},F=R._fullLayout,j=O(N),G=N._inHover;if(G?(U=N.layer,P="hover"):(U=F._infolayer,P=j),U){var te;if(P+=F._uid,R._legendMouseDownTime||(R._legendMouseDownTime=0),G){if(!N.entries)return;te=c(N.entries,N)}else{for(var J=(R.calcdata||[]).slice(),X=F.shapes,Y=0;Y<X.length;Y++){var W=X[Y];W.showlegend&&J.push([{trace:{_isShape:!0,_fullInput:W,index:W._index,name:W.name||W.label.text||"shape "+W._index,legend:W.legend,legendgroup:W.legendgroup,legendgrouptitle:W.legendgrouptitle,legendrank:W.legendrank,legendwidth:W.legendwidth,showlegend:W.showlegend,visible:W.visible,opacity:W.opacity,mode:"line"===W.type?"lines":"markers",line:W.line,marker:{line:W.line,color:W.fillcolor,size:12,symbol:"rect"===W.type?"square":"circle"===W.type?"circle":"hexagon2"}}}])}te=F.showlegend&&c(J,N,F._legends.length>1)}var ne=F.hiddenlabels||[];if(!(G||F.showlegend&&te.length))return U.selectAll("."+j).remove(),F._topdefs.select("#"+P).remove(),l.autoMargin(R,j);var re=k.ensureSingle(U,"g",j,function(_e){G||_e.attr("pointer-events","all")}),oe=k.ensureSingleById(F._topdefs,"clipPath",P,function(_e){_e.append("rect")}),ue=k.ensureSingle(re,"rect","bg",function(_e){_e.attr("shape-rendering","crispEdges")});ue.call(t.stroke,N.bordercolor).call(t.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px");var xe,Me=k.ensureSingle(re,"g","scrollbox"),me=N.title;N._titleWidth=0,N._titleHeight=0,me.text?((xe=k.ensureSingle(Me,"text",j+"titletext")).attr("text-anchor","start").call(a.font,me.font).text(me.text),E(xe,Me,R,N,h)):Me.selectAll("."+j+"titletext").remove();var pe=k.ensureSingle(re,"rect","scrollbar",function(_e){_e.attr(n.scrollBarEnterAttrs).call(t.fill,n.scrollBarColor)}),ge=Me.selectAll("g.groups").data(te);ge.enter().append("g").attr("class","groups"),ge.exit().remove();var Pe=ge.selectAll("g.traces").data(k.identity);Pe.enter().append("g").attr("class","traces"),Pe.exit().remove(),Pe.style("opacity",function(_e){var we=_e[0].trace;return T.traceIs(we,"pie-like")?-1!==ne.indexOf(_e[0].label)?.5:1:"legendonly"===we.visible?.5:1}).each(function(){A.select(this).call(f,R,N)}).call(x,R,N).each(function(){G||A.select(this).call(w,R,j)}),k.syncOrAsync([l.previousPromises,function(){return function(_e,we,se,ae){var fe=_e._fullLayout,Ee=O(ae);ae||(ae=fe[Ee]);var ke=fe._size,be=g.isVertical(ae),Ie=g.isGrouped(ae),Fe="fraction"===ae.entrywidthmode,ce=ae.borderwidth,Te=2*ce,ve=n.itemGap,Ce=ae.itemwidth+2*ve,Re=2*(ce+ve),Oe=C(ae),je=ae.y<0||0===ae.y&&"top"===Oe,qe=ae.y>1||1===ae.y&&"bottom"===Oe,Je=ae.tracegroupgap,it={};ae._maxHeight=Math.max(je||qe?fe.height/2:ke.h,30);var Qe=0;ae._width=0,ae._height=0;var pt,vt,ut,wt,dt=(vt=0,ut=0,(wt=(pt=ae).title.side)&&(-1!==wt.indexOf("left")&&(vt=pt._titleWidth),-1!==wt.indexOf("top")&&(ut=pt._titleHeight)),[vt,ut]);if(be)se.each(function(pt){var vt=pt[0].height;a.setTranslate(this,ce+dt[0],ce+dt[1]+ae._height+vt/2+ve),ae._height+=vt,ae._width=Math.max(ae._width,pt[0].width)}),Qe=Ce+ae._width,ae._width+=ve+Ce+Te,ae._height+=Re,Ie&&(we.each(function(pt,vt){a.setTranslate(this,0,vt*ae.tracegroupgap)}),ae._height+=(ae._lgroupsLength-1)*ae.tracegroupgap);else{var yt=L(ae),st=qe||je,Tt=fe.width/2;ae._maxWidth=Math.max(ae.x<0||0===ae.x&&"right"===yt?st&&"left"===yt?ke.l+ke.w:Tt:ae.x>1||1===ae.x&&"left"===yt?st&&"right"===yt?ke.r+ke.w:Tt:ke.w,2*Ce);var At=0,Pt=0;se.each(function(pt){var vt=m(pt,ae,Ce);At=Math.max(At,vt),Pt+=vt}),Qe=null;var kt=0;if(Ie){var Ze=0,Xe=0,He=0;we.each(function(){var pt=0,vt=0;A.select(this).selectAll("g.traces").each(function(wt){var ct=m(wt,ae,Ce),ft=wt[0].height;a.setTranslate(this,dt[0],dt[1]+ce+ve+ft/2+vt),vt+=ft,pt=Math.max(pt,ct),it[wt[0].trace.legendgroup]=pt});var ut=pt+ve;Xe>0&&ut+ce+Xe>ae._maxWidth?(kt=Math.max(kt,Xe),Xe=0,He+=Ze+Je,Ze=vt):Ze=Math.max(Ze,vt),a.setTranslate(this,Xe,He),Xe+=ut}),ae._width=Math.max(kt,Xe)+ce,ae._height=He+Ze+Re}else{var We=se.size(),rt=Pt+Te+(We-1)*ve<ae._maxWidth,nt=0,ze=0,Be=0,tt=0;se.each(function(pt){var vt=pt[0].height,ut=m(pt,ae,Ce),wt=rt?ut:At;Fe||(wt+=ve),wt+ce+ze-ve>=ae._maxWidth&&(kt=Math.max(kt,tt),ze=0,Be+=nt,ae._height+=nt,nt=0),a.setTranslate(this,dt[0]+ce+ze,dt[1]+ce+Be+vt/2+ve),tt=ze+ut+ve,ze+=wt,nt=Math.max(nt,vt)}),rt?(ae._width=ze+Te,ae._height=nt+Re):(ae._width=Math.max(kt,tt)+Te,ae._height+=nt+Re)}}ae._width=Math.ceil(Math.max(ae._width+dt[0],ae._titleWidth+2*(ce+n.titlePad))),ae._height=Math.ceil(Math.max(ae._height+dt[1],ae._titleHeight+2*(ce+n.itemGap))),ae._effHeight=Math.min(ae._height,ae._maxHeight);var et=_e._context.edits,gt=et.legendText||et.legendPosition;se.each(function(pt){var vt=A.select(this).select("."+Ee+"toggle"),ut=pt[0].height,wt=pt[0].trace.legendgroup,ct=m(pt,ae,Ce);Ie&&""!==wt&&(ct=it[wt]);var ft=gt?Ce:Qe||ct;be||Fe||(ft+=ve/2),a.setRect(vt,0,-ut/2,ft,ut)})}(R,ge,Pe,N)},function(){var _e,we,se,ae,fe=F._size,Ee=N.borderwidth,ke="paper"===N.xref,be="paper"===N.yref;if(me.text&&function(st,Tt,At){if("top center"===Tt.title.side||"top right"===Tt.title.side){var Pt=Tt.title.font.size*s,kt=0,Ze=st.node(),Xe=a.bBox(Ze).width;"top center"===Tt.title.side?kt=.5*(Tt._width-2*At-2*n.titlePad-Xe):"top right"===Tt.title.side&&(kt=Tt._width-2*At-2*n.titlePad-Xe),i.positionText(st,At+n.titlePad+kt,At+Pt)}}(xe,N,Ee),!G){var Ie,Fe;if(Ie=ke?fe.l+fe.w*N.x-u[L(N)]*N._width:F.width*N.x-u[L(N)]*N._width,Fe=be?fe.t+fe.h*(1-N.y)-u[C(N)]*N._effHeight:F.height*(1-N.y)-u[C(N)]*N._effHeight,function(st,Tt,At,Pt){var kt=st._fullLayout,Ze=kt[Tt],Xe=L(Ze),He=C(Ze),We="paper"===Ze.xref,rt="paper"===Ze.yref;st._fullLayout._reservedMargin[Tt]={};var nt=Ze.y<.5?"b":"t",ze=Ze.x<.5?"l":"r",Be={r:kt.width-At,l:At+Ze._width,b:kt.height-Pt,t:Pt+Ze._effHeight};if(We&&rt)return l.autoMargin(st,Tt,{x:Ze.x,y:Ze.y,l:Ze._width*u[Xe],r:Ze._width*p[Xe],b:Ze._effHeight*p[He],t:Ze._effHeight*u[He]});We?st._fullLayout._reservedMargin[Tt][nt]=Be[nt]:rt||"v"===Ze.orientation?st._fullLayout._reservedMargin[Tt][ze]=Be[ze]:st._fullLayout._reservedMargin[Tt][nt]=Be[nt]}(R,j,Ie,Fe))return;if(F.margin.autoexpand){var Te=Ie,ve=Fe;Ie=ke?k.constrain(Ie,0,F.width-N._width):Te,Fe=be?k.constrain(Fe,0,F.height-N._effHeight):ve,Ie!==Te&&k.log("Constrain "+j+".x to make legend fit inside graph"),Fe!==ve&&k.log("Constrain "+j+".y to make legend fit inside graph")}a.setTranslate(re,Ie,Fe)}if(pe.on(".drag",null),re.on("wheel",null),G||N._height<=N._maxHeight||R._context.staticPlot){var Ce=N._effHeight;G&&(Ce=N._height),ue.attr({width:N._width-Ee,height:Ce-Ee,x:Ee/2,y:Ee/2}),a.setTranslate(Me,0,0),oe.select("rect").attr({width:N._width-2*Ee,height:Ce-2*Ee,x:Ee,y:Ee}),a.setClipUrl(Me,P,R),a.setRect(pe,0,0,0,0),delete N._scrollY}else{var Re,je,qe=Math.max(n.scrollBarMinHeight,N._effHeight*N._effHeight/N._height),Je=N._effHeight-qe-2*n.scrollBarMargin,it=N._height-N._effHeight,Qe=Je/it,dt=Math.min(N._scrollY||0,it);ue.attr({width:N._width-2*Ee+n.scrollBarWidth+n.scrollBarMargin,height:N._effHeight-Ee,x:Ee/2,y:Ee/2}),oe.select("rect").attr({width:N._width-2*Ee+n.scrollBarWidth+n.scrollBarMargin,height:N._effHeight-2*Ee,x:Ee,y:Ee+dt}),a.setClipUrl(Me,P,R),at(dt,qe,Qe),re.on("wheel",function(){at(dt=k.constrain(N._scrollY+A.event.deltaY/Je*it,0,it),qe,Qe),0!==dt&&dt!==it&&A.event.preventDefault()});var yt=A.behavior.drag().on("dragstart",function(){var st=A.event.sourceEvent;Re="touchstart"===st.type?st.changedTouches[0].clientY:st.clientY,je=dt}).on("drag",function(){var st=A.event.sourceEvent;2===st.buttons||st.ctrlKey||at(dt=k.constrain((("touchmove"===st.type?st.changedTouches[0].clientY:st.clientY)-Re)/Qe+je,0,it),qe,Qe)});pe.call(yt);var mt=A.behavior.drag().on("dragstart",function(){var st=A.event.sourceEvent;"touchstart"===st.type&&(Re=st.changedTouches[0].clientY,je=dt)}).on("drag",function(){var st=A.event.sourceEvent;"touchmove"===st.type&&at(dt=k.constrain((Re-st.changedTouches[0].clientY)/Qe+je,0,it),qe,Qe)});Me.call(mt)}function at(st,Tt,At){N._scrollY=R._fullLayout[j]._scrollY=st,a.setTranslate(Me,0,-st),a.setRect(pe,N._width,n.scrollBarMargin+st*At,n.scrollBarWidth,Tt),oe.select("rect").attr("y",Ee+st)}R._context.edits.legendPosition&&(re.classed("cursor-move",!0),d.init({element:re.node(),gd:R,prepFn:function(){var st=a.getTranslate(re);se=st.x,ae=st.y},moveFn:function(st,Tt){var At=se+st,Pt=ae+Tt;a.setTranslate(re,At,Pt),_e=d.align(At,N._width,fe.l,fe.l+fe.w,N.xanchor),we=d.align(Pt+N._height,-N._height,fe.t+fe.h,fe.t,N.yanchor)},doneFn:function(){if(void 0!==_e&&void 0!==we){var st={};st[j+".x"]=_e,st[j+".y"]=we,T.call("_guiRelayout",R,st)}},clickFn:function(st,Tt){var At=U.selectAll("g.traces").filter(function(){var Pt=this.getBoundingClientRect();return Tt.clientX>=Pt.left&&Tt.clientX<=Pt.right&&Tt.clientY>=Pt.top&&Tt.clientY<=Pt.bottom});At.size()>0&&_(R,re,At,st,Tt)}}))}],R)}}function m(R,q,P){var U=R[0],j=U.trace.legendwidth||q.entrywidth;return"fraction"===q.entrywidthmode?q._maxWidth*j:P+(j||U.width)}function _(R,q,P,U,N){var F=P.data()[0][0].trace,j={event:N,node:P.node(),curveNumber:F.index,expandedIndex:F._expandedIndex,data:R.data,layout:R.layout,frames:R._transitionData._frames,config:R._context,fullData:R._fullData,fullLayout:R._fullLayout};F._group&&(j.group=F._group),T.traceIs(F,"pie-like")&&(j.label=P.datum()[0].label);var G=b.triggerHandler(R,"plotly_legendclick",j);if(1===U){if(!1===G)return;q._clickTimeout=setTimeout(function(){R._fullLayout&&r(P,R,U)},R._context.doubleClickDelay)}else 2===U&&(q._clickTimeout&&clearTimeout(q._clickTimeout),R._legendMouseDownTime=0,!1!==b.triggerHandler(R,"plotly_legenddoubleclick",j)&&!1!==G&&r(P,R,U))}function f(R,q,P){var U,N,F=O(P),j=R.data()[0][0],G=j.trace,te=T.traceIs(G,"pie-like"),J=!P._inHover&&q._context.edits.legendText&&!te,X=P._maxNameLength;j.groupTitle?(U=j.groupTitle.text,N=j.groupTitle.font):(N=P.font,P.entries?U=j.text:(U=te?j.label:G.name,G._meta&&(U=k.templateString(U,G._meta))));var Y=k.ensureSingle(R,"text",F+"text");Y.attr("text-anchor","start").call(a.font,N).text(J?S(U,X):U),i.positionText(Y,P.itemwidth+2*n.itemGap,0),J?Y.call(i.makeEditable,{gd:q,text:U}).call(E,R,q,P).on("edit",function($){this.text(S($,X)).call(E,R,q,P);var ne=j.trace._fullInput||{},re={};if(T.hasTransform(ne,"groupby")){var oe=T.getTransformIndices(ne,"groupby"),xe=k.keyedContainer(ne,"transforms["+oe[oe.length-1]+"].styles","target","value.name");xe.set(j.trace._group,$),re=xe.constructUpdate()}else re.name=$;return ne._isShape?T.call("_guiRelayout",q,"shapes["+G.index+"].name",re.name):T.call("_guiRestyle",q,re,G.index)}):E(Y,R,q,P)}function S(R,q){var P=Math.max(4,q);if(R&&R.trim().length>=P/2)return R;for(var U=P-(R=R||"").length;U>0;U--)R+=" ";return R}function w(R,q,P){var U,N=q._context.doubleClickDelay,F=1,j=k.ensureSingle(R,"rect",P+"toggle",function(G){q._context.staticPlot||G.style("cursor","pointer").attr("pointer-events","all"),G.call(t.fill,"rgba(0,0,0,0)")});q._context.staticPlot||(j.on("mousedown",function(){(U=(new Date).getTime())-q._legendMouseDownTime<N?F+=1:(F=1,q._legendMouseDownTime=U)}),j.on("mouseup",function(){if(!q._dragged&&!q._editing){var G=q._fullLayout[P];(new Date).getTime()-q._legendMouseDownTime>N&&(F=Math.max(F-1,1)),_(q,G,R,F,A.event)}}))}function E(R,q,P,U,N){U._inHover&&R.attr("data-notex",!0),i.convertToTspans(R,P,function(){!function(F,j,G,te){var J=F.data()[0][0];if(G._inHover||!J||J.trace.showlegend){var X=F.select("g[class*=math-group]"),Y=X.node(),W=O(G);G||(G=j._fullLayout[W]);var $,ne,re=G.borderwidth,oe=(te===h?G.title.font:J.groupTitle?J.groupTitle.font:G.font).size*s;if(Y){var ue=a.bBox(Y);$=ue.height,ne=ue.width,te===h?a.setTranslate(X,re,re+.75*$):a.setTranslate(X,0,.25*$)}else{var Me=F.select("."+W+(te===h?"title":"")+"text"),me=i.lineCount(Me),pe=Me.node();if($=oe*me,ne=pe?a.bBox(pe).width:0,te===h)"left"===G.title.side&&(ne+=2*n.itemGap),i.positionText(Me,re+n.titlePad,re+oe);else{var ge=2*n.itemGap+G.itemwidth;J.groupTitle&&(ge=n.itemGap,ne-=G.itemwidth),i.positionText(Me,ge,-oe*((me-1)/2-.3))}}te===h?(G._titleWidth=ne,G._titleHeight=$):(J.lineHeight=oe,J.height=Math.max($,16)+3,J.width=ne)}else F.remove()}(q,P,U,N)})}function L(R){return k.isRightAnchor(R)?"right":k.isCenterAnchor(R)?"center":"left"}function C(R){return k.isBottomAnchor(R)?"bottom":k.isMiddleAnchor(R)?"middle":"top"}function O(R){return R._id||"legend"}ee.exports=function(R,q){if(q)v(R,q);else{var P=R._fullLayout,U=P._legends;P._infolayer.selectAll('[class^="legend"]').each(function(){var j=A.select(this),G=j.attr("class").split(" ")[0];G.match(y)&&-1===U.indexOf(G)&&j.remove()});for(var N=0;N<U.length;N++)v(R,R._fullLayout[U[N]])}}},82424:function(ee,D,e){"use strict";var A=e(73972),k=e(10130);ee.exports=function(l,T,b){var d,a,t=T._inHover,i=k.isGrouped(T),r=k.isReversed(T),n={},o=[],s=!1,u={},p=0,c=0;function x(U,N,F){if(!1!==T.visible&&(!b||U===T._id))if(""!==N&&k.isGrouped(T))-1===o.indexOf(N)?(o.push(N),s=!0,n[N]=[F]):n[N].push(F);else{var j="~~i"+p;o.push(j),n[j]=[F],p++}}for(d=0;d<l.length;d++){var g=l[d],h=g[0],y=h.trace,v=y.legend,m=y.legendgroup;if(t||y.visible&&y.showlegend)if(A.traceIs(y,"pie-like"))for(u[m]||(u[m]={}),a=0;a<g.length;a++){var _=g[a].label;u[m][_]||(x(v,m,{label:_,color:g[a].color,i:g[a].i,trace:y,pts:g[a].pts}),u[m][_]=!0,c=Math.max(c,(_||"").length))}else x(v,m,h),c=Math.max(c,(y.name||"").length)}if(!o.length)return[];var f=!s||!i,S=[];for(d=0;d<o.length;d++){var w=n[o[d]];S.push(f?w[0]:w)}for(f&&(S=[S]),d=0;d<S.length;d++){var E=1/0;for(a=0;a<S[d].length;a++){var L=S[d][a].trace.legendrank;E>L&&(E=L)}S[d][0]._groupMinRank=E,S[d][0]._preGroupSort=d}var C=function(U,N){return U.trace.legendrank-N.trace.legendrank||U._preSort-N._preSort};for(S.forEach(function(U,N){U[0]._preGroupSort=N}),S.sort(function(U,N){return U[0]._groupMinRank-N[0]._groupMinRank||U[0]._preGroupSort-N[0]._preGroupSort}),d=0;d<S.length;d++){S[d].forEach(function(U,N){U._preSort=N}),S[d].sort(C);var O=S[d][0].trace,R=null;for(a=0;a<S[d].length;a++){var q=S[d][a].trace.legendgrouptitle;if(q&&q.text){R=q,t&&(q.font=T._groupTitleFont);break}}if(r&&S[d].reverse(),R){var P=!1;for(a=0;a<S[d].length;a++)if(A.traceIs(S[d][a].trace,"pie-like")){P=!0;break}S[d].unshift({i:-1,groupTitle:R,noClick:P,trace:{showlegend:O.showlegend,legendgroup:O.legendgroup,visible:"toggleitem"===T.groupclick||O.visible}})}for(a=0;a<S[d].length;a++)S[d][a]=[S[d][a]]}return T._lgroupsLength=S.length,T._maxNameLength=c,S}},85167:function(ee,D,e){"use strict";var A=e(73972),k=e(71828),l=k.pushUnique,T=!0;ee.exports=function(b,d,a){var t=d._fullLayout;if(!d._dragged&&!d._editing){var i,r=t.legend.itemclick,n=t.legend.itemdoubleclick,o=t.legend.groupclick;if(1===a&&"toggle"===r&&"toggleothers"===n&&T&&d.data&&d._context.showTips&&k.notifier(k._(d,"Double-click on legend to isolate one trace"),"long"),T=!1,1===a?i=r:2===a&&(i=n),i){var s="togglegroup"===o,u=t.hiddenlabels?t.hiddenlabels.slice():[],p=b.data()[0][0];if(!p.groupTitle||!p.noClick){var c=d._fullData,x=(t.shapes||[]).filter(function(we){return we.showlegend}),g=c.concat(x),h=p.trace;h._isShape&&(h=h._fullInput);var y,v,m,_,f,S=h.legendgroup,w={},E=[],L=[],C=[],O=(t.shapes||[]).map(function(we){return we._input}),R=!1,q=h.legend,P=h._fullInput;if(P&&P._isShape||!A.traceIs(h,"pie-like")){var U,N=S&&S.length,F=[];if(N)for(y=0;y<g.length;y++)(U=g[y]).visible&&U.legendgroup===S&&F.push(y);if("toggle"===i){var j;switch(h.visible){case!0:j="legendonly";break;case!1:j=!1;break;case"legendonly":j=!0}if(N)if(s)for(y=0;y<g.length;y++){var G=g[y];!1!==G.visible&&G.legendgroup===S&&_e(G,j)}else _e(h,j);else _e(h,j)}else if("toggleothers"===i){var te,J,Y,W=!0;for(y=0;y<g.length;y++)if(te=(Y=g[y])===h,J=!0!==Y.showlegend,!(te||J||N&&Y.legendgroup===S||Y.legend!==q||!0!==Y.visible||A.traceIs(Y,"notLegendIsolatable"))){W=!1;break}for(y=0;y<g.length;y++)if(!1!==(Y=g[y]).visible&&Y.legend===q&&!A.traceIs(Y,"notLegendIsolatable"))switch(h.visible){case"legendonly":_e(Y,!0);break;case!0:J=!0!==Y.showlegend&&!Y.legendgroup,_e(Y,!!((te=Y===h)||N&&Y.legendgroup===S||J)||!!W||"legendonly")}}for(y=0;y<L.length;y++)if(m=L[y]){var $=m.constructUpdate(),ne=Object.keys($);for(v=0;v<ne.length;v++)(w[_=ne[v]]=w[_]||[])[C[y]]=$[_]}for(f=Object.keys(w),y=0;y<f.length;y++)for(_=f[y],v=0;v<E.length;v++)w[_].hasOwnProperty(v)||(w[_][v]=void 0);R?A.call("_guiUpdate",d,w,{shapes:O},E):A.call("_guiRestyle",d,w,E)}else{var re=p.label,oe=u.indexOf(re);if("toggle"===i)-1===oe?u.push(re):u.splice(oe,1);else if("toggleothers"===i){var ue=-1!==oe,xe=[];for(y=0;y<d.calcdata.length;y++){var Me=d.calcdata[y];for(v=0;v<Me.length;v++){var me=Me[v].label;q===Me[0].trace.legend&&re!==me&&(-1===u.indexOf(me)&&(ue=!0),l(u,me),xe.push(me))}}if(!ue)for(var pe=0;pe<xe.length;pe++){var ge=u.indexOf(xe[pe]);-1!==ge&&u.splice(ge,1)}}A.call("_guiRelayout",d,"hiddenlabels",u)}}}}function Pe(we,se){var ae=E.indexOf(we),fe=w.visible;return fe||(fe=w.visible=[]),-1===E.indexOf(we)&&(E.push(we),ae=E.length-1),fe[ae]=se,ae}function _e(we,se){if(!p.groupTitle||s){var fe=we._fullInput||we,Ee=fe._isShape,ke=fe.index;if(void 0===ke&&(ke=fe._index),A.hasTransform(fe,"groupby")){var be=L[ke];if(!be){var Ie=A.getTransformIndices(fe,"groupby");be=k.keyedContainer(fe,"transforms["+Ie[Ie.length-1]+"].styles","target","value.visible"),L[ke]=be}var ce=be.get(we._group);void 0===ce&&(ce=!0),!1!==ce&&be.set(we._group,se),C[ke]=Pe(ke,!1!==fe.visible)}else{var Te=!1!==fe.visible&&se;Ee?(O[ke].visible=Te,R=!0):Pe(ke,Te)}}}}},10130:function(ee,D){"use strict";D.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},D.isVertical=function(e){return"h"!==e.orientation},D.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},2199:function(ee,D,e){"use strict";ee.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(ee,D,e){"use strict";var A=e(39898),k=e(73972),l=e(71828),T=l.strTranslate,b=e(91424),d=e(7901),a=e(52075).extractOpts,t=e(34098),i=e(63463),r=e(53581).castOption,n=e(14928);function o(p,c){return(c?"radial":"horizontal")+(p?"":"reversed")}function s(p){var c=p[0].trace,x=c.contours,g=t.hasLines(c),h=t.hasMarkers(c),y=c.visible&&c.fill&&"none"!==c.fill,v=!1,m=!1;if(x){var _=x.coloring;"lines"===_?v=!0:g="none"===_||"heatmap"===_||x.showlines,"constraint"===x.type?y="="!==x._operation:"fill"!==_&&"heatmap"!==_||(m=!0)}return{showMarker:h,showLine:g,showFill:y,showGradientLine:v,showGradientFill:m,anyLine:g||v,anyFill:y||m}}function u(p,c,x){return p&&l.isArrayOrTypedArray(p)?c:p>x?x:p}ee.exports=function(p,c,x){x||(x=c._fullLayout.legend);var h="constant"===x.itemsizing,y=x.itemwidth,m=T((y+2*n.itemGap)/2,0),_=function(w,E,L,C){var O;if(w+1)O=w;else{if(!(E&&E.width>0))return 0;O=E.width}return h?C:Math.min(O,L)};function f(w,E,L){var C=w[0].trace,O=C.marker||{},R=O.line||{},q=L?C.visible&&C.type===L:k.traceIs(C,"bar"),P=A.select(E).select("g.legendpoints").selectAll("path.legend"+L).data(q?[w]:[]);P.enter().append("path").classed("legend"+L,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),P.exit().remove(),P.each(function(U){var N=A.select(this),F=U[0],j=_(F.mlw,O.line,5,2);N.style("stroke-width",j+"px");var G=F.mcc;if(!x._inHover&&"mc"in F){var te=a(O),J=te.mid;void 0===J&&(J=(te.max+te.min)/2),G=b.tryColorscale(O,"")(J)}var X=G||F.mc||O.color,Y=O.pattern,W=Y&&b.getPatternAttr(Y.shape,0,"");if(W){var $=b.getPatternAttr(Y.bgcolor,0,null),ne=b.getPatternAttr(Y.fgcolor,0,null),re=Y.fgopacity,oe=u(Y.size,8,10),ue=u(Y.solidity,.5,1);N.call(b.pattern,"legend",c,"legend-"+C.uid,W,oe,ue,G,Y.fillmode,$,ne,re)}else N.call(d.fill,X);j&&d.stroke(N,F.mlc||R.color)})}function S(w,E,L){var C=w[0],O=C.trace,R=L?O.visible&&O.type===L:k.traceIs(O,L),q=A.select(E).select("g.legendpoints").selectAll("path.legend"+L).data(R?[w]:[]);if(q.enter().append("path").classed("legend"+L,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),q.exit().remove(),q.size()){var P=O.marker||{},U=_(r(P.line.width,C.pts),P.line,5,2),N="pieLike",F=l.minExtend(O,{marker:{line:{width:U}}},N),j=l.minExtend(C,{trace:F},N);i(q,j,F,c)}}p.each(function(w){var E=A.select(this),L=l.ensureSingle(E,"g","layers");L.style("opacity",w[0].trace.opacity);var C=x.valign,O=w[0].lineHeight,R=w[0].height;L.attr("transform","middle"!==C&&O&&R?T(0,{top:1,bottom:-1}[C]*(.5*(O-R+3))):null),L.selectAll("g.legendfill").data([w]).enter().append("g").classed("legendfill",!0),L.selectAll("g.legendlines").data([w]).enter().append("g").classed("legendlines",!0);var P=L.selectAll("g.legendsymbols").data([w]);P.enter().append("g").classed("legendsymbols",!0),P.selectAll("g.legendpoints").data([w]).enter().append("g").classed("legendpoints",!0)}).each(function(w){var E,L=w[0].trace,C=[];if(L.visible)switch(L.type){case"histogram2d":case"heatmap":C=[["M-15,-2V4H15V-2Z"]],E=!0;break;case"choropleth":case"choroplethmapbox":C=[["M-6,-6V6H6V-6Z"]],E=!0;break;case"densitymapbox":C=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],E="radial";break;case"cone":C=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],E=!1;break;case"streamtube":C=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],E=!1;break;case"surface":C=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],E=!0;break;case"mesh3d":C=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!1;break;case"volume":C=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!0;break;case"isosurface":C=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],E=!1}var O=A.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(C);O.enter().append("path").classed("legend3dandfriends",!0).attr("transform",m).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(R,q){var P,U=A.select(this),N=a(L),F=N.colorscale,j=N.reversescale;if(F){if(!E){var G=F.length;P=0===q?F[j?G-1:0][1]:1===q?F[j?0:G-1][1]:F[Math.floor((G-1)/2)][1]}}else{var te=L.vertexcolor||L.facecolor||L.color;P=l.isArrayOrTypedArray(te)?te[q]||te[0]:te}U.attr("d",R[0]),P?U.call(d.fill,P):U.call(function(J){J.size()&&b.gradient(J,c,"legendfill-"+L.uid,o(j,"radial"===E),F,"fill")})})}).each(function(w){var E=w[0].trace,L="waterfall"===E.type;if(w[0]._distinct&&L){var C=w[0].trace[w[0].dir].marker;return w[0].mc=C.color,w[0].mlw=C.line.width,w[0].mlc=C.line.color,f(w,this,"waterfall")}var O=[];E.visible&&L&&(O=w[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var R=A.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(O);R.enter().append("path").classed("legendwaterfall",!0).attr("transform",m).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(q){var P=A.select(this),U=E[q[0]].marker,N=_(void 0,U.line,5,2);P.attr("d",q[1]).style("stroke-width",N+"px").call(d.fill,U.color),N&&P.call(d.stroke,U.line.color)})}).each(function(w){f(w,this,"funnel")}).each(function(w){f(w,this)}).each(function(w){var E=w[0].trace,L=A.select(this).select("g.legendpoints").selectAll("path.legendbox").data(E.visible&&k.traceIs(E,"box-violin")?[w]:[]);L.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),L.exit().remove(),L.each(function(){var C=A.select(this);if("all"!==E.boxpoints&&"all"!==E.points||0!==d.opacity(E.fillcolor)||0!==d.opacity((E.line||{}).color)){var O=_(void 0,E.line,5,2);C.style("stroke-width",O+"px").call(d.fill,E.fillcolor),O&&d.stroke(C,E.line.color)}else{var R=l.minExtend(E,{marker:{size:h?12:l.constrain(E.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});L.call(b.pointStyle,R,c)}})}).each(function(w){S(w,this,"funnelarea")}).each(function(w){S(w,this,"pie")}).each(function(w){var E,L,C=s(w),O=C.showFill,R=C.showLine,q=C.showGradientLine,P=C.showGradientFill,U=C.anyFill,N=C.anyLine,F=w[0],j=F.trace,G=a(j),te=G.colorscale,J=G.reversescale,X=t.hasMarkers(j)||!U?"M5,0":N?"M5,-2":"M5,-3",Y=A.select(this),W=Y.select(".legendfill").selectAll("path").data(O||P?[w]:[]);if(W.enter().append("path").classed("js-fill",!0),W.exit().remove(),W.attr("d",X+"h"+y+"v6h-"+y+"z").call(function(re){re.size()&&(O?b.fillGroupStyle(re,c):b.gradient(re,c,"legendfill-"+j.uid,o(J),te,"fill"))}),R||q){var $=_(void 0,j.line,10,5);L=l.minExtend(j,{line:{width:$}}),E=[l.minExtend(F,{trace:L})]}var ne=Y.select(".legendlines").selectAll("path").data(R||q?[E]:[]);ne.enter().append("path").classed("js-line",!0),ne.exit().remove(),ne.attr("d",X+(q?"l"+y+",0.0001":"h"+y)).call(R?b.lineGroupStyle:function(re){if(re.size()){var oe="legendline-"+j.uid;b.lineGroupStyle(re),b.gradient(re,c,oe,o(J),te,"stroke")}})}).each(function(w){var E,L,C=s(w),q=C.showLine,P=C.showMarker,U=w[0],N=U.trace,F=!P&&!C.anyLine&&!C.anyFill&&t.hasText(N);function j(ne,re,oe,ue){var xe=l.nestedProperty(N,ne).get(),Me=l.isArrayOrTypedArray(xe)&&re?re(xe):xe;if(h&&Me&&void 0!==ue&&(Me=ue),oe){if(Me<oe[0])return oe[0];if(Me>oe[1])return oe[1]}return Me}function G(ne){return U._distinct&&U.index&&ne[U.index]?ne[U.index]:ne[0]}if(P||F||q){var te={},J={};if(P){te.mc=j("marker.color",G),te.mx=j("marker.symbol",G),te.mo=j("marker.opacity",l.mean,[.2,1]),te.mlc=j("marker.line.color",G),te.mlw=j("marker.line.width",l.mean,[0,5],2),J.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var X=j("marker.size",l.mean,[2,16],12);te.ms=X,J.marker.size=X}q&&(J.line={width:j("line.width",G,[0,10],5)}),F&&(te.tx="Aa",te.tp=j("textposition",G),te.ts=10,te.tc=j("textfont.color",G),te.tf=j("textfont.family",G)),E=[l.minExtend(U,te)],(L=l.minExtend(N,J)).selectedpoints=null,L.texttemplate=null}var Y=A.select(this).select("g.legendpoints"),W=Y.selectAll("path.scatterpts").data(P?E:[]);W.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",m),W.exit().remove(),W.call(b.pointStyle,L,c),P&&(E[0].mrc=3);var $=Y.selectAll("g.pointtext").data(F?E:[]);$.enter().append("g").classed("pointtext",!0).append("text").attr("transform",m),$.exit().remove(),$.selectAll("text").call(b.textPointStyle,L,c)}).each(function(w){var E=w[0].trace,L=A.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(E.visible&&"candlestick"===E.type?[w,w]:[]);L.enter().append("path").classed("legendcandle",!0).attr("d",function(C,O){return O?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",m).style("stroke-miterlimit",1),L.exit().remove(),L.each(function(C,O){var R=A.select(this),q=E[O?"increasing":"decreasing"],P=_(void 0,q.line,5,2);R.style("stroke-width",P+"px").call(d.fill,q.fillcolor),P&&d.stroke(R,q.line.color)})}).each(function(w){var E=w[0].trace,L=A.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(E.visible&&"ohlc"===E.type?[w,w]:[]);L.enter().append("path").classed("legendohlc",!0).attr("d",function(C,O){return O?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",m).style("stroke-miterlimit",1),L.exit().remove(),L.each(function(C,O){var R=A.select(this),q=E[O?"increasing":"decreasing"],P=_(void 0,q.line,5,2);R.style("fill","none").call(b.dashLine,q.line.dash,P),P&&d.stroke(R,q.line.color)})})}},42068:function(ee,D,e){"use strict";e(93348),ee.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(ee,D,e){"use strict";var A=e(73972),k=e(74875),l=e(41675),T=e(24255),b=e(34031).eraseActiveShape,d=e(71828),a=d._,t=ee.exports={};function i(g,h){var y,v,m=h.currentTarget,_=m.getAttribute("data-attr"),f=m.getAttribute("data-val")||!0,S=g._fullLayout,w={},E=l.list(g,null,!0),L=S._cartesianSpikesEnabled;if("zoom"===_){var C,O="in"===f?.5:2,R=(1+O)/2,q=(1-O)/2;for(v=0;v<E.length;v++)if(!(y=E[v]).fixedrange)if(C=y._name,"auto"===f)w[C+".autorange"]=!0;else if("reset"===f)void 0===y._rangeInitial0&&void 0===y._rangeInitial1?w[C+".autorange"]=!0:void 0===y._rangeInitial0?(w[C+".autorange"]=y._autorangeInitial,w[C+".range"]=[null,y._rangeInitial1]):void 0===y._rangeInitial1?(w[C+".range"]=[y._rangeInitial0,null],w[C+".autorange"]=y._autorangeInitial):w[C+".range"]=[y._rangeInitial0,y._rangeInitial1],void 0!==y._showSpikeInitial&&(w[C+".showspikes"]=y._showSpikeInitial,"on"!==L||y._showSpikeInitial||(L="off"));else{var P=[y.r2l(y.range[0]),y.r2l(y.range[1])],U=[R*P[0]+q*P[1],R*P[1]+q*P[0]];w[C+".range[0]"]=y.l2r(U[0]),w[C+".range[1]"]=y.l2r(U[1])}}else"hovermode"!==_||"x"!==f&&"y"!==f||m.setAttribute("data-val",f=S._isHoriz?"y":"x"),w[_]=f;S._cartesianSpikesEnabled=L,A.call("_guiRelayout",g,w)}function r(g,h){for(var y=h.currentTarget,v=y.getAttribute("data-attr"),m=y.getAttribute("data-val")||!0,_=g._fullLayout._subplots.gl3d||[],f={},S=v.split("."),w=0;w<_.length;w++)f[_[w]+"."+S[1]]=m;f.dragmode="pan"===m?m:"zoom",A.call("_guiRelayout",g,f)}function n(g,h){for(var y=h.currentTarget.getAttribute("data-attr"),v="resetLastSave"===y,m="resetDefault"===y,_=g._fullLayout,f=_._subplots.gl3d||[],S={},w=0;w<f.length;w++){var E,L=f[w],C=L+".camera",O=L+".aspectratio",R=L+".aspectmode",q=_[L]._scene;v?(S[C+".up"]=q.viewInitial.up,S[C+".eye"]=q.viewInitial.eye,S[C+".center"]=q.viewInitial.center,E=!0):m&&(S[C+".up"]=null,S[C+".eye"]=null,S[C+".center"]=null,E=!0),E&&(S[O+".x"]=q.viewInitial.aspectratio.x,S[O+".y"]=q.viewInitial.aspectratio.y,S[O+".z"]=q.viewInitial.aspectratio.z,S[R]=q.viewInitial.aspectmode)}A.call("_guiRelayout",g,S)}function o(g,h){var y=h.currentTarget,v=y._previousVal,m=g._fullLayout,_=m._subplots.gl3d||[],f=["xaxis","yaxis","zaxis"],S={},w={};if(v)w=v,y._previousVal=null;else{for(var E=0;E<_.length;E++){var L=_[E],C=m[L],O=L+".hovermode";S[O]=C.hovermode,w[O]=!1;for(var R=0;R<3;R++){var q=f[R],P=L+"."+q+".showspikes";w[P]=!1,S[P]=C[q].showspikes}}y._previousVal=S}return w}function s(g,h){for(var y=h.currentTarget,v=y.getAttribute("data-attr"),m=y.getAttribute("data-val")||!0,_=g._fullLayout,f=_._subplots.geo||[],S=0;S<f.length;S++){var w=f[S];if("zoom"===v){var L=_[w].projection.scale;A.call("_guiRelayout",g,w+".projection.scale","in"===m?2*L:.5*L)}}"reset"===v&&x(g,"geo")}function u(g){var h=g._fullLayout;return!h.hovermode&&(h._has("cartesian")?h._isHoriz?"y":"x":"closest")}function p(g){var h=u(g);A.call("_guiRelayout",g,"hovermode",h)}function c(g,h){for(var y=h.currentTarget.getAttribute("data-val"),v=g._fullLayout,m=v._subplots.mapbox||[],_={},f=0;f<m.length;f++){var S=m[f],w=v[S].zoom;_[S+".zoom"]="in"===y?1.05*w:w/1.05}A.call("_guiRelayout",g,_)}function x(g,h){for(var y=g._fullLayout,v=y._subplots[h]||[],m={},_=0;_<v.length;_++)for(var f=v[_],S=y[f]._subplot.viewInitial,w=Object.keys(S),E=0;E<w.length;E++){var L=w[E];m[f+"."+L]=S[L]}A.call("_guiRelayout",g,m)}t.toImage={name:"toImage",title:function(g){return a(g,"png"===((g._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:T.camera,click:function(g){var h=g._context.toImageButtonOptions,y={format:h.format||"png"};d.notifier(a(g,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==y.format&&d.isIE()&&(d.notifier(a(g,"IE only supports svg.  Changing format to svg."),"long"),y.format="svg"),["filename","width","height","scale"].forEach(function(v){v in h&&(y[v]=h[v])}),A.call("downloadImage",g,y).then(function(v){d.notifier(a(g,"Snapshot succeeded")+" - "+v,"long")}).catch(function(){d.notifier(a(g,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(g){return a(g,"Edit in Chart Studio")},icon:T.disk,click:function(g){k.sendDataToCloud(g)}},t.editInChartStudio={name:"editInChartStudio",title:function(g){return a(g,"Edit in Chart Studio")},icon:T.pencil,click:function(g){k.sendDataToCloud(g)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(g){return a(g,"Zoom")},attr:"dragmode",val:"zoom",icon:T.zoombox,click:i},t.pan2d={name:"pan2d",_cat:"pan",title:function(g){return a(g,"Pan")},attr:"dragmode",val:"pan",icon:T.pan,click:i},t.select2d={name:"select2d",_cat:"select",title:function(g){return a(g,"Box Select")},attr:"dragmode",val:"select",icon:T.selectbox,click:i},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(g){return a(g,"Lasso Select")},attr:"dragmode",val:"lasso",icon:T.lasso,click:i},t.drawclosedpath={name:"drawclosedpath",title:function(g){return a(g,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:T.drawclosedpath,click:i},t.drawopenpath={name:"drawopenpath",title:function(g){return a(g,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:T.drawopenpath,click:i},t.drawline={name:"drawline",title:function(g){return a(g,"Draw line")},attr:"dragmode",val:"drawline",icon:T.drawline,click:i},t.drawrect={name:"drawrect",title:function(g){return a(g,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:T.drawrect,click:i},t.drawcircle={name:"drawcircle",title:function(g){return a(g,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:T.drawcircle,click:i},t.eraseshape={name:"eraseshape",title:function(g){return a(g,"Erase active shape")},icon:T.eraseshape,click:b},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(g){return a(g,"Zoom in")},attr:"zoom",val:"in",icon:T.zoom_plus,click:i},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(g){return a(g,"Zoom out")},attr:"zoom",val:"out",icon:T.zoom_minus,click:i},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(g){return a(g,"Autoscale")},attr:"zoom",val:"auto",icon:T.autoscale,click:i},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(g){return a(g,"Reset axes")},attr:"zoom",val:"reset",icon:T.home,click:i},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(g){return a(g,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:T.tooltip_basic,gravity:"ne",click:i},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(g){return a(g,"Compare data on hover")},attr:"hovermode",val:function(g){return g._fullLayout._isHoriz?"y":"x"},icon:T.tooltip_compare,gravity:"ne",click:i},t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(g){return a(g,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:T.zoombox,click:r},t.pan3d={name:"pan3d",_cat:"pan",title:function(g){return a(g,"Pan")},attr:"scene.dragmode",val:"pan",icon:T.pan,click:r},t.orbitRotation={name:"orbitRotation",title:function(g){return a(g,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:T["3d_rotate"],click:r},t.tableRotation={name:"tableRotation",title:function(g){return a(g,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:T["z-axis"],click:r},t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(g){return a(g,"Reset camera to default")},attr:"resetDefault",icon:T.home,click:n},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(g){return a(g,"Reset camera to last save")},attr:"resetLastSave",icon:T.movie,click:n},t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(g){return a(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:function(g,h){var y=o(g,h);A.call("_guiRelayout",g,y)}},t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(g){return a(g,"Zoom in")},attr:"zoom",val:"in",icon:T.zoom_plus,click:s},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(g){return a(g,"Zoom out")},attr:"zoom",val:"out",icon:T.zoom_minus,click:s},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(g){return a(g,"Reset")},attr:"reset",val:null,icon:T.autoscale,click:s},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(g){return a(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:p},t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(g){return a(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:p},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(g){return a(g,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:T.tooltip_basic,gravity:"ne",click:p},t.resetViewSankey={name:"resetSankeyGroup",title:function(g){return a(g,"Reset view")},icon:T.home,click:function(g){for(var h={"node.groups":[],"node.x":[],"node.y":[]},y=0;y<g._fullData.length;y++){var v=g._fullData[y]._viewInitial;h["node.groups"].push(v.node.groups.slice()),h["node.x"].push(v.node.x.slice()),h["node.y"].push(v.node.y.slice())}A.call("restyle",g,h)}},t.toggleHover={name:"toggleHover",title:function(g){return a(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:function(g,h){var y=o(g,h);y.hovermode=u(g),A.call("_guiRelayout",g,y)}},t.resetViews={name:"resetViews",title:function(g){return a(g,"Reset views")},icon:T.home,click:function(g,h){var y=h.currentTarget;y.setAttribute("data-attr","zoom"),y.setAttribute("data-val","reset"),i(g,h),y.setAttribute("data-attr","resetLastSave"),n(g,h),x(g,"geo"),x(g,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(g){return a(g,"Toggle Spike Lines")},icon:T.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(g){var h=g._fullLayout;h._cartesianSpikesEnabled="on"===h._cartesianSpikesEnabled?"off":"on",A.call("_guiRelayout",g,function(v){for(var m="on"===v._fullLayout._cartesianSpikesEnabled,_=l.list(v,null,!0),f={},S=0;S<_.length;S++){var w=_[S];f[w._name+".showspikes"]=!!m||w._showSpikeInitial}return f}(g))}},t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(g){return a(g,"Reset view")},attr:"reset",icon:T.home,click:function(g){x(g,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(g){return a(g,"Zoom in")},attr:"zoom",val:"in",icon:T.zoom_plus,click:c},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(g){return a(g,"Zoom out")},attr:"zoom",val:"out",icon:T.zoom_minus,click:c}},93348:function(ee,D,e){"use strict";var A=e(26023),k=Object.keys(A),l=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],T=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(l),b=[];k.forEach(function(d){!function(a){if(-1===T.indexOf(a._cat||a.name)){var t=a.name,i=(a._cat||a.name).toLowerCase();-1===b.indexOf(t)&&b.push(t),-1===b.indexOf(i)&&b.push(i)}}(A[d])}),b.sort(),ee.exports={DRAW_MODES:l,backButtons:T,foreButtons:b}},35750:function(ee,D,e){"use strict";var A=e(71828),k=e(7901),l=e(44467),T=e(42068);ee.exports=function(b,d){var a=b.modebar||{},t=l.newContainer(d,"modebar");function i(n,o){return A.coerce(a,t,T,n,o)}i("orientation"),i("bgcolor",k.addOpacity(d.paper_bgcolor,.5));var r=k.contrast(k.rgb(d.modebar.bgcolor));i("color",k.addOpacity(r,.3)),i("activecolor",k.addOpacity(r,.7)),i("uirevision",d.uirevision),i("add"),i("remove")}},64168:function(ee,D,e){"use strict";ee.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(ee,D,e){"use strict";var A=e(41675),k=e(34098),l=e(73972),T=e(23469).isUnifiedHover,b=e(37676),d=e(26023),a=e(93348).DRAW_MODES,t=e(71828).extendDeep;ee.exports=function(i){var r=i._fullLayout,n=i._context,o=r._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var s,u=n.modeBarButtons;s=Array.isArray(u)&&u.length?function(p){for(var c=t([],p),x=0;x<c.length;x++)for(var g=c[x],h=0;h<g.length;h++){var y=g[h];if("string"==typeof y){if(void 0===d[y])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));c[x][h]=d[y]}}return c}(u):!n.displayModeBar&&n.watermark?[]:function(p){var c=p._fullLayout,x=p._fullData,g=p._context;function h(xe,Me){if("string"==typeof Me){if(Me.toLowerCase()===xe.toLowerCase())return!0}else if(Me.name===xe||(Me._cat||Me.name)===xe.toLowerCase())return!0;return!1}var y=c.modebar.add;"string"==typeof y&&(y=[y]);var v=c.modebar.remove;"string"==typeof v&&(v=[v]);var m=g.modeBarButtonsToAdd.concat(y.filter(function(xe){for(var Me=0;Me<g.modeBarButtonsToRemove.length;Me++)if(h(xe,g.modeBarButtonsToRemove[Me]))return!1;return!0})),_=g.modeBarButtonsToRemove.concat(v.filter(function(xe){for(var Me=0;Me<g.modeBarButtonsToAdd.length;Me++)if(h(xe,g.modeBarButtonsToAdd[Me]))return!1;return!0})),f=c._has("cartesian"),S=c._has("gl3d"),w=c._has("geo"),E=c._has("pie"),L=c._has("funnelarea"),C=c._has("gl2d"),O=c._has("ternary"),R=c._has("mapbox"),q=c._has("polar"),P=c._has("smith"),U=c._has("sankey"),N=function(xe){for(var Me=A.list({_fullLayout:xe},null,!0),me=0;me<Me.length;me++)if(!Me[me].fixedrange)return!1;return!0}(c),F=T(c.hovermode),j=[];function G(xe){if(xe.length){for(var Me=[],me=0;me<xe.length;me++){for(var pe=xe[me],ge=d[pe],Pe=ge.name.toLowerCase(),_e=(ge._cat||ge.name).toLowerCase(),we=!1,se=0;se<_.length;se++){var ae=_[se].toLowerCase();if(ae===Pe||ae===_e){we=!0;break}}we||Me.push(d[pe])}j.push(Me)}}var te=["toImage"];g.showEditInChartStudio?te.push("editInChartStudio"):g.showSendToCloud&&te.push("sendDataToCloud"),G(te);var J=[],X=[],Y=[],W=[];(f||C||E||L||O)+w+S+R+q+P>1?(X=["toggleHover"],Y=["resetViews"]):w?(J=["zoomInGeo","zoomOutGeo"],X=["hoverClosestGeo"],Y=["resetGeo"]):S?(X=["hoverClosest3d"],Y=["resetCameraDefault3d","resetCameraLastSave3d"]):R?(J=["zoomInMapbox","zoomOutMapbox"],X=["toggleHover"],Y=["resetViewMapbox"]):C?X=["hoverClosestGl2d"]:E?X=["hoverClosestPie"]:U?(X=["hoverClosestCartesian","hoverCompareCartesian"],Y=["resetViewSankey"]):X=["toggleHover"],f&&(X=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(xe){for(var Me=0;Me<xe.length;Me++)if(!l.traceIs(xe[Me],"noHover"))return!1;return!0}(x)||F)&&(X=[]),!f&&!C||N||(J=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==Y[0]&&(Y=["resetScale2d"])),S?W=["zoom3d","pan3d","orbitRotation","tableRotation"]:(f||C)&&!N||O?W=["zoom2d","pan2d"]:R||w?W=["pan2d"]:q&&(W=["zoom2d"]),function(xe){for(var Me=!1,me=0;me<xe.length&&!Me;me++){var pe=xe[me];pe._module&&pe._module.selectPoints&&(l.traceIs(pe,"scatter-like")?(k.hasMarkers(pe)||k.hasText(pe))&&(Me=!0):l.traceIs(pe,"box-violin")&&"all"!==pe.boxpoints&&"all"!==pe.points||(Me=!0))}return Me}(x)&&W.push("select2d","lasso2d");var $=[],ne=function(xe){-1===$.indexOf(xe)&&-1!==X.indexOf(xe)&&$.push(xe)};if(Array.isArray(m)){for(var re=[],oe=0;oe<m.length;oe++){var ue=m[oe];"string"==typeof ue?(ue=ue.toLowerCase(),-1!==a.indexOf(ue)?(c._has("mapbox")||c._has("cartesian"))&&W.push(ue):"togglespikelines"===ue?ne("toggleSpikelines"):"togglehover"===ue?ne("toggleHover"):"hovercompare"===ue?ne("hoverCompareCartesian"):"hoverclosest"===ue?(ne("hoverClosestCartesian"),ne("hoverClosestGeo"),ne("hoverClosest3d"),ne("hoverClosestGl2d"),ne("hoverClosestPie")):"v1hovermode"===ue&&(ne("toggleHover"),ne("hoverClosestCartesian"),ne("hoverCompareCartesian"),ne("hoverClosestGeo"),ne("hoverClosest3d"),ne("hoverClosestGl2d"),ne("hoverClosestPie"))):re.push(ue)}m=re}return G(W),G(J.concat(Y)),G($),function(xe,Me){if(Me.length)if(Array.isArray(Me[0]))for(var me=0;me<Me.length;me++)xe.push(Me[me]);else xe.push(Me);return xe}(j,m)}(i),o?o.update(i,s):r._modeBar=b(i,s)}else o&&(o.destroy(),delete r._modeBar)}},37676:function(ee,D,e){"use strict";var A=e(39898),k=e(92770),l=e(71828),T=e(24255),b=e(11506).version,d=new DOMParser;function a(i){this.container=i.container,this.element=document.createElement("div"),this.update(i.graphInfo,i.buttons),this.container.appendChild(this.element)}var t=a.prototype;t.update=function(i,r){this.graphInfo=i;var n=this.graphInfo._context,o=this.graphInfo._fullLayout,s="modebar-"+o._uid;this.element.setAttribute("id",s),this._uid=s,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===o.modebar.orientation&&(this.element.className+=" vertical",r=r.reverse());var u=o.modebar,p="hover"===n.displayModeBar?".js-plotly-plot .plotly:hover ":"";l.deleteRelatedStyleRule(s),l.addRelatedStyleRule(s,p+"#"+s+" .modebar-group","background-color: "+u.bgcolor),l.addRelatedStyleRule(s,"#"+s+" .modebar-btn .icon path","fill: "+u.color),l.addRelatedStyleRule(s,"#"+s+" .modebar-btn:hover .icon path","fill: "+u.activecolor),l.addRelatedStyleRule(s,"#"+s+" .modebar-btn.active .icon path","fill: "+u.activecolor);var c=!this.hasButtons(r),x=this.hasLogo!==n.displaylogo,g=this.locale!==n.locale;if(this.locale=n.locale,(c||x||g)&&(this.removeAllButtons(),this.updateButtons(r),n.watermark||n.displaylogo)){var h=this.getLogo();n.watermark&&(h.className=h.className+" watermark"),"v"===o.modebar.orientation?this.element.insertBefore(h,this.element.childNodes[0]):this.element.appendChild(h),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(i){var r=this;this.buttons=i,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(n){var o=r.createGroup();n.forEach(function(s){var u=s.name;if(!u)throw new Error("must provide button 'name' in button config");if(-1!==r.buttonsNames.indexOf(u))throw new Error("button name '"+u+"' is taken");r.buttonsNames.push(u);var p=r.createButton(s);r.buttonElements.push(p),o.appendChild(p)}),r.element.appendChild(o)})},t.createGroup=function(){var i=document.createElement("div");return i.className="modebar-group",i},t.createButton=function(i){var r=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var o=i.title;void 0===o?o=i.name:"function"==typeof o&&(o=o(this.graphInfo)),(o||0===o)&&n.setAttribute("data-title",o),void 0!==i.attr&&n.setAttribute("data-attr",i.attr);var s=i.val;if(void 0!==s&&("function"==typeof s&&(s=s(this.graphInfo)),n.setAttribute("data-val",s)),"function"!=typeof i.click)throw new Error("must provide button 'click' function in button config");n.addEventListener("click",function(p){i.click(r.graphInfo,p),r.updateActiveButton(p.currentTarget)}),n.setAttribute("data-toggle",i.toggle||!1),i.toggle&&A.select(n).classed("active",!0);var u=i.icon;return n.appendChild("function"==typeof u?u():this.createIcon(u||T.question)),n.setAttribute("data-gravity",i.gravity||"n"),n},t.createIcon=function(i){var r,n=k(i.height)?Number(i.height):i.ascent-i.descent,o="http://www.w3.org/2000/svg";if(i.path){(r=document.createElementNS(o,"svg")).setAttribute("viewBox",[0,0,i.width,n].join(" ")),r.setAttribute("class","icon");var s=document.createElementNS(o,"path");s.setAttribute("d",i.path),i.transform?s.setAttribute("transform",i.transform):void 0!==i.ascent&&s.setAttribute("transform","matrix(1 0 0 -1 0 "+i.ascent+")"),r.appendChild(s)}return i.svg&&(r=d.parseFromString(i.svg,"application/xml").childNodes[0]),r.setAttribute("height","1em"),r.setAttribute("width","1em"),r},t.updateActiveButton=function(i){var r=this.graphInfo._fullLayout,n=void 0!==i?i.getAttribute("data-attr"):null;this.buttonElements.forEach(function(o){var s=o.getAttribute("data-val")||!0,u=o.getAttribute("data-attr"),p="true"===o.getAttribute("data-toggle"),c=A.select(o);if(p)u===n&&c.classed("active",!c.classed("active"));else{var x=null===u?u:l.nestedProperty(r,u).get();c.classed("active",x===s)}})},t.hasButtons=function(i){var r=this.buttons;if(!r||i.length!==r.length)return!1;for(var n=0;n<i.length;++n){if(i[n].length!==r[n].length)return!1;for(var o=0;o<i[n].length;o++)if(i[n][o].name!==r[n][o].name)return!1}return!0},t.getLogo=function(){var i=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",l._(this.graphInfo,"Produced with Plotly.js")+" (v"+b+")"),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(T.newplotlylogo)),i.appendChild(r),i},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){l.removeElement(this.container.querySelector(".modebar")),l.deleteRelatedStyleRule(this._uid)},ee.exports=function(i,r){var n=i._fullLayout,o=new a({graphInfo:i,container:n._modebardiv.node(),buttons:r});return n._privateplot&&A.select(o.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),o}},37113:function(ee,D,e){"use strict";var A=e(41940),k=e(22399),l=(0,e(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});ee.exports={visible:{valType:"boolean",editType:"plot"},buttons:l,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:A({editType:"plot"}),bgcolor:{valType:"color",dflt:k.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(ee){"use strict";ee.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(ee,D,e){"use strict";var A=e(71828),k=e(7901),l=e(44467),T=e(85501),b=e(37113),d=e(89573);function a(t,i,r,n){var o=n.calendar;function s(p,c){return A.coerce(t,i,b.buttons,p,c)}if(s("visible")){var u=s("step");"all"!==u&&(!o||"gregorian"===o||"month"!==u&&"year"!==u?s("stepmode"):i.stepmode="backward",s("count")),s("label")}}ee.exports=function(t,i,r,n,o){var s=t.rangeselector||{},u=l.newContainer(i,"rangeselector");function p(g,h){return A.coerce(s,u,b,g,h)}if(p("visible",T(s,u,{name:"buttons",handleItemDefaults:a,calendar:o}).length>0)){var c=function(g,h,y){for(var v=y.filter(function(S){return h[S].anchor===g._id}),m=0,_=0;_<v.length;_++){var f=h[v[_]].domain;f&&(m=Math.max(f[1],m))}return[g.domain[0],m+d.yPad]}(i,r,n);p("x",c[0]),p("y",c[1]),A.noneOrAll(t,i,["x","y"]),p("xanchor"),p("yanchor"),A.coerceFont(p,"font",r.font);var x=p("bgcolor");p("activecolor",k.contrast(x,d.lightAmount,d.darkAmount)),p("bordercolor"),p("borderwidth")}}},21598:function(ee,D,e){"use strict";var A=e(39898),k=e(73972),l=e(74875),T=e(7901),b=e(91424),d=e(71828),a=d.strTranslate,t=e(63893),i=e(41675),r=e(18783),n=r.LINE_SPACING,o=r.FROM_TL,s=r.FROM_BR,u=e(89573),p=e(70565);function c(h){return h._id}function x(h,y,v){var _,f,m=d.ensureSingle(h,"rect","selector-rect",function(_){_.attr("shape-rendering","crispEdges")});m.attr({rx:u.rx,ry:u.ry}),m.call(T.stroke,y.bordercolor).call(T.fill,(_=y,f=v,f._isActive||f._isHovered?_.activecolor:_.bgcolor)).style("stroke-width",y.borderwidth+"px")}function g(h,y,v,m){var _,f;d.ensureSingle(h,"text","selector-text",function(S){S.attr("text-anchor","middle")}).call(b.font,y.font).text((_=v,f=m._fullLayout._meta,_.label?f?d.templateString(_.label,f):_.label:"all"===_.step?"all":_.count+_.step.charAt(0))).call(function(S){t.convertToTspans(S,m)})}ee.exports=function(h){var y=h._fullLayout._infolayer.selectAll(".rangeselector").data(function(v){for(var m=i.list(v,"x",!0),_=[],f=0;f<m.length;f++){var S=m[f];S.rangeselector&&S.rangeselector.visible&&_.push(S)}return _}(h),c);y.enter().append("g").classed("rangeselector",!0),y.exit().remove(),y.style({cursor:"pointer","pointer-events":"all"}),y.each(function(v){var m=A.select(this),_=v,f=_.rangeselector,S=m.selectAll("g.button").data(d.filterVisible(f.buttons));S.enter().append("g").classed("button",!0),S.exit().remove(),S.each(function(w){var E=A.select(this),L=p(_,w);w._isActive=function(C,O,R){if("all"===O.step)return!0===C.autorange;var q=Object.keys(R);return C.range[0]===R[q[0]]&&C.range[1]===R[q[1]]}(_,w,L),E.call(x,f,w),E.call(g,f,w,h),E.on("click",function(){h._dragged||k.call("_guiRelayout",h,L)}),E.on("mouseover",function(){w._isHovered=!0,E.call(x,f,w)}),E.on("mouseout",function(){w._isHovered=!1,E.call(x,f,w)})}),function(w,E,L,C,O){var R=0,q=0,P=L.borderwidth;E.each(function(){var te=A.select(this).select(".selector-text"),X=Math.max(L.font.size*n*t.lineCount(te),16)+3;q=Math.max(q,X)}),E.each(function(){var te=A.select(this),J=te.select(".selector-rect"),X=te.select(".selector-text"),Y=X.node()&&b.bBox(X.node()).width,W=L.font.size*n,$=t.lineCount(X),ne=Math.max(Y+10,u.minButtonWidth);te.attr("transform",a(P+R,P)),J.attr({x:0,y:0,width:ne,height:q}),t.positionText(X,ne/2,q/2-($-1)*W/2+3),R+=ne+5});var U=w._fullLayout._size,N=U.l+U.w*L.x,F=U.t+U.h*(1-L.y),j="left";d.isRightAnchor(L)&&(N-=R,j="right"),d.isCenterAnchor(L)&&(N-=R/2,j="center");var G="top";d.isBottomAnchor(L)&&(F-=q,G="bottom"),d.isMiddleAnchor(L)&&(F-=q/2,G="middle"),R=Math.ceil(R),q=Math.ceil(q),N=Math.round(N),F=Math.round(F),l.autoMargin(w,C+"-range-selector",{x:L.x,y:L.y,l:R*o[j],r:R*s[j],b:q*s[G],t:q*o[G]}),O.attr("transform",a(N,F))}(h,S,f,_._name,m)})}},70565:function(ee,D,e){"use strict";var A=e(81041),k=e(71828).titleCase;ee.exports=function(l,T){var b=l._name,d={};if("all"===T.step)d[b+".autorange"]=!0;else{var a=function(t,i){var r,n=t.range,o=new Date(t.r2l(n[1])),u=A["utc"+k(i.step)],p=i.count;switch(i.stepmode){case"backward":r=t.l2r(+u.offset(o,-p));break;case"todate":var c=u.offset(o,-p);r=t.l2r(+u.ceil(c))}return[r,n[1]]}(l,T);d[b+".range[0]"]=a[0],d[b+".range[1]"]=a[1]}return d}},97218:function(ee,D,e){"use strict";ee.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(ee,D,e){"use strict";var A=e(22399);ee.exports={bgcolor:{valType:"color",dflt:A.background,editType:"plot"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(ee,D,e){"use strict";var A=e(41675).list,k=e(71739).getAutoRange,l=e(73251);ee.exports=function(T){for(var b=A(T,"x",!0),d=0;d<b.length;d++){var a=b[d],t=a[l.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=k(T,a))}}},73251:function(ee){"use strict";ee.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(ee,D,e){"use strict";var A=e(71828),k=e(44467),l=e(41675),T=e(75148),b=e(47850);ee.exports=function(d,a,t){var i=d[t],r=a[t];if(i.rangeslider||a._requestRangeslider[r._id]){A.isPlainObject(i.rangeslider)||(i.rangeslider={});var n,o,s=i.rangeslider,u=k.newContainer(r,"rangeslider");if(m("visible")){m("bgcolor",a.plot_bgcolor),m("bordercolor"),m("borderwidth"),m("thickness"),m("autorange",!r.isValidRange(s.range)),m("range");var p=a._subplots;if(p)for(var c=p.cartesian.filter(function(f){return f.substr(0,f.indexOf("y"))===l.name2id(t)}).map(function(f){return f.substr(f.indexOf("y"),f.length)}),x=A.simpleMap(c,l.id2name),g=0;g<x.length;g++){var h=x[g];n=s[h]||{},o=k.newContainer(u,h,"yaxis");var y,v=a[h];n.range&&v.isValidRange(n.range)&&(y="fixed"),"match"!==_("rangemode",y)&&_("range",v.range.slice())}u._input=s}}function m(f,S){return A.coerce(s,u,T,f,S)}function _(f,S){return A.coerce(n,o,b,f,S)}}},72413:function(ee,D,e){"use strict";var A=e(39898),k=e(73972),l=e(74875),T=e(71828),b=T.strTranslate,d=e(91424),a=e(7901),t=e(92998),i=e(93612),r=e(41675),n=e(28569),o=e(6964),s=e(73251);function u(y,v,m,_){var f=T.ensureSingle(y,"rect",s.bgClassName,function(L){L.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),S=_.borderwidth%2==0?_.borderwidth:_.borderwidth-1,w=-_._offsetShift,E=d.crispRound(v,_.borderwidth);f.attr({width:_._width+S,height:_._height+S,transform:b(w,w),"stroke-width":E}).call(a.stroke,_.bordercolor).call(a.fill,_.bgcolor)}function p(y,v,m,_){T.ensureSingleById(v._fullLayout._topdefs,"clipPath",_._clipId,function(S){S.append("rect").attr({x:0,y:0})}).select("rect").attr({width:_._width,height:_._height})}function c(y,v,m,_){var f,S=v.calcdata,w=y.selectAll("g."+s.rangePlotClassName).data(m._subplotsWith,T.identity);w.enter().append("g").attr("class",function(E){return s.rangePlotClassName+" "+E}).call(d.setClipUrl,_._clipId,v),w.order(),w.exit().remove(),w.each(function(E,L){var C=A.select(this),O=0===L,R=r.getFromId(v,E,"y"),q=R._name,P=_[q],U={data:[],layout:{xaxis:{type:m.type,domain:[0,1],range:_.range.slice(),calendar:m.calendar},width:_._width,height:_._height,margin:{t:0,b:0,l:0,r:0}},_context:v._context};m.rangebreaks&&(U.layout.xaxis.rangebreaks=m.rangebreaks),U.layout[q]={type:R.type,domain:[0,1],range:"match"!==P.rangemode?P.range.slice():R.range.slice(),calendar:R.calendar},R.rangebreaks&&(U.layout[q].rangebreaks=R.rangebreaks),l.supplyDefaults(U);var N=U._fullLayout.xaxis,F=U._fullLayout[q];N.clearCalc(),N.setScale(),F.clearCalc(),F.setScale();var j={id:E,plotgroup:C,xaxis:N,yaxis:F,isRangePlot:!0};O?f=j:(j.mainplot="xy",j.mainplotinfo=f),i.rangePlot(v,j,function(G,te){for(var J=[],X=0;X<G.length;X++){var Y=G[X],W=Y[0].trace;W.xaxis+W.yaxis===te&&J.push(Y)}return J}(S,E))})}function x(y,v,m,_,f){T.ensureSingle(y,"rect",s.maskMinClassName,function(S){S.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",_._height).call(a.fill,s.maskColor),T.ensureSingle(y,"rect",s.maskMaxClassName,function(S){S.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",_._height).call(a.fill,s.maskColor),"match"!==f.rangemode&&(T.ensureSingle(y,"rect",s.maskMinOppAxisClassName,function(S){S.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",_._width).call(a.fill,s.maskOppAxisColor),T.ensureSingle(y,"rect",s.maskMaxOppAxisClassName,function(S){S.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",_._width).style("border-top",s.maskOppBorder).call(a.fill,s.maskOppAxisColor))}function g(y,v,m,_){v._context.staticPlot||T.ensureSingle(y,"rect",s.slideBoxClassName,function(f){f.attr({y:0,cursor:s.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:_._height,fill:s.slideBoxFill})}function h(y,v,m,_){var f=T.ensureSingle(y,"g",s.grabberMinClassName),S=T.ensureSingle(y,"g",s.grabberMaxClassName),w={x:0,width:s.handleWidth,rx:s.handleRadius,fill:a.background,stroke:a.defaultLine,"stroke-width":s.handleStrokeWidth,"shape-rendering":"crispEdges"},E={y:Math.round(_._height/4),height:Math.round(_._height/2)};T.ensureSingle(f,"rect",s.handleMinClassName,function(C){C.attr(w)}).attr(E),T.ensureSingle(S,"rect",s.handleMaxClassName,function(C){C.attr(w)}).attr(E);var L={width:s.grabAreaWidth,x:0,y:0,fill:s.grabAreaFill,cursor:v._context.staticPlot?void 0:s.grabAreaCursor};T.ensureSingle(f,"rect",s.grabAreaMinClassName,function(C){C.attr(L)}).attr("height",_._height),T.ensureSingle(S,"rect",s.grabAreaMaxClassName,function(C){C.attr(L)}).attr("height",_._height)}ee.exports=function(y){for(var v=y._fullLayout,m=v._rangeSliderData,_=0;_<m.length;_++){var f=m[_][s.name];f._clipId=f._id+"-"+v._uid}var S=v._infolayer.selectAll("g."+s.containerClassName).data(m,function(w){return w._name});S.exit().each(function(w){v._topdefs.select("#"+w[s.name]._clipId).remove()}).remove(),0!==m.length&&(S.enter().append("g").classed(s.containerClassName,!0).attr("pointer-events","all"),S.each(function(w){var E=A.select(this),L=w[s.name],C=v[r.id2name(w.anchor)],O=L[r.id2name(w.anchor)];if(L.range){var R,q=T.simpleMap(L.range,w.r2l),P=T.simpleMap(w.range,w.r2l);R=P[0]<P[1]?[Math.min(q[0],P[0]),Math.max(q[1],P[1])]:[Math.max(q[0],P[0]),Math.min(q[1],P[1])],L.range=L._input.range=T.simpleMap(R,w.l2r)}w.cleanRange("rangeslider.range");var U=v._size,N=w.domain;L._width=U.w*(N[1]-N[0]);var F=Math.round(U.l+U.w*N[0]),j=Math.round(U.t+U.h*(1-w._counterDomainMin)+("bottom"===w.side?w._depth:0)+L._offsetShift+s.extraPad);E.attr("transform",b(F,j)),L._rl=T.simpleMap(L.range,w.r2l);var G=L._rl[0],te=L._rl[1],J=te-G;if(L.p2d=function(xe){return xe/L._width*J+G},L.d2p=function(xe){return(xe-G)/J*L._width},w.rangebreaks){var X=w.locateBreaks(G,te);if(X.length){var Y,W,$=0;for(Y=0;Y<X.length;Y++)$+=(W=X[Y]).max-W.min;var ne=L._width/(te-G-$),re=[-ne*G];for(Y=0;Y<X.length;Y++)re.push(re[re.length-1]-ne*((W=X[Y]).max-W.min));for(L.d2p=function(xe){for(var Me=re[0],me=0;me<X.length;me++){var pe=X[me];if(xe>=pe.max)Me=re[me+1];else if(xe<pe.min)break}return Me+ne*xe},Y=0;Y<X.length;Y++)(W=X[Y]).pmin=L.d2p(W.min),W.pmax=L.d2p(W.max);L.p2d=function(xe){for(var Me=re[0],me=0;me<X.length;me++){var pe=X[me];if(xe>=pe.pmax)Me=re[me+1];else if(xe<pe.pmin)break}return(xe-Me)/ne}}}if("match"!==O.rangemode){var oe=C.r2l(O.range[0]),ue=C.r2l(O.range[1])-oe;L.d2pOppAxis=function(xe){return(xe-oe)/ue*L._height}}E.call(u,y,w,L).call(p,y,w,L).call(c,y,w,L).call(x,y,w,L,O).call(g,y,w,L).call(h,y,w,L),function(xe,Me,me,pe){if(!Me._context.staticPlot){var ge=xe.select("rect."+s.slideBoxClassName).node(),Pe=xe.select("rect."+s.grabAreaMinClassName).node(),_e=xe.select("rect."+s.grabAreaMaxClassName).node();xe.on("mousedown",we),xe.on("touchstart",we)}function we(){var se=A.event,ae=se.target,fe=se.clientX||se.touches[0].clientX,Ee=fe-xe.node().getBoundingClientRect().left,ke=pe.d2p(me._rl[0]),be=pe.d2p(me._rl[1]),Ie=n.coverSlip();function Fe(Te){var ve,Ce,Re,Oe=+(Te.clientX||Te.touches[0].clientX)-fe;switch(ae){case ge:if(Re="ew-resize",ke+Oe>me._length||be+Oe<0)return;ve=ke+Oe,Ce=be+Oe;break;case Pe:if(Re="col-resize",ke+Oe>me._length)return;ve=ke+Oe,Ce=be;break;case _e:if(Re="col-resize",be+Oe<0)return;ve=ke,Ce=be+Oe;break;default:Re="ew-resize",ve=Ee,Ce=Ee+Oe}if(Ce<ve){var je=Ce;Ce=ve,ve=je}pe._pixelMin=ve,pe._pixelMax=Ce,o(A.select(Ie),Re),function(qe,Je,it,Qe){function dt(at){return it.l2r(T.constrain(at,Qe._rl[0],Qe._rl[1]))}var yt=dt(Qe.p2d(Qe._pixelMin)),mt=dt(Qe.p2d(Qe._pixelMax));window.requestAnimationFrame(function(){k.call("_guiRelayout",Je,it._name+".range",[yt,mt])})}(0,Me,me,pe)}function ce(){Ie.removeEventListener("mousemove",Fe),Ie.removeEventListener("mouseup",ce),this.removeEventListener("touchmove",Fe),this.removeEventListener("touchend",ce),T.removeElement(Ie)}this.addEventListener("touchmove",Fe),this.addEventListener("touchend",ce),Ie.addEventListener("mousemove",Fe),Ie.addEventListener("mouseup",ce)}}(E,y,w,L),function(xe,Me,me,pe,ge,Pe){var _e=s.handleWidth/2;function we(Te){return T.constrain(Te,0,pe._width)}function se(Te){return T.constrain(Te,0,pe._height)}function ae(Te){return T.constrain(Te,-_e,pe._width+_e)}var fe=we(pe.d2p(me._rl[0])),Ee=we(pe.d2p(me._rl[1]));if(xe.select("rect."+s.slideBoxClassName).attr("x",fe).attr("width",Ee-fe),xe.select("rect."+s.maskMinClassName).attr("width",fe),xe.select("rect."+s.maskMaxClassName).attr("x",Ee).attr("width",pe._width-Ee),"match"!==Pe.rangemode){var ke=pe._height-se(pe.d2pOppAxis(ge._rl[1])),be=pe._height-se(pe.d2pOppAxis(ge._rl[0]));xe.select("rect."+s.maskMinOppAxisClassName).attr("x",fe).attr("height",ke).attr("width",Ee-fe),xe.select("rect."+s.maskMaxOppAxisClassName).attr("x",fe).attr("y",be).attr("height",pe._height-be).attr("width",Ee-fe),xe.select("rect."+s.slideBoxClassName).attr("y",ke).attr("height",be-ke)}var Fe=Math.round(ae(fe-_e))-.5,ce=Math.round(ae(Ee-_e))+.5;xe.select("g."+s.grabberMinClassName).attr("transform",b(Fe,.5)),xe.select("g."+s.grabberMaxClassName).attr("transform",b(ce,.5))}(E,0,w,L,C,O),"bottom"===w.side&&t.draw(y,w._id+"title",{propContainer:w,propName:w._name+".title",placeholder:v._dfltTitle.x,attributes:{x:w._offset+w._length/2,y:j+L._height+L._offsetShift+10+1.5*w.title.font.size,"text-anchor":"middle"}})}))}},549:function(ee,D,e){"use strict";var A=e(41675),k=e(63893),l=e(73251),T=e(18783).LINE_SPACING,b=l.name;function d(a){var t=a&&a[b];return t&&t.visible}D.isVisible=d,D.makeData=function(a){var t=A.list({_fullLayout:a},"x",!0),i=a.margin,r=[];if(!a._has("gl2d"))for(var n=0;n<t.length;n++){var o=t[n];if(d(o)){r.push(o);var s=o[b];s._id=b+o._id,s._height=(a.height-i.b-i.t)*s.thickness,s._offsetShift=Math.floor(s.borderwidth/2)}}a._rangeSliderData=r},D.autoMarginOpts=function(a,t){var i=a._fullLayout,r=t[b],n=t._id.charAt(0),o=0,s=0;return"bottom"===t.side&&(o=t._depth,t.title.text!==i._dfltTitle[n]&&(s=1.5*t.title.font.size+10+r._offsetShift,s+=(t.title.text.match(k.BR_TAG_ALL)||[]).length*t.title.font.size*T)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:r._height+o+Math.max(i.margin.b,s),pad:l.extraPad+2*r._offsetShift}}},13137:function(ee,D,e){"use strict";var A=e(71828),k=e(75148),l=e(47850),T=e(549);ee.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:A.extendFlat({},k,{yaxis:l})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:T.isVisible,makeData:T.makeData,autoMarginOpts:T.autoMarginOpts}},47850:function(ee){"use strict";ee.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(ee,D,e){"use strict";var A=e(50215),k=e(82196).line,l=e(79952).P,T=e(1426).extendFlat,b=e(30962).overrideAll,d=e(44467).templatedArray;e(24695),ee.exports=b(d("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:T({},A.xref,{}),yref:T({},A.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:k.color,width:T({},k.width,{min:1,dflt:1}),dash:T({},l,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(ee){"use strict";ee.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(ee,D,e){"use strict";var A=e(71828),k=e(89298),l=e(85501),T=e(8389),b=e(30477);function d(a,t,i){function r(E,L){return A.coerce(a,t,T,E,L)}var n=r("path"),o="path"!==r("type",n?"path":"rect");o&&delete t.path,r("opacity"),r("line.color"),r("line.width"),r("line.dash");for(var s=["x","y"],u=0;u<2;u++){var p,c,x,g=s[u],h={_fullLayout:i},y=k.coerceRef(a,t,h,g);if((p=k.getFromId(h,y))._selectionIndices.push(t._index),x=b.rangeToShapePosition(p),c=b.shapePositionToRange(p),o){var v=g+"0",m=g+"1",_=a[v],f=a[m];a[v]=c(a[v],!0),a[m]=c(a[m],!0),k.coercePosition(t,h,r,y,v),k.coercePosition(t,h,r,y,m);var S=t[v],w=t[m];void 0!==S&&void 0!==w&&(t[v]=x(S),t[m]=x(w),a[v]=_,a[m]=f)}}o&&A.noneOrAll(a,t,["x0","x1","y0","y1"])}ee.exports=function(a,t){l(a,t,{name:"selections",handleItemDefaults:d});for(var i=t.selections,r=0;r<i.length;r++){var n=i[r];n&&void 0===n.path&&(void 0!==n.x0&&void 0!==n.x1&&void 0!==n.y0&&void 0!==n.y1||(t.selections[r]=null))}}},32485:function(ee,D,e){"use strict";var A=e(60165).readPaths,k=e(42359),l=e(51873).clearOutlineControllers,T=e(7901),b=e(91424),d=e(44467).arrayEditor,a=e(30477),t=a.getPathString;function i(u){var p=u._fullLayout;for(var c in l(u),p._selectionLayer.selectAll("path").remove(),p._plots){var x=p._plots[c].selectionLayer;x&&x.selectAll("path").remove()}for(var g=0;g<p.selections.length;g++)n(u,g)}function r(u){return u._context.editSelection}function n(u,p){u._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+p+'"]').remove();var c=a.makeSelectionsOptionsAndPlotinfo(u,p),x=c.options,g=c.plotinfo;x._input&&function(h){var y=t(u,x),v={"data-index":p,"fill-rule":"evenodd",d:y},m=x.opacity,_="rgba(0,0,0,0)",f=x.line.color||T.contrast(u._fullLayout.plot_bgcolor),S=x.line.width,w=x.line.dash;S||(S=5,w="solid");var E=r(u)&&u._fullLayout._activeSelectionIndex===p;E&&(_=u._fullLayout.activeselection.fillcolor,m=u._fullLayout.activeselection.opacity);for(var L=[],C=1;C>=0;C--){var O=h.append("path").attr(v).style("opacity",C?.1:m).call(T.stroke,f).call(T.fill,_).call(b.dashLine,C?"solid":w,C?4+S:S);if(o(O,u,x),E){var R=d(u.layout,"selections",x);O.style({cursor:"move"});var q={element:O.node(),plotinfo:g,gd:u,editHelpers:R,isActiveSelection:!0},P=A(y,u);k(P,O,q)}else O.style("pointer-events",C?"all":"none");L[C]=O}var U=L[0];L[1].node().addEventListener("click",function(){return function(N,F){if(r(N)){var j=+F.node().getAttribute("data-index");if(j>=0){if(j===N._fullLayout._activeSelectionIndex)return void s(N);N._fullLayout._activeSelectionIndex=j,N._fullLayout._deactivateSelection=s,i(N)}}}(u,U)})}(u._fullLayout._selectionLayer)}function o(u,p,c){b.setClipUrl(u,"clip"+p._fullLayout._uid+(c.xref+c.yref),p)}function s(u){r(u)&&u._fullLayout._activeSelectionIndex>=0&&(l(u),delete u._fullLayout._activeSelectionIndex,i(u))}ee.exports={draw:i,drawOne:n,activateLastSelection:function(u){r(u)&&(u._fullLayout._activeSelectionIndex=u._fullLayout.selections.length-1,u._fullLayout._deactivateSelection=s,i(u))}}},53777:function(ee,D,e){"use strict";var A=e(79952).P,k=e(1426).extendFlat;ee.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:k({},A,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(ee){"use strict";ee.exports=function(D,e,A){A("newselection.mode"),A("newselection.line.width")&&(A("newselection.line.color"),A("newselection.line.dash")),A("activeselection.fillcolor"),A("activeselection.opacity")}},35855:function(ee,D,e){"use strict";var A=e(64505).selectMode,k=e(51873).clearOutline,l=e(60165),T=l.readPaths,b=l.writePaths,d=l.fixDatesForPaths;ee.exports=function(a,t){if(a.length){var i=a[0][0];if(i){var r=i.getAttribute("d"),n=t.gd,o=n._fullLayout.newselection,s=t.plotinfo,u=s.xaxis,p=s.yaxis,c=t.isActiveSelection,x=t.dragmode,g=(n.layout||{}).selections||[];if(!A(x)&&void 0!==c){var h=n._fullLayout._activeSelectionIndex;if(h<g.length)switch(n._fullLayout.selections[h].type){case"rect":x="select";break;case"path":x="lasso"}}var y,v=T(r,n,s,c),m={xref:u._id,yref:p._id,opacity:o.opacity,line:{color:o.line.color,width:o.line.width,dash:o.line.dash}};1===v.length&&(y=v[0]),y&&5===y.length&&"select"===x?(m.type="rect",m.x0=y[0][1],m.y0=y[0][2],m.x1=y[2][1],m.y1=y[2][2]):(m.type="path",u&&p&&d(v,u,p),m.path=b(v),y=null),k(n);for(var _=t.editHelpers,f=(_||{}).modifyItem,S=[],w=0;w<g.length;w++){var E=n._fullLayout.selections[w];if(E){if(S[w]=E._input,void 0!==c&&w===n._fullLayout._activeSelectionIndex){var L=m;switch(E.type){case"rect":f("x0",L.x0),f("x1",L.x1),f("y0",L.y0),f("y1",L.y1);break;case"path":f("path",L.path)}}}else S[w]=E}return void 0===c?(S.push(m),S):_?_.getUpdateObj():{}}}}},75549:function(ee,D,e){"use strict";var A=e(71828).strTranslate;function k(l,T){switch(l.type){case"log":return l.p2d(T);case"date":return l.p2r(T,0,l.calendar);default:return l.p2r(T)}}ee.exports={p2r:k,r2p:function(l,T){switch(l.type){case"log":return l.d2p(T);case"date":return l.r2p(T,0,l.calendar);default:return l.r2p(T)}},axValue:function(l){var T="y"===l._id.charAt(0)?1:0;return function(b){return k(l,b[T])}},getTransform:function(l){return A(l.xaxis._offset,l.yaxis._offset)}}},47322:function(ee,D,e){"use strict";var A=e(32485),k=e(3937);ee.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:A.draw,drawOne:A.drawOne,reselect:k.reselect,prepSelect:k.prepSelect,clearOutline:k.clearOutline,clearSelectionsCache:k.clearSelectionsCache,selectOnClick:k.selectOnClick}},3937:function(ee,D,e){"use strict";var A=e(52142),k=e(38258),l=e(73972),T=e(91424).dashStyle,b=e(7901),d=e(30211),a=e(23469).makeEventData,t=e(64505),i=t.freeMode,r=t.rectMode,n=t.drawMode,o=t.openMode,s=t.selectMode,u=e(30477),p=e(21459),c=e(42359),x=e(51873).clearOutline,g=e(60165),h=g.handleEllipse,y=g.readPaths,v=e(90551).newShapes,m=e(35855),_=e(32485).activateLastSelection,f=e(71828),S=f.sorterAsc,w=e(61082),E=e(79990),L=e(41675).getFromId,C=e(33306),O=e(61549).redrawReglTraces,R=e(34122),q=R.MINSELECT,P=w.filter,U=w.tester,N=e(75549),F=N.p2r,j=N.axValue,G=N.getTransform;function te(ce){return void 0!==ce.subplot}function J(ce,Te,ve,Ce,Re,Oe,je){var qe,Je,it,Qe,dt,yt,mt,at,st,We,Tt=Te._hoverdata,At=Te._fullLayout.clickmode.indexOf("event")>-1,Pt=[];if((We=Tt)&&Array.isArray(We)&&!0!==We[0].hoverOnBox){$(ce,Te,Oe);var kt=function(We,rt){var nt,ze,Be=We[0],tt=-1,et=[];for(ze=0;ze<rt.length;ze++)if(Be.fullData._expandedIndex===(nt=rt[ze]).cd[0].trace._expandedIndex){if(!0===Be.hoverOnBox)break;void 0!==Be.pointNumber?tt=Be.pointNumber:void 0!==Be.binNumber&&(tt=Be.binNumber,et=Be.pointNumbers);break}return{pointNumber:tt,pointNumbers:et,searchInfo:nt}}(Tt,qe=oe(Te,ve,Ce,Re));if(kt.pointNumbers.length>0?function(We,rt){var nt,ze,Be,tt=[];for(Be=0;Be<We.length;Be++)(nt=We[Be]).cd[0].trace.selectedpoints&&nt.cd[0].trace.selectedpoints.length>0&&tt.push(nt);if(1===tt.length&&tt[0]===rt.searchInfo&&(ze=rt.searchInfo.cd[0].trace).selectedpoints.length===rt.pointNumbers.length){for(Be=0;Be<rt.pointNumbers.length;Be++)if(ze.selectedpoints.indexOf(rt.pointNumbers[Be])<0)return!1;return!0}return!1}(qe,kt):function(We){var rt,nt,ze=0;for(nt=0;nt<We.length;nt++)if((rt=We[nt].cd[0].trace).selectedpoints&&(rt.selectedpoints.length>1||(ze+=rt.selectedpoints.length)>1))return!1;return 1===ze}(qe)&&(yt=xe(kt))){for(je&&je.remove(),st=0;st<qe.length;st++)(Je=qe[st])._module.selectPoints(Je,!1);Me(Te,qe),ne(Oe),At&&Fe(Te)}else{for(mt=ce.shiftKey&&(void 0!==yt?yt:xe(kt)),it=function(We,rt,nt){return{pointNumber:We,searchInfo:rt,subtract:!!nt}}(kt.pointNumber,kt.searchInfo,mt),Qe=W(Oe.selectionDefs.concat([it])),st=0;st<qe.length;st++)if(dt=pe(qe[st]._module.selectPoints(qe[st],Qe),qe[st]),Pt.length)for(var Ze=0;Ze<dt.length;Ze++)Pt.push(dt[Ze]);else Pt=dt;if(Me(Te,qe,at={points:Pt}),it&&Oe&&Oe.selectionDefs.push(it),je){var Xe=Oe.mergedPolygons,He=o(Oe.dragmode);c(ge(Xe,He),je,Oe)}At&&Ie(Te,at)}}}function X(ce){return"pointNumber"in ce&&"searchInfo"in ce}function Y(ce){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Te,ve,Ce,Re){return Re.cd[0].trace._expandedIndex===ce.searchInfo.cd[0].trace._expandedIndex&&Ce===ce.pointNumber},isRect:!1,degenerate:!1,subtract:!!ce.subtract}}function W(ce){if(ce.length){for(var Te=[],ve=X(ce[0])?0:ce[0][0][0],Ce=ve,Re=X(ce[0])?0:ce[0][0][1],Oe=Re,je=0;je<ce.length;je++)if(X(ce[je]))Te.push(Y(ce[je]));else{var qe=U(ce[je]);qe.subtract=!!ce[je].subtract,Te.push(qe),ve=Math.min(ve,qe.xmin),Ce=Math.max(Ce,qe.xmax),Re=Math.min(Re,qe.ymin),Oe=Math.max(Oe,qe.ymax)}return{xmin:ve,xmax:Ce,ymin:Re,ymax:Oe,pts:[],contains:function(Je,it,Qe,dt){for(var yt=!1,mt=0;mt<Te.length;mt++)Te[mt].contains(Je,it,Qe,dt)&&(yt=!Te[mt].subtract);return yt},isRect:!1,degenerate:!1}}}function $(ce,Te,ve){var Ce=Te._fullLayout,Re=ve.plotinfo,Oe=ve.dragmode,je=Ce._lastSelectedSubplot&&Ce._lastSelectedSubplot===Re.id,qe=(ce.shiftKey||ce.altKey)&&!(n(Oe)&&o(Oe));je&&qe&&Re.selection&&Re.selection.selectionDefs&&!ve.selectionDefs?(ve.selectionDefs=Re.selection.selectionDefs,ve.mergedPolygons=Re.selection.mergedPolygons):qe&&Re.selection||ne(ve),je||(x(Te),Ce._lastSelectedSubplot=Re.id)}function ne(ce,Te){var ve=ce.dragmode,Ce=ce.plotinfo,Re=ce.gd;Re._fullLayout._activeShapeIndex>=0&&Re._fullLayout._deactivateShape(Re),Re._fullLayout._activeSelectionIndex>=0&&Re._fullLayout._deactivateSelection(Re);var Oe=Re._fullLayout._zoomlayer,je=n(ve),qe=s(ve);if(je||qe){var Je,it,Qe=Oe.selectAll(".select-outline-"+Ce.id);Qe&&Re._fullLayout._outlining&&(je&&(Je=v(Qe,ce)),Je&&l.call("_guiRelayout",Re,{shapes:Je}),qe&&!te(ce)&&(it=m(Qe,ce)),it&&(Re._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",Re,{selections:it}).then(function(){Te&&_(Re)})),Re._fullLayout._outlining=!1)}Ce.selection={},Ce.selection.selectionDefs=ce.selectionDefs=[],Ce.selection.mergedPolygons=ce.mergedPolygons=[]}function re(ce){return ce._id}function oe(ce,Te,ve,Ce){if(!ce.calcdata)return[];var Re,Oe,je,qe=[],Je=Te.map(re),it=ve.map(re);for(je=0;je<ce.calcdata.length;je++)if(!0===(Oe=(Re=ce.calcdata[je])[0].trace).visible&&Oe._module&&Oe._module.selectPoints)if(!te({subplot:Ce})||Oe.subplot!==Ce&&Oe.geo!==Ce)if("splom"===Oe.type){if(Oe._xaxes[Je[0]]&&Oe._yaxes[it[0]]){var Qe=ue(Oe._module,Re,Te[0],ve[0]);Qe.scene=ce._fullLayout._splomScenes[Oe.uid],qe.push(Qe)}}else if("sankey"===Oe.type){var dt=ue(Oe._module,Re,Te[0],ve[0]);qe.push(dt)}else{if(-1===Je.indexOf(Oe.xaxis)||-1===it.indexOf(Oe.yaxis))continue;qe.push(ue(Oe._module,Re,L(ce,Oe.xaxis),L(ce,Oe.yaxis)))}else qe.push(ue(Oe._module,Re,Te[0],ve[0]));return qe}function ue(ce,Te,ve,Ce){return{_module:ce,cd:Te,xaxis:ve,yaxis:Ce}}function xe(ce){var Te=ce.searchInfo.cd[0].trace,Ce=ce.pointNumbers;return!!Te.selectedpoints&&Te.selectedpoints.indexOf(Ce.length>0?Ce[0]:ce.pointNumber)>-1}function Me(ce,Te,ve){var Ce,Re;for(Ce=0;Ce<Te.length;Ce++){var Oe=Te[Ce].cd[0].trace._fullInput,je=ce._fullLayout._tracePreGUI[Oe.uid]||{};void 0===je.selectedpoints&&(je.selectedpoints=Oe._input.selectedpoints||null)}if(ve){var qe=ve.points||[];for(Ce=0;Ce<Te.length;Ce++)(Re=Te[Ce].cd[0].trace)._input.selectedpoints=Re._fullInput.selectedpoints=[],Re._fullInput!==Re&&(Re.selectedpoints=[]);for(var Je=0;Je<qe.length;Je++){var it=qe[Je],Qe=it.data,dt=it.fullData,yt=it.pointIndex,mt=it.pointIndices;mt?([].push.apply(Qe.selectedpoints,mt),Re._fullInput!==Re&&[].push.apply(dt.selectedpoints,mt)):(Qe.selectedpoints.push(yt),Re._fullInput!==Re&&dt.selectedpoints.push(yt))}}else for(Ce=0;Ce<Te.length;Ce++)delete(Re=Te[Ce].cd[0].trace).selectedpoints,delete Re._input.selectedpoints,Re._fullInput!==Re&&delete Re._fullInput.selectedpoints;!function(at,st){for(var Tt=!1,At=0;At<st.length;At++){var Pt=st[At],kt=Pt.cd;l.traceIs(kt[0].trace,"regl")&&(Tt=!0);var Ze=Pt._module,Xe=Ze.styleOnSelect||Ze.style;Xe&&(Xe(at,kt,kt[0].node3),kt[0].nodeRangePlot3&&Xe(at,kt,kt[0].nodeRangePlot3))}Tt&&(C(at),O(at))}(ce,Te)}function me(ce,Te,ve){for(var Ce=(ve?A.difference:A.union)({regions:ce},{regions:[Te]}).regions.reverse(),Re=0;Re<Ce.length;Re++){var Oe=Ce[Re];Oe.subtract=fe(Oe,Ce.slice(0,Re))}return Ce}function pe(ce,Te){if(Array.isArray(ce))for(var ve=Te.cd,Ce=Te.cd[0].trace,Re=0;Re<ce.length;Re++)ce[Re]=a(ce[Re],Ce,ve);return ce}function ge(ce,Te){for(var ve=[],Ce=0;Ce<ce.length;Ce++){ve[Ce]=[];for(var Re=0;Re<ce[Ce].length;Re++){ve[Ce][Re]=[],ve[Ce][Re][0]=Re?"L":"M";for(var Oe=0;Oe<ce[Ce][Re].length;Oe++)ve[Ce][Re].push(ce[Ce][Re][Oe])}Te||ve[Ce].push(["Z",ve[Ce][0][1],ve[Ce][0][2]])}return ve}function Pe(ce,Te){for(var ve,Ce,Re=[],Oe=[],je=0;je<Te.length;je++){var qe=Te[je];Ce=qe._module.selectPoints(qe,ce),Oe.push(Ce),ve=pe(Ce,qe),Re=Re.concat(ve)}return Re}function _e(ce,Te,ve,Ce,Re){var Oe,je,qe,Je=!!Ce;Re&&(Oe=Re.plotinfo,je=Re.xaxes[0]._id,qe=Re.yaxes[0]._id);var it=[],Qe=[],dt=ae(ce),yt=ce._fullLayout;if(Oe){var mt=yt._zoomlayer,at=yt.dragmode,st=n(at),Tt=s(at);if(st||Tt){var At=L(ce,je,"x"),Pt=L(ce,qe,"y");if(At&&Pt){var kt=mt.selectAll(".select-outline-"+Oe.id);if(kt&&ce._fullLayout._outlining&&kt.length){for(var Ze=kt[0][0].getAttribute("d"),Xe=y(Ze,ce,Oe),He=[],We=0;We<Xe.length;We++){for(var rt=Xe[We],nt=[],ze=0;ze<rt.length;ze++)nt.push([Ee(At,rt[ze][1]),Ee(Pt,rt[ze][2])]);nt.xref=je,nt.yref=qe,nt.subtract=fe(nt,He),He.push(nt)}dt=dt.concat(He)}}}}var Be=je&&qe?[je+qe]:yt._subplots.cartesian;!function(An){var En=An.calcdata;if(En)for(var bn=0;bn<En.length;bn++){var Wn=An._fullLayout._splomScenes;if(Wn){var Qn=Wn[En[bn][0].trace.uid];Qn&&(Qn.selectBatch=[])}}}(ce);for(var tt={},et=0;et<Be.length;et++){var gt=Be[et],pt=gt.indexOf("y"),vt=gt.slice(0,pt),ut=gt.slice(pt),wt=je&&qe?ve:void 0;if(wt=se(dt,vt,ut,wt)){var ct=Ce;if(!Je){var ft=L(ce,vt,"x"),bt=L(ce,ut,"y");ct=oe(ce,[ft],[bt],gt);for(var It=0;It<ct.length;It++){var Dt=ct[It],Nt=Dt.cd[0],$t=Nt.trace;if("scattergl"===Dt._module.name&&!Nt.t.xpx){var jt=$t.x,Yt=$t.y,Gt=$t._length;Nt.t.xpx=[],Nt.t.ypx=[];for(var hn=0;hn<Gt;hn++)Nt.t.xpx[hn]=ft.c2p(jt[hn]),Nt.t.ypx[hn]=bt.c2p(Yt[hn])}"splom"===Dt._module.name&&(tt[$t.uid]||(tt[$t.uid]=!0))}}var yn=Pe(wt,ct);it=it.concat(yn),Qe=Qe.concat(ct)}}var on={points:it};Me(ce,Qe,on);var Ut=yt.clickmode.indexOf("event")>-1&&Te;if(!Oe&&Te){var nn=ae(ce,!0);if(nn.length){var Xt=nn[0].xref,rn=nn[0].yref;if(Xt&&rn){var fn=ke(nn);be([L(ce,Xt,"x"),L(ce,rn,"y")])(on,fn)}}ce._fullLayout._noEmitSelectedAtStart?ce._fullLayout._noEmitSelectedAtStart=!1:Ut&&Ie(ce,on),yt._reselect=!1}if(!Oe&&yt._deselect){var gn=yt._deselect;(function(An,En,bn){for(var Ln=0;Ln<bn.length;Ln++){var Wn=bn[Ln];if(Wn.xaxis&&Wn.xaxis._id===An&&Wn.yaxis&&Wn.yaxis._id===En)return!0}return!1})(je=gn.xref,qe=gn.yref,Qe)||we(ce,je,qe,Ce),Ut&&(on.points.length?Ie(ce,on):Fe(ce)),yt._deselect=!1}return{eventData:on,selectionTesters:ve}}function we(ce,Te,ve,Ce){Ce=oe(ce,[L(ce,Te,"x")],[L(ce,ve,"y")],Te+ve);for(var Re=0;Re<Ce.length;Re++){var Oe=Ce[Re];Oe._module.selectPoints(Oe,!1)}Me(ce,Ce)}function se(ce,Te,ve,Ce){for(var Re,Oe=0;Oe<ce.length;Oe++){var je=ce[Oe];Te===je.xref&&ve===je.yref&&(Re?Ce=W(Re=me(Re,je,!!je.subtract)):(Re=[je],Ce=U(je)))}return Ce}function ae(ce,Te){for(var ve=[],Ce=ce._fullLayout,Re=Ce.selections,Oe=Re.length,je=0;je<Oe;je++)if(!Te||je===Ce._activeSelectionIndex){var qe=Re[je];if(qe){var Je,it,Qe,dt,yt,mt=qe.xref,at=qe.yref,st=L(ce,mt,"x"),Tt=L(ce,at,"y");if("rect"===qe.type){yt=[];var At=Ee(st,qe.x0),Pt=Ee(st,qe.x1),kt=Ee(Tt,qe.y0),Ze=Ee(Tt,qe.y1);yt=[[At,kt],[At,Ze],[Pt,Ze],[Pt,kt]],Je=Math.min(At,Pt),it=Math.max(At,Pt),Qe=Math.min(kt,Ze),dt=Math.max(kt,Ze),yt.xmin=Je,yt.xmax=it,yt.ymin=Qe,yt.ymax=dt,yt.xref=mt,yt.yref=at,yt.subtract=!1,yt.isRect=!0,ve.push(yt)}else if("path"===qe.type)for(var Xe=qe.path.split("Z"),He=[],We=0;We<Xe.length;We++){var rt=Xe[We];if(rt){var nt=u.extractPathCoords(rt+="Z",p.paramIsX,"raw"),ze=u.extractPathCoords(rt,p.paramIsY,"raw");Je=1/0,it=-1/0,Qe=1/0,dt=-1/0,yt=[];for(var Be=0;Be<nt.length;Be++){var tt=Ee(st,nt[Be]),et=Ee(Tt,ze[Be]);yt.push([tt,et]),Je=Math.min(tt,Je),it=Math.max(tt,it),Qe=Math.min(et,Qe),dt=Math.max(et,dt)}yt.xmin=Je,yt.xmax=it,yt.ymin=Qe,yt.ymax=dt,yt.xref=mt,yt.yref=at,yt.subtract=fe(yt,He),He.push(yt),ve.push(yt)}}}}return ve}function fe(ce,Te){for(var ve=!1,Ce=0;Ce<Te.length;Ce++)for(var Re=Te[Ce],Oe=0;Oe<ce.length;Oe++)if(k(ce[Oe],Re)){ve=!ve;break}return ve}function Ee(ce,Te){return"date"===ce.type&&(Te=Te.replace("_"," ")),"log"===ce.type?ce.c2p(Te):ce.r2p(Te,null,ce.calendar)}function ke(ce){for(var Te=ce.length,ve=[],Ce=0;Ce<Te;Ce++){var Re=ce[Ce];ve=(ve=ve.concat(Re)).concat([Re[0]])}return(Oe=ve).isRect=5===Oe.length&&Oe[0][0]===Oe[4][0]&&Oe[0][1]===Oe[4][1]&&Oe[0][0]===Oe[1][0]&&Oe[2][0]===Oe[3][0]&&Oe[0][1]===Oe[3][1]&&Oe[1][1]===Oe[2][1]||Oe[0][1]===Oe[1][1]&&Oe[2][1]===Oe[3][1]&&Oe[0][0]===Oe[3][0]&&Oe[1][0]===Oe[2][0],Oe.isRect&&(Oe.xmin=Math.min(Oe[0][0],Oe[2][0]),Oe.xmax=Math.max(Oe[0][0],Oe[2][0]),Oe.ymin=Math.min(Oe[0][1],Oe[2][1]),Oe.ymax=Math.max(Oe[0][1],Oe[2][1])),Oe;var Oe}function be(ce){return function(Te,ve){for(var Ce,Re,Oe=0;Oe<ce.length;Oe++){var je=ce[Oe],qe=je._id,Je=qe.charAt(0);if(ve.isRect){Ce||(Ce={});var it=ve[Je+"min"],Qe=ve[Je+"max"];void 0!==it&&void 0!==Qe&&(Ce[qe]=[F(je,it),F(je,Qe)].sort(S))}else Re||(Re={}),Re[qe]=ve.map(j(je))}Ce&&(Te.range=Ce),Re&&(Te.lassoPoints=Re)}}function Ie(ce,Te){Te&&(Te.selections=(ce.layout||{}).selections||[]),ce.emit("plotly_selected",Te)}function Fe(ce){ce.emit("plotly_deselect",null)}ee.exports={reselect:_e,prepSelect:function(ce,Te,ve,Ce,Re){var Oe=!te(Ce),je=i(Re),qe=r(Re),Je=o(Re),it=n(Re),Qe=s(Re),dt="drawcircle"===Re,yt="drawline"===Re||dt,mt=Ce.gd,at=mt._fullLayout,st=Qe&&"immediate"===at.newselection.mode&&Oe,Tt=at._zoomlayer,At=Ce.element.getBoundingClientRect(),Pt=Ce.plotinfo,kt=G(Pt),Ze=Te-At.left,Xe=ve-At.top;at._calcInverseTransform(mt);var We,rt,nt,ze,Be,tt,et,He=f.apply3DTransform(at._invTransform)(Ze,Xe),gt=at._invScaleX,pt=at._invScaleY,vt=Ze=He[0],ut=Xe=He[1],wt="M"+Ze+","+Xe,ct=Ce.xaxes[0],ft=Ce.yaxes[0],bt=ct._length,It=ft._length,Dt=ce.altKey&&!(n(Re)&&Je);$(ce,mt,Ce),je&&(We=P([[Ze,Xe]],R.BENDPX));var Nt=Tt.selectAll("path.select-outline-"+Pt.id).data([1]),$t=it?at.newshape:at.newselection;it&&(Ce.hasText=$t.label.text||$t.label.texttemplate);var jt=it&&!Je?$t.fillcolor:"rgba(0,0,0,0)",Yt=$t.line.color||(Oe?b.contrast(mt._fullLayout.plot_bgcolor):"#7f7f7f");Nt.enter().append("path").attr("class","select-outline select-outline-"+Pt.id).style({opacity:it?$t.opacity/2:1,"stroke-dasharray":T($t.line.dash,$t.line.width),"stroke-width":$t.line.width+"px","shape-rendering":"crispEdges"}).call(b.stroke,Yt).call(b.fill,jt).attr("fill-rule","evenodd").classed("cursor-move",!!it).attr("transform",kt).attr("d",wt+"Z");var Gt=Tt.append("path").attr("class","zoombox-corners").style({fill:b.background,stroke:b.defaultLine,"stroke-width":1}).attr("transform",kt).attr("d","M0,0Z");if(it&&Ce.hasText){var hn=Tt.select(".label-temp");hn.empty()&&(hn=Tt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var yn=at._uid+R.SELECTID,on=[],Ut=oe(mt,Ce.xaxes,Ce.yaxes,Ce.subplot);st&&!ce.shiftKey&&(Ce._clearSubplotSelections=function(){if(Oe){var Xt=ct._id,rn=ft._id;we(mt,Xt,rn,Ut);for(var fn=(mt.layout||{}).selections||[],gn=[],An=!1,En=0;En<fn.length;En++){var bn=at.selections[En];bn.xref!==Xt||bn.yref!==rn?gn.push(fn[En]):An=!0}An&&(mt._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",mt,{selections:gn}))}});var Xt,nn=(Xt=Ce).plotinfo.fillRangeItems||be(Xt.xaxes.concat(Xt.yaxes));Ce.moveFn=function(Xt,rn){Ce._clearSubplotSelections&&(Ce._clearSubplotSelections(),Ce._clearSubplotSelections=void 0),vt=Math.max(0,Math.min(bt,gt*Xt+Ze)),ut=Math.max(0,Math.min(It,pt*rn+Xe));var fn=Math.abs(vt-Ze),gn=Math.abs(ut-Xe);if(qe){var An,En,bn;if(Qe){var Ln=at.selectdirection;switch(An="any"===Ln?gn<Math.min(.6*fn,q)?"h":fn<Math.min(.6*gn,q)?"v":"d":Ln){case"h":En=dt?It/2:0,bn=It;break;case"v":En=dt?bt/2:0,bn=bt}}if(it)switch(at.newshape.drawdirection){case"vertical":An="h",En=dt?It/2:0,bn=It;break;case"horizontal":An="v",En=dt?bt/2:0,bn=bt;break;case"ortho":fn<gn?(An="h",En=Xe,bn=ut):(An="v",En=Ze,bn=vt);break;default:An="d"}"h"===An?((ze=yt?h(dt,[vt,En],[vt,bn]):[[Ze,En],[Ze,bn],[vt,bn],[vt,En]]).xmin=yt?vt:Math.min(Ze,vt),ze.xmax=yt?vt:Math.max(Ze,vt),ze.ymin=Math.min(En,bn),ze.ymax=Math.max(En,bn),Gt.attr("d","M"+ze.xmin+","+(Xe-q)+"h-4v"+2*q+"h4ZM"+(ze.xmax-1)+","+(Xe-q)+"h4v"+2*q+"h-4Z")):"v"===An?((ze=yt?h(dt,[En,ut],[bn,ut]):[[En,Xe],[En,ut],[bn,ut],[bn,Xe]]).xmin=Math.min(En,bn),ze.xmax=Math.max(En,bn),ze.ymin=yt?ut:Math.min(Xe,ut),ze.ymax=yt?ut:Math.max(Xe,ut),Gt.attr("d","M"+(Ze-q)+","+ze.ymin+"v-4h"+2*q+"v4ZM"+(Ze-q)+","+(ze.ymax-1)+"v4h"+2*q+"v-4Z")):"d"===An&&((ze=yt?h(dt,[Ze,Xe],[vt,ut]):[[Ze,Xe],[Ze,ut],[vt,ut],[vt,Xe]]).xmin=Math.min(Ze,vt),ze.xmax=Math.max(Ze,vt),ze.ymin=Math.min(Xe,ut),ze.ymax=Math.max(Xe,ut),Gt.attr("d","M0,0Z"))}else je&&(We.addPt([vt,ut]),ze=We.filtered);if(Ce.selectionDefs&&Ce.selectionDefs.length?(nt=me(Ce.mergedPolygons,ze,Dt),ze.subtract=Dt,rt=W(Ce.selectionDefs.concat([ze]))):(nt=[ze],rt=U(ze)),c(ge(nt,Je),Nt,Ce),Qe){var Wn,Qn=_e(mt,!1),ir=Qn.eventData?Qn.eventData.points.slice():[];Qn=_e(mt,!1,rt,Ut,Ce),rt=Qn.selectionTesters,et=Qn.eventData,Wn=We?We.filtered:ke(nt),E.throttle(yn,R.SELECTDELAY,function(){for(var $n=(on=Pe(rt,Ut)).slice(),qn=0;qn<ir.length;qn++){for(var dr=ir[qn],Ft=!1,tn=0;tn<$n.length;tn++)if($n[tn].curveNumber===dr.curveNumber&&$n[tn].pointNumber===dr.pointNumber){Ft=!0;break}Ft||$n.push(dr)}$n.length&&(et||(et={}),et.points=$n),nn(et,Wn),mt.emit("plotly_selecting",et)})}},Ce.clickFn=function(Xt,rn){if(Gt.remove(),mt._fullLayout._activeShapeIndex>=0)mt._fullLayout._deactivateShape(mt);else if(!it){var fn=at.clickmode;E.done(yn).then(function(){if(E.clear(yn),2===Xt){for(Nt.remove(),Be=0;Be<Ut.length;Be++)(tt=Ut[Be])._module.selectPoints(tt,!1);if(Me(mt,Ut),ne(Ce),Fe(mt),Ut.length){var gn=Ut[0].xaxis,An=Ut[0].yaxis;if(gn&&An){for(var En=[],bn=mt._fullLayout.selections,Ln=0;Ln<bn.length;Ln++){var Wn=bn[Ln];Wn&&(Wn.xref===gn._id&&Wn.yref===An._id||En.push(Wn))}En.length<bn.length&&(mt._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",mt,{selections:En}))}}}else fn.indexOf("select")>-1&&J(rn,mt,Ce.xaxes,Ce.yaxes,Ce.subplot,Ce,Nt),"event"===fn&&Ie(mt,void 0);d.click(mt,rn,Pt.id)}).catch(f.error)}},Ce.doneFn=function(){Gt.remove(),E.done(yn).then(function(){E.clear(yn),!st&&ze&&Ce.selectionDefs&&(ze.subtract=Dt,Ce.selectionDefs.push(ze),Ce.mergedPolygons.length=0,[].push.apply(Ce.mergedPolygons,nt)),(st||it)&&ne(Ce,st),Ce.doneFnCompleted&&Ce.doneFnCompleted(on),Qe&&Ie(mt,et)}).catch(f.error)}},clearOutline:x,clearSelectionsCache:ne,selectOnClick:J}},89827:function(ee,D,e){"use strict";var A=e(50215),k=e(41940),l=e(82196).line,T=e(79952).P,b=e(1426).extendFlat,d=e(44467).templatedArray,a=(e(24695),e(9012)),t=e(5386).R,i=e(37281);ee.exports=d("shape",{visible:b({},a.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:b({},a.legend,{editType:"calc+arraydraw"}),legendgroup:b({},a.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:b({},a.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:k({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:b({},a.legendrank,{editType:"calc+arraydraw"}),legendwidth:b({},a.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:b({},A.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:b({},A.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:b({},l.color,{editType:"arraydraw"}),width:b({},l.width,{editType:"calc+arraydraw"}),dash:b({},T,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(i)}),font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(ee,D,e){"use strict";var A=e(71828),k=e(89298),l=e(21459),T=e(30477);function b(i){return a(i.line.width,i.xsizemode,i.x0,i.x1,i.path,!1)}function d(i){return a(i.line.width,i.ysizemode,i.y0,i.y1,i.path,!0)}function a(i,r,n,o,s,u){var p=i/2,c=u;if("pixel"===r){var x=s?T.extractPathCoords(s,u?l.paramIsY:l.paramIsX):[n,o],g=A.aggNums(Math.max,null,x),h=A.aggNums(Math.min,null,x),y=h<0?Math.abs(h)+p:p,v=g>0?g+p:p;return{ppad:p,ppadplus:c?y:v,ppadminus:c?v:y}}return{ppad:p}}function t(i,r,n,o,s){var u="category"===i.type||"multicategory"===i.type?i.r2c:i.d2c;if(void 0!==r)return[u(r),u(n)];if(o){var p,c,x,g,h=1/0,y=-1/0,v=o.match(l.segmentRE);for("date"===i.type&&(u=T.decodeDate(u)),p=0;p<v.length;p++)void 0!==(c=s[v[p].charAt(0)].drawn)&&(!(x=v[p].substr(1).match(l.paramRE))||x.length<c||((g=u(x[c]))<h&&(h=g),g>y&&(y=g)));return y>=h?[h,y]:void 0}}ee.exports=function(i){var n=A.filterVisible(i._fullLayout.shapes);if(n.length&&i._fullData.length)for(var o=0;o<n.length;o++){var s,u,p=n[o];p._extremes={};var c=k.getRefType(p.xref),x=k.getRefType(p.yref);if("paper"!==p.xref&&"domain"!==c){var g="pixel"===p.xsizemode?p.xanchor:p.x0,h="pixel"===p.xsizemode?p.xanchor:p.x1;(u=t(s=k.getFromId(i,p.xref),g,h,p.path,l.paramIsX))&&(p._extremes[s._id]=k.findExtremes(s,u,b(p)))}if("paper"!==p.yref&&"domain"!==x){var y="pixel"===p.ysizemode?p.yanchor:p.y0,v="pixel"===p.ysizemode?p.yanchor:p.y1;(u=t(s=k.getFromId(i,p.yref),y,v,p.path,l.paramIsY))&&(p._extremes[s._id]=k.findExtremes(s,u,d(p)))}}}},21459:function(ee){"use strict";ee.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(ee,D,e){"use strict";var A=e(71828),k=e(89298),l=e(85501),T=e(89827),b=e(30477);function d(a,t,i){function r(N,F){return A.coerce(a,t,T,N,F)}if(t._isShape=!0,r("visible")){r("showlegend")&&(r("legend"),r("legendwidth"),r("legendgroup"),r("legendgrouptitle.text"),A.coerceFont(r,"legendgrouptitle.font"),r("legendrank"));var n=r("path"),o=r("type",n?"path":"rect"),s="path"!==o;s&&delete t.path,r("editable"),r("layer"),r("opacity"),r("fillcolor"),r("fillrule"),r("line.width")&&(r("line.color"),r("line.dash"));for(var u=r("xsizemode"),p=r("ysizemode"),c=["x","y"],x=0;x<2;x++){var g,h,y,v=c[x],m=v+"anchor",_="x"===v?u:p,f={_fullLayout:i},S=k.coerceRef(a,t,f,v,void 0,"paper");if("range"===k.getRefType(S)?((g=k.getFromId(f,S))._shapeIndices.push(t._index),y=b.rangeToShapePosition(g),h=b.shapePositionToRange(g)):h=y=A.identity,s){var w=v+"0",E=v+"1",L=a[w],C=a[E];a[w]=h(a[w],!0),a[E]=h(a[E],!0),"pixel"===_?(r(w,0),r(E,10)):(k.coercePosition(t,f,r,S,w,.25),k.coercePosition(t,f,r,S,E,.75)),t[w]=y(t[w]),t[E]=y(t[E]),a[w]=L,a[E]=C}if("pixel"===_){var O=a[m];a[m]=h(a[m],!0),k.coercePosition(t,f,r,S,m,.25),t[m]=y(t[m]),a[m]=O}}s&&A.noneOrAll(a,t,["x0","x1","y0","y1"]);var R,q,P="line"===o;if(s&&(R=r("label.texttemplate")),R||(q=r("label.text")),q||R){r("label.textangle");var U=r("label.textposition",P?"middle":"middle center");r("label.xanchor"),r("label.yanchor",(F=U,P?"bottom":-1!==F.indexOf("top")?"top":-1!==F.indexOf("bottom")?"bottom":"middle")),r("label.padding"),A.coerceFont(r,"label.font",i.font)}}var F}ee.exports=function(a,t){l(a,t,{name:"shapes",handleItemDefaults:d})}},48100:function(ee,D,e){"use strict";var A=e(71828),k=e(89298),l=e(63893),T=e(91424),b=e(60165).readPaths,d=e(30477),a=d.getPathString,t=e(37281),i=e(18783).FROM_TL;ee.exports=function(r,n,o,s){if(s.selectAll(".shape-label").remove(),o.label.text||o.label.texttemplate){var u;if(o.label.texttemplate){var p={};if("path"!==o.type){var c=k.getFromId(r,o.xref),x=k.getFromId(r,o.yref);for(var g in t){var h=t[g](o,c,x);void 0!==h&&(p[g]=h)}}u=A.texttemplateStringForShapes(o.label.texttemplate,{},r._fullLayout._d3locale,p)}else u=o.label.text;var y,v,m,_,f={"data-index":n},S=o.label.font,w=s.append("g").attr(f).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(u);if(o.path){var E=a(r,o),L=b(E,r);y=1/0,m=1/0,v=-1/0,_=-1/0;for(var C=0;C<L.length;C++)for(var O=0;O<L[C].length;O++)for(var R=L[C][O],q=1;q<R.length;q+=2){var P=R[q],U=R[q+1];y=Math.min(y,P),v=Math.max(v,P),m=Math.min(m,U),_=Math.max(_,U)}}else{var N=k.getFromId(r,o.xref),F=k.getRefType(o.xref),j=k.getFromId(r,o.yref),G=k.getRefType(o.yref),te=d.getDataToPixel(r,N,!1,F),J=d.getDataToPixel(r,j,!0,G);y=te(o.x0),v=te(o.x1),m=J(o.y0),_=J(o.y1)}var X=o.label.textangle;"auto"===X&&(X="line"===o.type?(re=y,oe=m,ue=v,xe=_,me=Math.abs(ue-re),-180/Math.PI*Math.atan2(ue>=re?oe-xe:xe-oe,me)):0),w.call(function(re){return re.call(T.font,S).attr({}),l.convertToTspans(re,r),re});var Y=function(re,oe,ue,xe,Me,me,pe){var ge,Pe,_e,we,se=Me.label.textposition,ae=Me.label.textangle,fe=Me.label.padding,Ee=Me.type,ke=Math.PI/180*me,be=Math.sin(ke),Ie=Math.cos(ke),Fe=Me.label.xanchor,ce=Me.label.yanchor;if("line"===Ee){"start"===se?(ge=re,Pe=oe):"end"===se?(ge=ue,Pe=xe):(ge=(re+ue)/2,Pe=(oe+xe)/2),"auto"===Fe&&(Fe="start"===se?"auto"===ae?ue>re?"left":ue<re?"right":"center":ue>re?"right":ue<re?"left":"center":"end"===se?"auto"===ae?ue>re?"right":ue<re?"left":"center":ue>re?"left":ue<re?"right":"center":"center");var Te={bottom:-1,middle:0,top:1};if("auto"===ae){var ve=Te[ce];_e=-fe*be*ve,we=fe*Ie*ve}else _e=fe*{left:1,center:0,right:-1}[Fe],we=fe*Te[ce];ge+=_e,Pe+=we}else _e=fe+3,-1!==se.indexOf("right")?(ge=Math.max(re,ue)-_e,"auto"===Fe&&(Fe="right")):-1!==se.indexOf("left")?(ge=Math.min(re,ue)+_e,"auto"===Fe&&(Fe="left")):(ge=(re+ue)/2,"auto"===Fe&&(Fe="center")),Pe=-1!==se.indexOf("top")?Math.min(oe,xe):-1!==se.indexOf("bottom")?Math.max(oe,xe):(oe+xe)/2,we=fe,"bottom"===ce?Pe-=we:"top"===ce&&(Pe+=we);var Ce=i[ce],Re=Me.label.font.size,Oe=pe.height;return{textx:ge+(Oe*Ce-Re)*be,texty:Pe+-(Oe*Ce-Re)*Ie,xanchor:Fe}}(y,m,v,_,o,X,T.bBox(w.node())),W=Y.textx,$=Y.texty;w.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Y.xanchor],y:$,x:W,transform:"rotate("+X+","+W+","+$+")"}).call(l.positionText,W,$)}var re,oe,ue,xe,me}},42359:function(ee,D,e){"use strict";var A=e(71828).strTranslate,k=e(28569),l=e(64505),T=l.drawMode,b=l.selectMode,d=e(73972),a=e(7901),t=e(89995),i=t.i000,r=t.i090,n=t.i180,o=t.i270,s=e(51873).clearOutlineControllers,u=e(60165),p=u.pointsOnRectangle,c=u.pointsOnEllipse,x=u.writePaths,g=e(90551).newShapes,h=e(90551).createShapeObj,y=e(35855),v=e(48100);function m(_,f){var S,w,E,O=_.length;return w=_[S=(f+1)%O][1],E=_[S][2],w===_[f][1]&&E===_[f][2]&&(w=_[S=(f+2)%O][1],E=_[S][2]),[S,w,E]}ee.exports=function _(f,S,w,E){E||(E=0);var L=w.gd;function C(){_(f,S,w,E++),(c(f[0])||w.hasText)&&O({redrawing:!0})}function O(Me){var me={};void 0!==w.isActiveShape&&(w.isActiveShape=!1,me=g(S,w)),void 0!==w.isActiveSelection&&(w.isActiveSelection=!1,me=y(S,w),L._fullLayout._reselect=!0),Object.keys(me).length&&d.call((Me||{}).redrawing?"relayout":"_guiRelayout",L,me)}var R,q,P,U,N,F=L._fullLayout._zoomlayer,j=w.dragmode,G=T(j),te=b(j);if((G||te)&&(L._fullLayout._outlining=!0),s(L),S.attr("d",x(f)),E||!w.isActiveShape&&!w.isActiveSelection||(N=function(Me,me){for(var pe=0;pe<me.length;pe++){var ge=me[pe];Me[pe]=[];for(var Pe=0;Pe<ge.length;Pe++){Me[pe][Pe]=[];for(var _e=0;_e<ge[Pe].length;_e++)Me[pe][Pe][_e]=ge[Pe][_e]}}return Me}([],f),function(Me){R=[];for(var me=0;me<f.length;me++){var pe=f[me],ge=p(pe),Pe=!ge&&c(pe);R[me]=[];for(var _e=pe.length,we=0;we<_e;we++)if("Z"!==pe[we][0]&&(!Pe||we===i||we===r||we===n||we===o)){var se,ae=ge&&w.isActiveSelection;ae&&(se=m(pe,we));var fe=pe[we][1],Ee=pe[we][2],ke=Me.append(ae?"rect":"circle").attr("data-i",me).attr("data-j",we).style({fill:a.background,stroke:a.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(ae){var be=se[1]-fe,Ie=se[2]-Ee,Fe=Ie?5:Math.max(Math.min(25,Math.abs(be)-5),5),ce=be?5:Math.max(Math.min(25,Math.abs(Ie)-5),5);ke.classed(Ie?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Fe).attr("height",ce).attr("x",fe-Fe/2).attr("y",Ee-ce/2).attr("transform",A(be/2,Ie/2))}else ke.classed("cursor-grab",!0).attr("r",5).attr("cx",fe).attr("cy",Ee);R[me][we]={element:ke.node(),gd:L,prepFn:Y,doneFn:$,clickFn:ne},k.init(R[me][we])}}}(F.append("g").attr("class","outline-controllers")),q=[],f.length&&(q[0]={element:S[0][0],gd:L,prepFn:function oe(Me){(P=+Me.srcElement.getAttribute("data-i"))||(P=0),q[P].moveFn=re},doneFn:function ue(){O()},clickFn:function xe(Me){2===Me&&function(me){if(b(me._fullLayout.dragmode)){s(me);var pe=me._fullLayout._activeSelectionIndex,ge=(me.layout||{}).selections||[];if(pe<ge.length){for(var Pe=[],_e=0;_e<ge.length;_e++)_e!==pe&&Pe.push(ge[_e]);delete me._fullLayout._activeSelectionIndex;var we=me._fullLayout.selections[pe];me._fullLayout._deselect={xref:we.xref,yref:we.yref},d.call("_guiRelayout",me,{selections:Pe})}}}(L)}},k.init(q[0]))),G&&w.hasText){var J=F.select(".label-temp"),X=h(S,w,w.dragmode);v(L,"label-temp",X,J)}function Y(Me){P=+Me.srcElement.getAttribute("data-i"),U=+Me.srcElement.getAttribute("data-j"),R[P][U].moveFn=W}function W(Me,me){if(f.length){var pe=N[P][U][1],ge=N[P][U][2],Pe=f[P],_e=Pe.length;if(p(Pe)){var we=Me,se=me;w.isActiveSelection&&(m(Pe,U)[1]===Pe[U][1]?se=0:we=0);for(var ae=0;ae<_e;ae++)if(ae!==U){var fe=Pe[ae];fe[1]===Pe[U][1]&&(fe[1]=pe+we),fe[2]===Pe[U][2]&&(fe[2]=ge+se)}if(Pe[U][1]=pe+we,Pe[U][2]=ge+se,!p(Pe))for(var Ee=0;Ee<_e;Ee++)for(var ke=0;ke<Pe[Ee].length;ke++)Pe[Ee][ke]=N[P][Ee][ke]}else Pe[U][1]=pe+Me,Pe[U][2]=ge+me;C()}}function $(){O()}function ne(Me,me){if(2===Me){P=+me.srcElement.getAttribute("data-i"),U=+me.srcElement.getAttribute("data-j");var pe=f[P];p(pe)||c(pe)||function(){if(f.length&&f[P]&&f[P].length){for(var ge=[],Pe=0;Pe<f[P].length;Pe++)Pe!==U&&ge.push(f[P][Pe]);ge.length>1&&(2!==ge.length||"Z"!==ge[1][0])&&(0===U&&(ge[0][0]="M"),f[P]=ge,C(),O())}}()}}function re(Me,me){(function(pe,ge){if(f.length)for(var Pe=0;Pe<f.length;Pe++)for(var _e=0;_e<f[Pe].length;_e++)for(var we=0;we+2<f[Pe][_e].length;we+=2)f[Pe][_e][we+1]=N[Pe][_e][we+1]+pe,f[Pe][_e][we+2]=N[Pe][_e][we+2]+ge})(Me,me),C()}}},34031:function(ee,D,e){"use strict";var A=e(39898),k=e(73972),l=e(71828),T=e(89298),b=e(60165).readPaths,d=e(42359),a=e(48100),t=e(51873).clearOutlineControllers,i=e(7901),r=e(91424),n=e(44467).arrayEditor,o=e(28569),s=e(6964),u=e(21459),p=e(30477),c=p.getPathString;function x(f){var S=f._fullLayout;for(var w in S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._shapeUpperLayer.selectAll("text").remove(),S._shapeLowerLayer.selectAll("text").remove(),S._plots){var E=S._plots[w].shapelayer;E&&(E.selectAll("path").remove(),E.selectAll("text").remove())}for(var L=0;L<S.shapes.length;L++)!0===S.shapes[L].visible&&y(f,L)}function g(f){return!!f._fullLayout._outlining}function h(f){return!f._context.edits.shapePosition}function y(f,S){f._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var w=p.makeShapesOptionsAndPlotinfo(f,S),E=w.options,L=w.plotinfo;E._input&&!0===E.visible&&function C(O){var R=c(f,E),q={"data-index":S,"fill-rule":E.fillrule,d:R},P=E.opacity,U=E.fillcolor,N=E.line.width?E.line.color:"rgba(0,0,0,0)",F=E.line.width,j=E.line.dash;F||!0!==E.editable||(F=5,j="solid");var G="Z"!==R[R.length-1],te=h(f)&&E.editable&&f._fullLayout._activeShapeIndex===S;te&&(U=G?"rgba(0,0,0,0)":f._fullLayout.activeshape.fillcolor,P=f._fullLayout.activeshape.opacity);var J,X=O.append("g").classed("shape-group",!0).attr({"data-index":S}),Y=X.append("path").attr(q).style("opacity",P).call(i.stroke,N).call(i.fill,U).call(r.dashLine,j,F);if(v(X,f,E),a(f,S,E,X),(te||f._context.edits.shapePosition)&&(J=n(f.layout,"shapes",E)),te){Y.style({cursor:"move"});var W={element:Y.node(),plotinfo:L,gd:f,editHelpers:J,hasText:E.label.text||E.label.texttemplate,isActiveShape:!0},$=b(R,f);d($,Y,W)}else f._context.edits.shapePosition?function(ne,re,oe,ue,xe,Me){var me,pe,ge,Pe,_e,we,se,ae,fe,Ee,ke,be,Ie,Fe,ce,Te,Re="pixel"===oe.xsizemode,Oe="pixel"===oe.ysizemode,je="line"===oe.type,qe="path"===oe.type,Je=Me.modifyItem,it=A.select(re.node().parentNode),Qe=T.getFromId(ne,oe.xref),dt=T.getRefType(oe.xref),yt=T.getFromId(ne,oe.yref),mt=T.getRefType(oe.yref),at=p.getDataToPixel(ne,Qe,!1,dt),st=p.getDataToPixel(ne,yt,!0,mt),Tt=p.getPixelToData(ne,Qe,!1,dt),At=p.getPixelToData(ne,yt,!0,mt),Pt=je?function(){var ze=Math.max(oe.line.width,10),Be=xe.append("g").attr("data-index",ue).attr("drag-helper",!0);Be.append("path").attr("d",re.attr("d")).style({cursor:"move","stroke-width":ze,"stroke-opacity":"0"});var tt={"fill-opacity":"0"},et=Math.max(ze/2,10);return Be.append("circle").attr({"data-line-point":"start-point",cx:Re?at(oe.xanchor)+oe.x0:at(oe.x0),cy:Oe?st(oe.yanchor)-oe.y0:st(oe.y0),r:et}).style(tt).classed("cursor-grab",!0),Be.append("circle").attr({"data-line-point":"end-point",cx:Re?at(oe.xanchor)+oe.x1:at(oe.x1),cy:Oe?st(oe.yanchor)-oe.y1:st(oe.y1),r:et}).style(tt).classed("cursor-grab",!0),Be}():re,kt={element:Pt.node(),gd:ne,prepFn:function(nt){var ze,Be,tt,et,gt,pt,vt,ut;g(ne)||(Re&&(_e=at(oe.xanchor)),Oe&&(we=st(oe.yanchor)),"path"===oe.type?ce=oe.path:(me=Re?oe.x0:at(oe.x0),pe=Oe?oe.y0:st(oe.y0),ge=Re?oe.x1:at(oe.x1),Pe=Oe?oe.y1:st(oe.y1)),me<ge?(fe=me,Ie="x0",Ee=ge,Fe="x1"):(fe=ge,Ie="x1",Ee=me,Fe="x0"),!Oe&&pe<Pe||Oe&&pe>Pe?(se=pe,ke="y0",ae=Pe,be="y1"):(se=Pe,ke="y1",ae=pe,be="y0"),Ze(nt),We(xe,oe),ze=re,gt=(Be=oe).yref,pt=T.getFromId(tt=ne,et=Be.xref),vt=T.getFromId(tt,gt),ut="","paper"===et||pt.autorange||(ut+=et),"paper"===gt||vt.autorange||(ut+=gt),r.setClipUrl(ze,ut?"clip"+tt._fullLayout._uid+ut:null,tt),kt.moveFn="move"===Te?Xe:He,kt.altKey=nt.altKey)},doneFn:function(){g(ne)||(s(re),rt(xe),v(re,ne,oe),k.call("_guiRelayout",ne,Me.getUpdateObj()))},clickFn:function(){g(ne)||rt(xe)}};function Ze(nt){if(g(ne))Te=null;else if(je)Te="path"===nt.target.tagName?"move":"start-point"===nt.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var ze=kt.element.getBoundingClientRect(),Be=ze.right-ze.left,tt=ze.bottom-ze.top,pt=!qe&&Be>10&&tt>10&&!nt.shiftKey?o.getCursor((nt.clientX-ze.left)/Be,1-(nt.clientY-ze.top)/tt):"move";s(re,pt),Te=pt.split("-")[0]}}function Xe(nt,ze){if("path"===oe.type){var Be=function(gt){return gt},tt=Be,et=Be;Re?Je("xanchor",oe.xanchor=Tt(_e+nt)):(tt=function(gt){return Tt(at(gt)+nt)},Qe&&"date"===Qe.type&&(tt=p.encodeDate(tt))),Oe?Je("yanchor",oe.yanchor=At(we+ze)):(et=function(gt){return At(st(gt)+ze)},yt&&"date"===yt.type&&(et=p.encodeDate(et))),Je("path",oe.path=m(ce,tt,et))}else Re?Je("xanchor",oe.xanchor=Tt(_e+nt)):(Je("x0",oe.x0=Tt(me+nt)),Je("x1",oe.x1=Tt(ge+nt))),Oe?Je("yanchor",oe.yanchor=At(we+ze)):(Je("y0",oe.y0=At(pe+ze)),Je("y1",oe.y1=At(Pe+ze)));re.attr("d",c(ne,oe)),We(xe,oe),a(ne,ue,oe,it)}function He(nt,ze){if(qe){var Be=function(Yt){return Yt},tt=Be,et=Be;Re?Je("xanchor",oe.xanchor=Tt(_e+nt)):(tt=function(Yt){return Tt(at(Yt)+nt)},Qe&&"date"===Qe.type&&(tt=p.encodeDate(tt))),Oe?Je("yanchor",oe.yanchor=At(we+ze)):(et=function(Yt){return At(st(Yt)+ze)},yt&&"date"===yt.type&&(et=p.encodeDate(et))),Je("path",oe.path=m(ce,tt,et))}else if(je){if("resize-over-start-point"===Te){var gt=me+nt,pt=Oe?pe-ze:pe+ze;Je("x0",oe.x0=Re?gt:Tt(gt)),Je("y0",oe.y0=Oe?pt:At(pt))}else if("resize-over-end-point"===Te){var vt=ge+nt,ut=Oe?Pe-ze:Pe+ze;Je("x1",oe.x1=Re?vt:Tt(vt)),Je("y1",oe.y1=Oe?ut:At(ut))}}else{var wt=function(Yt){return-1!==Te.indexOf(Yt)},ct=wt("n"),ft=wt("s"),bt=wt("w"),It=wt("e"),Dt=ct?se+ze:se,Nt=ft?ae+ze:ae,$t=bt?fe+nt:fe,jt=It?Ee+nt:Ee;Oe&&(ct&&(Dt=se-ze),ft&&(Nt=ae-ze)),(!Oe&&Nt-Dt>10||Oe&&Dt-Nt>10)&&(Je(ke,oe[ke]=Oe?Dt:At(Dt)),Je(be,oe[be]=Oe?Nt:At(Nt))),jt-$t>10&&(Je(Ie,oe[Ie]=Re?$t:Tt($t)),Je(Fe,oe[Fe]=Re?jt:Tt(jt)))}re.attr("d",c(ne,oe)),We(xe,oe),a(ne,ue,oe,it)}function We(nt,ze){(Re||Oe)&&function(){var Be="path"!==ze.type,tt=nt.selectAll(".visual-cue").data([0]);tt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var et=at(Re?ze.xanchor:l.midRange(Be?[ze.x0,ze.x1]:p.extractPathCoords(ze.path,u.paramIsX))),gt=st(Oe?ze.yanchor:l.midRange(Be?[ze.y0,ze.y1]:p.extractPathCoords(ze.path,u.paramIsY)));et=p.roundPositionForSharpStrokeRendering(et,1),gt=p.roundPositionForSharpStrokeRendering(gt,1),tt.attr("d",Re&&Oe?"M"+(et-1-1)+","+(gt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":Re?"M"+(et-1-1)+","+(gt-9-1)+"v18 h2 v-18 Z":"M"+(et-9-1)+","+(gt-1-1)+"h18 v2 h-18 Z")}()}function rt(nt){nt.selectAll(".visual-cue").remove()}o.init(kt),Pt.node().onmousemove=Ze}(f,Y,E,S,O,J):!0===E.editable&&Y.style("pointer-events",G||i.opacity(U)*P<=.5?"stroke":"all");Y.node().addEventListener("click",function(){return function(ne,re){if(h(ne)){var oe=+re.node().getAttribute("data-index");if(oe>=0){if(oe===ne._fullLayout._activeShapeIndex)return void _(ne);ne._fullLayout._activeShapeIndex=oe,ne._fullLayout._deactivateShape=_,x(ne)}}}(f,Y)})}("below"!==E.layer?f._fullLayout._shapeUpperLayer:"paper"===E.xref||"paper"===E.yref?f._fullLayout._shapeLowerLayer:L._hadPlotinfo?(L.mainplotinfo||L).shapelayer:f._fullLayout._shapeLowerLayer)}function v(f,S,w){var E=(w.xref+w.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");r.setClipUrl(f,E?"clip"+S._fullLayout._uid+E:null,S)}function m(f,S,w){return f.replace(u.segmentRE,function(E){var L=0,C=E.charAt(0),O=u.paramIsX[C],R=u.paramIsY[C],q=u.numParams[C];return C+E.substr(1).replace(u.paramRE,function(P){return L>=q||(O[L]?P=S(P):R[L]&&(P=w(P)),L++),P})})}function _(f){h(f)&&f._fullLayout._activeShapeIndex>=0&&(t(f),delete f._fullLayout._activeShapeIndex,x(f))}ee.exports={draw:x,drawOne:y,eraseActiveShape:function(f){if(h(f)){t(f);var S=f._fullLayout._activeShapeIndex,w=(f.layout||{}).shapes||[];if(S<w.length){for(var E=[],L=0;L<w.length;L++)L!==S&&E.push(w[L]);return delete f._fullLayout._activeShapeIndex,k.call("_guiRelayout",f,{shapes:E})}}},drawLabel:a}},29241:function(ee,D,e){"use strict";var A=e(30962).overrideAll,k=e(9012),l=e(41940),T=e(79952).P,b=e(1426).extendFlat,d=e(5386).R,a=e(37281);ee.exports=A({newshape:{visible:b({},k.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:b({},k.legend,{}),legendgroup:b({},k.legendgroup,{}),legendgrouptitle:{text:b({},k.legendgrouptitle.text,{}),font:l({})},legendrank:b({},k.legendrank,{}),legendwidth:b({},k.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:b({},T,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:b({},k.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:d({newshape:!0},{keys:Object.keys(a)}),font:l({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(ee){"use strict";ee.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(ee,D,e){"use strict";var A=e(7901),k=e(71828);ee.exports=function(l,T,b){b("newshape.visible"),b("newshape.name"),b("newshape.showlegend"),b("newshape.legend"),b("newshape.legendwidth"),b("newshape.legendgroup"),b("newshape.legendgrouptitle.text"),k.coerceFont(b,"newshape.legendgrouptitle.font"),b("newshape.legendrank"),b("newshape.drawdirection"),b("newshape.layer"),b("newshape.fillcolor"),b("newshape.fillrule"),b("newshape.opacity"),b("newshape.line.width")&&(b("newshape.line.color",A.contrast((l||{}).plot_bgcolor||"#FFF")),b("newshape.line.dash"));var o,a="drawline"===l.dragmode,t=b("newshape.label.text"),i=b("newshape.label.texttemplate");if(t||i){b("newshape.label.textangle");var r=b("newshape.label.textposition",a?"middle":"middle center");b("newshape.label.xanchor"),b("newshape.label.yanchor",(o=r,a?"bottom":-1!==o.indexOf("top")?"top":-1!==o.indexOf("bottom")?"bottom":"middle")),b("newshape.label.padding"),k.coerceFont(b,"newshape.label.font",T.font)}b("activeshape.fillcolor"),b("activeshape.opacity")}},60165:function(ee,D,e){"use strict";var A=e(95616),k=e(89995),l=k.CIRCLE_SIDES,T=k.SQRT2,b=e(75549),d=b.p2r,a=b.r2p,t=[0,3,4,5,6,1,2],i=[0,3,4,1,2];function r(o,s){return Math.abs(o-s)<=1e-6}function n(o,s){var u=s[1]-o[1],p=s[2]-o[2];return Math.sqrt(u*u+p*p)}D.writePaths=function(o){var s=o.length;if(!s)return"M0,0Z";for(var u="",p=0;p<s;p++)for(var c=o[p].length,x=0;x<c;x++){var g=o[p][x][0];if("Z"===g)u+="Z";else for(var h=o[p][x].length,y=0;y<h;y++){var v=y;"Q"===g||"S"===g?v=i[y]:"C"===g&&(v=t[y]),u+=o[p][x][v],y>0&&y<h-1&&(u+=",")}}return u},D.readPaths=function(o,s,u,p){var c,x,g,h=A(o),y=[],v=-1,m=0,_=0,f=function(){x=m,g=_};f();for(var S=0;S<h.length;S++){var O=[],R=h[S][0],q=R;switch(R){case"M":y[++v]=[],O.push([q,m=+h[S][1],_=+h[S][2]]),f();break;case"Q":case"S":O.push([q,m=+h[S][3],_=+h[S][4],+h[S][1],+h[S][2]]);break;case"C":O.push([q,m=+h[S][5],_=+h[S][6],+h[S][1],+h[S][2],+h[S][3],+h[S][4]]);break;case"T":case"L":O.push([q,m=+h[S][1],_=+h[S][2]]);break;case"H":O.push([q="L",m=+h[S][1],_]);break;case"V":O.push([q="L",m,_=+h[S][1]]);break;case"A":q="L";var P=+h[S][1],U=+h[S][2];+h[S][4]||(P=-P,U=-U);var N=m-P,F=_;for(c=1;c<=l/2;c++){var j=2*Math.PI*c/l;O.push([q,N+P*Math.cos(j),F+U*Math.sin(j)])}break;case"Z":m===x&&_===g||O.push([q,m=x,_=g])}for(var G=(u||{}).domain,te=s._fullLayout._size,J=u&&"pixel"===u.xsizemode,X=u&&"pixel"===u.ysizemode,Y=!1===p,W=0;W<O.length;W++){for(c=0;c+2<7;c+=2){var $=O[W][c+1],ne=O[W][c+2];void 0!==$&&void 0!==ne&&(m=$,_=ne,u&&(u.xaxis&&u.xaxis.p2r?(Y&&($-=u.xaxis._offset),$=J?a(u.xaxis,u.xanchor)+$:d(u.xaxis,$)):(Y&&($-=te.l),G?$=G.x[0]+$/te.w:$/=te.w),u.yaxis&&u.yaxis.p2r?(Y&&(ne-=u.yaxis._offset),ne=X?a(u.yaxis,u.yanchor)-ne:d(u.yaxis,ne)):(Y&&(ne-=te.t),ne=G?G.y[1]-ne/te.h:1-ne/te.h)),O[W][c+1]=$,O[W][c+2]=ne)}y[v].push(O[W].slice())}}return y},D.pointsOnRectangle=function(o){if(5!==o.length)return!1;for(var s=1;s<3;s++)if(!r(o[0][s]-o[1][s],o[3][s]-o[2][s])||!r(o[0][s]-o[3][s],o[1][s]-o[2][s]))return!1;return!(!r(o[0][1],o[1][1])&&!r(o[0][1],o[3][1])||!(n(o[0],o[1])*n(o[0],o[3])))},D.pointsOnEllipse=function(o){var s=o.length;if(s!==l+1)return!1;s=l;for(var u=0;u<s;u++){var p=(2*s-u)%s,c=(s/2+p)%s;if(!r(n(o[u],o[(s/2+u)%s]),n(o[p],o[c])))return!1}return!0},D.handleEllipse=function(o,s,u){if(!o)return[s,u];var p=D.ellipseOver({x0:s[0],y0:s[1],x1:u[0],y1:u[1]}),c=(p.x1+p.x0)/2,x=(p.y1+p.y0)/2,g=(p.x1-p.x0)/2,h=(p.y1-p.y0)/2;g||(g=h/=T),h||(h=g/=T);for(var y=[],v=0;v<l;v++){var m=2*v*Math.PI/l;y.push([c+g*Math.cos(m),x+h*Math.sin(m)])}return y},D.ellipseOver=function(o){var s=o.x0,u=o.y0,p=o.x1,c=o.y1,x=p-s,g=c-u,h=((s-=x)+p)/2,y=((u-=g)+c)/2;return{x0:h-(x*=T),y0:y-(g*=T),x1:h+x,y1:y+g}},D.fixDatesForPaths=function(o,s,u){var p="date"===s.type,c="date"===u.type;if(!p&&!c)return o;for(var x=0;x<o.length;x++)for(var g=0;g<o[x].length;g++)for(var h=0;h+2<o[x][g].length;h+=2)p&&(o[x][g][h+1]=o[x][g][h+1].replace(" ","_")),c&&(o[x][g][h+2]=o[x][g][h+2].replace(" ","_"));return o}},90551:function(ee,D,e){"use strict";var A=e(64505),k=A.drawMode,l=A.openMode,T=e(89995),b=T.i000,d=T.i090,a=T.i180,t=T.i270,i=T.cos45,r=T.sin45,n=e(75549),o=n.p2r,s=n.r2p,u=e(51873).clearOutline,p=e(60165),c=p.readPaths,x=p.writePaths,g=p.ellipseOver,h=p.fixDatesForPaths;function y(v,m,_){var f,w=m.gd,E=v[0][0].getAttribute("d"),L=w._fullLayout.newshape,C=m.plotinfo,O=m.isActiveShape,R=C.xaxis,q=C.yaxis,P=!!C.domain||!C.xaxis,U=!!C.domain||!C.yaxis,N=l(_),F=c(E,w,C,O),j={editable:!0,visible:L.visible,name:L.name,showlegend:L.showlegend,legend:L.legend,legendwidth:L.legendwidth,legendgroup:L.legendgroup,legendgrouptitle:{text:L.legendgrouptitle.text,font:L.legendgrouptitle.font},legendrank:L.legendrank,label:L.label,xref:P?"paper":R._id,yref:U?"paper":q._id,layer:L.layer,opacity:L.opacity,line:{color:L.line.color,width:L.line.width,dash:L.line.dash}};if(N||(j.fillcolor=L.fillcolor,j.fillrule=L.fillrule),1===F.length&&(f=F[0]),f&&5===f.length&&"drawrect"===_)j.type="rect",j.x0=f[0][1],j.y0=f[0][2],j.x1=f[2][1],j.y1=f[2][2];else if(f&&"drawline"===_)j.type="line",j.x0=f[0][1],j.y0=f[0][2],j.x1=f[1][1],j.y1=f[1][2];else if(f&&"drawcircle"===_){j.type="circle";var G=f[b][1],te=f[d][1],J=f[a][1],X=f[t][1],Y=f[b][2],W=f[d][2],$=f[a][2],ne=f[t][2],re=C.xaxis&&("date"===C.xaxis.type||"log"===C.xaxis.type),oe=C.yaxis&&("date"===C.yaxis.type||"log"===C.yaxis.type);re&&(G=s(C.xaxis,G),te=s(C.xaxis,te),J=s(C.xaxis,J),X=s(C.xaxis,X)),oe&&(Y=s(C.yaxis,Y),W=s(C.yaxis,W),$=s(C.yaxis,$),ne=s(C.yaxis,ne));var ue=(te+X)/2,xe=(Y+$)/2,Me=g({x0:ue,y0:xe,x1:ue+(X-te+J-G)/2*i,y1:xe+(ne-W+$-Y)/2*r});re&&(Me.x0=o(C.xaxis,Me.x0),Me.x1=o(C.xaxis,Me.x1)),oe&&(Me.y0=o(C.yaxis,Me.y0),Me.y1=o(C.yaxis,Me.y1)),j.x0=Me.x0,j.y0=Me.y0,j.x1=Me.x1,j.y1=Me.y1}else j.type="path",R&&q&&h(F,R,q),j.path=x(F),f=null;return j}ee.exports={newShapes:function(v,m){if(v.length&&v[0][0]){var _=m.gd,f=m.isActiveShape,S=m.dragmode,w=(_.layout||{}).shapes||[];if(!k(S)&&void 0!==f){var E=_._fullLayout._activeShapeIndex;if(E<w.length)switch(_._fullLayout.shapes[E].type){case"rect":S="drawrect";break;case"circle":S="drawcircle";break;case"line":S="drawline";break;case"path":var L=w[E].path||"";S="Z"===L[L.length-1]?"drawclosedpath":"drawopenpath"}}var C=y(v,m,S);u(_);for(var O=m.editHelpers,R=(O||{}).modifyItem,q=[],P=0;P<w.length;P++){var U=_._fullLayout.shapes[P];if(q[P]=U._input,void 0!==f&&P===_._fullLayout._activeShapeIndex){var N=C;switch(U.type){case"line":case"rect":case"circle":R("x0",N.x0),R("x1",N.x1),R("y0",N.y0),R("y1",N.y1);break;case"path":R("path",N.path)}}}return void 0===f?(q.push(C),q):O?O.getUpdateObj():{}}},createShapeObj:y}},51873:function(ee){"use strict";ee.exports={clearOutlineControllers:function(D){var e=D._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(D){var e=D._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),D._fullLayout._outlining=!1}}},30477:function(ee,D,e){"use strict";var A=e(21459),k=e(71828),l=e(89298);D.rangeToShapePosition=function(T){return"log"===T.type?T.r2d:function(b){return b}},D.shapePositionToRange=function(T){return"log"===T.type?T.d2r:function(b){return b}},D.decodeDate=function(T){return function(b){return b.replace&&(b=b.replace("_"," ")),T(b)}},D.encodeDate=function(T){return function(b){return T(b).replace(" ","_")}},D.extractPathCoords=function(T,b,d){var a=[];return T.match(A.segmentRE).forEach(function(t){var i=b[t.charAt(0)].drawn;if(void 0!==i){var r=t.substr(1).match(A.paramRE);if(r&&!(r.length<i)){var n=r[i],o=d?n:k.cleanNumber(n);a.push(o)}}}),a},D.getDataToPixel=function(T,b,d,a){var t,i=T._fullLayout._size;if(b)if("domain"===a)t=function(n){return b._length*(d?1-n:n)+b._offset};else{var r=D.shapePositionToRange(b);t=function(n){return b._offset+b.r2p(r(n,!0))},"date"===b.type&&(t=D.decodeDate(t))}else t=d?function(n){return i.t+i.h*(1-n)}:function(n){return i.l+i.w*n};return t},D.getPixelToData=function(T,b,d,a){var t,i=T._fullLayout._size;if(b)if("domain"===a)t=function(n){var o=(n-b._offset)/b._length;return d?1-o:o};else{var r=D.rangeToShapePosition(b);t=function(n){return r(b.p2r(n-b._offset))}}else t=d?function(n){return 1-(n-i.t)/i.h}:function(n){return(n-i.l)/i.w};return t},D.roundPositionForSharpStrokeRendering=function(T,b){var d=1===Math.round(b%2),a=Math.round(T);return d?a+.5:a},D.makeShapesOptionsAndPlotinfo=function(T,b){var d=T._fullLayout.shapes[b]||{},a=T._fullLayout._plots[d.xref+d.yref];return a?a._hadPlotinfo=!0:(a={},d.xref&&"paper"!==d.xref&&(a.xaxis=T._fullLayout[d.xref+"axis"]),d.yref&&"paper"!==d.yref&&(a.yaxis=T._fullLayout[d.yref+"axis"])),a.xsizemode=d.xsizemode,a.ysizemode=d.ysizemode,a.xanchor=d.xanchor,a.yanchor=d.yanchor,{options:d,plotinfo:a}},D.makeSelectionsOptionsAndPlotinfo=function(T,b){var d=T._fullLayout.selections[b]||{},a=T._fullLayout._plots[d.xref+d.yref];return a?a._hadPlotinfo=!0:(a={},d.xref&&(a.xaxis=T._fullLayout[d.xref+"axis"]),d.yref&&(a.yaxis=T._fullLayout[d.yref+"axis"])),{options:d,plotinfo:a}},D.getPathString=function(T,b){var d,a,t,i,r,n,o,s,L,C,O,q,P,U,N,u=b.type,p=l.getRefType(b.xref),c=l.getRefType(b.yref),x=l.getFromId(T,b.xref),g=l.getFromId(T,b.yref),h=T._fullLayout._size;if(x?"domain"===p?a=function(L){return x._offset+x._length*L}:(d=D.shapePositionToRange(x),a=function(L){return x._offset+x.r2p(d(L,!0))}):a=function(L){return h.l+h.w*L},g?"domain"===c?i=function(L){return g._offset+g._length*(1-L)}:(t=D.shapePositionToRange(g),i=function(L){return g._offset+g.r2p(t(L,!0))}):i=function(L){return h.t+h.h*(1-L)},"path"===u)return x&&"date"===x.type&&(a=D.decodeDate(a)),g&&"date"===g.type&&(i=D.decodeDate(i)),C=a,O=i,q=(L=b).xsizemode,P=L.ysizemode,U=L.xanchor,N=L.yanchor,L.path.replace(A.segmentRE,function(F){var j=0,G=F.charAt(0),te=A.paramIsX[G],J=A.paramIsY[G],X=A.numParams[G],Y=F.substr(1).replace(A.paramRE,function(W){return te[j]?W="pixel"===q?C(U)+Number(W):C(W):J[j]&&(W="pixel"===P?O(N)-Number(W):O(W)),++j>X&&(W="X"),W});return j>X&&(Y=Y.replace(/[\s,]*X.*/,""),k.log("Ignoring extra params in segment "+F)),G+Y});if("pixel"===b.xsizemode){var y=a(b.xanchor);r=y+b.x0,n=y+b.x1}else r=a(b.x0),n=a(b.x1);if("pixel"===b.ysizemode){var v=i(b.yanchor);o=v-b.y0,s=v-b.y1}else o=i(b.y0),s=i(b.y1);if("line"===u)return"M"+r+","+o+"L"+n+","+s;if("rect"===u)return"M"+r+","+o+"H"+n+"V"+s+"H"+r+"Z";var m=(r+n)/2,_=(o+s)/2,f=Math.abs(m-r),S=Math.abs(_-o),w="A"+f+","+S,E=m+f+","+_;return"M"+E+w+" 0 1,1 "+m+","+(_-S)+w+" 0 0,1 "+E+"Z"}},89853:function(ee,D,e){"use strict";var A=e(34031);ee.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:A.draw,drawOne:A.drawOne}},37281:function(ee){"use strict";function D(l,T){return T?T.d2l(l):l}function e(l,T){return T?T.l2d(l):l}function A(l,T){return D(l.x1,T)-D(l.x0,T)}function k(l,T,b){return D(l.y1,b)-D(l.y0,b)}ee.exports={x0:function(l){return l.x0},x1:function(l){return l.x1},y0:function(l){return l.y0},y1:function(l){return l.y1},slope:function(l,T,b){return"line"!==l.type?void 0:k(l,0,b)/A(l,T)},dx:A,dy:k,width:function(l,T){return Math.abs(A(l,T))},height:function(l,T,b){return Math.abs(k(l,0,b))},length:function(l,T,b){return"line"!==l.type?void 0:Math.sqrt(Math.pow(A(l,T),2)+Math.pow(k(l,0,b),2))},xcenter:function(l,T){return e((D(l.x1,T)+D(l.x0,T))/2,T)},ycenter:function(l,T,b){return e((D(l.y1,b)+D(l.y0,b))/2,b)}}},75067:function(ee,D,e){"use strict";var A=e(41940),k=e(35025),l=e(1426).extendDeepAll,T=e(30962).overrideAll,b=e(85594),d=e(44467).templatedArray,a=e(98292),t=d("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});ee.exports=T(d("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:l(k({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:b.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:A({})},font:A({}),activebgcolor:{valType:"color",dflt:a.gripBgActiveColor},bgcolor:{valType:"color",dflt:a.railBgColor},bordercolor:{valType:"color",dflt:a.railBorderColor},borderwidth:{valType:"number",min:0,dflt:a.railBorderWidth},ticklen:{valType:"number",min:0,dflt:a.tickLength},tickcolor:{valType:"color",dflt:a.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:a.minorTickLength}}),"arraydraw","from-root")},98292:function(ee){"use strict";ee.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(ee,D,e){"use strict";var A=e(71828),k=e(85501),l=e(75067),T=e(98292).name,b=l.steps;function d(t,i,r){function n(c,x){return A.coerce(t,i,l,c,x)}for(var o=k(t,i,{name:"steps",handleItemDefaults:a}),s=0,u=0;u<o.length;u++)o[u].visible&&s++;if(s<2?i.visible=!1:n("visible")){i._stepCount=s;var p=i._visibleSteps=A.filterVisible(o);(o[n("active")]||{}).visible||(i.active=p[0]._index),n("x"),n("y"),A.noneOrAll(t,i,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),A.coerceFont(n,"font",r.font),n("currentvalue.visible")&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),A.coerceFont(n,"currentvalue.font",i.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function a(t,i){function r(o,s){return A.coerce(t,i,b,o,s)}if("skip"===t.method||Array.isArray(t.args)?r("visible"):i.visible=!1){r("method"),r("args");var n=r("label","step-"+i._index);r("value",n),r("execute")}}ee.exports=function(t,i){k(t,i,{name:T,handleItemDefaults:d})}},44504:function(ee,D,e){"use strict";var A=e(39898),k=e(74875),l=e(7901),T=e(91424),b=e(71828),d=b.strTranslate,a=e(63893),t=e(44467).arrayEditor,i=e(98292),r=e(18783),n=r.LINE_SPACING,o=r.FROM_TL,s=r.FROM_BR;function u(O){return i.autoMarginIdRoot+O._index}function p(O){return O._index}function c(O,R){var q=T.tester.selectAll("g."+i.labelGroupClass).data(R._visibleSteps);q.enter().append("g").classed(i.labelGroupClass,!0);var P=0,U=0;q.each(function(W){var $=h(A.select(this),{step:W},R).node();if($){var ne=T.bBox($);U=Math.max(U,ne.height),P=Math.max(P,ne.width)}}),q.remove();var N=R._dims={};N.inputAreaWidth=Math.max(i.railWidth,i.gripHeight);var F=O._fullLayout._size;if(N.lx=F.l+F.w*R.x,N.ly=F.t+F.h*(1-R.y),N.outerLength="fraction"===R.lenmode?Math.round(F.w*R.len):R.len,N.inputAreaStart=0,N.inputAreaLength=Math.round(N.outerLength-R.pad.l-R.pad.r),N.labelStride=Math.max(1,Math.ceil((P+i.labelPadding)/((N.inputAreaLength-2*i.stepInset)/(R._stepCount-1)))),N.labelHeight=U,N.currentValueMaxWidth=0,N.currentValueHeight=0,N.currentValueTotalHeight=0,N.currentValueMaxLines=1,R.currentvalue.visible){var te=T.tester.append("g");q.each(function(W){var $=x(te,R,W.label),ne=$.node()&&T.bBox($.node())||{width:0,height:0},re=a.lineCount($);N.currentValueMaxWidth=Math.max(N.currentValueMaxWidth,Math.ceil(ne.width)),N.currentValueHeight=Math.max(N.currentValueHeight,Math.ceil(ne.height)),N.currentValueMaxLines=Math.max(N.currentValueMaxLines,re)}),N.currentValueTotalHeight=N.currentValueHeight+R.currentvalue.offset,te.remove()}N.height=N.currentValueTotalHeight+i.tickOffset+R.ticklen+i.labelOffset+N.labelHeight+R.pad.t+R.pad.b;var J="left";b.isRightAnchor(R)&&(N.lx-=N.outerLength,J="right"),b.isCenterAnchor(R)&&(N.lx-=N.outerLength/2,J="center");var X="top";b.isBottomAnchor(R)&&(N.ly-=N.height,X="bottom"),b.isMiddleAnchor(R)&&(N.ly-=N.height/2,X="middle"),N.outerLength=Math.ceil(N.outerLength),N.height=Math.ceil(N.height),N.lx=Math.round(N.lx),N.ly=Math.round(N.ly);var Y={y:R.y,b:N.height*s[X],t:N.height*o[X]};"fraction"===R.lenmode?(Y.l=0,Y.xl=R.x-R.len*o[J],Y.r=0,Y.xr=R.x+R.len*s[J]):(Y.x=R.x,Y.l=N.outerLength*o[J],Y.r=N.outerLength*s[J]),k.autoMargin(O,u(R),Y)}function x(O,R,q){if(R.currentvalue.visible){var P,U,N=R._dims;switch(R.currentvalue.xanchor){case"right":P=N.inputAreaLength-i.currentValueInset-N.currentValueMaxWidth,U="left";break;case"center":P=.5*N.inputAreaLength,U="middle";break;default:P=i.currentValueInset,U="left"}var F=b.ensureSingle(O,"text",i.labelClass,function(Y){Y.attr({"text-anchor":U,"data-notex":1})}),j=R.currentvalue.prefix?R.currentvalue.prefix:"";if("string"==typeof q)j+=q;else{var G=R.steps[R.active].label,te=R._gd._fullLayout._meta;te&&(G=b.templateString(G,te)),j+=G}R.currentvalue.suffix&&(j+=R.currentvalue.suffix),F.call(T.font,R.currentvalue.font).text(j).call(a.convertToTspans,R._gd);var J=a.lineCount(F);return a.positionText(F,P,(N.currentValueMaxLines+1-J)*R.currentvalue.font.size*n),F}}function g(O,R,q){b.ensureSingle(O,"rect",i.gripRectClass,function(P){P.call(_,R,O,q).style("pointer-events","all")}).attr({width:i.gripWidth,height:i.gripHeight,rx:i.gripRadius,ry:i.gripRadius}).call(l.stroke,q.bordercolor).call(l.fill,q.bgcolor).style("stroke-width",q.borderwidth+"px")}function h(O,R,q){var P=b.ensureSingle(O,"text",i.labelClass,function(F){F.attr({"text-anchor":"middle","data-notex":1})}),U=R.step.label,N=q._gd._fullLayout._meta;return N&&(U=b.templateString(U,N)),P.call(T.font,q.font).text(U).call(a.convertToTspans,q._gd),P}function y(O,R){var q=b.ensureSingle(O,"g",i.labelsClass),P=R._dims,U=q.selectAll("g."+i.labelGroupClass).data(P.labelSteps);U.enter().append("g").classed(i.labelGroupClass,!0),U.exit().remove(),U.each(function(N){var F=A.select(this);F.call(h,N,R),T.setTranslate(F,w(R,N.fraction),i.tickOffset+R.ticklen+R.font.size*n+i.labelOffset+P.currentValueTotalHeight)})}function v(O,R,q,P,U){var N=Math.round(P*(q._stepCount-1)),F=q._visibleSteps[N]._index;F!==q.active&&m(O,R,q,F,!0,U)}function m(O,R,q,P,U,N){var F=q.active;q.active=P,t(O.layout,i.name,q).applyUpdate("active",P);var j=q.steps[q.active];R.call(S,q,N),R.call(x,q),O.emit("plotly_sliderchange",{slider:q,step:q.steps[q.active],interaction:U,previousActive:F}),j&&j.method&&U&&(R._nextMethod?(R._nextMethod.step=j,R._nextMethod.doCallback=U,R._nextMethod.doTransition=N):(R._nextMethod={step:j,doCallback:U,doTransition:N},R._nextMethodRaf=window.requestAnimationFrame(function(){var G=R._nextMethod.step;G.method&&(G.execute&&k.executeAPICommand(O,G.method,G.args),R._nextMethod=null,R._nextMethodRaf=null)})))}function _(O,R,q){if(!R._context.staticPlot){var P=q.node(),U=A.select(R);O.on("mousedown",F),O.on("touchstart",F)}function N(){return q.data()[0]}function F(){var j=N();R.emit("plotly_sliderstart",{slider:j});var G=q.select("."+i.gripRectClass);A.event.stopPropagation(),A.event.preventDefault(),G.call(l.fill,j.activebgcolor);var te=E(j,A.mouse(P)[0]);function J(){var Y=N(),W=E(Y,A.mouse(P)[0]);v(R,q,Y,W,!1)}function X(){var Y=N();Y._dragging=!1,G.call(l.fill,Y.bgcolor),U.on("mouseup",null),U.on("mousemove",null),U.on("touchend",null),U.on("touchmove",null),R.emit("plotly_sliderend",{slider:Y,step:Y.steps[Y.active]})}v(R,q,j,te,!0),j._dragging=!0,U.on("mousemove",J),U.on("touchmove",J),U.on("mouseup",X),U.on("touchend",X)}}function f(O,R){var q=O.selectAll("rect."+i.tickRectClass).data(R._visibleSteps),P=R._dims;q.enter().append("rect").classed(i.tickRectClass,!0),q.exit().remove(),q.attr({width:R.tickwidth+"px","shape-rendering":"crispEdges"}),q.each(function(U,N){var F=N%P.labelStride==0,j=A.select(this);j.attr({height:F?R.ticklen:R.minorticklen}).call(l.fill,R.tickcolor),T.setTranslate(j,w(R,N/(R._stepCount-1))-.5*R.tickwidth,(F?i.tickOffset:i.minorTickOffset)+P.currentValueTotalHeight)})}function S(O,R,q){for(var P=O.select("rect."+i.gripRectClass),U=0,N=0;N<R._stepCount;N++)if(R._visibleSteps[N]._index===R.active){U=N;break}var F=w(R,U/(R._stepCount-1));if(!R._invokingCommand){var j=P;q&&R.transition.duration>0&&(j=j.transition().duration(R.transition.duration).ease(R.transition.easing)),j.attr("transform",d(F-.5*i.gripWidth,R._dims.currentValueTotalHeight))}}function w(O,R){var q=O._dims;return q.inputAreaStart+i.stepInset+(q.inputAreaLength-2*i.stepInset)*Math.min(1,Math.max(0,R))}function E(O,R){var q=O._dims;return Math.min(1,Math.max(0,(R-i.stepInset-q.inputAreaStart)/(q.inputAreaLength-2*i.stepInset-2*q.inputAreaStart)))}function L(O,R,q){var P=q._dims,U=b.ensureSingle(O,"rect",i.railTouchRectClass,function(N){N.call(_,R,O,q).style("pointer-events","all")});U.attr({width:P.inputAreaLength,height:Math.max(P.inputAreaWidth,i.tickOffset+q.ticklen+P.labelHeight)}).call(l.fill,q.bgcolor).attr("opacity",0),T.setTranslate(U,0,P.currentValueTotalHeight)}function C(O,R){var q=R._dims,P=q.inputAreaLength-2*i.railInset,U=b.ensureSingle(O,"rect",i.railRectClass);U.attr({width:P,height:i.railWidth,rx:i.railRadius,ry:i.railRadius,"shape-rendering":"crispEdges"}).call(l.stroke,R.bordercolor).call(l.fill,R.bgcolor).style("stroke-width",R.borderwidth+"px"),T.setTranslate(U,i.railInset,.5*(q.inputAreaWidth-i.railWidth)+q.currentValueTotalHeight)}ee.exports=function(O){var R=O._context.staticPlot,q=O._fullLayout,P=function(te,J){for(var X=te[i.name],Y=[],W=0;W<X.length;W++){var $=X[W];$.visible&&($._gd=J,Y.push($))}return Y}(q,O),U=q._infolayer.selectAll("g."+i.containerClassName).data(P.length>0?[0]:[]);function N(te){te._commandObserver&&(te._commandObserver.remove(),delete te._commandObserver),k.autoMargin(O,u(te))}if(U.enter().append("g").classed(i.containerClassName,!0).style("cursor",R?null:"ew-resize"),U.exit().each(function(){A.select(this).selectAll("g."+i.groupClassName).each(N)}).remove(),0!==P.length){var F=U.selectAll("g."+i.groupClassName).data(P,p);F.enter().append("g").classed(i.groupClassName,!0),F.exit().each(N).remove();for(var j=0;j<P.length;j++)c(O,P[j]);F.each(function(te){var J=A.select(this);(function(X){var Y=X._dims;Y.labelSteps=[];for(var W=X._stepCount,$=0;$<W;$+=Y.labelStride)Y.labelSteps.push({fraction:$/(W-1),step:X._visibleSteps[$]})})(te),k.manageCommandObserver(O,te,te._visibleSteps,function(X){var Y=J.data()[0];Y.active!==X.index&&(Y._dragging||m(O,J,Y,X.index,!1,!0))}),function(X,Y,W){(W.steps[W.active]||{}).visible||(W.active=W._visibleSteps[0]._index),Y.call(x,W).call(C,W).call(y,W).call(f,W).call(L,X,W).call(g,X,W);var $=W._dims;T.setTranslate(Y,$.lx+W.pad.l,$.ly+W.pad.t),Y.call(S,W,!1),Y.call(x,W)}(O,A.select(this),te)})}}},23243:function(ee,D,e){"use strict";var A=e(98292);ee.exports={moduleType:"component",name:A.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(ee,D,e){"use strict";var A=e(39898),k=e(92770),l=e(74875),T=e(73972),b=e(71828),d=b.strTranslate,a=e(91424),t=e(7901),i=e(63893),r=e(37822),n=e(18783).OPPOSITE_SIDE,o=/ [XY][0-9]* /;ee.exports={draw:function(s,u,p){var c,x=p.propContainer,g=p.propName,h=p.placeholder,y=p.traceIndex,v=p.avoid||{},m=p.attributes,_=p.transform,f=p.containerGroup,S=s._fullLayout,w=1,E=!1,L=x.title,C=(L&&L.text?L.text:"").trim(),O=L&&L.font?L.font:{},R=O.family,q=O.size,P=O.color;"title.text"===g?c="titleText":-1!==g.indexOf("axis")?c="axisTitleText":g.indexOf(!0)&&(c="colorbarTitleText");var U=s._context.edits[c];""===C?w=0:C.replace(o," % ")===h.replace(o," % ")&&(w=.2,E=!0,U||(C="")),p._meta?C=b.templateString(C,p._meta):S._meta&&(C=b.templateString(C,S._meta));var N,F=C||U;f||(f=b.ensureSingle(S._infolayer,"g","g-"+u),N=S._hColorbarMoveTitle);var j=f.selectAll("text").data(F?[0]:[]);if(j.enter().append("text"),j.text(C).attr("class",u),j.exit().remove(),!F)return f;function G(X){b.syncOrAsync([te,J],X)}function te(X){var Y;return!_&&N&&(_={}),_?(Y="",_.rotate&&(Y+="rotate("+[_.rotate,m.x,m.y]+")"),(_.offset||N)&&(Y+=d(0,(_.offset||0)-(N||0)))):Y=null,X.attr("transform",Y),X.style({"font-family":R,"font-size":A.round(q,2)+"px",fill:t.rgb(P),opacity:w*t.opacity(P),"font-weight":l.fontWeight}).attr(m).call(i.convertToTspans,s),l.previousPromises(s)}function J(X){var Y=A.select(X.node().parentNode);if(v&&v.selection&&v.side&&C){Y.attr("transform",null);var W=n[v.side],$="left"===v.side||"top"===v.side?-1:1,ne=k(v.pad)?v.pad:2,re=a.bBox(Y.node()),oe={t:0,b:0,l:0,r:0},ue=s._fullLayout._reservedMargin;for(var xe in ue)for(var Me in ue[xe])oe[Me]=Math.max(oe[Me],ue[xe][Me]);var ge=v.maxShift||$*({left:oe.l,top:oe.t,right:S.width-oe.r,bottom:S.height-oe.b}[v.side]-re[v.side]),Pe=0;if(ge<0)Pe=ge;else{var _e=v.offsetLeft||0,we=v.offsetTop||0;re.left-=_e,re.right-=_e,re.top-=we,re.bottom-=we,v.selection.each(function(){var ae=a.bBox(this);b.bBoxIntersect(re,ae,ne)&&(Pe=Math.max(Pe,$*(ae[v.side]-re[W])+ne))}),Pe=Math.min(ge,Pe),x._titleScoot=Math.abs(Pe)}if(Pe>0||ge<0){var se={left:[-Pe,0],right:[Pe,0],top:[0,-Pe],bottom:[0,Pe]}[v.side];Y.attr("transform",d(se[0],se[1]))}}}return j.call(G),U&&(C?j.on(".opacity",null):(w=0,E=!0,j.text(h).on("mouseover.opacity",function(){A.select(this).transition().duration(r.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){A.select(this).transition().duration(r.HIDE_PLACEHOLDER).style("opacity",0)})),j.call(i.makeEditable,{gd:s}).on("edit",function(X){void 0!==y?T.call("_guiRestyle",s,g,X,y):T.call("_guiRelayout",s,g,X)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(G)}).on("input",function(X){this.text(X||" ").call(i.positionText,m.x,m.y)})),j.classed("js-placeholder",E),f}}},7163:function(ee,D,e){"use strict";var A=e(41940),k=e(22399),l=e(1426).extendFlat,T=e(30962).overrideAll,b=e(35025),d=e(44467).templatedArray,a=d("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});ee.exports=T(d("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:a,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:l(b({editType:"arraydraw"}),{}),font:A({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:k.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(ee){"use strict";ee.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},64897:function(ee,D,e){"use strict";var A=e(71828),k=e(85501),l=e(7163),T=e(75909).name,b=l.buttons;function d(t,i,r){function n(o,s){return A.coerce(t,i,l,o,s)}n("visible",k(t,i,{name:"buttons",handleItemDefaults:a}).length>0)&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),A.noneOrAll(t,i,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),A.coerceFont(n,"font",r.font),n("bgcolor",r.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function a(t,i){function r(n,o){return A.coerce(t,i,b,n,o)}r("visible","skip"===t.method||Array.isArray(t.args))&&(r("method"),r("args"),r("args2"),r("label"),r("execute"))}ee.exports=function(t,i){k(t,i,{name:T,handleItemDefaults:d})}},13689:function(ee,D,e){"use strict";var A=e(39898),k=e(74875),l=e(7901),T=e(91424),b=e(71828),d=e(63893),a=e(44467).arrayEditor,t=e(18783).LINE_SPACING,i=e(75909),r=e(25849);function n(w){return w._index}function o(w,E){return+w.attr(i.menuIndexAttrName)===E._index}function s(w,E,L,C,O,R,q,P){E.active=q,a(w.layout,i.name,E).applyUpdate("active",q),"buttons"===E.type?p(w,C,null,null,E):"dropdown"===E.type&&(O.attr(i.menuIndexAttrName,"-1"),u(w,C,O,R,E),P||p(w,C,O,R,E))}function u(w,E,L,C,O){var R=b.ensureSingle(E,"g",i.headerClassName,function(j){j.style("pointer-events","all")}),q=O._dims,N={y:O.pad.t,yPad:0,x:O.pad.l,xPad:0,index:0},F={width:q.headerWidth,height:q.headerHeight};R.call(c,O,O.buttons[O.active]||i.blankHeaderOpts,w).call(f,O,N,F),b.ensureSingle(E,"text",i.headerArrowClassName,function(j){j.attr("text-anchor","end").call(T.font,O.font).text(i.arrowSymbol[O.direction])}).attr({x:q.headerWidth-i.arrowOffsetX+O.pad.l,y:q.headerHeight/2+i.textOffsetY+O.pad.t}),R.on("click",function(){L.call(S,String(o(L,O)?-1:O._index)),p(w,E,L,C,O)}),R.on("mouseover",function(){R.call(y)}),R.on("mouseout",function(){R.call(v,O)}),T.setTranslate(E,q.lx,q.ly)}function p(w,E,L,C,O){L||(L=E).attr("pointer-events","all");var R=-1==+L.attr(i.menuIndexAttrName)&&"buttons"!==O.type?[]:O.buttons,q="dropdown"===O.type?i.dropdownButtonClassName:i.buttonClassName,P=L.selectAll("g."+q).data(b.filterVisible(R)),U=P.enter().append("g").classed(q,!0),N=P.exit();"dropdown"===O.type?(U.attr("opacity","0").transition().attr("opacity","1"),N.transition().attr("opacity","0").remove()):N.remove();var F=0,j=0,G=O._dims,te=-1!==["up","down"].indexOf(O.direction);"dropdown"===O.type&&(te?j=G.headerHeight+i.gapButtonHeader:F=G.headerWidth+i.gapButtonHeader),"dropdown"===O.type&&"up"===O.direction&&(j=-i.gapButtonHeader+i.gapButton-G.openHeight),"dropdown"===O.type&&"left"===O.direction&&(F=-i.gapButtonHeader+i.gapButton-G.openWidth);var Y,W,$,J={x:G.lx+F+O.pad.l,y:G.ly+j+O.pad.t,yPad:i.gapButton,xPad:i.gapButton,index:0},X={l:J.x+O.borderwidth,t:J.y+O.borderwidth};P.each(function(Y,W){var $=A.select(this);$.call(c,O,Y,w).call(f,O,J),$.on("click",function(){A.event.defaultPrevented||(Y.execute&&(Y.args2&&O.active===W?(s(w,O,0,E,L,C,-1),k.executeAPICommand(w,Y.method,Y.args2)):(s(w,O,0,E,L,C,W),k.executeAPICommand(w,Y.method,Y.args))),w.emit("plotly_buttonclicked",{menu:O,button:Y,active:O.active}))}),$.on("mouseover",function(){$.call(y)}),$.on("mouseout",function(){$.call(v,O),P.call(h,O)})}),P.call(h,O),te?(X.w=Math.max(G.openWidth,G.headerWidth),X.h=J.y-X.t):(X.w=J.x-X.l,X.h=Math.max(G.openHeight,G.headerHeight)),X.direction=O.direction,C&&(P.size()?function(Y,W,$,ne,re,oe){var ue,xe,Me,me=re.direction,ge=re._dims,Pe=re.active;if("up"===me||"down"===me)for(xe=0,Me=0;Me<Pe;Me++)xe+=ge.heights[Me]+i.gapButton;else for(ue=0,Me=0;Me<Pe;Me++)ue+=ge.widths[Me]+i.gapButton;ne.enable(oe,ue,xe),ne.hbar&&ne.hbar.attr("opacity","0").transition().attr("opacity","1"),ne.vbar&&ne.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,C,O,X):($=!!(Y=C).vbar,(W=!!Y.hbar)&&Y.hbar.transition().attr("opacity","0").each("end",function(){W=!1,$||Y.disable()}),$&&Y.vbar.transition().attr("opacity","0").each("end",function(){$=!1,W||Y.disable()})))}function c(w,E,L,C){w.call(x,E).call(g,E,L,C)}function x(w,E){b.ensureSingle(w,"rect",i.itemRectClassName,function(L){L.attr({rx:i.rx,ry:i.ry,"shape-rendering":"crispEdges"})}).call(l.stroke,E.bordercolor).call(l.fill,E.bgcolor).style("stroke-width",E.borderwidth+"px")}function g(w,E,L,C){var O=b.ensureSingle(w,"text",i.itemTextClassName,function(P){P.attr({"text-anchor":"start","data-notex":1})}),R=L.label,q=C._fullLayout._meta;q&&(R=b.templateString(R,q)),O.call(T.font,E.font).text(R).call(d.convertToTspans,C)}function h(w,E){var L=E.active;w.each(function(C,O){var R=A.select(this);O===L&&E.showactive&&R.select("rect."+i.itemRectClassName).call(l.fill,i.activeColor)})}function y(w){w.select("rect."+i.itemRectClassName).call(l.fill,i.hoverColor)}function v(w,E){w.select("rect."+i.itemRectClassName).call(l.fill,E.bgcolor)}function m(w,E){var L=E._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},C=T.tester.selectAll("g."+i.dropdownButtonClassName).data(b.filterVisible(E.buttons));C.enter().append("g").classed(i.dropdownButtonClassName,!0);var O=-1!==["up","down"].indexOf(E.direction);C.each(function(F,j){var G=A.select(this);G.call(c,E,F,w);var te=G.select("."+i.itemTextClassName),J=te.node()&&T.bBox(te.node()).width,X=Math.max(J+i.textPadX,i.minWidth),Y=E.font.size*t,W=d.lineCount(te),$=Math.max(Y*W,i.minHeight)+i.textOffsetY;$=Math.ceil($),X=Math.ceil(X),L.widths[j]=X,L.heights[j]=$,L.height1=Math.max(L.height1,$),L.width1=Math.max(L.width1,X),O?(L.totalWidth=Math.max(L.totalWidth,X),L.openWidth=L.totalWidth,L.totalHeight+=$+i.gapButton,L.openHeight+=$+i.gapButton):(L.totalWidth+=X+i.gapButton,L.openWidth+=X+i.gapButton,L.totalHeight=Math.max(L.totalHeight,$),L.openHeight=L.totalHeight)}),O?L.totalHeight-=i.gapButton:L.totalWidth-=i.gapButton,L.headerWidth=L.width1+i.arrowPadX,L.headerHeight=L.height1,"dropdown"===E.type&&(O?(L.width1+=i.arrowPadX,L.totalHeight=L.height1):L.totalWidth=L.width1,L.totalWidth+=i.arrowPadX),C.remove();var R=L.totalWidth+E.pad.l+E.pad.r,q=L.totalHeight+E.pad.t+E.pad.b,P=w._fullLayout._size;L.lx=P.l+P.w*E.x,L.ly=P.t+P.h*(1-E.y);var U="left";b.isRightAnchor(E)&&(L.lx-=R,U="right"),b.isCenterAnchor(E)&&(L.lx-=R/2,U="center");var N="top";b.isBottomAnchor(E)&&(L.ly-=q,N="bottom"),b.isMiddleAnchor(E)&&(L.ly-=q/2,N="middle"),L.totalWidth=Math.ceil(L.totalWidth),L.totalHeight=Math.ceil(L.totalHeight),L.lx=Math.round(L.lx),L.ly=Math.round(L.ly),k.autoMargin(w,_(E),{x:E.x,y:E.y,l:R*({right:1,center:.5}[U]||0),r:R*({left:1,center:.5}[U]||0),b:q*({top:1,middle:.5}[N]||0),t:q*({bottom:1,middle:.5}[N]||0)})}function _(w){return i.autoMarginIdRoot+w._index}function f(w,E,L,C){C=C||{};var O=w.select("."+i.itemRectClassName),R=w.select("."+i.itemTextClassName),q=E.borderwidth,P=L.index,U=E._dims;T.setTranslate(w,q+L.x,q+L.y);var N=-1!==["up","down"].indexOf(E.direction),F=C.height||(N?U.heights[P]:U.height1);O.attr({x:0,y:0,width:C.width||(N?U.width1:U.widths[P]),height:F});var j=E.font.size*t,G=(d.lineCount(R)-1)*j/2;d.positionText(R,i.textOffsetX,F/2-G+i.textOffsetY),N?L.y+=U.heights[P]+L.yPad:L.x+=U.widths[P]+L.xPad,L.index++}function S(w,E){w.attr(i.menuIndexAttrName,E||"-1").selectAll("g."+i.dropdownButtonClassName).remove()}ee.exports=function(w){var E=w._fullLayout,L=b.filterVisible(E[i.name]);function C(j){k.autoMargin(w,_(j))}var O=E._menulayer.selectAll("g."+i.containerClassName).data(L.length>0?[0]:[]);if(O.enter().append("g").classed(i.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){A.select(this).selectAll("g."+i.headerGroupClassName).each(C)}).remove(),0!==L.length){var R=O.selectAll("g."+i.headerGroupClassName).data(L,n);R.enter().append("g").classed(i.headerGroupClassName,!0);for(var q=b.ensureSingle(O,"g",i.dropdownButtonGroupClassName,function(j){j.style("pointer-events","all")}),P=0;P<L.length;P++)m(w,L[P]);var F=new r(w,q,"updatemenus"+E._uid);R.enter().size()&&(q.node().parentNode.appendChild(q.node()),q.call(S)),R.exit().each(function(j){q.call(S),C(j)}).remove(),R.each(function(j){var G=A.select(this),te="dropdown"===j.type?q:null;k.manageCommandObserver(w,j,j.buttons,function(J){s(w,j,0,G,te,F,J.index,!0)}),"dropdown"===j.type?(u(w,G,q,F,j),o(q,j)&&p(w,G,q,F,j)):p(w,G,null,null,j)})}}},20763:function(ee,D,e){"use strict";var A=e(75909);ee.exports={moduleType:"component",name:A.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(ee,D,e){"use strict";ee.exports=b;var A=e(39898),k=e(7901),l=e(91424),T=e(71828);function b(d,a,t){this.gd=d,this.container=a,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}b.barWidth=2,b.barLength=20,b.barRadius=2,b.barPad=1,b.barColor="#808BA4",b.prototype.enable=function(d,a,t){var i=this.gd._fullLayout,r=i.width,n=i.height;this.position=d;var o,s,u,p,c=this.position.l,x=this.position.w,g=this.position.t,h=this.position.h,y=this.position.direction,v="down"===y,m="left"===y,_="up"===y,f=x,S=h;v||m||"right"===y||_||(this.position.direction="down",v=!0),v||_?(s=(o=c)+f,v?(u=g,S=(p=Math.min(u+S,n))-u):S=(p=g+S)-(u=Math.max(p-S,0))):(p=(u=g)+S,m?f=(s=c+f)-(o=Math.max(s-f,0)):(o=c,f=(s=Math.min(o+f,r))-o)),this._box={l:o,t:u,w:f,h:S};var w=x>f,E=b.barLength+2*b.barPad,L=b.barWidth+2*b.barPad,C=c,O=g+h;O+L>n&&(O=n-L);var R=this.container.selectAll("rect.scrollbar-horizontal").data(w?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-horizontal",!0).call(k.fill,b.barColor),w?(this.hbar=R.attr({rx:b.barRadius,ry:b.barRadius,x:C,y:O,width:E,height:L}),this._hbarXMin=C+E/2,this._hbarTranslateMax=f-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var q=h>S,P=b.barWidth+2*b.barPad,U=b.barLength+2*b.barPad,N=c+x,F=g;N+P>r&&(N=r-P);var j=this.container.selectAll("rect.scrollbar-vertical").data(q?[0]:[]);j.exit().on(".drag",null).remove(),j.enter().append("rect").classed("scrollbar-vertical",!0).call(k.fill,b.barColor),q?(this.vbar=j.attr({rx:b.barRadius,ry:b.barRadius,x:N,y:F,width:P,height:U}),this._vbarYMin=F+U/2,this._vbarTranslateMax=S-U):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var G=this.id,te=o-.5,J=q?s+P+.5:s+.5,X=u-.5,Y=w?p+L+.5:p+.5,W=i._topdefs.selectAll("#"+G).data(w||q?[0]:[]);if(W.exit().remove(),W.enter().append("clipPath").attr("id",G).append("rect"),w||q?(this._clipRect=W.select("rect").attr({x:Math.floor(te),y:Math.floor(X),width:Math.ceil(J)-Math.floor(te),height:Math.ceil(Y)-Math.floor(X)}),this.container.call(l.setClipUrl,G,this.gd),this.bg.attr({x:c,y:g,width:x,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(l.setClipUrl,null),delete this._clipRect),w||q){var $=A.behavior.drag().on("dragstart",function(){A.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call($);var ne=A.behavior.drag().on("dragstart",function(){A.event.sourceEvent.preventDefault(),A.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));w&&this.hbar.on(".drag",null).call(ne),q&&this.vbar.on(".drag",null).call(ne)}this.setTranslate(a,t)},b.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(l.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},b.prototype._onBoxDrag=function(){var d=this.translateX,a=this.translateY;this.hbar&&(d-=A.event.dx),this.vbar&&(a-=A.event.dy),this.setTranslate(d,a)},b.prototype._onBoxWheel=function(){var d=this.translateX,a=this.translateY;this.hbar&&(d+=A.event.deltaY),this.vbar&&(a+=A.event.deltaY),this.setTranslate(d,a)},b.prototype._onBarDrag=function(){var d=this.translateX,a=this.translateY;if(this.hbar){var t=d+this._hbarXMin,i=t+this._hbarTranslateMax;d=(T.constrain(A.event.x,t,i)-t)/(i-t)*(this.position.w-this._box.w)}if(this.vbar){var r=a+this._vbarYMin,n=r+this._vbarTranslateMax;a=(T.constrain(A.event.y,r,n)-r)/(n-r)*(this.position.h-this._box.h)}this.setTranslate(d,a)},b.prototype.setTranslate=function(d,a){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;d=T.constrain(d||0,0,t),a=T.constrain(a||0,0,i),this.translateX=d,this.translateY=a,this.container.call(l.setTranslate,this._box.l-this.position.l-d,this._box.t-this.position.t-a),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+d-.5),y:Math.floor(this.position.t+a-.5)}),this.hbar&&this.hbar.call(l.setTranslate,d+d/t*this._hbarTranslateMax,a),this.vbar&&this.vbar.call(l.setTranslate,d,a+a/i*this._vbarTranslateMax)}},18783:function(ee){"use strict";ee.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(ee){"use strict";ee.exports={axisRefDescription:function(D,e,A){return["If set to a",D,"axis id (e.g. *"+D+"* or","*"+D+"2*), the `"+D+"` position refers to a",D,"coordinate. If set to *paper*, the `"+D+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+A+"). If set to a",D,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+D+"2 domain* refers to the domain of the second",D," axis and a",D,"position of 0.5 refers to the","point between the",e,"and the",A,"of the domain of the","second",D,"axis."].join(" ")}}},22372:function(ee){"use strict";ee.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25b2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25bc"}}},31562:function(ee){"use strict";ee.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(ee){"use strict";ee.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(ee){"use strict";ee.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(ee){"use strict";ee.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},37822:function(ee){"use strict";ee.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(ee){"use strict";ee.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},32396:function(ee,D){"use strict";D.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],D.STYLE=D.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(ee,D){"use strict";D.xmlns="http://www.w3.org/2000/xmlns/",D.svg="http://www.w3.org/2000/svg",D.xlink="http://www.w3.org/1999/xlink",D.svgAttrs={xmlns:D.svg,"xmlns:xlink":D.xlink}},8729:function(ee,D,e){"use strict";D.version=e(11506).version,e(7417),e(98847);for(var A=e(73972),k=D.register=A.register,l=e(10641),T=Object.keys(l),b=0;b<T.length;b++){var d=T[b];"_"!==d.charAt(0)&&(D[d]=l[d]),k({moduleType:"apiMethod",name:d,fn:l[d]})}k(e(67368)),k([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),k([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(k(window.PlotlyLocales),delete window.PlotlyLocales),D.Icons=e(24255);var a=e(30211),t=e(74875);D.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},D.Fx={hover:a.hover,unhover:a.unhover,loneHover:a.loneHover,loneUnhover:a.loneUnhover},D.Snapshot=e(44511),D.PlotSchema=e(86281)},24255:function(ee){"use strict";ee.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(ee,D){"use strict";D.isLeftAnchor=function(e){return"left"===e.xanchor||"auto"===e.xanchor&&e.x<=.3333333333333333},D.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>.3333333333333333&&e.x<.6666666666666666},D.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=.6666666666666666},D.isTopAnchor=function(e){return"top"===e.yanchor||"auto"===e.yanchor&&e.y>=.6666666666666666},D.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>.3333333333333333&&e.y<.6666666666666666},D.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=.3333333333333333}},26348:function(ee,D,e){"use strict";var A=e(64872),k=A.mod,l=A.modHalf,T=Math.PI,b=2*T;function d(r){return Math.abs(r[1]-r[0])>b-1e-14}function a(r,n){return l(n-r,b)}function t(r,n){if(d(n))return!0;var o,s;n[0]<n[1]?(o=n[0],s=n[1]):(o=n[1],s=n[0]),(o=k(o,b))>(s=k(s,b))&&(s+=b);var u=k(r,b),p=u+b;return u>=o&&u<=s||p>=o&&p<=s}function i(r,n,o,s,u,p,c){u=u||0,p=p||0;var x,g,h,y,v,m=d([o,s]);function _(E,L){return[E*Math.cos(L)+u,p-E*Math.sin(L)]}m?(x=0,g=T,h=b):o<s?(x=o,h=s):(x=s,h=o),r<n?(y=r,v=n):(y=n,v=r);var f,S=Math.abs(h-x)<=T?0:1;function w(E,L,C){return"A"+[E,E]+" "+[0,S,C]+" "+_(E,L)}return m?f=null===y?"M"+_(v,x)+w(v,g,0)+w(v,h,0)+"Z":"M"+_(y,x)+w(y,g,0)+w(y,h,0)+"ZM"+_(v,x)+w(v,g,1)+w(v,h,1)+"Z":null===y?(f="M"+_(v,x)+w(v,h,0),c&&(f+="L0,0Z")):f="M"+_(y,x)+"L"+_(v,x)+w(v,h,0)+"L"+_(y,h)+w(y,x,1)+"Z",f}ee.exports={deg2rad:function(r){return r/180*T},rad2deg:function(r){return r/T*180},angleDelta:a,angleDist:function(r,n){return Math.abs(a(r,n))},isFullCircle:d,isAngleInsideSector:t,isPtInsideSector:function(r,n,o,s){return!!t(n,s)&&(o[0]<o[1]?(u=o[0],p=o[1]):(u=o[1],p=o[0]),r>=u&&r<=p);var u,p},pathArc:function(r,n,o,s,u){return i(null,r,n,o,s,u,0)},pathSector:function(r,n,o,s,u){return i(null,r,n,o,s,u,1)},pathAnnulus:function(r,n,o,s,u,p){return i(r,n,o,s,u,p,1)}}},73627:function(ee,D){"use strict";var e=Array.isArray,A=ArrayBuffer,k=DataView;function l(d){return A.isView(d)&&!(d instanceof k)}function T(d){return e(d)||l(d)}function b(d,a,t){if(T(d)){if(T(d[0])){for(var i=t,r=0;r<d.length;r++)i=a(i,d[r].length);return i}return d.length}return 0}D.isTypedArray=l,D.isArrayOrTypedArray=T,D.isArray1D=function(d){return!T(d[0])},D.ensureArray=function(d,a){return e(d)||(d=[]),d.length=a,d},D.concat=function(){var d,a,t,i,r,n,o,s,u=[],p=!0,c=0;for(t=0;t<arguments.length;t++)(n=(i=arguments[t]).length)&&(a?u.push(i):(a=i,r=n),e(i)?d=!1:(p=!1,c?d!==i.constructor&&(d=!1):d=i.constructor),c+=n);if(!c)return[];if(!u.length)return a;if(p)return a.concat.apply(a,u);if(d){for((o=new d(c)).set(a),t=0;t<u.length;t++)o.set(i=u[t],r),r+=i.length;return o}for(o=new Array(c),s=0;s<a.length;s++)o[s]=a[s];for(t=0;t<u.length;t++){for(i=u[t],s=0;s<i.length;s++)o[r+s]=i[s];r+=s}return o},D.maxRowLength=function(d){return b(d,Math.max,0)},D.minRowLength=function(d){return b(d,Math.min,1/0)}},95218:function(ee,D,e){"use strict";var A=e(92770),k=e(50606).BADNUM,l=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;ee.exports=function(T){return"string"==typeof T&&(T=T.replace(l,"")),A(T)?Number(T):k}},33306:function(ee){"use strict";ee.exports=function(D){var e=D._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(A){A.regl&&A.regl.clear({color:!0,depth:!0})})}},86367:function(ee){"use strict";ee.exports=function(D){D._responsiveChartHandler&&(window.removeEventListener("resize",D._responsiveChartHandler),delete D._responsiveChartHandler)}},96554:function(ee,D,e){"use strict";var A=e(92770),k=e(84267),l=e(9012),T=e(63282),b=e(7901),d=e(37822).DESELECTDIM,a=e(65487),t=e(30587).counter,i=e(64872).modHalf,r=e(73627).isArrayOrTypedArray;function n(o,s){var u=D.valObjectMeta[s.valType];if(s.arrayOk&&r(o))return!0;if(u.validateFunction)return u.validateFunction(o,s);var p={},c=p;return u.coerceFunction(o,{set:function(g){c=g}},p,s),c!==p}D.valObjectMeta={data_array:{coerceFunction:function(o,s,u){r(o)?s.set(o):void 0!==u&&s.set(u)}},enumerated:{coerceFunction:function(o,s,u,p){p.coerceNumber&&(o=+o),-1===p.values.indexOf(o)?s.set(u):s.set(o)},validateFunction:function(o,s){s.coerceNumber&&(o=+o);for(var u=s.values,p=0;p<u.length;p++){var c=String(u[p]);if("/"===c.charAt(0)&&"/"===c.charAt(c.length-1)){if(new RegExp(c.substr(1,c.length-2)).test(o))return!0}else if(o===u[p])return!0}return!1}},boolean:{coerceFunction:function(o,s,u){s.set(!0===o||!1===o?o:u)}},number:{coerceFunction:function(o,s,u,p){!A(o)||void 0!==p.min&&o<p.min||void 0!==p.max&&o>p.max?s.set(u):s.set(+o)}},integer:{coerceFunction:function(o,s,u,p){o%1||!A(o)||void 0!==p.min&&o<p.min||void 0!==p.max&&o>p.max?s.set(u):s.set(+o)}},string:{coerceFunction:function(o,s,u,p){s.set("string"!=typeof o?!0!==p.strict&&"number"==typeof o?String(o):u:p.noBlank&&!o?u:o)}},color:{coerceFunction:function(o,s,u){k(o).isValid()?s.set(o):s.set(u)}},colorlist:{coerceFunction:function(o,s,u){Array.isArray(o)&&o.length&&o.every(function(p){return k(p).isValid()})?s.set(o):s.set(u)}},colorscale:{coerceFunction:function(o,s,u){s.set(T.get(o,u))}},angle:{coerceFunction:function(o,s,u){"auto"===o?s.set("auto"):A(o)?s.set(i(+o,360)):s.set(u)}},subplotid:{coerceFunction:function(o,s,u,p){var c=p.regex||t(u);"string"==typeof o&&c.test(o)?s.set(o):s.set(u)},validateFunction:function(o,s){var u=s.dflt;return o===u||"string"==typeof o&&!!t(u).test(o)}},flaglist:{coerceFunction:function(o,s,u,p){if(-1===(p.extras||[]).indexOf(o))if("string"==typeof o){for(var c=o.split("+"),x=0;x<c.length;){var g=c[x];-1===p.flags.indexOf(g)||c.indexOf(g)<x?c.splice(x,1):x++}s.set(c.length?c.join("+"):u)}else s.set(u);else s.set(o)}},any:{coerceFunction:function(o,s,u){s.set(void 0===o?u:o)}},info_array:{coerceFunction:function(o,s,u,p){function c(O,R,q){var P;return void 0===q&&(q=R.dflt),D.valObjectMeta[R.valType].coerceFunction(O,{set:function(N){P=N}},q,R),P}var x=2===p.dimensions||"1-2"===p.dimensions&&Array.isArray(o)&&Array.isArray(o[0]);if(Array.isArray(o)){var g,h,y,m,_,f=p.items,S=[],w=Array.isArray(f),E=w&&x&&Array.isArray(f[0]),L=x&&w&&!E,C=w&&!L?f.length:o.length;if(u=Array.isArray(u)?u:[],x)for(g=0;g<C;g++)for(S[g]=[],y=Array.isArray(o[g])?o[g]:[],m=L?f.length:w?f[g].length:y.length,h=0;h<m;h++)void 0!==(_=c(y[h],L?f[h]:w?f[g][h]:f,(u[g]||[])[h]))&&(S[g][h]=_);else for(g=0;g<C;g++)void 0!==(_=c(o[g],w?f[g]:f,u[g]))&&(S[g]=_);s.set(S)}else s.set(u)},validateFunction:function(o,s){if(!Array.isArray(o))return!1;var u=s.items,p=Array.isArray(u),c=2===s.dimensions;if(!s.freeLength&&o.length!==u.length)return!1;for(var x=0;x<o.length;x++)if(c){if(!Array.isArray(o[x])||!s.freeLength&&o[x].length!==u[x].length)return!1;for(var g=0;g<o[x].length;g++)if(!n(o[x][g],p?u[x][g]:u))return!1}else if(!n(o[x],p?u[x]:u))return!1;return!0}}},D.coerce=function(o,s,u,p,c){var x=a(u,p).get(),g=a(o,p),h=a(s,p),y=g.get(),v=s._template;if(void 0===y&&v&&(y=a(v,p).get(),v=0),void 0===c&&(c=x.dflt),x.arrayOk&&r(y))return h.set(y),y;var m=D.valObjectMeta[x.valType].coerceFunction;m(y,h,c,x);var _=h.get();return v&&_===c&&!n(y,x)&&(m(y=a(v,p).get(),h,c,x),_=h.get()),_},D.coerce2=function(o,s,u,p,c){var x=a(o,p),g=D.coerce(o,s,u,p,c);return null!=x.get()&&g},D.coerceFont=function(o,s,u){var p={};return p.family=o(s+".family",(u=u||{}).family),p.size=o(s+".size",u.size),p.color=o(s+".color",u.color),p},D.coercePattern=function(o,s,u,p){if(o(s+".shape")){o(s+".solidity"),o(s+".size");var c="overlay"===o(s+".fillmode");if(!p){var x=o(s+".bgcolor",c?u:void 0);o(s+".fgcolor",c?b.contrast(x):u)}o(s+".fgopacity",c?.5:1)}},D.coerceHoverinfo=function(o,s,u){var p,c=s._module.attributes,x=c.hoverinfo?c:l,g=x.hoverinfo;if(1===u._dataLength){var h="all"===g.dflt?g.flags.slice():g.dflt.split("+");h.splice(h.indexOf("name"),1),p=h.join("+")}return D.coerce(o,s,x,"hoverinfo",p)},D.coerceSelectionMarkerOpacity=function(o,s){if(o.marker){var u,p,c=o.marker.opacity;void 0!==c&&(r(c)||o.selected||o.unselected||(u=c,p=d*c),s("selected.marker.opacity",u),s("unselected.marker.opacity",p))}},D.validate=n},41631:function(ee,D,e){"use strict";var A,k,l=e(84096).i$,T=e(92770),b=e(47769),d=e(64872).mod,a=e(50606),t=a.BADNUM,i=a.ONEDAY,r=a.ONEHOUR,n=a.ONEMIN,o=a.ONESEC,s=a.EPOCHJD,u=e(73972),p=e(84096).g0,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=(new Date).getFullYear()-70;function h(R){return R&&u.componentsRegistry.calendars&&"string"==typeof R&&"gregorian"!==R}function y(R,q){return String(R+Math.pow(10,q)).substr(1)}D.dateTick0=function(R,q){var N,F,P=(F=!!q,h(N=R)?F?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[N]:u.getComponentMethod("calendars","CANONICAL_TICK")[N]:F?"2000-01-02":"2000-01-01");if(q<2)return P;var U=D.dateTime2ms(P,R);return D.ms2DateTime(U+=i*(q-1),0,R)},D.dfltRange=function(R){return h(R)?u.getComponentMethod("calendars","DFLTRANGE")[R]:["2000-01-01","2001-01-01"]},D.isJSDate=function(R){return"object"==typeof R&&null!==R&&"function"==typeof R.getTime},D.dateTime2ms=function(R,q){if(D.isJSDate(R)){var P=R.getTimezoneOffset()*n,U=(R.getUTCMinutes()-R.getMinutes())*n+(R.getUTCSeconds()-R.getSeconds())*o+(R.getUTCMilliseconds()-R.getMilliseconds());if(U){var N=3*n;P=P-N/2+d(U-P+N/2,N)}return(R=Number(R)-P)>=A&&R<=k?R:t}if("string"!=typeof R&&"number"!=typeof R)return t;R=String(R);var F=h(q),j=R.charAt(0);!F||"G"!==j&&"g"!==j||(R=R.substr(1),q="");var G=F&&"chinese"===q.substr(0,7),te=R.match(G?x:c);if(!te)return t;var J=te[1],X=te[3]||"1",Y=Number(te[5]||1),W=Number(te[7]||0),$=Number(te[9]||0),ne=Number(te[11]||0);if(F){if(2===J.length)return t;var re;J=Number(J);try{var oe=u.getComponentMethod("calendars","getCal")(q);if(G){var ue="i"===X.charAt(X.length-1);X=parseInt(X,10),re=oe.newDate(J,oe.toMonthIndex(J,X,ue),Y)}else re=oe.newDate(J,Number(X),Y)}catch{return t}return re?(re.toJD()-s)*i+W*r+$*n+ne*o:t}J=2===J.length?(Number(J)+2e3-g)%100+g:Number(J),X-=1;var xe=new Date(Date.UTC(2e3,X,Y,W,$));return xe.setUTCFullYear(J),xe.getUTCMonth()!==X||xe.getUTCDate()!==Y?t:xe.getTime()+ne*o},A=D.MIN_MS=D.dateTime2ms("-9999"),k=D.MAX_MS=D.dateTime2ms("9999-12-31 23:59:59.9999"),D.isDateTime=function(R,q){return D.dateTime2ms(R,q)!==t};var v=90*i,m=3*r,_=5*n;function f(R,q,P,U,N){if((q||P||U||N)&&(R+=" "+y(q,2)+":"+y(P,2),(U||N)&&(R+=":"+y(U,2),N))){for(var F=4;N%10==0;)F-=1,N/=10;R+="."+y(N,F)}return R}D.ms2DateTime=function(R,q,P){if("number"!=typeof R||!(R>=A&&R<=k))return t;q||(q=0);var U,N,F,j,G,te,J=Math.floor(10*d(R+.05,1)),X=Math.round(R-J/10);if(h(P)){var Y=Math.floor(X/i)+s,W=Math.floor(d(R,i));try{U=u.getComponentMethod("calendars","getCal")(P).fromJD(Y).formatDate("yyyy-mm-dd")}catch{U=p("G%Y-%m-%d")(new Date(X))}if("-"===U.charAt(0))for(;U.length<11;)U="-0"+U.substr(1);else for(;U.length<10;)U="0"+U;N=q<v?Math.floor(W/r):0,F=q<v?Math.floor(W%r/n):0,j=q<m?Math.floor(W%n/o):0,G=q<_?W%o*10+J:0}else te=new Date(X),U=p("%Y-%m-%d")(te),N=q<v?te.getUTCHours():0,F=q<v?te.getUTCMinutes():0,j=q<m?te.getUTCSeconds():0,G=q<_?10*te.getUTCMilliseconds()+J:0;return f(U,N,F,j,G)},D.ms2DateTimeLocal=function(R){if(!(R>=A+i&&R<=k-i))return t;var q=Math.floor(10*d(R+.05,1)),P=new Date(Math.round(R-q/10));return f(l("%Y-%m-%d")(P),P.getHours(),P.getMinutes(),P.getSeconds(),10*P.getUTCMilliseconds()+q)},D.cleanDate=function(R,q,P){if(R===t)return q;if(D.isJSDate(R)||"number"==typeof R&&isFinite(R)){if(h(P))return b.error("JS Dates and milliseconds are incompatible with world calendars",R),q;if(!(R=D.ms2DateTimeLocal(+R))&&void 0!==q)return q}else if(!D.isDateTime(R,P))return b.error("unrecognized date",R),q;return R};var S=/%\d?f/g,w=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function L(R,q,P,U){R=R.replace(S,function(F){var j=Math.min(+F.charAt(1)||6,6);return(q/1e3%1+2).toFixed(j).substr(2).replace(/0+$/,"")||"0"});var N=new Date(Math.floor(q+.05));if(R=R.replace(w,function(){return E[P("%q")(N)]}),h(U))try{R=u.getComponentMethod("calendars","worldCalFmt")(R,q,U)}catch{return"Invalid"}return P(R)(N)}var C=[59,59.9,59.99,59.999,59.9999];D.formatDate=function(R,q,P,U,N,F){if(N=h(N)&&N,!q)if("y"===P)q=F.year;else if("m"===P)q=F.month;else{if("d"!==P)return function(j,G){var te=d(j+.05,i),J=y(Math.floor(te/r),2)+":"+y(d(Math.floor(te/n),60),2);if("M"!==G){T(G)||(G=0);var X=(100+Math.min(d(j/o,60),C[G])).toFixed(G).substr(1);G>0&&(X=X.replace(/0+$/,"").replace(/[\.]$/,"")),J+=":"+X}return J}(R,P)+"\n"+L(F.dayMonthYear,R,U,N);q=F.dayMonth+"\n"+F.year}return L(q,R,U,N)};var O=3*i;D.incrementMonth=function(R,q,P){P=h(P)&&P;var U=d(R,i);if(R=Math.round(R-U),P)try{var N=Math.round(R/i)+s,F=u.getComponentMethod("calendars","getCal")(P),j=F.fromJD(N);return q%12?F.add(j,q,"m"):F.add(j,q/12,"y"),(j.toJD()-s)*i+U}catch{b.error("invalid ms "+R+" in calendar "+P)}var G=new Date(R+O);return G.setUTCMonth(G.getUTCMonth()+q)+U-O},D.findExactDates=function(R,q){for(var P,U,N=0,F=0,j=0,G=0,te=h(q)&&u.getComponentMethod("calendars","getCal")(q),J=0;J<R.length;J++)if(T(U=R[J])){if(!(U%i))if(te)try{1===(P=te.fromJD(U/i+s)).day()?1===P.month()?N++:F++:j++}catch{}else 1===(P=new Date(U)).getUTCDate()?0===P.getUTCMonth()?N++:F++:j++}else G++;j+=F+=N;var X=R.length-G;return{exactYears:N/X,exactMonths:F/X,exactDays:j/X}}},24401:function(ee,D,e){"use strict";var A=e(39898),k=e(47769),l=e(35657),T=e(79576);function b(r){var n=r&&r.parentNode;n&&n.removeChild(r)}function d(r,n,o){var s="plotly.js-style-"+r,u=document.getElementById(s);u||((u=document.createElement("style")).setAttribute("id",s),u.appendChild(document.createTextNode("")),document.head.appendChild(u));var p=u.sheet;p.insertRule?p.insertRule(n+"{"+o+"}",0):p.addRule?p.addRule(n,o,0):k.warn("addStyleRule failed")}function a(r){var n=window.getComputedStyle(r,null),o=n.getPropertyValue("-webkit-transform")||n.getPropertyValue("-moz-transform")||n.getPropertyValue("-ms-transform")||n.getPropertyValue("-o-transform")||n.getPropertyValue("transform");return"none"===o?null:o.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(s){return+s})}function t(r){for(var n=[];i(r);)n.push(r),r=r.parentNode;return n}function i(r){return r&&(r instanceof Element||r instanceof HTMLElement)}ee.exports={getGraphDiv:function(r){var n;if("string"==typeof r){if(null===(n=document.getElementById(r)))throw new Error("No DOM element with id '"+r+"' exists on the page.");return n}if(null==r)throw new Error("DOM element provided is null or undefined");return r},isPlotDiv:function(r){var n=A.select(r);return n.node()instanceof HTMLElement&&n.size()&&n.classed("js-plotly-plot")},removeElement:b,addStyleRule:function(r,n){d("global",r,n)},addRelatedStyleRule:d,deleteRelatedStyleRule:function(r){var o=document.getElementById("plotly.js-style-"+r);o&&b(o)},getFullTransformMatrix:function(r){var n=t(r),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return n.forEach(function(s){var u=a(s);if(u){var p=l.convertCssMatrix(u);o=T.multiply(o,o,p)}}),o},getElementTransformMatrix:a,getElementAndAncestors:t,equalDomRects:function(r,n){return r&&n&&r.top===n.top&&r.left===n.left&&r.right===n.right&&r.bottom===n.bottom}}},11086:function(ee,D,e){"use strict";var A=e(15398).EventEmitter;ee.exports={init:function(l){if(l._ev instanceof A)return l;var T=new A,b=new A;return l._ev=T,l._internalEv=b,l.on=T.on.bind(T),l.once=T.once.bind(T),l.removeListener=T.removeListener.bind(T),l.removeAllListeners=T.removeAllListeners.bind(T),l._internalOn=b.on.bind(b),l._internalOnce=b.once.bind(b),l._removeInternalListener=b.removeListener.bind(b),l._removeAllInternalListeners=b.removeAllListeners.bind(b),l.emit=function(d,a){typeof jQuery<"u"&&jQuery(l).trigger(d,a),T.emit(d,a),b.emit(d,a)},l},triggerHandler:function(l,T,b){var d,a;typeof jQuery<"u"&&(d=jQuery(l).triggerHandler(T,b));var t=l._ev;if(!t)return d;var i,r=t._events[T];if(!r)return d;function n(o){return o.listener?(t.removeListener(T,o.listener),o.fired?void 0:(o.fired=!0,o.listener.apply(t,[b]))):o.apply(t,[b])}for(r=Array.isArray(r)?r:[r],i=0;i<r.length-1;i++)n(r[i]);return a=n(r[i]),void 0!==d?d:a},purge:function(l){return delete l._ev,delete l.on,delete l.once,delete l.removeListener,delete l.removeAllListeners,delete l.emit,delete l._ev,delete l._internalEv,delete l._internalOn,delete l._internalOnce,delete l._removeInternalListener,delete l._removeAllInternalListeners,l}}},1426:function(ee,D,e){"use strict";var A=e(41965),k=Array.isArray;function l(T,b,d,a){var t,i,r,n,o,s,p=T[0],c=T.length;if(2===c&&k(p)&&k(T[1])&&0===p.length){if(function(g,h){var y,v;for(y=0;y<g.length;y++){if(null!==(v=g[y])&&"object"==typeof v)return!1;void 0!==v&&(h[y]=v)}return!0}(T[1],p))return p;p.splice(0,p.length)}for(var x=1;x<c;x++)for(i in t=T[x])r=p[i],n=t[i],a&&k(n)?p[i]=n:b&&n&&(A(n)||(o=k(n)))?(o?(o=!1,s=r&&k(r)?r:[]):s=r&&A(r)?r:{},p[i]=l([s,n],b,d,a)):(void 0!==n||d)&&(p[i]=n);return p}D.extendFlat=function(){return l(arguments,!1,!1,!1)},D.extendDeep=function(){return l(arguments,!0,!1,!1)},D.extendDeepAll=function(){return l(arguments,!0,!0,!1)},D.extendDeepNoArrays=function(){return l(arguments,!0,!1,!0)}},75744:function(ee){"use strict";ee.exports=function(D){for(var e={},A=[],k=0,l=0;l<D.length;l++){var T=D[l];1!==e[T]&&(e[T]=1,A[k++]=T)}return A}},76756:function(ee){"use strict";function D(A){return!0===A.visible}function e(A){var k=A[0].trace;return!0===k.visible&&0!==k._length}ee.exports=function(A){for(var k,l=(k=A,Array.isArray(k)&&Array.isArray(k[0])&&k[0][0]&&k[0][0].trace?e:D),T=[],b=0;b<A.length;b++){var d=A[b];l(d)&&T.push(d)}return T}},41327:function(ee,D,e){"use strict";var A=e(39898),k=e(24138),l=e(30774),T=e(29261),b=e(85268),d=e(23389),a=e(47769),t=e(41965),i=e(65487),r=e(61082),n=Object.keys(k),o={"ISO-3":d,"USA-states":d,"country names":function(u){for(var p=0;p<n.length;p++){var c=n[p];if(new RegExp(k[c]).test(u.trim().toLowerCase()))return c}return a.log("Unrecognized country name: "+u+"."),!1}};function s(u){var p=u.geojson,c=window.PlotlyGeoAssets||{},x="string"==typeof p?c[p]:p;return t(x)?x:(a.error("Oops ... something went wrong when fetching "+p),!1)}ee.exports={locationToFeature:function(u,p,c){if(!p||"string"!=typeof p)return!1;var x,g,h,y=o[u](p);if(y){if("USA-states"===u)for(x=[],h=0;h<c.length;h++)(g=c[h]).properties&&g.properties.gu&&"USA"===g.properties.gu&&x.push(g);else x=c;for(h=0;h<x.length;h++)if((g=x[h]).id===y)return g;a.log(["Location with id",y,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(u){var p,c,x,g,h=u.geometry,y=h.coordinates,v=u.id,m=[];function _(f){for(var S=0;S<f.length-1;S++)if(f[S][0]>0&&f[S+1][0]<0)return S;return null}switch(p="RUS"===v||"FJI"===v?function(f){var S;if(null===_(f))S=f;else for(S=new Array(f.length),g=0;g<f.length;g++)S[g]=[f[g][0]<0?f[g][0]+360:f[g][0],f[g][1]];m.push(r.tester(S))}:"ATA"===v?function(f){var S=_(f);if(null===S)return m.push(r.tester(f));var w=new Array(f.length+1),E=0;for(g=0;g<f.length;g++)g>S?w[E++]=[f[g][0]+360,f[g][1]]:g===S?(w[E++]=f[g],w[E++]=[f[g][0],-90]):w[E++]=f[g];var L=r.tester(w);L.pts.pop(),m.push(L)}:function(f){m.push(r.tester(f))},h.type){case"MultiPolygon":for(c=0;c<y.length;c++)for(x=0;x<y[c].length;x++)p(y[c][x]);break;case"Polygon":for(c=0;c<y.length;c++)p(y[c])}return m},getTraceGeojson:s,extractTraceFeature:function(u){var p=u[0].trace,c=s(p);if(!c)return!1;var x,g={},h=[];for(x=0;x<p._length;x++){var y=u[x];(y.loc||0===y.loc)&&(g[y.loc]=y)}function v(f){var S=i(f,p.featureidkey||"id").get(),w=g[S];if(w){var E=f.geometry;if("Polygon"===E.type||"MultiPolygon"===E.type){var L={type:"Feature",id:S,geometry:E,properties:{}};L.properties.ct=function(C){var O,R=C.geometry;if("MultiPolygon"===R.type)for(var q=R.coordinates,P=0,U=0;U<q.length;U++){var N={type:"Polygon",coordinates:q[U]},F=l.default(N);F>P&&(P=F,O=N)}else O=R;return T.default(O).geometry.coordinates}(L),w.fIn=f,w.fOut=L,h.push(L)}else a.log(["Location",w.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete g[S]}switch(c.type){case"FeatureCollection":var m=c.features;for(x=0;x<m.length;x++)v(m[x]);break;case"Feature":v(c);break;default:return a.warn(["Invalid GeoJSON type",(c.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var _ in g)a.log(["Location *"+_+"*","does not have a matching feature with id-key","*"+p.featureidkey+"*."].join(" "));return h},fetchTraceGeoData:function(u){var p=window.PlotlyGeoAssets||{},c=[];function x(v){return new Promise(function(m,_){A.json(v,function(f,S){return f?(delete p[v],_(new Error(404===f.status?'GeoJSON at URL "'+v+'" does not exist.':"Unexpected error while fetching from "+v))):(p[v]=S,m(S))})})}function g(v){return new Promise(function(m,_){var f=0,S=setInterval(function(){return p[v]&&"pending"!==p[v]?(clearInterval(S),m(p[v])):f>100?(clearInterval(S),_("Unexpected error while fetching from "+v)):void f++},50)})}for(var h=0;h<u.length;h++){var y=u[h][0].trace.geojson;"string"==typeof y&&(p[y]?"pending"===p[y]&&c.push(g(y)):(p[y]="pending",c.push(x(y))))}return c},computeBbox:function(u){return b.default(u)}}},18214:function(ee,D,e){"use strict";var A=e(50606).BADNUM;D.calcTraceToLineCoords=function(k){for(var l=k[0].trace.connectgaps,T=[],b=[],d=0;d<k.length;d++){var a=k[d].lonlat;a[0]!==A?b.push(a):!l&&b.length>0&&(T.push(b),b=[])}return b.length>0&&T.push(b),T},D.makeLine=function(k){return 1===k.length?{type:"LineString",coordinates:k[0]}:{type:"MultiLineString",coordinates:k}},D.makePolygon=function(k){if(1===k.length)return{type:"Polygon",coordinates:k};for(var l=new Array(k.length),T=0;T<k.length;T++)l[T]=[k[T]];return{type:"MultiPolygon",coordinates:l}},D.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(ee,D,e){"use strict";var A,k,l,T=e(64872).mod;function b(a,t,i,r,n,o,s,u){var p=i-a,c=n-a,x=s-n,g=r-t,h=o-t,y=u-o,v=p*y-x*g;if(0===v)return null;var m=(c*y-x*h)/v,_=(c*g-p*h)/v;return _<0||_>1||m<0||m>1?null:{x:a+p*m,y:t+g*m}}function d(a,t,i,r,n){var o=r*a+n*t;if(o<0)return r*r+n*n;if(o>i){var s=r-a,u=n-t;return s*s+u*u}var p=r*t-n*a;return p*p/i}D.segmentsIntersect=b,D.segmentDistance=function(a,t,i,r,n,o,s,u){if(b(a,t,i,r,n,o,s,u))return 0;var p=i-a,c=r-t,x=s-n,g=u-o,h=p*p+c*c,y=x*x+g*g,v=Math.min(d(p,c,h,n-a,o-t),d(p,c,h,s-a,u-t),d(x,g,y,a-n,t-o),d(x,g,y,i-n,r-o));return Math.sqrt(v)},D.getTextLocation=function(a,t,i,r){if(a===k&&r===l||(A={},k=a,l=r),A[i])return A[i];var n=a.getPointAtLength(T(i-r/2,t)),o=a.getPointAtLength(T(i+r/2,t)),s=Math.atan((o.y-n.y)/(o.x-n.x)),u=a.getPointAtLength(T(i,t)),p={x:(4*u.x+n.x+o.x)/6,y:(4*u.y+n.y+o.y)/6,theta:s};return A[i]=p,p},D.clearLocationCache=function(){k=null},D.getVisibleSegment=function(a,t,i){var r,n,o=t.left,s=t.right,u=t.top,p=t.bottom,c=0,x=a.getTotalLength(),g=x;function h(v){var m=a.getPointAtLength(v);0===v?r=m:v===x&&(n=m);var _=m.x<o?o-m.x:m.x>s?m.x-s:0,f=m.y<u?u-m.y:m.y>p?m.y-p:0;return Math.sqrt(_*_+f*f)}for(var y=h(c);y;){if((c+=y+i)>g)return;y=h(c)}for(y=h(g);y;){if(c>(g-=y+i))return;y=h(g)}return{min:c,max:g,len:g-c,total:x,isClosed:0===c&&g===x&&Math.abs(r.x-n.x)<.1&&Math.abs(r.y-n.y)<.1}},D.findPointOnPath=function(a,t,i,r){for(var n,o,s,u=(r=r||{}).pathLength||a.getTotalLength(),p=r.tolerance||.001,c=r.iterationLimit||30,x=a.getPointAtLength(0)[i]>a.getPointAtLength(u)[i]?-1:1,g=0,h=0,y=u;g<c;){if(s=(o=a.getPointAtLength(n=(h+y)/2))[i]-t,Math.abs(s)<p)return o;x*s>0?y=n:h=n,g++}return o}},81697:function(ee,D,e){"use strict";var A=e(92770),k=e(84267),l=e(25075),T=e(21081),b=e(22399).defaultLine,d=e(73627).isArrayOrTypedArray,a=l(b);function t(n,o){var s=n;return s[3]*=o,s}function i(n){if(A(n))return a;var o=l(n);return o.length?o:a}function r(n){return A(n)?n:1}ee.exports={formatColor:function(n,o,s){var u,p,c,x,g,h=n.color,y=d(h),v=d(o),m=T.extractOpts(n),_=[];if(u=void 0!==m.colorscale?T.makeColorScaleFuncFromTrace(n):i,p=y?function(S,w){return void 0===S[w]?a:l(u(S[w]))}:i,c=v?function(S,w){return void 0===S[w]?1:r(S[w])}:r,y||v)for(var f=0;f<s;f++)x=p(h,f),g=c(o,f),_[f]=t(x,g);else _=t(l(h),o);return _},parseColorScale:function(n){var o=T.extractOpts(n),s=o.colorscale;return o.reversescale&&(s=T.flipScale(o.colorscale)),s.map(function(u){var p=u[0],c=k(u[1]).toRgb();return{index:p,rgb:[c.r,c.g,c.b,c.a]}})}}},28984:function(ee,D,e){"use strict";var A=e(23389);function k(l){return[l]}ee.exports={keyFun:function(l){return l.key},repeat:k,descend:A,wrap:k,unwrap:function(l){return l[0]}}},23389:function(ee){"use strict";ee.exports=function(D){return D}},39240:function(ee){"use strict";ee.exports=function(D,e){if(!e)return D;var A=1/Math.abs(e),k=A>1?(A*D+A*e)/A:D+e,l=String(k).length;if(l>16){var T=String(e).length;if(l>=String(D).length+T){var b=parseFloat(k).toPrecision(12);-1===b.indexOf("e+")&&(k=+b)}}return k}},71828:function(ee,D,e){"use strict";var A=e(39898),k=e(84096).g0,l=e(60721).WU,T=e(92770),b=e(50606),d=b.FP_SAFE,a=-d,t=b.BADNUM,i=ee.exports={};i.adjustFormat=function(W){return!W||/^\d[.]\df/.test(W)||/[.]\d%/.test(W)?W:"0.f"===W?"~f":/^\d%/.test(W)?"~%":/^\ds/.test(W)?"~s":!/^[~,.0$]/.test(W)&&/[&fps]/.test(W)?"~"+W:W};var r={};i.warnBadFormat=function(W){var $=String(W);r[$]||(r[$]=1,i.warn('encountered bad format: "'+$+'"'))},i.noFormat=function(W){return String(W)},i.numberFormat=function(W){var $;try{$=l(i.adjustFormat(W))}catch{return i.warnBadFormat(W),i.noFormat}return $},i.nestedProperty=e(65487),i.keyedContainer=e(66636),i.relativeAttr=e(6962),i.isPlainObject=e(41965),i.toLogRange=e(58163),i.relinkPrivateKeys=e(51332);var n=e(73627);i.isTypedArray=n.isTypedArray,i.isArrayOrTypedArray=n.isArrayOrTypedArray,i.isArray1D=n.isArray1D,i.ensureArray=n.ensureArray,i.concat=n.concat,i.maxRowLength=n.maxRowLength,i.minRowLength=n.minRowLength;var o=e(64872);i.mod=o.mod,i.modHalf=o.modHalf;var s=e(96554);i.valObjectMeta=s.valObjectMeta,i.coerce=s.coerce,i.coerce2=s.coerce2,i.coerceFont=s.coerceFont,i.coercePattern=s.coercePattern,i.coerceHoverinfo=s.coerceHoverinfo,i.coerceSelectionMarkerOpacity=s.coerceSelectionMarkerOpacity,i.validate=s.validate;var u=e(41631);i.dateTime2ms=u.dateTime2ms,i.isDateTime=u.isDateTime,i.ms2DateTime=u.ms2DateTime,i.ms2DateTimeLocal=u.ms2DateTimeLocal,i.cleanDate=u.cleanDate,i.isJSDate=u.isJSDate,i.formatDate=u.formatDate,i.incrementMonth=u.incrementMonth,i.dateTick0=u.dateTick0,i.dfltRange=u.dfltRange,i.findExactDates=u.findExactDates,i.MIN_MS=u.MIN_MS,i.MAX_MS=u.MAX_MS;var p=e(65888);i.findBin=p.findBin,i.sorterAsc=p.sorterAsc,i.sorterDes=p.sorterDes,i.distinctVals=p.distinctVals,i.roundUp=p.roundUp,i.sort=p.sort,i.findIndexOfMin=p.findIndexOfMin,i.sortObjectKeys=e(78607);var c=e(80038);i.aggNums=c.aggNums,i.len=c.len,i.mean=c.mean,i.median=c.median,i.midRange=c.midRange,i.variance=c.variance,i.stdev=c.stdev,i.interp=c.interp;var x=e(35657);i.init2dArray=x.init2dArray,i.transposeRagged=x.transposeRagged,i.dot=x.dot,i.translationMatrix=x.translationMatrix,i.rotationMatrix=x.rotationMatrix,i.rotationXYMatrix=x.rotationXYMatrix,i.apply3DTransform=x.apply3DTransform,i.apply2DTransform=x.apply2DTransform,i.apply2DTransform2=x.apply2DTransform2,i.convertCssMatrix=x.convertCssMatrix,i.inverseTransformMatrix=x.inverseTransformMatrix;var g=e(26348);i.deg2rad=g.deg2rad,i.rad2deg=g.rad2deg,i.angleDelta=g.angleDelta,i.angleDist=g.angleDist,i.isFullCircle=g.isFullCircle,i.isAngleInsideSector=g.isAngleInsideSector,i.isPtInsideSector=g.isPtInsideSector,i.pathArc=g.pathArc,i.pathSector=g.pathSector,i.pathAnnulus=g.pathAnnulus;var h=e(99863);i.isLeftAnchor=h.isLeftAnchor,i.isCenterAnchor=h.isCenterAnchor,i.isRightAnchor=h.isRightAnchor,i.isTopAnchor=h.isTopAnchor,i.isMiddleAnchor=h.isMiddleAnchor,i.isBottomAnchor=h.isBottomAnchor;var y=e(87642);i.segmentsIntersect=y.segmentsIntersect,i.segmentDistance=y.segmentDistance,i.getTextLocation=y.getTextLocation,i.clearLocationCache=y.clearLocationCache,i.getVisibleSegment=y.getVisibleSegment,i.findPointOnPath=y.findPointOnPath;var v=e(1426);i.extendFlat=v.extendFlat,i.extendDeep=v.extendDeep,i.extendDeepAll=v.extendDeepAll,i.extendDeepNoArrays=v.extendDeepNoArrays;var m=e(47769);i.log=m.log,i.warn=m.warn,i.error=m.error;var _=e(30587);i.counterRegex=_.counter;var f=e(79990);i.throttle=f.throttle,i.throttleDone=f.done,i.clearThrottle=f.clear;var S=e(24401);function w(W){var $={};for(var ne in W)for(var re=W[ne],oe=0;oe<re.length;oe++)$[re[oe]]=+ne;return $}i.getGraphDiv=S.getGraphDiv,i.isPlotDiv=S.isPlotDiv,i.removeElement=S.removeElement,i.addStyleRule=S.addStyleRule,i.addRelatedStyleRule=S.addRelatedStyleRule,i.deleteRelatedStyleRule=S.deleteRelatedStyleRule,i.getFullTransformMatrix=S.getFullTransformMatrix,i.getElementTransformMatrix=S.getElementTransformMatrix,i.getElementAndAncestors=S.getElementAndAncestors,i.equalDomRects=S.equalDomRects,i.clearResponsive=e(86367),i.preserveDrawingBuffer=e(45142),i.makeTraceGroups=e(77310),i._=e(15867),i.notifier=e(75046),i.filterUnique=e(75744),i.filterVisible=e(76756),i.pushUnique=e(75138),i.increment=e(39240),i.cleanNumber=e(95218),i.ensureNumber=function(W){return T(W)?(W=Number(W))>d||W<a?t:W:t},i.isIndex=function(W,$){return!(void 0!==$&&W>=$)&&T(W)&&W>=0&&W%1==0},i.noop=e(64213),i.identity=e(23389),i.repeat=function(W,$){for(var ne=new Array($),re=0;re<$;re++)ne[re]=W;return ne},i.swapAttrs=function(W,$,ne,re){ne||(ne="x"),re||(re="y");for(var oe=0;oe<$.length;oe++){var ue=$[oe],xe=i.nestedProperty(W,ue.replace("?",ne)),Me=i.nestedProperty(W,ue.replace("?",re)),me=xe.get();xe.set(Me.get()),Me.set(me)}},i.raiseToTop=function(W){W.parentNode.appendChild(W)},i.cancelTransition=function(W){return W.transition().duration(0)},i.constrain=function(W,$,ne){return $>ne?Math.max(ne,Math.min($,W)):Math.max($,Math.min(ne,W))},i.bBoxIntersect=function(W,$,ne){return W.left<=$.right+(ne=ne||0)&&$.left<=W.right+ne&&W.top<=$.bottom+ne&&$.top<=W.bottom+ne},i.simpleMap=function(W,$,ne,re,oe){for(var ue=W.length,xe=new Array(ue),Me=0;Me<ue;Me++)xe[Me]=$(W[Me],ne,re,oe);return xe},i.randstr=function W($,ne,re,oe){if(re||(re=16),void 0===ne&&(ne=24),ne<=0)return"0";var ue,xe,Me=Math.log(Math.pow(2,ne))/Math.log(re),me="";for(ue=2;Me===1/0;ue*=2)Me=Math.log(Math.pow(2,ne/ue))/Math.log(re)*ue;var pe=Me-Math.floor(Me);for(ue=0;ue<Math.floor(Me);ue++)me=Math.floor(Math.random()*re).toString(re)+me;pe&&(xe=Math.pow(re,pe),me=Math.floor(Math.random()*xe).toString(re)+me);var ge=parseInt(me,re);return $&&$[me]||ge!==1/0&&ge>=Math.pow(2,ne)?oe>10?(i.warn("randstr failed uniqueness"),me):W($,ne,re,(oe||0)+1):me},i.OptionControl=function(W,$){W||(W={}),$||($="opt");var ne={optionList:[],_newoption:function(re){re[$]=W,ne[re.name]=re,ne.optionList.push(re)}};return ne["_"+$]=W,ne},i.smooth=function(W,$){if(($=Math.round($)||0)<2)return W;var ne,re,oe,ue,xe=W.length,Me=2*xe,me=2*$-1,pe=new Array(me),ge=new Array(xe);for(ne=0;ne<me;ne++)pe[ne]=(1-Math.cos(Math.PI*(ne+1)/$))/(2*$);for(ne=0;ne<xe;ne++){for(ue=0,re=0;re<me;re++)(oe=ne+re+1-$)<-xe?oe-=Me*Math.round(oe/Me):oe>=Me&&(oe-=Me*Math.floor(oe/Me)),oe<0?oe=-1-oe:oe>=xe&&(oe=Me-1-oe),ue+=W[oe]*pe[re];ge[ne]=ue}return ge},i.syncOrAsync=function(W,$,ne){var re;function oe(){return i.syncOrAsync(W,$,ne)}for(;W.length;)if((re=(0,W.splice(0,1)[0])($))&&re.then)return re.then(oe);return ne&&ne($)},i.stripTrailingSlash=function(W){return"/"===W.substr(-1)?W.substr(0,W.length-1):W},i.noneOrAll=function(W,$,ne){if(W){var re,oe=!1,ue=!0;for(re=0;re<ne.length;re++)null!=W[ne[re]]?oe=!0:ue=!1;if(oe&&!ue)for(re=0;re<ne.length;re++)W[ne[re]]=$[ne[re]]}},i.mergeArray=function(W,$,ne,re){var oe="function"==typeof re;if(i.isArrayOrTypedArray(W))for(var ue=Math.min(W.length,$.length),xe=0;xe<ue;xe++){var Me=W[xe];$[xe][ne]=oe?re(Me):Me}},i.mergeArrayCastPositive=function(W,$,ne){return i.mergeArray(W,$,ne,function(re){var oe=+re;return isFinite(oe)&&oe>0?oe:0})},i.fillArray=function(W,$,ne,re){if(re=re||i.identity,i.isArrayOrTypedArray(W))for(var oe=0;oe<$.length;oe++)$[oe][ne]=re(W[oe])},i.castOption=function(W,$,ne,re){re=re||i.identity;var oe=i.nestedProperty(W,ne).get();return i.isArrayOrTypedArray(oe)?Array.isArray($)&&i.isArrayOrTypedArray(oe[$[0]])?re(oe[$[0]][$[1]]):re(oe[$]):oe},i.extractOption=function(W,$,ne,re){if(ne in W)return W[ne];var oe=i.nestedProperty($,re).get();return Array.isArray(oe)?void 0:oe},i.tagSelected=function(W,$,ne){var re,oe,ue=$.selectedpoints,xe=$._indexToPoints;xe&&(re=w(xe));for(var Me=0;Me<ue.length;Me++){var me=ue[Me];if(i.isIndex(me)||i.isArrayOrTypedArray(me)&&i.isIndex(me[0])&&i.isIndex(me[1])){var pe=re?re[me]:me,ge=ne?ne[pe]:pe;void 0!==(oe=ge)&&oe<W.length&&(W[ge].selected=1)}}},i.selIndices2selPoints=function(W){var $=W.selectedpoints,ne=W._indexToPoints;if(ne){for(var re=w(ne),oe=[],ue=0;ue<$.length;ue++){var xe=$[ue];if(i.isIndex(xe)){var Me=re[xe];i.isIndex(Me)&&oe.push(Me)}}return oe}return $},i.getTargetArray=function(W,$){var ne=$.target;if("string"==typeof ne&&ne){var re=i.nestedProperty(W,ne).get();return!!Array.isArray(re)&&re}return!!Array.isArray(ne)&&ne},i.minExtend=function W($,ne,re){var oe={};"object"!=typeof ne&&(ne={});var ue,xe,Me,me="pieLike"===re?-1:3,pe=Object.keys($);for(ue=0;ue<pe.length;ue++)Me=$[xe=pe[ue]],"_"!==xe.charAt(0)&&"function"!=typeof Me&&(oe[xe]="module"===xe?Me:Array.isArray(Me)?"colorscale"===xe||-1===me?Me.slice():Me.slice(0,me):i.isTypedArray(Me)?-1===me?Me.subarray():Me.subarray(0,me):Me&&"object"==typeof Me?W($[xe],ne[xe],re):Me);for(pe=Object.keys(ne),ue=0;ue<pe.length;ue++)"object"==typeof(Me=ne[xe=pe[ue]])&&xe in oe&&"object"==typeof oe[xe]||(oe[xe]=Me);return oe},i.titleCase=function(W){return W.charAt(0).toUpperCase()+W.substr(1)},i.containsAny=function(W,$){for(var ne=0;ne<$.length;ne++)if(-1!==W.indexOf($[ne]))return!0;return!1},i.isIE=function(){return void 0!==window.navigator.msSaveBlob};var E=/Version\/[\d\.]+.*Safari/;i.isSafari=function(){return E.test(window.navigator.userAgent)};var L=/iPad|iPhone|iPod/;i.isIOS=function(){return L.test(window.navigator.userAgent)};var C=/Firefox\/(\d+)\.\d+/;i.getFirefoxVersion=function(){var W=C.exec(window.navigator.userAgent);if(W&&2===W.length){var $=parseInt(W[1]);if(!isNaN($))return $}return null},i.isD3Selection=function(W){return W instanceof A.selection},i.ensureSingle=function(W,$,ne,re){var oe=W.select($+(ne?"."+ne:""));if(oe.size())return oe;var ue=W.append($);return ne&&ue.classed(ne,!0),re&&ue.call(re),ue},i.ensureSingleById=function(W,$,ne,re){var oe=W.select($+"#"+ne);if(oe.size())return oe;var ue=W.append($).attr("id",ne);return re&&ue.call(re),ue},i.objectFromPath=function(W,$){for(var ne,re=W.split("."),oe=ne={},ue=0;ue<re.length;ue++){var xe=re[ue],Me=null,me=re[ue].match(/(.*)\[([0-9]+)\]/);me?(Me=me[2],(ne=ne[xe=me[1]]=[])[Me]=ue===re.length-1?$:{},ne=ne[Me]):(ne[xe]=ue===re.length-1?$:{},ne=ne[xe])}return oe};var O=/^([^\[\.]+)\.(.+)?/,R=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function q(W){return"__"===W.slice(0,2)}i.expandObjectPaths=function(W){var $,ne,re,oe,ue,xe,Me;if("object"==typeof W&&!Array.isArray(W))for(ne in W)if(W.hasOwnProperty(ne))if($=ne.match(O)){if(oe=W[ne],q(re=$[1]))continue;delete W[ne],W[re]=i.extendDeepNoArrays(W[re]||{},i.objectFromPath(ne,i.expandObjectPaths(oe))[re])}else if($=ne.match(R)){if(oe=W[ne],q(re=$[1]))continue;if(ue=parseInt($[2]),delete W[ne],W[re]=W[re]||[],"."===$[3])Me=$[4],xe=W[re][ue]=W[re][ue]||{},i.extendDeepNoArrays(xe,i.objectFromPath(Me,i.expandObjectPaths(oe)));else{if(q(re))continue;W[re][ue]=i.expandObjectPaths(oe)}}else{if(q(ne))continue;W[ne]=i.expandObjectPaths(W[ne])}return W},i.numSeparate=function(W,$,ne){if(ne||(ne=!1),"string"!=typeof $||0===$.length)throw new Error("Separator string required for formatting!");"number"==typeof W&&(W=String(W));var re=/(\d+)(\d{3})/,oe=$.charAt(0),ue=$.charAt(1),xe=W.split("."),Me=xe[0],me=xe.length>1?oe+xe[1]:"";if(ue&&(xe.length>1||Me.length>4||ne))for(;re.test(Me);)Me=Me.replace(re,"$1"+ue+"$2");return Me+me},i.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var P=/^\w*$/;i.templateString=function(W,$){var ne={};return W.replace(i.TEMPLATE_STRING_REGEX,function(re,oe){var ue;return P.test(oe)?ue=$[oe]:(ne[oe]=ne[oe]||i.nestedProperty($,oe).get,ue=ne[oe]()),i.isValidTextValue(ue)?ue:""})};var U={max:10,count:0,name:"hovertemplate"};i.hovertemplateString=function(){return te.apply(U,arguments)};var N={max:10,count:0,name:"texttemplate"};i.texttemplateString=function(){return te.apply(N,arguments)};var F=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,j={max:10,count:0,name:"texttemplate",parseMultDiv:!0};i.texttemplateStringForShapes=function(){return te.apply(j,arguments)};var G=/^[:|\|]/;function te(W,$,ne){var re=this,oe=arguments;$||($={});var ue={};return W.replace(i.TEMPLATE_STRING_REGEX,function(xe,Me,me){var pe="_xother"===Me||"_yother"===Me,ge="_xother_"===Me||"_yother_"===Me,Pe="xother_"===Me||"yother_"===Me,_e="xother"===Me||"yother"===Me||pe||Pe||ge,we=Me;(pe||ge)&&(we=we.substring(1)),(Pe||ge)&&(we=we.substring(0,we.length-1));var se,ae,fe,Te,ve,Ee=null,ke=null;if(re.parseMultDiv){var be=(ve=(Te=we).match(F))?{key:ve[1],op:ve[2],number:Number(ve[3])}:{key:Te,op:null,number:null};we=be.key,Ee=be.op,ke=be.number}if(_e){if(void 0===(se=$[we]))return""}else for(fe=3;fe<oe.length;fe++)if(ae=oe[fe]){if(ae.hasOwnProperty(we)){se=ae[we];break}if(P.test(we)||(se=i.nestedProperty(ae,we).get(),(se=ue[we]||i.nestedProperty(ae,we).get())&&(ue[we]=se)),void 0!==se)break}if(void 0!==se&&("*"===Ee&&(se*=ke),"/"===Ee&&(se/=ke)),void 0===se&&re)return re.count<re.max&&(i.warn("Variable '"+we+"' in "+re.name+" could not be found!"),se=xe),re.count===re.max&&i.warn("Too many "+re.name+" warnings - additional warnings will be suppressed"),re.count++,xe;if(me){var Ie;if(":"===me[0]&&(se=(Ie=ne?ne.numberFormat:i.numberFormat)(me.replace(G,""))(se)),"|"===me[0]){Ie=ne?ne.timeFormat:k;var Fe=i.dateTime2ms(se);se=i.formatDate(Fe,me.replace(G,""),!1,Ie)}}else{var ce=we+"Label";$.hasOwnProperty(ce)&&(se=$[ce])}return _e&&(se="("+se+")",(pe||ge)&&(se=" "+se),(Pe||ge)&&(se+=" ")),se})}i.subplotSort=function(W,$){for(var ne=Math.min(W.length,$.length)+1,re=0,oe=0,ue=0;ue<ne;ue++){var xe=W.charCodeAt(ue)||0,Me=$.charCodeAt(ue)||0,me=xe>=48&&xe<=57,pe=Me>=48&&Me<=57;if(me&&(re=10*re+xe-48),pe&&(oe=10*oe+Me-48),!me||!pe){if(re!==oe)return re-oe;if(xe!==Me)return xe-Me}}return oe-re};var J=2e9;i.seedPseudoRandom=function(){J=2e9},i.pseudoRandom=function(){var W=J;return J=(69069*J+1)%4294967296,Math.abs(J-W)<429496729?i.pseudoRandom():J/4294967296},i.fillText=function(W,$,ne){var re=Array.isArray(ne)?function(xe){ne.push(xe)}:function(xe){ne.text=xe},oe=i.extractOption(W,$,"htx","hovertext");if(i.isValidTextValue(oe))return re(oe);var ue=i.extractOption(W,$,"tx","text");return i.isValidTextValue(ue)?re(ue):void 0},i.isValidTextValue=function(W){return W||0===W},i.formatPercent=function(W,$){$=$||0;for(var ne=(Math.round(100*W*Math.pow(10,$))*Math.pow(.1,$)).toFixed($)+"%",re=0;re<$;re++)-1!==ne.indexOf(".")&&(ne=(ne=ne.replace("0%","%")).replace(".%","%"));return ne},i.isHidden=function(W){var $=window.getComputedStyle(W).display;return!$||"none"===$},i.strTranslate=function(W,$){return W||$?"translate("+W+","+$+")":""},i.strRotate=function(W){return W?"rotate("+W+")":""},i.strScale=function(W){return 1!==W?"scale("+W+")":""},i.getTextTransform=function(W){var $=W.noCenter,ne=W.textX,re=W.textY,me=W.rotate,pe=W.scale;return pe?pe>1&&(pe=1):pe=0,i.strTranslate(W.targetX-pe*(ne+(W.anchorX||0)),W.targetY-pe*(re+(W.anchorY||0)))+i.strScale(pe)+(me?"rotate("+me+($?"":" "+ne+" "+re)+")":"")},i.setTransormAndDisplay=function(W,$){W.attr("transform",i.getTextTransform($)),W.style("display",$.scale?null:"none")},i.ensureUniformFontSize=function(W,$){var ne=i.extendFlat({},$);return ne.size=Math.max($.size,W._fullLayout.uniformtext.minsize||0),ne},i.join2=function(W,$,ne){var re=W.length;return re>1?W.slice(0,-1).join($)+ne+W[re-1]:W.join($)},i.bigFont=function(W){return Math.round(1.2*W)};var X=i.getFirefoxVersion(),Y=null!==X&&X<86;i.getPositionFromD3Event=function(){return Y?[A.event.layerX,A.event.layerY]:[A.event.offsetX,A.event.offsetY]}},41965:function(ee){"use strict";ee.exports=function(D){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(D):"[object Object]"===Object.prototype.toString.call(D)&&Object.getPrototypeOf(D).hasOwnProperty("hasOwnProperty")}},66636:function(ee,D,e){"use strict";var A=e(65487),k=/^\w*$/;ee.exports=function(l,T,b,d){var a,t,i;b=b||"name",d=d||"value";var r={};T&&T.length?(i=A(l,T),t=i.get()):t=l,T=T||"";var n={};if(t)for(a=0;a<t.length;a++)n[t[a][b]]=a;var o=k.test(d),s={set:function(u,p){var c=null===p?4:0;if(!t){if(!i||4===c)return;i.set(t=[])}var x=n[u];if(void 0===x){if(4===c)return;c|=3,n[u]=x=t.length}else p!==(o?t[x][d]:A(t[x],d).get())&&(c|=2);var g=t[x]=t[x]||{};return g[b]=u,o?g[d]=p:A(g,d).set(p),null!==p&&(c&=-5),r[x]=r[x]|c,s},get:function(u){if(t){var p=n[u];return void 0===p?void 0:o?t[p][d]:A(t[p],d).get()}},rename:function(u,p){var c=n[u];return void 0===c||(r[c]=1|r[c],n[p]=c,delete n[u],t[c][b]=p),s},remove:function(u){var p=n[u];if(void 0===p)return s;var c=t[p];if(Object.keys(c).length>2)return r[p]=2|r[p],s.set(u,null);if(o){for(a=p;a<t.length;a++)r[a]=3|r[a];for(a=p;a<t.length;a++)n[t[a][b]]--;t.splice(p,1),delete n[u]}else A(c,d).set(null),r[p]=6|r[p];return s},constructUpdate:function(){for(var u,p,c={},x=Object.keys(r),g=0;g<x.length;g++)u=T+"["+(p=x[g])+"]",t[p]?(1&r[p]&&(c[u+"."+b]=t[p][b]),2&r[p]&&(c[u+"."+d]=o?4&r[p]?null:t[p][d]:4&r[p]?null:A(t[p],d).get())):c[u]=null;return c}};return s}},15867:function(ee,D,e){"use strict";var A=e(73972);ee.exports=function(k,l){for(var T=k._context.locale,b=0;b<2;b++){for(var d=k._context.locales,a=0;a<2;a++){var t=(d[T]||{}).dictionary;if(t){var i=t[l];if(i)return i}d=A.localeRegistry}var r=T.split("-")[0];if(r===T)break;T=r}return l}},47769:function(ee,D,e){"use strict";var A=e(72075).dfltConfig,k=e(75046),l=ee.exports={};l.log=function(){var T;if(A.logging>1){var b=["LOG:"];for(T=0;T<arguments.length;T++)b.push(arguments[T]);console.trace.apply(console,b)}if(A.notifyOnLogging>1){var d=[];for(T=0;T<arguments.length;T++)d.push(arguments[T]);k(d.join("<br>"),"long")}},l.warn=function(){var T;if(A.logging>0){var b=["WARN:"];for(T=0;T<arguments.length;T++)b.push(arguments[T]);console.trace.apply(console,b)}if(A.notifyOnLogging>0){var d=[];for(T=0;T<arguments.length;T++)d.push(arguments[T]);k(d.join("<br>"),"stick")}},l.error=function(){var T;if(A.logging>0){var b=["ERROR:"];for(T=0;T<arguments.length;T++)b.push(arguments[T]);console.error.apply(console,b)}if(A.notifyOnLogging>0){var d=[];for(T=0;T<arguments.length;T++)d.push(arguments[T]);k(d.join("<br>"),"stick")}}},77310:function(ee,D,e){"use strict";var A=e(39898);ee.exports=function(k,l,T){var b=k.selectAll("g."+T.replace(/\s/g,".")).data(l,function(a){return a[0].trace.uid});b.exit().remove(),b.enter().append("g").attr("class",T),b.order();var d=k.classed("rangeplot")?"nodeRangePlot3":"node3";return b.each(function(a){a[0][d]=A.select(this)}),b}},35657:function(ee,D,e){"use strict";var A=e(79576);D.init2dArray=function(k,l){for(var T=new Array(k),b=0;b<k;b++)T[b]=new Array(l);return T},D.transposeRagged=function(k){var l,T,b=0,d=k.length;for(l=0;l<d;l++)b=Math.max(b,k[l].length);var a=new Array(b);for(l=0;l<b;l++)for(a[l]=new Array(d),T=0;T<d;T++)a[l][T]=k[T][l];return a},D.dot=function(k,l){if(!k.length||!l.length||k.length!==l.length)return null;var T,b,d=k.length;if(k[0].length)for(T=new Array(d),b=0;b<d;b++)T[b]=D.dot(k[b],l);else if(l[0].length){var a=D.transposeRagged(l);for(T=new Array(a.length),b=0;b<a.length;b++)T[b]=D.dot(k,a[b])}else for(T=0,b=0;b<d;b++)T+=k[b]*l[b];return T},D.translationMatrix=function(k,l){return[[1,0,k],[0,1,l],[0,0,1]]},D.rotationMatrix=function(k){var l=k*Math.PI/180;return[[Math.cos(l),-Math.sin(l),0],[Math.sin(l),Math.cos(l),0],[0,0,1]]},D.rotationXYMatrix=function(k,l,T){return D.dot(D.dot(D.translationMatrix(l,T),D.rotationMatrix(k)),D.translationMatrix(-l,-T))},D.apply3DTransform=function(k){return function(){var l=arguments,T=1===arguments.length?l[0]:[l[0],l[1],l[2]||0];return D.dot(k,[T[0],T[1],T[2],1]).slice(0,3)}},D.apply2DTransform=function(k){return function(){var l=arguments;3===l.length&&(l=l[0]);var T=1===arguments.length?l[0]:[l[0],l[1]];return D.dot(k,[T[0],T[1],1]).slice(0,2)}},D.apply2DTransform2=function(k){var l=D.apply2DTransform(k);return function(T){return l(T.slice(0,2)).concat(l(T.slice(2,4)))}},D.convertCssMatrix=function(k){if(k){var l=k.length;if(16===l)return k;if(6===l)return[k[0],k[1],0,0,k[2],k[3],0,0,0,0,1,0,k[4],k[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},D.inverseTransformMatrix=function(k){var l=[];return A.invert(l,k),[[l[0],l[1],l[2],l[3]],[l[4],l[5],l[6],l[7]],[l[8],l[9],l[10],l[11]],[l[12],l[13],l[14],l[15]]]}},64872:function(ee){"use strict";ee.exports={mod:function(D,e){var A=D%e;return A<0?A+e:A},modHalf:function(D,e){return Math.abs(D)>e/2?D-Math.round(D/e)*e:D}}},65487:function(ee,D,e){"use strict";var A=e(92770),k=e(73627).isArrayOrTypedArray;function l(r,n){return function(){var o,s,u,p,c,x=r;for(p=0;p<n.length-1;p++){if(-1===(o=n[p])){for(s=!0,u=[],c=0;c<x.length;c++)u[c]=l(x[c],n.slice(p+1))(),u[c]!==u[0]&&(s=!1);return s?u[0]:u}if("number"==typeof o&&!k(x)||"object"!=typeof(x=x[o])||null===x)return}if("object"==typeof x&&null!==x&&null!==(u=x[n[p]]))return u}}ee.exports=function(r,n){if(A(n))n=String(n);else if("string"!=typeof n||"[-1]"===n.substr(n.length-4))throw"bad property string";var o,s,u,p,c=n.split(".");for(p=0;p<c.length;p++)if("__"===String(c[p]).slice(0,2))throw"bad property string";for(p=0;p<c.length;){if(o=String(c[p]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(o[1])c[p]=o[1];else{if(0!==p)throw"bad property string";c.splice(0,1)}for(s=o[2].substr(1,o[2].length-2).split("]["),u=0;u<s.length;u++)p++,c.splice(p,0,Number(s[u]))}p++}return"object"!=typeof r?{set:function(){throw"bad container"},get:function(){},astr:n,parts:c,obj:r}:{set:d(r,c,n),get:l(r,c),astr:n,parts:c,obj:r}};var T=/(^|\.)args\[/;function b(r,n){return void 0===r||null===r&&!n.match(T)}function d(r,n,o){return function(s){var u,p,c=r,x="",g=[[r,x]],h=b(s,o);for(p=0;p<n.length-1;p++){if("number"==typeof(u=n[p])&&!k(c))throw"array index but container is not an array";if(-1===u){if(h=!t(c,n.slice(p+1),s,o))break;return}if(!i(c,u,n[p+1],h))break;if("object"!=typeof(c=c[u])||null===c)throw"container is not an object";x=a(x,u),g.push([c,x])}if(h){if(p===n.length-1&&(delete c[n[p]],Array.isArray(c)&&+n[p]==c.length-1))for(;c.length&&void 0===c[c.length-1];)c.pop()}else c[n[p]]=s}}function a(r,n){var o=n;return A(n)?o="["+n+"]":r&&(o="."+n),r+o}function t(r,n,o,s){var u,p=k(o),c=!0,x=o,g=s.replace("-1",0),h=!p&&b(o,g),y=n[0];for(u=0;u<r.length;u++)g=s.replace("-1",u),p&&(h=b(x=o[u%o.length],g)),h&&(c=!1),i(r,u,y,h)&&d(r[u],n,s.replace("-1",u))(x);return c}function i(r,n,o,s){if(void 0===r[n]){if(s)return!1;r[n]="number"==typeof o?[]:{}}return!0}},64213:function(ee){"use strict";ee.exports=function(){}},75046:function(ee,D,e){"use strict";var A=e(39898),k=e(92770),l=[];ee.exports=function(T,b){if(-1===l.indexOf(T)){l.push(T);var d=1e3;k(b)?d=b:"long"===b&&(d=3e3);var a=A.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0),a.selectAll(".notifier-note").data(l).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var r=A.select(this);r.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){r.transition().call(t)});for(var n=r.append("p"),o=i.split(/<br\s*\/?>/g),s=0;s<o.length;s++)s&&n.append("br"),n.append("span").text(o[s]);"stick"===b?r.transition().duration(350).style("opacity",1):r.transition().duration(700).style("opacity",1).transition().delay(d).call(t)})}function t(i){i.duration(700).style("opacity",0).each("end",function(r){var n=l.indexOf(r);-1!==n&&l.splice(n,1),A.select(this).remove()})}}},39918:function(ee,D,e){"use strict";var A=e(6964),k="data-savedcursor";ee.exports=function(l,T){var b=l.attr(k);if(T){if(!b){for(var d=(l.attr("class")||"").split(" "),a=0;a<d.length;a++){var t=d[a];0===t.indexOf("cursor-")&&l.attr(k,t.substr(7)).classed(t,!1)}l.attr(k)||l.attr(k,"!!")}A(l,T)}else b&&(l.attr(k,null),"!!"===b?A(l):A(l,b))}},61082:function(ee,D,e){"use strict";var A=e(35657).dot,k=e(50606).BADNUM,l=ee.exports={};l.tester=function(T){var b,d=T.slice(),a=d[0][0],t=a,i=d[0][1],r=i;for(d[d.length-1][0]===d[0][0]&&d[d.length-1][1]===d[0][1]||d.push(d[0]),b=1;b<d.length;b++)a=Math.min(a,d[b][0]),t=Math.max(t,d[b][0]),i=Math.min(i,d[b][1]),r=Math.max(r,d[b][1]);var n,o=!1;5===d.length&&(d[0][0]===d[1][0]?d[2][0]===d[3][0]&&d[0][1]===d[3][1]&&d[1][1]===d[2][1]&&(o=!0,n=function(p){return p[0]===d[0][0]}):d[0][1]===d[1][1]&&d[2][1]===d[3][1]&&d[0][0]===d[3][0]&&d[1][0]===d[2][0]&&(o=!0,n=function(p){return p[1]===d[0][1]}));var s=!0,u=d[0];for(b=1;b<d.length;b++)if(u[0]!==d[b][0]||u[1]!==d[b][1]){s=!1;break}return{xmin:a,xmax:t,ymin:i,ymax:r,pts:d,contains:o?function(p,c){var x=p[0],g=p[1];return!(x===k||x<a||x>t||g===k||g<i||g>r||c&&n(p))}:function(p,c){var x=p[0],g=p[1];if(x===k||x<a||x>t||g===k||g<i||g>r)return!1;var h,y,v,m,_,f=d.length,S=d[0][0],w=d[0][1],E=0;for(h=1;h<f;h++)if(y=S,v=w,S=d[h][0],w=d[h][1],!(x<(m=Math.min(y,S))||x>Math.max(y,S)||g>Math.max(v,w)))if(g<Math.min(v,w))x!==m&&E++;else{if(g===(_=S===y?g:v+(x-y)*(w-v)/(S-y)))return 1!==h||!c;g<=_&&x!==m&&E++}return E%2==1},isRect:o,degenerate:s}},l.isSegmentBent=function(T,b,d,a){var t,i,r,n=T[b],o=[T[d][0]-n[0],T[d][1]-n[1]],s=A(o,o),u=Math.sqrt(s),p=[-o[1]/u,o[0]/u];for(t=b+1;t<d;t++)if((r=A(i=[T[t][0]-n[0],T[t][1]-n[1]],o))<0||r>s||Math.abs(A(i,p))>a)return!0;return!1},l.filter=function(T,b){var d=[T[0]],a=0,t=0;function i(r){T.push(r);var n=d.length,o=a;d.splice(t+1);for(var s=o+1;s<T.length;s++)(s===T.length-1||l.isSegmentBent(T,o,s+1,b))&&(d.push(T[s]),d.length<n-2&&(a=s,t=d.length-1),o=s)}return T.length>1&&i(T.pop()),{addPt:i,raw:T,filtered:d}}},79749:function(ee,D,e){"use strict";var A=e(58617),k=e(98580);ee.exports=function(l,T,b){var d=l._fullLayout,a=!0;return d._glcanvas.each(function(t){if(t.regl)t.regl.preloadCachedCode(b);else if(!t.pick||d._has("parcoords")){try{t.regl=k({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:l._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:T||[],cachedCode:b||{}})}catch{a=!1}t.regl||(a=!1),a&&this.addEventListener("webglcontextlost",function(i){l&&l.emit&&l.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),a||A({container:d._glcontainer.node()}),a}},45142:function(ee,D,e){"use strict";var A=e(92770),k=e(35791);ee.exports=function(l){var T,n;if("string"!=typeof(T=l&&l.hasOwnProperty("userAgent")?l.userAgent:(typeof navigator<"u"&&(n=navigator.userAgent),n&&n.headers&&"string"==typeof n.headers["user-agent"]&&(n=n.headers["user-agent"]),n)))return!0;var b=k({ua:{headers:{"user-agent":T}},tablet:!0,featureDetect:!1});if(!b)for(var d=T.split(" "),a=1;a<d.length;a++)if(-1!==d[a].indexOf("Safari"))for(var t=a-1;t>-1;t--){var i=d[t];if("Version/"===i.substr(0,8)){var r=i.substr(8).split(".")[0];if(A(r)&&(r=+r),r>=13)return!0}}return b}},75138:function(ee){"use strict";ee.exports=function(D,e){if(e instanceof RegExp){for(var A=e.toString(),k=0;k<D.length;k++)if(D[k]instanceof RegExp&&D[k].toString()===A)return D;D.push(e)}else!e&&0!==e||-1!==D.indexOf(e)||D.push(e);return D}},10847:function(ee,D,e){"use strict";var A=e(71828),k=e(72075).dfltConfig,l={add:function(T,b,d,a,t){var i,r;T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},r=T.undoQueue.index,T.autoplay?T.undoQueue.inSequence||(T.autoplay=!1):(!T.undoQueue.sequence||T.undoQueue.beginSequence?(T.undoQueue.queue.splice(r,T.undoQueue.queue.length-r,i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),T.undoQueue.index+=1):i=T.undoQueue.queue[r-1],T.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(b),i.undo.args.unshift(d),i.redo.calls.push(a),i.redo.args.push(t)),T.undoQueue.queue.length>k.queueLength&&(T.undoQueue.queue.shift(),T.undoQueue.index--))},startSequence:function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!0,T.undoQueue.beginSequence=!0},stopSequence:function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!1,T.undoQueue.beginSequence=!1},undo:function(T){var b,d;if(!(void 0===T.undoQueue||isNaN(T.undoQueue.index)||T.undoQueue.index<=0)){for(T.undoQueue.index--,b=T.undoQueue.queue[T.undoQueue.index],T.undoQueue.inSequence=!0,d=0;d<b.undo.calls.length;d++)l.plotDo(T,b.undo.calls[d],b.undo.args[d]);T.undoQueue.inSequence=!1,T.autoplay=!1}},redo:function(T){var b,d;if(!(void 0===T.undoQueue||isNaN(T.undoQueue.index)||T.undoQueue.index>=T.undoQueue.queue.length)){for(b=T.undoQueue.queue[T.undoQueue.index],T.undoQueue.inSequence=!0,d=0;d<b.redo.calls.length;d++)l.plotDo(T,b.redo.calls[d],b.redo.args[d]);T.undoQueue.inSequence=!1,T.autoplay=!1,T.undoQueue.index++}},plotDo:function(T,b,d){T.autoplay=!0,d=function(a,t){for(var i,r=[],n=0;n<t.length;n++)r[n]=(i=t[n])===a?i:"object"==typeof i?Array.isArray(i)?A.extendDeep([],i):A.extendDeepAll({},i):i;return r}(T,d),b.apply(null,d)}};ee.exports=l},30587:function(ee,D){"use strict";D.counter=function(e,A,k,l){var T=(A||"")+(k?"":"$"),b=!1===l?"":"^";return"xy"===e?new RegExp(b+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+T):new RegExp(b+e+"([2-9]|[1-9][0-9]+)?"+T)}},6962:function(ee){"use strict";var D=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;ee.exports=function(A,k){for(;k;){var l=A.match(D);if(l)A=l[1];else{if(!A.match(e))throw new Error("bad relativeAttr call:"+[A,k]);A=""}if("^"!==k.charAt(0))break;k=k.slice(1)}return A&&"["!==k.charAt(0)?A+"."+k:A+k}},51332:function(ee,D,e){"use strict";var A=e(73627).isArrayOrTypedArray,k=e(41965);ee.exports=function l(T,b){for(var d in b){var a=b[d],t=T[d];if(t!==a)if("_"===d.charAt(0)||"function"==typeof a){if(d in T)continue;T[d]=a}else if(A(a)&&A(t)&&k(a[0])){if("customdata"===d||"ids"===d)continue;for(var i=Math.min(a.length,t.length),r=0;r<i;r++)t[r]!==a[r]&&k(a[r])&&k(t[r])&&l(t[r],a[r])}else k(a)&&k(t)&&(l(t,a),Object.keys(t).length||delete T[d])}}},65888:function(ee,D,e){"use strict";var A=e(92770),k=e(47769),l=e(23389),T=e(50606).BADNUM,b=1e-9;function d(r,n){return r<n}function a(r,n){return r<=n}function t(r,n){return r>n}function i(r,n){return r>=n}D.findBin=function(r,n,o){if(A(n.start))return o?Math.ceil((r-n.start)/n.size-b)-1:Math.floor((r-n.start)/n.size+b);var s,u,p=0,c=n.length,x=0,g=c>1?(n[c-1]-n[0])/(c-1):1;for(u=g>=0?o?d:a:o?i:t,r+=g*b*(o?-1:1)*(g>=0?1:-1);p<c&&x++<100;)u(n[s=Math.floor((p+c)/2)],r)?p=s+1:c=s;return x>90&&k.log("Long binary search..."),p-1},D.sorterAsc=function(r,n){return r-n},D.sorterDes=function(r,n){return n-r},D.distinctVals=function(r){var n,o=r.slice();for(o.sort(D.sorterAsc),n=o.length-1;n>-1&&o[n]===T;n--);for(var s,u=o[n]-o[0]||1,p=u/(n||1)/1e4,c=[],x=0;x<=n;x++){var g=o[x],h=g-s;void 0===s?(c.push(g),s=g):h>p&&(u=Math.min(u,h),c.push(g),s=g)}return{vals:c,minDiff:u}},D.roundUp=function(r,n,o){for(var s,u=0,p=n.length-1,c=0,x=o?0:1,g=o?1:0,h=o?Math.ceil:Math.floor;u<p&&c++<100;)n[s=h((u+p)/2)]<=r?u=s+x:p=s-g;return n[u]},D.sort=function(r,n){for(var o=0,s=0,u=1;u<r.length;u++){var p=n(r[u],r[u-1]);if(p<0?o=1:p>0&&(s=1),o&&s)return r.sort(n)}return s?r:r.reverse()},D.findIndexOfMin=function(r,n){n=n||l;for(var o,s=1/0,u=0;u<r.length;u++){var p=n(r[u]);p<s&&(s=p,o=u)}return o}},6964:function(ee){"use strict";ee.exports=function(D,e){(D.attr("class")||"").split(" ").forEach(function(A){0===A.indexOf("cursor-")&&D.classed(A,!1)}),e&&D.classed("cursor-"+e,!0)}},58617:function(ee,D,e){"use strict";var A=e(7901),k=function(){};ee.exports=function(l){for(var T in l)"function"==typeof l[T]&&(l[T]=k);l.destroy=function(){l.container.parentNode.removeChild(l.container)};var b=document.createElement("div");b.className="no-webgl",b.style.cursor="pointer",b.style.fontSize="24px",b.style.color=A.defaults[0],b.style.position="absolute",b.style.left=b.style.top="0px",b.style.width=b.style.height="100%",b.style["background-color"]=A.lightLine,b.style["z-index"]=30;var d=document.createElement("p");return d.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",d.style.position="relative",d.style.top="50%",d.style.left="50%",d.style.height="30%",d.style.width="50%",d.style.margin="-15% 0 0 -25%",b.appendChild(d),l.container.appendChild(b),l.container.style.background="#FFFFFF",l.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(ee){"use strict";ee.exports=function(D){return Object.keys(D).sort()}},80038:function(ee,D,e){"use strict";var A=e(92770),k=e(73627).isArrayOrTypedArray;D.aggNums=function(l,T,b,d){var a,t;if((!d||d>b.length)&&(d=b.length),A(T)||(T=!1),k(b[0])){for(t=new Array(d),a=0;a<d;a++)t[a]=D.aggNums(l,T,b[a]);b=t}for(a=0;a<d;a++)A(T)?A(b[a])&&(T=l(+T,+b[a])):T=b[a];return T},D.len=function(l){return D.aggNums(function(T){return T+1},0,l)},D.mean=function(l,T){return T||(T=D.len(l)),D.aggNums(function(b,d){return b+d},0,l)/T},D.midRange=function(l){if(void 0!==l&&0!==l.length)return(D.aggNums(Math.max,null,l)+D.aggNums(Math.min,null,l))/2},D.variance=function(l,T,b){return T||(T=D.len(l)),A(b)||(b=D.mean(l,T)),D.aggNums(function(d,a){return d+Math.pow(a-b,2)},0,l)/T},D.stdev=function(l,T,b){return Math.sqrt(D.variance(l,T,b))},D.median=function(l){var T=l.slice().sort();return D.interp(T,.5)},D.interp=function(l,T){if(!A(T))throw"n should be a finite number";if((T=T*l.length-.5)<0)return l[0];if(T>l.length-1)return l[l.length-1];var b=T%1;return b*l[Math.ceil(T)]+(1-b)*l[Math.floor(T)]}},78614:function(ee,D,e){"use strict";var A=e(25075);ee.exports=function(k){return k?A(k):[0,0,0,1]}},3883:function(ee,D,e){"use strict";var A=e(32396),k=e(91424),l=e(71828),T=null;ee.exports=function(){if(null!==T)return T;T=!1;var b=l.isIE()||l.isSafari()||l.isIOS();if(window.navigator.userAgent&&!b){var d=Array.from(A.CSS_DECLARATIONS).reverse(),a=window.CSS&&window.CSS.supports||window.supportsCSS;if("function"==typeof a)T=d.some(function(r){return a.apply(null,r)});else{var t=k.tester.append("image").attr("style",A.STYLE),i=window.getComputedStyle(t.node()).imageRendering;T=d.some(function(r){var n=r[1];return i===n||i===n.toLowerCase()}),t.remove()}}return T}},63893:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=k.strTranslate,T=e(77922),b=e(18783).LINE_SPACING,d=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;D.convertToTspans=function(R,q,P){var U=R.text(),N=!R.attr("data-notex")&&q&&q._context.typesetMath&&typeof MathJax<"u"&&U.match(d),F=A.select(R.node().parentNode);if(!F.empty()){var j=R.attr("class")?R.attr("class").split(" ")[0]:"text";return F.selectAll("svg."+(j+="-math")).remove(),F.selectAll("g."+j+"-group").remove(),R.style("display",null).attr({"data-unformatted":U,"data-math":"N"}),N?(q&&q._promises||[]).push(new Promise(function(te){R.style("display","none");var J=parseInt(R.node().style.fontSize,10);!function(Y,W,$){var ne,re,oe,ue,xe=parseInt((MathJax.version||"").split(".")[0]);if(2===xe||3===xe){var Me=function(){var pe="math-output-"+k.randstr({},64),ge=(ue=A.select("body").append("div").attr({id:pe}).style({visibility:"hidden",position:"absolute","font-size":W.fontSize+"px"}).text(Y.replace(a,"\\lt ").replace(t,"\\gt "))).node();return 2===xe?MathJax.Hub.Typeset(ge):MathJax.typeset([ge])},me=function(){var pe=ue.select(2===xe?".MathJax_SVG":".MathJax"),ge=!pe.empty()&&ue.select("svg").node();if(ge){var Pe,_e=ge.getBoundingClientRect();Pe=2===xe?A.select("body").select("#MathJax_SVG_glyphs"):pe.select("defs"),$(pe,Pe,_e)}else k.log("There was an error in the tex syntax.",Y),$();ue.remove()};2===xe?MathJax.Hub.Queue(function(){return re=k.extendDeepAll({},MathJax.Hub.config),oe=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},function(){if("SVG"!==(ne=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},Me,me,function(){if("SVG"!==ne)return MathJax.Hub.setRenderer(ne)},function(){return void 0!==oe&&(MathJax.Hub.processSectionDelay=oe),MathJax.Hub.Config(re)}):3===xe&&(re=k.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i,"svg"!==(ne=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Me(),me(),"svg"!==ne&&(MathJax.config.startup.output=ne),MathJax.config=re}))}else k.warn("No MathJax version:",MathJax.version)}(N[2],{fontSize:J},function(Y,W,$){F.selectAll("svg."+j).remove(),F.selectAll("g."+j+"-group").remove();var ne=Y&&Y.select("svg");if(!ne||!ne.node())return G(),void te();var re=F.append("g").classed(j+"-group",!0).attr({"pointer-events":"none","data-unformatted":U,"data-math":"Y"});re.node().appendChild(ne.node()),W&&W.node()&&ne.node().insertBefore(W.node().cloneNode(!0),ne.node().firstChild);var oe=$.width,ue=$.height;ne.attr({class:j,height:ue,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var xe=R.node().style.fill||"black",Me=ne.select("g");Me.attr({fill:xe,stroke:xe});var me=Me.node().getBoundingClientRect(),pe=me.width,ge=me.height;(pe>oe||ge>ue)&&(ne.style("overflow","hidden"),pe=(me=ne.node().getBoundingClientRect()).width,ge=me.height);var Pe=+R.attr("x"),_e=+R.attr("y"),we=-(J||R.node().getBoundingClientRect().height)/4;if("y"===j[0])re.attr({transform:"rotate("+[-90,Pe,_e]+")"+l(-pe/2,we-ge/2)});else if("l"===j[0])_e=we-ge/2;else if("a"===j[0]&&0!==j.indexOf("atitle"))Pe=0,_e=we;else{var se=R.attr("text-anchor");Pe-=pe*("middle"===se?.5:"end"===se?1:0),_e=_e+we-ge/2}ne.attr({x:Pe,y:_e}),P&&P.call(R,re),te(re)})})):G(),R}function G(){F.empty()||(j=R.attr("class")+"-math",F.select("svg."+j).remove()),R.text("").style("white-space","pre"),function(J,X){X=X.replace(p," ");var Y,W=!1,$=[],ne=-1;function re(){ne++;var ke=document.createElementNS(T.svg,"tspan");A.select(ke).attr({class:"line",dy:ne*b+"em"}),J.appendChild(ke),Y=ke;var be=$;if($=[{node:ke}],be.length>1)for(var Ie=1;Ie<be.length;Ie++)oe(be[Ie])}function oe(ke){var be,Ie=ke.type,Fe={};if("a"===Ie){be="a";var ce=ke.target,Te=ke.href,ve=ke.popup;Te&&(Fe={"xlink:xlink:show":"_blank"===ce||"_"!==ce.charAt(0)?"new":"replace",target:ce,"xlink:xlink:href":Te},ve&&(Fe.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ve+'");return false;'))}else be="tspan";ke.style&&(Fe.style=ke.style);var Ce=document.createElementNS(T.svg,be);if("sup"===Ie||"sub"===Ie){ue(Y,s),Y.appendChild(Ce);var Re=document.createElementNS(T.svg,"tspan");ue(Re,s),A.select(Re).attr("dy",o[Ie]),Fe.dy=n[Ie],Y.appendChild(Ce),Y.appendChild(Re)}else Y.appendChild(Ce);A.select(Ce).attr(Fe),Y=ke.node=Ce,$.push(ke)}function ue(ke,be){ke.appendChild(document.createTextNode(be))}function xe(ke){if(1!==$.length){var be=$.pop();ke!==be.type&&k.log("Start tag <"+be.type+"> doesnt match end tag <"+ke+">. Pretending it did match.",X),Y=$[$.length-1].node}else k.log("Ignoring unexpected end tag </"+ke+">.",X)}g.test(X)?re():(Y=J,$=[{node:J}]);for(var Me=X.split(c),me=0;me<Me.length;me++){var pe=Me[me],ge=pe.match(x),Pe=ge&&ge[2].toLowerCase(),_e=r[Pe];if("br"===Pe)re();else if(void 0===_e)ue(Y,E(pe));else if(ge[1])xe(Pe);else{var we=ge[4],se={type:Pe},ae=_(we,h);if(ae?(ae=ae.replace(f,"$1 fill:"),_e&&(ae+=";"+_e)):_e&&(ae=_e),ae&&(se.style=ae),"a"===Pe){W=!0;var fe=_(we,y);if(fe){var Ee=L(fe);Ee&&(se.href=Ee,se.target=_(we,v)||"_blank",se.popup=_(we,m))}}oe(se)}}return W}(R.node(),U)&&R.style("pointer-events","all"),D.positionText(R),P&&P.call(R)}};var a=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g,i=[["$","$"],["\\(","\\)"]],r={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},n={sub:"0.3em",sup:"-0.6em"},o={sub:"-0.21em",sup:"0.42em"},s="\u200b",u=["http:","https:","mailto:","",void 0,":"],p=D.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,x=/<(\/?)([^ >]*)(\s+(.*))?>/i,g=/<br(\s+.*)?>/i;D.BR_TAG_ALL=/<br(\s+.*)?>/gi;var h=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,y=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,v=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function _(R,q){if(!R)return null;var P=R.match(q),U=P&&(P[3]||P[4]);return U&&E(U)}var f=/(^|;)\s*color:/;D.plainText=function(R,q){for(var P=void 0!==(q=q||{}).len&&-1!==q.len?q.len:1/0,U=void 0!==q.allowedTags?q.allowedTags:["br"],N=R.split(c),F=[],j="",G=0,te=0;te<N.length;te++){var J=N[te],X=J.match(x),Y=X&&X[2].toLowerCase();if(Y)-1!==U.indexOf(Y)&&(F.push(J),j=Y);else{var W=J.length;if(G+W<P)F.push(J),G+=W;else if(G<P){var $=P-G;j&&("br"!==j||$<=3||W<=3)&&F.pop(),F.push(P>3?J.substr(0,$-3)+"...":J.substr(0,$));break}j=""}}return F.join("")};var S={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},w=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function E(R){return R.replace(w,function(q,P){return("#"===P.charAt(0)?function(U){if(!(U>1114111)){var N=String.fromCodePoint;if(N)return N(U);var F=String.fromCharCode;return U<=65535?F(U):F(55232+(U>>10),U%1024+56320)}}("x"===P.charAt(1)?parseInt(P.substr(2),16):parseInt(P.substr(1),10)):S[P])||q})}function L(R){var q=encodeURI(decodeURI(R)),P=document.createElement("a"),U=document.createElement("a");P.href=R,U.href=q;var F=U.protocol;return-1!==u.indexOf(P.protocol)&&-1!==u.indexOf(F)?q:""}function C(R,q,P){var U,N,F,j=P.horizontalAlign,G=P.verticalAlign||"top",te=R.node().getBoundingClientRect(),J=q.node().getBoundingClientRect();return N="bottom"===G?function(){return te.bottom-U.height}:"middle"===G?function(){return te.top+(te.height-U.height)/2}:function(){return te.top},F="right"===j?function(){return te.right-U.width}:"center"===j?function(){return te.left+(te.width-U.width)/2}:function(){return te.left},function(){U=this.node().getBoundingClientRect();var X=F()-J.left,Y=N()-J.top,W=P.gd||{};if(P.gd){W._fullLayout._calcInverseTransform(W);var $=k.apply3DTransform(W._fullLayout._invTransform)(X,Y);X=$[0],Y=$[1]}return this.style({top:Y+"px",left:X+"px","z-index":1e3}),this}}D.convertEntities=E,D.sanitizeHTML=function(R){R=R.replace(p," ");for(var q=document.createElement("p"),P=q,U=[],N=R.split(c),F=0;F<N.length;F++){var j=N[F],G=j.match(x),te=G&&G[2].toLowerCase();if(te in r)if(G[1])U.length&&(P=U.pop());else{var J=G[4],X=_(J,h),Y=X?{style:X}:{};if("a"===te){var W=_(J,y);if(W){var $=L(W);if($){Y.href=$;var ne=_(J,v);ne&&(Y.target=ne)}}}var re=document.createElement(te);P.appendChild(re),A.select(re).attr(Y),P=re,U.push(re)}else P.appendChild(document.createTextNode(E(j)))}return q.innerHTML},D.lineCount=function(R){return R.selectAll("tspan.line").size()||1},D.positionText=function(R,q,P){return R.each(function(){var U=A.select(this);function N(G,te){return void 0===te?null===(te=U.attr(G))&&(U.attr(G,0),te=0):U.attr(G,te),te}var F=N("x",q),j=N("y",P);"text"===this.nodeName&&U.selectAll("tspan.line").attr({x:F,y:j})})};var O="1px ";D.makeTextShadow=function(R){return O+O+O+R+", -"+O+"-"+O+O+R+", "+O+"-"+O+O+R+", -"+O+O+O+R},D.makeEditable=function(R,q){var P=q.gd,U=q.delegate,N=A.dispatch("edit","input","cancel"),F=U||R;if(R.style({"pointer-events":U?"none":"all"}),1!==R.size())throw new Error("boo");function j(){var te,J,X,Y,W;te=A.select(P).select(".svg-container"),J=te.append("div"),X=R.node().style,Y=parseFloat(X.fontSize||12),void 0===(W=q.text)&&(W=R.attr("data-unformatted")),J.classed("plugin-editable editable",!0).style({position:"absolute","font-family":X.fontFamily||"Arial","font-size":Y,color:q.fill||X.fill||"black",opacity:1,"background-color":q.background||"transparent",outline:"#ffffff33 1px solid",margin:[-Y/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(W).call(C(R,te,q)).on("blur",function(){P._editing=!1,R.text(this.textContent).style({opacity:1});var re,oe=A.select(this).attr("class");(re=oe?"."+oe.split(" ")[0]+"-math-group":"[class*=-math-group]")&&A.select(R.node().parentNode).select(re).style({opacity:0});var ue=this.textContent;A.select(this).transition().duration(0).remove(),A.select(document).on("mouseup",null),N.edit.call(R,ue)}).on("focus",function(){var re=this;P._editing=!0,A.select(document).on("mouseup",function(){if(A.event.target===re)return!1;document.activeElement===J.node()&&J.node().blur()})}).on("keyup",function(){27===A.event.which?(P._editing=!1,R.style({opacity:1}),A.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),N.cancel.call(R,this.textContent)):(N.input.call(R,this.textContent),A.select(this).call(C(R,te,q)))}).on("keydown",function(){13===A.event.which&&this.blur()}).call(G),R.style({opacity:0});var $,ne=F.attr("class");($=ne?"."+ne.split(" ")[0]+"-math-group":"[class*=-math-group]")&&A.select(R.node().parentNode).select($).style({opacity:0})}function G(te){var J=te.node(),X=document.createRange();X.selectNodeContents(J);var Y=window.getSelection();Y.removeAllRanges(),Y.addRange(X),J.focus()}return q.immediate?j():F.on("click",j),A.rebind(R,N,"on")}},79990:function(ee,D){"use strict";var e={};function A(k){k&&null!==k.timer&&(clearTimeout(k.timer),k.timer=null)}D.throttle=function(k,l,T){var b=e[k],d=Date.now();if(!b){for(var a in e)e[a].ts<d-6e4&&delete e[a];b=e[k]={ts:0,timer:null}}function t(){T(),b.ts=Date.now(),b.onDone&&(b.onDone(),b.onDone=null)}A(b),d>b.ts+l?t():b.timer=setTimeout(function(){t(),b.timer=null},l)},D.done=function(k){var l=e[k];return l&&l.timer?new Promise(function(T){var b=l.onDone;l.onDone=function(){b&&b(),T(),l.onDone=null}}):Promise.resolve()},D.clear=function(k){if(k)A(e[k]),delete e[k];else for(var l in e)D.clear(l)}},58163:function(ee,D,e){"use strict";var A=e(92770);ee.exports=function(k,l){if(k>0)return Math.log(k)/Math.LN10;var T=Math.log(Math.min(l[0],l[1]))/Math.LN10;return A(T)||(T=Math.log(Math.max(l[0],l[1]))/Math.LN10-6),T}},90973:function(ee,D,e){"use strict";var A=ee.exports={},k=e(78776).locationmodeToLayer,l=e(96892).zL;A.getTopojsonName=function(T){return[T.scope.replace(/ /g,"-"),"_",T.resolution.toString(),"m"].join("")},A.getTopojsonPath=function(T,b){return T+b+".json"},A.getTopojsonFeatures=function(T,b){return l(b,b.objects[k[T.locationmode]]).features}},37815:function(ee){"use strict";ee.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(ee){"use strict";ee.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(ee,D,e){"use strict";var A=e(73972);ee.exports=function(k){for(var l,T,b=A.layoutArrayContainers,d=A.layoutArrayRegexes,a=k.split("[")[0],t=0;t<d.length;t++)if((T=k.match(d[t]))&&0===T.index){l=T[0];break}if(l||(l=b[b.indexOf(a)]),!l)return!1;var i=k.substr(l.length);return i?!!(T=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:l,index:Number(T[1]),property:T[3]||""}:{array:l,index:"",property:""}}},30962:function(ee,D,e){"use strict";var A=e(1426).extendFlat,k=e(41965),l={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},T={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},b=l.flags.slice().concat(["fullReplot"]),d=T.flags.slice().concat("layoutReplot");function a(r){for(var n={},o=0;o<r.length;o++)n[r[o]]=!1;return n}function t(r,n,o){var s=A({},r);for(var u in s){var p=s[u];k(p)&&(s[u]=i(p,n,0,u))}return"from-root"===o&&(s.editType=n),s}function i(r,n,o,s){if(r.valType){var u=A({},r);if(u.editType=n,Array.isArray(r.items)){u.items=new Array(r.items.length);for(var p=0;p<r.items.length;p++)u.items[p]=i(r.items[p],n)}return u}return t(r,n,"_"===s.charAt(0)?"nested":"from-root")}ee.exports={traces:l,layout:T,traceFlags:function(){return a(b)},layoutFlags:function(){return a(d)},update:function(r,n){var o=n.editType;if(o&&"none"!==o)for(var s=o.split("+"),u=0;u<s.length;u++)r[s[u]]=!0},overrideAll:t}},58377:function(ee,D,e){"use strict";var A=e(92770),k=e(27812),l=e(73972),T=e(71828),b=e(74875),d=e(41675),a=e(7901),t=d.cleanId,i=d.getFromTrace,r=l.traceIs;function n(y,v){var m=y[v],_=v.charAt(0);m&&"paper"!==m&&(y[v]=t(m,_,!0))}function o(y){function v(m,_){y[m]&&(!y.title||!y.title[_])&&(y.title||(y.title={}),y.title[_]=y[m],delete y[m])}y&&("string"!=typeof y.title&&"number"!=typeof y.title||(y.title={text:y.title}),v("titlefont","font"),v("titleposition","position"),v("titleside","side"),v("titleoffset","offset"))}function s(y){if(!T.isPlainObject(y))return!1;var v=y.name;return delete y.name,delete y.showlegend,("string"==typeof v||"number"==typeof v)&&String(v)}function u(y,v,m,_){if(m&&!_)return y;if(_&&!m||!y.trim())return v;if(!v.trim())return y;var f,S=Math.min(y.length,v.length);for(f=0;f<S&&y.charAt(f)===v.charAt(f);f++);return y.substr(0,f).trim()}function p(y){var v="middle",m="center";return"string"==typeof y&&(-1!==y.indexOf("top")?v="top":-1!==y.indexOf("bottom")&&(v="bottom"),-1!==y.indexOf("left")?m="left":-1!==y.indexOf("right")&&(m="right")),v+" "+m}function c(y,v){return v in y&&"object"==typeof y[v]&&0===Object.keys(y[v]).length}D.clearPromiseQueue=function(y){Array.isArray(y._promises)&&y._promises.length>0&&T.log("Clearing previous rejected promises from queue."),y._promises=[]},D.cleanLayout=function(y){var v,m;y||(y={}),y.xaxis1&&(y.xaxis||(y.xaxis=y.xaxis1),delete y.xaxis1),y.yaxis1&&(y.yaxis||(y.yaxis=y.yaxis1),delete y.yaxis1),y.scene1&&(y.scene||(y.scene=y.scene1),delete y.scene1);var _=(b.subplotsRegistry.cartesian||{}).attrRegex,f=(b.subplotsRegistry.polar||{}).attrRegex,S=(b.subplotsRegistry.ternary||{}).attrRegex,w=(b.subplotsRegistry.gl3d||{}).attrRegex,E=Object.keys(y);for(v=0;v<E.length;v++){var L=E[v];if(_&&_.test(L)){var C=y[L];C.anchor&&"free"!==C.anchor&&(C.anchor=t(C.anchor)),C.overlaying&&(C.overlaying=t(C.overlaying)),C.type||(C.isdate?C.type="date":C.islog?C.type="log":!1===C.isdate&&!1===C.islog&&(C.type="linear")),"withzero"!==C.autorange&&"tozero"!==C.autorange||(C.autorange=!0,C.rangemode="tozero"),delete C.islog,delete C.isdate,delete C.categories,c(C,"domain")&&delete C.domain,void 0!==C.autotick&&(void 0===C.tickmode&&(C.tickmode=C.autotick?"auto":"linear"),delete C.autotick),o(C)}else if(f&&f.test(L))o(y[L].radialaxis);else if(S&&S.test(L)){var O=y[L];o(O.aaxis),o(O.baxis),o(O.caxis)}else if(w&&w.test(L)){var R=y[L],q=R.cameraposition;if(Array.isArray(q)&&4===q[0].length){var U=q[1],N=q[2],F=k([],q[0]),j=[];for(m=0;m<3;++m)j[m]=U[m]+N*F[2+4*m];R.camera={eye:{x:j[0],y:j[1],z:j[2]},center:{x:U[0],y:U[1],z:U[2]},up:{x:0,y:0,z:1}},delete R.cameraposition}o(R.xaxis),o(R.yaxis),o(R.zaxis)}}var G=Array.isArray(y.annotations)?y.annotations.length:0;for(v=0;v<G;v++){var te=y.annotations[v];T.isPlainObject(te)&&(te.ref&&("paper"===te.ref?(te.xref="paper",te.yref="paper"):"data"===te.ref&&(te.xref="x",te.yref="y"),delete te.ref),n(te,"xref"),n(te,"yref"))}var J=Array.isArray(y.shapes)?y.shapes.length:0;for(v=0;v<J;v++){var X=y.shapes[v];T.isPlainObject(X)&&(n(X,"xref"),n(X,"yref"))}var Y=Array.isArray(y.images)?y.images.length:0;for(v=0;v<Y;v++){var W=y.images[v];T.isPlainObject(W)&&(n(W,"xref"),n(W,"yref"))}var $=y.legend;return $&&($.x>3?($.x=1.02,$.xanchor="left"):$.x<-2&&($.x=-.02,$.xanchor="right"),$.y>3?($.y=1.02,$.yanchor="bottom"):$.y<-2&&($.y=-.02,$.yanchor="top")),o(y),"rotate"===y.dragmode&&(y.dragmode="orbit"),a.clean(y),y.template&&y.template.layout&&D.cleanLayout(y.template.layout),y},D.cleanData=function(y){for(var v=0;v<y.length;v++){var m,_=y[v];if("histogramy"===_.type&&"xbins"in _&&!("ybins"in _)&&(_.ybins=_.xbins,delete _.xbins),_.error_y&&"opacity"in _.error_y){var f=a.defaults,S=_.error_y.color||(r(_,"bar")?a.defaultLine:f[v%f.length]);_.error_y.color=a.addOpacity(a.rgb(S),a.opacity(S)*_.error_y.opacity),delete _.error_y.opacity}if("bardir"in _&&("h"!==_.bardir||!r(_,"bar")&&"histogram"!==_.type.substr(0,9)||(_.orientation="h",D.swapXYData(_)),delete _.bardir),"histogramy"===_.type&&D.swapXYData(_),"histogramx"!==_.type&&"histogramy"!==_.type||(_.type="histogram"),"scl"in _&&!("colorscale"in _)&&(_.colorscale=_.scl,delete _.scl),"reversescl"in _&&!("reversescale"in _)&&(_.reversescale=_.reversescl,delete _.reversescl),_.xaxis&&(_.xaxis=t(_.xaxis,"x")),_.yaxis&&(_.yaxis=t(_.yaxis,"y")),r(_,"gl3d")&&_.scene&&(_.scene=b.subplotsRegistry.gl3d.cleanId(_.scene)),!r(_,"pie-like")&&!r(_,"bar-like"))if(Array.isArray(_.textposition))for(m=0;m<_.textposition.length;m++)_.textposition[m]=p(_.textposition[m]);else _.textposition&&(_.textposition=p(_.textposition));var w=l.getModule(_);if(w&&w.colorbar){var E=w.colorbar.container,L=E?_[E]:_;L&&L.colorscale&&("YIGnBu"===L.colorscale&&(L.colorscale="YlGnBu"),"YIOrRd"===L.colorscale&&(L.colorscale="YlOrRd"))}if("surface"===_.type&&T.isPlainObject(_.contours)){var C=["x","y","z"];for(m=0;m<C.length;m++){var O=_.contours[C[m]];T.isPlainObject(O)&&(O.highlightColor&&(O.highlightcolor=O.highlightColor,delete O.highlightColor),O.highlightWidth&&(O.highlightwidth=O.highlightWidth,delete O.highlightWidth))}}if("candlestick"===_.type||"ohlc"===_.type){var R=!1!==(_.increasing||{}).showlegend,q=!1!==(_.decreasing||{}).showlegend,P=s(_.increasing),U=s(_.decreasing);if(!1!==P&&!1!==U){var N=u(P,U,R,q);N&&(_.name=N)}else!P&&!U||_.name||(_.name=P||U)}if(Array.isArray(_.transforms)){var F=_.transforms;for(m=0;m<F.length;m++){var j=F[m];if(T.isPlainObject(j))switch(j.type){case"filter":j.filtersrc&&(j.target=j.filtersrc,delete j.filtersrc),j.calendar&&(j.valuecalendar||(j.valuecalendar=j.calendar),delete j.calendar);break;case"groupby":if(j.styles=j.styles||j.style,j.styles&&!Array.isArray(j.styles)){var G=j.styles,te=Object.keys(G);j.styles=[];for(var J=0;J<te.length;J++)j.styles.push({target:te[J],value:G[te[J]]})}}}}c(_,"line")&&delete _.line,"marker"in _&&(c(_.marker,"line")&&delete _.marker.line,c(_,"marker")&&delete _.marker),a.clean(_),_.autobinx&&(delete _.autobinx,delete _.xbins),_.autobiny&&(delete _.autobiny,delete _.ybins),o(_),_.colorbar&&o(_.colorbar),_.marker&&_.marker.colorbar&&o(_.marker.colorbar),_.line&&_.line.colorbar&&o(_.line.colorbar),_.aaxis&&o(_.aaxis),_.baxis&&o(_.baxis)}},D.swapXYData=function(y){var v;if(T.swapAttrs(y,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(y.z)&&Array.isArray(y.z[0])&&(y.transpose?delete y.transpose:y.transpose=!0),y.error_x&&y.error_y){var m=y.error_y,_="copy_ystyle"in m?m.copy_ystyle:!(m.color||m.thickness||m.width);T.swapAttrs(y,["error_?.copy_ystyle"]),_&&T.swapAttrs(y,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof y.hoverinfo){var f=y.hoverinfo.split("+");for(v=0;v<f.length;v++)"x"===f[v]?f[v]="y":"y"===f[v]&&(f[v]="x");y.hoverinfo=f.join("+")}},D.coerceTraceIndices=function(y,v){if(A(v))return[v];if(!Array.isArray(v)||!v.length)return y.data.map(function(f,S){return S});if(Array.isArray(v)){for(var m=[],_=0;_<v.length;_++)T.isIndex(v[_],y.data.length)?m.push(v[_]):T.warn("trace index (",v[_],") is not a number or is out of bounds");return m}return v},D.manageArrayContainers=function(y,v,m){var _=y.obj,f=y.parts,S=f.length,w=f[S-1],E=A(w);if(E&&null===v){var L=f.slice(0,S-1).join(".");T.nestedProperty(_,L).get().splice(w,1)}else E&&void 0===y.get()&&void 0===y.get()&&(m[y.astr]=null),y.set(v)};var x=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function g(y){var v=y.search(x);if(v>0)return y.substr(0,v)}D.hasParent=function(y,v){for(var m=g(v);m;){if(m in y)return!0;m=g(m)}return!1};var h=["x","y","z"];D.clearAxisTypes=function(y,v,m){for(var _=0;_<v.length;_++)for(var f=y._fullData[_],S=0;S<3;S++){var w=i(y,f,h[S]);if(w&&"log"!==w.type){var E=w._name,L=w._id.substr(1);if("scene"===L.substr(0,5)){if(void 0!==m[L])continue;E=L+"."+E}var C=E+".type";void 0===m[E]&&void 0===m[C]&&T.nestedProperty(y.layout,C).set(null)}}}},10641:function(ee,D,e){"use strict";var A=e(72391);D._doPlot=A._doPlot,D.newPlot=A.newPlot,D.restyle=A.restyle,D.relayout=A.relayout,D.redraw=A.redraw,D.update=A.update,D._guiRestyle=A._guiRestyle,D._guiRelayout=A._guiRelayout,D._guiUpdate=A._guiUpdate,D._storeDirectGUIEdit=A._storeDirectGUIEdit,D.react=A.react,D.extendTraces=A.extendTraces,D.prependTraces=A.prependTraces,D.addTraces=A.addTraces,D.deleteTraces=A.deleteTraces,D.moveTraces=A.moveTraces,D.purge=A.purge,D.addFrames=A.addFrames,D.deleteFrames=A.deleteFrames,D.animate=A.animate,D.setPlotConfig=A.setPlotConfig;var k=e(24401).getGraphDiv,l=e(34031).eraseActiveShape;D.deleteActiveShape=function(b){return l(k(b))},D.toImage=e(403),D.validate=e(84936),D.downloadImage=e(7239);var T=e(96318);D.makeTemplate=T.makeTemplate,D.validateTemplate=T.validateTemplate},6611:function(ee,D,e){"use strict";var A=e(41965),k=e(64213),l=e(47769),T=e(65888).sorterAsc,b=e(73972);D.containerArrayMatch=e(14458);var d=D.isAddVal=function(t){return"add"===t||A(t)},a=D.isRemoveVal=function(t){return null===t||"remove"===t};D.applyContainerArrayChanges=function(t,i,r,n,o){var s=i.astr,u=b.getComponentMethod(s,"supplyLayoutDefaults"),p=b.getComponentMethod(s,"draw"),c=b.getComponentMethod(s,"drawOne"),x=n.replot||n.recalc||u===k||p===k,g=t.layout,h=t._fullLayout;if(r[""]){Object.keys(r).length>1&&l.warn("Full array edits are incompatible with other edits",s);var y=r[""][""];if(a(y))i.set(null);else{if(!Array.isArray(y))return l.warn("Unrecognized full array edit value",s,y),!0;i.set(y)}return!x&&(u(g,h),p(t),!0)}var v,m,_,f,S,w,E,C=Object.keys(r).map(Number).sort(T),O=i.get(),R=O||[],q=o(h,s).get(),P=[],U=-1,N=R.length;for(v=0;v<C.length;v++)if(f=r[_=C[v]],S=Object.keys(f),E=d(w=f[""]),_<0||_>R.length-(E?0:1))l.warn("index out of range",s,_);else if(void 0!==w)S.length>1&&l.warn("Insertion & removal are incompatible with edits to the same index.",s,_),a(w)?P.push(_):E?("add"===w&&(w={}),R.splice(_,0,w),q&&q.splice(_,0,{})):l.warn("Unrecognized full object edit value",s,_,w),-1===U&&(U=_);else for(m=0;m<S.length;m++)o(R[_],S[m],s+"["+_+"].").set(f[S[m]]);for(v=P.length-1;v>=0;v--)R.splice(P[v],1),q&&q.splice(P[v],1);if(R.length?O||i.set(R):i.set(null),x)return!1;if(u(g,h),c!==k){var F;if(-1===U)F=C;else{for(N=Math.max(R.length,N),F=[],v=0;v<C.length&&!((_=C[v])>=U);v++)F.push(_);for(v=U;v<N;v++)F.push(v)}for(v=0;v<F.length;v++)c(t,F[v])}else p(t);return!0}},72391:function(ee,D,e){"use strict";var A=e(39898),k=e(92770),l=e(57035),T=e(71828),b=T.nestedProperty,d=e(11086),a=e(10847),t=e(73972),i=e(86281),r=e(74875),n=e(89298),o=e(23608),s=e(13838),u=e(91424),p=e(7901),c=e(4305).initInteractions,x=e(77922),g=e(47322).clearOutline,h=e(72075).dfltConfig,y=e(6611),v=e(58377),m=e(61549),_=e(30962),f=e(85555).AX_NAME_PATTERN,S=0;function w(ke){var be=ke._fullLayout;be._redrawFromAutoMarginCount?be._redrawFromAutoMarginCount--:ke.emit("plotly_afterplot")}function E(ke,be){try{ke._fullLayout._paper.style("background",be)}catch(Ie){T.error(Ie)}}function L(ke,be){E(ke,p.combine(be,"white"))}function C(ke,be){if(!ke._context){ke._context=T.extendDeep({},h);var Ie=A.select("base");ke._context._baseUrl=Ie.size()&&Ie.attr("href")?window.location.href.split("#")[0]:""}var Fe,ce,Te,ve=ke._context;if(be){for(ce=Object.keys(be),Fe=0;Fe<ce.length;Fe++)"editable"!==(Te=ce[Fe])&&"edits"!==Te&&Te in ve&&(ve[Te]="setBackground"===Te&&"opaque"===be[Te]?L:be[Te]);be.plot3dPixelRatio&&!ve.plotGlPixelRatio&&(ve.plotGlPixelRatio=ve.plot3dPixelRatio);var Ce=be.editable;if(void 0!==Ce)for(ve.editable=Ce,ce=Object.keys(ve.edits),Fe=0;Fe<ce.length;Fe++)ve.edits[ce[Fe]]=Ce;if(be.edits)for(ce=Object.keys(be.edits),Fe=0;Fe<ce.length;Fe++)(Te=ce[Fe])in ve.edits&&(ve.edits[Te]=be.edits[Te]);ve._exportedPlot=be._exportedPlot}ve.staticPlot&&(ve.editable=!1,ve.edits={},ve.autosizable=!1,ve.scrollZoom=!1,ve.doubleClick=!1,ve.showTips=!1,ve.showLink=!1,ve.displayModeBar=!1),"hover"!==ve.displayModeBar||l||(ve.displayModeBar=!0),"transparent"!==ve.setBackground&&"function"==typeof ve.setBackground||(ve.setBackground=E),ve._hasZeroHeight=ve._hasZeroHeight||0===ke.clientHeight,ve._hasZeroWidth=ve._hasZeroWidth||0===ke.clientWidth;var Re=ve.scrollZoom,Oe=ve._scrollZoom={};if(!0===Re)Oe.cartesian=1,Oe.gl3d=1,Oe.geo=1,Oe.mapbox=1;else if("string"==typeof Re){var je=Re.split("+");for(Fe=0;Fe<je.length;Fe++)Oe[je[Fe]]=1}else!1!==Re&&(Oe.gl3d=1,Oe.geo=1,Oe.mapbox=1)}function O(ke,be){var Ie,Fe,ce=be+1,Te=[];for(Ie=0;Ie<ke.length;Ie++)(Fe=ke[Ie])<0?Te.push(ce+Fe):Te.push(Fe);return Te}function R(ke,be,Ie){var Fe,ce;for(Fe=0;Fe<be.length;Fe++){if((ce=be[Fe])!==parseInt(ce,10))throw new Error("all values in "+Ie+" must be integers");if(ce>=ke.data.length||ce<-ke.data.length)throw new Error(Ie+" must be valid indices for gd.data.");if(be.indexOf(ce,Fe+1)>-1||ce>=0&&be.indexOf(-ke.data.length+ce)>-1||ce<0&&be.indexOf(ke.data.length+ce)>-1)throw new Error("each index in "+Ie+" must be unique.")}}function q(ke,be,Ie){if(!Array.isArray(ke.data))throw new Error("gd.data must be an array.");if(void 0===be)throw new Error("currentIndices is a required argument.");if(Array.isArray(be)||(be=[be]),R(ke,be,"currentIndices"),void 0===Ie||Array.isArray(Ie)||(Ie=[Ie]),void 0!==Ie&&R(ke,Ie,"newIndices"),void 0!==Ie&&be.length!==Ie.length)throw new Error("current and new indices must be of equal length.")}function P(ke,be,Ie,Fe,ce){!function(Je,it,Qe,dt){var yt=T.isPlainObject(dt);if(!Array.isArray(Je.data))throw new Error("gd.data must be an array");if(!T.isPlainObject(it))throw new Error("update must be a key:value object");if(void 0===Qe)throw new Error("indices must be an integer or array of integers");for(var mt in R(Je,Qe,"indices"),it){if(!Array.isArray(it[mt])||it[mt].length!==Qe.length)throw new Error("attribute "+mt+" must be an array of length equal to indices array length");if(yt&&(!(mt in dt)||!Array.isArray(dt[mt])||dt[mt].length!==it[mt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(ke,be,Ie,Fe);for(var Te=function(Je,it,Qe,dt){var mt,at,st,Tt,At=T.isPlainObject(dt),Pt=[];for(var kt in Array.isArray(Qe)||(Qe=[Qe]),Qe=O(Qe,Je.data.length-1),it)for(var Ze=0;Ze<Qe.length;Ze++){if(mt=(at=b(Je.data[Qe[Ze]],kt)).get(),!T.isArrayOrTypedArray(st=it[kt][Ze]))throw new Error("attribute: "+kt+" index: "+Ze+" must be an array");if(!T.isArrayOrTypedArray(mt))throw new Error("cannot extend missing or non-array attribute: "+kt);if(mt.constructor!==st.constructor)throw new Error("cannot extend array with an array of a different type: "+kt);k(Tt=At?dt[kt][Ze]:dt)||(Tt=-1),Pt.push({prop:at,target:mt,insert:st,maxp:Math.floor(Tt)})}return Pt}(ke,be,Ie,Fe),ve={},Ce={},Re=0;Re<Te.length;Re++){var Oe=Te[Re].prop,qe=ce(Te[Re].target,Te[Re].insert,Te[Re].maxp);Oe.set(qe[0]),Array.isArray(ve[Oe.astr])||(ve[Oe.astr]=[]),ve[Oe.astr].push(qe[1]),Array.isArray(Ce[Oe.astr])||(Ce[Oe.astr]=[]),Ce[Oe.astr].push(Te[Re].target.length)}return{update:ve,maxPoints:Ce}}function U(ke,be){var Ie=new ke.constructor(ke.length+be.length);return Ie.set(ke),Ie.set(be,ke.length),Ie}function N(ke,be,Ie,Fe){ke=T.getGraphDiv(ke),v.clearPromiseQueue(ke);var ce={};if("string"==typeof be)ce[be]=Ie;else{if(!T.isPlainObject(be))return T.warn("Restyle fail.",be,Ie,Fe),Promise.reject();ce=T.extendFlat({},be),void 0===Fe&&(Fe=Ie)}Object.keys(ce).length&&(ke.changed=!0);var Te=v.coerceTraceIndices(ke,Fe),ve=te(ke,ce,Te),Ce=ve.flags;Ce.calc&&(ke.calcdata=void 0),Ce.clearAxisTypes&&v.clearAxisTypes(ke,Te,{});var Re=[];Ce.fullReplot?Re.push(D._doPlot):(Re.push(r.previousPromises),r.supplyDefaults(ke),Ce.markerSize&&(r.doCalcdata(ke),W(Re)),Ce.style&&Re.push(m.doTraceStyle),Ce.colorbars&&Re.push(m.doColorBars),Re.push(w)),Re.push(r.rehover,r.redrag,r.reselect),a.add(ke,N,[ke,ve.undoit,ve.traces],N,[ke,ve.redoit,ve.traces]);var Oe=T.syncOrAsync(Re,ke);return Oe&&Oe.then||(Oe=Promise.resolve()),Oe.then(function(){return ke.emit("plotly_restyle",ve.eventData),ke})}function F(ke){return void 0===ke?null:ke}function j(ke,be){return be?function(Ie,Fe,ce){var Te=b(Ie,Fe),ve=Te.set;return Te.set=function(Ce){G((ce||"")+Fe,Te.get(),Ce,ke),ve(Ce)},Te}:b}function G(ke,be,Ie,Fe){if(Array.isArray(be)||Array.isArray(Ie))for(var ce=Array.isArray(be)?be:[],Te=Array.isArray(Ie)?Ie:[],ve=Math.max(ce.length,Te.length),Ce=0;Ce<ve;Ce++)G(ke+"["+Ce+"]",ce[Ce],Te[Ce],Fe);else if(T.isPlainObject(be)||T.isPlainObject(Ie)){var Re=T.isPlainObject(be)?be:{},Oe=T.isPlainObject(Ie)?Ie:{},je=T.extendFlat({},Re,Oe);for(var qe in je)G(ke+"."+qe,Re[qe],Oe[qe],Fe)}else void 0===Fe[ke]&&(Fe[ke]=F(be))}function te(ke,be,Ie){var Fe,ce=ke._fullLayout,Te=ke._fullData,ve=ke.data,Ce=ce._guiEditing,Re=j(ce._preGUI,Ce),Oe=T.extendDeepAll({},be);J(be);var je,qe=_.traceFlags(),Je={},it={};function Qe(){return Ie.map(function(){})}function dt(jt){var Yt=n.id2name(jt);-1===je.indexOf(Yt)&&je.push(Yt)}function yt(jt){return"LAYOUT"+jt+".autorange"}function mt(jt){return"LAYOUT"+jt+".range"}function at(jt){for(var Yt=jt;Yt<Te.length;Yt++)if(Te[Yt]._input===ve[jt])return Te[Yt]}function st(jt,Yt,Gt){if(Array.isArray(jt))jt.forEach(function(on){st(on,Yt,Gt)});else if(!(jt in be)&&!v.hasParent(be,jt)){var hn;if("LAYOUT"===jt.substr(0,6))hn=Re(ke.layout,jt.replace("LAYOUT",""));else{var yn=Ie[Gt];hn=j(ce._tracePreGUI[at(yn)._fullInput.uid],Ce)(ve[yn],jt)}jt in it||(it[jt]=Qe()),void 0===it[jt][Gt]&&(it[jt][Gt]=F(hn.get())),void 0!==Yt&&hn.set(Yt)}}function Tt(jt){return function(Yt){return Te[Yt][jt]}}function At(jt){return function(Yt,Gt){return!1===Yt?Te[Ie[Gt]][jt]:null}}for(var Pt in be){if(v.hasParent(be,Pt))throw new Error("cannot set "+Pt+" and a parent attribute simultaneously");var kt,Ze,Xe,He,We,rt,nt=be[Pt];if("autobinx"!==Pt&&"autobiny"!==Pt||(Pt=Pt.charAt(Pt.length-1)+"bins",nt=Array.isArray(nt)?nt.map(At(Pt)):!1===nt?Ie.map(Tt(Pt)):null),Je[Pt]=nt,"LAYOUT"!==Pt.substr(0,6)){for(it[Pt]=Qe(),Fe=0;Fe<Ie.length;Fe++)if(kt=ve[Ie[Fe]],Ze=at(Ie[Fe]),He=(Xe=j(ce._tracePreGUI[Ze._fullInput.uid],Ce)(kt,Pt)).get(),void 0!==(We=Array.isArray(nt)?nt[Fe%nt.length]:nt)){var ze=Xe.parts[Xe.parts.length-1],Be=Pt.substr(0,Pt.length-ze.length-1),tt=Be?Be+".":"",et=Be?b(Ze,Be).get():Ze;if((rt=i.getTraceValObject(Ze,Xe.parts))&&rt.impliedEdits&&null!==We)for(var gt in rt.impliedEdits)st(T.relativeAttr(Pt,gt),rt.impliedEdits[gt],Fe);else if("thicknessmode"!==ze&&"lenmode"!==ze||He===We||"fraction"!==We&&"pixels"!==We||!et){if("type"===Pt&&("pie"===We!=("pie"===He)||"funnelarea"===We!=("funnelarea"===He))){var pt="x",vt="y";"bar"!==We&&"bar"!==He||"h"!==kt.orientation||(pt="y",vt="x"),T.swapAttrs(kt,["?","?src"],"labels",pt),T.swapAttrs(kt,["d?","?0"],"label",pt),T.swapAttrs(kt,["?","?src"],"values",vt),"pie"===He||"funnelarea"===He?(b(kt,"marker.color").set(b(kt,"marker.colors").get()),ce._pielayer.selectAll("g.trace").remove()):t.traceIs(kt,"cartesian")&&b(kt,"marker.colors").set(b(kt,"marker.color").get())}}else{var ut=ce._size,wt=et.orient,ct="top"===wt||"bottom"===wt;if("thicknessmode"===ze){var ft=ct?ut.h:ut.w;st(tt+"thickness",et.thickness*("fraction"===We?1/ft:ft),Fe)}else{var bt=ct?ut.w:ut.h;st(tt+"len",et.len*("fraction"===We?1/bt:bt),Fe)}}if(it[Pt][Fe]=F(He),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Pt)){if("orientation"===Pt){Xe.set(We);var It=kt.x&&!kt.y?"h":"v";if((Xe.get()||It)===Ze.orientation)continue}else"orientationaxes"===Pt&&(kt.orientation={v:"h",h:"v"}[Ze.orientation]);v.swapXYData(kt),qe.calc=qe.clearAxisTypes=!0}else-1!==r.dataArrayContainers.indexOf(Xe.parts[0])?(v.manageArrayContainers(Xe,We,it),qe.calc=!0):(rt?rt.arrayOk&&!t.traceIs(Ze,"regl")&&(T.isArrayOrTypedArray(We)||T.isArrayOrTypedArray(He))?qe.calc=!0:_.update(qe,rt):qe.calc=!0,Xe.set(We))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Pt)&&n.swap(ke,Ie),"orientationaxes"===Pt){var Dt=b(ke.layout,"hovermode"),Nt=Dt.get();"x"===Nt?Dt.set("y"):"y"===Nt?Dt.set("x"):"x unified"===Nt?Dt.set("y unified"):"y unified"===Nt&&Dt.set("x unified")}if(-1!==["orientation","type"].indexOf(Pt)){for(je=[],Fe=0;Fe<Ie.length;Fe++){var $t=ve[Ie[Fe]];t.traceIs($t,"cartesian")&&(dt($t.xaxis||"x"),dt($t.yaxis||"y"))}st(je.map(yt),!0,0),st(je.map(mt),[0,1],0)}}else Xe=Re(ke.layout,Pt.replace("LAYOUT","")),it[Pt]=[F(Xe.get())],Xe.set(Array.isArray(nt)?nt[0]:nt),qe.calc=!0}return(qe.calc||qe.plot)&&(qe.fullReplot=!0),{flags:qe,undoit:it,redoit:Je,traces:Ie,eventData:T.extendDeepNoArrays([],[Oe,Ie])}}function J(ke){var be,Ie,Fe,ce=T.counterRegex("axis",".title",!1,!1),Te=/colorbar\.title$/,ve=Object.keys(ke);for(be=0;be<ve.length;be++)Fe=ke[Ie=ve[be]],"title"!==Ie&&!ce.test(Ie)&&!Te.test(Ie)||"string"!=typeof Fe&&"number"!=typeof Fe?Ie.indexOf("titlefont")>-1&&-1===Ie.indexOf("grouptitlefont")?Ce(Ie,Ie.replace("titlefont","title.font")):Ie.indexOf("titleposition")>-1?Ce(Ie,Ie.replace("titleposition","title.position")):Ie.indexOf("titleside")>-1?Ce(Ie,Ie.replace("titleside","title.side")):Ie.indexOf("titleoffset")>-1&&Ce(Ie,Ie.replace("titleoffset","title.offset")):Ce(Ie,Ie.replace("title","title.text"));function Ce(Re,Oe){ke[Oe]=ke[Re],delete ke[Re]}}function X(ke,be,Ie){ke=T.getGraphDiv(ke),v.clearPromiseQueue(ke);var Fe={};if("string"==typeof be)Fe[be]=Ie;else{if(!T.isPlainObject(be))return T.warn("Relayout fail.",be,Ie),Promise.reject();Fe=T.extendFlat({},be)}Object.keys(Fe).length&&(ke.changed=!0);var ce=oe(ke,Fe),Te=ce.flags;Te.calc&&(ke.calcdata=void 0);var ve=[r.previousPromises];Te.layoutReplot?ve.push(m.layoutReplot):Object.keys(Fe).length&&(Y(ke,Te,ce)||r.supplyDefaults(ke),Te.legend&&ve.push(m.doLegend),Te.layoutstyle&&ve.push(m.layoutStyles),Te.axrange&&W(ve,ce.rangesAltered),Te.ticks&&ve.push(m.doTicksRelayout),Te.modebar&&ve.push(m.doModeBar),Te.camera&&ve.push(m.doCamera),Te.colorbars&&ve.push(m.doColorBars),ve.push(w)),ve.push(r.rehover,r.redrag,r.reselect),a.add(ke,X,[ke,ce.undoit],X,[ke,ce.redoit]);var Ce=T.syncOrAsync(ve,ke);return Ce&&Ce.then||(Ce=Promise.resolve(ke)),Ce.then(function(){return ke.emit("plotly_relayout",ce.eventData),ke})}function Y(ke,be,Ie){var Fe,ce,Te=ke._fullLayout;if(!be.axrange)return!1;for(var ve in be)if("axrange"!==ve&&be[ve])return!1;var Ce=function(it,Qe){return T.coerce(Fe,ce,s,it,Qe)},Re={};for(var Oe in Ie.rangesAltered){var je=n.id2name(Oe);if(o(Fe=ke.layout[je],ce=Te[je],Ce,Re),ce._matchGroup)for(var qe in ce._matchGroup)if(qe!==Oe){var Je=Te[n.id2name(qe)];Je.autorange=ce.autorange,Je.range=ce.range.slice(),Je._input.range=ce.range.slice()}}return!0}function W(ke,be){ke.push(g,m.doAutoRangeAndConstraints,be?function(Fe){var ce=[];for(var Te in be){var ve=n.getFromId(Fe,Te);if(ce.push(Te),-1!==(ve.ticklabelposition||"").indexOf("inside")&&ve._anchorAxis&&ce.push(ve._anchorAxis._id),ve._matchGroup)for(var Ce in ve._matchGroup)be[Ce]||ce.push(Ce)}return n.draw(Fe,ce,{skipTitle:!0})}:function(Fe){return n.draw(Fe,"redraw")},m.drawData,m.finalDraw)}var $=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ne=/^[xyz]axis[0-9]*\.autorange$/,re=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function oe(ke,be){var Ie,Fe,ce,Te=ke.layout,ve=ke._fullLayout,Re=j(ve._preGUI,ve._guiEditing),Oe=Object.keys(be),je=n.list(ke),qe=T.extendDeepAll({},be),Je={};for(J(be),Oe=Object.keys(be),Fe=0;Fe<Oe.length;Fe++)if(0===Oe[Fe].indexOf("allaxes")){for(ce=0;ce<je.length;ce++){var it=je[ce]._id.substr(1),Qe=-1!==it.indexOf("scene")?it+".":"",dt=Oe[Fe].replace("allaxes",Qe+je[ce]._name);be[dt]||(be[dt]=be[Oe[Fe]])}delete be[Oe[Fe]]}var yt=_.layoutFlags(),mt={},at={};function st(on,Ut){if(Array.isArray(on))on.forEach(function(Xt){st(Xt,Ut)});else if(!(on in be)&&!v.hasParent(be,on)){var nn=Re(Te,on);on in at||(at[on]=F(nn.get())),void 0!==Ut&&nn.set(Ut)}}var Tt,At={};function Pt(on){var Ut=n.name2id(on.split(".")[0]);return At[Ut]=1,Ut}for(var kt in be){if(v.hasParent(be,kt))throw new Error("cannot set "+kt+" and a parent attribute simultaneously");for(var Ze=Re(Te,kt),Xe=be[kt],He=Ze.parts.length-1;He>0&&"string"!=typeof Ze.parts[He];)He--;var We=Ze.parts[He],rt=Ze.parts[He-1]+"."+We,nt=Ze.parts.slice(0,He).join("."),ze=b(ke.layout,nt).get(),Be=b(ve,nt).get(),tt=Ze.get();if(void 0!==Xe){mt[kt]=Xe,at[kt]="reverse"===We?Xe:F(tt);var et=i.getLayoutValObject(ve,Ze.parts);if(et&&et.impliedEdits&&null!==Xe)for(var gt in et.impliedEdits)st(T.relativeAttr(kt,gt),et.impliedEdits[gt]);if(-1!==["width","height"].indexOf(kt))if(Xe){st("autosize",null);var pt="height"===kt?"width":"height";st(pt,ve[pt])}else ve[kt]=ke._initialAutoSize[kt];else if("autosize"===kt)st("width",Xe?null:ve.width),st("height",Xe?null:ve.height);else if(rt.match($))Pt(rt),b(ve,nt+"._inputRange").set(null);else if(rt.match(ne)){Pt(rt),b(ve,nt+"._inputRange").set(null);var vt=b(ve,nt).get();vt._inputDomain&&(vt._input.domain=vt._inputDomain.slice())}else rt.match(re)&&b(ve,nt+"._inputDomain").set(null);if("type"===We){Tt=ze;var ut="linear"===Be.type&&"log"===Xe;if(ut||"log"===Be.type&&"linear"===Xe){if(Tt&&Tt.range)if(Be.autorange)ut&&(Tt.range=Tt.range[1]>Tt.range[0]?[1,2]:[2,1]);else{var ct=Tt.range[0],ft=Tt.range[1];ut?(ct<=0&&ft<=0&&st(nt+".autorange",!0),ct<=0?ct=ft/1e6:ft<=0&&(ft=ct/1e6),st(nt+".range[0]",Math.log(ct)/Math.LN10),st(nt+".range[1]",Math.log(ft)/Math.LN10)):(st(nt+".range[0]",Math.pow(10,ct)),st(nt+".range[1]",Math.pow(10,ft)))}else st(nt+".autorange",!0);Array.isArray(ve._subplots.polar)&&ve._subplots.polar.length&&ve[Ze.parts[0]]&&"radialaxis"===Ze.parts[1]&&delete ve[Ze.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(ke,Be,Xe,st),t.getComponentMethod("images","convertCoords")(ke,Be,Xe,st)}else st(nt+".autorange",!0),st(nt+".range",null);b(ve,nt+"._inputRange").set(null)}else if(We.match(f)){var bt=b(ve,kt).get(),It=(Xe||{}).type;It&&"-"!==It||(It="linear"),t.getComponentMethod("annotations","convertCoords")(ke,bt,It,st),t.getComponentMethod("images","convertCoords")(ke,bt,It,st)}var Dt=y.containerArrayMatch(kt);if(Dt){Ie=Dt.array;var Nt=Dt.property,$t=et||{editType:"calc"};""!==(Fe=Dt.index)&&""===Nt&&(y.isAddVal(Xe)?at[kt]=null:y.isRemoveVal(Xe)?at[kt]=(b(Te,Ie).get()||[])[Fe]:T.warn("unrecognized full object value",be)),_.update(yt,$t),Je[Ie]||(Je[Ie]={});var jt=Je[Ie][Fe];jt||(jt=Je[Ie][Fe]={}),jt[Nt]=Xe,delete be[kt]}else"reverse"===We?(ze.range?ze.range.reverse():(st(nt+".autorange",!0),ze.range=[1,0]),Be.autorange?yt.calc=!0:yt.plot=!0):("dragmode"===kt&&(!1===Xe&&!1!==tt||!1!==Xe&&!1===tt)||ve._has("scatter-like")&&ve._has("regl")&&"dragmode"===kt&&("lasso"===Xe||"select"===Xe)&&"lasso"!==tt&&"select"!==tt||ve._has("gl2d")?yt.plot=!0:et?_.update(yt,et):yt.calc=!0,Ze.set(Xe))}}for(Ie in Je)y.applyContainerArrayChanges(ke,Re(Te,Ie),Je[Ie],yt,Re)||(yt.plot=!0);for(var Yt in At){var Gt=(Tt=n.getFromId(ke,Yt))&&Tt._constraintGroup;if(Gt)for(var hn in yt.calc=!0,Gt)At[hn]||(n.getFromId(ke,hn)._constraintShrinkable=!0)}(ue(ke)||be.height||be.width)&&(yt.plot=!0);var yn=ve.shapes;for(Fe=0;Fe<yn.length;Fe++)if(yn[Fe].showlegend){yt.calc=!0;break}return(yt.plot||yt.calc)&&(yt.layoutReplot=!0),{flags:yt,rangesAltered:At,undoit:at,redoit:mt,eventData:qe}}function ue(ke){var be=ke._fullLayout,Ie=be.width,Fe=be.height;return ke.layout.autosize&&r.plotAutoSize(ke,ke.layout,be),be.width!==Ie||be.height!==Fe}function xe(ke,be,Ie,Fe){ke=T.getGraphDiv(ke),v.clearPromiseQueue(ke),T.isPlainObject(be)||(be={}),T.isPlainObject(Ie)||(Ie={}),Object.keys(be).length&&(ke.changed=!0),Object.keys(Ie).length&&(ke.changed=!0);var ce=v.coerceTraceIndices(ke,Fe),Te=te(ke,T.extendFlat({},be),ce),ve=Te.flags,Ce=oe(ke,T.extendFlat({},Ie)),Re=Ce.flags;(ve.calc||Re.calc)&&(ke.calcdata=void 0),ve.clearAxisTypes&&v.clearAxisTypes(ke,ce,Ie);var Oe=[];Re.layoutReplot?Oe.push(m.layoutReplot):ve.fullReplot?Oe.push(D._doPlot):(Oe.push(r.previousPromises),Y(ke,Re,Ce)||r.supplyDefaults(ke),ve.style&&Oe.push(m.doTraceStyle),(ve.colorbars||Re.colorbars)&&Oe.push(m.doColorBars),Re.legend&&Oe.push(m.doLegend),Re.layoutstyle&&Oe.push(m.layoutStyles),Re.axrange&&W(Oe,Ce.rangesAltered),Re.ticks&&Oe.push(m.doTicksRelayout),Re.modebar&&Oe.push(m.doModeBar),Re.camera&&Oe.push(m.doCamera),Oe.push(w)),Oe.push(r.rehover,r.redrag,r.reselect),a.add(ke,xe,[ke,Te.undoit,Ce.undoit,Te.traces],xe,[ke,Te.redoit,Ce.redoit,Te.traces]);var je=T.syncOrAsync(Oe,ke);return je&&je.then||(je=Promise.resolve(ke)),je.then(function(){return ke.emit("plotly_update",{data:Te.eventData,layout:Ce.eventData}),ke})}function Me(ke){return function(be){be._fullLayout._guiEditing=!0;var Ie=ke.apply(null,arguments);return be._fullLayout._guiEditing=!1,Ie}}var me=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],pe=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ge(ke,be){for(var Ie=0;Ie<be.length;Ie++){var Fe=be[Ie],ce=ke.match(Fe.pattern);if(ce){var Te=ce[1]||"";return{head:Te,tail:ke.substr(Te.length+1),attr:Fe.attr}}}}function Pe(ke,be){var Ie=b(be,ke).get();if(void 0!==Ie)return Ie;var Fe=ke.split(".");for(Fe.pop();Fe.length>1;)if(Fe.pop(),void 0!==(Ie=b(be,Fe.join(".")+".uirevision").get()))return Ie;return be.uirevision}function _e(ke,be){for(var Ie=0;Ie<be.length;Ie++)if(be[Ie]._fullInput.uid===ke)return Ie;return-1}function we(ke,be,Ie){for(var Fe=0;Fe<be.length;Fe++)if(be[Fe].uid===ke)return Fe;return!be[Ie]||be[Ie].uid?-1:Ie}function se(ke,be){var Ie=T.isPlainObject(ke),Fe=Array.isArray(ke);return Ie||Fe?(Ie&&T.isPlainObject(be)||Fe&&Array.isArray(be))&&JSON.stringify(ke)===JSON.stringify(be):ke===be}function ae(ke,be,Ie,Fe){var ce,Te,ve,Ce=Fe.getValObject,Re=Fe.flags,Oe=Fe.immutable,je=Fe.inArray,qe=Fe.arrayIndex;function Je(){var ze=ce.editType;je&&-1!==ze.indexOf("arraydraw")?T.pushUnique(Re.arrays[je],qe):(_.update(Re,ce),"none"!==ze&&Re.nChanges++,Fe.transition&&ce.anim&&Re.nChangesAnim++,($.test(ve)||ne.test(ve))&&(Re.rangesAltered[Ie[0]]=1),re.test(ve)&&b(be,"_inputDomain").set(null),"datarevision"===Te&&(Re.newDataRevision=1))}function it(ze){return"data_array"===ze.valType||ze.arrayOk}for(Te in ke){if(Re.calc&&!Fe.transition)return;var Qe=ke[Te],dt=be[Te],yt=Ie.concat(Te);if(ve=yt.join("."),"_"!==Te.charAt(0)&&"function"!=typeof Qe&&Qe!==dt){if(("tick0"===Te||"dtick"===Te)&&"geo"!==Ie[0]){var mt=be.tickmode;if("auto"===mt||"array"===mt||!mt)continue}if(("range"!==Te||!be.autorange)&&("zmin"!==Te&&"zmax"!==Te||"contourcarpet"!==be.type)&&(ce=Ce(yt))&&(!ce._compareAsJSON||JSON.stringify(Qe)!==JSON.stringify(dt))){var at,st=ce.valType,Tt=it(ce),At=Array.isArray(Qe),Pt=Array.isArray(dt);if(At&&Pt){var kt="_input_"+Te,Ze=ke[kt],Xe=be[kt];if(Array.isArray(Ze)&&Ze===Xe)continue}if(void 0===dt)Tt&&At?Re.calc=!0:Je();else if(ce._isLinkedToArray){var He=[],We=!1;je||(Re.arrays[Te]=He);var rt=Math.min(Qe.length,dt.length),nt=Math.max(Qe.length,dt.length);if(rt!==nt){if("arraydraw"!==ce.editType){Je();continue}We=!0}for(at=0;at<rt;at++)ae(Qe[at],dt[at],yt.concat(at),T.extendFlat({inArray:Te,arrayIndex:at},Fe));if(We)for(at=rt;at<nt;at++)He.push(at)}else!st&&T.isPlainObject(Qe)?ae(Qe,dt,yt,Fe):Tt?At&&Pt?(Oe&&(Re.calc=!0),(Oe||Fe.newDataRevision)&&Je()):At!==Pt?Re.calc=!0:Je():At&&Pt&&Qe.length===dt.length&&String(Qe)===String(dt)||Je()}}}for(Te in be)if(!(Te in ke)&&"_"!==Te.charAt(0)&&"function"!=typeof be[Te]){if(it(ce=Ce(Ie.concat(Te)))&&Array.isArray(be[Te]))return void(Re.calc=!0);Je()}}function fe(ke,be){var Ie;for(Ie in ke)if("_"!==Ie.charAt(0)){var Fe=ke[Ie],ce=be[Ie];if(Fe!==ce)if(T.isPlainObject(Fe)&&T.isPlainObject(ce)){if(fe(Fe,ce))return!0}else{if(!Array.isArray(Fe)||!Array.isArray(ce)||Fe.length!==ce.length)return!0;for(var Te=0;Te<Fe.length;Te++)if(Fe[Te]!==ce[Te]&&(!T.isPlainObject(Fe[Te])||!T.isPlainObject(ce[Te])||fe(Fe[Te],ce[Te])))return!0}}}function Ee(ke){var be=ke._fullLayout,Ie=ke.getBoundingClientRect();if(!T.equalDomRects(Ie,be._lastBBox)){var Fe=be._invTransform=T.inverseTransformMatrix(T.getFullTransformMatrix(ke));be._invScaleX=Math.sqrt(Fe[0][0]*Fe[0][0]+Fe[0][1]*Fe[0][1]+Fe[0][2]*Fe[0][2]),be._invScaleY=Math.sqrt(Fe[1][0]*Fe[1][0]+Fe[1][1]*Fe[1][1]+Fe[1][2]*Fe[1][2]),be._lastBBox=Ie}}D.animate=function(ke,be,Ie){if(ke=T.getGraphDiv(ke),!T.isPlotDiv(ke))throw new Error("This element is not a Plotly plot: "+ke+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Fe=ke._transitionData;Fe._frameQueue||(Fe._frameQueue=[]);var ce=(Ie=r.supplyAnimationDefaults(Ie)).transition,Te=Ie.frame;function ve(Oe){return Array.isArray(ce)?Oe>=ce.length?ce[0]:ce[Oe]:ce}function Ce(Oe){return Array.isArray(Te)?Oe>=Te.length?Te[0]:Te[Oe]:Te}function Re(Oe,je){var qe=0;return function(){if(Oe&&++qe===je)return Oe()}}return void 0===Fe._frameWaitingCnt&&(Fe._frameWaitingCnt=0),new Promise(function(Oe,je){var Je,it,Qe=0;function dt(kt){return kt.transitionOpts=Array.isArray(ce)?Qe>=ce.length?ce[Qe]:ce[0]:ce,Qe++,kt}var yt=[],mt=null==be,at=Array.isArray(be);if(mt||at||!T.isPlainObject(be)){if(mt||-1!==["string","number"].indexOf(typeof be))for(Je=0;Je<Fe._frames.length;Je++)(it=Fe._frames[Je])&&(mt||String(it.group)===String(be))&&yt.push({type:"byname",name:String(it.name),data:dt({name:it.name})});else if(at)for(Je=0;Je<be.length;Je++){var st=be[Je];-1!==["number","string"].indexOf(typeof st)?(st=String(st),yt.push({type:"byname",name:st,data:dt({name:st})})):T.isPlainObject(st)&&yt.push({type:"object",data:dt(T.extendFlat({},st))})}}else yt.push({type:"object",data:dt(T.extendFlat({},be))});for(Je=0;Je<yt.length;Je++)if("byname"===(it=yt[Je]).type&&!Fe._frameHash[it.data.name])return T.warn('animate failure: frame not found: "'+it.data.name+'"'),void je();-1!==["next","immediate"].indexOf(Ie.mode)&&function(){if(0!==Fe._frameQueue.length){for(;Fe._frameQueue.length;){var kt=Fe._frameQueue.pop();kt.onInterrupt&&kt.onInterrupt()}ke.emit("plotly_animationinterrupted",[])}}(),"reverse"===Ie.direction&&yt.reverse();var Tt=ke._fullLayout._currentFrame;if(Tt&&Ie.fromcurrent){var At=-1;for(Je=0;Je<yt.length;Je++)if("byname"===(it=yt[Je]).type&&it.name===Tt){At=Je;break}if(At>0&&At<yt.length-1){var Pt=[];for(Je=0;Je<yt.length;Je++)it=yt[Je],("byname"!==yt[Je].type||Je>At)&&Pt.push(it);yt=Pt}}yt.length>0?function(kt){if(0!==kt.length){for(var Ze=0;Ze<kt.length;Ze++){var Xe;Xe="byname"===kt[Ze].type?r.computeFrame(ke,kt[Ze].name):kt[Ze].data;var He=Ce(Ze),We=ve(Ze);We.duration=Math.min(We.duration,He.duration);var rt={frame:Xe,name:kt[Ze].name,frameOpts:He,transitionOpts:We};Ze===kt.length-1&&(rt.onComplete=Re(Oe,2),rt.onInterrupt=je),Fe._frameQueue.push(rt)}"immediate"===Ie.mode&&(Fe._lastFrameAt=-1/0),Fe._animationRaf||function qe(){ke.emit("plotly_animating"),Fe._lastFrameAt=-1/0,Fe._timeToNext=0,Fe._runningTransitions=0,Fe._currentFrame=null;var kt=function(){Fe._animationRaf=window.requestAnimationFrame(kt),Date.now()-Fe._lastFrameAt>Fe._timeToNext&&function(){Fe._currentFrame&&Fe._currentFrame.onComplete&&Fe._currentFrame.onComplete();var Ze=Fe._currentFrame=Fe._frameQueue.shift();if(Ze){var Xe=Ze.name?Ze.name.toString():null;ke._fullLayout._currentFrame=Xe,Fe._lastFrameAt=Date.now(),Fe._timeToNext=Ze.frameOpts.duration,r.transition(ke,Ze.frame.data,Ze.frame.layout,v.coerceTraceIndices(ke,Ze.frame.traces),Ze.frameOpts,Ze.transitionOpts).then(function(){Ze.onComplete&&Ze.onComplete()}),ke.emit("plotly_animatingframe",{name:Xe,frame:Ze.frame,animation:{frame:Ze.frameOpts,transition:Ze.transitionOpts}})}else ke.emit("plotly_animated"),window.cancelAnimationFrame(Fe._animationRaf),Fe._animationRaf=null}()};kt()}()}}(yt):(ke.emit("plotly_animated"),Oe())})},D.addFrames=function(ke,be,Ie){if(ke=T.getGraphDiv(ke),null==be)return Promise.resolve();if(!T.isPlotDiv(ke))throw new Error("This element is not a Plotly plot: "+ke+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Fe,ce,Te,ve,Ce=ke._transitionData._frames,Re=ke._transitionData._frameHash;if(!Array.isArray(be))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+be);var Oe=Ce.length+2*be.length,je=[],qe={};for(Fe=be.length-1;Fe>=0;Fe--)if(T.isPlainObject(be[Fe])){var Je=be[Fe].name,it=(Re[Je]||qe[Je]||{}).name,Qe=be[Fe].name;it&&Qe&&"number"==typeof Qe&&(Re[it]||qe[it])&&S<5&&(S++,T.warn('addFrames: overwriting frame "'+(Re[it]||qe[it]).name+'" with a frame whose name of type "number" also equates to "'+it+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===S&&T.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),qe[Je]={name:Je},je.push({frame:r.supplyFrameDefaults(be[Fe]),index:Ie&&null!=Ie[Fe]?Ie[Fe]:Oe+Fe})}je.sort(function(kt,Ze){return kt.index>Ze.index?-1:kt.index<Ze.index?1:0});var yt=[],mt=[],at=Ce.length;for(Fe=je.length-1;Fe>=0;Fe--){if("number"==typeof(ce=je[Fe].frame).name&&T.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ce.name)for(;Re[ce.name="frame "+ke._transitionData._counter++];);if(Re[ce.name]){for(Te=0;Te<Ce.length&&(Ce[Te]||{}).name!==ce.name;Te++);yt.push({type:"replace",index:Te,value:ce}),mt.unshift({type:"replace",index:Te,value:Ce[Te]})}else ve=Math.max(0,Math.min(je[Fe].index,at)),yt.push({type:"insert",index:ve,value:ce}),mt.unshift({type:"delete",index:ve}),at++}return a&&a.add(ke,r.modifyFrames,[ke,mt],r.modifyFrames,[ke,yt]),r.modifyFrames(ke,yt)},D.deleteFrames=function(ke,be){if(ke=T.getGraphDiv(ke),!T.isPlotDiv(ke))throw new Error("This element is not a Plotly plot: "+ke);var Ie,Fe,ce=ke._transitionData._frames,Te=[],ve=[];if(!be)for(be=[],Ie=0;Ie<ce.length;Ie++)be.push(Ie);for((be=be.slice()).sort(),Ie=be.length-1;Ie>=0;Ie--)Te.push({type:"delete",index:Fe=be[Ie]}),ve.unshift({type:"insert",index:Fe,value:ce[Fe]});return a&&a.add(ke,r.modifyFrames,[ke,ve],r.modifyFrames,[ke,Te]),r.modifyFrames(ke,Te)},D.addTraces=function ke(be,Ie,Fe){be=T.getGraphDiv(be);var ce,Te,ve=[],Ce=D.deleteTraces,Re=ke,Oe=[be,ve],je=[be,Ie];for(function(qe,Je,it){var Qe,dt;if(!Array.isArray(qe.data))throw new Error("gd.data must be an array.");if(void 0===Je)throw new Error("traces must be defined.");for(Array.isArray(Je)||(Je=[Je]),Qe=0;Qe<Je.length;Qe++)if("object"!=typeof(dt=Je[Qe])||Array.isArray(dt)||null===dt)throw new Error("all values in traces array must be non-array objects");if(void 0===it||Array.isArray(it)||(it=[it]),void 0!==it&&it.length!==Je.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(be,Ie,Fe),Array.isArray(Ie)||(Ie=[Ie]),Ie=Ie.map(function(qe){return T.extendFlat({},qe)}),v.cleanData(Ie),ce=0;ce<Ie.length;ce++)be.data.push(Ie[ce]);for(ce=0;ce<Ie.length;ce++)ve.push(-Ie.length+ce);if(void 0===Fe)return Te=D.redraw(be),a.add(be,Ce,Oe,Re,je),Te;Array.isArray(Fe)||(Fe=[Fe]);try{q(be,ve,Fe)}catch(qe){throw be.data.splice(be.data.length-Ie.length,Ie.length),qe}return a.startSequence(be),a.add(be,Ce,Oe,Re,je),Te=D.moveTraces(be,ve,Fe),a.stopSequence(be),Te},D.deleteTraces=function ke(be,Ie){be=T.getGraphDiv(be);var Fe,ce,Te=[],ve=D.addTraces,Ce=ke,Re=[be,Te,Ie],Oe=[be,Ie];if(void 0===Ie)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ie)||(Ie=[Ie]),R(be,Ie,"indices"),(Ie=O(Ie,be.data.length-1)).sort(T.sorterDes),Fe=0;Fe<Ie.length;Fe+=1)ce=be.data.splice(Ie[Fe],1)[0],Te.push(ce);var je=D.redraw(be);return a.add(be,ve,Re,Ce,Oe),je},D.extendTraces=function ke(be,Ie,Fe,ce){var Te=P(be=T.getGraphDiv(be),Ie,Fe,ce,function(Re,Oe,je){var qe,Je;if(T.isTypedArray(Re))if(je<0){var it=new Re.constructor(0),Qe=U(Re,Oe);je<0?(qe=Qe,Je=it):(qe=it,Je=Qe)}else if(qe=new Re.constructor(je),Je=new Re.constructor(Re.length+Oe.length-je),je===Oe.length)qe.set(Oe),Je.set(Re);else if(je<Oe.length){var dt=Oe.length-je;qe.set(Oe.subarray(dt)),Je.set(Re),Je.set(Oe.subarray(0,dt),Re.length)}else{var yt=je-Oe.length,mt=Re.length-yt;qe.set(Re.subarray(mt)),qe.set(Oe,yt),Je.set(Re.subarray(0,mt))}else qe=Re.concat(Oe),Je=je>=0&&je<qe.length?qe.splice(0,qe.length-je):[];return[qe,Je]}),ve=D.redraw(be);return a.add(be,D.prependTraces,[be,Te.update,Fe,Te.maxPoints],ke,arguments),ve},D.moveTraces=function ke(be,Ie,Fe){var ce,Te=[],ve=[],Ce=ke,Re=ke,Oe=[be=T.getGraphDiv(be),Fe,Ie],je=[be,Ie,Fe];if(q(be,Ie,Fe),Ie=Array.isArray(Ie)?Ie:[Ie],void 0===Fe)for(Fe=[],ce=0;ce<Ie.length;ce++)Fe.push(-Ie.length+ce);for(Fe=Array.isArray(Fe)?Fe:[Fe],Ie=O(Ie,be.data.length-1),Fe=O(Fe,be.data.length-1),ce=0;ce<be.data.length;ce++)-1===Ie.indexOf(ce)&&Te.push(be.data[ce]);for(ce=0;ce<Ie.length;ce++)ve.push({newIndex:Fe[ce],trace:be.data[Ie[ce]]});for(ve.sort(function(Je,it){return Je.newIndex-it.newIndex}),ce=0;ce<ve.length;ce+=1)Te.splice(ve[ce].newIndex,0,ve[ce].trace);be.data=Te;var qe=D.redraw(be);return a.add(be,Ce,Oe,Re,je),qe},D.prependTraces=function ke(be,Ie,Fe,ce){var Te=P(be=T.getGraphDiv(be),Ie,Fe,ce,function(Re,Oe,je){var qe,Je;if(T.isTypedArray(Re))if(je<=0){var it=new Re.constructor(0),Qe=U(Oe,Re);je<0?(qe=Qe,Je=it):(qe=it,Je=Qe)}else if(qe=new Re.constructor(je),Je=new Re.constructor(Re.length+Oe.length-je),je===Oe.length)qe.set(Oe),Je.set(Re);else if(je<Oe.length){var dt=Oe.length-je;qe.set(Oe.subarray(0,dt)),Je.set(Oe.subarray(dt)),Je.set(Re,dt)}else{var yt=je-Oe.length;qe.set(Oe),qe.set(Re.subarray(0,yt),Oe.length),Je.set(Re.subarray(yt))}else qe=Oe.concat(Re),Je=je>=0&&je<qe.length?qe.splice(je,qe.length):[];return[qe,Je]}),ve=D.redraw(be);return a.add(be,D.extendTraces,[be,Te.update,Fe,Te.maxPoints],ke,arguments),ve},D.newPlot=function(ke,be,Ie,Fe){return ke=T.getGraphDiv(ke),r.cleanPlot([],{},ke._fullData||[],ke._fullLayout||{}),r.purge(ke),D._doPlot(ke,be,Ie,Fe)},D._doPlot=function(ke,be,Ie,Fe){var ce;if(ke=T.getGraphDiv(ke),d.init(ke),T.isPlainObject(be)){var Te=be;be=Te.data,Ie=Te.layout,Fe=Te.config,ce=Te.frames}if(!1===d.triggerHandler(ke,"plotly_beforeplot",[be,Ie,Fe]))return Promise.reject();be||Ie||T.isPlotDiv(ke)||T.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ke),C(ke,Fe),Ie||(Ie={}),A.select(ke).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(ke._promises)||(ke._promises=[]);var ve=0===(ke.data||[]).length&&Array.isArray(be);Array.isArray(be)&&(v.cleanData(be),ve?ke.data=be:ke.data.push.apply(ke.data,be),ke.empty=!1),ke.layout&&!ve||(ke.layout=v.cleanLayout(Ie)),r.supplyDefaults(ke);var Ce=ke._fullLayout,Re=Ce._has("cartesian");Ce._replotting=!0,(ve||Ce._shouldCreateBgLayer)&&(function(mt){var at=A.select(mt),st=mt._fullLayout;if(st._calcInverseTransform=Ee,st._calcInverseTransform(mt),st._container=at.selectAll(".plot-container").data([0]),st._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),st._paperdiv=st._container.selectAll(".svg-container").data([0]),st._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),st._glcontainer=st._paperdiv.selectAll(".gl-container").data([{}]),st._glcontainer.enter().append("div").classed("gl-container",!0),st._paperdiv.selectAll(".main-svg").remove(),st._paperdiv.select(".modebar-container").remove(),st._paper=st._paperdiv.insert("svg",":first-child").classed("main-svg",!0),st._toppaper=st._paperdiv.append("svg").classed("main-svg",!0),st._modebardiv=st._paperdiv.append("div"),delete st._modeBar,st._hoverpaper=st._paperdiv.append("svg").classed("main-svg",!0),!st._uid){var Tt={};A.selectAll("defs").each(function(){this.id&&(Tt[this.id.split("-")[1]]=1)}),st._uid=T.randstr(Tt)}st._paperdiv.selectAll(".main-svg").attr(x.svgAttrs),st._defs=st._paper.append("defs").attr("id","defs-"+st._uid),st._clips=st._defs.append("g").classed("clips",!0),st._topdefs=st._toppaper.append("defs").attr("id","topdefs-"+st._uid),st._topclips=st._topdefs.append("g").classed("clips",!0),st._bgLayer=st._paper.append("g").classed("bglayer",!0),st._draggers=st._paper.append("g").classed("draglayer",!0);var At=st._paper.append("g").classed("layer-below",!0);st._imageLowerLayer=At.append("g").classed("imagelayer",!0),st._shapeLowerLayer=At.append("g").classed("shapelayer",!0),st._cartesianlayer=st._paper.append("g").classed("cartesianlayer",!0),st._polarlayer=st._paper.append("g").classed("polarlayer",!0),st._smithlayer=st._paper.append("g").classed("smithlayer",!0),st._ternarylayer=st._paper.append("g").classed("ternarylayer",!0),st._geolayer=st._paper.append("g").classed("geolayer",!0),st._funnelarealayer=st._paper.append("g").classed("funnelarealayer",!0),st._pielayer=st._paper.append("g").classed("pielayer",!0),st._iciclelayer=st._paper.append("g").classed("iciclelayer",!0),st._treemaplayer=st._paper.append("g").classed("treemaplayer",!0),st._sunburstlayer=st._paper.append("g").classed("sunburstlayer",!0),st._indicatorlayer=st._toppaper.append("g").classed("indicatorlayer",!0),st._glimages=st._paper.append("g").classed("glimages",!0);var Pt=st._toppaper.append("g").classed("layer-above",!0);st._imageUpperLayer=Pt.append("g").classed("imagelayer",!0),st._shapeUpperLayer=Pt.append("g").classed("shapelayer",!0),st._selectionLayer=st._toppaper.append("g").classed("selectionlayer",!0),st._infolayer=st._toppaper.append("g").classed("infolayer",!0),st._menulayer=st._toppaper.append("g").classed("menulayer",!0),st._zoomlayer=st._toppaper.append("g").classed("zoomlayer",!0),st._hoverlayer=st._hoverpaper.append("g").classed("hoverlayer",!0),st._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),mt.emit("plotly_framework")}(ke),Ce._shouldCreateBgLayer&&delete Ce._shouldCreateBgLayer),u.initGradients(ke),u.initPatterns(ke),ve&&n.saveShowSpikeInitial(ke);var Oe=!ke.calcdata||ke.calcdata.length!==(ke._fullData||[]).length;Oe&&r.doCalcdata(ke);for(var je=0;je<ke.calcdata.length;je++)ke.calcdata[je][0].trace=ke._fullData[je];ke._context.responsive?ke._responsiveChartHandler||(ke._responsiveChartHandler=function(){T.isHidden(ke)||r.resize(ke)},window.addEventListener("resize",ke._responsiveChartHandler)):T.clearResponsive(ke);var qe=T.extendFlat({},Ce._size),Je=0;function it(){if(r.clearAutoMarginIds(ke),m.drawMarginPushers(ke),n.allowAutoMargin(ke),ke._fullLayout.title.text&&ke._fullLayout.title.automargin&&r.allowAutoMargin(ke,"title.automargin"),Ce._has("pie"))for(var mt=ke._fullData,at=0;at<mt.length;at++){var st=mt[at];"pie"===st.type&&st.automargin&&r.allowAutoMargin(ke,"pie."+st.uid+".automargin")}return r.doAutoMargin(ke),r.previousPromises(ke)}function Qe(){ke._transitioning||(m.doAutoRangeAndConstraints(ke),ve&&n.saveRangeInitial(ke),t.getComponentMethod("rangeslider","calcAutorange")(ke))}var dt=[r.previousPromises,function(){if(ce)return D.addFrames(ke,ce)},function mt(){for(var at=Ce._basePlotModules,st=0;st<at.length;st++)at[st].drawFramework&&at[st].drawFramework(ke);!Ce._glcanvas&&Ce._has("gl")&&(Ce._glcanvas=Ce._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(kt){return kt.key}),Ce._glcanvas.enter().append("canvas").attr("class",function(kt){return"gl-canvas gl-canvas-"+kt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Tt=ke._context.plotGlPixelRatio;if(Ce._glcanvas){Ce._glcanvas.attr("width",Ce.width*Tt).attr("height",Ce.height*Tt).style("width",Ce.width+"px").style("height",Ce.height+"px");var At=Ce._glcanvas.data()[0].regl;if(At&&(Math.floor(Ce.width*Tt)!==At._gl.drawingBufferWidth||Math.floor(Ce.height*Tt)!==At._gl.drawingBufferHeight)){var Pt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Je)return T.log(Pt+" Clearing graph and plotting again."),r.cleanPlot([],{},ke._fullData,Ce),r.supplyDefaults(ke),Ce=ke._fullLayout,r.doCalcdata(ke),Je++,mt();T.error(Pt)}}return"h"===Ce.modebar.orientation?Ce._modebardiv.style("height",null).style("width","100%"):Ce._modebardiv.style("width",null).style("height",Ce.height+"px"),r.previousPromises(ke)},it,function(){if(r.didMarginChange(qe,Ce._size))return T.syncOrAsync([it,m.layoutStyles],ke)}];Re&&dt.push(function(){if(Oe)return T.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),Qe],ke);Qe()}),dt.push(m.layoutStyles),Re&&dt.push(function(){return n.draw(ke,ve?"":"redraw")},function(mt){mt._fullLayout._insideTickLabelsAutorange&&X(mt,mt._fullLayout._insideTickLabelsAutorange).then(function(){mt._fullLayout._insideTickLabelsAutorange=void 0})}),dt.push(m.drawData,m.finalDraw,c,r.addLinks,r.rehover,r.redrag,r.reselect,r.doAutoMargin,function(mt){mt._fullLayout._insideTickLabelsAutorange&&ve&&n.saveRangeInitial(mt,!0)},r.previousPromises);var yt=T.syncOrAsync(dt,ke);return yt&&yt.then||(yt=Promise.resolve()),yt.then(function(){return w(ke),ke})},D.purge=function(ke){var be=(ke=T.getGraphDiv(ke))._fullLayout||{};return r.cleanPlot([],{},ke._fullData||[],be),r.purge(ke),d.purge(ke),be._container&&be._container.remove(),delete ke._context,ke},D.react=function(ke,be,Ie,Fe){var ce,Te;ke=T.getGraphDiv(ke),v.clearPromiseQueue(ke);var nt,ze,Be,tt,et,gt,ve=ke._fullData,Ce=ke._fullLayout;if(T.isPlotDiv(ke)&&ve&&Ce){if(T.isPlainObject(be)){var Re=be;be=Re.data,Ie=Re.layout,Fe=Re.config,ce=Re.frames}var Oe=!1;if(Fe){var je=T.extendDeep({},ke._context);ke._context=void 0,C(ke,Fe),Oe=fe(je,ke._context)}ke.data=be||[],v.cleanData(ke.data),ke.layout=Ie||{},v.cleanLayout(ke.layout),function(nt,ze,Be,tt){var et,gt,pt,vt,ut,wt,ct,ft,bt,It,Dt=tt._preGUI,Nt=[],$t={},jt={};for(et in Dt){if(ut=ge(et,me)){if(bt=ut.head,It=ut.tail,(vt=(pt=b(tt,gt=ut.attr||bt+".uirevision").get())&&Pe(gt,ze))&&vt===pt){if(null===(wt=Dt[et])&&(wt=void 0),se(ft=(ct=b(ze,et)).get(),wt)){void 0===ft&&"autorange"===It&&Nt.push(bt),ct.set(F(b(tt,et).get()));continue}if("autorange"===It||"range["===It.substr(0,6)){var hn=Dt[bt+".autorange"];if(hn||null===hn&&null===Dt[bt+".range[0]"]&&null===Dt[bt+".range[1]"]){if(!(bt in $t)){var yn=b(ze,bt).get();$t[bt]=yn&&(yn.autorange||!1!==yn.autorange&&(!yn.range||2!==yn.range.length))}if($t[bt]){ct.set(F(b(tt,et).get()));continue}}}}}else T.warn("unrecognized GUI edit: "+et);delete Dt[et],ut&&"range["===ut.tail.substr(0,6)&&(jt[ut.head]=1)}for(var on=0;on<Nt.length;on++){var Ut=Nt[on];if(jt[Ut]){var nn=b(ze,Ut).get();nn&&delete nn.autorange}}var Xt=tt._tracePreGUI;for(var rn in Xt){var fn,gn=Xt[rn],An=null;for(et in gn){if(!An){var En=_e(rn,Be);if(En<0){delete Xt[rn];break}var bn=we(rn,nt,(fn=Be[En]._fullInput).index);if(bn<0){delete Xt[rn];break}An=nt[bn]}if(ut=ge(et,pe)){if(ut.attr?vt=(pt=b(tt,ut.attr).get())&&Pe(ut.attr,ze):(pt=fn.uirevision,void 0===(vt=An.uirevision)&&(vt=ze.uirevision)),vt&&vt===pt&&(null===(wt=gn[et])&&(wt=void 0),se(ft=(ct=b(An,et)).get(),wt))){ct.set(F(b(fn,et).get()));continue}}else T.warn("unrecognized GUI edit: "+et+" in trace uid "+rn);delete gn[et]}}}(ke.data,ke.layout,ve,Ce),r.supplyDefaults(ke,{skipUpdateCalc:!0});var qe=ke._fullData,Je=ke._fullLayout,it=void 0===Je.datarevision,Qe=Je.transition,dt=(nt=ke,ze=Ce,Be=Je,tt=it,et=Qe,(gt=_.layoutFlags()).arrays={},gt.rangesAltered={},gt.nChanges=0,gt.nChangesAnim=0,ae(ze,Be,[],{getValObject:function(pt){return i.getLayoutValObject(Be,pt)},flags:gt,immutable:tt,transition:et,gd:nt}),(gt.plot||gt.calc)&&(gt.layoutReplot=!0),et&&gt.nChanges&&gt.nChangesAnim&&(gt.anim=gt.nChanges===gt.nChangesAnim?"all":"some"),gt),mt=function(nt,ze,Be,tt,et,gt){var pt=ze.length===Be.length;if(!et&&!pt)return{fullReplot:!0,calc:!0};var vt,ut,wt=_.traceFlags();wt.arrays={},wt.nChanges=0,wt.nChangesAnim=0;var ct={getValObject:function(bt){var It=i.getTraceValObject(ut,bt);return!ut._module.animatable&&It.anim&&(It.anim=!1),It},flags:wt,immutable:tt,transition:et,newDataRevision:gt,gd:nt},ft={};for(vt=0;vt<ze.length;vt++)if(Be[vt]){if(r.hasMakesDataTransform(ut=Be[vt]._fullInput)&&(ut=Be[vt]),ft[ut.uid])continue;ft[ut.uid]=1,ae(ze[vt]._fullInput,ut,[],ct)}return(wt.calc||wt.plot)&&(wt.fullReplot=!0),et&&wt.nChanges&&wt.nChangesAnim&&(wt.anim=wt.nChanges===wt.nChangesAnim&&pt?"all":"some"),wt}(ke,ve,qe,it,Qe,dt.newDataRevision);if(ue(ke)&&(dt.layoutReplot=!0),mt.calc||dt.calc){ke.calcdata=void 0;for(var at=Object.getOwnPropertyNames(Je),st=0;st<at.length;st++){var Tt=at[st],At=Tt.substring(0,5);if("xaxis"===At||"yaxis"===At){var Pt=Je[Tt]._emptyCategories;Pt&&Pt()}}}else r.supplyDefaultsUpdateCalc(ke.calcdata,qe);var kt=[];if(ce&&(ke._transitionData={},r.createTransitionData(ke),kt.push(function(){return D.addFrames(ke,ce)})),Je.transition&&!Oe&&(mt.anim||dt.anim))dt.ticks&&kt.push(m.doTicksRelayout),r.doCalcdata(ke),m.doAutoRangeAndConstraints(ke),kt.push(function(){return r.transitionFromReact(ke,mt,dt,Ce)});else if(mt.fullReplot||dt.layoutReplot||Oe)ke._fullLayout._skipDefaults=!0,kt.push(D._doPlot);else{for(var Ze in dt.arrays){var Xe=dt.arrays[Ze];if(Xe.length){var He=t.getComponentMethod(Ze,"drawOne");if(He!==T.noop)for(var We=0;We<Xe.length;We++)He(ke,Xe[We]);else{var rt=t.getComponentMethod(Ze,"draw");if(rt===T.noop)throw new Error("cannot draw components: "+Ze);rt(ke)}}}kt.push(r.previousPromises),mt.style&&kt.push(m.doTraceStyle),(mt.colorbars||dt.colorbars)&&kt.push(m.doColorBars),dt.legend&&kt.push(m.doLegend),dt.layoutstyle&&kt.push(m.layoutStyles),dt.axrange&&W(kt),dt.ticks&&kt.push(m.doTicksRelayout),dt.modebar&&kt.push(m.doModeBar),dt.camera&&kt.push(m.doCamera),kt.push(w)}kt.push(r.rehover,r.redrag,r.reselect),(Te=T.syncOrAsync(kt,ke))&&Te.then||(Te=Promise.resolve(ke))}else Te=D.newPlot(ke,be,Ie,Fe);return Te.then(function(){return ke.emit("plotly_react",{data:be,layout:Ie}),ke})},D.redraw=function(ke){if(ke=T.getGraphDiv(ke),!T.isPlotDiv(ke))throw new Error("This element is not a Plotly plot: "+ke);return v.cleanData(ke.data),v.cleanLayout(ke.layout),ke.calcdata=void 0,D._doPlot(ke).then(function(){return ke.emit("plotly_redraw"),ke})},D.relayout=X,D.restyle=N,D.setPlotConfig=function(ke){return T.extendFlat(h,ke)},D.update=xe,D._guiRelayout=Me(X),D._guiRestyle=Me(N),D._guiUpdate=Me(xe),D._storeDirectGUIEdit=function(ke,be,Ie){for(var Fe in Ie)G(Fe,b(ke,Fe).get(),Ie[Fe],be)}},72075:function(ee){"use strict";var D={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function A(k,l){for(var T in k){var b=k[T];b.valType?l[T]=b.dflt:(l[T]||(l[T]={}),A(b,l[T]))}})(D,e),ee.exports={configAttributes:D,dfltConfig:e}},86281:function(ee,D,e){"use strict";var A=e(73972),k=e(71828),l=e(9012),T=e(10820),b=e(31391),d=e(85594),a=e(72075).configAttributes,t=e(30962),i=k.extendDeepAll,r=k.isPlainObject,n=k.isArrayOrTypedArray,o=k.nestedProperty,s=k.valObjectMeta,u="_isSubplotObj",p="_isLinkedToArray",c="_deprecated",x=[u,p,"_arrayAttrRegexps",c];function g(f,S,w){if(!f)return!1;if(f._isLinkedToArray)if(h(S[w]))w++;else if(w<S.length)return!1;for(;w<S.length;w++){var E=f[S[w]];if(!r(E)||(f=E,w===S.length-1))break;if(f._isLinkedToArray){if(!h(S[++w]))return!1}else if("info_array"===f.valType){var L=S[++w];if(!h(L))return!1;var C=f.items;if(Array.isArray(C)){if(L>=C.length)return!1;if(2===f.dimensions){if(w++,S.length===w)return f;var O=S[w];if(!h(O))return!1;f=C[L][O]}else f=C[L]}else f=C}}return f}function h(f){return f===Math.round(f)&&f>=0}function y(){var f,S,w={};for(f in i(w,T),A.subplotsRegistry)if((S=A.subplotsRegistry[f]).layoutAttributes)if(Array.isArray(S.attr))for(var E=0;E<S.attr.length;E++)m(w,S,S.attr[E]);else m(w,S,"subplot"===S.attr?S.name:S.attr);for(f in A.componentsRegistry){var L=(S=A.componentsRegistry[f]).schema;if(L&&(L.subplots||L.layout)){var C=L.subplots;if(C&&C.xaxis&&!C.yaxis)for(var O in C.xaxis)delete w.yaxis[O];delete w.xaxis.shift,delete w.xaxis.autoshift}else"colorscale"===S.name?i(w,S.layoutAttributes):S.layoutAttributes&&_(w,S.layoutAttributes,S.name)}return{layoutAttributes:v(w)}}function v(f){return D.crawl(f,function(w,E,L){D.isValObject(w)?!0!==w.arrayOk&&"data_array"!==w.valType||(L[E+"src"]={valType:"string",editType:"none"}):r(w)&&(w.role="object")}),D.crawl(f,function(w,E,L){if(w){var C=w[p];C&&(delete w[p],L[E]={items:{}},L[E].items[C]=w,L[E].role="object")}}),function(S){!function w(E){for(var L in E)if(r(E[L]))w(E[L]);else if(Array.isArray(E[L]))for(var C=0;C<E[L].length;C++)w(E[L][C]);else E[L]instanceof RegExp&&(E[L]=E[L].toString())}(S)}(f),f}function m(f,S,w){var E=o(f,w),L=i({},S.layoutAttributes);L[u]=!0,E.set(L)}function _(f,S,w){var E=o(f,w);E.set(i(E.get()||{},S))}D.IS_SUBPLOT_OBJ=u,D.IS_LINKED_TO_ARRAY=p,D.DEPRECATED=c,D.UNDERSCORE_ATTRS=x,D.get=function(){var f={};A.allTypes.forEach(function(E){f[E]=function(L){var C,O;O=(C=A.modules[L]._module).basePlotModule;var R={type:null},q=i({},l),P=i({},C.attributes);D.crawl(P,function(F,j,G,te,J){o(q,J).set(void 0),void 0===F&&o(P,J).set(void 0)}),i(R,q),A.traceIs(L,"noOpacity")&&delete R.opacity,A.traceIs(L,"showLegend")||(delete R.showlegend,delete R.legendgroup),A.traceIs(L,"noHover")&&(delete R.hoverinfo,delete R.hoverlabel),C.selectPoints||delete R.selectedpoints,i(R,P),O.attributes&&i(R,O.attributes),R.type=L;var U={meta:C.meta||{},categories:C.categories||{},animatable:!!C.animatable,type:L,attributes:v(R)};if(C.layoutAttributes){var N={};i(N,C.layoutAttributes),U.layoutAttributes=v(N)}return C.animatable||D.crawl(U,function(F){D.isValObject(F)&&"anim"in F&&delete F.anim}),U}(E)});var S,w={};return Object.keys(A.transformsRegistry).forEach(function(E){var L,O;w[E]=(O=i({},A.transformsRegistry[L=E].attributes),Object.keys(A.componentsRegistry).forEach(function(R){var q=A.componentsRegistry[R];q.schema&&q.schema.transforms&&q.schema.transforms[L]&&Object.keys(q.schema.transforms[L]).forEach(function(P){_(O,q.schema.transforms[L][P],P)})}),{attributes:v(O)})}),{defs:{valObjects:s,metaKeys:x.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:f,layout:y(),transforms:w,frames:(S={frames:i({},b)},v(S),S.frames),animation:v(d),config:v(a)}},D.crawl=function(f,S,w,E){var L=w||0;E=E||"",Object.keys(f).forEach(function(C){var O=f[C];if(-1===x.indexOf(C)){var R=(E?E+".":"")+C;S(O,C,f,L,R),D.isValObject(O)||r(O)&&"impliedEdits"!==C&&D.crawl(O,S,L+1,R)}})},D.isValObject=function(f){return f&&void 0!==f.valType},D.findArrayAttributes=function(f){var S,w,E=[],L=[],C=[];function O(F,j,G,te){L=L.slice(0,te).concat([j]),C=C.slice(0,te).concat([F&&F._isLinkedToArray]),F&&("data_array"===F.valType||!0===F.arrayOk)&&("colorbar"!==L[te-1]||"ticktext"!==j&&"tickvals"!==j)&&R(S,0,"")}function R(F,j,G){var te=F[L[j]],J=G+L[j];if(j===L.length-1)n(te)&&E.push(w+J);else if(C[j]){if(Array.isArray(te))for(var X=0;X<te.length;X++)r(te[X])&&R(te[X],j+1,J+"["+X+"].")}else r(te)&&R(te,j+1,J+".")}S=f,w="",D.crawl(l,O),f._module&&f._module.attributes&&D.crawl(f._module.attributes,O);var q=f.transforms;if(q)for(var P=0;P<q.length;P++){var U=q[P],N=U._module;N&&(w="transforms["+P+"].",S=U,D.crawl(N.attributes,O))}return E},D.getTraceValObject=function(f,S){var w,E,L=S[0],C=1;if("transforms"===L){if(1===S.length)return l.transforms;var O=f.transforms;if(!Array.isArray(O)||!O.length)return!1;var R=S[1];if(!h(R)||R>=O.length)return!1;E=(w=(A.transformsRegistry[O[R].type]||{}).attributes)&&w[S[2]],C=3}else{var q=f._module;if(q||(q=(A.modules[f.type||l.type.dflt]||{})._module),!q)return!1;if(!(E=(w=q.attributes)&&w[L])){var P=q.basePlotModule;P&&P.attributes&&(E=P.attributes[L])}E||(E=l[L])}return g(E,S,C)},D.getLayoutValObject=function(f,S){return g(function(E,L){var C,O,R,q,P=E._basePlotModules;if(P){var U;for(C=0;C<P.length;C++){if((R=P[C]).attrRegex&&R.attrRegex.test(L)){if(R.layoutAttrOverrides)return R.layoutAttrOverrides;!U&&R.layoutAttributes&&(U=R.layoutAttributes)}var N=R.baseLayoutAttrOverrides;if(N&&L in N)return N[L]}if(U)return U}var F=E._modules;if(F)for(C=0;C<F.length;C++)if((q=F[C].layoutAttributes)&&L in q)return q[L];for(O in A.componentsRegistry){if("colorscale"===(R=A.componentsRegistry[O]).name&&0===L.indexOf("coloraxis"))return R.layoutAttributes[L];if(!R.schema&&L===R.name)return R.layoutAttributes}return L in T&&T[L]}(f,S[0]),S,1)}},44467:function(ee,D,e){"use strict";var A=e(71828),k=e(9012),l="templateitemname",T={name:{valType:"string",editType:"none"}};function b(a){return a&&"string"==typeof a}function d(a){return"s"!==a.charAt(a.length-1)&&A.warn("bad argument to arrayDefaultKey: "+a),a.substr(0,a.length-1)+"defaults"}T[l]={valType:"string",editType:"calc"},D.templatedArray=function(a,t){return t._isLinkedToArray=a,t.name=T.name,t[l]=T[l],t},D.traceTemplater=function(a){var t,i,r={};for(t in a)i=a[t],Array.isArray(i)&&i.length&&(r[t]=0);return{newTrace:function(n){var o={type:t=A.coerce(n,{},k,"type"),_template:null};if(t in r){var s=r[t]%(i=a[t]).length;r[t]++,o._template=i[s]}return o}}},D.newContainer=function(a,t,i){var r=a._template,n=r&&(r[t]||i&&r[i]);return A.isPlainObject(n)||(n=null),a[t]={_template:n}},D.arrayTemplater=function(a,t,i){var r=a._template,n=r&&r[d(t)],o=r&&r[t];Array.isArray(o)&&o.length||(o=[]);var s={};return{newItem:function(u){var p={name:u.name,_input:u},c=p[l]=u[l];if(!b(c))return p._template=n,p;for(var x=0;x<o.length;x++){var g=o[x];if(g.name===c)return s[c]=1,p._template=g,p}return p[i]=u[i]||!1,p._template=!1,p},defaultItems:function(){for(var u=[],p=0;p<o.length;p++){var c=o[p],x=c.name;if(b(x)&&!s[x]){var g={_template:c,name:x,_input:{_templateitemname:x}};g[l]=c[l],u.push(g),s[x]=1}}return u}}},D.arrayDefaultKey=d,D.arrayEditor=function(a,t,i){var r=(A.nestedProperty(a,t).get()||[]).length,n=i._index,o=n>=r&&(i._input||{})._templateitemname;o&&(n=r);var s,u=t+"["+n+"]";function p(){s={},o&&(s[u]={},s[u][l]=o)}function c(g,h){o?A.nestedProperty(s[u],g).set(h):s[u+"."+g]=h}function x(){var g=s;return p(),g}return p(),{modifyBase:function(g,h){s[g]=h},modifyItem:c,getUpdateObj:x,applyUpdate:function(g,h){g&&c(g,h);var y=x();for(var v in y)A.nestedProperty(a,v).set(y[v])}}}},61549:function(ee,D,e){"use strict";var A=e(39898),k=e(73972),l=e(74875),T=e(71828),b=e(63893),d=e(33306),a=e(7901),t=e(91424),i=e(92998),r=e(64168),n=e(89298),o=e(18783),s=e(99082),u=s.enforce,p=s.clean,c=e(71739).doAutoRange,x="start";function g(_,f,S){for(var w=0;w<S.length;w++){var E=S[w][0],L=S[w][1];if(!(E[0]>=_[1]||E[1]<=_[0])&&L[0]<f[1]&&L[1]>f[0])return!0}return!1}function h(_){var f,S,w,E,L,C,O=_._fullLayout,R=O._size,q=R.p,P=n.list(_,"",!0);if(O._paperdiv.style({width:_._context.responsive&&O.autosize&&!_._context._hasZeroWidth&&!_.layout.width?"100%":O.width+"px",height:_._context.responsive&&O.autosize&&!_._context._hasZeroHeight&&!_.layout.height?"100%":O.height+"px"}).selectAll(".main-svg").call(t.setSize,O.width,O.height),_._context.setBackground(_,O.paper_bgcolor),D.drawMainTitle(_),r.manage(_),!O._has("cartesian"))return l.previousPromises(_);function U(Oe,je,qe){var Je=Oe._lw/2;return"x"===Oe._id.charAt(0)?je?"top"===qe?je._offset-q-Je:je._offset+je._length+q+Je:R.t+R.h*(1-(Oe.position||0))+Je%1:je?"right"===qe?je._offset+je._length+q+Je:je._offset-q-Je:R.l+R.w*(Oe.position||0)+Je%1}for(f=0;f<P.length;f++){var N=(E=P[f])._anchorAxis;E._linepositions={},E._lw=t.crispRound(_,E.linewidth,1),E._mainLinePosition=U(E,N,E.side),E._mainMirrorPosition=E.mirror&&N?U(E,N,o.OPPOSITE_SIDE[E.side]):null}var F=[],j=[],G=[],te=1===a.opacity(O.paper_bgcolor)&&1===a.opacity(O.plot_bgcolor)&&O.paper_bgcolor===O.plot_bgcolor;for(S in O._plots)if((w=O._plots[S]).mainplot)w.bg&&w.bg.remove(),w.bg=void 0;else{var J=w.xaxis.domain,X=w.yaxis.domain,Y=w.plotgroup;if(g(J,X,G)){var W=Y.node(),$=w.bg=T.ensureSingle(Y,"rect","bg");W.insertBefore($.node(),W.childNodes[0]),j.push(S)}else Y.select("rect.bg").remove(),G.push([J,X]),te||(F.push(S),j.push(S))}var ne,re,oe,ue,xe,Me,me,pe,ge,Pe,_e,we,se,ae=O._bgLayer.selectAll(".bg").data(F);for(ae.enter().append("rect").classed("bg",!0),ae.exit().remove(),ae.each(function(Oe){O._plots[Oe].bg=A.select(this)}),f=0;f<j.length;f++)L=(w=O._plots[j[f]]).xaxis,C=w.yaxis,w.bg&&void 0!==L._offset&&void 0!==C._offset&&w.bg.call(t.setRect,L._offset-q,C._offset-q,L._length+2*q,C._length+2*q).call(a.fill,O.plot_bgcolor).style("stroke-width",0);if(!O._hasOnlyLargeSploms)for(S in O._plots){L=(w=O._plots[S]).xaxis,C=w.yaxis;var fe,Ee,ke=w.clipId="clip"+O._uid+S+"plot",be=T.ensureSingleById(O._clips,"clipPath",ke,function(Oe){Oe.classed("plotclip",!0).append("rect")});w.clipRect=be.select("rect").attr({width:L._length,height:C._length}),t.setTranslate(w.plot,L._offset,C._offset),w._hasClipOnAxisFalse?(fe=null,Ee=ke):(fe=ke,Ee=null),t.setClipUrl(w.plot,fe,_),w.layerClipId=Ee}function Ie(Oe){return"M"+ne+","+Oe+"H"+re}function Fe(Oe){return"M"+L._offset+","+Oe+"h"+L._length}function ce(Oe){return"M"+Oe+","+pe+"V"+me}function Te(Oe){return void 0!==C._shift&&(Oe+=C._shift),"M"+Oe+","+C._offset+"v"+C._length}function ve(Oe,je,qe){if(!Oe.showline||S!==Oe._mainSubplot)return"";if(!Oe._anchorAxis)return qe(Oe._mainLinePosition);var Je=je(Oe._mainLinePosition);return Oe.mirror&&(Je+=je(Oe._mainMirrorPosition)),Je}for(S in O._plots){C=(w=O._plots[S]).yaxis;var Ce="M0,0";y(L=w.xaxis,S)&&(xe=m(L,"left",C,P),ne=L._offset-(xe?q+xe:0),Me=m(L,"right",C,P),re=L._offset+L._length+(Me?q+Me:0),oe=U(L,C,"bottom"),ue=U(L,C,"top"),!(se=!L._anchorAxis||S!==L._mainSubplot)||"allticks"!==L.mirror&&"all"!==L.mirror||(L._linepositions[S]=[oe,ue]),Ce=ve(L,Ie,Fe),se&&L.showline&&("all"===L.mirror||"allticks"===L.mirror)&&(Ce+=Ie(oe)+Ie(ue)),w.xlines.style("stroke-width",L._lw+"px").call(a.stroke,L.showline?L.linecolor:"rgba(0,0,0,0)")),w.xlines.attr("d",Ce);var Re="M0,0";y(C,S)&&(_e=m(C,"bottom",L,P),me=C._offset+C._length+(_e?q:0),we=m(C,"top",L,P),pe=C._offset-(we?q:0),ge=U(C,L,"left"),Pe=U(C,L,"right"),!(se=!C._anchorAxis||S!==C._mainSubplot)||"allticks"!==C.mirror&&"all"!==C.mirror||(C._linepositions[S]=[ge,Pe]),Re=ve(C,ce,Te),se&&C.showline&&("all"===C.mirror||"allticks"===C.mirror)&&(Re+=ce(ge)+ce(Pe)),w.ylines.style("stroke-width",C._lw+"px").call(a.stroke,C.showline?C.linecolor:"rgba(0,0,0,0)")),w.ylines.attr("d",Re)}return n.makeClipPaths(_),l.previousPromises(_)}function y(_,f){return(_.ticks||_.showline)&&(f===_._mainSubplot||"all"===_.mirror||"allticks"===_.mirror)}function v(_,f,S){if(!S.showline||!S._lw)return!1;if("all"===S.mirror||"allticks"===S.mirror)return!0;var w=S._anchorAxis;if(!w)return!1;var E=o.FROM_BL[f];return S.side===f?w.domain[E]===_.domain[E]:S.mirror&&w.domain[1-E]===_.domain[1-E]}function m(_,f,S,w){if(v(_,f,S))return S._lw;for(var E=0;E<w.length;E++){var L=w[E];if(L._mainAxis===S._mainAxis&&v(_,f,L))return L._lw}return 0}D.layoutStyles=function(_){return T.syncOrAsync([l.doAutoMargin,h],_)},D.drawMainTitle=function(_){var f,N,F,S=_._fullLayout.title,w=_._fullLayout,E=(F="middle",T.isRightAnchor(N=w.title)?F="end":T.isLeftAnchor(N)&&(F=x),F),L=function(U){var N=U.title,F="0em";return T.isTopAnchor(N)?F=o.CAP_SHIFT+"em":T.isMiddleAnchor(N)&&(F=o.MID_SHIFT+"em"),F}(w),C=function(U,N){var F=U.title,j=U._size,G=0;return"0em"!==N&&N?N===o.CAP_SHIFT+"em"&&(G=F.pad.t):G=-F.pad.b,"auto"===F.y?j.t/2:"paper"===F.yref?j.t+j.h-j.h*F.y+G:U.height-U.height*F.y+G}(w,L),O=function(U,N){var F=U.title,j=U._size,G=0;return N===x?G=F.pad.l:"end"===N&&(G=-F.pad.r),"paper"===F.xref?j.l+j.w*F.x+G:U.width*F.x+G}(w,E);if(i.draw(_,"gtitle",{propContainer:w,propName:"title.text",placeholder:w._dfltTitle.plot,attributes:{x:O,y:C,"text-anchor":E,dy:L}}),S.text&&S.automargin){var R=A.selectAll(".gtitle"),q=t.bBox(R.node()).height,P=function(U,N,F){var W,$,ne,re,oe,j=N.y,te=j>.5?"t":"b",X=0;return"paper"===N.yref?X=F+N.pad.t+N.pad.b:"container"===N.yref&&(W=j,ne=U._fullLayout.height,re=F,oe=0,"middle"===($=N.yanchor)&&(oe+=re/2),"t"===te?("top"===$&&(oe+=re),oe+=ne-W*ne):("bottom"===$&&(oe+=re),oe+=W*ne),X=oe+N.pad.t+N.pad.b),X>U._fullLayout.margin[te]?X:0}(_,S,q);P>0&&(function(U,N,F,j){var W,$,ne,re,oe,ue,xe,Me,G="title.automargin",te=U._fullLayout.title,J=te.y>.5?"t":"b",X={x:te.x,y:te.y,t:0,b:0},Y={};"paper"===te.yref&&(W=U,ne=J,re=N,oe=j,ue="paper"===($=te).yref?W._fullLayout._size.h:W._fullLayout.height,xe=T.isTopAnchor($)?re:re-oe,Me="b"===ne?ue-xe:xe,!(T.isTopAnchor($)&&"t"===ne||T.isBottomAnchor($)&&"b"===ne)&&Me<oe)?X[J]=F:"container"===te.yref&&(Y[J]=F,U._fullLayout._reservedMargin[G]=Y),l.allowAutoMargin(U,G),l.autoMargin(U,G,X)}(_,C,P,q),R.attr({x:O,y:C,"text-anchor":E,dy:(f=S.yanchor,"top"===f?o.CAP_SHIFT+.3+"em":"bottom"===f?"-0.3em":o.MID_SHIFT+"em")}).call(b.positionText,O,C))}},D.doTraceStyle=function(_){var f,S=_.calcdata,w=[];for(f=0;f<S.length;f++){var E=S[f],L=E[0]||{},C=L.trace||{},O=C._module||{},R=O.arraysToCalcdata;R&&R(E,C);var q=O.editStyle;q&&w.push({fn:q,cd0:L})}if(w.length){for(f=0;f<w.length;f++){var P=w[f];P.fn(_,P.cd0)}d(_),D.redrawReglTraces(_)}return l.style(_),k.getComponentMethod("legend","draw")(_),l.previousPromises(_)},D.doColorBars=function(_){return k.getComponentMethod("colorbar","draw")(_),l.previousPromises(_)},D.layoutReplot=function(_){var f=_.layout;return _.layout=void 0,k.call("_doPlot",_,"",f)},D.doLegend=function(_){return k.getComponentMethod("legend","draw")(_),l.previousPromises(_)},D.doTicksRelayout=function(_){return n.draw(_,"redraw"),_._fullLayout._hasOnlyLargeSploms&&(k.subplotsRegistry.splom.updateGrid(_),d(_),D.redrawReglTraces(_)),D.drawMainTitle(_),l.previousPromises(_)},D.doModeBar=function(_){var f=_._fullLayout;r.manage(_);for(var S=0;S<f._basePlotModules.length;S++){var w=f._basePlotModules[S].updateFx;w&&w(_)}return l.previousPromises(_)},D.doCamera=function(_){for(var f=_._fullLayout,S=f._subplots.gl3d,w=0;w<S.length;w++){var E=f[S[w]];E._scene.setViewport(E)}},D.drawData=function(_){var f=_._fullLayout;d(_);for(var S=f._basePlotModules,w=0;w<S.length;w++)S[w].plot(_);return D.redrawReglTraces(_),l.style(_),k.getComponentMethod("selections","draw")(_),k.getComponentMethod("shapes","draw")(_),k.getComponentMethod("annotations","draw")(_),k.getComponentMethod("images","draw")(_),f._replotting=!1,l.previousPromises(_)},D.redrawReglTraces=function(_){var f=_._fullLayout;if(f._has("regl")){var S,w,E=_._fullData,L=[],C=[];for(f._hasOnlyLargeSploms&&f._splomGrid.draw(),S=0;S<E.length;S++){var O=E[S];!0===O.visible&&0!==O._length&&("splom"===O.type?f._splomScenes[O.uid].draw():"scattergl"===O.type?T.pushUnique(L,O.xaxis+O.yaxis):"scatterpolargl"===O.type&&T.pushUnique(C,O.subplot))}for(S=0;S<L.length;S++)(w=f._plots[L[S]])._scene&&w._scene.draw();for(S=0;S<C.length;S++)(w=f[C[S]]._subplot)._scene&&w._scene.draw()}},D.doAutoRangeAndConstraints=function(_){for(var f,S=n.list(_,"",!0),w={},E=0;E<S.length;E++)if(!w[(f=S[E])._id]){w[f._id]=1,p(_,f),c(_,f);var L=f._matchGroup;if(L)for(var C in L){var O=n.getFromId(_,C);c(_,O,f.range),w[C]=1}}u(_)},D.finalDraw=function(_){k.getComponentMethod("rangeslider","draw")(_),k.getComponentMethod("rangeselector","draw")(_)},D.drawMarginPushers=function(_){k.getComponentMethod("legend","draw")(_),k.getComponentMethod("rangeselector","draw")(_),k.getComponentMethod("sliders","draw")(_),k.getComponentMethod("updatemenus","draw")(_),k.getComponentMethod("colorbar","draw")(_)}},96318:function(ee,D,e){"use strict";var A=e(71828),k=A.isPlainObject,l=e(86281),T=e(74875),b=e(9012),d=e(44467),a=e(72075).dfltConfig;function t(c,x){c=A.extendDeep({},c);var g,h,y=Object.keys(c).sort();function v(w,E,L){if(k(E)&&k(w))t(w,E);else if(Array.isArray(E)&&Array.isArray(w)){var C=d.arrayTemplater({_template:c},L);for(h=0;h<E.length;h++){var O=E[h],R=C.newItem(O)._template;R&&t(R,O)}var q=C.defaultItems();for(h=0;h<q.length;h++)E.push(q[h]._template);for(h=0;h<E.length;h++)delete E[h].templateitemname}}for(g=0;g<y.length;g++){var m=y[g],_=c[m];if(m in x?v(_,x[m],m):x[m]=_,i(m)===m)for(var f in x){var S=i(f);f===S||S!==m||f in c||v(_,x[f],m)}}}function i(c){return c.replace(/[0-9]+$/,"")}function r(c,x,g,h,y){var v=y&&g(y);for(var m in c){var _=c[m],f=s(c,m,h),S=s(c,m,y),w=g(S);if(!w){var E=i(m);E!==m&&(w=g(S=s(c,E,y)))}if(!(v&&v===w||!w||w._noTemplating||"data_array"===w.valType||w.arrayOk&&Array.isArray(_)))if(!w.valType&&k(_))r(_,x,g,f,S);else if(w._isLinkedToArray&&Array.isArray(_))for(var L=!1,C=0,O={},R=0;R<_.length;R++){var q=_[R];if(k(q)){var P=q.name;if(P)O[P]||(r(q,x,g,s(_,C,f),s(_,C,S)),C++,O[P]=1);else if(!L){var U=s(c,d.arrayDefaultKey(m),h),N=s(_,C,f);r(q,x,g,N,s(_,C,S));var F=A.nestedProperty(x,N);A.nestedProperty(x,U).set(F.get()),F.set(null),L=!0}}}else A.nestedProperty(x,f).set(_)}}function n(c,x){return l.getLayoutValObject(c,A.nestedProperty({},x).parts)}function o(c,x){return l.getTraceValObject(c,A.nestedProperty({},x).parts)}function s(c,x,g){return g?Array.isArray(c)?g+"["+x+"]":g+"."+x:x}function u(c){for(var x=0;x<c.length;x++)if(k(c[x]))return!0}function p(c){var x;switch(c.code){case"data":x="The template has no key data.";break;case"layout":x="The template has no key layout.";break;case"missing":x=c.path?"There are no templates for item "+c.path+" with name "+c.templateitemname:"There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":x=c.path?"The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?"Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":"The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":x="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type."}return c.msg=x,c}D.makeTemplate=function(c){c=A.isPlainObject(c)?c:A.getGraphDiv(c),c=A.extendDeep({_context:a},{data:c.data,layout:c.layout}),T.supplyDefaults(c);var x=c.data||[],g=c.layout||{};g._basePlotModules=c._fullLayout._basePlotModules,g._modules=c._fullLayout._modules;var h={data:{},layout:{}};x.forEach(function(C){var O={};r(C,O,o.bind(null,C));var R=A.coerce(C,{},b,"type"),q=h.data[R];q||(q=h.data[R]=[]),q.push(O)}),r(g,h.layout,n.bind(null,g)),delete h.layout.template;var y=g.template;if(k(y)){var v,m,_,f,S,w,E=y.layout;k(E)&&t(E,h.layout);var L=y.data;if(k(L)){for(m in h.data)if(_=L[m],Array.isArray(_)){for(w=(S=h.data[m]).length,f=_.length,v=0;v<w;v++)t(_[v%f],S[v]);for(v=w;v<f;v++)S.push(A.extendDeep({},_[v]))}for(m in L)m in h.data||(h.data[m]=A.extendDeep([],L[m]))}}return h},D.validateTemplate=function(c,x){var g=A.extendDeep({},{_context:a,data:c.data,layout:c.layout}),h=g.layout||{};k(x)||(x=h.template||{});var y=x.layout,v=x.data,m=[];g.layout=h,g.layout.template=x,T.supplyDefaults(g);var _=g._fullLayout,f=g._fullData,S={};if(k(y)?(function q(P,U){for(var N in P)if("_"!==N.charAt(0)&&k(P[N])){var F,j=i(N),G=[];for(F=0;F<U.length;F++)G.push(s(P,N,U[F])),j!==N&&G.push(s(P,j,U[F]));for(F=0;F<G.length;F++)S[G[F]]=1;q(P[N],G)}}(_,["layout"]),function q(P,U){for(var N in P)if(-1===N.indexOf("defaults")&&k(P[N])){var F=s(P,N,U);S[F]?q(P[N],F):m.push({code:"unused",path:F})}}(y,"layout")):m.push({code:"layout"}),k(v)){for(var w,E={},L=0;L<f.length;L++){var C=f[L];E[w=C.type]=(E[w]||0)+1,C._fullInput._template||m.push({code:"missing",index:C._fullInput.index,traceType:w})}for(w in v){var O=v[w].length,R=E[w]||0;O>R?m.push({code:"unused",traceType:w,templateCount:O,dataCount:R}):R>O&&m.push({code:"reused",traceType:w,templateCount:O,dataCount:R})}}else m.push({code:"data"});if(function q(P,U){for(var N in P)if("_"!==N.charAt(0)){var F=P[N],j=s(P,N,U);k(F)?(Array.isArray(P)&&!1===F._template&&F.templateitemname&&m.push({code:"missing",path:j,templateitemname:F.templateitemname}),q(F,j)):Array.isArray(F)&&u(F)&&q(F,j)}}({data:f,layout:_},""),m.length)return m.map(p)}},403:function(ee,D,e){"use strict";var A=e(92770),k=e(72391),l=e(74875),T=e(71828),b=e(25095),d=e(5900),a=e(70942),t=e(11506).version,i={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};ee.exports=function(r,n){var o,s,u,p;function c(R){return!(R in n)||T.validate(n[R],i[R])}if(n=n||{},T.isPlainObject(r)?(o=r.data||[],s=r.layout||{},u=r.config||{},p={}):(r=T.getGraphDiv(r),o=T.extendDeep([],r.data),s=T.extendDeep({},r.layout),u=r._context,p=r._fullLayout||{}),!c("width")&&null!==n.width||!c("height")&&null!==n.height)throw new Error("Height and width should be pixel values.");if(!c("format"))throw new Error("Export format is not "+T.join2(i.format.values,", "," or ")+".");var x={};function g(R,q){return T.coerce(n,x,i,R,q)}var h=g("format"),y=g("width"),v=g("height"),m=g("scale"),_=g("setBackground"),f=g("imageDataOnly"),S=document.createElement("div");S.style.position="absolute",S.style.left="-5000px",document.body.appendChild(S);var w=T.extendFlat({},s);y?w.width=y:null===n.width&&A(p.width)&&(w.width=p.width),v?w.height=v:null===n.height&&A(p.height)&&(w.height=p.height);var E=T.extendFlat({},u,{_exportedPlot:!0,staticPlot:!0,setBackground:_}),L=b.getRedrawFunc(S);function C(){return new Promise(function(R){setTimeout(R,b.getDelay(S._fullLayout))})}function O(){return new Promise(function(R,q){var P=d(S,h,m),U=S._fullLayout.width,N=S._fullLayout.height;function F(){k.purge(S),document.body.removeChild(S)}if("full-json"===h){var j=l.graphJson(S,!1,"keepdata","object",!0,!0);return j.version=t,j=JSON.stringify(j),F(),R(f?j:b.encodeJSON(j))}if(F(),"svg"===h)return R(f?P:b.encodeSVG(P));var G=document.createElement("canvas");G.id=T.randstr(),a({format:h,width:U,height:N,scale:m,canvas:G,svg:P,promise:!0}).then(R).catch(q)})}return new Promise(function(R,q){k.newPlot(S,o,w,E).then(L).then(C).then(O).then(function(P){var U;R((U=P,f?U.replace(b.IMAGE_URL_PREFIX,""):U))}).catch(function(P){q(P)})})}},84936:function(ee,D,e){"use strict";var A=e(71828),k=e(74875),l=e(86281),T=e(72075).dfltConfig,b=A.isPlainObject,d=Array.isArray,a=A.isArrayOrTypedArray;function t(c,x,g,h,y,v){v=v||[];for(var m=Object.keys(c),_=0;_<m.length;_++){var f=m[_];if("transforms"!==f){var S=v.slice();S.push(f);var w=c[f],E=x[f],L=s(g,f),C=(L||{}).valType,O="info_array"===C,R="colorscale"===C,q=(L||{}).items;if(o(g,f))if(b(w)&&b(E)&&"any"!==C)t(w,E,L,h,y,S);else if(O&&d(w)){w.length>E.length&&h.push(n("unused",y,S.concat(E.length)));var P,U,F,j,G=E.length,te=Array.isArray(q);if(te&&(G=Math.min(G,q.length)),2===L.dimensions)for(U=0;U<G;U++)if(d(w[U])){w[U].length>E[U].length&&h.push(n("unused",y,S.concat(U,E[U].length)));var J=E[U].length;for(P=0;P<(te?Math.min(J,q[U].length):J);P++)j=E[U][P],A.validate(F=w[U][P],te?q[U][P]:q)?j!==F&&j!==+F&&h.push(n("dynamic",y,S.concat(U,P),F,j)):h.push(n("value",y,S.concat(U,P),F))}else h.push(n("array",y,S.concat(U),w[U]));else for(U=0;U<G;U++)j=E[U],A.validate(F=w[U],te?q[U]:q)?j!==F&&j!==+F&&h.push(n("dynamic",y,S.concat(U),F,j)):h.push(n("value",y,S.concat(U),F))}else if(L.items&&!O&&d(w)){var X,Y,W=q[Object.keys(q)[0]],$=[];for(X=0;X<E.length;X++){var ne=E[X]._index||X;if((Y=S.slice()).push(ne),b(w[ne])&&b(E[X])){$.push(ne);var re=w[ne],oe=E[X];b(re)&&!1!==re.visible&&!1===oe.visible?h.push(n("invisible",y,Y)):t(re,oe,W,h,y,Y)}}for(X=0;X<w.length;X++)(Y=S.slice()).push(X),b(w[X])?-1===$.indexOf(X)&&h.push(n("unused",y,Y)):h.push(n("object",y,Y,w[X]))}else!b(w)&&b(E)?h.push(n("object",y,S,w)):a(w)||!a(E)||O||R?f in x?A.validate(w,L)?"enumerated"===L.valType&&(L.coerceNumber&&w!==+E||w!==E)&&h.push(n("dynamic",y,S,w,E)):h.push(n("value",y,S,w)):h.push(n("unused",y,S,w)):h.push(n("array",y,S,w));else h.push(n("schema",y,S))}}return h}ee.exports=function(c,x){void 0===c&&(c=[]),void 0===x&&(x={});var g,h,y=l.get(),v=[],m={_context:A.extendFlat({},T)};d(c)?(m.data=A.extendDeep([],c),g=c):(m.data=[],g=[],v.push(n("array","data"))),b(x)?(m.layout=A.extendDeep({},x),h=x):(m.layout={},h={},arguments.length>1&&v.push(n("object","layout"))),k.supplyDefaults(m);for(var _=m._fullData,f=g.length,S=0;S<f;S++){var w=g[S],E=["data",S];if(b(w)){var L=_[S],C=L.type,O=y.traces[C].attributes;O.type={valType:"enumerated",values:[C]},!1===L.visible&&!1!==w.visible&&v.push(n("invisible",E)),t(w,L,O,v,E);var R=w.transforms,q=L.transforms;if(R){d(R)||v.push(n("array",E,["transforms"])),E.push("transforms");for(var P=0;P<R.length;P++){var U=["transforms",P],N=R[P].type;if(b(R[P])){var F=y.transforms[N]?y.transforms[N].attributes:{};F.type={valType:"enumerated",values:Object.keys(y.transforms)},t(R[P],q[P],F,v,E,U)}else v.push(n("object",E,U))}}}else v.push(n("object",E))}return t(h,m._fullLayout,function(te,J){for(var X=te.layout.layoutAttributes,Y=0;Y<J.length;Y++){var W=J[Y],$=te.traces[W.type],ne=$.layoutAttributes;ne&&A.extendFlat(W.subplot?X[$.attributes.subplot.dflt]:X,ne)}return X}(y,_),v,"layout"),0===v.length?void 0:v};var i={object:function(c,x){return("layout"===c&&""===x?"The layout argument":"data"===c[0]&&""===x?"Trace "+c[1]+" in the data argument":r(c)+"key "+x)+" must be linked to an object container"},array:function(c,x){return("data"===c?"The data argument":r(c)+"key "+x)+" must be linked to an array container"},schema:function(c,x){return r(c)+"key "+x+" is not part of the schema"},unused:function(c,x,g){var h=b(g)?"container":"key";return r(c)+h+" "+x+" did not get coerced"},dynamic:function(c,x,g,h){return[r(c)+"key",x,"(set to '"+g+"')","got reset to","'"+h+"'","during defaults."].join(" ")},invisible:function(c,x){return(x?r(c)+"item "+x:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,x,g){return[r(c)+"key "+x,"is set to an invalid value ("+g+")"].join(" ")}};function r(c){return d(c)?"In data trace "+c[1]+", ":"In "+c+", "}function n(c,x,g,h,y){var v,m;g=g||"",d(x)?(v=x[0],m=x[1]):(v=x,m=null);var _=function(S){if(!d(S))return String(S);for(var w="",E=0;E<S.length;E++){var L=S[E];"number"==typeof L?w=w.substr(0,w.length-1)+"["+L+"]":w+=L,E<S.length-1&&(w+=".")}return w}(g),f=i[c](x,_,h,y);return A.log(f),{code:c,container:v,trace:m,path:g,astr:_,msg:f}}function o(c,x){var g=p(x),h=g.keyMinusId;return!!(h in c&&c[h]._isSubplotObj&&g.id)||x in c}function s(c,x){return x in c?c[x]:c[p(x).keyMinusId]}var u=A.counterRegex("([a-z]+)");function p(c){var x=c.match(u);return{keyMinusId:x&&x[1],id:x&&x[2]}}},85594:function(ee){"use strict";ee.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(ee,D,e){"use strict";var A=e(71828),k=e(44467);ee.exports=function(l,T,b){var d,a,t=b.name,i=b.inclusionAttr||"visible",r=T[t],n=A.isArrayOrTypedArray(l[t])?l[t]:[],o=T[t]=[],s=k.arrayTemplater(T,t,i);for(d=0;d<n.length;d++){var u=n[d];A.isPlainObject(u)?a=s.newItem(u):(a=s.newItem({}))[i]=!1,a._index=d,!1!==a[i]&&b.handleItemDefaults(u,a,T,b),o.push(a)}var p=s.defaultItems();for(d=0;d<p.length;d++)(a=p[d])._index=o.length,b.handleItemDefaults({},a,T,b,{}),o.push(a);if(A.isArrayOrTypedArray(r)){var c=Math.min(r.length,o.length);for(d=0;d<c;d++)A.relinkPrivateKeys(o[d],r[d])}return o}},9012:function(ee,D,e){"use strict";var A=e(41940),k=e(77914);ee.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:A({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:k.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(ee,D,e){"use strict";var A=e(92770),k=e(71828),l=k.dateTime2ms,T=k.incrementMonth,b=e(50606).ONEAVGMONTH;ee.exports=function(d,a,t,i){if("date"!==a.type)return{vals:i};var r=d[t+"periodalignment"];if(!r)return{vals:i};var n,o=d[t+"period"];if(A(o)){if((o=+o)<=0)return{vals:i}}else if("string"==typeof o&&"M"===o.charAt(0)){var s=+o.substring(1);if(!(s>0&&Math.round(s)===s))return{vals:i};n=s}for(var u=a.calendar,p="start"===r,c="end"===r,g=l(d[t+"period0"],u)||0,h=[],y=[],v=[],m=i.length,_=0;_<m;_++){var f,S,w,E=i[_];if(n){for(f=Math.round((E-g)/(n*b)),w=T(g,n*f,u);w>E;)w=T(w,-n,u);for(;w<=E;)w=T(w,n,u);S=T(w,-n,u)}else{for(w=g+(f=Math.round((E-g)/o))*o;w>E;)w-=o;for(;w<=E;)w+=o;S=w-o}h[_]=p?S:c?w:(S+w)/2,y[_]=S,v[_]=w}return{vals:h,starts:y,ends:v}}},89502:function(ee){"use strict";ee.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(ee,D,e){"use strict";var A=e(39898),k=e(92770),l=e(71828),T=e(50606).FP_SAFE,b=e(73972),d=e(91424),a=e(41675),t=a.getFromId,i=a.isLinked;function r(_,f){var S,w,E=[],L=_._fullLayout,C=o(L,f,0),O=o(L,f,1),R=u(_,f),q=R.min,P=R.max;if(0===q.length||0===P.length)return l.simpleMap(f.range,f.r2l);var U=q[0].val,N=P[0].val;for(S=1;S<q.length&&U===N;S++)U=Math.min(U,q[S].val);for(S=1;S<P.length&&U===N;S++)N=Math.max(N,P[S].val);var F=f.autorange,j="reversed"===F||"min reversed"===F||"max reversed"===F;if(!j&&f.range){var G=l.simpleMap(f.range,f.r2l);j=G[1]<G[0]}"reversed"===f.autorange&&(f.autorange=!0);var te,J,X,Y,W,$,ne=f.rangemode,re="tozero"===ne,oe="nonnegative"===ne,ue=f._length,xe=ue/10,Me=0;for(S=0;S<q.length;S++)for(te=q[S],w=0;w<P.length;w++)($=(J=P[w]).val-te.val-n(f,te.val,J.val))>0&&((W=ue-C(te)-O(J))>xe?$/W>Me&&(X=te,Y=J,Me=$/W):$/ue>Me&&(X={val:te.val,nopad:1},Y={val:J.val,nopad:1},Me=$/ue));if(U===N){var me=U-1,pe=U+1;if(re)if(0===U)E=[0,1];else{var ge=(U>0?P:q).reduce(function(_e,we){return Math.max(_e,O(we))},0),Pe=U/(1-Math.min(.5,ge/ue));E=U>0?[0,Pe]:[Pe,0]}else E=oe?[Math.max(0,me),Math.max(1,pe)]:[me,pe]}else re?(X.val>=0&&(X={val:0,nopad:1}),Y.val<=0&&(Y={val:0,nopad:1})):oe&&(X.val-Me*C(X)<0&&(X={val:0,nopad:1}),Y.val<=0&&(Y={val:1,nopad:1})),Me=(Y.val-X.val-n(f,te.val,J.val))/(ue-C(X)-O(Y)),E=[X.val-Me*C(X),Y.val+Me*O(Y)];return E=m(E,f),f.limitRange&&f.limitRange(),j&&E.reverse(),l.simpleMap(E,f.l2r||Number)}function n(_,f,S){var w=0;if(_.rangebreaks)for(var E=_.locateBreaks(f,S),L=0;L<E.length;L++){var C=E[L];w+=C.max-C.min}return w}function o(_,f,S){var w=.05*f._length,E=f._anchorAxis||{};if(-1!==(f.ticklabelposition||"").indexOf("inside")||-1!==(E.ticklabelposition||"").indexOf("inside")){var L=f.isReversed();if(!L){var C=l.simpleMap(f.range,f.r2l);L=C[1]<C[0]}L&&(S=!S)}var O=0;return i(_,f._id)||(O=function(R,q,P){var U=0,N="x"===q._id.charAt(0);for(var F in R._plots){var j=R._plots[F];if(q._id===j.xaxis._id||q._id===j.yaxis._id){var G=(N?j.yaxis:j.xaxis)||{};if(-1!==(G.ticklabelposition||"").indexOf("inside")&&(!P&&("left"===G.side||"bottom"===G.side)||P&&("top"===G.side||"right"===G.side))){if(G._vals){var te=l.deg2rad(G._tickAngles[G._id+"tick"]||0),J=Math.abs(Math.cos(te)),X=Math.abs(Math.sin(te));G._vals[0].bb||G._selections[G._id+"tick"].each(function(oe){var ue=A.select(this);ue.select(".text-math-group").empty()&&(oe.bb=d.bBox(ue.node()))});for(var W=0;W<G._vals.length;W++){var $=G._vals[W].bb;if($){var ne=2*s+$.width,re=2*s+$.height;U=Math.max(U,N?Math.max(ne*J,re*X):Math.max(re*J,ne*X))}}}"inside"===G.ticks&&"inside"===G.ticklabelposition&&(U+=G.ticklen||0)}}}return U}(_,f,S)),w=Math.max(O,w),"domain"===f.constrain&&f._inputDomain&&(w*=(f._inputDomain[1]-f._inputDomain[0])/(f.domain[1]-f.domain[0])),function(R){return R.nopad?0:R.pad+(R.extrapad?w:O)}}ee.exports={applyAutorangeOptions:m,getAutoRange:r,makePadFn:o,doAutoRange:function(_,f,S){if(f.setScale(),f.autorange){f.range=S?S.slice():r(_,f),f._r=f.range.slice(),f._rl=l.simpleMap(f._r,f.r2l);var w=f._input,E={};E[f._attr+".range"]=f.range,E[f._attr+".autorange"]=f.autorange,b.call("_storeDirectGUIEdit",_.layout,_._fullLayout._preGUI,E),w.range=f.range.slice(),w.autorange=f.autorange}var L=f._anchorAxis;if(L&&L.rangeslider){var C=L.rangeslider[f._name];C&&"auto"===C.rangemode&&(C.range=r(_,f)),L._input.rangeslider[f._name]=l.extendFlat({},C)}},findExtremes:function(_,f,S){S||(S={}),_._m||_.setScale();var w,E,L,C,O,R,q,P,U,N=[],F=[],j=f.length,G=S.padded||!1,te=S.tozero&&("linear"===_.type||"-"===_.type),J="log"===_.type,X=!1,Y=S.vpadLinearized||!1;function W(me){if(Array.isArray(me))return X=!0,function(ge){return Math.max(Number(me[ge]||0),0)};var pe=Math.max(Number(me||0),0);return function(){return pe}}var $=W((_._m>0?S.ppadplus:S.ppadminus)||S.ppad||0),ne=W((_._m>0?S.ppadminus:S.ppadplus)||S.ppad||0),re=W(S.vpadplus||S.vpad),oe=W(S.vpadminus||S.vpad);if(!X){if(P=1/0,U=-1/0,J)for(w=0;w<j;w++)(E=f[w])<P&&E>0&&(P=E),E>U&&E<T&&(U=E);else for(w=0;w<j;w++)(E=f[w])<P&&E>-T&&(P=E),E>U&&E<T&&(U=E);f=[P,U],j=2}var ue={tozero:te,extrapad:G};function xe(me){k(L=f[me])&&(R=$(me),q=ne(me),Y?(C=_.c2l(L)-oe(me),O=_.c2l(L)+re(me)):(P=L-oe(me),U=L+re(me),J&&P<U/10&&(P=U/10),C=_.c2l(P),O=_.c2l(U)),te&&(C=Math.min(0,C),O=Math.max(0,O)),g(C)&&p(N,C,q,ue),g(O)&&c(F,O,R,ue))}var Me=Math.min(6,j);for(w=0;w<Me;w++)xe(w);for(w=j-1;w>=Me;w--)xe(w);return{min:N,max:F,opts:S}},concatExtremes:u};var s=3;function u(_,f,S){var w,E,L,C=f._id,R=_._fullLayout,q=[],P=[];function U(te,J){for(w=0;w<J.length;w++){var X=te[J[w]],Y=(X._extremes||{})[C];if(!0===X.visible&&Y){for(E=0;E<Y.min.length;E++)p(q,(L=Y.min[E]).val,L.pad,{extrapad:L.extrapad});for(E=0;E<Y.max.length;E++)c(P,(L=Y.max[E]).val,L.pad,{extrapad:L.extrapad})}}}if(U(_._fullData,f._traceIndices),U(R.annotations||[],f._annIndices||[]),U(R.shapes||[],f._shapeIndices||[]),f._matchGroup&&!S)for(var N in f._matchGroup)if(N!==f._id){var F=t(_,N),j=u(_,F,!0),G=f._length/F._length;for(E=0;E<j.min.length;E++)p(q,(L=j.min[E]).val,L.pad*G,{extrapad:L.extrapad});for(E=0;E<j.max.length;E++)c(P,(L=j.max[E]).val,L.pad*G,{extrapad:L.extrapad})}return{min:q,max:P}}function p(_,f,S,w){x(_,f,S,w,h)}function c(_,f,S,w){x(_,f,S,w,y)}function x(_,f,S,w,E){for(var L=w.tozero,C=w.extrapad,O=!0,R=0;R<_.length&&O;R++){var q=_[R];if(E(q.val,f)&&q.pad>=S&&(q.extrapad||!C)){O=!1;break}E(f,q.val)&&q.pad<=S&&(C||!q.extrapad)&&(_.splice(R,1),R--)}if(O){var P=L&&0===f;_.push({val:f,pad:P?0:S,extrapad:!P&&C})}}function g(_){return k(_)&&Math.abs(_)<T}function h(_,f){return _<=f}function y(_,f){return _>=f}function v(_,f,S){return void 0===f||void 0===S||(f=_.d2l(f))<_.d2l(S)}function m(_,f){if(!f||!f.autorangeoptions)return _;var q,P,U,S=_[0],w=_[1],E=f.autorangeoptions.include;if(void 0!==E){var L=f.d2l(S),C=f.d2l(w);l.isArrayOrTypedArray(E)||(E=[E]);for(var O=0;O<E.length;O++){var R=f.d2l(E[O]);L>=R&&(L=R,S=R),C<=R&&(C=R,w=R)}}return q=S,S=(U=(P=f).autorangeoptions)&&void 0!==U.minallowed&&v(P,U.minallowed,U.maxallowed)?U.minallowed:U&&void 0!==U.clipmin&&v(P,U.clipmin,U.clipmax)?Math.max(q,P.d2l(U.clipmin)):q,w=function(q,P){var U=P.autorangeoptions;return U&&void 0!==U.maxallowed&&v(P,U.minallowed,U.maxallowed)?U.maxallowed:U&&void 0!==U.clipmax&&v(P,U.clipmin,U.clipmax)?Math.min(q,P.d2l(U.clipmax)):q}(w,f),[S,w]}},23074:function(ee){"use strict";ee.exports=function(D,e,A){var k,l;if(A){var T="reversed"===e||"min reversed"===e||"max reversed"===e;k=A[T?1:0],l=A[T?0:1]}var b=D("autorangeoptions.minallowed",null===l?k:void 0),d=D("autorangeoptions.maxallowed",null===k?l:void 0);void 0===b&&D("autorangeoptions.clipmin"),void 0===d&&D("autorangeoptions.clipmax"),D("autorangeoptions.include")}},89298:function(ee,D,e){"use strict";var A=e(39898),k=e(92770),l=e(74875),T=e(73972),b=e(71828),d=b.strTranslate,a=e(63893),t=e(92998),i=e(7901),r=e(91424),n=e(13838),o=e(66287),s=e(50606),u=s.ONEMAXYEAR,p=s.ONEAVGYEAR,c=s.ONEMINYEAR,x=s.ONEMAXQUARTER,g=s.ONEAVGQUARTER,h=s.ONEMINQUARTER,y=s.ONEMAXMONTH,v=s.ONEAVGMONTH,m=s.ONEMINMONTH,_=s.ONEWEEK,f=s.ONEDAY,S=f/2,w=s.ONEHOUR,E=s.ONEMIN,L=s.ONESEC,C=s.MINUS_SIGN,O=s.BADNUM,R={K:"zeroline"},q={K:"gridline",L:"path"},P={K:"minor-gridline",L:"path"},U={K:"tick",L:"path"},N={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},j=e(18783),G=j.MID_SHIFT,te=j.CAP_SHIFT,J=j.LINE_SPACING,X=j.OPPOSITE_SIDE,Y=ee.exports={};Y.setConvert=e(21994);var W=e(4322),$=e(41675),ne=$.idSort,re=$.isLinked;Y.id2name=$.id2name,Y.name2id=$.name2id,Y.cleanId=$.cleanId,Y.list=$.list,Y.listIds=$.listIds,Y.getFromId=$.getFromId,Y.getFromTrace=$.getFromTrace;var oe=e(71739);Y.getAutoRange=oe.getAutoRange,Y.findExtremes=oe.findExtremes;var ue=1e-4;function xe(ze){var Be=(ze[1]-ze[0])*ue;return[ze[0]-Be,ze[1]+Be]}Y.coerceRef=function(ze,Be,tt,et,gt,pt){var vt=et.charAt(et.length-1),ut=tt._fullLayout._subplots[vt+"axis"],wt=et+"ref",ct={};return gt||(gt=ut[0]||("string"==typeof pt?pt:pt[0])),pt||(pt=gt),ut=ut.concat(ut.map(function(ft){return ft+" domain"})),ct[wt]={valType:"enumerated",values:ut.concat(pt?"string"==typeof pt?[pt]:pt:[]),dflt:gt},b.coerce(ze,Be,ct,wt)},Y.getRefType=function(ze){return void 0===ze?ze:"paper"===ze?"paper":"pixel"===ze?"pixel":/( domain)$/.test(ze)?"domain":"range"},Y.coercePosition=function(ze,Be,tt,et,gt,pt){var vt,ut;if("range"!==Y.getRefType(et))vt=b.ensureNumber,ut=tt(gt,pt);else{var wt=Y.getFromId(Be,et);ut=tt(gt,pt=wt.fraction2r(pt)),vt=wt.cleanPos}ze[gt]=vt(ut)},Y.cleanPosition=function(ze,Be,tt){return("paper"===tt||"pixel"===tt?b.ensureNumber:Y.getFromId(Be,tt).cleanPos)(ze)},Y.redrawComponents=function(ze,Be){Be=Be||Y.listIds(ze);var tt=ze._fullLayout;function et(gt,pt,vt,ut){for(var wt=T.getComponentMethod(gt,pt),ct={},ft=0;ft<Be.length;ft++)for(var bt=tt[Y.id2name(Be[ft])][vt],It=0;It<bt.length;It++){var Dt=bt[It];if(!ct[Dt]&&(wt(ze,Dt),ct[Dt]=1,ut))return}}et("annotations","drawOne","_annIndices"),et("shapes","drawOne","_shapeIndices"),et("images","draw","_imgIndices",!0),et("selections","drawOne","_selectionIndices")};var Me=Y.getDataConversions=function(ze,Be,tt,et){var gt,pt="x"===tt||"y"===tt||"z"===tt?tt:et;if(Array.isArray(pt)){if(gt={type:W(et,void 0,{autotypenumbers:ze._fullLayout.autotypenumbers}),_categories:[]},Y.setConvert(gt),"category"===gt.type)for(var vt=0;vt<et.length;vt++)gt.d2c(et[vt])}else gt=Y.getFromTrace(ze,Be,pt);return gt?{d2c:gt.d2c,c2d:gt.c2d}:"ids"===pt?{d2c:pe,c2d:pe}:{d2c:me,c2d:me}};function me(ze){return+ze}function pe(ze){return String(ze)}function ge(ze,Be){return Math.abs((ze/Be+.5)%1-.5)<.001}function Pe(ze,Be){return Math.abs(ze/Be-1)<.001}function _e(ze){return+ze.substring(1)}function we(ze,Be){return ze.rangebreaks&&(Be=Be.filter(function(tt){return ze.maskBreaks(tt.x)!==O})),Be}function se(ze){var Be=ze._mainAxis,tt=[];if(Be._vals)for(var et=0;et<Be._vals.length;et++)if(!Be._vals[et].noTick){var gt=Be.l2p(Be._vals[et].x),pt=ze.p2l(gt),vt=Y.tickText(ze,pt);Be._vals[et].minor&&(vt.minor=!0,vt.text=""),tt.push(vt)}return we(ze,tt)}function ae(ze){var Be=xe(b.simpleMap(ze.range,ze.r2l)),tt=Math.min(Be[0],Be[1]),et=Math.max(Be[0],Be[1]),gt="category"===ze.type?ze.d2l_noadd:ze.d2l;"log"===ze.type&&"L"!==String(ze.dtick).charAt(0)&&(ze.dtick="L"+Math.pow(10,Math.floor(Math.min(ze.range[0],ze.range[1]))-1));for(var pt=[],vt=0;vt<=1;vt++)if(!vt||ze.minor){var ut=vt?ze.minor.tickvals:ze.tickvals,wt=vt?[]:ze.ticktext;if(ut){Array.isArray(wt)||(wt=[]);for(var ct=0;ct<ut.length;ct++){var ft=gt(ut[ct]);if(ft>tt&&ft<et){var bt=void 0===wt[ct]?Y.tickText(ze,ft):Ce(ze,ft,String(wt[ct]));vt&&(bt.minor=!0,bt.text=""),pt.push(bt)}}}}return we(ze,pt)}Y.getDataToCoordFunc=function(ze,Be,tt,et){return Me(ze,Be,tt,et).d2c},Y.counterLetter=function(ze){var Be=ze.charAt(0);return"x"===Be?"y":"y"===Be?"x":void 0},Y.minDtick=function(ze,Be,tt,et){-1===["log","category","multicategory"].indexOf(ze.type)&&et?void 0===ze._minDtick?(ze._minDtick=Be,ze._forceTick0=tt):ze._minDtick&&((ze._minDtick/Be+1e-6)%1<2e-6&&((tt-ze._forceTick0)/Be%1+1.000001)%1<2e-6?(ze._minDtick=Be,ze._forceTick0=tt):((Be/ze._minDtick+1e-6)%1>2e-6||((tt-ze._forceTick0)/ze._minDtick%1+1.000001)%1>2e-6)&&(ze._minDtick=0)):ze._minDtick=0},Y.saveRangeInitial=function(ze,Be){for(var tt=Y.list(ze,"",!0),et=!1,gt=0;gt<tt.length;gt++){var pt=tt[gt],vt=void 0===pt._rangeInitial0&&void 0===pt._rangeInitial1,wt=pt.autorange;(vt&&!0!==wt||Be&&(vt||pt.range[0]!==pt._rangeInitial0||pt.range[1]!==pt._rangeInitial1))&&(pt._rangeInitial0="min"===wt||"max reversed"===wt?void 0:pt.range[0],pt._rangeInitial1="max"===wt||"min reversed"===wt?void 0:pt.range[1],pt._autorangeInitial=wt,et=!0)}return et},Y.saveShowSpikeInitial=function(ze,Be){for(var tt=Y.list(ze,"",!0),et=!1,gt="on",pt=0;pt<tt.length;pt++){var vt=tt[pt],ut=void 0===vt._showSpikeInitial;(ut||Be&&(ut||vt.showspikes!==vt._showspikes))&&(vt._showSpikeInitial=vt.showspikes,et=!0),"on"!==gt||vt.showspikes||(gt="off")}return ze._fullLayout._cartesianSpikesEnabled=gt,et},Y.autoBin=function(ze,Be,tt,et,gt,pt){var vt,ut=b.aggNums(Math.min,null,ze),wt=b.aggNums(Math.max,null,ze);if("category"===Be.type||"multicategory"===Be.type)return{start:ut-.5,end:wt+.5,size:Math.max(1,Math.round(pt)||1),_dataSpan:wt-ut};if(gt||(gt=Be.calendar),vt="log"===Be.type?{type:"linear",range:[ut,wt]}:{type:Be.type,range:b.simpleMap([ut,wt],Be.c2r,0,gt),calendar:gt},Y.setConvert(vt),pt=pt&&o.dtick(pt,vt.type))vt.dtick=pt,vt.tick0=o.tick0(void 0,vt.type,gt);else{var ct;if(tt)ct=(wt-ut)/tt;else{var ft=b.distinctVals(ze),bt=Math.pow(10,Math.floor(Math.log(ft.minDiff)/Math.LN10)),It=bt*b.roundUp(ft.minDiff/bt,[.9,1.9,4.9,9.9],!0);ct=Math.max(It,2*b.stdev(ze)/Math.pow(ze.length,et?.25:.4)),k(ct)||(ct=1)}Y.autoTicks(vt,ct)}var Dt,Nt=vt.dtick,$t=Y.tickIncrement(Y.tickFirst(vt),Nt,"reverse",gt);if("number"==typeof Nt)Dt=($t=function(jt,Yt,Gt,hn,yn){var on=0,Ut=0,nn=0,Xt=0;function rn(En){return(1+100*(En-jt)/Gt.dtick)%100<2}for(var fn=0;fn<Yt.length;fn++)Yt[fn]%1==0?nn++:k(Yt[fn])||Xt++,rn(Yt[fn])&&on++,rn(Yt[fn]+Gt.dtick/2)&&Ut++;var gn=Yt.length-Xt;if(nn===gn&&"date"!==Gt.type)Gt.dtick<1?jt=hn-.5*Gt.dtick:(jt-=.5)+Gt.dtick<hn&&(jt+=Gt.dtick);else if(Ut<.1*gn&&(on>.3*gn||rn(hn)||rn(yn))){var An=Gt.dtick/2;jt+=jt+An<hn?An:-An}return jt}($t,ze,vt,ut,wt))+(1+Math.floor((wt-$t)/Nt))*Nt;else for("M"===vt.dtick.charAt(0)&&($t=function(jt,Yt,Gt,hn,yn){var on=b.findExactDates(Yt,yn);if(on.exactDays>.8){var Ut=Number(Gt.substr(1));on.exactYears>.8&&Ut%12==0?jt=Y.tickIncrement(jt,"M6","reverse")+1.5*f:on.exactMonths>.8?jt=Y.tickIncrement(jt,"M1","reverse")+15.5*f:jt-=S;var nn=Y.tickIncrement(jt,Gt);if(nn<=hn)return nn}return jt}($t,ze,Nt,ut,gt)),Dt=$t;Dt<=wt;)Dt=Y.tickIncrement(Dt,Nt,!1,gt);return{start:Be.c2r($t,0,gt),end:Be.c2r(Dt,0,gt),size:Nt,_dataSpan:wt-ut}},Y.prepMinorTicks=function(ze,Be,tt){if(!Be.minor.dtick){delete ze.dtick;var et,gt=Be.dtick&&k(Be._tmin);if(gt){var pt=Y.tickIncrement(Be._tmin,Be.dtick,!0);et=[Be._tmin,.99*pt+.01*Be._tmin]}else{var vt=b.simpleMap(Be.range,Be.r2l);et=[vt[0],.8*vt[0]+.2*vt[1]]}if(ze.range=b.simpleMap(et,Be.l2r),ze._isMinor=!0,Y.prepTicks(ze,tt),gt){var ut=k(Be.dtick),wt=k(ze.dtick),ct=ut?Be.dtick:+Be.dtick.substring(1),ft=wt?ze.dtick:+ze.dtick.substring(1);ut&&wt?ge(ct,ft)?ct===2*_&&ft===2*f&&(ze.dtick=_):ze.dtick=ct===2*_&&ft===3*f?_:ct!==_||(Be._input.minor||{}).nticks?Pe(ct/ft,2.5)?ct/2:ct:f:"M"===String(Be.dtick).charAt(0)?wt?ze.dtick="M1":ge(ct,ft)?ct>=12&&2===ft&&(ze.dtick="M3"):ze.dtick=Be.dtick:"L"===String(ze.dtick).charAt(0)?"L"===String(Be.dtick).charAt(0)?ge(ct,ft)||(ze.dtick=Pe(ct/ft,2.5)?Be.dtick/2:Be.dtick):ze.dtick="D1":"D2"===ze.dtick&&+Be.dtick>1&&(ze.dtick=1)}ze.range=Be.range}void 0===Be.minor._tick0Init&&(ze.tick0=Be.tick0)},Y.prepTicks=function(ze,Be){var tt=b.simpleMap(ze.range,ze.r2l,void 0,void 0,Be);if("auto"===ze.tickmode||!ze.dtick){var et,gt=ze.nticks;gt||("category"===ze.type||"multicategory"===ze.type?(et=ze.tickfont?b.bigFont(ze.tickfont.size||12):15,gt=ze._length/et):(et="y"===ze._id.charAt(0)?40:80,gt=b.constrain(ze._length/et,4,9)+1),"radialaxis"===ze._name&&(gt*=2)),ze.minor&&"array"!==ze.minor.tickmode||"array"===ze.tickmode&&(gt*=100),ze._roughDTick=Math.abs(tt[1]-tt[0])/gt,Y.autoTicks(ze,ze._roughDTick),ze._minDtick>0&&ze.dtick<2*ze._minDtick&&(ze.dtick=ze._minDtick,ze.tick0=ze.l2r(ze._forceTick0))}"period"===ze.ticklabelmode&&function(pt){var vt;function ut(){return!(k(pt.dtick)||"M"!==pt.dtick.charAt(0))}var wt=ut(),ct=Y.getTickFormat(pt);if(ct){var ft=pt._dtickInit!==pt.dtick;/%[fLQsSMX]/.test(ct)||(/%[HI]/.test(ct)?(vt=w,ft&&!wt&&pt.dtick<w&&(pt.dtick=w)):/%p/.test(ct)?(vt=S,ft&&!wt&&pt.dtick<S&&(pt.dtick=S)):/%[Aadejuwx]/.test(ct)?(vt=f,ft&&!wt&&pt.dtick<f&&(pt.dtick=f)):/%[UVW]/.test(ct)?(vt=_,ft&&!wt&&pt.dtick<_&&(pt.dtick=_)):/%[Bbm]/.test(ct)?(vt=v,ft&&(wt?_e(pt.dtick)<1:pt.dtick<m)&&(pt.dtick="M1")):/%[q]/.test(ct)?(vt=g,ft&&(wt?_e(pt.dtick)<3:pt.dtick<h)&&(pt.dtick="M3")):/%[Yy]/.test(ct)&&(vt=p,ft&&(wt?_e(pt.dtick)<12:pt.dtick<c)&&(pt.dtick="M12")))}(wt=ut())&&pt.tick0===pt._dowTick0&&(pt.tick0=pt._rawTick0),pt._definedDelta=vt}(ze),ze.tick0||(ze.tick0="date"===ze.type?"2000-01-01":0),"date"===ze.type&&ze.dtick<.1&&(ze.dtick=.1),ve(ze)},Y.calcTicks=function(ze,Be){for(var tt,et,gt=ze.type,pt=ze.calendar,vt=ze.ticklabelstep,ut="period"===ze.ticklabelmode,wt=b.simpleMap(ze.range,ze.r2l,void 0,void 0,Be),ct=wt[1]<wt[0],ft=Math.min(wt[0],wt[1]),bt=Math.max(wt[0],wt[1]),It=Math.max(1e3,ze._length||0),Dt=[],Nt=[],$t=[],jt=[],Yt=ze.minor&&(ze.minor.ticks||ze.minor.showgrid),Gt=1;Gt>=(Yt?0:1);Gt--){var hn=!Gt;Gt?(ze._dtickInit=ze.dtick,ze._tick0Init=ze.tick0):(ze.minor._dtickInit=ze.minor.dtick,ze.minor._tick0Init=ze.minor.tick0);var yn=Gt?ze:b.extendFlat({},ze,ze.minor);if(hn?Y.prepMinorTicks(yn,ze,Be):Y.prepTicks(yn,Be),"array"!==yn.tickmode)if("sync"!==yn.tickmode){var on=xe(wt),Ut=on[0],nn=on[1],Xt=k(yn.dtick),rn="log"===gt&&!(Xt||"L"===yn.dtick.charAt(0)),fn=Y.tickFirst(yn,Be);if(Gt){if(ze._tmin=fn,fn<Ut!==ct)break;"category"!==gt&&"multicategory"!==gt||(nn=ct?Math.max(-.5,nn):Math.min(ze._categories.length-.5,nn))}var gn,An,En=null,bn=fn;Gt&&(Xt?An=ze.dtick:"date"===gt?"string"==typeof ze.dtick&&"M"===ze.dtick.charAt(0)&&(An=v*ze.dtick.substring(1)):An=ze._roughDTick,gn=Math.round((ze.r2l(bn)-ze.r2l(ze.tick0))/An)-1);var Ln=yn.dtick;for(yn.rangebreaks&&yn._tick0Init!==yn.tick0&&(bn=He(bn,ze),ct||(bn=Y.tickIncrement(bn,Ln,!ct,pt))),Gt&&ut&&(bn=Y.tickIncrement(bn,Ln,!ct,pt),gn--);ct?bn>=nn:bn<=nn;bn=Y.tickIncrement(bn,Ln,ct,pt)){if(Gt&&gn++,yn.rangebreaks&&!ct){if(bn<Ut)continue;if(yn.maskBreaks(bn)===O&&He(bn,yn)>=bt)break}if($t.length>It||bn===En)break;En=bn;var Wn={value:bn};Gt?(rn&&bn!==(0|bn)&&(Wn.simpleLabel=!0),vt>1&&gn%vt&&(Wn.skipLabel=!0),$t.push(Wn)):(Wn.minor=!0,jt.push(Wn))}}else $t=[],Dt=se(ze);else Gt?($t=[],Dt=ae(ze)):(jt=[],Nt=ae(ze))}if(Yt&&!("inside"===ze.minor.ticks&&"outside"===ze.ticks||"outside"===ze.minor.ticks&&"inside"===ze.ticks)){for(var Qn=$t.map(function(Mt){return Mt.value}),ir=[],$n=0;$n<jt.length;$n++){var qn=jt[$n],dr=qn.value;if(-1===Qn.indexOf(dr)){for(var Ft=!1,tn=0;!Ft&&tn<$t.length;tn++)1e7+$t[tn].value===1e7+dr&&(Ft=!0);Ft||ir.push(qn)}}jt=ir}if(ut&&function(Mt,qt,Kt){for(var mn=0;mn<Mt.length;mn++){var xn=Mt[mn].value,Mn=mn,ln=mn+1;mn<Mt.length-1?(Mn=mn,ln=mn+1):mn>0?(Mn=mn-1,ln=mn):(Mn=mn,ln=mn);var Wt,un=Math.abs(Mt[ln].value-Mt[Mn].value),Sn=Kt||un,Cn=0;Sn>=c?Cn=un>=c&&un<=u?un:p:Kt===g&&Sn>=h?Cn=un>=h&&un<=x?un:g:Sn>=m?Cn=un>=m&&un<=y?un:v:Kt===_&&Sn>=_?Cn=_:Sn>=f?Cn=f:Kt===S&&Sn>=S?Cn=S:Kt===w&&Sn>=w&&(Cn=w),Cn>=un&&(Cn=un,Wt=!0);var jn=xn+Cn;if(qt.rangebreaks&&Cn>0){for(var Fn=0,Xn=0;Xn<84;Xn++){var Hn=(Xn+.5)/84;qt.maskBreaks(xn*(1-Hn)+Hn*jn)!==O&&Fn++}(Cn*=Fn/84)||(Mt[mn].drop=!0),Wt&&un>_&&(Cn=un)}(Cn>0||0===mn)&&(Mt[mn].periodX=xn+Cn/2)}}($t,ze,ze._definedDelta),ze.rangebreaks){var cn="y"===ze._id.charAt(0),dn=1;"auto"===ze.tickmode&&(dn=ze.tickfont?ze.tickfont.size:12);var kn=NaN;for(tt=$t.length-1;tt>-1;tt--)if($t[tt].drop)$t.splice(tt,1);else{$t[tt].value=He($t[tt].value,ze);var Vn=ze.c2p($t[tt].value);(cn?kn>Vn-dn:kn<Vn+dn)?$t.splice(ct?tt+1:tt,1):kn=Vn}}Xe(ze)&&360===Math.abs(wt[1]-wt[0])&&$t.pop(),ze._tmax=($t[$t.length-1]||{}).value,ze._prevDateHead="",ze._inCalcTicks=!0;var In,Dn,Kn=function(Mt){Mt.text="",ze._prevDateHead=et};for($t=$t.concat(jt),tt=0;tt<$t.length;tt++){var _n=$t[tt].value;$t[tt].minor?Nt.push({x:_n,minor:!0}):(et=ze._prevDateHead,In=Y.tickText(ze,_n,!1,$t[tt].simpleLabel),void 0!==(Dn=$t[tt].periodX)&&(In.periodX=Dn,(Dn>bt||Dn<ft)&&(Dn>bt&&(In.periodX=bt),Dn<ft&&(In.periodX=ft),Kn(In))),$t[tt].skipLabel&&Kn(In),Dt.push(In))}return Dt=Dt.concat(Nt),ze._inCalcTicks=!1,ut&&Dt.length&&(Dt[0].noTick=!0),Dt};var fe=[2,5,10],Ee=[1,2,3,6,12],ke=[1,2,5,10,15,30],be=[1,2,3,7,14],Ie=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Fe=[-.301,0,.301,.699,1],ce=[15,30,45,90,180];function Te(ze,Be,tt){return Be*b.roundUp(ze/Be,tt)}function ve(ze){var Be=ze.dtick;if(ze._tickexponent=0,k(Be)||"string"==typeof Be||(Be=1),"category"!==ze.type&&"multicategory"!==ze.type||(ze._tickround=null),"date"===ze.type){var tt=ze.r2l(ze.tick0),et=ze.l2r(tt).replace(/(^-|i)/g,""),gt=et.length;if("M"===String(Be).charAt(0))ze._tickround=gt>10||"01-01"!==et.substr(5)?"d":+Be.substr(1)%12==0?"y":"m";else if(Be>=f&&gt<=10||Be>=15*f)ze._tickround="d";else if(Be>=E&&gt<=16||Be>=w)ze._tickround="M";else if(Be>=L&&gt<=19||Be>=E)ze._tickround="S";else{var pt=ze.l2r(tt+Be).replace(/^-/,"").length;ze._tickround=Math.max(gt,pt)-20,ze._tickround<0&&(ze._tickround=4)}}else if(k(Be)||"L"===Be.charAt(0)){var vt=ze.range.map(ze.r2d||Number);k(Be)||(Be=Number(Be.substr(1))),ze._tickround=2-Math.floor(Math.log(Be)/Math.LN10+.01);var ut=Math.max(Math.abs(vt[0]),Math.abs(vt[1])),wt=Math.floor(Math.log(ut)/Math.LN10+.01),ct=void 0===ze.minexponent?3:ze.minexponent;Math.abs(wt)>ct&&(ze._tickexponent=Oe(ze.exponentformat)&&!je(wt)?3*Math.round((wt-1)/3):wt)}else ze._tickround=null}function Ce(ze,Be,tt){var et=ze.tickfont||{};return{x:Be,dx:0,dy:0,text:tt||"",fontSize:et.size,font:et.family,fontColor:et.color}}Y.autoTicks=function(ze,Be,tt){var et;function gt(bt){return Math.pow(bt,Math.floor(Math.log(Be)/Math.LN10))}if("date"===ze.type){ze.tick0=b.dateTick0(ze.calendar,0);var pt=2*Be;if(pt>p)Be/=p,et=gt(10),ze.dtick="M"+12*Te(Be,et,fe);else if(pt>v)ze.dtick="M"+Te(Be/=v,1,Ee);else if(pt>f){if(ze.dtick=Te(Be,f,ze._hasDayOfWeekBreaks?[1,2,7,14]:be),!tt){var vt=Y.getTickFormat(ze),ut="period"===ze.ticklabelmode;ut&&(ze._rawTick0=ze.tick0),ze.tick0=/%[uVW]/.test(vt)?b.dateTick0(ze.calendar,2):b.dateTick0(ze.calendar,1),ut&&(ze._dowTick0=ze.tick0)}}else pt>w?ze.dtick=Te(Be,w,Ee):pt>E?ze.dtick=Te(Be,E,ke):pt>L?ze.dtick=Te(Be,L,ke):(et=gt(10),ze.dtick=Te(Be,et,fe))}else if("log"===ze.type){ze.tick0=0;var wt=b.simpleMap(ze.range,ze.r2l);if(ze._isMinor&&(Be*=1.5),Be>.7)ze.dtick=Math.ceil(Be);else if(Math.abs(wt[1]-wt[0])<1){var ct=1.5*Math.abs((wt[1]-wt[0])/Be);Be=Math.abs(Math.pow(10,wt[1])-Math.pow(10,wt[0]))/ct,et=gt(10),ze.dtick="L"+Te(Be,et,fe)}else ze.dtick=Be>.3?"D2":"D1"}else"category"===ze.type||"multicategory"===ze.type?(ze.tick0=0,ze.dtick=Math.ceil(Math.max(Be,1))):Xe(ze)?(ze.tick0=0,ze.dtick=Te(Be,et=1,ce)):(ze.tick0=0,et=gt(10),ze.dtick=Te(Be,et,fe));if(0===ze.dtick&&(ze.dtick=1),!k(ze.dtick)&&"string"!=typeof ze.dtick){var ft=ze.dtick;throw ze.dtick=1,"ax.dtick error: "+String(ft)}},Y.tickIncrement=function(ze,Be,tt,et){var gt=tt?-1:1;if(k(Be))return b.increment(ze,gt*Be);var pt=Be.charAt(0),vt=gt*Number(Be.substr(1));if("M"===pt)return b.incrementMonth(ze,vt,et);if("L"===pt)return Math.log(Math.pow(10,ze)+vt)/Math.LN10;if("D"===pt){var ut="D2"===Be?Fe:Ie,wt=ze+.01*gt,ct=b.roundUp(b.mod(wt,1),ut,tt);return Math.floor(wt)+Math.log(A.round(Math.pow(10,ct),1))/Math.LN10}throw"unrecognized dtick "+String(Be)},Y.tickFirst=function(ze,Be){var tt=ze.r2l||Number,et=b.simpleMap(ze.range,tt,void 0,void 0,Be),gt=et[1]<et[0],pt=gt?Math.floor:Math.ceil,vt=xe(et)[0],ut=ze.dtick,wt=tt(ze.tick0);if(k(ut)){var ct=pt((vt-wt)/ut)*ut+wt;return"category"!==ze.type&&"multicategory"!==ze.type||(ct=b.constrain(ct,0,ze._categories.length-1)),ct}var ft=ut.charAt(0),bt=Number(ut.substr(1));if("M"===ft){for(var It,Dt,Nt,$t=0,jt=wt;$t<10;){if(((It=Y.tickIncrement(jt,ut,gt,ze.calendar))-vt)*(jt-vt)<=0)return gt?Math.min(jt,It):Math.max(jt,It);Dt=(vt-(jt+It)/2)/(It-jt),Nt=ft+(Math.abs(Math.round(Dt))||1)*bt,jt=Y.tickIncrement(jt,Nt,Dt<0?!gt:gt,ze.calendar),$t++}return b.error("tickFirst did not converge",ze),jt}if("L"===ft)return Math.log(pt((Math.pow(10,vt)-wt)/bt)*bt+wt)/Math.LN10;if("D"===ft){var Yt="D2"===ut?Fe:Ie,Gt=b.roundUp(b.mod(vt,1),Yt,gt);return Math.floor(vt)+Math.log(A.round(Math.pow(10,Gt),1))/Math.LN10}throw"unrecognized dtick "+String(ut)},Y.tickText=function(ze,Be,tt,et){var gt,pt=Ce(ze,Be),vt="array"===ze.tickmode,ut=tt||vt,wt=ze.type,ct="category"===wt?ze.d2l_noadd:ze.d2l;if(vt&&Array.isArray(ze.ticktext)){var ft=b.simpleMap(ze.range,ze.r2l),bt=(Math.abs(ft[1]-ft[0])-(ze._lBreaks||0))/1e4;for(gt=0;gt<ze.ticktext.length&&!(Math.abs(Be-ct(ze.tickvals[gt]))<bt);gt++);if(gt<ze.ticktext.length)return pt.text=String(ze.ticktext[gt]),pt}function It(jt){return void 0===jt||(tt?"none"===jt:"all"!==jt&&Be!=={first:ze._tmin,last:ze._tmax}[jt])}var Yt,Gt,Dt=tt?"never":"none"!==ze.exponentformat&&It(ze.showexponent)?"hide":"";if("date"===wt?function(jt,Yt,Gt,hn){var yn=jt._tickround,on=Gt&&jt.hoverformat||Y.getTickFormat(jt);hn&&(yn=k(yn)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[yn]);var Ut,nn=b.formatDate(Yt.x,on,yn,jt._dateFormat,jt.calendar,jt._extraFormat),Xt=nn.indexOf("\n");if(-1!==Xt&&(Ut=nn.substr(Xt+1),nn=nn.substr(0,Xt)),hn&&("00:00:00"===nn||"00:00"===nn?(nn=Ut,Ut=""):8===nn.length&&(nn=nn.replace(/:00$/,""))),Ut)if(Gt)"d"===yn?nn+=", "+Ut:nn=Ut+(nn?", "+nn:"");else if(jt._inCalcTicks&&jt._prevDateHead===Ut){var rn=We(jt),fn=jt._trueSide||jt.side;(!rn&&"top"===fn||rn&&"bottom"===fn)&&(nn+="<br> ")}else jt._prevDateHead=Ut,nn+="<br>"+Ut;Yt.text=nn}(ze,pt,tt,ut):"log"===wt?function(jt,Yt,Gt,hn,yn){var on=jt.dtick,Ut=Yt.x,nn=jt.tickformat,Xt="string"==typeof on&&on.charAt(0);if("never"===yn&&(yn=""),hn&&"L"!==Xt&&(on="L3",Xt="L"),nn||"L"===Xt)Yt.text=qe(Math.pow(10,Ut),jt,yn,hn);else if(k(on)||"D"===Xt&&b.mod(Ut+.01,1)<.1){var rn=Math.round(Ut),fn=Math.abs(rn),gn=jt.exponentformat;"power"===gn||Oe(gn)&&je(rn)?(Yt.text=0===rn?1:1===rn?"10":"10<sup>"+(rn>1?"":C)+fn+"</sup>",Yt.fontSize*=1.25):("e"===gn||"E"===gn)&&fn>2?Yt.text="1"+gn+(rn>0?"+":C)+fn:(Yt.text=qe(Math.pow(10,Ut),jt,"","fakehover"),"D1"===on&&"y"===jt._id.charAt(0)&&(Yt.dy-=Yt.fontSize/6))}else{if("D"!==Xt)throw"unrecognized dtick "+String(on);Yt.text=String(Math.round(Math.pow(10,b.mod(Ut,1)))),Yt.fontSize*=.75}if("D1"===jt.dtick){var An=String(Yt.text).charAt(0);"0"!==An&&"1"!==An||("y"===jt._id.charAt(0)?Yt.dx-=Yt.fontSize/4:(Yt.dy+=Yt.fontSize/2,Yt.dx+=(jt.range[1]>jt.range[0]?1:-1)*Yt.fontSize*(Ut<0?.5:.25)))}}(ze,pt,0,ut,Dt):"category"===wt?(Yt=pt,void 0===(Gt=ze._categories[Math.round(Yt.x)])&&(Gt=""),Yt.text=String(Gt)):"multicategory"===wt?function(jt,Yt,Gt){var hn=Math.round(Yt.x),yn=jt._categories[hn]||[],on=void 0===yn[1]?"":String(yn[1]),Ut=void 0===yn[0]?"":String(yn[0]);Gt?Yt.text=Ut+" - "+on:(Yt.text=on,Yt.text2=Ut)}(ze,pt,tt):Xe(ze)?function(jt,Yt,Gt,hn,yn){if("radians"!==jt.thetaunit||Gt)Yt.text=qe(Yt.x,jt,yn,hn);else{var on=Yt.x/180;if(0===on)Yt.text="0";else{var Ut=function(Xt){function rn(En,bn){return Math.abs(En-bn)<=1e-6}var fn=function(En){for(var bn=1;!rn(Math.round(En*bn)/bn,En);)bn*=10;return bn}(Xt),gn=Xt*fn,An=Math.abs(function En(bn,Ln){return rn(Ln,0)?bn:En(Ln,bn%Ln)}(gn,fn));return[Math.round(gn/An),Math.round(fn/An)]}(on);if(Ut[1]>=100)Yt.text=qe(b.deg2rad(Yt.x),jt,yn,hn);else{var nn=Yt.x<0;Yt.text=1===Ut[1]?1===Ut[0]?"\u03c0":Ut[0]+"\u03c0":["<sup>",Ut[0],"</sup>","\u2044","<sub>",Ut[1],"</sub>","\u03c0"].join(""),nn&&(Yt.text=C+Yt.text)}}}}(ze,pt,tt,ut,Dt):function(jt,Yt,Gt,hn,yn){"never"===yn?yn="":"all"===jt.showexponent&&Math.abs(Yt.x/jt.dtick)<1e-6&&(yn="hide"),Yt.text=qe(Yt.x,jt,yn,hn)}(ze,pt,0,ut,Dt),et||(ze.tickprefix&&!It(ze.showtickprefix)&&(pt.text=ze.tickprefix+pt.text),ze.ticksuffix&&!It(ze.showticksuffix)&&(pt.text+=ze.ticksuffix)),ze.labelalias&&ze.labelalias.hasOwnProperty(pt.text)){var Nt=ze.labelalias[pt.text];"string"==typeof Nt&&(pt.text=Nt)}if("boundaries"===ze.tickson||ze.showdividers){var $t=function(jt){var Yt=ze.l2p(jt);return Yt>=0&&Yt<=ze._length?jt:null};pt.xbnd=[$t(pt.x-.5),$t(pt.x+ze.dtick-.5)]}return pt},Y.hoverLabelText=function(ze,Be,tt){tt&&(ze=b.extendFlat({},ze,{hoverformat:tt}));var et=Array.isArray(Be)?Be[0]:Be,gt=Array.isArray(Be)?Be[1]:void 0;if(void 0!==gt&&gt!==et)return Y.hoverLabelText(ze,et,tt)+" - "+Y.hoverLabelText(ze,gt,tt);var pt="log"===ze.type&&et<=0,vt=Y.tickText(ze,ze.c2l(pt?-et:et),"hover").text;return pt?0===et?"0":C+vt:vt};var Re=["f","p","n","\u03bc","m","","k","M","G","T"];function Oe(ze){return"SI"===ze||"B"===ze}function je(ze){return ze>14||ze<-15}function qe(ze,Be,tt,et){var gt=ze<0,pt=Be._tickround,vt=tt||Be.exponentformat||"B",ut=Be._tickexponent,wt=Y.getTickFormat(Be),ct=Be.separatethousands;if(et){var ft={exponentformat:vt,minexponent:Be.minexponent,dtick:"none"===Be.showexponent?Be.dtick:k(ze)&&Math.abs(ze)||1,range:"none"===Be.showexponent?Be.range.map(Be.r2d):[0,ze||1]};ve(ft),pt=(Number(ft._tickround)||0)+4,ut=ft._tickexponent,Be.hoverformat&&(wt=Be.hoverformat)}if(wt)return Be._numFormat(wt)(ze).replace(/-/g,C);var bt,It=Math.pow(10,-pt)/2;if("none"===vt&&(ut=0),(ze=Math.abs(ze))<It)ze="0",gt=!1;else{if(ze+=It,ut&&(ze*=Math.pow(10,-ut),pt+=ut),0===pt)ze=String(Math.floor(ze));else if(pt<0){ze=(ze=String(Math.round(ze))).substr(0,ze.length+pt);for(var Dt=pt;Dt<0;Dt++)ze+="0"}else{var Nt=(ze=String(ze)).indexOf(".")+1;Nt&&(ze=ze.substr(0,Nt+pt).replace(/\.?0+$/,""))}ze=b.numSeparate(ze,Be._separators,ct)}return ut&&"hide"!==vt&&(Oe(vt)&&je(ut)&&(vt="power"),bt=ut<0?C+-ut:"power"!==vt?"+"+ut:String(ut),"e"===vt||"E"===vt?ze+=vt+bt:"power"===vt?ze+="\xd710<sup>"+bt+"</sup>":"B"===vt&&9===ut?ze+="B":Oe(vt)&&(ze+=Re[ut/3+5])),gt?C+ze:ze}function Je(ze,Be){if(ze){var tt=Object.keys(F).reduce(function(et,gt){return-1!==Be.indexOf(gt)&&F[gt].forEach(function(pt){et[pt]=1}),et},{});Object.keys(ze).forEach(function(et){tt[et]||(1===et.length?ze[et]=0:delete ze[et])})}}function it(ze,Be){for(var tt=[],et={},gt=0;gt<Be.length;gt++){var pt=Be[gt];et[pt.text2]?et[pt.text2].push(pt.x):et[pt.text2]=[pt.x]}for(var vt in et)tt.push(Ce(ze,b.interp(et[vt],.5),vt));return tt}function Qe(ze){return void 0!==ze.periodX?ze.periodX:ze.x}function dt(ze){return[ze.text,ze.x,ze.axInfo,ze.font,ze.fontSize,ze.fontColor].join("_")}function yt(ze){var Be=ze.title.font.size,tt=(ze.title.text.match(a.BR_TAG_ALL)||[]).length;return ze.title.hasOwnProperty("standoff")?tt?Be*(te+tt*J):Be*te:tt?Be*(tt+1)*J:Be}function mt(ze,Be){var tt=ze.l2p(Be);return tt>1&&tt<ze._length-1}function at(ze){var Be=A.select(ze),tt=Be.select(".text-math-group");return tt.empty()?Be.select("text"):tt}function st(ze){return ze._id+".automargin"}function Tt(ze){return st(ze)+".mirror"}function At(ze){return ze._id+".rangeslider"}function Pt(ze,Be){for(var tt=0;tt<Be.length;tt++)-1===ze.indexOf(Be[tt])&&ze.push(Be[tt])}function kt(ze,Be,tt){var et,gt,pt=[],vt=[],ut=ze.layout;for(et=0;et<Be.length;et++)pt.push(Y.getFromId(ze,Be[et]));for(et=0;et<tt.length;et++)vt.push(Y.getFromId(ze,tt[et]));var wt=Object.keys(n),ct=["anchor","domain","overlaying","position","side","tickangle","editType"],ft=["linear","log"];for(et=0;et<wt.length;et++){var bt=wt[et],It=pt[0][bt],Dt=vt[0][bt],Nt=!0,$t=!1,jt=!1;if("_"!==bt.charAt(0)&&"function"!=typeof It&&-1===ct.indexOf(bt)){for(gt=1;gt<pt.length&&Nt;gt++){var Yt=pt[gt][bt];"type"===bt&&-1!==ft.indexOf(It)&&-1!==ft.indexOf(Yt)&&It!==Yt?$t=!0:Yt!==It&&(Nt=!1)}for(gt=1;gt<vt.length&&Nt;gt++){var Gt=vt[gt][bt];"type"===bt&&-1!==ft.indexOf(Dt)&&-1!==ft.indexOf(Gt)&&Dt!==Gt?jt=!0:vt[gt][bt]!==Dt&&(Nt=!1)}Nt&&($t&&(ut[pt[0]._name].type="linear"),jt&&(ut[vt[0]._name].type="linear"),Ze(ut,bt,pt,vt,ze._fullLayout._dfltTitle))}}for(et=0;et<ze._fullLayout.annotations.length;et++){var hn=ze._fullLayout.annotations[et];-1!==Be.indexOf(hn.xref)&&-1!==tt.indexOf(hn.yref)&&b.swapAttrs(ut.annotations[et],["?"])}}function Ze(ze,Be,tt,et,gt){var pt,vt=b.nestedProperty,ut=vt(ze[tt[0]._name],Be).get(),wt=vt(ze[et[0]._name],Be).get();for("title"===Be&&(ut&&ut.text===gt.x&&(ut.text=gt.y),wt&&wt.text===gt.y&&(wt.text=gt.x)),pt=0;pt<tt.length;pt++)vt(ze,tt[pt]._name+"."+Be).set(wt);for(pt=0;pt<et.length;pt++)vt(ze,et[pt]._name+"."+Be).set(ut)}function Xe(ze){return"angularaxis"===ze._id}function He(ze,Be){for(var tt=Be._rangebreaks.length,et=0;et<tt;et++){var gt=Be._rangebreaks[et];if(ze>=gt.min&&ze<gt.max)return gt.max}return ze}function We(ze){return-1!==(ze.ticklabelposition||"").indexOf("inside")}function rt(ze,Be){We(ze._anchorAxis||{})&&ze._hideCounterAxisInsideTickLabels&&ze._hideCounterAxisInsideTickLabels(Be)}function nt(ze,Be,tt,et){var gt,pt="free"===ze.anchor||void 0!==ze.overlaying&&!1!==ze.overlaying?ze.overlaying:ze._id;gt=et?"right"===ze.side?Be:-Be:Be,pt in tt||(tt[pt]={}),ze.side in tt[pt]||(tt[pt][ze.side]=0),tt[pt][ze.side]+=gt}Y.getTickFormat=function(ze){var Be,tt,et,gt,pt,vt,ut,wt,It,Dt,Nt,$t,jt,Yt;function ct(It){return"string"!=typeof It?It:Number(It.replace("M",""))*v}function ft(It,Dt){var Nt=["L","D"];if(typeof It==typeof Dt){if("number"==typeof It)return It-Dt;var $t=Nt.indexOf(It.charAt(0)),jt=Nt.indexOf(Dt.charAt(0));return $t===jt?Number(It.replace(/(L|D)/g,""))-Number(Dt.replace(/(L|D)/g,"")):$t-jt}return"number"==typeof It?1:-1}if(ze.tickformatstops&&ze.tickformatstops.length>0)switch(ze.type){case"date":case"linear":for(Be=0;Be<ze.tickformatstops.length;Be++)if((et=ze.tickformatstops[Be]).enabled&&(gt=ze.dtick,vt=void 0,void 0,void 0,vt=ct||function(It){return It},wt=(pt=et.dtickrange)[1],(!(ut=pt[0])&&"number"!=typeof ut||vt(ut)<=vt(gt))&&(!wt&&"number"!=typeof wt||vt(wt)>=vt(gt)))){tt=et;break}break;case"log":for(Be=0;Be<ze.tickformatstops.length;Be++)if((et=ze.tickformatstops[Be]).enabled&&(Nt=void 0,$t=void 0,jt=void 0,Yt=void 0,Nt=null===(Dt=et.dtickrange)[0],$t=null===Dt[1],jt=ft(It=ze.dtick,Dt[0])>=0,Yt=ft(It,Dt[1])<=0,(Nt||jt)&&($t||Yt))){tt=et;break}}return tt?tt.value:ze.tickformat},Y.getSubplots=function(ze,Be){var tt=ze._fullLayout._subplots,et=tt.cartesian.concat(tt.gl2d||[]),gt=Be?Y.findSubplotsWithAxis(et,Be):et;return gt.sort(function(pt,vt){var ut=pt.substr(1).split("y"),wt=vt.substr(1).split("y");return ut[0]===wt[0]?+ut[1]-+wt[1]:+ut[0]-+wt[0]}),gt},Y.findSubplotsWithAxis=function(ze,Be){for(var tt=new RegExp("x"===Be._id.charAt(0)?"^"+Be._id+"y":Be._id+"$"),et=[],gt=0;gt<ze.length;gt++){var pt=ze[gt];tt.test(pt)&&et.push(pt)}return et},Y.makeClipPaths=function(ze){var Be=ze._fullLayout;if(!Be._hasOnlyLargeSploms){var tt,et,gt={_offset:0,_length:Be.width,_id:""},pt={_offset:0,_length:Be.height,_id:""},vt=Y.list(ze,"x",!0),ut=Y.list(ze,"y",!0),wt=[];for(tt=0;tt<vt.length;tt++)for(wt.push({x:vt[tt],y:pt}),et=0;et<ut.length;et++)0===tt&&wt.push({x:gt,y:ut[et]}),wt.push({x:vt[tt],y:ut[et]});var ct=Be._clips.selectAll(".axesclip").data(wt,function(ft){return ft.x._id+ft.y._id});ct.enter().append("clipPath").classed("axesclip",!0).attr("id",function(ft){return"clip"+Be._uid+ft.x._id+ft.y._id}).append("rect"),ct.exit().remove(),ct.each(function(ft){A.select(this).select("rect").attr({x:ft.x._offset||0,y:ft.y._offset||0,width:ft.x._length||1,height:ft.y._length||1})})}},Y.draw=function(ze,Be,tt){var et=ze._fullLayout;"redraw"===Be&&et._paper.selectAll("g.subplot").each(function(ut){var ct=et._plots[ut[0]];if(ct){var ft=ct.xaxis,bt=ct.yaxis;ct.xaxislayer.selectAll("."+ft._id+"tick").remove(),ct.yaxislayer.selectAll("."+bt._id+"tick").remove(),ct.xaxislayer.selectAll("."+ft._id+"tick2").remove(),ct.yaxislayer.selectAll("."+bt._id+"tick2").remove(),ct.xaxislayer.selectAll("."+ft._id+"divider").remove(),ct.yaxislayer.selectAll("."+bt._id+"divider").remove(),ct.minorGridlayer&&ct.minorGridlayer.selectAll("path").remove(),ct.gridlayer&&ct.gridlayer.selectAll("path").remove(),ct.zerolinelayer&&ct.zerolinelayer.selectAll("path").remove(),et._infolayer.select(".g-"+ft._id+"title").remove(),et._infolayer.select(".g-"+bt._id+"title").remove()}});var gt=Be&&"redraw"!==Be?Be:Y.listIds(ze),pt=Y.list(ze).filter(function(ut){return ut.autoshift}).map(function(ut){return ut.overlaying});gt.map(function(ut){var wt=Y.getFromId(ze,ut);if("sync"===wt.tickmode&&wt.overlaying){var ct=gt.findIndex(function(ft){return ft===wt.overlaying});ct>=0&&gt.unshift(gt.splice(ct,1).shift())}});var vt={false:{left:0,right:0}};return b.syncOrAsync(gt.map(function(ut){return function(){if(ut){var wt=Y.getFromId(ze,ut);tt||(tt={}),tt.axShifts=vt,tt.overlayingShiftedAx=pt;var ct=Y.drawOne(ze,wt,tt);return wt._shiftPusher&&nt(wt,wt._fullDepth||0,vt,!0),wt._r=wt.range.slice(),wt._rl=b.simpleMap(wt._r,wt.r2l),ct}}}))},Y.drawOne=function(ze,Be,tt){var et,gt,pt,vt=(tt=tt||{}).axShifts||{},ut=tt.overlayingShiftedAx||[];Be.setScale();var ln,wt=ze._fullLayout,ct=Be._id,ft=ct.charAt(0),bt=Y.counterLetter(ct),It=wt._plots[Be._mainSubplot];if(It){if(Be._shiftPusher=Be.autoshift||-1!==ut.indexOf(Be._id)||-1!==ut.indexOf(Be.overlaying),Be._shiftPusher&"free"===Be.anchor){var Dt=Be.linewidth/2||0;"inside"===Be.ticks&&(Dt+=Be.ticklen),nt(Be,Dt,vt,!0),nt(Be,Be.shift||0,vt,!1)}!0===tt.skipTitle&&void 0!==Be._shift||(Be._shift=(ln=Be).autoshift?vt[ln.overlaying][ln.side]:ln.shift||0);var Nt=It[ft+"axislayer"],$t=Be._mainLinePosition,jt=$t+=Be._shift,Yt=Be._mainMirrorPosition,Gt=Be._vals=Y.calcTicks(Be),hn=[Be.mirror,jt,Yt].join("_");for(et=0;et<Gt.length;et++)Gt[et].axInfo=hn;Be._selections={},Be._tickAngles&&(Be._prevTickAngles=Be._tickAngles),Be._tickAngles={},Be._depth=null;var yn={};if(Be.visible){var on,Ut,nn=Y.makeTransTickFn(Be),Xt=Y.makeTransTickLabelFn(Be),rn="inside"===Be.ticks,fn="outside"===Be.ticks;if("boundaries"===Be.tickson){var gn=function(ln,Wt){var Jt,sn=[],un=function(Sn,Cn){var jn=Sn.xbnd[Cn];null!==jn&&sn.push(b.extendFlat({},Sn,{x:jn}))};if(Wt.length){for(Jt=0;Jt<Wt.length;Jt++)un(Wt[Jt],0);un(Wt[Jt-1],1)}return sn}(0,Gt);Ut=Y.clipEnds(Be,gn),on=rn?Ut:gn}else Ut=Y.clipEnds(Be,Gt),on=rn&&"period"!==Be.ticklabelmode?Ut:Gt;var An,En=Be._gridVals=Ut,bn=function(ln,Wt){var Jt,sn,un=[],Sn=Wt.length&&Wt[Wt.length-1].x<Wt[0].x,Cn=function(Fn,Xn){var Hn=Fn.xbnd[Xn];null!==Hn&&un.push(b.extendFlat({},Fn,{x:Hn}))};if(ln.showdividers&&Wt.length){for(Jt=0;Jt<Wt.length;Jt++){var jn=Wt[Jt];jn.text2!==sn&&Cn(jn,Sn?1:0),sn=jn.text2}Cn(Wt[Jt-1],Sn?0:1)}return un}(Be,Gt);if(!wt._hasOnlyLargeSploms){var Ln=Be._subplotsWith,Wn={};for(et=0;et<Ln.length;et++){var Qn=(pt=wt._plots[gt=Ln[et]])[bt+"axis"],ir=Qn._mainAxis._id;if(!Wn[ir]){Wn[ir]=1;var $n="x"===ft?"M0,"+Qn._offset+"v"+Qn._length:"M"+Qn._offset+",0h"+Qn._length;Y.drawGrid(ze,Be,{vals:En,counterAxis:Qn,layer:pt.gridlayer.select("."+ct),minorLayer:pt.minorGridlayer.select("."+ct),path:$n,transFn:nn}),Y.drawZeroLine(ze,Be,{counterAxis:Qn,layer:pt.zerolinelayer,path:$n,transFn:nn})}}}var qn=Y.getTickSigns(Be),dr=Y.getTickSigns(Be,"minor");if(Be.ticks||Be.minor&&Be.minor.ticks){var Ft,tn,cn,dn,kn=Y.makeTickPath(Be,jt,qn[2]),Vn=Y.makeTickPath(Be,jt,dr[2],{minor:!0});if(Be._anchorAxis&&Be.mirror&&!0!==Be.mirror?(Ft=Y.makeTickPath(Be,Yt,qn[3]),tn=Y.makeTickPath(Be,Yt,dr[3],{minor:!0}),cn=kn+Ft,dn=Vn+tn):(Ft="",tn="",cn=kn,dn=Vn),Be.showdividers&&fn&&"boundaries"===Be.tickson){var In={};for(et=0;et<bn.length;et++)In[bn[et].x]=1;An=function(ln){return In[ln.x]?Ft:cn}}else An=function(ln){return ln.minor?dn:cn}}if(Y.drawTicks(ze,Be,{vals:on,layer:Nt,path:An,transFn:nn}),"allticks"===Be.mirror){var Dn=Object.keys(Be._linepositions||{});for(et=0;et<Dn.length;et++){pt=wt._plots[gt=Dn[et]];var Kn=Be._linepositions[gt]||[],_n=Kn[1],Mt=Kn[2],qt=Y.makeTickPath(Be,Kn[0],Mt?qn[0]:dr[0],{minor:Mt})+Y.makeTickPath(Be,_n,Mt?qn[1]:dr[1],{minor:Mt});Y.drawTicks(ze,Be,{vals:on,layer:pt[ft+"axislayer"],path:qt,transFn:nn})}}var Kt=[];if(Kt.push(function(){return Y.drawLabels(ze,Be,{vals:Gt,layer:Nt,plotinfo:pt,transFn:Xt,labelFns:Y.makeLabelFns(Be,jt)})}),"multicategory"===Be.type){var mn={x:2,y:10}[ft];Kt.push(function(){var ln={x:"height",y:"width"}[ft],Wt=Mn()[ln]+mn+(Be._tickAngles[ct+"tick"]?Be.tickfont.size*J:0);return Y.drawLabels(ze,Be,{vals:it(Be,Gt),layer:Nt,cls:ct+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:nn,labelFns:Y.makeLabelFns(Be,jt+Wt*qn[4])})}),Kt.push(function(){return Be._depth=qn[4]*(Mn("tick2")[Be.side]-jt),function(ln,Wt,Jt){var sn=Wt._id+"divider",un=Jt.vals,Sn=Jt.layer.selectAll("path."+sn).data(un,dt);Sn.exit().remove(),Sn.enter().insert("path",":first-child").classed(sn,1).classed("crisp",1).call(i.stroke,Wt.dividercolor).style("stroke-width",r.crispRound(ln,Wt.dividerwidth,1)+"px"),Sn.attr("transform",Jt.transFn).attr("d",Jt.path)}(ze,Be,{vals:bn,layer:Nt,path:Y.makeTickPath(Be,jt,qn[4],{len:Be._depth}),transFn:nn})})}else Be.title.hasOwnProperty("standoff")&&Kt.push(function(){Be._depth=qn[4]*(Mn()[Be.side]-jt)});var xn=T.getComponentMethod("rangeslider","isVisible")(Be);return tt.skipTitle||xn&&"bottom"===Be.side||Kt.push(function(){return function(ln,Wt){var Jt,sn=ln._fullLayout,un=Wt._id,Sn=un.charAt(0),Cn=Wt.title.font.size;if(Wt.title.hasOwnProperty("standoff"))Jt=Wt._depth+Wt.title.standoff+yt(Wt);else{var jn=We(Wt);if("multicategory"===Wt.type)Jt=Wt._depth;else{var Fn=1.5*Cn;jn&&(Fn=.5*Cn,"outside"===Wt.ticks&&(Fn+=Wt.ticklen)),Jt=10+Fn+(Wt.linewidth?Wt.linewidth-1:0)}jn||(Jt+="x"===Sn?"top"===Wt.side?Cn*(Wt.showticklabels?1:0):Cn*(Wt.showticklabels?1.5:.5):"right"===Wt.side?Cn*(Wt.showticklabels?1:.5):Cn*(Wt.showticklabels?.5:0))}var Xn,Hn,nr,er,tr=Y.getPxPosition(ln,Wt);if("x"===Sn?(Hn=Wt._offset+Wt._length/2,nr="top"===Wt.side?tr-Jt:tr+Jt):(nr=Wt._offset+Wt._length/2,Hn="right"===Wt.side?tr+Jt:tr-Jt,Xn={rotate:"-90",offset:0}),"multicategory"!==Wt.type){var lr=Wt._selections[Wt._id+"tick"];if(er={selection:lr,side:Wt.side},lr&&lr.node()&&lr.node().parentNode){var ur=r.getTranslate(lr.node().parentNode);er.offsetLeft=ur.x,er.offsetTop=ur.y}Wt.title.hasOwnProperty("standoff")&&(er.pad=0)}return Wt._titleStandoff=Jt,t.draw(ln,un+"title",{propContainer:Wt,propName:Wt._name+".title.text",placeholder:sn._dfltTitle[Sn],avoid:er,transform:Xn,attributes:{x:Hn,y:nr,"text-anchor":"middle"}})}(ze,Be)}),Kt.push(function(){var ln,Wt,Jt,sn,un=Be.side.charAt(0),Sn=X[Be.side].charAt(0),Cn=Y.getPxPosition(ze,Be),jn=fn?Be.ticklen:0;(Be.automargin||xn||Be._shiftPusher)&&("multicategory"===Be.type?ln=Mn("tick2"):(ln=Mn(),"x"===ft&&"b"===un&&(Be._depth=Math.max(ln.width>0?ln.bottom-Cn:0,jn))));var Fn=0,Xn=0;if(Be._shiftPusher&&(Fn=Math.max(jn,ln.height>0?"l"===un?Cn-ln.left:ln.right-Cn:0),Be.title.text!==wt._dfltTitle[ft]&&(Xn=(Be._titleStandoff||0)+(Be._titleScoot||0),"l"===un&&(Xn+=yt(Be))),Be._fullDepth=Math.max(Fn,Xn)),Be.automargin){Wt={x:0,y:0,r:0,l:0,t:0,b:0};var Hn=[0,1],nr="number"==typeof Be._shift?Be._shift:0;if("x"===ft){if("b"===un?Wt[un]=Be._depth:(Wt[un]=Be._depth=Math.max(ln.width>0?Cn-ln.top:0,jn),Hn.reverse()),ln.width>0){var er=ln.right-(Be._offset+Be._length);er>0&&(Wt.xr=1,Wt.r=er);var tr=Be._offset-ln.left;tr>0&&(Wt.xl=0,Wt.l=tr)}}else if("l"===un?(Be._depth=Math.max(ln.height>0?Cn-ln.left:0,jn),Wt[un]=Be._depth-nr):(Be._depth=Math.max(ln.height>0?ln.right-Cn:0,jn),Wt[un]=Be._depth+nr,Hn.reverse()),ln.height>0){var lr=ln.bottom-(Be._offset+Be._length);lr>0&&(Wt.yb=0,Wt.b=lr);var ur=Be._offset-ln.top;ur>0&&(Wt.yt=1,Wt.t=ur)}Wt[bt]="free"===Be.anchor?Be.position:Be._anchorAxis.domain[Hn[0]],Be.title.text!==wt._dfltTitle[ft]&&(Wt[un]+=yt(Be)+(Be.title.standoff||0)),Be.mirror&&"free"!==Be.anchor&&((Jt={x:0,y:0,r:0,l:0,t:0,b:0})[Sn]=Be.linewidth,Be.mirror&&!0!==Be.mirror&&(Jt[Sn]+=jn),!0===Be.mirror||"ticks"===Be.mirror?Jt[bt]=Be._anchorAxis.domain[Hn[1]]:"all"!==Be.mirror&&"allticks"!==Be.mirror||(Jt[bt]=[Be._counterDomainMin,Be._counterDomainMax][Hn[1]]))}xn&&(sn=T.getComponentMethod("rangeslider","autoMarginOpts")(ze,Be)),"string"==typeof Be.automargin&&(Je(Wt,Be.automargin),Je(Jt,Be.automargin)),l.autoMargin(ze,st(Be),Wt),l.autoMargin(ze,Tt(Be),Jt),l.autoMargin(ze,At(Be),sn)}),b.syncOrAsync(Kt)}}function Mn(ln){var Jt,sn,un,Sn,Cn,jn,Wt=ct+(ln||"tick");return yn[Wt]||(yn[Wt]=((Jt=Be)._selections[sn=Wt].size()?(un=1/0,Sn=-1/0,Cn=1/0,jn=-1/0,Jt._selections[sn].each(function(){var Fn=at(this),Xn=r.bBox(Fn.node().parentNode);un=Math.min(un,Xn.top),Sn=Math.max(Sn,Xn.bottom),Cn=Math.min(Cn,Xn.left),jn=Math.max(jn,Xn.right)})):(un=0,Sn=0,Cn=0,jn=0),{top:un,bottom:Sn,left:Cn,right:jn,height:Sn-un,width:jn-Cn})),yn[Wt]}},Y.getTickSigns=function(ze,Be){var tt=ze._id.charAt(0),gt=ze.side==={x:"top",y:"right"}[tt]?1:-1,pt=[-1,1,gt,-gt];return"inside"!==(Be?(ze.minor||{}).ticks:ze.ticks)==("x"===tt)&&(pt=pt.map(function(vt){return-vt})),ze.side&&pt.push({l:-1,t:-1,r:1,b:1}[ze.side.charAt(0)]),pt},Y.makeTransTickFn=function(ze){return"x"===ze._id.charAt(0)?function(Be){return d(ze._offset+ze.l2p(Be.x),0)}:function(Be){return d(0,ze._offset+ze.l2p(Be.x))}},Y.makeTransTickLabelFn=function(ze){var Be=function(gt){var pt=gt.ticklabelposition||"",vt=function(Yt){return-1!==pt.indexOf(Yt)},ut=vt("top"),wt=vt("left"),ct=vt("right"),ft=vt("bottom"),bt=vt("inside"),It=ft||wt||ut||ct;if(!It&&!bt)return[0,0];var Dt=gt.side,Nt=It?(gt.tickwidth||0)/2:0,$t=3,jt=gt.tickfont?gt.tickfont.size:12;return(ft||ut)&&(Nt+=jt*te,$t+=(gt.linewidth||0)/2),(wt||ct)&&(Nt+=(gt.linewidth||0)/2,$t+=3),bt&&"top"===Dt&&($t-=jt*(1-te)),(wt||ut)&&(Nt=-Nt),"bottom"!==Dt&&"right"!==Dt||($t=-$t),[It?Nt:0,bt?$t:0]}(ze),tt=Be[0],et=Be[1];return"x"===ze._id.charAt(0)?function(gt){return d(tt+ze._offset+ze.l2p(Qe(gt)),et)}:function(gt){return d(et,tt+ze._offset+ze.l2p(Qe(gt)))}},Y.makeTickPath=function(ze,Be,tt,et){et||(et={});var gt=et.minor;if(gt&&!ze.minor)return"";var pt=void 0!==et.len?et.len:gt?ze.minor.ticklen:ze.ticklen,vt=ze._id.charAt(0),ut=(ze.linewidth||1)/2;return"x"===vt?"M0,"+(Be+ut*tt)+"v"+pt*tt:"M"+(Be+ut*tt)+",0h"+pt*tt},Y.makeLabelFns=function(ze,Be,tt){var et=ze.ticklabelposition||"",gt=function(gn){return-1!==et.indexOf(gn)},pt=gt("top"),vt=gt("left"),ut=gt("right"),wt=gt("bottom")||vt||pt||ut,ct=gt("inside"),ft="inside"===et&&"inside"===ze.ticks||!ct&&"outside"===ze.ticks&&"boundaries"!==ze.tickson,bt=0,It=0,Dt=ft?ze.ticklen:0;if(ct?Dt*=-1:wt&&(Dt=0),ft&&(bt+=Dt,tt)){var Nt=b.deg2rad(tt);bt=Dt*Math.cos(Nt)+1,It=Dt*Math.sin(Nt)}ze.showticklabels&&(ft||ze.showline)&&(bt+=.2*ze.tickfont.size);var $t,jt,Yt,Gt,hn,yn={labelStandoff:bt+=(ze.linewidth||1)/2*(ct?-1:1),labelShift:It},on=0,Ut=ze.side,nn=ze._id.charAt(0),Xt=ze.tickangle;if("x"===nn)Gt=(hn=!ct&&"bottom"===Ut||ct&&"top"===Ut)?1:-1,ct&&(Gt*=-1),$t=It*Gt,jt=Be+bt*Gt,Yt=hn?1:-.2,90===Math.abs(Xt)&&(ct?Yt+=G:Yt=-90===Xt&&"bottom"===Ut?te:90===Xt&&"top"===Ut?G:.5,on=G/2*(Xt/90)),yn.xFn=function(gn){return gn.dx+$t+on*gn.fontSize},yn.yFn=function(gn){return gn.dy+jt+gn.fontSize*Yt},yn.anchorFn=function(gn,An){if(wt){if(vt)return"end";if(ut)return"start"}return k(An)&&0!==An&&180!==An?An*Gt<0!==ct?"end":"start":"middle"},yn.heightFn=function(gn,An,En){return An<-60||An>60?-.5*En:"top"===ze.side!==ct?-En:0};else if("y"===nn){if(Gt=(hn=!ct&&"left"===Ut||ct&&"right"===Ut)?1:-1,ct&&(Gt*=-1),$t=bt,jt=It*Gt,Yt=0,ct||90!==Math.abs(Xt)||(Yt=-90===Xt&&"left"===Ut||90===Xt&&"right"===Ut?te:.5),ct){var rn=k(Xt)?+Xt:0;if(0!==rn){var fn=b.deg2rad(rn);on=Math.abs(Math.sin(fn))*te*Gt,Yt=0}}yn.xFn=function(gn){return gn.dx+Be-($t+gn.fontSize*Yt)*Gt+on*gn.fontSize},yn.yFn=function(gn){return gn.dy+jt+gn.fontSize*G},yn.anchorFn=function(gn,An){return k(An)&&90===Math.abs(An)?"middle":hn?"end":"start"},yn.heightFn=function(gn,An,En){return"right"===ze.side&&(An*=-1),An<-30?-En:An<30?-.5*En:0}}return yn},Y.drawTicks=function(ze,Be,tt){tt=tt||{};var et=Be._id+"tick",gt=[].concat(Be.minor&&Be.minor.ticks?tt.vals.filter(function(vt){return vt.minor&&!vt.noTick}):[]).concat(Be.ticks?tt.vals.filter(function(vt){return!vt.minor&&!vt.noTick}):[]),pt=tt.layer.selectAll("path."+et).data(gt,dt);pt.exit().remove(),pt.enter().append("path").classed(et,1).classed("ticks",1).classed("crisp",!1!==tt.crisp).each(function(vt){return i.stroke(A.select(this),vt.minor?Be.minor.tickcolor:Be.tickcolor)}).style("stroke-width",function(vt){return r.crispRound(ze,vt.minor?Be.minor.tickwidth:Be.tickwidth,1)+"px"}).attr("d",tt.path).style("display",null),rt(Be,[U]),pt.attr("transform",tt.transFn)},Y.drawGrid=function(ze,Be,tt){if(tt=tt||{},"sync"!==Be.tickmode){var et=Be._id+"grid",gt=Be.minor&&Be.minor.showgrid,pt=gt?tt.vals.filter(function(Yt){return Yt.minor}):[],vt=Be.showgrid?tt.vals.filter(function(Yt){return!Yt.minor}):[],ut=tt.counterAxis;if(ut&&Y.shouldShowZeroLine(ze,Be,ut))for(var wt="array"===Be.tickmode,ct=0;ct<vt.length;ct++){var ft=vt[ct].x;if(wt?!ft:Math.abs(ft)<Be.dtick/100){if(vt=vt.slice(0,ct).concat(vt.slice(ct+1)),!wt)break;ct--}}Be._gw=r.crispRound(ze,Be.gridwidth,1);for(var bt=gt?r.crispRound(ze,Be.minor.gridwidth,1):0,It=tt.layer,Dt=tt.minorLayer,Nt=1;Nt>=0;Nt--){var $t=Nt?It:Dt;if($t){var jt=$t.selectAll("path."+et).data(Nt?vt:pt,dt);jt.exit().remove(),jt.enter().append("path").classed(et,1).classed("crisp",!1!==tt.crisp),jt.attr("transform",tt.transFn).attr("d",tt.path).each(function(Yt){return i.stroke(A.select(this),Yt.minor?Be.minor.gridcolor:Be.gridcolor||"#ddd")}).style("stroke-dasharray",function(Yt){return r.dashStyle(Yt.minor?Be.minor.griddash:Be.griddash,Yt.minor?Be.minor.gridwidth:Be.gridwidth)}).style("stroke-width",function(Yt){return(Yt.minor?bt:Be._gw)+"px"}).style("display",null),"function"==typeof tt.path&&jt.attr("d",tt.path)}}rt(Be,[q,P])}},Y.drawZeroLine=function(ze,Be,tt){var et=Be._id+"zl",gt=Y.shouldShowZeroLine(ze,Be,(tt=tt||tt).counterAxis),pt=tt.layer.selectAll("path."+et).data(gt?[{x:0,id:Be._id}]:[]);pt.exit().remove(),pt.enter().append("path").classed(et,1).classed("zl",1).classed("crisp",!1!==tt.crisp).each(function(){tt.layer.selectAll("path").sort(function(vt,ut){return ne(vt.id,ut.id)})}),pt.attr("transform",tt.transFn).attr("d",tt.path).call(i.stroke,Be.zerolinecolor||i.defaultLine).style("stroke-width",r.crispRound(ze,Be.zerolinewidth,Be._gw||1)+"px").style("display",null),rt(Be,[R])},Y.drawLabels=function(ze,Be,tt){tt=tt||{};var et=ze._fullLayout,gt=Be._id,pt=gt.charAt(0),vt=tt.cls||gt+"tick",ut=tt.vals.filter(function(Gt){return Gt.text}),wt=tt.labelFns,ct=tt.secondary?0:Be.tickangle,ft=(Be._prevTickAngles||{})[vt],bt=tt.layer.selectAll("g."+vt).data(Be.showticklabels?ut:[],dt),It=[];function Dt(Gt,hn){Gt.each(function(yn){var on=A.select(this),Ut=on.select(".text-math-group"),nn=wt.anchorFn(yn,hn),Xt=tt.transFn.call(on.node(),yn)+(k(hn)&&0!=+hn?" rotate("+hn+","+wt.xFn(yn)+","+(wt.yFn(yn)-yn.fontSize/2)+")":""),rn=a.lineCount(on),fn=J*yn.fontSize,gn=wt.heightFn(yn,k(hn)?+hn:0,(rn-1)*fn);if(gn&&(Xt+=d(0,gn)),Ut.empty()){var An=on.select("text");An.attr({transform:Xt,"text-anchor":nn}),An.style("opacity",1),Be._adjustTickLabelsOverflow&&Be._adjustTickLabelsOverflow()}else{var En=r.bBox(Ut.node()).width*{end:-.5,start:.5}[nn];Ut.attr("transform",Xt+d(En,0))}})}bt.enter().append("g").classed(vt,1).append("text").attr("text-anchor","middle").each(function(Gt){var hn=A.select(this),yn=ze._promises.length;hn.call(a.positionText,wt.xFn(Gt),wt.yFn(Gt)).call(r.font,Gt.font,Gt.fontSize,Gt.fontColor).text(Gt.text).call(a.convertToTspans,ze),ze._promises[yn]?It.push(ze._promises.pop().then(function(){Dt(hn,ct)})):Dt(hn,ct)}),rt(Be,[N]),bt.exit().remove(),tt.repositionOnUpdate&&bt.each(function(Gt){A.select(this).select("text").call(a.positionText,wt.xFn(Gt),wt.yFn(Gt))}),Be._adjustTickLabelsOverflow=function(){var Gt=Be.ticklabeloverflow;if(Gt&&"allow"!==Gt){var hn=-1!==Gt.indexOf("hide"),yn="x"===Be._id.charAt(0),on=0,Ut=yn?ze._fullLayout.width:ze._fullLayout.height;if(-1!==Gt.indexOf("domain")){var nn=b.simpleMap(Be.range,Be.r2l);on=Be.l2p(nn[0])+Be._offset,Ut=Be.l2p(nn[1])+Be._offset}var Xt=Math.min(on,Ut),rn=Math.max(on,Ut),fn=Be.side,gn=1/0,An=-1/0;for(var En in bt.each(function(Wn){var Qn=A.select(this);if(Qn.select(".text-math-group").empty()){var ir=r.bBox(Qn.node()),$n=0;yn?(ir.right>rn||ir.left<Xt)&&($n=1):(ir.bottom>rn||ir.top+(Be.tickangle?0:Wn.fontSize/4)<Xt)&&($n=1);var qn=Qn.select("text");$n?hn&&qn.style("opacity",0):(qn.style("opacity",1),gn="bottom"===fn||"right"===fn?Math.min(gn,yn?ir.top:ir.left):-1/0,An="top"===fn||"left"===fn?Math.max(An,yn?ir.bottom:ir.right):1/0)}}),et._plots){var bn=et._plots[En];if(Be._id===bn.xaxis._id||Be._id===bn.yaxis._id){var Ln=yn?bn.yaxis:bn.xaxis;Ln&&(Ln["_visibleLabelMin_"+Be._id]=gn,Ln["_visibleLabelMax_"+Be._id]=An)}}}},Be._hideCounterAxisInsideTickLabels=function(Gt){var hn="x"===Be._id.charAt(0),yn=[];for(var on in et._plots){var Ut=et._plots[on];Be._id!==Ut.xaxis._id&&Be._id!==Ut.yaxis._id||yn.push(hn?Ut.yaxis:Ut.xaxis)}yn.forEach(function(nn,Xt){nn&&We(nn)&&(Gt||[R,P,q,U,N]).forEach(function(rn){var fn="tick"===rn.K&&"text"===rn.L&&"period"===Be.ticklabelmode,gn=et._plots[Be._mainSubplot];(rn.K===R.K?gn.zerolinelayer.selectAll("."+Be._id+"zl"):rn.K===P.K?gn.minorGridlayer.selectAll("."+Be._id):rn.K===q.K?gn.gridlayer.selectAll("."+Be._id):gn[Be._id.charAt(0)+"axislayer"]).each(function(){var An=A.select(this);rn.L&&(An=An.selectAll(rn.L)),An.each(function(En){var bn=Be.l2p(fn?Qe(En):En.x)+Be._offset,Ln=A.select(this);bn<Be["_visibleLabelMax_"+nn._id]&&bn>Be["_visibleLabelMin_"+nn._id]?Ln.style("display","none"):"tick"!==rn.K||Xt||Ln.style("display",null)})})})})},Dt(bt,ft+1?ft:ct);var Nt=null;Be._selections&&(Be._selections[vt]=bt);var $t=[function(){return It.length&&Promise.all(It)}];Be.automargin&&et._redrawFromAutoMarginCount&&90===ft?(Nt=90,$t.push(function(){Dt(bt,ft)})):$t.push(function(){if(Dt(bt,ct),ut.length&&"x"===pt&&!k(ct)&&("log"!==Be.type||"D"!==String(Be.dtick).charAt(0))){Nt=0;var Gt,hn=0,yn=[];if(bt.each(function(Qn){hn=Math.max(hn,Qn.fontSize);var ir=Be.l2p(Qn.x),$n=at(this),qn=r.bBox($n.node());yn.push({top:0,bottom:10,height:10,left:ir-qn.width/2,right:ir+qn.width/2+2,width:qn.width+2})}),"boundaries"!==Be.tickson&&!Be.showdividers||tt.secondary){var on=ut.length,Ut=Math.abs((ut[on-1].x-ut[0].x)*Be._m)/(on-1),nn=Be.ticklabelposition||"",Xt=function(Qn){return-1!==nn.indexOf(Qn)},rn=Xt("top"),fn=Xt("left"),gn=Xt("right"),An=Xt("bottom")||fn||rn||gn?(Be.tickwidth||0)+6:0,En=Ut<2.5*hn||"multicategory"===Be.type||"realaxis"===Be._name;for(Gt=0;Gt<yn.length-1;Gt++)if(b.bBoxIntersect(yn[Gt],yn[Gt+1],An)){Nt=En?90:30;break}}else{var bn=2;for(Be.ticks&&(bn+=Be.tickwidth/2),Gt=0;Gt<yn.length;Gt++){var Ln=ut[Gt].xbnd,Wn=yn[Gt];if(null!==Ln[0]&&Wn.left-Be.l2p(Ln[0])<bn||null!==Ln[1]&&Be.l2p(Ln[1])-Wn.right<bn){Nt=90;break}}}Nt&&Dt(bt,Nt)}}),Be._tickAngles&&$t.push(function(){Be._tickAngles[vt]=null===Nt?k(ct)?ct:0:Nt});var jt=Be._anchorAxis;jt&&jt.autorange&&We(Be)&&!re(et,Be._id)&&(et._insideTickLabelsAutorange||(et._insideTickLabelsAutorange={}),et._insideTickLabelsAutorange[jt._name+".autorange"]=jt.autorange,$t.push(function(){bt.each(function(Gt,hn){var yn=at(this);yn.select(".text-math-group").empty()&&(Be._vals[hn].bb=r.bBox(yn.node()))})}));var Yt=b.syncOrAsync($t);return Yt&&Yt.then&&ze._promises.push(Yt),Yt},Y.getPxPosition=function(ze,Be){var tt,et=ze._fullLayout._size,gt=Be._id.charAt(0),pt=Be.side;return"free"!==Be.anchor?tt=Be._anchorAxis:"x"===gt?tt={_offset:et.t+(1-(Be.position||0))*et.h,_length:0}:"y"===gt&&(tt={_offset:et.l+(Be.position||0)*et.w+Be._shift,_length:0}),"top"===pt||"left"===pt?tt._offset:"bottom"===pt||"right"===pt?tt._offset+tt._length:void 0},Y.shouldShowZeroLine=function(ze,Be,tt){var et=b.simpleMap(Be.range,Be.r2l);return et[0]*et[1]<=0&&Be.zeroline&&("linear"===Be.type||"-"===Be.type)&&!(Be.rangebreaks&&Be.maskBreaks(0)===O)&&(mt(Be,0)||!function(gt,pt,vt,ut){var wt=vt._mainAxis;if(wt){var ct=gt._fullLayout,ft=pt._id.charAt(0),bt=Y.counterLetter(pt._id),It=pt._offset+(Math.abs(ut[0])<Math.abs(ut[1])==("x"===ft)?0:pt._length),Dt=ct._plots[vt._mainSubplot];if(!(Dt.mainplotinfo||Dt).overlays.length)return Yt(vt);for(var Nt=Y.list(gt,bt),$t=0;$t<Nt.length;$t++){var jt=Nt[$t];if(jt._mainAxis===wt&&Yt(jt))return!0}}function Yt(Gt){if(!Gt.showline||!Gt.linewidth)return!1;var hn=Math.max((Gt.linewidth+pt.zerolinewidth)/2,1);function yn(nn){return"number"==typeof nn&&Math.abs(nn-It)<hn}if(yn(Gt._mainLinePosition)||yn(Gt._mainMirrorPosition))return!0;var on=Gt._linepositions||{};for(var Ut in on)if(yn(on[Ut][0])||yn(on[Ut][1]))return!0}}(ze,Be,tt,et)||function(gt,pt){for(var vt=gt._fullData,ut=pt._mainSubplot,wt=pt._id.charAt(0),ct=0;ct<vt.length;ct++){var ft=vt[ct];if(!0===ft.visible&&ft.xaxis+ft.yaxis===ut&&(T.traceIs(ft,"bar-like")&&ft.orientation==={x:"h",y:"v"}[wt]||ft.fill&&ft.fill.charAt(ft.fill.length-1)===wt))return!0}return!1}(ze,Be))},Y.clipEnds=function(ze,Be){return Be.filter(function(tt){return mt(ze,tt.x)})},Y.allowAutoMargin=function(ze){for(var Be=Y.list(ze,"",!0),tt=0;tt<Be.length;tt++){var et=Be[tt];et.automargin&&(l.allowAutoMargin(ze,st(et)),et.mirror&&l.allowAutoMargin(ze,Tt(et))),T.getComponentMethod("rangeslider","isVisible")(et)&&l.allowAutoMargin(ze,At(et))}},Y.swap=function(ze,Be){for(var tt=function(gt,pt){var vt,ut,wt=[];for(vt=0;vt<pt.length;vt++){var ct=[],ft=gt._fullData[pt[vt]].xaxis,bt=gt._fullData[pt[vt]].yaxis;if(ft&&bt){for(ut=0;ut<wt.length;ut++)-1===wt[ut].x.indexOf(ft)&&-1===wt[ut].y.indexOf(bt)||ct.push(ut);if(ct.length){var It,Dt=wt[ct[0]];if(ct.length>1)for(ut=1;ut<ct.length;ut++)Pt(Dt.x,(It=wt[ct[ut]]).x),Pt(Dt.y,It.y);Pt(Dt.x,[ft]),Pt(Dt.y,[bt])}else wt.push({x:[ft],y:[bt]})}}return wt}(ze,Be),et=0;et<tt.length;et++)kt(ze,tt[et].x,tt[et].y)}},4322:function(ee,D,e){"use strict";var A=e(92770),k=e(71828),l=e(50606).BADNUM,T=k.isArrayOrTypedArray,b=k.isDateTime,d=k.cleanNumber,a=Math.round;function t(r,n){return n?A(r):"number"==typeof r}function i(r){return Math.max(1,(r-1)/1e3)}ee.exports=function(r,n,o){var h,s=r,u=o.noMultiCategory;if(T(s)&&!s.length)return"-";if(!u&&T((h=s)[0])&&T(h[1]))return"multicategory";if(u&&Array.isArray(s[0])){for(var p=[],c=0;c<s.length;c++)if(T(s[c]))for(var x=0;x<s[c].length;x++)p.push(s[c][x]);s=p}if(function(h,y){for(var v=h.length,m=i(v),_=0,f=0,S={},w=0;w<v;w+=m){var E=h[a(w)],L=String(E);S[L]||(S[L]=1,b(E,y)&&_++,A(E)&&f++)}return _>2*f}(s,n))return"date";var g="strict"!==o.autotypenumbers;return function(h,y){for(var v=h.length,m=i(v),_=0,f=0,S={},w=0;w<v;w+=m){var E=h[a(w)],L=String(E);if(!S[L]){S[L]=1;var C=typeof E;"boolean"===C?f++:(y?d(E)!==l:"number"===C)?_++:"string"===C&&f++}}return f>2*_}(s,g)?"category":function(h,y){for(var v=h.length,m=0;m<v;m++)if(t(h[m],y))return!0;return!1}(s,g)?"linear":"-"}},71453:function(ee,D,e){"use strict";var A=e(92770),k=e(73972),l=e(71828),T=e(44467),b=e(85501),d=e(13838),a=e(26218),t=e(38701),i=e(96115),r=e(89426),n=e(15258),o=e(92128),s=e(23608),u=e(21994),p=e(85555).WEEKDAY_PATTERN,c=e(85555).HOUR_PATTERN;function x(y,v,m){function _(R,q){return l.coerce(y,v,d.rangebreaks,R,q)}if(_("enabled")){var f=_("bounds");if(f&&f.length>=2){var S,w,E="";if(2===f.length)for(S=0;S<2;S++)if(w=h(f[S])){E=p;break}var L=_("pattern",E);if(L===p)for(S=0;S<2;S++)(w=h(f[S]))&&(v.bounds[S]=f[S]=w-1);if(L)for(S=0;S<2;S++)switch(w=f[S],L){case p:if(!A(w)||(w=+w)!==Math.floor(w)||w<0||w>=7)return void(v.enabled=!1);v.bounds[S]=f[S]=w;break;case c:if(!A(w)||(w=+w)<0||w>24)return void(v.enabled=!1);v.bounds[S]=f[S]=w}if(!1===m.autorange){var C=m.range;if(C[0]<C[1]){if(f[0]<C[0]&&f[1]>C[1])return void(v.enabled=!1)}else if(f[0]>C[0]&&f[1]<C[1])return void(v.enabled=!1)}}else{var O=_("values");if(!O||!O.length)return void(v.enabled=!1);_("dvalue")}}}ee.exports=function(y,v,m,_,f){var S,w=_.letter,E=_.font||{},L=_.splomStash||{},C=m("visible",!_.visibleDflt),R=v.type||(v._template||{}).type||"-";"date"===R&&(k.getComponentMethod("calendars","handleDefaults")(y,v,"calendar",_.calendar),_.noTicklabelmode||(S=m("ticklabelmode")));var q="";_.noTicklabelposition&&"multicategory"!==R||(q=l.coerce(y,v,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===S?["outside","inside"]:"x"===w?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),_.noTicklabeloverflow||m("ticklabeloverflow",-1!==q.indexOf("inside")?"hide past domain":"category"===R||"multicategory"===R?"allow":"hide past div"),u(v,f),s(y,v,m,_),n(y,v,m,_),"category"===R||_.noHover||m("hoverformat");var P=m("color"),U=P!==d.color.dflt?P:E.color,N=L.label||f._dfltTitle[w];if(r(y,v,m,R,_),!C)return v;m("title.text",N),l.coerceFont(m,"title.font",{family:E.family,size:l.bigFont(E.size),color:U}),a(y,v,m,R);var F=_.hasMinor;if(F&&(T.newContainer(v,"minor"),a(y,v,m,R,{isMinor:!0})),i(y,v,m,R,_),t(y,v,m,_),F){var j=_.isMinor;_.isMinor=!0,t(y,v,m,_),_.isMinor=j}o(y,v,m,{dfltColor:P,bgColor:_.bgColor,showGrid:_.showGrid,hasMinor:F,attributes:d}),!F||v.minor.ticks||v.minor.showgrid||delete v.minor,(v.showline||v.ticks)&&m("mirror");var G,te="multicategory"===R;if(_.noTickson||"category"!==R&&!te||!v.ticks&&!v.showgrid||(te&&(G="boundaries"),"boundaries"===m("tickson",G)&&delete v.ticklabelposition),te&&m("showdividers")&&(m("dividercolor"),m("dividerwidth")),"date"===R)if(b(y,v,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:x}),v.rangebreaks.length){for(var J=0;J<v.rangebreaks.length;J++)if(v.rangebreaks[J].pattern===p){v._hasDayOfWeekBreaks=!0;break}if(u(v,f),f._has("scattergl")||f._has("splom"))for(var X=0;X<_.data.length;X++){var Y=_.data[X];"scattergl"!==Y.type&&"splom"!==Y.type||(Y.visible=!1,l.warn(Y.type+" traces do not work on axes with rangebreaks. Setting trace "+Y.index+" to `visible: false`."))}}else delete v.rangebreaks;return v};var g={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function h(y){if("string"==typeof y)return g[y.substr(0,3).toLowerCase()]}},12663:function(ee,D,e){"use strict";var A=e(31562),k=A.FORMAT_LINK,l=A.DATE_FORMAT_LINK;function T(d,a){return["Sets the "+d+" formatting rule"+(a?"for `"+a+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+k+"."].join(" ")}function b(d,a){return T(d,a)+[" And for dates see: "+l+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}ee.exports={axisHoverFormat:function(d,a){return{valType:"string",dflt:"",editType:"none",description:(a?T:b)("hover text",d)+["By default the values are formatted using "+(a?"generic number format":"`"+d+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:T,descriptionWithDates:b}},41675:function(ee,D,e){"use strict";var A=e(73972),k=e(85555);function l(T,b){if(b&&b.length)for(var d=0;d<b.length;d++)if(b[d][T])return!0;return!1}D.id2name=function(T){if("string"==typeof T&&T.match(k.AX_ID_PATTERN)){var b=T.split(" ")[0].substr(1);return"1"===b&&(b=""),T.charAt(0)+"axis"+b}},D.name2id=function(T){if(T.match(k.AX_NAME_PATTERN)){var b=T.substr(5);return"1"===b&&(b=""),T.charAt(0)+b}},D.cleanId=function(T,b,d){var a=/( domain)$/.test(T);if("string"==typeof T&&T.match(k.AX_ID_PATTERN)&&(!b||T.charAt(0)===b)&&(!a||d)){var t=T.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===t&&(t=""),T.charAt(0)+t+(a&&d?" domain":"")}},D.list=function(T,b,d){var a=T._fullLayout;if(!a)return[];var t,i=D.listIds(T,b),r=new Array(i.length);for(t=0;t<i.length;t++){var n=i[t];r[t]=a[n.charAt(0)+"axis"+n.substr(1)]}if(!d){var o=a._subplots.gl3d||[];for(t=0;t<o.length;t++){var s=a[o[t]];b?r.push(s[b+"axis"]):r.push(s.xaxis,s.yaxis,s.zaxis)}}return r},D.listIds=function(T,b){var d=T._fullLayout;if(!d)return[];var a=d._subplots;return b?a[b+"axis"]:a.xaxis.concat(a.yaxis)},D.getFromId=function(T,b,d){var a=T._fullLayout;return b=void 0===b||"string"!=typeof b?b:b.replace(" domain",""),"x"===d?b=b.replace(/y[0-9]*/,""):"y"===d&&(b=b.replace(/x[0-9]*/,"")),a[D.id2name(b)]},D.getFromTrace=function(T,b,d){var a=T._fullLayout,t=null;if(A.traceIs(b,"gl3d")){var i=b.scene;"scene"===i.substr(0,5)&&(t=a[i][d+"axis"])}else t=D.getFromId(T,b[d+"axis"]||d);return t},D.idSort=function(T,b){var d=T.charAt(0),a=b.charAt(0);return d!==a?d>a?1:-1:+(T.substr(1)||1)-+(b.substr(1)||1)},D.ref2id=function(T){return!!/^[xyz]/.test(T)&&T.split(" ")[0]},D.isLinked=function(T,b){return l(b,T._axisMatchGroups)||l(b,T._axisConstraintGroups)}},15258:function(ee){"use strict";ee.exports=function(D,e,A,k){if("category"===e.type){var l,T=D.categoryarray,b=Array.isArray(T)&&T.length>0;b&&(l="array");var d,a=A("categoryorder",l);"array"===a&&(d=A("categoryarray")),b||"array"!==a||(a=e.categoryorder="trace"),"trace"===a?e._initialCategories=[]:"array"===a?e._initialCategories=d.slice():(d=function(t,i){var r,n,o,s=i.dataAttr||t._id.charAt(0),u={};if(i.axData)r=i.axData;else for(r=[],n=0;n<i.data.length;n++){var p=i.data[n];p[s+"axis"]===t._id&&r.push(p)}for(n=0;n<r.length;n++){var c=r[n][s];for(o=0;o<c.length;o++){var x=c[o];null!=x&&(u[x]=1)}}return Object.keys(u)}(e,k).sort(),"category ascending"===a?e._initialCategories=d:"category descending"===a&&(e._initialCategories=d.reverse()))}}},66287:function(ee,D,e){"use strict";var A=e(92770),k=e(71828),l=e(50606),T=l.ONEDAY,b=l.ONEWEEK;D.dtick=function(d,a){var t="log"===a,i="date"===a,r="category"===a,n=i?T:1;if(!d)return n;if(A(d))return(d=Number(d))<=0?n:r?Math.max(1,Math.round(d)):i?Math.max(.1,d):d;if("string"!=typeof d||!i&&!t)return n;var o=d.charAt(0),s=d.substr(1);return(s=A(s)?Number(s):0)<=0||!(i&&"M"===o&&s===Math.round(s)||t&&"L"===o||t&&"D"===o&&(1===s||2===s))?n:d},D.tick0=function(d,a,t,i){return"date"===a?k.cleanDate(d,k.dateTick0(t,i%b==0?1:0)):"D1"!==i&&"D2"!==i?A(d)?Number(d):0:void 0}},85555:function(ee,D,e){"use strict";var A=e(30587).counter;ee.exports={idRegex:{x:A("x","( domain)?"),y:A("y","( domain)?")},attrRegex:A("[xy]axis"),xAxisMatch:A("xaxis"),yAxisMatch:A("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(ee,D,e){"use strict";var A=e(71828),k=e(71739),l=e(41675).id2name,T=e(13838),b=e(42449),d=e(21994),a=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;function i(c,x,g){var h=g.axIds,y=g.layoutOut,v=g.hasImage,m=y._axisConstraintGroups,_=y._axisMatchGroups,f=x._id,S=f.charAt(0),w=((y._splomAxes||{})[S]||{})[f]||{},E=x._id,L="x"===E.charAt(0);function C(W,$){return A.coerce(c,x,T,W,$)}x._matchGroup=null,x._constraintGroup=null,C("constrain",v?"domain":"range"),A.coerce(c,x,{constraintoward:{valType:"enumerated",values:L?["left","center","right"]:["bottom","middle","top"],dflt:L?"center":"middle"}},"constraintoward");var O,R,q=x.type,P=[];for(O=0;O<h.length;O++)(R=h[O])!==E&&y[l(R)].type===q&&P.push(R);var U=n(m,E);if(U){var N=[];for(O=0;O<P.length;O++)U[R=P[O]]||N.push(R);P=N}var F,j,G=P.length;G&&(c.matches||w.matches)&&(F=A.coerce(c,x,{matches:{valType:"enumerated",values:P,dflt:-1!==P.indexOf(w.matches)?w.matches:void 0}},"matches"));var te=v&&!L?x.anchor:void 0;if(G&&!F&&(c.scaleanchor||te)&&(j=A.coerce(c,x,{scaleanchor:{valType:"enumerated",values:P.concat([!1])}},"scaleanchor",te)),F){x._matchGroup=o(_,E,F,1);var J=y[l(F)],X=r(y,x)/r(y,J);L!==("x"===F.charAt(0))&&(X=(L?"x":"y")+X),o(m,E,F,X)}else c.matches&&-1!==h.indexOf(c.matches)&&A.warn("ignored "+x._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(j){var Y=C("scaleratio");Y||(Y=x.scaleratio=1),o(m,E,j,Y)}else c.scaleanchor&&-1!==h.indexOf(c.scaleanchor)&&A.warn("ignored "+x._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function r(c,x){var g=x.domain;return g||(g=c[l(x.overlaying)].domain),g[1]-g[0]}function n(c,x){for(var g=0;g<c.length;g++)if(c[g][x])return c[g];return null}function o(c,x,g,h){var y,v,m,_,f,S=n(c,x);null===S?((S={})[x]=1,f=c.length,c.push(S)):f=c.indexOf(S);var w=Object.keys(S);for(y=0;y<c.length;y++)if(m=c[y],y!==f&&m[g]){var E=m[g];for(v=0;v<w.length;v++)m[_=w[v]]=s(E,s(h,S[_]));return void c.splice(f,1)}if(1!==h)for(v=0;v<w.length;v++){var L=w[v];S[L]=s(h,S[L])}S[g]=1}function s(c,x){var g,h,y="",v="";"string"==typeof c&&(g=(y=c.match(/^[xy]*/)[0]).length,c=+c.substr(g)),"string"==typeof x&&(h=(v=x.match(/^[xy]*/)[0]).length,x=+x.substr(h));var m=c*x;return g||h?g&&h&&y.charAt(0)!==v.charAt(0)?g===h?m:(g>h?y.substr(h):v.substr(g))+m:y+v+c*x:m}function u(c,x){for(var g=x._size,h=g.h/g.w,y={},v=Object.keys(c),m=0;m<v.length;m++){var _=v[m],f=c[_];if("string"==typeof f){var S=f.match(/^[xy]*/)[0],w=S.length;f=+f.substr(w);for(var E="y"===S.charAt(0)?h:1/h,L=0;L<w;L++)f*=E}y[_]=f}return y}function p(c,x){var g=c._inputDomain,y=g[0]+(g[1]-g[0])*t[c.constraintoward];c.domain=c._input.domain=[y+(g[0]-y)/x,y+(g[1]-y)/x],c.setScale()}D.handleDefaults=function(c,x,g){var h,y,v,m,_,f,S,w,E=g.axIds,L=g.axHasImage,C=x._axisConstraintGroups=[],O=x._axisMatchGroups=[];for(h=0;h<E.length;h++)i(_=c[m=l(E[h])],f=x[m],{axIds:E,layoutOut:x,hasImage:L[m]});function R(J,X){for(h=0;h<J.length;h++)for(v in y=J[h])x[l(v)][X]=y}for(R(O,"_matchGroup"),h=0;h<C.length;h++)for(v in y=C[h])if((f=x[l(v)]).fixedrange){for(var q in y){var P=l(q);!1===(c[P]||{}).fixedrange&&A.warn("fixedrange was specified as false for axis "+P+" but was overridden because another axis in its constraint group has fixedrange true"),x[P].fixedrange=!0}break}for(h=0;h<C.length;){for(v in y=C[h]){(f=x[l(v)])._matchGroup&&Object.keys(f._matchGroup).length===Object.keys(y).length&&(C.splice(h,1),h--);break}h++}R(C,"_constraintGroup");var U=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],N=!1,F=!1;function j(){w=f[S],"rangebreaks"===S&&(F=f._hasDayOfWeekBreaks)}for(h=0;h<O.length;h++){y=O[h];for(var G=0;G<U.length;G++){var te;for(v in S=U[G],w=null,y)if(_=c[m=l(v)],S in(f=x[m])){if(!f.matches&&(te=f,S in _)){j();break}null===w&&S in _&&j()}if("range"===S&&w&&_.range&&2===_.range.length&&null!==_.range[0]&&null!==_.range[1]&&(N=!0),"autorange"===S&&null===w&&N&&(w=!1),null===w&&S in te&&(w=te[S]),null!==w)for(v in y)(f=x[l(v)])[S]="range"===S?w.slice():w,"rangebreaks"===S&&(f._hasDayOfWeekBreaks=F,d(f,x))}}},D.enforce=function(c){var x,g,h,y,v,m,_,f,S=c._fullLayout,w=S._axisConstraintGroups||[];for(x=0;x<w.length;x++){h=u(w[x],S);var E=Object.keys(h),L=1/0,C=0,O=1/0,R={},q={},P=!1;for(g=0;g<E.length;g++)q[y=E[g]]=v=S[l(y)],v._inputDomain?v.domain=v._inputDomain.slice():v._inputDomain=v.domain.slice(),v._inputRange||(v._inputRange=v.range.slice()),v.setScale(),R[y]=m=Math.abs(v._m)/h[y],L=Math.min(L,m),"domain"!==v.constrain&&v._constraintShrinkable||(O=Math.min(O,m)),delete v._constraintShrinkable,C=Math.max(C,m),"domain"===v.constrain&&(P=!0);if(!(L>a*C)||P)for(g=0;g<E.length;g++)if(m=R[y=E[g]],_=(v=q[y]).constrain,m!==O||"domain"===_)if(f=m/O,"range"===_)b(v,f);else{var U=v._inputDomain,N=(v.domain[1]-v.domain[0])/(U[1]-U[0]),F=(v.r2l(v.range[1])-v.r2l(v.range[0]))/(v.r2l(v._inputRange[1])-v.r2l(v._inputRange[0]));if((f/=N)*F<1){v.domain=v._input.domain=U.slice(),b(v,f);continue}if(F<1&&(v.range=v._input.range=v._inputRange.slice(),f*=F),v.autorange){var j=v.r2l(v.range[0]),G=v.r2l(v.range[1]),te=(j+G)/2,J=te,X=te,Y=Math.abs(G-te),W=te-Y*f*1.0001,$=te+Y*f*1.0001,ne=k.makePadFn(S,v,0),re=k.makePadFn(S,v,1);p(v,f);var oe,ue,xe=Math.abs(v._m),Me=k.concatExtremes(c,v),me=Me.min,pe=Me.max;for(ue=0;ue<me.length;ue++)(oe=me[ue].val-ne(me[ue])/xe)>W&&oe<J&&(J=oe);for(ue=0;ue<pe.length;ue++)(oe=pe[ue].val+re(pe[ue])/xe)<$&&oe>X&&(X=oe);f/=(X-J)/(2*Y),J=v.l2r(J),X=v.l2r(X),v.range=v._input.range=j<G?[J,X]:[X,J]}p(v,f)}}},D.getAxisGroup=function(c,x){for(var g=c._axisMatchGroups,h=0;h<g.length;h++)if(g[h][x])return"g"+h;return x},D.clean=function(c,x){if(x._inputDomain){for(var g=!1,h=x._id,y=c._fullLayout._axisConstraintGroups,v=0;v<y.length;v++)if(y[v][h]){g=!0;break}g&&"domain"===x.constrain||(x._input.domain=x.domain=x._inputDomain,delete x._inputDomain)}}},29323:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=k.numberFormat,T=e(84267),b=e(38520),d=e(73972),a=k.strTranslate,t=e(63893),i=e(7901),r=e(91424),n=e(30211),o=e(89298),s=e(6964),u=e(28569),p=e(64505),c=p.selectingOrDrawing,x=p.freeMode,g=e(18783).FROM_TL,h=e(33306),y=e(61549).redrawReglTraces,v=e(74875),m=e(41675).getFromId,_=e(47322).prepSelect,f=e(47322).clearOutline,S=e(47322).selectOnClick,w=e(42449),E=e(85555),L=E.MINDRAG,C=E.MINZOOM,O=!0;function R(oe,ue,xe,Me){var me=k.ensureSingle(oe.draglayer,ue,xe,function(pe){pe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",oe.id)});return me.call(s,Me),me.node()}function q(oe,ue,xe,Me,me,pe,ge){var Pe=R(oe,"rect",ue,xe);return A.select(Pe).call(r.setRect,Me,me,pe,ge),Pe}function P(oe,ue){for(var xe=0;xe<oe.length;xe++)if(!oe[xe].fixedrange)return ue;return""}function U(oe,ue,xe,Me,me){for(var pe=0;pe<oe.length;pe++){var ge=oe[pe];if(!ge.fixedrange)if(ge.rangebreaks){var Pe="y"===ge._id.charAt(0),we=Pe?1-xe:xe;Me[ge._name+".range[0]"]=ge.l2r(ge.p2l((Pe?1-ue:ue)*ge._length)),Me[ge._name+".range[1]"]=ge.l2r(ge.p2l(we*ge._length))}else{var se=ge._rl[0],ae=ge._rl[1]-se;Me[ge._name+".range[0]"]=ge.l2r(se+ae*ue),Me[ge._name+".range[1]"]=ge.l2r(se+ae*xe)}}if(me&&me.length){var fe=(ue+(1-xe))/2;U(me,fe,1-fe,Me,[])}}function N(oe,ue){for(var xe=0;xe<oe.length;xe++){var Me=oe[xe];if(!Me.fixedrange){if(Me.rangebreaks){var me=Me._length,pe=(Me.p2l(0+ue)-Me.p2l(0)+(Me.p2l(me+ue)-Me.p2l(me)))/2;Me.range=[Me.l2r(Me._rl[0]-pe),Me.l2r(Me._rl[1]-pe)]}else Me.range=[Me.l2r(Me._rl[0]-ue/Me._m),Me.l2r(Me._rl[1]-ue/Me._m)];Me.limitRange&&Me.limitRange()}}}function F(oe){return 1-(oe>=0?Math.min(oe,.9):1/(1/Math.max(oe,-.3)+3.222))}function j(oe,ue,xe,Me,me){return oe.append("path").attr("class","zoombox").style({fill:ue>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",a(xe,Me)).attr("d",me+"Z")}function G(oe,ue,xe){return oe.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1,opacity:0}).attr("transform",a(ue,xe)).attr("d","M0,0Z")}function te(oe,ue,xe,Me,me,pe){oe.attr("d",Me+"M"+xe.l+","+xe.t+"v"+xe.h+"h"+xe.w+"v-"+xe.h+"h-"+xe.w+"Z"),J(oe,ue,me,pe)}function J(oe,ue,xe,Me){xe||(oe.transition().style("fill",Me>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ue.transition().style("opacity",1).duration(200))}function X(oe){A.select(oe).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Y(oe){O&&oe.data&&oe._context.showTips&&(k.notifier(k._(oe,"Double-click to zoom back out"),"long"),O=!1)}function W(oe){var ue=Math.floor(Math.min(oe.b-oe.t,oe.r-oe.l,C)/2);return"M"+(oe.l-3.5)+","+(oe.t-.5+ue)+"h3v"+-ue+"h"+ue+"v-3h-"+(ue+3)+"ZM"+(oe.r+3.5)+","+(oe.t-.5+ue)+"h-3v"+-ue+"h"+-ue+"v-3h"+(ue+3)+"ZM"+(oe.r+3.5)+","+(oe.b+.5-ue)+"h-3v"+ue+"h"+-ue+"v3h"+(ue+3)+"ZM"+(oe.l-3.5)+","+(oe.b+.5-ue)+"h3v"+ue+"h"+ue+"v3h-"+(ue+3)+"Z"}function $(oe,ue,xe,Me,me){for(var pe,ge,Pe,_e,we=!1,se={},ae={},fe=(me||{}).xaHash,Ee=(me||{}).yaHash,ke=0;ke<ue.length;ke++){var be=ue[ke];for(pe in xe)if(be[pe]){for(Pe in be)me&&(fe[Pe]||Ee[Pe])||("x"===Pe.charAt(0)?xe:Me)[Pe]||(se[Pe]=pe);for(ge in Me)me&&(fe[ge]||Ee[ge])||!be[ge]||(we=!0)}for(ge in Me)if(be[ge])for(_e in be)me&&(fe[_e]||Ee[_e])||("x"===_e.charAt(0)?xe:Me)[_e]||(ae[_e]=ge)}we&&(k.extendFlat(se,ae),ae={});var Ie={},Fe=[];for(Pe in se){var ce=m(oe,Pe);Fe.push(ce),Ie[ce._id]=ce}var Te={},ve=[];for(_e in ae){var Ce=m(oe,_e);ve.push(Ce),Te[Ce._id]=Ce}return{xaHash:Ie,yaHash:Te,xaxes:Fe,yaxes:ve,xLinks:se,yLinks:ae,isSubplotConstrained:we}}function ne(oe,ue){if(b){var xe=void 0!==oe.onwheel?"wheel":"mousewheel";oe._onwheel&&oe.removeEventListener(xe,oe._onwheel),oe._onwheel=ue,oe.addEventListener(xe,ue,{passive:!1})}else void 0!==oe.onwheel?oe.onwheel=ue:void 0!==oe.onmousewheel?oe.onmousewheel=ue:oe.isAddedWheelEvent||(oe.isAddedWheelEvent=!0,oe.addEventListener("wheel",ue,{passive:!1}))}function re(oe){var ue=[];for(var xe in oe)ue.push(oe[xe]);return ue}ee.exports={makeDragBox:function(oe,ue,xe,Me,me,pe,ge,Pe){var _e,we,se,ae,fe,Ee,ke,be,Ie,Fe,ce,Te,ve,Ce,Re,Oe,je,qe,Je,it,Qe,dt,yt,mt=oe._fullLayout._zoomlayer,at=ge+Pe==="nsew",st=1===(ge+Pe).length;function Tt(){if(Ie=(_e=ue.xaxis)._length,Fe=(we=ue.yaxis)._length,ke=_e._offset,be=we._offset,(se={})[_e._id]=_e,(ae={})[we._id]=we,ge&&Pe)for(var Ut=ue.overlays,nn=0;nn<Ut.length;nn++){var Xt=Ut[nn].xaxis;se[Xt._id]=Xt;var rn=Ut[nn].yaxis;ae[rn._id]=rn}fe=re(se),Ee=re(ae),ve=P(fe,Pe),Ce=P(Ee,ge),Re=!Ce&&!ve,Te=$(oe,oe._fullLayout._axisMatchGroups,se,ae);var fn=(ce=$(oe,oe._fullLayout._axisConstraintGroups,se,ae,Te)).isSubplotConstrained||Te.isSubplotConstrained;Oe=Pe||fn,je=ge||fn;var gn=oe._fullLayout;qe=gn._has("scattergl"),Je=gn._has("splom"),it=gn._has("svg")}xe+=ue.yaxis._shift,Tt();var Ut,At=(Ut=Ce+ve)?"nsew"===Ut?at?"":"pan"===oe._fullLayout.dragmode?"move":"crosshair":Ut.toLowerCase()+"-resize":"pointer",Pt=q(ue,ge+Pe+"drag",At,xe,Me,me,pe);if(Re&&!at)return Pt.onmousedown=null,Pt.style.pointerEvents="none",Pt;var kt,Ze,Xe,He,We,rt,nt,ze,Be,tt,et={element:Pt,gd:oe,plotinfo:ue};function gt(){et.plotinfo.selection=!1,f(oe)}function pt(Ut,nn){var Wn,Qn,ir,$n,qn,Xt=et.gd;if(Xt._fullLayout._activeShapeIndex>=0)Xt._fullLayout._deactivateShape(Xt);else{var rn=Xt._fullLayout.clickmode;if(X(Xt),2!==Ut||st||function jt(){if(!oe._transitioningWithDuration){var Ut=oe._context.doubleClick,nn=[];ve&&(nn=nn.concat(fe)),Ce&&(nn=nn.concat(Ee)),Te.xaxes&&(nn=nn.concat(Te.xaxes)),Te.yaxes&&(nn=nn.concat(Te.yaxes));var Xt,rn,fn={};if("reset+autosize"===Ut)for(Ut="autosize",rn=0;rn<nn.length;rn++){var gn=(Xt=nn[rn])._rangeInitial0,An=Xt._rangeInitial1,En=void 0!==gn||void 0!==An;if(En&&(void 0!==gn&&gn!==Xt.range[0]||void 0!==An&&An!==Xt.range[1])||!En&&!0!==Xt.autorange){Ut="reset";break}}if("autosize"===Ut)for(rn=0;rn<nn.length;rn++)(Xt=nn[rn]).fixedrange||(fn[Xt._name+".autorange"]=!0);else if("reset"===Ut)for((ve||ce.isSubplotConstrained)&&(nn=nn.concat(ce.xaxes)),Ce&&!ce.isSubplotConstrained&&(nn=nn.concat(ce.yaxes)),ce.isSubplotConstrained&&(ve?Ce||(nn=nn.concat(Ee)):nn=nn.concat(fe)),rn=0;rn<nn.length;rn++)if(!(Xt=nn[rn]).fixedrange){var bn=Xt._name,Ln=Xt._autorangeInitial;void 0===Xt._rangeInitial0&&void 0===Xt._rangeInitial1?fn[bn+".autorange"]=!0:void 0===Xt._rangeInitial0?(fn[bn+".autorange"]=Ln,fn[bn+".range"]=[null,Xt._rangeInitial1]):void 0===Xt._rangeInitial1?(fn[bn+".range"]=[Xt._rangeInitial0,null],fn[bn+".autorange"]=Ln):fn[bn+".range"]=[Xt._rangeInitial0,Xt._rangeInitial1]}oe.emit("plotly_doubleclick",null),d.call("_guiRelayout",oe,fn)}}(),at)rn.indexOf("select")>-1&&S(nn,Xt,fe,Ee,ue.id,et),rn.indexOf("event")>-1&&n.click(Xt,nn,ue.id);else if(1===Ut&&st){var fn=ge?we:_e,gn="s"===ge||"w"===Pe?0:1,An=fn._name+".range["+gn+"]",En=($n=(Wn=fn).range[Qn=gn],qn=Math.abs($n-Wn.range[1-Qn]),"date"===Wn.type?$n:"log"===Wn.type?(ir=Math.ceil(Math.max(0,-Math.log(qn)/Math.LN10))+3,l("."+ir+"g")(Math.pow(10,$n))):(ir=Math.floor(Math.log(Math.abs($n))/Math.LN10)-Math.floor(Math.log(qn)/Math.LN10)+4,l("."+String(ir)+"g")($n))),bn="left",Ln="middle";if(fn.fixedrange)return;ge?(Ln="n"===ge?"top":"bottom","right"===fn.side&&(bn="right")):"e"===Pe&&(bn="right"),Xt._context.showAxisRangeEntryBoxes&&A.select(Pt).call(t.makeEditable,{gd:Xt,immediate:!0,background:Xt._fullLayout.paper_bgcolor,text:String(En),fill:fn.tickfont?fn.tickfont.color:"#444",horizontalAlign:bn,verticalAlign:Ln}).on("edit",function(Wn){var Qn=fn.d2r(Wn);void 0!==Qn&&d.call("_guiRelayout",Xt,An,Qn)})}}}function vt(Ut,nn){if(oe._transitioningWithDuration)return!1;var Ln,Wn,Xt=Math.max(0,Math.min(Ie,dt*Ut+kt)),rn=Math.max(0,Math.min(Fe,yt*nn+Ze)),fn=Math.abs(Xt-kt),gn=Math.abs(rn-Ze);function An(){nt="",Xe.r=Xe.l,Xe.t=Xe.b,Be.attr("d","M0,0Z")}if(Xe.l=Math.min(kt,Xt),Xe.r=Math.max(kt,Xt),Xe.t=Math.min(Ze,rn),Xe.b=Math.max(Ze,rn),ce.isSubplotConstrained)fn>C||gn>C?(nt="xy",fn/Ie>gn/Fe?(gn=fn*Fe/Ie,Ze>rn?Xe.t=Ze-gn:Xe.b=Ze+gn):(fn=gn*Ie/Fe,kt>Xt?Xe.l=kt-fn:Xe.r=kt+fn),Be.attr("d",W(Xe))):An();else if(Te.isSubplotConstrained)if(fn>C||gn>C){nt="xy";var En=Math.min(Xe.l/Ie,(Fe-Xe.b)/Fe),bn=Math.max(Xe.r/Ie,(Fe-Xe.t)/Fe);Xe.l=En*Ie,Xe.r=bn*Ie,Xe.b=(1-En)*Fe,Xe.t=(1-bn)*Fe,Be.attr("d",W(Xe))}else An();else!Ce||gn<Math.min(Math.max(.6*fn,L),C)?fn<L||!ve?An():(Xe.t=0,Xe.b=Fe,nt="x",Be.attr("d","M"+((Ln=Xe).l-.5)+","+((Wn=Ze)-C-.5)+"h-3v"+(2*C+1)+"h3ZM"+(Ln.r+.5)+","+(Wn-C-.5)+"h3v"+(2*C+1)+"h-3Z")):!ve||fn<Math.min(.6*gn,C)?(Xe.l=0,Xe.r=Ie,nt="y",Be.attr("d",function(Ln,Wn){return"M"+(Wn-C-.5)+","+(Ln.t-.5)+"v-3h"+(2*C+1)+"v3ZM"+(Wn-C-.5)+","+(Ln.b+.5)+"v3h"+(2*C+1)+"v-3Z"}(Xe,kt))):(nt="xy",Be.attr("d",W(Xe)));Xe.w=Xe.r-Xe.l,Xe.h=Xe.b-Xe.t,nt&&(tt=!0),oe._dragged=tt,te(ze,Be,Xe,We,rt,He),ut(),oe.emit("plotly_relayouting",Qe),rt=!0}function ut(){Qe={},"xy"!==nt&&"x"!==nt||(U(fe,Xe.l/Ie,Xe.r/Ie,Qe,ce.xaxes),Nt("x",Qe)),"xy"!==nt&&"y"!==nt||(U(Ee,(Fe-Xe.b)/Fe,(Fe-Xe.t)/Fe,Qe,ce.yaxes),Nt("y",Qe))}function wt(){ut(),X(oe),Yt(),Y(oe)}et.prepFn=function(Ut,nn,Xt){var rn=et.dragmode,fn=oe._fullLayout.dragmode;fn!==rn&&(et.dragmode=fn),Tt(),dt=oe._fullLayout._invScaleX,yt=oe._fullLayout._invScaleY,Re||(at?Ut.shiftKey?"pan"===fn?fn="zoom":c(fn)||(fn="pan"):Ut.ctrlKey&&(fn="pan"):fn="pan"),et.minDrag=x(fn)?1:void 0,c(fn)?(et.xaxes=fe,et.yaxes=Ee,_(Ut,nn,Xt,et,fn)):(et.clickFn=pt,c(rn)&&gt(),Re||("zoom"===fn?(et.moveFn=vt,et.doneFn=wt,et.minDrag=1,function(gn,An,En){var bn=Pt.getBoundingClientRect();kt=An-bn.left,Ze=En-bn.top,oe._fullLayout._calcInverseTransform(oe);var Ln=k.apply3DTransform(oe._fullLayout._invTransform)(kt,Ze);Xe={l:kt=Ln[0],r:kt,w:0,t:Ze=Ln[1],b:Ze,h:0},He=oe._hmpixcount?oe._hmlumcount/oe._hmpixcount:T(oe._fullLayout.plot_bgcolor).getLuminance(),rt=!1,nt="xy",tt=!1,ze=j(mt,He,ke,be,We="M0,0H"+Ie+"V"+Fe+"H0V0"),Be=G(mt,ke,be)}(0,nn,Xt)):"pan"===fn&&(et.moveFn=Dt,et.doneFn=Yt))),oe._fullLayout._redrag=function(){var gn=oe._dragdata;gn&&gn.element===Pt&&(c(oe._fullLayout.dragmode)||(Tt(),Gt([0,0,Ie,Fe]),et.moveFn(gn.dx,gn.dy)))}},u.init(et);var ct=[0,0,Ie,Fe],ft=null,bt=E.REDRAWDELAY,It=ue.mainplot?oe._fullLayout._plots[ue.mainplot]:ue;function Dt(Ut,nn){if(Ut*=dt,nn*=yt,!oe._transitioningWithDuration){if(oe._fullLayout._replotting=!0,"ew"===ve||"ns"===Ce){var Xt=ve?-Ut:0,rn=Ce?-nn:0;if(Te.isSubplotConstrained){if(ve&&Ce){var fn=(Ut/Ie-nn/Fe)/2;Xt=-(Ut=fn*Ie),rn=-(nn=-fn*Fe)}Ce?Xt=-rn*Ie/Fe:rn=-Xt*Fe/Ie}return ve&&(N(fe,Ut),Nt("x")),Ce&&(N(Ee,nn),Nt("y")),Gt([Xt,rn,Ie,Fe]),$t(),void oe.emit("plotly_relayouting",Qe)}var gn,An,En="w"===ve==("n"===Ce)?1:-1;if(ve&&Ce&&(ce.isSubplotConstrained||Te.isSubplotConstrained)){var bn=(Ut/Ie+En*nn/Fe)/2;Ut=bn*Ie,nn=En*bn*Fe}if("w"===ve?Ut=ir(fe,0,Ut):"e"===ve?Ut=ir(fe,1,-Ut):ve||(Ut=0),"n"===Ce?nn=ir(Ee,1,nn):"s"===Ce?nn=ir(Ee,0,-nn):Ce||(nn=0),gn="w"===ve?Ut:0,An="n"===Ce?nn:0,ce.isSubplotConstrained&&!Te.isSubplotConstrained||Te.isSubplotConstrained&&ve&&Ce&&En>0){var Ln;if(Te.isSubplotConstrained||!ve&&1===Ce.length){for(Ln=0;Ln<fe.length;Ln++)fe[Ln].range=fe[Ln]._r.slice(),w(fe[Ln],1-nn/Fe);gn=(Ut=nn*Ie/Fe)/2}if(Te.isSubplotConstrained||!Ce&&1===ve.length){for(Ln=0;Ln<Ee.length;Ln++)Ee[Ln].range=Ee[Ln]._r.slice(),w(Ee[Ln],1-Ut/Ie);An=(nn=Ut*Fe/Ie)/2}}Te.isSubplotConstrained&&Ce||Nt("x"),Te.isSubplotConstrained&&ve||Nt("y");var Wn=Ie-Ut,Qn=Fe-nn;!Te.isSubplotConstrained||ve&&Ce||(ve?(An=gn?0:Ut*Fe/Ie,Qn=Wn*Fe/Ie):(gn=An?0:nn*Ie/Fe,Wn=Qn*Ie/Fe)),Gt([gn,An,Wn,Qn]),$t(),oe.emit("plotly_relayouting",Qe)}function ir($n,qn,dr){for(var Ft,tn,cn=1-qn,dn=0;dn<$n.length;dn++){var kn=$n[dn];if(!kn.fixedrange){Ft=kn,tn=kn._rl[cn]+(kn._rl[qn]-kn._rl[cn])/F(dr/kn._length);var Vn=kn.l2r(tn);!1!==Vn&&void 0!==Vn&&(kn.range[qn]=Vn)}}return Ft._length*(Ft._rl[qn]-tn)/(Ft._rl[qn]-Ft._rl[cn])}}function Nt(Ut,nn){for(var Xt=Te.isSubplotConstrained?{x:Ee,y:fe}[Ut]:Te[Ut+"axes"],rn=Te.isSubplotConstrained?{x:fe,y:Ee}[Ut]:[],fn=0;fn<Xt.length;fn++){var gn=Xt[fn],An=gn._id,En=Te.xLinks[An]||Te.yLinks[An],bn=rn[0]||se[En]||ae[En];bn&&(nn?(nn[gn._name+".range[0]"]=nn[bn._name+".range[0]"],nn[gn._name+".range[1]"]=nn[bn._name+".range[1]"]):gn.range=bn.range.slice())}}function $t(){var Ut,nn=[];function Xt(An){for(Ut=0;Ut<An.length;Ut++)An[Ut].fixedrange||nn.push(An[Ut]._id)}function rn(An,En){for(Ut=0;Ut<An.length;Ut++){var bn=An[Ut],Ln=bn[En];bn.fixedrange||"sync"!==Ln.tickmode||nn.push(Ln._id)}}for(Oe&&(Xt(fe),Xt(ce.xaxes),Xt(Te.xaxes),rn(ue.overlays,"xaxis")),je&&(Xt(Ee),Xt(ce.yaxes),Xt(Te.yaxes),rn(ue.overlays,"yaxis")),Qe={},Ut=0;Ut<nn.length;Ut++){var gn=m(oe,nn[Ut]);o.drawOne(oe,gn,{skipTitle:!0}),Qe[gn._name+".range[0]"]=gn.range[0],Qe[gn._name+".range[1]"]=gn.range[1]}o.redrawComponents(oe,nn)}function Yt(){Gt([0,0,Ie,Fe]),k.syncOrAsync([v.previousPromises,function(){oe._fullLayout._replotting=!1,d.call("_guiRelayout",oe,Qe)}],oe)}function Gt(Ut){var nn,Xt,rn,fn,gn=oe._fullLayout,An=gn._plots,En=gn._subplots.cartesian;if(Je&&d.subplotsRegistry.splom.drag(oe),qe)for(nn=0;nn<En.length;nn++)if(rn=(Xt=An[En[nn]]).xaxis,fn=Xt.yaxis,Xt._scene){var bn=k.simpleMap(rn.range,rn.r2l),Ln=k.simpleMap(fn.range,fn.r2l);rn.limitRange&&rn.limitRange(),fn.limitRange&&fn.limitRange(),Xt._scene.update({range:[(bn=rn.range)[0],(Ln=fn.range)[0],bn[1],Ln[1]]})}if((Je||qe)&&(h(oe),y(oe)),it){var Wn=Ut[2]/_e._length,Qn=Ut[3]/we._length;for(nn=0;nn<En.length;nn++){rn=(Xt=An[En[nn]]).xaxis,fn=Xt.yaxis;var ir,$n,qn,dr,tn=(je||Te.isSubplotConstrained)&&!fn.fixedrange&&ae[fn._id];if((Oe||Te.isSubplotConstrained)&&!rn.fixedrange&&se[rn._id]?(ir=Wn,qn=Pe||Te.isSubplotConstrained?Ut[0]:on(rn,ir)):Te.xaHash[rn._id]?(ir=Wn,qn=Ut[0]*rn._length/_e._length):Te.yaHash[rn._id]?(ir=Qn,qn="ns"===Ce?-Ut[1]*rn._length/we._length:on(rn,ir,{n:"top",s:"bottom"}[Ce])):qn=yn(rn,ir=hn(rn,Wn,Qn)),ir>1&&(void 0!==rn.maxallowed&&Oe===(rn.range[0]<rn.range[1]?"e":"w")||void 0!==rn.minallowed&&Oe===(rn.range[0]<rn.range[1]?"w":"e"))&&(ir=1,qn=0),tn?($n=Qn,dr=ge||Te.isSubplotConstrained?Ut[1]:on(fn,$n)):Te.yaHash[fn._id]?($n=Qn,dr=Ut[1]*fn._length/we._length):Te.xaHash[fn._id]?($n=Wn,dr="ew"===ve?-Ut[0]*fn._length/_e._length:on(fn,$n,{e:"right",w:"left"}[ve])):dr=yn(fn,$n=hn(fn,Wn,Qn)),$n>1&&(void 0!==fn.maxallowed&&je===(fn.range[0]<fn.range[1]?"n":"s")||void 0!==fn.minallowed&&je===(fn.range[0]<fn.range[1]?"s":"n"))&&($n=1,dr=0),ir||$n){ir||(ir=1),$n||($n=1);var cn=rn._offset-qn/ir,dn=fn._offset-dr/$n;Xt.clipRect.call(r.setTranslate,qn,dr).call(r.setScale,ir,$n),Xt.plot.call(r.setTranslate,cn,dn).call(r.setScale,1/ir,1/$n),ir===Xt.xScaleFactor&&$n===Xt.yScaleFactor||(r.setPointGroupScale(Xt.zoomScalePts,ir,$n),r.setTextPointsScale(Xt.zoomScaleTxt,ir,$n)),r.hideOutsideRangePoints(Xt.clipOnAxisFalseTraces,Xt),Xt.xScaleFactor=ir,Xt.yScaleFactor=$n}}}}function hn(Ut,nn,Xt){return Ut.fixedrange?0:Oe&&ce.xaHash[Ut._id]?nn:je&&(ce.isSubplotConstrained?ce.xaHash:ce.yaHash)[Ut._id]?Xt:0}function yn(Ut,nn){return nn?(Ut.range=Ut._r.slice(),w(Ut,nn),on(Ut,nn)):0}function on(Ut,nn,Xt){return Ut._length*(1-nn)*g[Xt||Ut.constraintoward||"middle"]}return ge.length*Pe.length!=1&&ne(Pt,function(Ut){if(oe._context._scrollZoom.cartesian||oe._fullLayout._enablescrollzoom){if(gt(),oe._transitioningWithDuration)return Ut.preventDefault(),void Ut.stopPropagation();Tt(),clearTimeout(ft);var nn=-Ut.deltaY;if(isFinite(nn)||(nn=Ut.wheelDelta/10),isFinite(nn)){var Xt,rn=Math.exp(-Math.min(Math.max(nn,-20),20)/200),fn=It.draglayer.select(".nsewdrag").node().getBoundingClientRect(),gn=(Ut.clientX-fn.left)/fn.width,An=(fn.bottom-Ut.clientY)/fn.height;if(Oe){for(Pe||(gn=.5),Xt=0;Xt<fe.length;Xt++)En(fe[Xt],gn,rn);Nt("x"),ct[2]*=rn,ct[0]+=ct[2]*gn*(1/rn-1)}if(je){for(ge||(An=.5),Xt=0;Xt<Ee.length;Xt++)En(Ee[Xt],An,rn);Nt("y"),ct[3]*=rn,ct[1]+=ct[3]*(1-An)*(1/rn-1)}Gt(ct),$t(),oe.emit("plotly_relayouting",Qe),ft=setTimeout(function(){oe._fullLayout&&(ct=[0,0,Ie,Fe],Yt())},bt),Ut.preventDefault()}else k.log("Did not find wheel motion attributes: ",Ut)}function En(bn,Ln,Wn){if(!bn.fixedrange){var Qn=k.simpleMap(bn.range,bn.r2l),ir=Qn[0]+(Qn[1]-Qn[0])*Ln;bn.range=Qn.map(function($n){return bn.l2r(ir+($n-ir)*Wn)})}}}),Pt},makeDragger:R,makeRectDragger:q,makeZoombox:j,makeCorners:G,updateZoombox:te,xyCorners:W,transitionZoombox:J,removeZoombox:X,showDoubleClickNotifier:Y,attachWheelEventHandler:ne}},4305:function(ee,D,e){"use strict";var A=e(39898),k=e(30211),l=e(28569),T=e(6964),b=e(29323).makeDragBox,d=e(85555).DRAGGERSIZE;D.initInteractions=function(a){var t=a._fullLayout;if(a._context.staticPlot)A.select(a).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort(function(r,n){if((t._plots[r].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var o=r.split("y"),s=n.split("y");return o[0]===s[0]?Number(o[1]||1)-Number(s[1]||1):Number(o[0]||1)-Number(s[0]||1)}return t._plots[r].mainplot?1:-1}).forEach(function(r){var n=t._plots[r],o=n.xaxis,s=n.yaxis;if(!n.mainplot){var u=b(a,n,o._offset,s._offset,o._length,s._length,"ns","ew");u.onmousemove=function(x){a._fullLayout._rehover=function(){a._fullLayout._hoversubplot===r&&a._fullLayout._plots[r]&&k.hover(a,x,r)},k.hover(a,x,r),a._fullLayout._lasthover=u,a._fullLayout._hoversubplot=r},u.onmouseout=function(x){a._dragging||(a._fullLayout._hoversubplot=null,l.unhover(a,x))},a._context.showAxisDragHandles&&(b(a,n,o._offset-d,s._offset-d,d,d,"n","w"),b(a,n,o._offset+o._length,s._offset-d,d,d,"n","e"),b(a,n,o._offset-d,s._offset+s._length,d,d,"s","w"),b(a,n,o._offset+o._length,s._offset+s._length,d,d,"s","e"))}if(a._context.showAxisDragHandles){if(r===o._mainSubplot){var p=o._mainLinePosition;"top"===o.side&&(p-=d),b(a,n,o._offset+.1*o._length,p,.8*o._length,d,"","ew"),b(a,n,o._offset,p,.1*o._length,d,"","w"),b(a,n,o._offset+.9*o._length,p,.1*o._length,d,"","e")}if(r===s._mainSubplot){var c=s._mainLinePosition;"right"!==s.side&&(c-=d),b(a,n,c,s._offset+.1*s._length,d,.8*s._length,"ns",""),b(a,n,c,s._offset+.9*s._length,d,.1*s._length,"s",""),b(a,n,c,s._offset,d,.1*s._length,"n","")}}});var i=t._hoverlayer.node();i.onmousemove=function(r){r.target=a._fullLayout._lasthover,k.hover(a,r,t._hoversubplot)},i.onclick=function(r){r.target=a._fullLayout._lasthover,k.click(a,r)},i.onmousedown=function(r){a._fullLayout._lasthover.onmousedown(r)},D.updateFx(a)}},D.updateFx=function(a){var t=a._fullLayout;T(t._draggers,"pan"===t.dragmode?"move":"crosshair")}},76325:function(ee,D,e){"use strict";var A=e(73972),k=e(71828),l=e(41675);ee.exports=function(T){return function(b,d){var a=b[T];if(Array.isArray(a))for(var t=A.subplotsRegistry.cartesian,i=t.idRegex,r=d._subplots,n=r.xaxis,o=r.yaxis,s=r.cartesian,u=d._has("cartesian")||d._has("gl2d"),p=0;p<a.length;p++){var c=a[p];if(k.isPlainObject(c)){var x=l.cleanId(c.xref,"x",!1),g=l.cleanId(c.yref,"y",!1),h=i.x.test(x),y=i.y.test(g);if(h||y){u||k.pushUnique(d._basePlotModules,t);var v=!1;h&&-1===n.indexOf(x)&&(n.push(x),v=!0),y&&-1===o.indexOf(g)&&(o.push(g),v=!0),v&&h&&y&&s.push(x+g)}}}}}},93612:function(ee,D,e){"use strict";var A=e(39898),k=e(73972),l=e(71828),T=e(74875),b=e(91424),d=e(27659).a0,a=e(41675),t=e(85555),i=e(77922),r=l.ensureSingle;function n(c,x,g){return l.ensureSingle(c,x,g,function(h){h.datum(g)})}function o(c,x,g,h,y){for(var v,m,_,f=t.traceLayerClasses,S=c._fullLayout,w=S._modules,E=[],L=[],C=0;C<w.length;C++){var O=(v=w[C]).name,R=k.modules[O].categories;if(R.svg){var q=v.layerName||O+"layer",P=v.plot;_=(m=d(g,P))[0],g=m[1],_.length&&E.push({i:f.indexOf(q),className:q,plotMethod:P,cdModule:_}),R.zoomScale&&L.push("."+q)}}E.sort(function(F,j){return F.i-j.i});var U=x.plot.selectAll("g.mlayer").data(E,function(F){return F.className});if(U.enter().append("g").attr("class",function(F){return F.className}).classed("mlayer",!0).classed("rangeplot",x.isRangePlot),U.exit().remove(),U.order(),U.each(function(F){var j=A.select(this),G=F.className;F.plotMethod(c,x,F.cdModule,j,h,y),-1===t.clipOnAxisFalseQuery.indexOf("."+G)&&b.setClipUrl(j,x.layerClipId,c)}),S._has("scattergl")&&(v=k.getModule("scattergl"),_=d(g,v)[0],v.plot(c,x,_)),!c._context.staticPlot&&(x._hasClipOnAxisFalse&&(x.clipOnAxisFalseTraces=x.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),L.length)){var N=x.plot.selectAll(L.join(",")).selectAll(".trace");x.zoomScalePts=N.selectAll("path.point"),x.zoomScaleTxt=N.selectAll(".textpoint")}}function s(c,x){var g=x.plotgroup,h=x.id,y=t.layerValue2layerClass[x.xaxis.layer],v=t.layerValue2layerClass[x.yaxis.layer],m=c._fullLayout._hasOnlyLargeSploms;if(x.mainplot){var _=x.mainplotinfo,f=_.plotgroup,S=h+"-x",w=h+"-y";x.minorGridlayer=_.minorGridlayer,x.gridlayer=_.gridlayer,x.zerolinelayer=_.zerolinelayer,r(_.overlinesBelow,"path",S),r(_.overlinesBelow,"path",w),r(_.overaxesBelow,"g",S),r(_.overaxesBelow,"g",w),x.plot=r(_.overplot,"g",h),r(_.overlinesAbove,"path",S),r(_.overlinesAbove,"path",w),r(_.overaxesAbove,"g",S),r(_.overaxesAbove,"g",w),x.xlines=f.select(".overlines-"+y).select("."+S),x.ylines=f.select(".overlines-"+v).select("."+w),x.xaxislayer=f.select(".overaxes-"+y).select("."+S),x.yaxislayer=f.select(".overaxes-"+v).select("."+w)}else if(m)x.xlines=r(g,"path","xlines-above"),x.ylines=r(g,"path","ylines-above"),x.xaxislayer=r(g,"g","xaxislayer-above"),x.yaxislayer=r(g,"g","yaxislayer-above");else{var E=r(g,"g","layer-subplot");x.shapelayer=r(E,"g","shapelayer"),x.imagelayer=r(E,"g","imagelayer"),x.minorGridlayer=r(g,"g","minor-gridlayer"),x.gridlayer=r(g,"g","gridlayer"),x.zerolinelayer=r(g,"g","zerolinelayer"),r(g,"path","xlines-below"),r(g,"path","ylines-below"),x.overlinesBelow=r(g,"g","overlines-below"),r(g,"g","xaxislayer-below"),r(g,"g","yaxislayer-below"),x.overaxesBelow=r(g,"g","overaxes-below"),x.plot=r(g,"g","plot"),x.overplot=r(g,"g","overplot"),x.xlines=r(g,"path","xlines-above"),x.ylines=r(g,"path","ylines-above"),x.overlinesAbove=r(g,"g","overlines-above"),r(g,"g","xaxislayer-above"),r(g,"g","yaxislayer-above"),x.overaxesAbove=r(g,"g","overaxes-above"),x.xlines=g.select(".xlines-"+y),x.ylines=g.select(".ylines-"+v),x.xaxislayer=g.select(".xaxislayer-"+y),x.yaxislayer=g.select(".yaxislayer-"+v)}m||(n(x.minorGridlayer,"g",x.xaxis._id),n(x.minorGridlayer,"g",x.yaxis._id),x.minorGridlayer.selectAll("g").map(function(L){return L[0]}).sort(a.idSort),n(x.gridlayer,"g",x.xaxis._id),n(x.gridlayer,"g",x.yaxis._id),x.gridlayer.selectAll("g").map(function(L){return L[0]}).sort(a.idSort)),x.xlines.style("fill","none").classed("crisp",!0),x.ylines.style("fill","none").classed("crisp",!0)}function u(c,x){if(c){var g={};for(var h in c.each(function(_){var f=_[0];A.select(this).remove(),p(f,x),g[f]=!0}),x._plots)for(var y=x._plots[h].overlays||[],v=0;v<y.length;v++){var m=y[v];g[m.id]&&m.plot.selectAll(".trace").remove()}}}function p(c,x){x._draggers.selectAll("g."+c).remove(),x._defs.select("#clip"+x._uid+c+"plot").remove()}D.name="cartesian",D.attr=["xaxis","yaxis"],D.idRoot=["x","y"],D.idRegex=t.idRegex,D.attrRegex=t.attrRegex,D.attributes=e(89502),D.layoutAttributes=e(13838),D.supplyLayoutDefaults=e(86763),D.transitionAxes=e(66847),D.finalizeSubplots=function(c,x){var g,h,y,v=x._subplots,m=v.xaxis,_=v.yaxis,f=v.cartesian,S=f.concat(v.gl2d||[]),w={},E={};for(g=0;g<S.length;g++){var L=S[g].split("y");w[L[0]]=1,E["y"+L[1]]=1}for(g=0;g<m.length;g++)w[h=m[g]]||(y=(c[a.id2name(h)]||{}).anchor,t.idRegex.y.test(y)||(y="y"),f.push(h+y),S.push(h+y),E[y]||(E[y]=1,l.pushUnique(_,y)));for(g=0;g<_.length;g++)E[y=_[g]]||(h=(c[a.id2name(y)]||{}).anchor,t.idRegex.x.test(h)||(h="x"),f.push(h+y),S.push(h+y),w[h]||(w[h]=1,l.pushUnique(m,h)));if(!S.length){for(var C in h="",y="",c)t.attrRegex.test(C)&&("x"===C.charAt(0)?(!h||+C.substr(5)<+h.substr(5))&&(h=C):(!y||+C.substr(5)<+y.substr(5))&&(y=C));h=h?a.name2id(h):"x",y=y?a.name2id(y):"y",m.push(h),_.push(y),f.push(h+y)}},D.plot=function(c,x,g,h){var y,v=c._fullLayout,m=v._subplots.cartesian,_=c.calcdata;if(!Array.isArray(x))for(x=[],y=0;y<_.length;y++)x.push(y);for(y=0;y<m.length;y++){for(var f,S=m[y],w=v._plots[S],E=[],L=0;L<_.length;L++){var C=_[L],O=C[0].trace;O.xaxis+O.yaxis===S&&((-1!==x.indexOf(O.index)||O.carpet)&&(f&&f[0].trace.xaxis+f[0].trace.yaxis===S&&-1!==["tonextx","tonexty","tonext"].indexOf(O.fill)&&-1===E.indexOf(f)&&E.push(f),E.push(C)),f=C)}o(c,w,E,g,h)}},D.clean=function(c,x,g,h){var y,v,m,_=h._plots||{},f=x._plots||{},S=h._subplots||{};if(h._hasOnlyLargeSploms&&!x._hasOnlyLargeSploms)for(m in _)(y=_[m]).plotgroup&&y.plotgroup.remove();var w=h._has&&h._has("gl"),E=x._has&&x._has("gl");if(w&&!E)for(m in _)(y=_[m])._scene&&y._scene.destroy();if(S.xaxis&&S.yaxis){var L=a.listIds({_fullLayout:h});for(v=0;v<L.length;v++){var C=L[v];x[a.id2name(C)]||h._infolayer.selectAll(".g-"+C+"title").remove()}}var O=h._has&&h._has("cartesian"),R=x._has&&x._has("cartesian");if(O&&!R)u(h._cartesianlayer.selectAll(".subplot"),h),h._defs.selectAll(".axesclip").remove(),delete h._axisConstraintGroups,delete h._axisMatchGroups;else if(S.cartesian)for(v=0;v<S.cartesian.length;v++){var q=S.cartesian[v];f[q]||(h._cartesianlayer.selectAll("."+q+",."+q+"-x,."+q+"-y").remove(),p(q,h))}},D.drawFramework=function(c){var x=c._fullLayout,g=function(y){var v,m,_,f,S,w,E=y._fullLayout,L=E._subplots.cartesian,C=L.length,O=[],R=[];for(v=0;v<C;v++){var U=(S=(f=E._plots[_=L[v]]).xaxis)._mainAxis._id+(w=f.yaxis)._mainAxis._id,N=E._plots[U];f.overlays=[],U!==_&&N?(f.mainplot=U,f.mainplotinfo=N,R.push(_)):(f.mainplot=void 0,f.mainplotinfo=void 0,O.push(_))}for(v=0;v<R.length;v++)(f=E._plots[_=R[v]]).mainplotinfo.overlays.push(f);var F=O.concat(R),j=new Array(C);for(v=0;v<C;v++){var G=[_=F[v],(S=(f=E._plots[_]).xaxis).layer,(w=f.yaxis).layer,S.overlaying||"",w.overlaying||""];for(m=0;m<f.overlays.length;m++)G.push(f.overlays[m].id);j[v]=G}return j}(c),h=x._cartesianlayer.selectAll(".subplot").data(g,String);h.enter().append("g").attr("class",function(y){return"subplot "+y[0]}),h.order(),h.exit().call(u,x),h.each(function(y){var v=y[0],m=x._plots[v];m.plotgroup=A.select(this),s(c,m),m.draglayer=r(x._draggers,"g",v)})},D.rangePlot=function(c,x,g){s(c,x),o(c,x,g),T.style(c)},D.toSVG=function(c){var x=c._fullLayout._glimages,g=A.select(c).selectAll(".svg-container");g.filter(function(h,y){return y===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var h=this,y=h.toDataURL("image/png");x.append("svg:image").attr({xmlns:i.svg,"xlink:href":y,preserveAspectRatio:"none",x:0,y:0,width:h.style.width,height:h.style.height})})},D.updateFx=e(4305).updateFx},13838:function(ee,D,e){"use strict";var A=e(41940),k=e(22399),l=e(79952).P,T=e(1426).extendFlat,b=e(44467).templatedArray,d=e(12663).descriptionWithDates,a=e(50606).ONEDAY,t=e(85555),i=t.HOUR_PATTERN,r=t.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},o=T({},n,{values:n.values.slice().concat(["sync"])});function s(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},p={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},x={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function g(S){var w={valType:"number",min:0,editType:"ticks"};return S||(w.dflt=5),w}function h(S){var w={valType:"number",min:0,editType:"ticks"};return S||(w.dflt=1),w}var y={valType:"color",dflt:k.defaultLine,editType:"ticks"},v={valType:"color",dflt:k.lightLine,editType:"ticks"};function m(S){var w={valType:"number",min:0,editType:"ticks"};return S||(w.dflt=1),w}var _=T({},l,{editType:"ticks"}),f={valType:"boolean",editType:"ticks"};ee.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:k.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:A({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:b("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[r,i,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:a},editType:"calc"}),tickmode:o,nticks:s(),tick0:u,dtick:p,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:x,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:g(),tickwidth:h(),tickcolor:y,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:T({},l,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:A({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:d("tick label")},tickformatstops:b("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:d("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:f,gridcolor:v,gridwidth:m(),griddash:_,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:s("minor"),tick0:u,dtick:p,tickvals:c,ticks:x,ticklen:g("minor"),tickwidth:h("minor"),tickcolor:y,gridcolor:v,gridwidth:m("minor"),griddash:_,showgrid:f,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:A({editType:"ticks"})}}},86763:function(ee,D,e){"use strict";var A=e(71828),k=e(7901),l=e(23469).isUnifiedHover,T=e(98212),b=e(44467),d=e(10820),a=e(13838),t=e(951),i=e(71453),r=e(99082),n=e(52830),o=e(41675),s=o.id2name,u=o.name2id,p=e(85555).AX_ID_PATTERN,c=e(73972),x=c.traceIs,g=c.getComponentMethod;function h(y,v,m){Array.isArray(y[v])?y[v].push(m):y[v]=[m]}ee.exports=function(y,v,m){var _,f,S=v.autotypenumbers,w={},E={},L={},C={},O={},R={},q={},P={},U={},N={};for(_=0;_<m.length;_++){var F=m[_];if(x(F,"cartesian")||x(F,"gl2d")){var j,G;if(F.xaxis)j=s(F.xaxis),h(w,j,F);else if(F.xaxes)for(f=0;f<F.xaxes.length;f++)h(w,s(F.xaxes[f]),F);if(F.yaxis)G=s(F.yaxis),h(w,G,F);else if(F.yaxes)for(f=0;f<F.yaxes.length;f++)h(w,s(F.yaxes[f]),F);"funnel"===F.type?"h"===F.orientation?(j&&(E[j]=!0),G&&(q[G]=!0)):G&&(L[G]=!0):"image"===F.type?(G&&(P[G]=!0),j&&(P[j]=!0)):(G&&(O[G]=!0,R[G]=!0),x(F,"carpet")&&("carpet"!==F.type||F._cheater)||j&&(C[j]=!0)),"carpet"===F.type&&F._cheater&&j&&(E[j]=!0),x(F,"2dMap")&&(U[j]=!0,U[G]=!0),x(F,"oriented")&&(N["h"===F.orientation?G:j]=!0)}}var te=v._subplots,J=te.xaxis,X=te.yaxis,Y=A.simpleMap(J,s),W=A.simpleMap(X,s),$=Y.concat(W),ne=k.background;J.length&&X.length&&(ne=A.coerce(y,v,d,"plot_bgcolor"));var re,oe,ue,xe,Me,me=k.combine(ne,v.paper_bgcolor);function pe(){Me._traceIndices=(w[re]||[]).map(function(Tt){return Tt._expandedIndex}),Me._annIndices=[],Me._shapeIndices=[],Me._selectionIndices=[],Me._imgIndices=[],Me._subplotsWith=[],Me._counterAxes=[],Me._name=Me._attr=re,Me._id=oe}function ge(st,Tt){return A.coerce(xe,Me,a,st,Tt)}function Pe(st,Tt){return A.coerce2(xe,Me,a,st,Tt)}function _e(st){return"x"===st?X:J}function we(st,Tt){for(var At="x"===st?Y:W,Pt=[],kt=0;kt<At.length;kt++){var Ze=At[kt];Ze===Tt||(y[Ze]||{}).overlaying||Pt.push(u(Ze))}return Pt}var se={x:_e("x"),y:_e("y")},ae=se.x.concat(se.y),fe={},Ee=[];function ke(){var st=xe.matches;p.test(st)&&-1===ae.indexOf(st)&&(fe[st]=xe.type,Ee=Object.keys(fe))}var be=T(y,v),Ie=l(be);for(_=0;_<$.length;_++){oe=u(re=$[_]),ue=re.charAt(0),A.isPlainObject(y[re])||(y[re]={}),xe=y[re],Me=b.newContainer(v,re,ue+"axis"),pe();var Te={hasMinor:!0,letter:ue,font:v.font,outerTicks:U[re],showGrid:!N[re],data:w[re]||[],bgColor:me,calendar:v.calendar,automargin:!0,visibleDflt:"x"===ue&&!C[re]&&E[re]||"y"===ue&&!O[re]&&L[re],reverseDflt:"y"===ue&&(!R[re]&&q[re]||P[re]),autotypenumbersDflt:S,splomStash:((v._splomAxes||{})[ue]||{})[oe]};ge("uirevision",v.uirevision),t(xe,Me,ge,Te),i(xe,Me,ge,Te,v);var ve=Ie&&ue===be.charAt(0),Ce=Pe("spikecolor",Ie?Me.color:void 0),Re=Pe("spikethickness",Ie?1.5:void 0),Oe=Pe("spikedash",Ie?"dot":void 0),je=Pe("spikemode",Ie?"across":void 0),qe=Pe("spikesnap");ge("showspikes",!!(ve||Ce||Re||Oe||je||qe))||(delete Me.spikecolor,delete Me.spikethickness,delete Me.spikedash,delete Me.spikemode,delete Me.spikesnap);var Je=s(xe.overlaying),it=[0,1];if(void 0!==v[Je]){var Qe=s(v[Je].anchor);void 0!==v[Qe]&&(it=v[Qe].domain)}n(xe,Me,ge,{letter:ue,counterAxes:se[ue],overlayableAxes:we(ue,re),grid:v.grid,overlayingDomain:it}),ge("title.standoff"),ke(),Me._input=xe}for(_=0;_<Ee.length;){oe=Ee[_++],ue=(re=s(oe)).charAt(0),A.isPlainObject(y[re])||(y[re]={}),xe=y[re],Me=b.newContainer(v,re,ue+"axis"),pe();var dt={letter:ue,font:v.font,outerTicks:U[re],showGrid:!N[re],data:[],bgColor:me,calendar:v.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:S,splomStash:((v._splomAxes||{})[ue]||{})[oe]};ge("uirevision",v.uirevision),Me.type=fe[oe]||"linear",i(xe,Me,ge,dt,v),n(xe,Me,ge,{letter:ue,counterAxes:se[ue],overlayableAxes:we(ue,re),grid:v.grid}),ge("fixedrange"),ke(),Me._input=xe}var yt=g("rangeslider","handleDefaults"),mt=g("rangeselector","handleDefaults");for(_=0;_<Y.length;_++)xe=y[re=Y[_]],Me=v[re],yt(y,v,re),"date"===Me.type&&mt(xe,Me,v,W,Me.calendar),ge("fixedrange");for(_=0;_<W.length;_++){xe=y[re=W[_]];var at=v[s((Me=v[re]).anchor)];ge("fixedrange",g("rangeslider","isVisible")(at))}r.handleDefaults(y,v,{axIds:ae.concat(Ee).sort(o.idSort),axHasImage:P})}},92128:function(ee,D,e){"use strict";var A=e(84267).mix,k=e(22399),l=e(71828);ee.exports=function(T,b,d,a){var t=(a=a||{}).dfltColor;function i(y,v){return l.coerce2(T,b,a.attributes,y,v)}var r=i("linecolor",t),n=i("linewidth");d("showline",a.showLine||!!r||!!n)||(delete b.linecolor,delete b.linewidth);var o=i("gridcolor",A(t,a.bgColor,a.blend||k.lightFraction).toRgbString()),s=i("gridwidth"),u=i("griddash");if(d("showgrid",a.showGrid||!!o||!!s||!!u)||(delete b.gridcolor,delete b.gridwidth,delete b.griddash),a.hasMinor){var p=i("minor.gridcolor",A(b.gridcolor,a.bgColor,67).toRgbString()),c=i("minor.gridwidth",b.gridwidth||1),x=i("minor.griddash",b.griddash||"solid");d("minor.showgrid",!!p||!!c||!!x)||(delete b.minor.gridcolor,delete b.minor.gridwidth,delete b.minor.griddash)}if(!a.noZeroLine){var g=i("zerolinecolor",t),h=i("zerolinewidth");d("zeroline",a.showGrid||!!g||!!h)||(delete b.zerolinecolor,delete b.zerolinewidth)}}},52830:function(ee,D,e){"use strict";var A=e(92770),k=e(71828);ee.exports=function(l,T,b,d){var a,t,i,r,n,o,s=d.counterAxes||[],u=d.overlayableAxes||[],p=d.letter,c=d.grid,x=d.overlayingDomain;c&&(a=c._anchors[T._id],(t=c._domains[p][c._axisMap[T._id]])&&(i=c[p+"side"].split(" ")[0],r=c.domain[p]["right"===i||"top"===i?1:0])),t=t||[0,1],a=a||(A(l.position)?"free":s[0]||"free"),i=i||("x"===p?"bottom":"left"),r=r||0,n=0,o=!1;var g=k.coerce(l,T,{anchor:{valType:"enumerated",values:["free"].concat(s),dflt:a}},"anchor"),h=k.coerce(l,T,{side:{valType:"enumerated",values:"x"===p?["bottom","top"]:["left","right"],dflt:i}},"side");"free"===g&&("y"===p&&(b("autoshift")&&(r="left"===h?x[0]:x[1],o=!T.automargin||T.automargin,n="left"===h?-3:3),b("shift",n)),b("position",r)),b("automargin",o);var y=!1;if(u.length&&(y=k.coerce(l,T,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!y){var v=b("domain",t);v[0]>v[1]-.000244140625&&(T.domain=t),k.noneOrAll(l.domain,T.domain,t),"sync"===T.tickmode&&(T.tickmode="auto")}return b("layer"),T}},89426:function(ee,D,e){"use strict";var A=e(59652);ee.exports=function(k,l,T,b,d){d||(d={});var a=d.tickSuffixDflt,t=A(k);T("tickprefix")&&T("showtickprefix",t),T("ticksuffix",a)&&T("showticksuffix",t)}},23608:function(ee,D,e){"use strict";var A=e(23074);ee.exports=function(k,l,T,b){var a=l.type||(l._template||{}).type||"-";T("minallowed"),T("maxallowed");var t,i=T("range"),r=l.getAutorangeDflt(i,b),n=T("autorange",r);!i||(null!==i[0]||null!==i[1])&&(null!==i[0]&&null!==i[1]||"reversed"!==n&&!0!==n)&&(null===i[0]||"min"!==n&&"max reversed"!==n)&&(null===i[1]||"max"!==n&&"min reversed"!==n)||(i=void 0,delete l.range,l.autorange=!0,t=!0),t||(n=T("autorange",r=l.getAutorangeDflt(i,b))),n&&(A(T,n,i),"linear"!==a&&"-"!==a||T("rangemode")),l.cleanRange()}},42449:function(ee,D,e){"use strict";var A=e(18783).FROM_BL;ee.exports=function(k,l,T){void 0===T&&(T=A[k.constraintoward||"center"]);var b=[k.r2l(k.range[0]),k.r2l(k.range[1])],d=b[0]+(b[1]-b[0])*T;k.range=k._input.range=[k.l2r(d+(b[0]-d)*l),k.l2r(d+(b[1]-d)*l)],k.setScale()}},21994:function(ee,D,e){"use strict";var A=e(39898),k=e(84096).g0,l=e(71828),T=l.numberFormat,b=e(92770),d=l.cleanNumber,a=l.ms2DateTime,t=l.dateTime2ms,i=l.ensureNumber,r=l.isArrayOrTypedArray,n=e(50606),o=n.FP_SAFE,s=n.BADNUM,u=n.LOG_CLIP,p=n.ONEWEEK,c=n.ONEDAY,x=n.ONEHOUR,g=n.ONEMIN,h=n.ONESEC,y=e(41675),v=e(85555),m=v.HOUR_PATTERN,_=v.WEEKDAY_PATTERN;function f(w){return Math.pow(10,w)}function S(w){return null!=w}ee.exports=function(w,E){E=E||{};var L=w._id||"x",C=L.charAt(0);function O($,ne){if($>0)return Math.log($)/Math.LN10;if($<=0&&ne&&w.range&&2===w.range.length){var re=w.range[0],oe=w.range[1];return.5*(re+oe-2*u*Math.abs(re-oe))}return s}function R($,ne,re,oe){if((oe||{}).msUTC&&b($))return+$;var ue=t($,re||w.calendar);if(ue===s){if(!b($))return s;$=+$;var xe=Math.floor(10*l.mod($+.05,1)),Me=Math.round($-xe/10);ue=t(new Date(Me))+xe/10}return ue}function q($,ne,re){return a($,ne,re||w.calendar)}function P($){return w._categories[Math.round($)]}function U($){if(S($)){if(void 0===w._categoriesMap&&(w._categoriesMap={}),void 0!==w._categoriesMap[$])return w._categoriesMap[$];w._categories.push("number"==typeof $?String($):$);var ne=w._categories.length-1;return w._categoriesMap[$]=ne,ne}return s}function N($){if(w._categoriesMap)return w._categoriesMap[$]}function F($){var ne=N($);return void 0!==ne?ne:b($)?+$:void 0}function j($){return b($)?+$:N($)}function G($,ne,re){return A.round(re+ne*$,2)}function te($,ne,re){return($-re)/ne}var J=function($){return b($)?G($,w._m,w._b):s},X=function($){return te($,w._m,w._b)};if(w.rangebreaks){var Y="y"===C;J=function($){if(!b($))return s;var ne=w._rangebreaks.length;if(!ne)return G($,w._m,w._b);var re=Y;w.range[0]>w.range[1]&&(re=!re);for(var oe=re?-1:1,ue=oe*$,xe=0,Me=0;Me<ne;Me++){var me=oe*w._rangebreaks[Me].min,pe=oe*w._rangebreaks[Me].max;if(ue<me)break;if(!(ue>pe)){xe=ue<(me+pe)/2?Me:Me+1;break}xe=Me+1}var ge=w._B[xe]||0;return isFinite(ge)?G($,w._m2,ge):0},X=function($){var ne=w._rangebreaks.length;if(!ne)return te($,w._m,w._b);for(var re=0,oe=0;oe<ne&&!($<w._rangebreaks[oe].pmin);oe++)$>w._rangebreaks[oe].pmax&&(re=oe+1);return te($,w._m2,w._B[re])}}w.c2l="log"===w.type?O:i,w.l2c="log"===w.type?f:i,w.l2p=J,w.p2l=X,w.c2p="log"===w.type?function($,ne){return J(O($,ne))}:J,w.p2c="log"===w.type?function($){return f(X($))}:X,-1!==["linear","-"].indexOf(w.type)?(w.d2r=w.r2d=w.d2c=w.r2c=w.d2l=w.r2l=d,w.c2d=w.c2r=w.l2d=w.l2r=i,w.d2p=w.r2p=function($){return w.l2p(d($))},w.p2d=w.p2r=X,w.cleanPos=i):"log"===w.type?(w.d2r=w.d2l=function($,ne){return O(d($),ne)},w.r2d=w.r2c=function($){return f(d($))},w.d2c=w.r2l=d,w.c2d=w.l2r=i,w.c2r=O,w.l2d=f,w.d2p=function($,ne){return w.l2p(w.d2r($,ne))},w.p2d=function($){return f(X($))},w.r2p=function($){return w.l2p(d($))},w.p2r=X,w.cleanPos=i):"date"===w.type?(w.d2r=w.r2d=l.identity,w.d2c=w.r2c=w.d2l=w.r2l=R,w.c2d=w.c2r=w.l2d=w.l2r=q,w.d2p=w.r2p=function($,ne,re){return w.l2p(R($,0,re))},w.p2d=w.p2r=function($,ne,re){return q(X($),ne,re)},w.cleanPos=function($){return l.cleanDate($,s,w.calendar)}):"category"===w.type?(w.d2c=w.d2l=U,w.r2d=w.c2d=w.l2d=P,w.d2r=w.d2l_noadd=F,w.r2c=function($){var ne=j($);return void 0!==ne?ne:w.fraction2r(.5)},w.l2r=w.c2r=i,w.r2l=j,w.d2p=function($){return w.l2p(w.r2c($))},w.p2d=function($){return P(X($))},w.r2p=w.d2p,w.p2r=X,w.cleanPos=function($){return"string"==typeof $&&""!==$?$:i($)}):"multicategory"===w.type&&(w.r2d=w.c2d=w.l2d=P,w.d2r=w.d2l_noadd=F,w.r2c=function($){var ne=F($);return void 0!==ne?ne:w.fraction2r(.5)},w.r2c_just_indices=N,w.l2r=w.c2r=i,w.r2l=F,w.d2p=function($){return w.l2p(w.r2c($))},w.p2d=function($){return P(X($))},w.r2p=w.d2p,w.p2r=X,w.cleanPos=function($){return Array.isArray($)||"string"==typeof $&&""!==$?$:i($)},w.setupMultiCategory=function($){var ne,re,oe=w._traceIndices,ue=w._matchGroup;if(ue&&0===w._categories.length)for(var xe in ue)if(xe!==L){var Me=E[y.id2name(xe)];oe=oe.concat(Me._traceIndices)}var me=[[0,{}],[0,{}]],pe=[];for(ne=0;ne<oe.length;ne++){var ge=$[oe[ne]];if(C in ge){var Pe=ge[C],_e=ge._length||l.minRowLength(Pe);if(r(Pe[0])&&r(Pe[1]))for(re=0;re<_e;re++){var we=Pe[0][re],se=Pe[1][re];S(we)&&S(se)&&(pe.push([we,se]),we in me[0][1]||(me[0][1][we]=me[0][0]++),se in me[1][1]||(me[1][1][se]=me[1][0]++))}}}for(pe.sort(function(ae,fe){var Ee=me[0][1],ke=Ee[ae[0]]-Ee[fe[0]];if(ke)return ke;var be=me[1][1];return be[ae[1]]-be[fe[1]]}),ne=0;ne<pe.length;ne++)U(pe[ne])}),w.fraction2r=function($){var ne=w.r2l(w.range[0]),re=w.r2l(w.range[1]);return w.l2r(ne+$*(re-ne))},w.r2fraction=function($){var ne=w.r2l(w.range[0]),re=w.r2l(w.range[1]);return(w.r2l($)-ne)/(re-ne)},w.limitRange=function($){var ne=w.minallowed,re=w.maxallowed;if(void 0!==ne||void 0!==re){$||($="range");var oe=l.nestedProperty(w,$).get(),ue=l.simpleMap(oe,w.r2l),xe=ue[1]<ue[0];xe&&ue.reverse();var Me=l.simpleMap([ne,re],w.r2l);void 0!==ne&&ue[0]<Me[0]&&(oe[xe?1:0]=ne),void 0!==re&&ue[1]>Me[1]&&(oe[xe?0:1]=re)}},w.cleanRange=function($,ne){w._cleanRange($,ne),w.limitRange($)},w._cleanRange=function($,ne){ne||(ne={}),$||($="range");var re,oe,ue=l.nestedProperty(w,$).get();if(oe=(oe="date"===w.type?l.dfltRange(w.calendar):"y"===C?v.DFLTRANGEY:"realaxis"===w._name?[0,1]:ne.dfltRange||v.DFLTRANGEX).slice(),"tozero"!==w.rangemode&&"nonnegative"!==w.rangemode||(oe[0]=0),ue&&2===ue.length){var xe=null===ue[0],Me=null===ue[1];for("date"!==w.type||w.autorange||(ue[0]=l.cleanDate(ue[0],s,w.calendar),ue[1]=l.cleanDate(ue[1],s,w.calendar)),re=0;re<2;re++)if("date"===w.type){if(!l.isDateTime(ue[re],w.calendar)){w[$]=oe;break}if(w.r2l(ue[0])===w.r2l(ue[1])){var me=l.constrain(w.r2l(ue[0]),l.MIN_MS+1e3,l.MAX_MS-1e3);ue[0]=w.l2r(me-1e3),ue[1]=w.l2r(me+1e3);break}}else{if(!b(ue[re])){if(xe||Me||!b(ue[1-re])){w[$]=oe;break}ue[re]=ue[1-re]*(re?10:.1)}if(ue[re]<-o?ue[re]=-o:ue[re]>o&&(ue[re]=o),ue[0]===ue[1]){var pe=Math.max(1,Math.abs(1e-6*ue[0]));ue[0]-=pe,ue[1]+=pe}}}else l.nestedProperty(w,$).set(oe)},w.setScale=function($){var ne=E._size;if(w.overlaying){var re=y.getFromId({_fullLayout:E},w.overlaying);w.domain=re.domain}var oe=$&&w._r?"_r":"range",ue=w.calendar;w.cleanRange(oe);var xe,Me,me=w.r2l(w[oe][0],ue),pe=w.r2l(w[oe][1],ue),ge="y"===C;if(ge?(w._offset=ne.t+(1-w.domain[1])*ne.h,w._length=ne.h*(w.domain[1]-w.domain[0]),w._m=w._length/(me-pe),w._b=-w._m*pe):(w._offset=ne.l+w.domain[0]*ne.w,w._length=ne.w*(w.domain[1]-w.domain[0]),w._m=w._length/(pe-me),w._b=-w._m*me),w._rangebreaks=[],w._lBreaks=0,w._m2=0,w._B=[],w.rangebreaks&&(w._rangebreaks=w.locateBreaks(Math.min(me,pe),Math.max(me,pe)),w._rangebreaks.length)){for(xe=0;xe<w._rangebreaks.length;xe++)Me=w._rangebreaks[xe],w._lBreaks+=Math.abs(Me.max-Me.min);var Pe=ge;me>pe&&(Pe=!Pe),Pe&&w._rangebreaks.reverse();var _e=Pe?-1:1;for(w._m2=_e*w._length/(Math.abs(pe-me)-w._lBreaks),w._B.push(-w._m2*(ge?pe:me)),xe=0;xe<w._rangebreaks.length;xe++)w._B.push(w._B[w._B.length-1]-_e*w._m2*((Me=w._rangebreaks[xe]).max-Me.min));for(xe=0;xe<w._rangebreaks.length;xe++)(Me=w._rangebreaks[xe]).pmin=J(Me.min),Me.pmax=J(Me.max)}if(!isFinite(w._m)||!isFinite(w._b)||w._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},w.maskBreaks=function($){var ne,re,oe,ue,xe,Me=w.rangebreaks||[];Me._cachedPatterns||(Me._cachedPatterns=Me.map(function(we){return we.enabled&&we.bounds?l.simpleMap(we.bounds,we.pattern?d:w.d2c):null})),Me._cachedValues||(Me._cachedValues=Me.map(function(we){return we.enabled&&we.values?l.simpleMap(we.values,w.d2c).sort(l.sorterAsc):null}));for(var me=0;me<Me.length;me++){var pe=Me[me];if(pe.enabled)if(pe.bounds){switch(re=(ne=Me._cachedPatterns[me])[0],oe=ne[1],pe.pattern){case _:ue=(xe=new Date($)).getUTCDay(),re>oe&&(oe+=7,ue<re&&(ue+=7));break;case m:ue=(xe=new Date($)).getUTCHours()+(xe.getUTCMinutes()/60+xe.getUTCSeconds()/3600+xe.getUTCMilliseconds()/36e5),re>oe&&(oe+=24,ue<re&&(ue+=24));break;case"":ue=$}if(ue>=re&&ue<oe)return s}else for(var Pe=Me._cachedValues[me],_e=0;_e<Pe.length;_e++)if(oe=(re=Pe[_e])+pe.dvalue,$>=re&&$<oe)return s}return $},w.locateBreaks=function($,ne){var re,oe,ue,xe,Me=[];if(!w.rangebreaks)return Me;var me=w.rangebreaks.slice().sort(function(be,Ie){return be.pattern===_&&Ie.pattern===m?-1:Ie.pattern===_&&be.pattern===m?1:0}),pe=function(be,Ie){if((be=l.constrain(be,$,ne))!==(Ie=l.constrain(Ie,$,ne))){for(var Fe=!0,ce=0;ce<Me.length;ce++){var Te=Me[ce];be<Te.max&&Ie>=Te.min&&(be<Te.min&&(Te.min=be),Ie>Te.max&&(Te.max=Ie),Fe=!1)}Fe&&Me.push({min:be,max:Ie})}};for(re=0;re<me.length;re++){var ge=me[re];if(ge.enabled)if(ge.bounds){var Pe=$,_e=ne;ge.pattern&&(Pe=Math.floor(Pe)),ue=(oe=l.simpleMap(ge.bounds,ge.pattern?d:w.r2l))[0],xe=oe[1];var we,se,ae=new Date(Pe);switch(ge.pattern){case _:se=p,we=(xe-ue+(xe<ue?7:0))*c,Pe+=ue*c-(ae.getUTCDay()*c+ae.getUTCHours()*x+ae.getUTCMinutes()*g+ae.getUTCSeconds()*h+ae.getUTCMilliseconds());break;case m:se=c,we=(xe-ue+(xe<ue?24:0))*x,Pe+=ue*x-(ae.getUTCHours()*x+ae.getUTCMinutes()*g+ae.getUTCSeconds()*h+ae.getUTCMilliseconds());break;default:Pe=Math.min(oe[0],oe[1]),we=se=(_e=Math.max(oe[0],oe[1]))-Pe}for(var fe=Pe;fe<_e;fe+=se)pe(fe,fe+we)}else for(var Ee=l.simpleMap(ge.values,w.d2c),ke=0;ke<Ee.length;ke++)pe(ue=Ee[ke],xe=ue+ge.dvalue)}return Me.sort(function(be,Ie){return be.min-Ie.min}),Me},w.makeCalcdata=function($,ne,re){var oe,ue,xe,Me,me=w.type,pe="date"===me&&$[ne+"calendar"];if(ne in $){if(oe=$[ne],Me=$._length||l.minRowLength(oe),l.isTypedArray(oe)&&("linear"===me||"log"===me)){if(Me===oe.length)return oe;if(oe.subarray)return oe.subarray(0,Me)}if("multicategory"===me)return function(_e,we){for(var se=new Array(we),ae=0;ae<we;ae++)se[ae]=N([(_e[0]||[])[ae],(_e[1]||[])[ae]]);return se}(oe,Me);for(ue=new Array(Me),xe=0;xe<Me;xe++)ue[xe]=w.d2c(oe[xe],0,pe,re)}else{var ge=ne+"0"in $?w.d2c($[ne+"0"],0,pe):0,Pe=$["d"+ne]?Number($["d"+ne]):1;for(oe=$[{x:"y",y:"x"}[ne]],Me=$._length||oe.length,ue=new Array(Me),xe=0;xe<Me;xe++)ue[xe]=ge+xe*Pe}if(w.rangebreaks)for(xe=0;xe<Me;xe++)ue[xe]=w.maskBreaks(ue[xe]);return ue},w.isValidRange=function($,ne){return Array.isArray($)&&2===$.length&&(ne&&null===$[0]||b(w.r2l($[0])))&&(ne&&null===$[1]||b(w.r2l($[1])))},w.getAutorangeDflt=function($,ne){var re=!w.isValidRange($,"nullOk");return re&&ne&&ne.reverseDflt?re="reversed":$&&(null===$[0]&&null===$[1]?re=!0:null===$[0]&&null!==$[1]?re="min":null!==$[0]&&null===$[1]&&(re="max")),re},w.isReversed=function(){var $=w.autorange;return"reversed"===$||"min reversed"===$||"max reversed"===$},w.isPtWithinRange=function($,ne){var re=w.c2l($[C],null,ne),oe=w.r2l(w.range[0]),ue=w.r2l(w.range[1]);return oe<ue?oe<=re&&re<=ue:ue<=re&&re<=oe},w._emptyCategories=function(){w._categories=[],w._categoriesMap={}},w.clearCalc=function(){var $=w._matchGroup;if($){var ne=null,re=null;for(var oe in $){var ue=E[y.id2name(oe)];if(ue._categories){ne=ue._categories,re=ue._categoriesMap;break}}ne&&re?(w._categories=ne,w._categoriesMap=re):w._emptyCategories()}else w._emptyCategories();if(w._initialCategories)for(var xe=0;xe<w._initialCategories.length;xe++)U(w._initialCategories[xe])},w.sortByInitialCategories=function(){var $=[];if(w._emptyCategories(),w._initialCategories)for(var ne=0;ne<w._initialCategories.length;ne++)U(w._initialCategories[ne]);$=$.concat(w._traceIndices);var re=w._matchGroup;for(var oe in re)if(L!==oe){var ue=E[y.id2name(oe)];ue._categories=w._categories,ue._categoriesMap=w._categoriesMap,$=$.concat(ue._traceIndices)}return $};var W=E._d3locale;"date"===w.type&&(w._dateFormat=W?W.timeFormat:k,w._extraFormat=E._extraFormat),w._separators=E.separators,w._numFormat=W?W.numberFormat:T,delete w._minDtick,delete w._forceTick0}},59652:function(ee){"use strict";ee.exports=function(D){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(A){return void 0!==D[A]});if(e.every(function(A){return D[A]===D[e[0]]})||1===e.length)return D[e[0]]}},96115:function(ee,D,e){"use strict";var A=e(71828),k=e(7901).contrast,l=e(13838),T=e(59652),b=e(85501);function d(a,t){function i(r,n){return A.coerce(a,t,l.tickformatstops,r,n)}i("enabled")&&(i("dtickrange"),i("value"))}ee.exports=function(a,t,i,r,n){n||(n={});var o=i("labelalias");A.isPlainObject(o)||delete t.labelalias;var s=T(a);if(i("showticklabels")){var u=n.font||{},p=t.color,c=-1!==(t.ticklabelposition||"").indexOf("inside")?k(n.bgColor):p&&p!==l.color.dflt?p:u.color;if(A.coerceFont(i,"tickfont",{family:u.family,size:u.size,color:c}),n.noTicklabelstep||"multicategory"===r||"log"===r||i("ticklabelstep"),n.noAng||i("tickangle"),"category"!==r){var x=i("tickformat");b(a,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:d}),t.tickformatstops.length||delete t.tickformatstops,n.noExp||x||"date"===r||(i("showexponent",s),i("exponentformat"),i("minexponent"),i("separatethousands"))}}}},38701:function(ee,D,e){"use strict";var A=e(71828),k=e(13838);ee.exports=function(l,T,b,d){var a=d.isMinor,t=a?l.minor||{}:l,i=a?T.minor:T,r=a?k.minor:k,n=a?"minor.":"",o=A.coerce2(t,i,r,"ticklen",a?.6*(T.ticklen||5):void 0),s=A.coerce2(t,i,r,"tickwidth",a?T.tickwidth||1:void 0),u=A.coerce2(t,i,r,"tickcolor",(a?T.tickcolor:void 0)||i.color);b(n+"ticks",!a&&d.outerTicks||o||s||u?"outside":"")||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26218:function(ee,D,e){"use strict";var A=e(66287),k=e(71828).isArrayOrTypedArray;ee.exports=function(l,T,b,d,a){a||(a={});var t=a.isMinor,i=t?l.minor||{}:l,r=t?T.minor:T,n=t?"minor.":"";function o(g){var h=i[g];return void 0!==h?h:(r._template||{})[g]}var s=o("tick0"),u=o("dtick"),p=o("tickvals"),c=b(n+"tickmode",k(p)?"array":u?"linear":"auto");if("auto"===c||"sync"===c)b(n+"nticks");else if("linear"===c){var x=r.dtick=A.dtick(u,d);r.tick0=A.tick0(s,d,T.calendar,x)}else"multicategory"!==d&&(void 0===b(n+"tickvals")?r.tickmode="auto":t||b("ticktext"))}},66847:function(ee,D,e){"use strict";var A=e(39898),k=e(73972),l=e(71828),T=e(91424),b=e(89298);ee.exports=function(d,a,t,i){var r=d._fullLayout;if(0!==a.length){var n,o,s,u;i&&(n=i());var p=A.ease(t.easing);return d._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function(){for(var g={},h=0;h<a.length;h++){var y=a[h],m=y.plotinfo.yaxis;y.xr0&&(g[y.plotinfo.xaxis._name+".range"]=y.xr0.slice()),y.yr0&&(g[m._name+".range"]=y.yr0.slice())}return k.call("relayout",d,g).then(function(){for(var _=0;_<a.length;_++)c(a[_].plotinfo)})}()}),o=Date.now(),u=window.requestAnimationFrame(function g(){s=Date.now();for(var h=Math.min(1,(s-o)/t.duration),y=p(h),v=0;v<a.length;v++)x(a[v],y);s-o>t.duration?(function(){for(var m={},_=0;_<a.length;_++){var f=a[_],w=f.plotinfo.yaxis;f.xr1&&(m[f.plotinfo.xaxis._name+".range"]=f.xr1.slice()),f.yr1&&(m[w._name+".range"]=f.yr1.slice())}n&&n(),k.call("relayout",d,m).then(function(){for(var E=0;E<a.length;E++)c(a[E].plotinfo)})}(),u=window.cancelAnimationFrame(g)):u=window.requestAnimationFrame(g)}),Promise.resolve()}function c(g){var h=g.xaxis,y=g.yaxis;r._defs.select("#"+g.clipId+"> rect").call(T.setTranslate,0,0).call(T.setScale,1,1),g.plot.call(T.setTranslate,h._offset,y._offset).call(T.setScale,1,1);var v=g.plot.selectAll(".scatterlayer .trace");v.selectAll(".point").call(T.setPointGroupScale,1,1),v.selectAll(".textpoint").call(T.setTextPointsScale,1,1),v.call(T.hideOutsideRangePoints,g)}function x(g,h){var y=g.plotinfo,v=y.xaxis,m=y.yaxis,_=v._length,f=m._length,S=!!g.xr1,w=!!g.yr1,E=[];if(S){var L=l.simpleMap(g.xr0,v.r2l),C=l.simpleMap(g.xr1,v.r2l),O=L[1]-L[0],R=C[1]-C[0];E[0]=(L[0]*(1-h)+h*C[0]-L[0])/(L[1]-L[0])*_,E[2]=_*(1-h+h*R/O),v.range[0]=v.l2r(L[0]*(1-h)+h*C[0]),v.range[1]=v.l2r(L[1]*(1-h)+h*C[1])}else E[0]=0,E[2]=_;if(w){var q=l.simpleMap(g.yr0,m.r2l),P=l.simpleMap(g.yr1,m.r2l),U=q[1]-q[0],N=P[1]-P[0];E[1]=(q[1]*(1-h)+h*P[1]-q[1])/(q[0]-q[1])*f,E[3]=f*(1-h+h*N/U),m.range[0]=v.l2r(q[0]*(1-h)+h*P[0]),m.range[1]=m.l2r(q[1]*(1-h)+h*P[1])}else E[1]=0,E[3]=f;b.drawOne(d,v,{skipTitle:!0}),b.drawOne(d,m,{skipTitle:!0}),b.redrawComponents(d,[v._id,m._id]);var F=S?_/E[2]:1,j=w?f/E[3]:1,Y=v._offset-(S?E[0]/E[2]*_:0),W=m._offset-(w?E[1]/E[3]*f:0);y.clipRect.call(T.setTranslate,S?E[0]:0,w?E[1]:0).call(T.setScale,1/F,1/j),y.plot.call(T.setTranslate,Y,W).call(T.setScale,F,j),T.setPointGroupScale(y.zoomScalePts,1/F,1/j),T.setTextPointsScale(y.zoomScaleTxt,1/F,1/j)}b.redrawComponents(d)}},951:function(ee,D,e){"use strict";var A=e(73972).traceIs,k=e(4322);function l(b){return{v:"x",h:"y"}[b.orientation||"v"]}function T(b,d){var a=l(b),t=A(b,"box-violin"),i=A(b._fullInput||{},"candlestick");return t&&!i&&d===a&&void 0===b[a]&&void 0===b[a+"0"]}ee.exports=function(b,d,a,t){a("autotypenumbers",t.autotypenumbersDflt),"-"===a("type",(t.splomStash||{}).type)&&(function(i,r){if("-"===i.type){var n,o=i._id,s=o.charAt(0);-1!==o.indexOf("scene")&&(o=s);var u=function(m,_,f){for(var S=0;S<m.length;S++){var w=m[S];if("splom"===w.type&&w._length>0&&(w["_"+f+"axes"]||{})[_]||(w[f+"axis"]||f)===_&&(T(w,f)||(w[f]||[]).length||w[f+"0"]))return w}}(r,o,s);if(u)if("histogram"!==u.type||s!=={v:"y",h:"x"}[u.orientation||"v"]){var p=s+"calendar",c=u[p],x={noMultiCategory:!A(u,"cartesian")||A(u,"noMultiCategory")};if("box"===u.type&&u._hasPreCompStats&&s==={h:"x",v:"y"}[u.orientation||"v"]&&(x.noMultiCategory=!0),x.autotypenumbers=i.autotypenumbers,T(u,s)){var g=l(u),h=[];for(n=0;n<r.length;n++){var y=r[n];A(y,"box-violin")&&(y[s+"axis"]||s)===o&&(h.push(void 0!==y[g]?y[g][0]:void 0!==y.name?y.name:"text"),y[p]!==c&&(c=void 0))}i.type=k(h,c,x)}else if("splom"===u.type){var v=u.dimensions[u._axesDim[o]];v.visible&&(i.type=k(v.values,c,x))}else i.type=k(u[s]||[u[s+"0"]],c,x)}else i.type="linear"}}(d,t.data),"-"===d.type?d.type="linear":b.type=d.type)}},31137:function(ee,D,e){"use strict";var A=e(73972),k=e(71828);function l(a,t,i){var r,n,o,s=!1;if("data"===t.type)r=a._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;r=a._fullLayout}return n=k.nestedProperty(r,t.prop).get(),(o=i[t.type]=i[t.type]||{}).hasOwnProperty(t.prop)&&o[t.prop]!==n&&(s=!0),o[t.prop]=n,{changed:s,value:n}}function T(a,t){var i=[],r=t[0],n={};if("string"==typeof r)n[r]=t[1];else{if(!k.isPlainObject(r))return i;n=r}return d(n,function(o,s,u){i.push({type:"layout",prop:o,value:u})},"",0),i}function b(a,t){var i,r,n,o,s=[];if(n=t[1],i=t[2],o={},"string"==typeof(r=t[0]))o[r]=n;else{if(!k.isPlainObject(r))return s;o=r,void 0===i&&(i=n)}return void 0===i&&(i=null),d(o,function(u,p,c){var x,g;if(Array.isArray(c)){g=c.slice();var h=Math.min(g.length,a.data.length);i&&(h=Math.min(h,i.length)),x=[];for(var y=0;y<h;y++)x[y]=i?i[y]:y}else g=c,x=i?i.slice():null;if(null===x)Array.isArray(g)&&(g=g[0]);else if(Array.isArray(x)){if(!Array.isArray(g)){var v=g;g=[];for(var m=0;m<x.length;m++)g[m]=v}g.length=Math.min(x.length,g.length)}s.push({type:"data",prop:u,traces:x,value:g})},"",0),s}function d(a,t,i,r){Object.keys(a).forEach(function(n){var o=a[n];if("_"!==n[0]){var s=i+(r>0?".":"")+n;k.isPlainObject(o)?d(o,t,s,r+1):t(s,n,o)}})}D.manageCommandObserver=function(a,t,i,r){var n={},o=!0;t&&t._commandObserver&&(n=t._commandObserver),n.cache||(n.cache={}),n.lookupTable={};var s=D.hasSimpleAPICommandBindings(a,i,n.lookupTable);if(t&&t._commandObserver){if(s)return n;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,n}if(s){l(a,s,n.cache),n.check=function(){if(o){var c=l(a,s,n.cache);return c.changed&&r&&void 0!==n.lookupTable[c.value]&&(n.disable(),Promise.resolve(r({value:c.value,type:s.type,prop:s.prop,traces:s.traces,index:n.lookupTable[c.value]})).then(n.enable,n.enable)),c.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],p=0;p<u.length;p++)a._internalOn(u[p],n.check);n.remove=function(){for(var c=0;c<u.length;c++)a._removeInternalListener(u[c],n.check)}}else k.log("Unable to automatically bind plot updates to API command"),n.lookupTable={},n.remove=function(){};return n.disable=function(){o=!1},n.enable=function(){o=!0},t&&(t._commandObserver=n),n},D.hasSimpleAPICommandBindings=function(a,t,i){var r,n,o=t.length;for(r=0;r<o;r++){var s,u=t[r],p=u.method,c=u.args;if(Array.isArray(c)||(c=[]),!p)return!1;var x=D.computeAPICommandBindings(a,p,c);if(1!==x.length)return!1;if(n){if((s=x[0]).type!==n.type||s.prop!==n.prop)return!1;if(Array.isArray(n.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var g=0;g<n.traces.length;g++)if(n.traces[g]!==s.traces[g])return!1}else if(s.prop!==n.prop)return!1}else n=x[0],Array.isArray(n.traces)&&n.traces.sort();var h=(s=x[0]).value;if(Array.isArray(h)){if(1!==h.length)return!1;h=h[0]}i&&(i[h]=r)}return n},D.executeAPICommand=function(a,t,i){if("skip"===t)return Promise.resolve();var r=A.apiMethodRegistry[t],n=[a];Array.isArray(i)||(i=[]);for(var o=0;o<i.length;o++)n.push(i[o]);return r.apply(null,n).catch(function(s){return k.warn("API call to Plotly."+t+" rejected.",s),Promise.reject(s)})},D.computeAPICommandBindings=function(a,t,i){var r,o;switch(Array.isArray(i)||(i=[]),t){case"restyle":r=b(a,i);break;case"relayout":r=T(0,i);break;case"update":r=b(a,[i[0],i[2]]).concat(T(0,[i[1]]));break;case"animate":o=i,r=Array.isArray(o[0])&&1===o[0].length&&-1!==["string","number"].indexOf(typeof o[0][0])?[{type:"layout",prop:"_currentFrame",value:o[0][0].toString()}]:[];break;default:r=[]}return r}},27670:function(ee,D,e){"use strict";var A=e(1426).extendFlat;D.Y=function(k,l){l=l||{};var T={valType:"info_array",editType:(k=k||{}).editType,items:[{valType:"number",min:0,max:1,editType:k.editType},{valType:"number",min:0,max:1,editType:k.editType}],dflt:[0,1]},b={x:A({},T,{}),y:A({},T,{}),editType:k.editType};return k.noGridCell||(b.row={valType:"integer",min:0,dflt:0,editType:k.editType},b.column={valType:"integer",min:0,dflt:0,editType:k.editType}),b},D.c=function(k,l,T,b){var d=b&&b.x||[0,1],a=b&&b.y||[0,1],t=l.grid;if(t){var i=T("domain.column");void 0!==i&&(i<t.columns?d=t._domains.x[i]:delete k.domain.column);var r=T("domain.row");void 0!==r&&(r<t.rows?a=t._domains.y[r]:delete k.domain.row)}var n=T("domain.x",d),o=T("domain.y",a);n[0]<n[1]||(k.domain.x=d.slice()),o[0]<o[1]||(k.domain.y=a.slice())}},41940:function(ee){"use strict";ee.exports=function(D){var e=D.editType,A=D.colorEditType;void 0===A&&(A=e);var k={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:A},editType:e};return D.autoSize&&(k.size.dflt="auto"),D.autoColor&&(k.color.dflt="auto"),D.arrayOk&&(k.family.arrayOk=!0,k.size.arrayOk=!0,k.color.arrayOk=!0),k}},31391:function(ee){"use strict";ee.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(ee,D){"use strict";D.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},D.axesNames=["lonaxis","lataxis"],D.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},D.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},D.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},D.clipPad=.001,D.precision=.1,D.landColor="#F0DC82",D.waterColor="#3399FF",D.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},D.sphereSVG={type:"Sphere"},D.fillLayers={ocean:1,land:1,lakes:1},D.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},D.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],D.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],D.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(ee,D,e){"use strict";var A=e(39898),k=e(27362),l=k.geoPath,T=k.geoDistance,b=e(65704),d=e(73972),a=e(71828),t=a.strTranslate,i=e(7901),r=e(91424),n=e(30211),o=e(74875),s=e(89298),u=e(71739).getAutoRange,p=e(28569),c=e(47322).prepSelect,x=e(47322).clearOutline,g=e(47322).selectOnClick,h=e(74455),y=e(78776),v=e(41327),m=e(90973),_=e(96892).zL;function f(E){this.id=E.id,this.graphDiv=E.graphDiv,this.container=E.container,this.topojsonURL=E.topojsonURL,this.isStatic=E.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=f.prototype;function w(E,L){var C=y.clipPad,O=E[0]+C,R=E[1]-C,q=L[0]+C,P=L[1]-C;O>0&&R<0&&(R+=360);var U=(R-O)/4;return{type:"Polygon",coordinates:[[[O,q],[O,P],[O+U,P],[O+2*U,P],[O+3*U,P],[R,P],[R,q],[R-U,q],[R-2*U,q],[R-3*U,q],[O,q]]]}}ee.exports=function(E){return new f(E)},S.plot=function(E,L,C,O){var R=this;if(O)return R.update(E,L,!0);R._geoCalcData=E,R._fullLayout=L;var q=L[this.id],P=[],U=!1;for(var N in y.layerNameToAdjective)if("frame"!==N&&q["show"+N]){U=!0;break}for(var F=!1,j=0;j<E.length;j++){var G=E[0][0].trace;G._geo=R,G.locationmode&&(U=!0);var te=G.marker;if(te){var X=te.angleref;(te.angle||"north"===X||"previous"===X)&&(F=!0)}}if(this._hasMarkerAngles=F,U){var Y=m.getTopojsonName(q);null!==R.topojson&&Y===R.topojsonName||(R.topojsonName=Y,void 0===PlotlyGeoAssets.topojson[R.topojsonName]&&P.push(R.fetchTopojson()))}P=P.concat(v.fetchTraceGeoData(E)),C.push(new Promise(function(W,$){Promise.all(P).then(function(){R.topojson=PlotlyGeoAssets.topojson[R.topojsonName],R.update(E,L),W()}).catch($)}))},S.fetchTopojson=function(){var E=this,L=m.getTopojsonPath(E.topojsonURL,E.topojsonName);return new Promise(function(C,O){A.json(L,function(R,q){if(R)return O(404===R.status?new Error(["plotly.js could not find topojson file at",L+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",L].join(" ")));PlotlyGeoAssets.topojson[E.topojsonName]=q,C()})})},S.update=function(E,L,C){var O=L[this.id];this.hasChoropleth=!1;for(var R=0;R<E.length;R++){var q=E[R],P=q[0].trace;"choropleth"===P.type&&(this.hasChoropleth=!0),!0===P.visible&&P._length>0&&P._module.calcGeoJSON(q,L)}if(!C){if(this.updateProjection(E,L))return;this.viewInitial&&this.scope===O.scope||this.saveViewInitial(O)}this.scope=O.scope,this.updateBaseLayers(L,O),this.updateDims(L,O),this.updateFx(L,O),o.generalUpdatePerTraceModule(this.graphDiv,this,E,O);var U=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=U.selectAll(".point"),this.dataPoints.text=U.selectAll("text"),this.dataPaths.line=U.selectAll(".js-line");var N=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=N.selectAll("path"),this._render()},S.updateProjection=function(E,L){var C=this.graphDiv,O=L[this.id],R=L._size,q=O.domain,P=O.projection,U=O.lonaxis,N=O.lataxis,F=U._ax,j=N._ax,G=this.projection=function(ae){var fe=ae.projection,Ee=fe.type,ke=y.projNames[Ee];ke="geo"+a.titleCase(ke);for(var be=(k[ke]||b[ke])(),Ie=ae._isSatellite?180*Math.acos(1/fe.distance)/Math.PI:ae._isClipped?y.lonaxisSpan[Ee]/2:null,Fe=["center","rotate","parallels","clipExtent"],ce=function(Ce){return Ce?be:[]},Te=0;Te<Fe.length;Te++){var ve=Fe[Te];"function"!=typeof be[ve]&&(be[ve]=ce)}return be.isLonLatOverEdges=function(Ce){if(null===be(Ce))return!0;if(Ie){var Re=be.rotate();return T(Ce,[-Re[0],-Re[1]])>Ie*Math.PI/180}return!1},be.getPath=function(){return l().projection(be)},be.getBounds=function(Ce){return be.getPath().bounds(Ce)},be.precision(y.precision),ae._isSatellite&&be.tilt(fe.tilt).distance(fe.distance),Ie&&be.clipAngle(Ie-y.clipPad),be}(O),te=[[R.l+R.w*q.x[0],R.t+R.h*(1-q.y[1])],[R.l+R.w*q.x[1],R.t+R.h*(1-q.y[0])]],J=O.center||{},X=P.rotation||{},Y=U.range||[],W=N.range||[];if(O.fitbounds){F._length=te[1][0]-te[0][0],j._length=te[1][1]-te[0][1],F.range=u(C,F),j.range=u(C,j);var $=(F.range[0]+F.range[1])/2,ne=(j.range[0]+j.range[1])/2;if(O._isScoped)J={lon:$,lat:ne};else if(O._isClipped){J={lon:$,lat:ne},X={lon:$,lat:ne,roll:X.roll};var re=P.type,oe=y.lonaxisSpan[re]/2||180,ue=y.lataxisSpan[re]/2||90;Y=[$-oe,$+oe],W=[ne-ue,ne+ue]}else J={lon:$,lat:ne},X={lon:$,lat:X.lat,roll:X.roll}}G.center([J.lon-X.lon,J.lat-X.lat]).rotate([-X.lon,-X.lat,X.roll]).parallels(P.parallels);var xe=w(Y,W);G.fitExtent(te,xe);var Me=this.bounds=G.getBounds(xe),me=this.fitScale=G.scale(),pe=G.translate();if(O.fitbounds){var ge=G.getBounds(w(F.range,j.range)),Pe=Math.min((Me[1][0]-Me[0][0])/(ge[1][0]-ge[0][0]),(Me[1][1]-Me[0][1])/(ge[1][1]-ge[0][1]));isFinite(Pe)?G.scale(Pe*me):a.warn("Something went wrong during"+this.id+"fitbounds computations.")}else G.scale(P.scale*me);var _e=this.midPt=[(Me[0][0]+Me[1][0])/2,(Me[0][1]+Me[1][1])/2];if(G.translate([pe[0]+(_e[0]-pe[0]),pe[1]+(_e[1]-pe[1])]).clipExtent(Me),O._isAlbersUsa){var we=G([J.lon,J.lat]),se=G.translate();G.translate([se[0]-(we[0]-se[0]),se[1]-(we[1]-se[1])])}},S.updateBaseLayers=function(E,L){var C=this,O=C.topojson,R=C.layers,q=C.basePaths;function P(G){return"lonaxis"===G||"lataxis"===G}function U(G){return!!y.lineLayers[G]}function N(G){return!!y.fillLayers[G]}var F=(this.hasChoropleth?y.layersForChoropleth:y.layers).filter(function(G){return U(G)||N(G)?L["show"+G]:!P(G)||L[G].showgrid}),j=C.framework.selectAll(".layer").data(F,String);j.exit().each(function(G){delete R[G],delete q[G],A.select(this).remove()}),j.enter().append("g").attr("class",function(G){return"layer "+G}).each(function(G){var te=R[G]=A.select(this);"bg"===G?C.bgRect=te.append("rect").style("pointer-events","all"):P(G)?q[G]=te.append("path").style("fill","none"):"backplot"===G?te.append("g").classed("choroplethlayer",!0):"frontplot"===G?te.append("g").classed("scatterlayer",!0):U(G)?q[G]=te.append("path").style("fill","none").style("stroke-miterlimit",2):N(G)&&(q[G]=te.append("path").style("stroke","none"))}),j.order(),j.each(function(G){var te=q[G],J=y.layerNameToAdjective[G];"frame"===G?te.datum(y.sphereSVG):U(G)||N(G)?te.datum(_(O,O.objects[G])):P(G)&&te.datum(function(X,Y,W){var $,ne,re,oe=Y[X],ue=y.scopeDefaults[Y.scope];"lonaxis"===X?($=ue.lonaxisRange,ne=ue.lataxisRange,re=function(se,ae){return[se,ae]}):"lataxis"===X&&($=ue.lataxisRange,ne=ue.lonaxisRange,re=function(se,ae){return[ae,se]});var xe={type:"linear",range:[$[0],$[1]-1e-6],tick0:oe.tick0,dtick:oe.dtick};s.setConvert(xe,W);var Me=s.calcTicks(xe);Y.isScoped||"lonaxis"!==X||Me.pop();for(var me=Me.length,pe=new Array(me),ge=0;ge<me;ge++)for(var Pe=Me[ge].x,_e=pe[ge]=[],we=ne[0];we<ne[1]+2.5;we+=2.5)_e.push(re(Pe,we));return{type:"MultiLineString",coordinates:pe}}(G,L,E)).call(i.stroke,L[G].gridcolor).call(r.dashLine,L[G].griddash,L[G].gridwidth),U(G)?te.call(i.stroke,L[J+"color"]).call(r.dashLine,"",L[J+"width"]):N(G)&&te.call(i.fill,L[J+"color"])})},S.updateDims=function(E,L){var C=this.bounds,O=(L.framewidth||0)/2,R=C[0][0]-O,q=C[0][1]-O,P=C[1][0]-R+O,U=C[1][1]-q+O;r.setRect(this.clipRect,R,q,P,U),this.bgRect.call(r.setRect,R,q,P,U).call(i.fill,L.bgcolor),this.xaxis._offset=R,this.xaxis._length=P,this.yaxis._offset=q,this.yaxis._length=U},S.updateFx=function(E,L){var C=this,O=C.graphDiv,R=C.bgRect,q=E.dragmode,P=E.clickmode;if(!C.isStatic){var U={element:C.bgRect.node(),gd:O,plotinfo:{id:C.id,xaxis:C.xaxis,yaxis:C.yaxis,fillRangeItems:function(F,j){j.isRect?(F.range={})[C.id]=[N([j.xmin,j.ymin]),N([j.xmax,j.ymax])]:(F.lassoPoints={})[C.id]=j.map(N)}},xaxes:[C.xaxis],yaxes:[C.yaxis],subplot:C.id,clickFn:function(F){2===F&&x(O)}};"pan"===q?(R.node().onmousedown=null,R.call(h(C,L)),R.on("dblclick.zoom",function(){var F=C.viewInitial,j={};for(var G in F)j[C.id+"."+G]=F[G];d.call("_guiRelayout",O,j),O.emit("plotly_doubleclick",null)}),O._context._scrollZoom.geo||R.on("wheel.zoom",null)):"select"!==q&&"lasso"!==q||(R.on(".zoom",null),U.prepFn=function(F,j,G){c(F,j,G,U,q)},p.init(U)),R.on("mousemove",function(){var F=C.projection.invert(a.getPositionFromD3Event());if(!F)return p.unhover(O,A.event);C.xaxis.p2c=function(){return F[0]},C.yaxis.p2c=function(){return F[1]},n.hover(O,A.event,C.id)}),R.on("mouseout",function(){O._dragging||p.unhover(O,A.event)}),R.on("click",function(){"select"!==q&&"lasso"!==q&&(P.indexOf("select")>-1&&g(A.event,O,[C.xaxis],[C.yaxis],C.id,U),P.indexOf("event")>-1&&n.click(O,A.event))})}function N(F){return C.projection.invert([F[0]+C.xaxis._offset,F[1]+C.yaxis._offset])}},S.makeFramework=function(){var E=this,L=E.graphDiv,C=L._fullLayout,O="clip"+C._uid+E.id;E.clipDef=C._clips.append("clipPath").attr("id",O),E.clipRect=E.clipDef.append("rect"),E.framework=A.select(E.container).append("g").attr("class","geo "+E.id).call(r.setClipUrl,O,L),E.project=function(R){var q=E.projection(R);return q?[q[0]-E.xaxis._offset,q[1]-E.yaxis._offset]:[null,null]},E.xaxis={_id:"x",c2p:function(R){return E.project(R)[0]}},E.yaxis={_id:"y",c2p:function(R){return E.project(R)[1]}},E.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},s.setConvert(E.mockAxis,C)},S.saveViewInitial=function(E){var C=E.center||{},O=E.projection,R=O.rotation||{};this.viewInitial={fitbounds:E.fitbounds,"projection.scale":O.scale},a.extendFlat(this.viewInitial,E._isScoped?{"center.lon":C.lon,"center.lat":C.lat}:E._isClipped?{"projection.rotation.lon":R.lon,"projection.rotation.lat":R.lat}:{"center.lon":C.lon,"center.lat":C.lat,"projection.rotation.lon":R.lon})},S.render=function(E){this._hasMarkerAngles&&E?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var E,L=this.projection,C=L.getPath();function O(q){var P=L(q.lonlat);return P?t(P[0],P[1]):null}function R(q){return L.isLonLatOverEdges(q.lonlat)?"none":null}for(E in this.basePaths)this.basePaths[E].attr("d",C);for(E in this.dataPaths)this.dataPaths[E].attr("d",function(q){return C(q.geojson)});for(E in this.dataPoints)this.dataPoints[E].attr("display",R).attr("transform",O)}},44622:function(ee,D,e){"use strict";var A=e(27659).AU,k=e(71828).counterRegex,l=e(69082),T="geo",b=k(T),d={};d[T]={valType:"subplotid",dflt:T,editType:"calc"},ee.exports={attr:T,name:T,idRoot:T,idRegex:b,attrRegex:b,attributes:d,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:function(a){for(var t=a._fullLayout,i=a.calcdata,r=t._subplots[T],n=0;n<r.length;n++){var o=r[n],s=A(i,T,o),u=t[o]._subplot;u||(u=l({id:o,graphDiv:a,container:t._geolayer.node(),topojsonURL:a._context.topojsonURL,staticPlot:a._context.staticPlot}),t[o]._subplot=u),u.plot(s,t,a._promises)}},updateFx:function(a){for(var t=a._fullLayout,i=t._subplots[T],r=0;r<i.length;r++){var n=t[i[r]];n._subplot.updateFx(t,n)}},clean:function(a,t,i,r){for(var n=r._subplots[T]||[],o=0;o<n.length;o++){var s=n[o],u=r[s]._subplot;!t[s]&&u&&(u.framework.remove(),u.clipDef.remove())}}}},77519:function(ee,D,e){"use strict";var A=e(22399),k=e(27670).Y,l=e(79952).P,T=e(78776),b=e(30962).overrideAll,d=e(78607),a={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:A.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:l};(ee.exports=b({domain:k({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:d(T.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:d(T.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:A.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:T.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:T.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:T.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:T.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:A.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:A.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:A.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:A.background},lonaxis:a,lataxis:a},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(ee,D,e){"use strict";var A=e(71828),k=e(49119),l=e(27659).NG,T=e(78776),b=e(77519),d=T.axesNames;function a(t,i,r,n){var o=l(n.fullData,"geo",n.id).map(function(X){return X._expandedIndex}),s=r("resolution"),u=r("scope"),p=T.scopeDefaults[u],c=r("projection.type",p.projType),x=i._isAlbersUsa="albers usa"===c;x&&(u=i.scope="usa");var g=i._isScoped="world"!==u,h=i._isSatellite="satellite"===c,y=i._isConic=-1!==c.indexOf("conic")||"albers"===c,v=i._isClipped=!!T.lonaxisSpan[c];if(!1===t.visible){var m=A.extendDeep({},i._template);m.showcoastlines=!1,m.showcountries=!1,m.showframe=!1,m.showlakes=!1,m.showland=!1,m.showocean=!1,m.showrivers=!1,m.showsubunits=!1,m.lonaxis&&(m.lonaxis.showgrid=!1),m.lataxis&&(m.lataxis.showgrid=!1),i._template=m}for(var _=r("visible"),f=0;f<d.length;f++){var S,w=d[f],E=[30,10][f];if(g)S=p[w+"Range"];else{var L=T[w+"Span"],C=(L[c]||L["*"])/2,O=r("projection.rotation."+w.substr(0,3),p.projRotate[f]);S=[O-C,O+C]}var R=r(w+".range",S);r(w+".tick0"),r(w+".dtick",E),r(w+".showgrid",!!_&&void 0)&&(r(w+".gridcolor"),r(w+".gridwidth"),r(w+".griddash")),i[w]._ax={type:"linear",_id:w.slice(0,3),_traceIndices:o,setScale:A.identity,c2l:A.identity,r2l:A.identity,autorange:!0,range:R.slice(),_m:1,_input:{}}}var q=i.lonaxis.range,P=i.lataxis.range,U=q[0],N=q[1];U>0&&N<0&&(N+=360);var F,j,G,te=(U+N)/2;if(!x){var J=g?p.projRotate:[te,0,0];F=r("projection.rotation.lon",J[0]),r("projection.rotation.lat",J[1]),r("projection.rotation.roll",J[2]),r("showcoastlines",!g&&_)&&(r("coastlinecolor"),r("coastlinewidth")),r("showocean",!!_&&void 0)&&r("oceancolor")}x?(j=-96.6,G=38.7):(j=g?te:F,G=(P[0]+P[1])/2),r("center.lon",j),r("center.lat",G),h&&(r("projection.tilt"),r("projection.distance")),y&&r("projection.parallels",p.projParallels||[0,60]),r("projection.scale"),r("showland",!!_&&void 0)&&r("landcolor"),r("showlakes",!!_&&void 0)&&r("lakecolor"),r("showrivers",!!_&&void 0)&&(r("rivercolor"),r("riverwidth")),r("showcountries",g&&"usa"!==u&&_)&&(r("countrycolor"),r("countrywidth")),("usa"===u||"north america"===u&&50===s)&&(r("showsubunits",_),r("subunitcolor"),r("subunitwidth")),g||r("showframe",_)&&(r("framecolor"),r("framewidth")),r("bgcolor"),r("fitbounds")&&(delete i.projection.scale,g?(delete i.center.lon,delete i.center.lat):v?(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon,delete i.projection.rotation.lat,delete i.lonaxis.range,delete i.lataxis.range):(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon))}ee.exports=function(t,i,r){k(t,i,r,{type:"geo",attributes:b,handleDefaults:a,fullData:r,partition:"y"})}},74455:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(73972),T=Math.PI/180,b=180/Math.PI,d={cursor:"pointer"},a={cursor:"auto"};function t(g,h){return A.behavior.zoom().translate(h.translate()).scale(h.scale())}function i(g,h,y){var v=g.id,m=g.graphDiv,_=m.layout,f=_[v],S=m._fullLayout,w=S[v],E={},L={};function C(O,R){E[v+"."+O]=k.nestedProperty(f,O).get(),l.call("_storeDirectGUIEdit",_,S._preGUI,E);var q=k.nestedProperty(w,O);q.get()!==R&&(q.set(R),k.nestedProperty(f,O).set(R),L[v+"."+O]=R)}y(C),C("projection.scale",h.scale()/g.fitScale),C("fitbounds",!1),m.emit("plotly_relayout",L)}function r(g,h){var y=t(0,h);function v(m){var _=h.invert(g.midPt);m("center.lon",_[0]),m("center.lat",_[1])}return y.on("zoomstart",function(){A.select(this).style(d)}).on("zoom",function(){h.scale(A.event.scale).translate(A.event.translate),g.render(!0);var m=h.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/g.fitScale,"geo.center.lon":m[0],"geo.center.lat":m[1]})}).on("zoomend",function(){A.select(this).style(a),i(g,h,v)}),y}function n(g,h){var y,v,m,_,f,S,w,E,L,C=t(0,h);function O(q){return h.invert(q)}function R(q){var P=h.rotate(),U=h.invert(g.midPt);q("projection.rotation.lon",-P[0]),q("center.lon",U[0]),q("center.lat",U[1])}return C.on("zoomstart",function(){A.select(this).style(d),y=A.mouse(this),v=h.rotate(),m=h.translate(),_=v,f=O(y)}).on("zoom",function(){if(S=A.mouse(this),function(U){var N=O(U);if(!N)return!0;var F=h(N);return Math.abs(F[0]-U[0])>2||Math.abs(F[1]-U[1])>2}(y))return C.scale(h.scale()),void C.translate(h.translate());h.scale(A.event.scale),h.translate([m[0],A.event.translate[1]]),f?O(S)&&(E=O(S),h.rotate(w=[_[0]+(E[0]-f[0]),v[1],v[2]]),_=w):f=O(y=S),L=!0,g.render(!0);var q=h.rotate(),P=h.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/g.fitScale,"geo.center.lon":P[0],"geo.center.lat":P[1],"geo.projection.rotation.lon":-q[0]})}).on("zoomend",function(){A.select(this).style(a),L&&i(g,h,R)}),C}function o(g,h){var y,v={r:h.rotate(),k:h.scale()},m=t(0,h),_=function(E){for(var L=0,C=arguments.length,O=[];++L<C;)O.push(arguments[L]);var R=A.dispatch.apply(null,O);return R.of=function(q,P){return function(U){var N;try{N=U.sourceEvent=A.event,U.target=E,A.event=U,R[U.type].apply(q,P)}finally{A.event=N}}},R}(m,"zoomstart","zoom","zoomend"),f=0,S=m.on;function w(E){var L=h.rotate();E("projection.rotation.lon",-L[0]),E("projection.rotation.lat",-L[1])}return m.on("zoomstart",function(){A.select(this).style(d);var E,L,C,O,R,q,P,U,N,F,j,G=A.mouse(this),te=h.rotate(),J=te,X=h.translate(),Y=(L=.5*(E=te)[0]*T,C=.5*E[1]*T,O=.5*E[2]*T,R=Math.sin(L),q=Math.cos(L),P=Math.sin(C),U=Math.cos(C),N=Math.sin(O),[q*U*(F=Math.cos(O))+R*P*N,R*U*F-q*P*N,q*P*F+R*U*N,q*U*N-R*P*F]);y=s(h,G),S.call(m,"zoom",function(){var W,$,ne,re,oe,ue,xe,Me,me,pe,ae,ge=A.mouse(this);if(h.scale(v.k=A.event.scale),y){if(s(h,ge)){h.rotate(te).translate(X);var Pe=s(h,ge),_e=function(ae,fe){if(ae&&fe){var Ee=[(Fe=ae)[1]*(ce=fe)[2]-Fe[2]*ce[1],Fe[2]*ce[0]-Fe[0]*ce[2],Fe[0]*ce[1]-Fe[1]*ce[0]],ke=Math.sqrt(x(Ee,Ee)),be=.5*Math.acos(Math.max(-1,Math.min(1,x(ae,fe)))),Ie=Math.sin(be)/ke;return ke&&[Math.cos(be),Ee[2]*Ie,-Ee[1]*Ie,Ee[0]*Ie]}var Fe,ce}(y,Pe),we=(ae=[(ne=(W=Y)[0])*(xe=($=_e)[0])-(re=W[1])*(Me=$[1])-(oe=W[2])*(me=$[2])-(ue=W[3])*(pe=$[3]),ne*Me+re*xe+oe*pe-ue*me,ne*me-re*pe+oe*xe+ue*Me,ne*pe+re*me-oe*Me+ue*xe],[Math.atan2(2*(ae[0]*ae[1]+ae[2]*ae[3]),1-2*(ae[1]*ae[1]+ae[2]*ae[2]))*b,Math.asin(Math.max(-1,Math.min(1,2*(ae[0]*ae[2]-ae[3]*ae[1]))))*b,Math.atan2(2*(ae[0]*ae[3]+ae[1]*ae[2]),1-2*(ae[2]*ae[2]+ae[3]*ae[3]))*b]),se=v.r=function(ae,fe,Ee){var ke=c(fe,2,ae[0]);ke=c(ke,1,ae[1]),ke=c(ke,0,ae[2]-Ee[2]);var be,Ie,Fe=fe[0],ce=fe[1],Te=fe[2],ve=ke[0],Ce=ke[1],Re=ke[2],Oe=Math.atan2(ce,Fe)*b,je=Math.sqrt(Fe*Fe+ce*ce);Math.abs(Ce)>je?(Ie=(Ce>0?90:-90)-Oe,be=0):(Ie=Math.asin(Ce/je)*b-Oe,be=Math.sqrt(je*je-Ce*Ce));var qe=180-Ie-2*Oe,Je=(Math.atan2(Re,ve)-Math.atan2(Te,be))*b,it=(Math.atan2(Re,ve)-Math.atan2(Te,-be))*b;return u(Ee[0],Ee[1],Ie,Je)<=u(Ee[0],Ee[1],qe,it)?[Ie,Je,Ee[2]]:[qe,it,Ee[2]]}(we,y,J);isFinite(se[0])&&isFinite(se[1])&&isFinite(se[2])||(se=J),h.rotate(se),J=se}}else y=s(h,G=ge);_.of(this,arguments)({type:"zoom"})}),j=_.of(this,arguments),f++||j({type:"zoomstart"})}).on("zoomend",function(){var E;A.select(this).style(a),S.call(m,"zoom",null),E=_.of(this,arguments),--f||E({type:"zoomend"}),i(g,h,w)}).on("zoom.redraw",function(){g.render(!0);var E=h.rotate();g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/g.fitScale,"geo.projection.rotation.lon":-E[0],"geo.projection.rotation.lat":-E[1]})}),A.rebind(m,_,"on")}function s(g,h){var v,m,_,f,y=g.invert(h);return y&&isFinite(y[0])&&isFinite(y[1])&&(m=(v=y)[0]*T,_=v[1]*T,[(f=Math.cos(_))*Math.cos(m),f*Math.sin(m),Math.sin(_)])}function u(g,h,y,v){var m=p(y-g),_=p(v-h);return Math.sqrt(m*m+_*_)}function p(g){return(g%360+540)%360-180}function c(g,h,y){var v=y*T,m=g.slice(),_=0===h?1:0,f=2===h?1:2,S=Math.cos(v),w=Math.sin(v);return m[_]=g[_]*S-g[f]*w,m[f]=g[f]*S+g[_]*w,m}function x(g,h){for(var y=0,v=0,m=g.length;v<m;++v)y+=g[v]*h[v];return y}ee.exports=function(g,h){return(h._isScoped?r:h._isClipped?o:n)(g,g.projection)}},27659:function(ee,D,e){"use strict";var A=e(73972),k=e(85555).SUBPLOT_PATTERN;D.AU=function(l,T,b){var d=A.subplotsRegistry[T];if(!d)return[];for(var a=d.attr,t=[],i=0;i<l.length;i++){var r=l[i];r[0].trace[a]===b&&t.push(r)}return t},D.a0=function(l,T){var b,d=[],a=[];if(!(b="string"==typeof T?A.getModule(T).plot:"function"==typeof T?T:T.plot))return[d,l];for(var t=0;t<l.length;t++){var i=l[t],r=i[0].trace;!0===r.visible&&0!==r._length&&(r._module&&r._module.plot===b?d.push(i):a.push(i))}return[d,a]},D.NG=function(l,T,b){if(!A.subplotsRegistry[T])return[];var d,a,t,i=A.subplotsRegistry[T].attr,r=[];if("gl2d"===T){var n=b.match(k);a="x"+n[1],t="y"+n[2]}for(var o=0;o<l.length;o++)d=l[o],"gl2d"===T&&A.traceIs(d,"gl2d")?d[i[0]]===a&&d[i[1]]===t&&r.push(d):d[i]===b&&r.push(d);return r}},75071:function(ee,D,e){"use strict";var A=e(16825),k=e(1195),l=e(48956),T=e(85555),b=e(38520);function d(a,t){this.element=a,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}ee.exports=function(a){var t=a.mouseContainer,i=a.glplot,r=new d(t,i);function n(){a.xaxis.autorange=!1,a.yaxis.autorange=!1}function o(s,u,p){var c,x,g=a.calcDataBox(),h=i.viewBox,y=r.lastPos[0],v=r.lastPos[1],m=T.MINDRAG*i.pixelRatio,_=T.MINZOOM*i.pixelRatio;function f(O,R,q){var P=Math.min(R,q),U=Math.max(R,q);P!==U?(g[O]=P,g[O+2]=U,r.dataBox=g,a.setRanges(g)):(a.selectBox.selectBox=[0,0,1,1],a.glplot.setDirty())}switch(u*=i.pixelRatio,p=h[3]-h[1]-(p*=i.pixelRatio),a.fullLayout.dragmode){case"zoom":if(s){var S=u/(h[2]-h[0])*(g[2]-g[0])+g[0],w=p/(h[3]-h[1])*(g[3]-g[1])+g[1];r.boxInited||(r.boxStart[0]=S,r.boxStart[1]=w,r.dragStart[0]=u,r.dragStart[1]=p),r.boxEnd[0]=S,r.boxEnd[1]=w,r.boxInited=!0,r.boxEnabled||r.boxStart[0]===r.boxEnd[0]&&r.boxStart[1]===r.boxEnd[1]||(r.boxEnabled=!0);var E=Math.abs(r.dragStart[0]-u)<_,L=Math.abs(r.dragStart[1]-p)<_;if(!function(){for(var O=a.graphDiv._fullLayout._axisConstraintGroups,R=a.xaxis._id,q=a.yaxis._id,P=0;P<O.length;P++)if(-1!==O[P][R]){if(-1!==O[P][q])return!0;break}return!1}()||E&&L)E&&(r.boxEnd[0]=r.boxStart[0]),L&&(r.boxEnd[1]=r.boxStart[1]);else{c=r.boxEnd[0]-r.boxStart[0],x=r.boxEnd[1]-r.boxStart[1];var C=(g[3]-g[1])/(g[2]-g[0]);Math.abs(c*C)>Math.abs(x)?(r.boxEnd[1]=r.boxStart[1]+Math.abs(c)*C*(x>=0?1:-1),r.boxEnd[1]<g[1]?(r.boxEnd[1]=g[1],r.boxEnd[0]=r.boxStart[0]+(g[1]-r.boxStart[1])/Math.abs(C)):r.boxEnd[1]>g[3]&&(r.boxEnd[1]=g[3],r.boxEnd[0]=r.boxStart[0]+(g[3]-r.boxStart[1])/Math.abs(C))):(r.boxEnd[0]=r.boxStart[0]+Math.abs(x)/C*(c>=0?1:-1),r.boxEnd[0]<g[0]?(r.boxEnd[0]=g[0],r.boxEnd[1]=r.boxStart[1]+(g[0]-r.boxStart[0])*Math.abs(C)):r.boxEnd[0]>g[2]&&(r.boxEnd[0]=g[2],r.boxEnd[1]=r.boxStart[1]+(g[2]-r.boxStart[0])*Math.abs(C)))}}else r.boxEnabled?(x=r.boxStart[1]!==r.boxEnd[1],(c=r.boxStart[0]!==r.boxEnd[0])||x?(c&&(f(0,r.boxStart[0],r.boxEnd[0]),a.xaxis.autorange=!1),x&&(f(1,r.boxStart[1],r.boxEnd[1]),a.yaxis.autorange=!1),a.relayoutCallback()):a.glplot.setDirty(),r.boxEnabled=!1,r.boxInited=!1):r.boxInited&&(r.boxInited=!1);break;case"pan":r.boxEnabled=!1,r.boxInited=!1,s?(r.panning||(r.dragStart[0]=u,r.dragStart[1]=p),Math.abs(r.dragStart[0]-u)<m&&(u=r.dragStart[0]),Math.abs(r.dragStart[1]-p)<m&&(p=r.dragStart[1]),x=(v-p)*(g[3]-g[1])/(i.viewBox[3]-i.viewBox[1]),g[0]+=c=(y-u)*(g[2]-g[0])/(i.viewBox[2]-i.viewBox[0]),g[2]+=c,g[1]+=x,g[3]+=x,a.setRanges(g),r.panning=!0,r.lastInputTime=Date.now(),n(),a.cameraChanged(),a.handleAnnotations()):r.panning&&(r.panning=!1,a.relayoutCallback())}r.lastPos[0]=u,r.lastPos[1]=p}return r.mouseListener=A(t,o),t.addEventListener("touchstart",function(s){var u=l(s.changedTouches[0],t);o(0,u[0],u[1]),o(1,u[0],u[1]),s.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchmove",function(s){s.preventDefault();var u=l(s.changedTouches[0],t);o(1,u[0],u[1]),s.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchend",function(s){o(0,r.lastPos[0],r.lastPos[1]),s.preventDefault()},!!b&&{passive:!1}),r.wheelListener=k(t,function(s,u){if(!a.scrollZoom)return!1;var p=a.calcDataBox(),c=i.viewBox,x=r.lastPos[0],g=r.lastPos[1],h=Math.exp(5*u/(c[3]-c[1])),y=x/(c[2]-c[0])*(p[2]-p[0])+p[0],v=g/(c[3]-c[1])*(p[3]-p[1])+p[1];return p[0]=(p[0]-y)*h+y,p[2]=(p[2]-y)*h+y,p[1]=(p[1]-v)*h+v,p[3]=(p[3]-v)*h+v,a.setRanges(p),r.lastInputTime=Date.now(),n(),a.cameraChanged(),a.handleAnnotations(),a.relayoutCallback(),!0},!0),r}},82961:function(ee,D,e){"use strict";var A=e(89298),k=e(78614);function l(d){this.scene=d,this.gl=d.gl,this.pixelRatio=d.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var T=l.prototype,b=["xaxis","yaxis"];T.merge=function(d){var a,t,i,r,n,o,s,u,p,c,x;for(this.titleEnable=!1,this.backgroundColor=k(d.plot_bgcolor),c=0;c<2;++c){var g=(a=b[c]).charAt(0);for(i=(t=d[this.scene[a]._name]).title.text===this.scene.fullLayout._dfltTitle[g]?"":t.title.text,x=0;x<=2;x+=2)this.labelEnable[c+x]=!1,this.labels[c+x]=i,this.labelColor[c+x]=k(t.title.font.color),this.labelFont[c+x]=t.title.font.family,this.labelSize[c+x]=t.title.font.size,this.labelPad[c+x]=this.getLabelPad(a,t),this.tickEnable[c+x]=!1,this.tickColor[c+x]=k((t.tickfont||{}).color),this.tickAngle[c+x]="auto"===t.tickangle?0:Math.PI*-t.tickangle/180,this.tickPad[c+x]=this.getTickPad(t),this.tickMarkLength[c+x]=0,this.tickMarkWidth[c+x]=t.tickwidth||0,this.tickMarkColor[c+x]=k(t.tickcolor),this.borderLineEnable[c+x]=!1,this.borderLineColor[c+x]=k(t.linecolor),this.borderLineWidth[c+x]=t.linewidth||0;s=this.hasSharedAxis(t),n=this.hasAxisInDfltPos(a,t)&&!s,o=this.hasAxisInAltrPos(a,t)&&!s,r=t.mirror||!1,u=s?-1!==String(r).indexOf("all"):!!r,p=s?"allticks"===r:-1!==String(r).indexOf("ticks"),n?this.labelEnable[c]=!0:o&&(this.labelEnable[c+2]=!0),n?this.tickEnable[c]=t.showticklabels:o&&(this.tickEnable[c+2]=t.showticklabels),(n||u)&&(this.borderLineEnable[c]=t.showline),(o||u)&&(this.borderLineEnable[c+2]=t.showline),(n||p)&&(this.tickMarkLength[c]=this.getTickMarkLength(t)),(o||p)&&(this.tickMarkLength[c+2]=this.getTickMarkLength(t)),this.gridLineEnable[c]=t.showgrid,this.gridLineColor[c]=k(t.gridcolor),this.gridLineWidth[c]=t.gridwidth,this.zeroLineEnable[c]=t.zeroline,this.zeroLineColor[c]=k(t.zerolinecolor),this.zeroLineWidth[c]=t.zerolinewidth}},T.hasSharedAxis=function(d){var a=this.scene;return 0!==A.findSubplotsWithAxis(a.fullLayout._subplots.gl2d,d).indexOf(a.id)},T.hasAxisInDfltPos=function(d,a){var t=a.side;return"xaxis"===d?"bottom"===t:"yaxis"===d?"left"===t:void 0},T.hasAxisInAltrPos=function(d,a){var t=a.side;return"xaxis"===d?"top"===t:"yaxis"===d?"right"===t:void 0},T.getLabelPad=function(d,a){var t=1.5,i=a.title.font.size,r=a.showticklabels;return"xaxis"===d?"top"===a.side?i*(t+(r?1:0))-10:i*(t+(r?.5:0))-10:"yaxis"===d?"right"===a.side?10+i*(t+(r?1:.5)):10+i*(t+(r?.5:0)):void 0},T.getTickPad=function(d){return"outside"===d.ticks?10+d.ticklen:15},T.getTickMarkLength=function(d){if(!d.ticks)return 0;var a=d.ticklen;return"inside"===d.ticks?-a:a},ee.exports=function(d){return new l(d)}},4796:function(ee,D,e){"use strict";var A=e(30962).overrideAll,k=e(92918),l=e(10820),T=e(77922),b=e(85555),d=e(93612),a=e(528),t=e(27659).NG;D.name="gl2d",D.attr=["xaxis","yaxis"],D.idRoot=["x","y"],D.idRegex=b.idRegex,D.attrRegex=b.attrRegex,D.attributes=e(89502),D.supplyLayoutDefaults=function(i,r,n){r._has("cartesian")||d.supplyLayoutDefaults(i,r,n)},D.layoutAttrOverrides=A(d.layoutAttributes,"plot","from-root"),D.baseLayoutAttrOverrides=A({plot_bgcolor:l.plot_bgcolor,hoverlabel:a.hoverlabel},"plot","nested"),D.plot=function(i){for(var r=i._fullLayout,n=i._fullData,o=r._subplots.gl2d,s=0;s<o.length;s++){var u=o[s],p=r._plots[u],c=t(n,"gl2d",u),x=p._scene2d;void 0===x&&(x=new k({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},r),p._scene2d=x),x.plot(c,i.calcdata,r,i.layout)}},D.clean=function(i,r,n,o){for(var s=o._subplots.gl2d||[],u=0;u<s.length;u++){var p=s[u],c=o._plots[p];c._scene2d&&0===t(i,"gl2d",p).length&&(c._scene2d.destroy(),delete o._plots[p])}d.clean.apply(this,arguments)},D.drawFramework=function(i){i._context.staticPlot||d.drawFramework(i)},D.toSVG=function(i){for(var r=i._fullLayout,n=r._subplots.gl2d,o=0;o<n.length;o++){var s=r._plots[n[o]]._scene2d,u=s.toImage("png");r._glimages.append("svg:image").attr({xmlns:T.svg,"xlink:href":u,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),s.destroy()}},D.updateFx=function(i){for(var r=i._fullLayout,n=r._subplots.gl2d,o=0;o<n.length;o++)r._plots[n[o]]._scene2d.updateFx(r.dragmode)}},92918:function(ee,D,e){"use strict";var A,k,l=e(73972),T=e(89298),b=e(30211),d=e(9330).gl_plot2d,a=e(9330).gl_spikes2d,t=e(9330).gl_select_box,i=e(40372),r=e(82961),n=e(75071),o=e(58617),s=e(99082),u=s.enforce,p=s.clean,c=e(71739).doAutoRange,x=e(64505),g=x.drawMode,h=x.selectMode,y=["xaxis","yaxis"],v=e(85555).SUBPLOT_PATTERN;function m(f,S){this.container=f.container,this.graphDiv=f.graphDiv,this.pixelRatio=f.plotGlPixelRatio||window.devicePixelRatio,this.id=f.id,this.staticPlot=!!f.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(S),this.makeFramework(),this.stopped||(this.glplotOptions=r(this),this.glplotOptions.merge(S),this.glplot=d(this.glplotOptions),this.camera=n(this),this.traces={},this.spikes=a(this.glplot),this.selectBox=t(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}ee.exports=m;var _=m.prototype;_.makeFramework=function(){if(this.staticPlot){if(!(k||(A=document.createElement("canvas"),k=i({canvas:A,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=A,this.gl=k}else{var f=this.container.querySelector(".gl-canvas-focus"),S=i({canvas:f,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!S)return o(this),void(this.stopped=!0);this.canvas=f,this.gl=S}var w=this.canvas;w.style.width="100%",w.style.height="100%",w.style.position="absolute",w.style.top="0px",w.style.left="0px",w.style["pointer-events"]="none",this.updateSize(w);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var L=this.mouseContainer=document.createElement("div");L.style.position="absolute",L.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var C=this.container;C.appendChild(E),C.appendChild(L);var O=this;L.addEventListener("mouseout",function(){O.isMouseOver=!1,O.unhover()}),L.addEventListener("mouseover",function(){O.isMouseOver=!0})},_.toImage=function(f){f||(f="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(A),this.updateSize(this.canvas);var S=this.glplot.gl,w=S.drawingBufferWidth,E=S.drawingBufferHeight;S.clearColor(1,1,1,0),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),S.bindFramebuffer(S.FRAMEBUFFER,null);var L=new Uint8Array(w*E*4);S.readPixels(0,0,w,E,S.RGBA,S.UNSIGNED_BYTE,L);for(var C=0,O=E-1;C<O;++C,--O)for(var R=0;R<w;++R)for(var q=0;q<4;++q){var P=L[4*(w*C+R)+q];L[4*(w*C+R)+q]=L[4*(w*O+R)+q],L[4*(w*O+R)+q]=P}var U=document.createElement("canvas");U.width=w,U.height=E;var N,F=U.getContext("2d",{willReadFrequently:!0}),j=F.createImageData(w,E);switch(j.data.set(L),F.putImageData(j,0,0),f){case"jpeg":N=U.toDataURL("image/jpeg");break;case"webp":N=U.toDataURL("image/webp");break;default:N=U.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(A),N},_.updateSize=function(f){f||(f=this.canvas);var S=this.pixelRatio,w=this.fullLayout,L=w.height,C=0|Math.ceil(S*w.width),O=0|Math.ceil(S*L);return f.width===C&&f.height===O||(f.width=C,f.height=O),f},_.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var f=[T.calcTicks(this.xaxis),T.calcTicks(this.yaxis)],S=0;S<2;++S)for(var w=0;w<f[S].length;++w)f[S][w].text=f[S][w].text+"";return f},_.updateRefs=function(f){this.fullLayout=f;var S=this.id.match(v),E="yaxis"+S[2];this.xaxis=this.fullLayout["xaxis"+S[1]],this.yaxis=this.fullLayout[E]},_.relayoutCallback=function(){var f=this.graphDiv,S=this.xaxis,w=this.yaxis,E=f.layout,L={},C=L[S._name+".range"]=S.range.slice(),O=L[w._name+".range"]=w.range.slice();L[S._name+".autorange"]=S.autorange,L[w._name+".autorange"]=w.autorange,l.call("_storeDirectGUIEdit",f.layout,f._fullLayout._preGUI,L);var R=E[S._name];R.range=C,R.autorange=S.autorange;var q=E[w._name];q.range=O,q.autorange=w.autorange,L.lastInputTime=this.camera.lastInputTime,f.emit("plotly_relayout",L)},_.cameraChanged=function(){var f=this.camera;this.glplot.setDataBox(this.calcDataBox());var S=this.computeTickMarks();(function(w,E){for(var L=0;L<2;++L){var C=w[L],O=E[L];if(C.length!==O.length)return!0;for(var R=0;R<C.length;++R)if(C[R].x!==O[R].x)return!0}return!1})(S,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=S,this.glplotOptions.dataBox=f.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},_.handleAnnotations=function(){for(var f=this.graphDiv,S=this.fullLayout.annotations,w=0;w<S.length;w++){var E=S[w];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&l.getComponentMethod("annotations","drawOne")(f,w)}},_.destroy=function(){if(this.glplot){var f=this.traces;f&&Object.keys(f).map(function(S){f[S].dispose(),delete f[S]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},_.plot=function(f,S,w){var E=this.glplot;this.updateRefs(w),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(f,S),this.updateFx(w.dragmode);var L=w.width,C=w.height;this.updateSize(this.canvas);var O=this.glplotOptions;O.merge(w),O.screenBox=[0,0,L,C];var R={_fullLayout:{_axisConstraintGroups:w._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:w._size}};p(R,this.xaxis),p(R,this.yaxis);var q,P,U=w._size,N=this.xaxis.domain,F=this.yaxis.domain;for(O.viewBox=[U.l+N[0]*U.w,U.b+F[0]*U.h,L-U.r-(1-N[1])*U.w,C-U.t-(1-F[1])*U.h],this.mouseContainer.style.width=U.w*(N[1]-N[0])+"px",this.mouseContainer.style.height=U.h*(F[1]-F[0])+"px",this.mouseContainer.height=U.h*(F[1]-F[0]),this.mouseContainer.style.left=U.l+N[0]*U.w+"px",this.mouseContainer.style.top=U.t+(1-F[1])*U.h+"px",P=0;P<2;++P)(q=this[y[P]])._length=O.viewBox[P+2]-O.viewBox[P],c(this.graphDiv,q),q.setScale();u(R),O.ticks=this.computeTickMarks(),O.dataBox=this.calcDataBox(),O.merge(w),E.update(O),this.glplot.draw()},_.calcDataBox=function(){var f=this.xaxis,S=this.yaxis,w=f.range,E=S.range,L=f.r2l,C=S.r2l;return[L(w[0]),C(E[0]),L(w[1]),C(E[1])]},_.setRanges=function(f){var S=this.xaxis,w=this.yaxis,E=S.l2r,L=w.l2r;S.range=[E(f[0]),E(f[2])],w.range=[L(f[1]),L(f[3])]},_.updateTraces=function(f,S){var w,E,L,C=Object.keys(this.traces);this.fullData=f;e:for(w=0;w<C.length;w++){var O=C[w],R=this.traces[O];for(E=0;E<f.length;E++)if((L=f[E]).uid===O&&L.type===R.type)continue e;R.dispose(),delete this.traces[O]}for(w=0;w<f.length;w++){var q=S[w],P=this.traces[(L=f[w]).uid];P?P.update(L,q):(P=L._module.plot(this,L,q),this.traces[L.uid]=P)}this.glplot.objects.sort(function(U,N){return U._trace.index-N._trace.index})},_.updateFx=function(f){h(f)||g(f)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===f?"move":"zoom"===f?"crosshair":null},_.emitPointAction=function(f,S){for(var w,E=f.trace.uid,L=f.pointIndex,C=0;C<this.fullData.length;C++)this.fullData[C].uid===E&&(w=this.fullData[C]);var O={x:f.traceCoord[0],y:f.traceCoord[1],curveNumber:w.index,pointNumber:L,data:w._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};b.appendArrayPointValue(O,w,L),this.graphDiv.emit(S,{points:[O]})},_.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var f=this.glplot,S=this.camera,w=S.mouseListener,E=1===this.lastButtonState&&0===w.buttons,L=this.fullLayout;this.lastButtonState=w.buttons,this.cameraChanged();var C,O=w.x*f.pixelRatio,R=this.canvas.height-f.pixelRatio*w.y;if(S.boxEnabled&&"zoom"===L.dragmode){this.selectBox.enabled=!0;for(var q=this.selectBox.selectBox=[Math.min(S.boxStart[0],S.boxEnd[0]),Math.min(S.boxStart[1],S.boxEnd[1]),Math.max(S.boxStart[0],S.boxEnd[0]),Math.max(S.boxStart[1],S.boxEnd[1])],P=0;P<2;P++)S.boxStart[P]===S.boxEnd[P]&&(q[P]=f.dataBox[P],q[P+2]=f.dataBox[P+2]);f.setDirty()}else if(!S.panning&&this.isMouseOver){this.selectBox.enabled=!1;var U=L._size,j=(C=f.pick(O/f.pixelRatio+U.l+this.xaxis.domain[0]*U.w,R/f.pixelRatio-(U.t+(1-this.yaxis.domain[1])*U.h)))&&C.object._trace.handlePick(C);if(j&&E&&this.emitPointAction(j,"plotly_click"),C&&"skip"!==C.object._trace.hoverinfo&&L.hovermode&&j&&(!this.lastPickResult||this.lastPickResult.traceUid!==j.trace.uid||this.lastPickResult.dataCoord[0]!==j.dataCoord[0]||this.lastPickResult.dataCoord[1]!==j.dataCoord[1])){var G=j;this.lastPickResult={traceUid:j.trace?j.trace.uid:null,dataCoord:j.dataCoord.slice()},this.spikes.update({center:C.dataCoord}),G.screenCoord=[((f.viewBox[2]-f.viewBox[0])*(C.dataCoord[0]-f.dataBox[0])/(f.dataBox[2]-f.dataBox[0])+f.viewBox[0])/f.pixelRatio,(this.canvas.height-(f.viewBox[3]-f.viewBox[1])*(C.dataCoord[1]-f.dataBox[1])/(f.dataBox[3]-f.dataBox[1])-f.viewBox[1])/f.pixelRatio],this.emitPointAction(j,"plotly_hover");var te=this.fullData[G.trace.index]||{},J=G.pointIndex,X=b.castHoverinfo(te,L,J);if(X&&"all"!==X){var Y=X.split("+");-1===Y.indexOf("x")&&(G.traceCoord[0]=void 0),-1===Y.indexOf("y")&&(G.traceCoord[1]=void 0),-1===Y.indexOf("z")&&(G.traceCoord[2]=void 0),-1===Y.indexOf("text")&&(G.textLabel=void 0),-1===Y.indexOf("name")&&(G.name=void 0)}b.loneHover({x:G.screenCoord[0],y:G.screenCoord[1],xLabel:this.hoverFormatter("xaxis",G.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",G.traceCoord[1]),zLabel:G.traceCoord[2],text:G.textLabel,name:G.name,color:b.castHoverOption(te,J,"bgcolor")||G.color,borderColor:b.castHoverOption(te,J,"bordercolor"),fontFamily:b.castHoverOption(te,J,"font.family"),fontSize:b.castHoverOption(te,J,"font.size"),fontColor:b.castHoverOption(te,J,"font.color"),nameLength:b.castHoverOption(te,J,"namelength"),textAlign:b.castHoverOption(te,J,"align")},{container:this.svgContainer,gd:this.graphDiv})}}C||this.unhover(),f.draw()}},_.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),b.loneUnhover(this.svgContainer))},_.hoverFormatter=function(f,S){if(void 0!==S){var w=this[f];return T.tickText(w,w.c2l(S),"hover").text}}},58547:function(ee,D,e){"use strict";var A=e(30962).overrideAll,k=e(528),l=e(33539),T=e(27659).NG,b=e(71828),d=e(77922),a="gl3d",t="scene";D.name=a,D.attr=t,D.idRoot=t,D.idRegex=D.attrRegex=b.counterRegex("scene"),D.attributes=e(59084),D.layoutAttributes=e(65500),D.baseLayoutAttrOverrides=A({hoverlabel:k.hoverlabel},"plot","nested"),D.supplyLayoutDefaults=e(24682),D.plot=function(i){for(var r=i._fullLayout,n=i._fullData,o=r._subplots[a],s=0;s<o.length;s++){var u=o[s],p=T(n,a,u),c=r[u],x=c.camera,g=c._scene;g||(g=new l({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:x},r),c._scene=g),g.viewInitial||(g.viewInitial={up:{x:x.up.x,y:x.up.y,z:x.up.z},eye:{x:x.eye.x,y:x.eye.y,z:x.eye.z},center:{x:x.center.x,y:x.center.y,z:x.center.z}}),g.plot(p,r,i.layout)}},D.clean=function(i,r,n,o){for(var s=o._subplots[a]||[],u=0;u<s.length;u++){var p=s[u];!r[p]&&o[p]._scene&&(o[p]._scene.destroy(),o._infolayer&&o._infolayer.selectAll(".annotation-"+p).remove())}},D.toSVG=function(i){for(var r=i._fullLayout,n=r._subplots[a],o=r._size,s=0;s<n.length;s++){var u=r[n[s]],p=u.domain,c=u._scene,x=c.toImage("png");r._glimages.append("svg:image").attr({xmlns:d.svg,"xlink:href":x,x:o.l+o.w*p.x[0],y:o.t+o.h*(1-p.y[1]),width:o.w*(p.x[1]-p.x[0]),height:o.h*(p.y[1]-p.y[0]),preserveAspectRatio:"none"}),c.destroy()}},D.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var r=i.substr(5);return"1"===r&&(r=""),t+r}},D.updateFx=function(i){for(var r=i._fullLayout,n=r._subplots[a],o=0;o<n.length;o++)r[n[o]]._scene.updateFx(r.dragmode,r.hovermode)}},59084:function(ee){"use strict";ee.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(ee,D,e){"use strict";var A=e(7901),k=e(13838),l=e(1426).extendFlat,T=e(30962).overrideAll;ee.exports=T({visible:k.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:A.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:k.color,categoryorder:k.categoryorder,categoryarray:k.categoryarray,title:{text:k.title.text,font:k.title.font},type:l({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorange:k.autorange,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},rangemode:k.rangemode,minallowed:k.minallowed,maxallowed:k.maxallowed,range:l({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,mirror:k.mirror,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,tickfont:k.tickfont,tickangle:k.tickangle,tickprefix:k.tickprefix,showtickprefix:k.showtickprefix,ticksuffix:k.ticksuffix,showticksuffix:k.showticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickformat:k.tickformat,tickformatstops:k.tickformatstops,hoverformat:k.hoverformat,showline:k.showline,linecolor:k.linecolor,linewidth:k.linewidth,showgrid:k.showgrid,gridcolor:l({},k.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:k.gridwidth,zeroline:k.zeroline,zerolinecolor:k.zerolinecolor,zerolinewidth:k.zerolinewidth,_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}},"plot","from-root")},3277:function(ee,D,e){"use strict";var A=e(84267).mix,k=e(71828),l=e(44467),T=e(77894),b=e(951),d=e(71453),a=["xaxis","yaxis","zaxis"];ee.exports=function(t,i,r){var n,o;function s(c,x){return k.coerce(n,o,T,c,x)}for(var u=0;u<a.length;u++){var p=a[u];n=t[p]||{},(o=l.newContainer(i,p))._id=p[0]+r.scene,o._name=p,b(n,o,s,r),d(n,o,s,{font:r.font,letter:p[0],data:r.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:r.bgColor,calendar:r.calendar},r.fullLayout),s("gridcolor",A(o.color,r.bgColor,72.72727272727273).toRgbString()),s("title.text",p[0]),o.setScale=k.noop,s("showspikes")&&(s("spikesides"),s("spikethickness"),s("spikecolor",o.color)),s("showaxeslabels"),s("showbackground")&&s("backgroundcolor")}}},30422:function(ee,D,e){"use strict";var A=e(78614),k=e(71828),l=["xaxis","yaxis","zaxis"];function T(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}T.prototype.merge=function(b,d){for(var a=this,t=0;t<3;++t){var i=d[l[t]];i.visible?(a.labels[t]=b._meta?k.templateString(i.title.text,b._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(a.labelColor[t]=A(i.title.font.color)),i.title.font.family&&(a.labelFont[t]=i.title.font.family),i.title.font.size&&(a.labelSize[t]=i.title.font.size)),"showline"in i&&(a.lineEnable[t]=i.showline),"linecolor"in i&&(a.lineColor[t]=A(i.linecolor)),"linewidth"in i&&(a.lineWidth[t]=i.linewidth),"showgrid"in i&&(a.gridEnable[t]=i.showgrid),"gridcolor"in i&&(a.gridColor[t]=A(i.gridcolor)),"gridwidth"in i&&(a.gridWidth[t]=i.gridwidth),"log"===i.type?a.zeroEnable[t]=!1:"zeroline"in i&&(a.zeroEnable[t]=i.zeroline),"zerolinecolor"in i&&(a.zeroLineColor[t]=A(i.zerolinecolor)),"zerolinewidth"in i&&(a.zeroLineWidth[t]=i.zerolinewidth),a.lineTickEnable[t]=!(!("ticks"in i)||!i.ticks),"ticklen"in i&&(a.lineTickLength[t]=a._defaultLineTickLength[t]=i.ticklen),"tickcolor"in i&&(a.lineTickColor[t]=A(i.tickcolor)),"tickwidth"in i&&(a.lineTickWidth[t]=i.tickwidth),"tickangle"in i&&(a.tickAngle[t]="auto"===i.tickangle?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(a.tickEnable[t]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(a.tickColor[t]=A(i.tickfont.color)),i.tickfont.family&&(a.tickFont[t]=i.tickfont.family),i.tickfont.size&&(a.tickSize[t]=i.tickfont.size)),"mirror"in i?-1!==["ticks","all","allticks"].indexOf(i.mirror)?(a.lineTickMirror[t]=!0,a.lineMirror[t]=!0):!0===i.mirror?(a.lineTickMirror[t]=!1,a.lineMirror[t]=!0):(a.lineTickMirror[t]=!1,a.lineMirror[t]=!1):a.lineMirror[t]=!1,"showbackground"in i&&!1!==i.showbackground?(a.backgroundEnable[t]=!0,a.backgroundColor[t]=A(i.backgroundcolor)):a.backgroundEnable[t]=!1):(a.tickEnable[t]=!1,a.labelEnable[t]=!1,a.lineEnable[t]=!1,a.lineTickEnable[t]=!1,a.gridEnable[t]=!1,a.zeroEnable[t]=!1,a.backgroundEnable[t]=!1)}},ee.exports=function(b,d){var a=new T;return a.merge(b,d),a}},24682:function(ee,D,e){"use strict";var A=e(71828),k=e(7901),l=e(73972),T=e(49119),b=e(3277),d=e(65500),a=e(27659).NG,t="gl3d";function i(r,n,o,s){for(var u=o("bgcolor"),p=k.combine(u,s.paper_bgcolor),c=["up","center","eye"],x=0;x<c.length;x++)o("camera."+c[x]+".x"),o("camera."+c[x]+".y"),o("camera."+c[x]+".z");o("camera.projection.type");var g=!!o("aspectratio.x")&&!!o("aspectratio.y")&&!!o("aspectratio.z"),h=o("aspectmode",g?"manual":"auto");g||(r.aspectratio=n.aspectratio={x:1,y:1,z:1},"manual"===h&&(n.aspectmode="auto"),r.aspectmode=n.aspectmode);var y=a(s.fullData,t,s.id);b(r,n,{font:s.font,scene:s.id,data:y,bgColor:p,calendar:s.calendar,autotypenumbersDflt:s.autotypenumbersDflt,fullLayout:s.fullLayout}),l.getComponentMethod("annotations3d","handleDefaults")(r,n,s);var v=s.getDfltFromLayout("dragmode");if(!1!==v&&!v)if(v="orbit",r.camera&&r.camera.up){var m=r.camera.up.x,_=r.camera.up.y,f=r.camera.up.z;0!==f&&(m&&_&&f?f/Math.sqrt(m*m+_*_+f*f)>.999&&(v="turntable"):v="turntable")}else v="turntable";o("dragmode",v),o("hovermode",s.getDfltFromLayout("hovermode"))}ee.exports=function(r,n,o){var s=n._basePlotModules.length>1;T(r,n,o,{type:t,attributes:d,handleDefaults:i,fullLayout:n,font:n.font,fullData:o,getDfltFromLayout:function(u){if(!s)return A.validate(r[u],d[u])?r[u]:void 0},autotypenumbersDflt:n.autotypenumbers,paper_bgcolor:n.paper_bgcolor,calendar:n.calendar})}},65500:function(ee,D,e){"use strict";var A=e(77894),k=e(27670).Y,l=e(1426).extendFlat,T=e(71828).counterRegex;function b(d,a,t){return{x:{valType:"number",dflt:d,editType:"camera"},y:{valType:"number",dflt:a,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}ee.exports={_arrayAttrRegexps:[T("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:l(b(0,0,1),{}),center:l(b(0,0,0),{}),eye:l(b(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:k({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:A,yaxis:A,zaxis:A,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(ee,D,e){"use strict";var A=e(78614),k=["xaxis","yaxis","zaxis"];function l(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}l.prototype.merge=function(T){for(var b=0;b<3;++b){var d=T[k[b]];d.visible?(this.enabled[b]=d.showspikes,this.colors[b]=A(d.spikecolor),this.drawSides[b]=d.spikesides,this.lineWidth[b]=d.spikethickness):(this.enabled[b]=!1,this.drawSides[b]=!1)}},ee.exports=function(T){var b=new l;return b.merge(T),b}},96085:function(ee,D,e){"use strict";ee.exports=function(b){for(var d=b.axesOptions,a=b.glplot.axesPixels,t=b.fullSceneLayout,i=[[],[],[]],r=0;r<3;++r){var n=t[l[r]];if(n._length=(a[r].hi-a[r].lo)*a[r].pixelsPerDataUnit/b.dataScale[r],Math.abs(n._length)===1/0||isNaN(n._length))i[r]=[];else{n._input_range=n.range.slice(),n.range[0]=a[r].lo/b.dataScale[r],n.range[1]=a[r].hi/b.dataScale[r],n._m=1/(b.dataScale[r]*a[r].pixelsPerDataUnit),n.range[0]===n.range[1]&&(n.range[0]-=1,n.range[1]+=1);var o=n.tickmode;if("auto"===n.tickmode){n.tickmode="linear";var s=n.nticks||k.constrain(n._length/40,4,9);A.autoTicks(n,Math.abs(n.range[1]-n.range[0])/s)}for(var u=A.calcTicks(n,{msUTC:!0}),p=0;p<u.length;++p)u[p].x=u[p].x*b.dataScale[r],"date"===n.type&&(u[p].text=u[p].text.replace(/\<br\>/g," "));i[r]=u,n.tickmode=o}}for(d.ticks=i,r=0;r<3;++r)for(T[r]=.5*(b.glplot.bounds[0][r]+b.glplot.bounds[1][r]),p=0;p<2;++p)d.bounds[p][r]=b.glplot.bounds[p][r];b.contourLevels=function(c){for(var x=new Array(3),g=0;g<3;++g){for(var h=c[g],y=new Array(h.length),v=0;v<h.length;++v)y[v]=h[v].x;x[g]=y}return x}(i)};var A=e(89298),k=e(71828),l=["xaxis","yaxis","zaxis"],T=[0,0,0]},63538:function(ee){"use strict";function D(e,A){var k,l,T=[0,0,0,0];for(k=0;k<4;++k)for(l=0;l<4;++l)T[l]+=e[4*k+l]*A[k];return T}ee.exports=function(e,A){return D(e.projection,D(e.view,D(e.model,[A[0],A[1],A[2],1])))}},33539:function(ee,D,e){"use strict";var A,k,l=e(9330).gl_plot3d,T=l.createCamera,b=l.createScene,d=e(40372),a=e(38520),t=e(73972),i=e(71828),r=i.preserveDrawingBuffer(),n=e(89298),o=e(30211),s=e(78614),u=e(58617),p=e(63538),c=e(30422),x=e(13133),g=e(96085),h=e(71739).applyAutorangeOptions,y=!1;function v(w,E){var L=document.createElement("div"),C=w.container;this.graphDiv=w.graphDiv;var O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",O.style["z-index"]=20,O.style["pointer-events"]="none",L.appendChild(O),this.svgContainer=O,L.id=w.id,L.style.position="absolute",L.style.top=L.style.left="0px",L.style.width=L.style.height="100%",C.appendChild(L),this.fullLayout=E,this.id=w.id||"scene",this.fullSceneLayout=E[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(E,E[this.id]),this.spikeOptions=x(E[this.id]),this.container=L,this.staticMode=!!w.staticPlot,this.pixelRatio=this.pixelRatio||w.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=t.getComponentMethod("annotations3d","convert"),this.drawAnnotations=t.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var m=v.prototype;m.prepareOptions=function(){var w=this,E={canvas:w.canvas,gl:w.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:w.container,axes:w.axesOptions,spikes:w.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:w.camera,pixelRatio:w.pixelRatio};if(w.staticMode){if(!(k||(A=document.createElement("canvas"),k=d({canvas:A,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");E.gl=k,E.canvas=A}return E};var _=!0;m.tryCreatePlot=function(){var w=this,E=w.prepareOptions(),L=!0;try{w.glplot=b(E)}catch{if(w.staticMode||!_||r)L=!1;else{i.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=E.glOptions.preserveDrawingBuffer=!0,w.glplot=b(E)}catch{r=E.glOptions.preserveDrawingBuffer=!1,L=!1}}}return _=!1,L},m.initializeGLCamera=function(){var w=this,E=w.fullSceneLayout.camera;w.camera=T(w.container,{center:[E.center.x,E.center.y,E.center.z],eye:[E.eye.x,E.eye.y,E.eye.z],up:[E.up.x,E.up.y,E.up.z],_ortho:"orthographic"===E.projection.type,zoomMin:.01,zoomMax:100,mode:"orbit"})},m.initializeGLPlot=function(){var w=this;if(w.initializeGLCamera(),!w.tryCreatePlot())return u(w);w.traces={},w.make4thDimension();var E=w.graphDiv,L=E.layout,C=function(){var R={};return w.isCameraChanged(L)&&(R[w.id+".camera"]=w.getCamera()),w.isAspectChanged(L)&&(R[w.id+".aspectratio"]=w.glplot.getAspectratio(),"manual"!==L[w.id].aspectmode&&(w.fullSceneLayout.aspectmode=L[w.id].aspectmode=R[w.id+".aspectmode"]="manual")),R},O=function(R){if(!1!==R.fullSceneLayout.dragmode){var q=C();R.saveLayout(L),R.graphDiv.emit("plotly_relayout",q)}};return w.glplot.canvas&&(w.glplot.canvas.addEventListener("mouseup",function(){O(w)}),w.glplot.canvas.addEventListener("touchstart",function(){y=!0}),w.glplot.canvas.addEventListener("wheel",function(R){if(E._context._scrollZoom.gl3d){if(w.camera._ortho){var q=R.deltaX>R.deltaY?1.1:.9090909090909091,P=w.glplot.getAspectratio();w.glplot.setAspectratio({x:q*P.x,y:q*P.y,z:q*P.z})}O(w)}},!!a&&{passive:!1}),w.glplot.canvas.addEventListener("mousemove",function(){if(!1!==w.fullSceneLayout.dragmode&&0!==w.camera.mouseListener.buttons){var R=C();w.graphDiv.emit("plotly_relayouting",R)}}),w.staticMode||w.glplot.canvas.addEventListener("webglcontextlost",function(R){E&&E.emit&&E.emit("plotly_webglcontextlost",{event:R,layer:w.id})},!1)),w.glplot.oncontextloss=function(){w.recoverContext()},w.glplot.onrender=function(){w.render()},!0},m.render=function(){var w,E=this,L=E.graphDiv,C=E.svgContainer,O=E.container.getBoundingClientRect();L._fullLayout._calcInverseTransform(L);var P=O.width*L._fullLayout._invScaleX,U=O.height*L._fullLayout._invScaleY;C.setAttributeNS(null,"viewBox","0 0 "+P+" "+U),C.setAttributeNS(null,"width",P),C.setAttributeNS(null,"height",U),g(E),E.glplot.axes.update(E.axesOptions);for(var N=Object.keys(E.traces),F=null,j=E.glplot.selection,G=0;G<N.length;++G)"skip"!==(w=E.traces[N[G]]).data.hoverinfo&&w.handlePick(j)&&(F=w),w.setContourLevels&&w.setContourLevels();function te(pe,ge,Pe){var _e=E.fullSceneLayout[pe+"axis"];return"log"!==_e.type&&(ge=_e.d2l(ge)),n.hoverLabelText(_e,ge,Pe)}if(null!==F){var X,J=p(E.glplot.cameraParams,j.dataCoordinate),Y=L._fullData[(w=F.data).index],W=j.index,$={xLabel:te("x",j.traceCoordinate[0],w.xhoverformat),yLabel:te("y",j.traceCoordinate[1],w.yhoverformat),zLabel:te("z",j.traceCoordinate[2],w.zhoverformat)},ne=o.castHoverinfo(Y,E.fullLayout,W),re=(ne||"").split("+"),oe=ne&&"all"===ne;Y.hovertemplate||oe||(-1===re.indexOf("x")&&($.xLabel=void 0),-1===re.indexOf("y")&&($.yLabel=void 0),-1===re.indexOf("z")&&($.zLabel=void 0),-1===re.indexOf("text")&&(j.textLabel=void 0),-1===re.indexOf("name")&&(F.name=void 0));var ue=[];"cone"===w.type||"streamtube"===w.type?($.uLabel=te("x",j.traceCoordinate[3],w.uhoverformat),(oe||-1!==re.indexOf("u"))&&ue.push("u: "+$.uLabel),$.vLabel=te("y",j.traceCoordinate[4],w.vhoverformat),(oe||-1!==re.indexOf("v"))&&ue.push("v: "+$.vLabel),$.wLabel=te("z",j.traceCoordinate[5],w.whoverformat),(oe||-1!==re.indexOf("w"))&&ue.push("w: "+$.wLabel),$.normLabel=j.traceCoordinate[6].toPrecision(3),(oe||-1!==re.indexOf("norm"))&&ue.push("norm: "+$.normLabel),"streamtube"===w.type&&($.divergenceLabel=j.traceCoordinate[7].toPrecision(3),(oe||-1!==re.indexOf("divergence"))&&ue.push("divergence: "+$.divergenceLabel)),j.textLabel&&ue.push(j.textLabel),X=ue.join("<br>")):"isosurface"===w.type||"volume"===w.type?($.valueLabel=n.hoverLabelText(E._mockAxis,E._mockAxis.d2l(j.traceCoordinate[3]),w.valuehoverformat),ue.push("value: "+$.valueLabel),j.textLabel&&ue.push(j.textLabel),X=ue.join("<br>")):X=j.textLabel;var xe={x:j.traceCoordinate[0],y:j.traceCoordinate[1],z:j.traceCoordinate[2],data:Y._input,fullData:Y,curveNumber:Y.index,pointNumber:W};o.appendArrayPointValue(xe,Y,W),w._module.eventData&&(xe=Y._module.eventData(xe,j,Y,{},W));var Me={points:[xe]};if(E.fullSceneLayout.hovermode){var me=[];o.loneHover({trace:Y,x:(.5+.5*J[0]/J[3])*P,y:(.5-.5*J[1]/J[3])*U,xLabel:$.xLabel,yLabel:$.yLabel,zLabel:$.zLabel,text:X,name:F.name,color:o.castHoverOption(Y,W,"bgcolor")||F.color,borderColor:o.castHoverOption(Y,W,"bordercolor"),fontFamily:o.castHoverOption(Y,W,"font.family"),fontSize:o.castHoverOption(Y,W,"font.size"),fontColor:o.castHoverOption(Y,W,"font.color"),nameLength:o.castHoverOption(Y,W,"namelength"),textAlign:o.castHoverOption(Y,W,"align"),hovertemplate:i.castOption(Y,W,"hovertemplate"),hovertemplateLabels:i.extendFlat({},xe,$),eventData:[xe]},{container:C,gd:L,inOut_bbox:me}),xe.bbox=me[0]}L.emit(j.distance<5&&(j.buttons||y)?"plotly_click":"plotly_hover",Me),this.oldEventData=Me}else o.loneUnhover(C),this.oldEventData&&L.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;E.drawAnnotations(E)},m.recoverContext=function(){var w=this;w.glplot.dispose();var E=function(){w.glplot.gl.isContextLost()?requestAnimationFrame(E):w.initializeGLPlot()?w.plot.apply(w,w.plotArgs):i.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(E)};var f=["xaxis","yaxis","zaxis"];function S(w,E,L){for(var C=w.fullSceneLayout,O=0;O<3;O++){var R=f[O],q=R.charAt(0),P=C[R],U=E[q],N=E[q+"calendar"],F=E["_"+q+"length"];if(i.isArrayOrTypedArray(U))for(var j,G=0;G<(F||U.length);G++)if(i.isArrayOrTypedArray(U[G]))for(var te=0;te<U[G].length;++te)j=P.d2l(U[G][te],0,N),!isNaN(j)&&isFinite(j)&&(L[0][O]=Math.min(L[0][O],j),L[1][O]=Math.max(L[1][O],j));else j=P.d2l(U[G],0,N),!isNaN(j)&&isFinite(j)&&(L[0][O]=Math.min(L[0][O],j),L[1][O]=Math.max(L[1][O],j));else L[0][O]=Math.min(L[0][O],0),L[1][O]=Math.max(L[1][O],F-1)}}m.plot=function(w,E,L){var C=this;if(C.plotArgs=[w,E,L],!C.glplot.contextLost){var O,R,q,P,U,N,F=E[C.id],j=L[C.id];C.fullLayout=E,C.fullSceneLayout=F,C.axesOptions.merge(E,F),C.spikeOptions.merge(F),C.setViewport(F),C.updateFx(F.dragmode,F.hovermode),C.camera.enableWheel=C.graphDiv._context._scrollZoom.gl3d,C.glplot.setClearColor(s(F.bgcolor)),C.setConvert(U),w?Array.isArray(w)||(w=[w]):w=[];var G=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(q=0;q<w.length;++q)!0===(O=w[q]).visible&&0!==O._length&&S(this,O,G);!function(Ie,Fe){for(var ce=Ie.fullSceneLayout,Te=ce.annotations||[],ve=0;ve<3;ve++)for(var Ce=f[ve],Re=Ce.charAt(0),Oe=ce[Ce],je=0;je<Te.length;je++){var qe=Te[je];if(qe.visible){var Je=Oe.r2l(qe[Re]);!isNaN(Je)&&isFinite(Je)&&(Fe[0][ve]=Math.min(Fe[0][ve],Je),Fe[1][ve]=Math.max(Fe[1][ve],Je))}}}(this,G);var te=[1,1,1];for(P=0;P<3;++P)te[P]=G[1][P]===G[0][P]?1:1/(G[1][P]-G[0][P]);for(C.dataScale=te,C.convertAnnotations(this),q=0;q<w.length;++q)!0===(O=w[q]).visible&&0!==O._length&&((R=C.traces[O.uid])?R.data.type===O.type?R.update(O):(R.dispose(),R=O._module.plot(this,O),C.traces[O.uid]=R):(R=O._module.plot(this,O),C.traces[O.uid]=R),R.name=O.name);var J=Object.keys(C.traces);e:for(q=0;q<J.length;++q){for(P=0;P<w.length;++P)if(w[P].uid===J[q]&&!0===w[P].visible&&0!==w[P]._length)continue e;(R=C.traces[J[q]]).dispose(),delete C.traces[J[q]]}C.glplot.objects.sort(function(Ie,Fe){return Ie._trace.data.index-Fe._trace.data.index});var X,Y=[[0,0,0],[0,0,0]],W=[],$={};for(q=0;q<3;++q){var ne;if((N=(U=F[f[q]]).type)in $?($[N].acc*=te[q],$[N].count+=1):$[N]={acc:te[q],count:1},U.autorange){Y[0][q]=1/0,Y[1][q]=-1/0;var re=C.glplot.objects,oe=C.fullSceneLayout.annotations||[],ue=U._name.charAt(0);for(P=0;P<re.length;P++){var xe=re[P],Me=xe.bounds,me=xe._trace.data._pad||0;Y[0][q]="ErrorBars"===xe.constructor.name&&U._lowerLogErrorBound?Math.min(Y[0][q],U._lowerLogErrorBound):Math.min(Y[0][q],Me[0][q]/te[q]-me),Y[1][q]=Math.max(Y[1][q],Me[1][q]/te[q]+me)}for(P=0;P<oe.length;P++){var pe=oe[P];if(pe.visible){var ge=U.r2l(pe[ue]);Y[0][q]=Math.min(Y[0][q],ge),Y[1][q]=Math.max(Y[1][q],ge)}}if("rangemode"in U&&"tozero"===U.rangemode&&(Y[0][q]=Math.min(Y[0][q],0),Y[1][q]=Math.max(Y[1][q],0)),Y[0][q]>Y[1][q])Y[0][q]=-1,Y[1][q]=1;else{var Pe=Y[1][q]-Y[0][q];Y[0][q]-=Pe/32,Y[1][q]+=Pe/32}if(ne=h(ne=[Y[0][q],Y[1][q]],U),Y[0][q]=ne[0],Y[1][q]=ne[1],U.isReversed()){var _e=Y[0][q];Y[0][q]=Y[1][q],Y[1][q]=_e}}else Y[0][q]=U.r2l((ne=U.range)[0]),Y[1][q]=U.r2l(ne[1]);Y[0][q]===Y[1][q]&&(Y[0][q]-=1,Y[1][q]+=1),W[q]=Y[1][q]-Y[0][q],U.range=[Y[0][q],Y[1][q]],U.limitRange(),C.glplot.setBounds(q,{min:U.range[0]*te[q],max:U.range[1]*te[q]})}var we=F.aspectmode;if("cube"===we)X=[1,1,1];else if("manual"===we){var se=F.aspectratio;X=[se.x,se.y,se.z]}else{if("auto"!==we&&"data"!==we)throw new Error("scene.js aspectRatio was not one of the enumerated types");var ae=[1,1,1];for(q=0;q<3;++q){var fe=$[N=(U=F[f[q]]).type];ae[q]=Math.pow(fe.acc,1/fe.count)/te[q]}X="data"===we||Math.max.apply(null,ae)/Math.min.apply(null,ae)<=4?ae:[1,1,1]}F.aspectratio.x=j.aspectratio.x=X[0],F.aspectratio.y=j.aspectratio.y=X[1],F.aspectratio.z=j.aspectratio.z=X[2],C.glplot.setAspectratio(F.aspectratio),C.viewInitial.aspectratio||(C.viewInitial.aspectratio={x:F.aspectratio.x,y:F.aspectratio.y,z:F.aspectratio.z}),C.viewInitial.aspectmode||(C.viewInitial.aspectmode=F.aspectmode);var Ee=F.domain||null,ke=E._size||null;if(Ee&&ke){var be=C.container.style;be.position="absolute",be.left=ke.l+Ee.x[0]*ke.w+"px",be.top=ke.t+(1-Ee.y[1])*ke.h+"px",be.width=ke.w*(Ee.x[1]-Ee.x[0])+"px",be.height=ke.h*(Ee.y[1]-Ee.y[0])+"px"}C.glplot.redraw()}},m.destroy=function(){var w=this;w.glplot&&(w.camera.mouseListener.enabled=!1,w.container.removeEventListener("wheel",w.camera.wheelListener),w.camera=null,w.glplot.dispose(),w.container.parentNode.removeChild(w.container),w.glplot=null)},m.getCamera=function(){var w,E=this;return E.camera.view.recalcMatrix(E.camera.view.lastT()),{up:{x:(w=E.camera).up[0],y:w.up[1],z:w.up[2]},center:{x:w.center[0],y:w.center[1],z:w.center[2]},eye:{x:w.eye[0],y:w.eye[1],z:w.eye[2]},projection:{type:!0===w._ortho?"orthographic":"perspective"}}},m.setViewport=function(w){var E,L=this,C=w.camera;L.camera.lookAt.apply(this,[[(E=C).eye.x,E.eye.y,E.eye.z],[E.center.x,E.center.y,E.center.z],[E.up.x,E.up.y,E.up.z]]),L.glplot.setAspectratio(w.aspectratio),"orthographic"===C.projection.type!==L.camera._ortho&&(L.glplot.redraw(),L.glplot.clearRGBA(),L.glplot.dispose(),L.initializeGLPlot())},m.isCameraChanged=function(w){var E=this.getCamera(),L=i.nestedProperty(w,this.id+".camera").get();var P,U,N,F,j,G,O=!1;if(void 0===L)O=!0;else{for(var R=0;R<3;R++)for(var q=0;q<3;q++)if(P=E,F=q,j=void 0,G=void 0,G=["x","y","z"],!(U=L)[(j=["up","center","eye"])[N=R]]||P[j[N]][G[F]]!==U[j[N]][G[F]]){O=!0;break}(!L.projection||E.projection&&E.projection.type!==L.projection.type)&&(O=!0)}return O},m.isAspectChanged=function(w){var E=this.glplot.getAspectratio(),L=i.nestedProperty(w,this.id+".aspectratio").get();return void 0===L||L.x!==E.x||L.y!==E.y||L.z!==E.z},m.saveLayout=function(w){var E,L,C,O,R,q,P=this,U=P.fullLayout,N=P.isCameraChanged(w),F=P.isAspectChanged(w),j=N||F;if(j){var G={};N&&(E=P.getCamera(),C=(L=i.nestedProperty(w,P.id+".camera")).get(),G[P.id+".camera"]=C),F&&(O=P.glplot.getAspectratio(),q=(R=i.nestedProperty(w,P.id+".aspectratio")).get(),G[P.id+".aspectratio"]=q),t.call("_storeDirectGUIEdit",w,U._preGUI,G),N&&(L.set(E),i.nestedProperty(U,P.id+".camera").set(E)),F&&(R.set(O),i.nestedProperty(U,P.id+".aspectratio").set(O),P.glplot.redraw())}return j},m.updateFx=function(w,E){var L=this,C=L.camera;if(C)if("orbit"===w)C.mode="orbit",C.keyBindingMode="rotate";else if("turntable"===w){C.up=[0,0,1],C.mode="turntable",C.keyBindingMode="rotate";var O=L.graphDiv,R=O._fullLayout,q=L.fullSceneLayout.camera,P=q.up.x,U=q.up.y,N=q.up.z;if(N/Math.sqrt(P*P+U*U+N*N)<.999){var F=L.id+".camera.up",j={x:0,y:0,z:1},G={};G[F]=j;var te=O.layout;t.call("_storeDirectGUIEdit",te,R._preGUI,G),q.up=j,i.nestedProperty(te,F).set(j)}}else C.keyBindingMode=w;L.fullSceneLayout.hovermode=E},m.toImage=function(w){var E=this;w||(w="png"),E.staticMode&&E.container.appendChild(A),E.glplot.redraw();var L=E.glplot.gl,C=L.drawingBufferWidth,O=L.drawingBufferHeight;L.bindFramebuffer(L.FRAMEBUFFER,null);var R=new Uint8Array(C*O*4);L.readPixels(0,0,C,O,L.RGBA,L.UNSIGNED_BYTE,R),function(F,j,G){for(var te=0,J=G-1;te<J;++te,--J)for(var X=0;X<j;++X)for(var Y=0;Y<4;++Y){var W=4*(j*te+X)+Y,$=4*(j*J+X)+Y,ne=F[W];F[W]=F[$],F[$]=ne}}(R,C,O),function(F,j,G){for(var te=0;te<G;++te)for(var J=0;J<j;++J){var X=4*(j*te+J),Y=F[X+3];if(Y>0)for(var W=255/Y,$=0;$<3;++$)F[X+$]=Math.min(W*F[X+$],255)}}(R,C,O);var q=document.createElement("canvas");q.width=C,q.height=O;var P,U=q.getContext("2d",{willReadFrequently:!0}),N=U.createImageData(C,O);switch(N.data.set(R),U.putImageData(N,0,0),w){case"jpeg":P=q.toDataURL("image/jpeg");break;case"webp":P=q.toDataURL("image/webp");break;default:P=q.toDataURL("image/png")}return E.staticMode&&E.container.removeChild(A),P},m.setConvert=function(){for(var w=0;w<3;w++){var E=this.fullSceneLayout[f[w]];n.setConvert(E,this.fullLayout),E.setScale=i.noop}},m.make4thDimension=function(){var w=this,E=w.graphDiv._fullLayout;w._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},n.setConvert(w._mockAxis,E)},ee.exports=v},90060:function(ee){"use strict";ee.exports=function(D,e,A,k){k=k||D.length;for(var l=new Array(k),T=0;T<k;T++)l[T]=[D[T],e[T],A[T]];return l}},10820:function(ee,D,e){"use strict";var A=e(41940),k=e(85594),l=e(22399),T=e(29241),b=e(53777),d=e(35025),a=e(1426).extendFlat,t=A({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=l.defaultLine,ee.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:A({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:a(d({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:l.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:l.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:l.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:T.newshape,activeshape:T.activeshape,newselection:b.newselection,activeselection:b.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:a({},k.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:A({editType:"layoutstyle"})}}},77734:function(ee,D,e){"use strict";var A=e(78607),k="1.10.1",l='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',T=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',l].join(" "),b=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),d={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:l,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:T,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:T,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:b,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:b,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},a=A(d);ee.exports={requiredVersion:k,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:d,styleValuesNonMapbox:a,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+k+"."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",a.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},13056:function(ee,D,e){"use strict";var A=e(71828);ee.exports=function(k,l){var T=k.split(" "),b=T[0],d=T[1],a=A.isArrayOrTypedArray(l)?A.mean(l):l,t=.5+a/100,i=1.5+a/100,r=["",""],n=[0,0];switch(b){case"top":r[0]="top",n[1]=-i;break;case"bottom":r[0]="bottom",n[1]=i}switch(d){case"left":r[1]="right",n[0]=-t;break;case"right":r[1]="left",n[0]=t}return{anchor:r[0]&&r[1]?r.join("-"):r[0]?r[0]:r[1]?r[1]:"center",offset:n}}},50101:function(ee,D,e){"use strict";var A=e(44517),k=e(71828),l=k.strTranslate,T=k.strScale,b=e(27659).AU,d=e(77922),a=e(39898),t=e(91424),i=e(63893),r=e(10481),n="mapbox",o=D.constants=e(77734);function s(u){return"string"==typeof u&&(-1!==o.styleValuesMapbox.indexOf(u)||0===u.indexOf("mapbox://"))}D.name=n,D.attr="subplot",D.idRoot=n,D.idRegex=D.attrRegex=k.counterRegex(n),D.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},D.layoutAttributes=e(23585),D.supplyLayoutDefaults=e(77882),D.plot=function(u){var p=u._fullLayout,c=u.calcdata,x=p._subplots[n];if(A.version!==o.requiredVersion)throw new Error(o.wrongVersionErrorMsg);var g=function(f,S){var w=f._fullLayout;if(""===f._context.mapboxAccessToken)return"";for(var E=[],L=[],C=!1,O=!1,R=0;R<S.length;R++){var q=w[S[R]],P=q.accesstoken;s(q.style)&&(P?k.pushUnique(E,P):(s(q._input.style)&&(k.error("Uses Mapbox map style, but did not set an access token."),C=!0),O=!0)),P&&k.pushUnique(L,P)}if(O){var U=C?o.noAccessTokenErrorMsg:o.missingStyleErrorMsg;throw k.error(U),new Error(U)}return E.length?(E.length>1&&k.warn(o.multipleTokensErrorMsg),E[0]):(L.length&&k.log(["Listed mapbox access token(s)",L.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(u,x);A.accessToken=g;for(var h=0;h<x.length;h++){var y=x[h],v=b(c,n,y),m=p[y],_=m._subplot;_||(_=new r(u,y),p[y]._subplot=_),_.viewInitial||(_.viewInitial={center:k.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),_.plot(v,p,u._promises)}},D.clean=function(u,p,c,x){for(var g=x._subplots[n]||[],h=0;h<g.length;h++){var y=g[h];!p[y]&&x[y]._subplot&&x[y]._subplot.destroy()}},D.toSVG=function(u){for(var p=u._fullLayout,c=p._subplots[n],x=p._size,g=0;g<c.length;g++){var h=p[c[g]],y=h.domain,v=h._subplot.toImage("png");p._glimages.append("svg:image").attr({xmlns:d.svg,"xlink:href":v,x:x.l+x.w*y.x[0],y:x.t+x.h*(1-y.y[1]),width:x.w*(y.x[1]-y.x[0]),height:x.h*(y.y[1]-y.y[0]),preserveAspectRatio:"none"});var m=a.select(h._subplot.div);if(null!==m.select(".mapboxgl-ctrl-logo").node().offsetParent){var _=p._glimages.append("g");_.attr("transform",l(x.l+x.w*y.x[0]+10,x.t+x.h*(1-y.y[0])-31)),_.append("path").attr("d",o.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),_.append("path").attr("d",o.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),_.append("path").attr("d",o.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),_.append("polygon").attr("points",o.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var f=m.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),S=p._glimages.append("g"),w=S.append("text");w.text(f).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":f});var E=t.bBox(w.node()),L=x.w*(y.x[1]-y.x[0]);if(E.width>L/2){var C=f.split("|").join("<br>");w.text(C).attr("data-unformatted",C).call(i.convertToTspans,u),E=t.bBox(w.node())}w.attr("transform",l(-3,8-E.height)),S.insert("rect",".static-attribution").attr({x:-E.width-6,y:-E.height-3,width:E.width+6,height:E.height+3,fill:"rgba(255, 255, 255, 0.75)"});var O=1;E.width+6>L&&(O=L/(E.width+6));var R=[x.l+x.w*y.x[1],x.t+x.h*(1-y.y[0])];S.attr("transform",l(R[0],R[1])+T(O))}},D.updateFx=function(u){for(var p=u._fullLayout,c=p._subplots[n],x=0;x<c.length;x++)p[c[x]]._subplot.updateFx(p)}},67911:function(ee,D,e){"use strict";var A=e(71828),k=e(63893).sanitizeHTML,l=e(13056),T=e(77734);function b(i,r){this.subplot=i,this.uid=i.uid+"-"+r,this.index=r,this.idSource="source-"+this.uid,this.idLayer=T.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var d=b.prototype;function a(i){if(!i.visible)return!1;var r=i.source;if(Array.isArray(r)&&r.length>0){for(var n=0;n<r.length;n++)if("string"!=typeof r[n]||0===r[n].length)return!1;return!0}return A.isPlainObject(r)||"string"==typeof r&&r.length>0}function t(i){var r={},n={};switch(i.type){case"circle":A.extendFlat(n,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":A.extendFlat(n,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":A.extendFlat(n,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var o=i.symbol,s=l(o.textposition,o.iconsize);A.extendFlat(r,{"icon-image":o.icon+"-15","icon-size":o.iconsize/10,"text-field":o.text,"text-size":o.textfont.size,"text-anchor":s.anchor,"text-offset":s.offset,"symbol-placement":o.placement}),A.extendFlat(n,{"icon-color":i.color,"text-color":o.textfont.color,"text-opacity":i.opacity});break;case"raster":A.extendFlat(n,{"raster-fade-duration":0,"raster-opacity":i.opacity})}return{layout:r,paint:n}}d.update=function(i){this.visible?this.needsNewImage(i)?this.updateImage(i):this.needsNewSource(i)?(this.removeLayer(),this.updateSource(i),this.updateLayer(i)):this.needsNewLayer(i)?this.updateLayer(i):this.updateStyle(i):(this.updateSource(i),this.updateLayer(i)),this.visible=a(i)},d.needsNewImage=function(i){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===i.sourcetype&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},d.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},d.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},d.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},d.updateImage=function(i){this.subplot.map.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var r=this.findFollowingMapboxLayerId(this.lookupBelow());null!==r&&this.subplot.map.moveLayer(this.idLayer,r)},d.updateSource=function(i){var o,s,u,p,c,r=this.subplot.map;if(r.getSource(this.idSource)&&r.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,a(i)){var n=(p=(o=i).source,c={type:u=o.sourcetype},"geojson"===u?s="data":"vector"===u?s="string"==typeof p?"url":"tiles":"raster"===u?(s="tiles",c.tileSize=256):"image"===u&&(s="url",c.coordinates=o.coordinates),c[s]=p,o.sourceattribution&&(c.attribution=k(o.sourceattribution)),c);r.addSource(this.idSource,n)}},d.findFollowingMapboxLayerId=function(i){if("traces"===i)for(var r=this.subplot.getMapLayers(),n=0;n<r.length;n++){var o=r[n].id;if("string"==typeof o&&0===o.indexOf(T.traceLayerPrefix)){i=o;break}}return i},d.updateLayer=function(i){var r=this.subplot,n=t(i),o=this.lookupBelow(),s=this.findFollowingMapboxLayerId(o);this.removeLayer(),a(i)&&r.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:n.layout,paint:n.paint},s),this.layerType=i.type,this.below=o},d.updateStyle=function(i){if(a(i)){var r=t(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",r.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",r.paint)}},d.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},d.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)},ee.exports=function(i,r,n){var o=new b(i,r);return o.update(n),o}},23585:function(ee,D,e){"use strict";var A=e(71828),k=e(7901).defaultLine,l=e(27670).Y,T=e(41940),b=e(82196).textposition,d=e(30962).overrideAll,a=e(44467).templatedArray,t=e(77734),i=T({});i.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(ee.exports=d({_arrayAttrRegexps:[A.counterRegex("mapbox",".layers",!0)],domain:l({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:a("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:k},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:k}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:i,textposition:A.extendFlat({},b,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(ee,D,e){"use strict";var A=e(71828),k=e(49119),l=e(85501),T=e(23585);function b(a,t,i,r){i("accesstoken",r.accessToken),i("style"),i("center.lon"),i("center.lat"),i("zoom"),i("bearing"),i("pitch");var n=i("bounds.west"),o=i("bounds.east"),s=i("bounds.south"),u=i("bounds.north");void 0!==n&&void 0!==o&&void 0!==s&&void 0!==u||delete t.bounds,l(a,t,{name:"layers",handleItemDefaults:d}),t._input=a}function d(a,t){function i(u,p){return A.coerce(a,t,T.layers,u,p)}if(i("visible")){var r,n=i("sourcetype"),o="raster"===n||"image"===n;i("source"),i("sourceattribution"),"vector"===n&&i("sourcelayer"),"image"===n&&i("coordinates"),o&&(r="raster");var s=i("type",r);o&&"raster"!==s&&(s=t.type="raster",A.log("Source types *raster* and *image* must drawn *raster* layer type.")),i("below"),i("color"),i("opacity"),i("minzoom"),i("maxzoom"),"circle"===s&&i("circle.radius"),"line"===s&&(i("line.width"),i("line.dash")),"fill"===s&&i("fill.outlinecolor"),"symbol"===s&&(i("symbol.icon"),i("symbol.iconsize"),i("symbol.text"),A.coerceFont(i,"symbol.textfont"),i("symbol.textposition"),i("symbol.placement"))}}ee.exports=function(a,t,i){k(a,t,i,{type:"mapbox",attributes:T,handleDefaults:b,partition:"y",accessToken:t._mapboxAccessToken})}},10481:function(ee,D,e){"use strict";var A=e(44517),k=e(71828),l=e(41327),T=e(73972),b=e(89298),d=e(28569),a=e(30211),t=e(64505),i=t.drawMode,r=t.selectMode,n=e(47322).prepSelect,o=e(47322).clearOutline,s=e(47322).clearSelectionsCache,u=e(47322).selectOnClick,p=e(77734),c=e(67911);function x(_,f){this.id=f,this.gd=_;var S=_._fullLayout,w=_._context;this.container=S._glcontainer.node(),this.isStatic=w.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var g=x.prototype;g.plot=function(_,f,S){var w,E=this;E.map&&f[E.id].accesstoken!==E.accessToken&&(E.map.remove(),E.map=null,E.styleObj=null,E.traceHash={},E.layerList=[]),w=new Promise(E.map?function(C,O){E.updateMap(_,f,C,O)}:function(C,O){E.createMap(_,f,C,O)}),S.push(w)},g.createMap=function(_,f,S,w){var E=this,L=f[E.id],C=E.styleObj=y(L.style);E.accessToken=L.accesstoken;var O=L.bounds,R=O?[[O.west,O.south],[O.east,O.north]]:null,q=E.map=new A.Map({container:E.div,style:C.style,center:m(L.center),zoom:L.zoom,bearing:L.bearing,pitch:L.pitch,maxBounds:R,interactive:!E.isStatic,preserveDrawingBuffer:E.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new A.AttributionControl({compact:!0}));q._canvas.style.left="0px",q._canvas.style.top="0px",E.rejectOnError(w),E.isStatic||E.initFx(_,f);var P=[];P.push(new Promise(function(U){q.once("load",U)})),P=P.concat(l.fetchTraceGeoData(_)),Promise.all(P).then(function(){E.fillBelowLookup(_,f),E.updateData(_),E.updateLayout(f),E.resolveOnRender(S)}).catch(w)},g.updateMap=function(_,f,S,w){var E=this,L=E.map,C=f[this.id];E.rejectOnError(w);var O=[],R=y(C.style);JSON.stringify(E.styleObj)!==JSON.stringify(R)&&(E.styleObj=R,L.setStyle(R.style),E.traceHash={},O.push(new Promise(function(q){L.once("styledata",q)}))),O=O.concat(l.fetchTraceGeoData(_)),Promise.all(O).then(function(){E.fillBelowLookup(_,f),E.updateData(_),E.updateLayout(f),E.resolveOnRender(S)}).catch(w)},g.fillBelowLookup=function(_,f){var S,w,E=f[this.id].layers,L=this.belowLookup={},C=!1;for(S=0;S<_.length;S++){var O=_[S][0].trace,R=O._module;"string"==typeof O.below?w=O.below:R.getBelow&&(w=R.getBelow(O,this)),""===w&&(C=!0),L["trace-"+O.uid]=w||""}for(S=0;S<E.length;S++){var q=E[S];L["layout-"+S]=w="string"==typeof q.below?q.below:C?"traces":""}var P,U,N={};for(P in L)N[w=L[P]]?N[w].push(P):N[w]=[P];for(w in N){var F=N[w];if(F.length>1)for(S=0;S<F.length;S++)0===(P=F[S]).indexOf("trace-")?(U=P.split("trace-")[1],this.traceHash[U]&&(this.traceHash[U].below=null)):0===P.indexOf("layout-")&&(U=P.split("layout-")[1],this.layerList[U]&&(this.layerList[U].below=null))}};var h={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function y(_){var f={};return k.isPlainObject(_)?(f.id=_.id,f.style=_):"string"==typeof _?(f.id=_,f.style=-1!==p.styleValuesMapbox.indexOf(_)?v(_):p.stylesNonMapbox[_]?p.stylesNonMapbox[_]:_):(f.id=p.styleValueDflt,f.style=v(p.styleValueDflt)),f.transition={duration:0,delay:0},f}function v(_){return p.styleUrlPrefix+_+"-"+p.styleUrlSuffix}function m(_){return[_.lon,_.lat]}g.updateData=function(_){var f,S,w,E,L=this.traceHash,C=_.slice().sort(function(U,N){return h[U[0].trace.type]-h[N[0].trace.type]});for(w=0;w<C.length;w++){var O=C[w],R=!1;(f=L[(S=O[0].trace).uid])&&(f.type===S.type?(f.update(O),R=!0):f.dispose()),!R&&S._module&&(L[S.uid]=S._module.plot(this,O))}var q=Object.keys(L);e:for(w=0;w<q.length;w++){var P=q[w];for(E=0;E<_.length;E++)if(P===(S=_[E][0].trace).uid)continue e;(f=L[P]).dispose(),delete L[P]}},g.updateLayout=function(_){var f=this.map,S=_[this.id];this.dragging||this.wheeling||(f.setCenter(m(S.center)),f.setZoom(S.zoom),f.setBearing(S.bearing),f.setPitch(S.pitch)),this.updateLayers(_),this.updateFramework(_),this.updateFx(_),this.map.resize(),this.gd._context._scrollZoom.mapbox?f.scrollZoom.enable():f.scrollZoom.disable()},g.resolveOnRender=function(_){var f=this.map;f.on("render",function S(){f.loaded()&&(f.off("render",S),setTimeout(_,10))})},g.rejectOnError=function(_){var f=this.map;function S(){_(new Error(p.mapOnErrorMsg))}f.once("error",S),f.once("style.error",S),f.once("source.error",S),f.once("tile.error",S),f.once("layer.error",S)},g.createFramework=function(_){var f=this,S=f.div=document.createElement("div");S.id=f.uid,S.style.position="absolute",f.container.appendChild(S),f.xaxis={_id:"x",c2p:function(w){return f.project(w).x}},f.yaxis={_id:"y",c2p:function(w){return f.project(w).y}},f.updateFramework(_),f.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},b.setConvert(f.mockAxis,_)},g.initFx=function(_,f){var S=this,w=S.gd,E=S.map;function L(){a.loneUnhover(f._hoverlayer)}function C(){var O=S.getView();w.emit("plotly_relayouting",S.getViewEditsWithDerived(O))}E.on("moveend",function(O){if(S.map){var R=w._fullLayout;if(O.originalEvent||S.wheeling){var q=R[S.id];T.call("_storeDirectGUIEdit",w.layout,R._preGUI,S.getViewEdits(q));var P=S.getView();q._input.center=q.center=P.center,q._input.zoom=q.zoom=P.zoom,q._input.bearing=q.bearing=P.bearing,q._input.pitch=q.pitch=P.pitch,w.emit("plotly_relayout",S.getViewEditsWithDerived(P))}O.originalEvent&&"mouseup"===O.originalEvent.type?S.dragging=!1:S.wheeling&&(S.wheeling=!1),R._rehover&&R._rehover()}}),E.on("wheel",function(){S.wheeling=!0}),E.on("mousemove",function(O){var R=S.div.getBoundingClientRect(),q=[O.originalEvent.offsetX,O.originalEvent.offsetY];O.target.getBoundingClientRect=function(){return R},S.xaxis.p2c=function(){return E.unproject(q).lng},S.yaxis.p2c=function(){return E.unproject(q).lat},w._fullLayout._rehover=function(){w._fullLayout._hoversubplot===S.id&&w._fullLayout[S.id]&&a.hover(w,O,S.id)},a.hover(w,O,S.id),w._fullLayout._hoversubplot=S.id}),E.on("dragstart",function(){S.dragging=!0,L()}),E.on("zoomstart",L),E.on("mouseout",function(){w._fullLayout._hoversubplot=null}),E.on("drag",C),E.on("zoom",C),E.on("dblclick",function(){var O=w._fullLayout[S.id];T.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,S.getViewEdits(O));var R=S.viewInitial;E.setCenter(m(R.center)),E.setZoom(R.zoom),E.setBearing(R.bearing),E.setPitch(R.pitch);var q=S.getView();O._input.center=O.center=q.center,O._input.zoom=O.zoom=q.zoom,O._input.bearing=O.bearing=q.bearing,O._input.pitch=O.pitch=q.pitch,w.emit("plotly_doubleclick",null),w.emit("plotly_relayout",S.getViewEditsWithDerived(q))}),S.clearOutline=function(){s(S.dragOptions),o(S.dragOptions.gd)},S.onClickInPanFn=function(O){return function(R){var q=w._fullLayout.clickmode;q.indexOf("select")>-1&&u(R.originalEvent,w,[S.xaxis],[S.yaxis],S.id,O),q.indexOf("event")>-1&&a.click(w,R.originalEvent)}}},g.updateFx=function(_){var f=this,S=f.map;if(!f.isStatic){var L=_.dragmode;f.dragOptions=k.extendDeep(f.dragOptions||{},{dragmode:_.dragmode,element:f.div,gd:f.gd,plotinfo:{id:f.id,domain:_[f.id].domain,xaxis:f.xaxis,yaxis:f.yaxis,fillRangeItems:function(R,q){q.isRect?(R.range={})[f.id]=[O([q.xmin,q.ymin]),O([q.xmax,q.ymax])]:(R.lassoPoints={})[f.id]=q.map(O)}},xaxes:[f.xaxis],yaxes:[f.yaxis],subplot:f.id}),S.off("click",f.onClickInPanHandler),r(L)||i(L)?(S.dragPan.disable(),S.on("zoomstart",f.clearOutline),f.dragOptions.prepFn=function(R,q,P){n(R,q,P,f.dragOptions,L)},d.init(f.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",f.clearOutline),f.div.onmousedown=null,f.div.ontouchstart=null,f.div.removeEventListener("touchstart",f.div._ontouchstart),f.onClickInPanHandler=f.onClickInPanFn(f.dragOptions),S.on("click",f.onClickInPanHandler))}function O(R){var q=f.map.unproject(R);return[q.lng,q.lat]}},g.updateFramework=function(_){var f=_[this.id].domain,S=_._size,w=this.div.style;w.width=S.w*(f.x[1]-f.x[0])+"px",w.height=S.h*(f.y[1]-f.y[0])+"px",w.left=S.l+f.x[0]*S.w+"px",w.top=S.t+(1-f.y[1])*S.h+"px",this.xaxis._offset=S.l+f.x[0]*S.w,this.xaxis._length=S.w*(f.x[1]-f.x[0]),this.yaxis._offset=S.t+(1-f.y[1])*S.h,this.yaxis._length=S.h*(f.y[1]-f.y[0])},g.updateLayers=function(_){var f,S=_[this.id].layers,w=this.layerList;if(S.length!==w.length){for(f=0;f<w.length;f++)w[f].dispose();for(w=this.layerList=[],f=0;f<S.length;f++)w.push(c(this,f,S[f]))}else for(f=0;f<S.length;f++)w[f].update(S[f])},g.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},g.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},g.setOptions=function(_,f,S){for(var w in S)this.map[f](_,w,S[w])},g.getMapLayers=function(){return this.map.getStyle().layers},g.addLayer=function(_,f){var S=this.map;if("string"==typeof f){if(""===f)return void S.addLayer(_,f);for(var w=this.getMapLayers(),E=0;E<w.length;E++)if(f===w[E].id)return void S.addLayer(_,f);k.warn(["Trying to add layer with *below* value",f,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(_)},g.project=function(_){return this.map.project(new A.LngLat(_[0],_[1]))},g.getView=function(){var _=this.map,f=_.getCenter(),S={lon:f.lng,lat:f.lat},w=_.getCanvas(),E=parseInt(w.style.width),L=parseInt(w.style.height);return{center:S,zoom:_.getZoom(),bearing:_.getBearing(),pitch:_.getPitch(),_derived:{coordinates:[_.unproject([0,0]).toArray(),_.unproject([E,0]).toArray(),_.unproject([E,L]).toArray(),_.unproject([0,L]).toArray()]}}},g.getViewEdits=function(_){for(var f=this.id,S=["center","zoom","bearing","pitch"],w={},E=0;E<S.length;E++){var L=S[E];w[f+"."+L]=_[L]}return w},g.getViewEditsWithDerived=function(_){var f=this.id,S=this.getViewEdits(_);return S[f+"._derived"]=_._derived,S},ee.exports=x},35025:function(ee){"use strict";ee.exports=function(D){var e=D.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(ee,D,e){"use strict";var A=e(39898),k=e(84096).Dq,l=e(60721).FF,T=e(92770),b=e(73972),d=e(86281),a=e(44467),t=e(71828),i=e(7901),r=e(50606).BADNUM,n=e(41675),o=e(51873).clearOutline,s=e(21479),u=e(85594),p=e(31391),c=e(27659).a0,x=t.relinkPrivateKeys,g=t._,h=ee.exports={};t.extendFlat(h,b),h.attributes=e(9012),h.attributes.type.values=h.allTypes,h.fontAttrs=e(41940),h.layoutAttributes=e(10820),h.fontWeight="normal";var y=h.transformsRegistry,v=e(31137);h.executeAPICommand=v.executeAPICommand,h.computeAPICommandBindings=v.computeAPICommandBindings,h.manageCommandObserver=v.manageCommandObserver,h.hasSimpleAPICommandBindings=v.hasSimpleAPICommandBindings,h.redrawText=function(N){return N=t.getGraphDiv(N),new Promise(function(F){setTimeout(function(){N._fullLayout&&(b.getComponentMethod("annotations","draw")(N),b.getComponentMethod("legend","draw")(N),b.getComponentMethod("colorbar","draw")(N),F(h.previousPromises(N)))},300)})},h.resize=function(N){var F;N=t.getGraphDiv(N);var j=new Promise(function(G,te){N&&!t.isHidden(N)||te(new Error("Resize must be passed a displayed plot div element.")),N._redrawTimer&&clearTimeout(N._redrawTimer),N._resolveResize&&(F=N._resolveResize),N._resolveResize=G,N._redrawTimer=setTimeout(function(){if(!N.layout||N.layout.width&&N.layout.height||t.isHidden(N))G(N);else{delete N.layout.width,delete N.layout.height;var J=N.changed;N.autoplay=!0,b.call("relayout",N,{autosize:!0}).then(function(){N.changed=J,N._resolveResize===G&&(delete N._resolveResize,G(N))})}},100)});return F&&F(j),j},h.previousPromises=function(N){if((N._promises||[]).length)return Promise.all(N._promises).then(function(){N._promises=[]})},h.addLinks=function(N){if(N._context.showLink||N._context.showSources){var F=N._fullLayout,j=t.ensureSingle(F._paper,"text","js-plot-link-container",function(W){W.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:i.defaultLine,"pointer-events":"all"}).each(function(){var $=A.select(this);$.append("tspan").classed("js-link-to-tool",!0),$.append("tspan").classed("js-link-spacer",!0),$.append("tspan").classed("js-sourcelinks",!0)})}),G=j.node(),te={y:F._paper.attr("height")-9};document.body.contains(G)&&G.getComputedTextLength()>=F.width-20?(te["text-anchor"]="start",te.x=5):(te["text-anchor"]="end",te.x=F._paper.attr("width")-7),j.attr(te);var J=j.select(".js-link-to-tool"),X=j.select(".js-link-spacer"),Y=j.select(".js-sourcelinks");N._context.showSources&&N._context.showSources(N),N._context.showLink&&function(W,$){$.text("");var ne=$.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(W._context.linkText+" "+String.fromCharCode(187));if(W._context.sendData)ne.on("click",function(){h.sendDataToCloud(W)});else{var re=window.location.pathname.split("/"),oe=window.location.search;ne.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+re[2].split(".")[0]+"/"+re[1]+oe})}}(N,J),X.text(J.text()&&Y.text()?" - ":"")}},h.sendDataToCloud=function(N){var F=(window.PLOTLYENV||{}).BASE_URL||N._context.plotlyServerURL;if(F){N.emit("plotly_beforeexport");var j=A.select(N).append("div").attr("id","hiddenform").style("display","none"),G=j.append("form").attr({action:F+"/external",method:"post",target:"_blank"});return G.append("input").attr({type:"text",name:"data"}).node().value=h.graphJson(N,!1,"keepdata"),G.node().submit(),j.remove(),N.emit("plotly_afterexport"),!1}};var m=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],_=["year","month","dayMonth","dayMonthYear"];function f(N,F){var j=N._context.locale;j||(j="en-US");var G=!1,te={};function J(re){for(var oe=!0,ue=0;ue<F.length;ue++){var xe=F[ue];te[xe]||(re[xe]?te[xe]=re[xe]:oe=!1)}oe&&(G=!0)}for(var X=0;X<2;X++){for(var Y=N._context.locales,W=0;W<2;W++){var $=(Y[j]||{}).format;if($&&(J($),G))break;Y=b.localeRegistry}var ne=j.split("-")[0];if(G||ne===j)break;j=ne}return G||J(b.localeRegistry.en.format),te}function S(N,F){var j={_fullLayout:F},G="x"===N._id.charAt(0),te=N._mainAxis._anchorAxis,J="",X="",Y="";if(te&&(Y=te._mainAxis._id,J=G?N._id+Y:Y+N._id),!J||!F._plots[J]){J="";for(var W=N._counterAxes,$=0;$<W.length;$++){var ne=W[$],re=G?N._id+ne:ne+N._id;X||(X=re);var oe=n.getFromId(j,ne);if(Y&&oe.overlaying===Y){J=re;break}}}return J||X}function w(N){var F=N.transforms;if(Array.isArray(F)&&F.length)for(var j=0;j<F.length;j++){var G=F[j],te=G._module||y[G.type];if(te&&te.makesData)return!0}return!1}function E(N,F,j,G){for(var te=N.transforms,J=[N],X=0;X<te.length;X++){var Y=te[X],W=y[Y.type];W&&W.transform&&(J=W.transform(J,{transform:Y,fullTrace:N,fullData:F,layout:j,fullLayout:G,transformIndex:X}))}return J}function L(N){return"string"==typeof N&&"px"===N.substr(N.length-2)&&parseFloat(N)}function C(N){var F=N.margin;if(!N._size){var j=N._size={l:Math.round(F.l),r:Math.round(F.r),t:Math.round(F.t),b:Math.round(F.b),p:Math.round(F.pad)};j.w=Math.round(N.width)-j.l-j.r,j.h=Math.round(N.height)-j.t-j.b}N._pushmargin||(N._pushmargin={}),N._pushmarginIds||(N._pushmarginIds={}),N._reservedMargin||(N._reservedMargin={})}h.supplyDefaults=function(N,F){var Re,Oe,j=F&&F.skipUpdateCalc,G=N._fullLayout||{};if(G._skipDefaults)delete G._skipDefaults;else{var te,J=N._fullLayout={},X=N.layout||{},Y=N._fullData||[],W=N._fullData=[],$=N.data||[],ne=N.calcdata||[],re=N._context||{};N._transitionData||h.createTransitionData(N),J._dfltTitle={plot:g(N,"Click to enter Plot title"),x:g(N,"Click to enter X axis title"),y:g(N,"Click to enter Y axis title"),colorbar:g(N,"Click to enter Colorscale title"),annotation:g(N,"new text")},J._traceWord=g(N,"trace");var oe=f(N,m);if(J._mapboxAccessToken=re.mapboxAccessToken,G._initialAutoSizeIsDone){var ue=G.width,xe=G.height;h.supplyLayoutGlobalDefaults(X,J,oe),X.width||(J.width=ue),X.height||(J.height=xe),h.sanitizeMargins(J)}else{h.supplyLayoutGlobalDefaults(X,J,oe);var Me=!X.width||!X.height,me=J.autosize;Me&&(me||re.autosizable)?h.plotAutoSize(N,X,J):Me&&h.sanitizeMargins(J),!me&&Me&&(X.width=J.width,X.height=J.height)}J._d3locale=((Re=oe).decimal=(Oe=J.separators).charAt(0),Re.thousands=Oe.charAt(1),{numberFormat:function(je){try{je=l(Re).format(t.adjustFormat(je))}catch{return t.warnBadFormat(je),t.noFormat}return je},timeFormat:k(Re).utcFormat}),J._extraFormat=f(N,_),J._initialAutoSizeIsDone=!0,J._dataLength=$.length,J._modules=[],J._visibleModules=[],J._basePlotModules=[];var ge=J._subplots=function(){var Re,Oe,je=b.collectableSubplotTypes,qe={};if(!je){je=[];var Je=b.subplotsRegistry;for(var it in Je){var Qe=Je[it].attr;if(Qe&&(je.push(it),Array.isArray(Qe)))for(Oe=0;Oe<Qe.length;Oe++)t.pushUnique(je,Qe[Oe])}}for(Re=0;Re<je.length;Re++)qe[je[Re]]=[];return qe}(),Pe=J._splomAxes={x:{},y:{}},_e=J._splomSubplots={};J._splomGridDflt={},J._scatterStackOpts={},J._firstScatter={},J._alignmentOpts={},J._colorAxes={},J._requestRangeslider={},J._traceUids=function(Re,Oe){var je,qe,Je=Oe.length,it=[];for(je=0;je<Re.length;je++){var Qe=Re[je]._fullInput;Qe!==qe&&it.push(Qe),qe=Qe}var dt=it.length,yt=new Array(Je),mt={};function at(At,Pt){yt[Pt]=At,mt[At]=1}function st(At,Pt){if(At&&"string"==typeof At&&!mt[At])return at(At,Pt),!0}for(je=0;je<Je;je++){var Tt=Oe[je].uid;"number"==typeof Tt&&(Tt=String(Tt)),st(Tt,je)||je<dt&&st(it[je].uid,je)||at(t.randstr(mt),je)}return yt}(Y,$),J._globalTransforms=(N._context||{}).globalTransforms,h.supplyDataDefaults($,W,X,J);var we=Object.keys(Pe.x),se=Object.keys(Pe.y);if(we.length>1&&se.length>1){for(b.getComponentMethod("grid","sizeDefaults")(X,J),te=0;te<we.length;te++)t.pushUnique(ge.xaxis,we[te]);for(te=0;te<se.length;te++)t.pushUnique(ge.yaxis,se[te]);for(var ae in _e)t.pushUnique(ge.cartesian,ae)}if(J._has=h._hasPlotType.bind(J),Y.length===W.length)for(te=0;te<W.length;te++)x(W[te],Y[te]);h.supplyLayoutModuleDefaults(X,J,W,N._transitionData);var fe=J._visibleModules,Ee=[];for(te=0;te<fe.length;te++){var ke=fe[te].crossTraceDefaults;ke&&t.pushUnique(Ee,ke)}for(te=0;te<Ee.length;te++)Ee[te](W,J);J._hasOnlyLargeSploms=1===J._basePlotModules.length&&"splom"===J._basePlotModules[0].name&&we.length>15&&se.length>15&&0===J.shapes.length&&0===J.images.length,h.linkSubplots(W,J,Y,G),h.cleanPlot(W,J,Y,G);var be=!(!G._has||!G._has("gl2d")),Ie=!(!J._has||!J._has("gl2d")),Fe=!(!G._has||!G._has("cartesian"))||be,ce=!(!J._has||!J._has("cartesian"))||Ie;Fe&&!ce?G._bgLayer.remove():ce&&!Fe&&(J._shouldCreateBgLayer=!0),G._zoomlayer&&!N._dragging&&o({_fullLayout:G}),function(Re,Oe){var je,qe=[];Oe.meta&&(je=Oe._meta={meta:Oe.meta,layout:{meta:Oe.meta}});for(var Je=0;Je<Re.length;Je++){var it=Re[Je];it.meta?qe[it.index]=it._meta={meta:it.meta}:Oe.meta&&(it._meta={meta:Oe.meta}),Oe.meta&&(it._meta.layout={meta:Oe.meta})}qe.length&&(je||(je=Oe._meta={}),je.data=qe)}(W,J),x(J,G),b.getComponentMethod("colorscale","crossTraceDefaults")(W,J),J._preGUI||(J._preGUI={}),J._tracePreGUI||(J._tracePreGUI={});var Te,ve=J._tracePreGUI,Ce={};for(Te in ve)Ce[Te]="old";for(te=0;te<W.length;te++)Ce[Te=W[te]._fullInput.uid]||(ve[Te]={}),Ce[Te]="new";for(Te in Ce)"old"===Ce[Te]&&delete ve[Te];C(J),b.getComponentMethod("rangeslider","makeData")(J),j||ne.length!==W.length||h.supplyDefaultsUpdateCalc(ne,W)}},h.supplyDefaultsUpdateCalc=function(N,F){for(var j=0;j<F.length;j++){var G=F[j],te=(N[j]||[])[0];if(te&&te.trace){var J=te.trace;if(J._hasCalcTransform){var X,Y,W,$=J._arrayAttrs;for(X=0;X<$.length;X++)W=t.nestedProperty(J,Y=$[X]).get().slice(),t.nestedProperty(G,Y).set(W)}te.trace=G}}},h.createTransitionData=function(N){N._transitionData||(N._transitionData={}),N._transitionData._frames||(N._transitionData._frames=[]),N._transitionData._frameHash||(N._transitionData._frameHash={}),N._transitionData._counter||(N._transitionData._counter=0),N._transitionData._interruptCallbacks||(N._transitionData._interruptCallbacks=[])},h._hasPlotType=function(N){var F,j=this._basePlotModules||[];for(F=0;F<j.length;F++)if(j[F].name===N)return!0;var G=this._modules||[];for(F=0;F<G.length;F++){var te=G[F].name;if(te===N)return!0;var J=b.modules[te];if(J&&J.categories[N])return!0}return!1},h.cleanPlot=function(N,F,j,G){var te,J,X=G._basePlotModules||[];for(te=0;te<X.length;te++){var Y=X[te];Y.clean&&Y.clean(N,F,j,G)}var W=G._has&&G._has("gl"),$=F._has&&F._has("gl");W&&!$&&void 0!==G._glcontainer&&(G._glcontainer.selectAll(".gl-canvas").remove(),G._glcontainer.selectAll(".no-webgl").remove(),G._glcanvas=null);var ne=!!G._infolayer;e:for(te=0;te<j.length;te++){var re=j[te].uid;for(J=0;J<N.length;J++)if(re===N[J].uid)continue e;ne&&G._infolayer.select(".cb"+re).remove()}},h.linkSubplots=function(N,F,j,G){var te,J,X=G._plots||{},Y=F._plots={},W=F._subplots,$={_fullData:N,_fullLayout:F},ne=W.cartesian.concat(W.gl2d||[]);for(te=0;te<ne.length;te++){var re,oe=ne[te],ue=X[oe],xe=n.getFromId($,oe,"x"),Me=n.getFromId($,oe,"y");for(ue?re=Y[oe]=ue:(re=Y[oe]={}).id=oe,xe._counterAxes.push(Me._id),Me._counterAxes.push(xe._id),xe._subplotsWith.push(oe),Me._subplotsWith.push(oe),re.xaxis=xe,re.yaxis=Me,re._hasClipOnAxisFalse=!1,J=0;J<N.length;J++){var me=N[J];if(me.xaxis===re.xaxis._id&&me.yaxis===re.yaxis._id&&!1===me.cliponaxis){re._hasClipOnAxisFalse=!0;break}}}var pe,ge=n.list($,null,!0);for(te=0;te<ge.length;te++){var Pe=null;(pe=ge[te]).overlaying&&(Pe=n.getFromId($,pe.overlaying))&&Pe.overlaying&&(pe.overlaying=!1,Pe=null),pe._mainAxis=Pe||pe,Pe&&(pe.domain=Pe.domain.slice()),pe._anchorAxis="free"===pe.anchor?null:n.getFromId($,pe.anchor)}for(te=0;te<ge.length;te++)if((pe=ge[te])._counterAxes.sort(n.idSort),pe._subplotsWith.sort(t.subplotSort),pe._mainSubplot=S(pe,F),pe._counterAxes.length&&(pe.spikemode&&-1!==pe.spikemode.indexOf("across")||pe.automargin&&pe.mirror&&"free"!==pe.anchor||b.getComponentMethod("rangeslider","isVisible")(pe))){var _e=1,we=0;for(J=0;J<pe._counterAxes.length;J++){var se=n.getFromId($,pe._counterAxes[J]);_e=Math.min(_e,se.domain[0]),we=Math.max(we,se.domain[1])}_e<we&&(pe._counterDomainMin=_e,pe._counterDomainMax=we)}},h.clearExpandedTraceDefaultColors=function(N){var F,j,G;for(j=[],(F=N._module._colorAttrs)||(N._module._colorAttrs=F=[],d.crawl(N._module.attributes,function(te,J,X,Y){j[Y]=J,j.length=Y+1,"color"===te.valType&&void 0===te.dflt&&F.push(j.join("."))})),G=0;G<F.length;G++)t.nestedProperty(N,"_input."+F[G]).get()||t.nestedProperty(N,F[G]).set(null)},h.supplyDataDefaults=function(N,F,j,G){var te,J,X,Y=G._modules,W=G._visibleModules,$=G._basePlotModules,ne=0,re=0;function oe(ae){F.push(ae);var fe=ae._module;fe&&(t.pushUnique(Y,fe),!0===ae.visible&&t.pushUnique(W,fe),t.pushUnique($,ae._module.basePlotModule),ne++,!1!==ae._input.visible&&re++)}G._transformModules=[];var ue={},xe=[],me=a.traceTemplater((j.template||{}).data||{});for(te=0;te<N.length;te++){if((J=me.newTrace(X=N[te])).uid=G._traceUids[te],h.supplyTraceDefaults(X,J,re,G,te),J.index=te,J._input=X,J._expandedIndex=ne,J.transforms&&J.transforms.length)for(var pe=!1!==X.visible&&!1===J.visible,ge=E(J,F,j,G),Pe=0;Pe<ge.length;Pe++){var _e=ge[Pe],we={_template:J._template,type:J.type,uid:J.uid+Pe};pe&&!1===_e.visible&&delete _e.visible,h.supplyTraceDefaults(_e,we,ne,G,te),x(we,_e),we.index=te,we._input=X,we._fullInput=J,we._expandedIndex=ne,we._expandedInput=_e,oe(we)}else J._fullInput=J,J._expandedInput=J,oe(J);b.traceIs(J,"carpetAxis")&&(ue[J.carpet]=J),b.traceIs(J,"carpetDependent")&&xe.push(te)}for(te=0;te<xe.length;te++)if((J=F[xe[te]]).visible){var se=ue[J.carpet];J._carpet=se,se&&se.visible?(J.xaxis=se.xaxis,J.yaxis=se.yaxis):J.visible=!1}},h.supplyAnimationDefaults=function(N){var F;N=N||{};var j={};function G(te,J){return t.coerce(N||{},j,u,te,J)}if(G("mode"),G("direction"),G("fromcurrent"),Array.isArray(N.frame))for(j.frame=[],F=0;F<N.frame.length;F++)j.frame[F]=h.supplyAnimationFrameDefaults(N.frame[F]||{});else j.frame=h.supplyAnimationFrameDefaults(N.frame||{});if(Array.isArray(N.transition))for(j.transition=[],F=0;F<N.transition.length;F++)j.transition[F]=h.supplyAnimationTransitionDefaults(N.transition[F]||{});else j.transition=h.supplyAnimationTransitionDefaults(N.transition||{});return j},h.supplyAnimationFrameDefaults=function(N){var F={};function j(G,te){return t.coerce(N||{},F,u.frame,G,te)}return j("duration"),j("redraw"),F},h.supplyAnimationTransitionDefaults=function(N){var F={};function j(G,te){return t.coerce(N||{},F,u.transition,G,te)}return j("duration"),j("easing"),F},h.supplyFrameDefaults=function(N){var F={};function j(G,te){return t.coerce(N,F,p,G,te)}return j("group"),j("name"),j("traces"),j("baseframe"),j("data"),j("layout"),F},h.supplyTraceDefaults=function(N,F,j,G,te){var J,X=G.colorway||i.defaults,Y=X[j%X.length];function W(ge,Pe){return t.coerce(N,F,h.attributes,ge,Pe)}var $=W("visible");W("type"),W("name",G._traceWord+" "+te),W("uirevision",G.uirevision);var ne=h.getModule(F);if(F._module=ne,ne){var re=ne.basePlotModule,oe=re.attr,ue=re.attributes;if(oe&&ue){var xe=G._subplots,Me="";if($||"gl2d"!==re.name){if(Array.isArray(oe))for(J=0;J<oe.length;J++){var me=oe[J],pe=t.coerce(N,F,ue,me);xe[me]&&t.pushUnique(xe[me],pe),Me+=pe}else Me=t.coerce(N,F,ue,oe);xe[re.name]&&t.pushUnique(xe[re.name],Me)}}}return $&&(W("customdata"),W("ids"),W("meta"),b.traceIs(F,"showLegend")?(t.coerce(N,F,ne.attributes.showlegend?ne.attributes:h.attributes,"showlegend"),W("legend"),W("legendwidth"),W("legendgroup"),W("legendgrouptitle.text"),W("legendrank"),F._dfltShowLegend=!0):F._dfltShowLegend=!1,ne&&ne.supplyDefaults(N,F,Y,G),b.traceIs(F,"noOpacity")||W("opacity"),b.traceIs(F,"notLegendIsolatable")&&(F.visible=!!F.visible),b.traceIs(F,"noHover")||(F.hovertemplate||t.coerceHoverinfo(N,F,G),"parcats"!==F.type&&b.getComponentMethod("fx","supplyDefaults")(N,F,Y,G)),ne&&ne.selectPoints&&W("selectedpoints"),h.supplyTransformDefaults(N,F,G)),F},h.hasMakesDataTransform=w,h.supplyTransformDefaults=function(N,F,j){if(F._length||w(N)){var G=j._globalTransforms||[],te=j._transformModules||[];if(Array.isArray(N.transforms)||0!==G.length)for(var X=G.concat(N.transforms||[]),Y=F.transforms=[],W=0;W<X.length;W++){var $,ne=X[W],re=ne.type,oe=y[re],ue=!(ne._module&&ne._module===oe),xe=oe&&"function"==typeof oe.transform;oe||t.warn("Unrecognized transform type "+re+"."),oe&&oe.supplyDefaults&&(ue||xe)?(($=oe.supplyDefaults(ne,F,j,N)).type=re,$._module=oe,t.pushUnique(te,oe)):$=t.extendFlat({},ne),Y.push($)}}},h.supplyLayoutGlobalDefaults=function(N,F,j){function G(ne,re){return t.coerce(N,F,h.layoutAttributes,ne,re)}var te=N.template;t.isPlainObject(te)&&(F.template=te,F._template=te.layout,F._dataTemplate=te.data),G("autotypenumbers");var J=t.coerceFont(G,"font");t.coerceFont(G,"title.font",t.extendFlat({},J,{size:Math.round(1.4*J.size)})),G("title.text",F._dfltTitle.plot),G("title.xref");var Y=G("title.yref");G("title.pad.t"),G("title.pad.r"),G("title.pad.b"),G("title.pad.l");var W=G("title.automargin");G("title.x"),G("title.xanchor"),G("title.y"),G("title.yanchor"),W&&("paper"===Y&&(0!==F.title.y&&(F.title.y=1),"auto"===F.title.yanchor&&(F.title.yanchor=0===F.title.y?"top":"bottom")),"container"===Y&&("auto"===F.title.y&&(F.title.y=1),"auto"===F.title.yanchor&&(F.title.yanchor=F.title.y<.5?"bottom":"top"))),G("uniformtext.mode")&&G("uniformtext.minsize"),G("autosize",!(N.width&&N.height)),G("width"),G("height"),G("minreducedwidth"),G("minreducedheight"),G("margin.l"),G("margin.r"),G("margin.t"),G("margin.b"),G("margin.pad"),G("margin.autoexpand"),N.width&&N.height&&h.sanitizeMargins(F),b.getComponentMethod("grid","sizeDefaults")(N,F),G("paper_bgcolor"),G("separators",j.decimal+j.thousands),G("hidesources"),G("colorway"),G("datarevision");var $=G("uirevision");G("editrevision",$),G("selectionrevision",$),b.getComponentMethod("modebar","supplyLayoutDefaults")(N,F),b.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(N,F,G),b.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(N,F,G),G("meta"),t.isPlainObject(N.transition)&&(G("transition.duration"),G("transition.easing"),G("transition.ordering")),b.getComponentMethod("calendars","handleDefaults")(N,F,"calendar"),b.getComponentMethod("fx","supplyLayoutGlobalDefaults")(N,F,G),t.coerce(N,F,s,"scattermode")},h.plotAutoSize=function(N,F,j){var G,te,J=N._context||{},X=J.frameMargins,Y=t.isPlotDiv(N);if(Y&&N.emit("plotly_autosize"),J.fillFrame)G=window.innerWidth,te=window.innerHeight,document.body.style.overflow="hidden";else{var W=Y?window.getComputedStyle(N):{};if(G=L(W.width)||L(W.maxWidth)||j.width,te=L(W.height)||L(W.maxHeight)||j.height,T(X)&&X>0){var $=1-2*X;G=Math.round($*G),te=Math.round($*te)}}var ne=h.layoutAttributes.width.min,re=h.layoutAttributes.height.min;G<ne&&(G=ne),te<re&&(te=re);var oe=!F.width&&Math.abs(j.width-G)>1,ue=!F.height&&Math.abs(j.height-te)>1;(ue||oe)&&(oe&&(j.width=G),ue&&(j.height=te)),N._initialAutoSize||(N._initialAutoSize={width:G,height:te}),h.sanitizeMargins(j)},h.supplyLayoutModuleDefaults=function(N,F,j,G){var te,J,X,Y=b.componentsRegistry,W=F._basePlotModules,$=b.subplotsRegistry.cartesian;for(te in Y)(X=Y[te]).includeBasePlot&&X.includeBasePlot(N,F);for(var ne in W.length||W.push($),F._has("cartesian")&&(b.getComponentMethod("grid","contentDefaults")(N,F),$.finalizeSubplots(N,F)),F._subplots)F._subplots[ne].sort(t.subplotSort);for(J=0;J<W.length;J++)(X=W[J]).supplyLayoutDefaults&&X.supplyLayoutDefaults(N,F,j);var re=F._modules;for(J=0;J<re.length;J++)(X=re[J]).supplyLayoutDefaults&&X.supplyLayoutDefaults(N,F,j);var oe=F._transformModules;for(J=0;J<oe.length;J++)(X=oe[J]).supplyLayoutDefaults&&X.supplyLayoutDefaults(N,F,j,G);for(te in Y)(X=Y[te]).supplyLayoutDefaults&&X.supplyLayoutDefaults(N,F,j)},h.purge=function(N){var F=N._fullLayout||{};void 0!==F._glcontainer&&(F._glcontainer.selectAll(".gl-canvas").remove(),F._glcontainer.remove(),F._glcanvas=null),F._modeBar&&F._modeBar.destroy(),N._transitionData&&(N._transitionData._interruptCallbacks&&(N._transitionData._interruptCallbacks.length=0),N._transitionData._animationRaf&&window.cancelAnimationFrame(N._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(N),delete N.data,delete N.layout,delete N._fullData,delete N._fullLayout,delete N.calcdata,delete N.empty,delete N.fid,delete N.undoqueue,delete N.undonum,delete N.autoplay,delete N.changed,delete N._promises,delete N._redrawTimer,delete N._hmlumcount,delete N._hmpixcount,delete N._transitionData,delete N._transitioning,delete N._initialAutoSize,delete N._transitioningWithDuration,delete N._dragging,delete N._dragged,delete N._dragdata,delete N._hoverdata,delete N._snapshotInProgress,delete N._editing,delete N._mouseDownTime,delete N._legendMouseDownTime,N.removeAllListeners&&N.removeAllListeners()},h.style=function(N){var F,j=N._fullLayout._visibleModules,G=[];for(F=0;F<j.length;F++){var te=j[F];te.style&&t.pushUnique(G,te.style)}for(F=0;F<G.length;F++)G[F](N)},h.sanitizeMargins=function(N){if(N&&N.margin){var F,j=N.width,G=N.height,te=N.margin,X=G-(te.t+te.b);j-(te.l+te.r)<0&&(F=(j-1)/(te.l+te.r),te.l=Math.floor(F*te.l),te.r=Math.floor(F*te.r)),X<0&&(F=(G-1)/(te.t+te.b),te.t=Math.floor(F*te.t),te.b=Math.floor(F*te.b))}},h.clearAutoMarginIds=function(N){N._fullLayout._pushmarginIds={}},h.allowAutoMargin=function(N,F){N._fullLayout._pushmarginIds[F]=1},h.autoMargin=function(N,F,j){var G=N._fullLayout,te=G.width,J=G.height,X=G.margin,W=G.minreducedheight,$=t.constrain(te-X.l-X.r,2,G.minreducedwidth),ne=t.constrain(J-X.t-X.b,2,W),re=Math.max(0,te-$),oe=Math.max(0,J-ne),ue=G._pushmargin,xe=G._pushmarginIds;if(!1!==X.autoexpand){if(j){var Me=j.pad;if(void 0===Me&&(Me=Math.min(12,X.l,X.r,X.t,X.b)),re){var me=(j.l+j.r)/re;me>1&&(j.l/=me,j.r/=me)}if(oe){var pe=(j.t+j.b)/oe;pe>1&&(j.t/=pe,j.b/=pe)}ue[F]={l:{val:void 0!==j.xl?j.xl:j.x,size:j.l+Me},r:{val:void 0!==j.xr?j.xr:j.x,size:j.r+Me},b:{val:void 0!==j.yb?j.yb:j.y,size:j.b+Me},t:{val:void 0!==j.yt?j.yt:j.y,size:j.t+Me}},xe[F]=1}else delete ue[F],delete xe[F];if(!G._replotting)return h.doAutoMargin(N)}},h.doAutoMargin=function(N){var F=N._fullLayout,j=F.width,G=F.height;F._size||(F._size={}),C(F);var te=F._size,J=F.margin,X={t:0,b:0,l:0,r:0},Y=t.extendFlat({},te),W=J.l,$=J.r,ne=J.t,re=J.b,oe=F._pushmargin,ue=F._pushmarginIds,xe=F.minreducedwidth,Me=F.minreducedheight;if(!1!==J.autoexpand){for(var me in oe)ue[me]||delete oe[me];var pe=N._fullLayout._reservedMargin;for(var ge in pe)for(var Pe in pe[ge])X[Pe]=Math.max(X[Pe],pe[ge][Pe]);for(var we in oe.base={l:{val:0,size:W},r:{val:1,size:$},t:{val:1,size:ne},b:{val:0,size:re}},X){var se=0;for(var ae in oe)"base"!==ae&&T(oe[ae][we].size)&&(se=oe[ae][we].size>se?oe[ae][we].size:se);var fe=Math.max(0,J[we]-se);X[we]=Math.max(0,X[we]-fe)}for(var Ee in oe){var ke=oe[Ee].l||{},be=oe[Ee].b||{},Ie=ke.val,Fe=ke.size,ce=be.val,Te=be.size,ve=j-X.r-X.l,Ce=G-X.t-X.b;for(var Re in oe){if(T(Fe)&&oe[Re].r){var Oe=oe[Re].r.val,je=oe[Re].r.size;if(Oe>Ie){var qe=(Fe*Oe+(je-ve)*Ie)/(Oe-Ie),Je=(je*(1-Ie)+(Fe-ve)*(1-Oe))/(Oe-Ie);qe+Je>W+$&&(W=qe,$=Je)}}if(T(Te)&&oe[Re].t){var it=oe[Re].t.val,Qe=oe[Re].t.size;if(it>ce){var dt=(Te*it+(Qe-Ce)*ce)/(it-ce),yt=(Qe*(1-ce)+(Te-Ce)*(1-it))/(it-ce);dt+yt>re+ne&&(re=dt,ne=yt)}}}}}var Xe,mt=t.constrain(j-J.l-J.r,2,xe),at=t.constrain(G-J.t-J.b,2,Me),st=Math.max(0,j-mt),Tt=Math.max(0,G-at);if(st){var At=(W+$)/st;At>1&&(W/=At,$/=At)}if(Tt){var Pt=(re+ne)/Tt;Pt>1&&(re/=Pt,ne/=Pt)}if(te.l=Math.round(W)+X.l,te.r=Math.round($)+X.r,te.t=Math.round(ne)+X.t,te.b=Math.round(re)+X.b,te.p=Math.round(J.pad),te.w=Math.round(j)-te.l-te.r,te.h=Math.round(G)-te.t-te.b,!F._replotting&&(h.didMarginChange(Y,te)||function(Ze){if("_redrawFromAutoMarginCount"in Ze._fullLayout)return!1;var Xe=n.list(Ze,"",!0);for(var He in Xe)if(Xe[He].autoshift||Xe[He].shift)return!0;return!1}(N))){"_redrawFromAutoMarginCount"in F?F._redrawFromAutoMarginCount++:F._redrawFromAutoMarginCount=1;var kt=3*(1+Object.keys(ue).length);if(F._redrawFromAutoMarginCount<kt)return b.call("_doPlot",N);F._size=Y,t.warn("Too many auto-margin redraws.")}Xe=n.list(N,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(He){for(var We=0;We<Xe.length;We++){var rt=Xe[We][He];rt&&rt()}})};var O=["l","r","t","b","p","w","h"];function R(N,F,j){var G=!1,J=t.syncOrAsync([h.previousPromises,function(){if(N._transitionData)return N._transitioning=!1,function(X){var Y=Promise.resolve();if(!X)return Y;for(;X.length;)Y=Y.then(X.shift());return Y}(N._transitionData._interruptCallbacks)},j.prepareFn,h.rehover,h.reselect,function(){return N.emit("plotly_transitioning",[]),new Promise(function(X){N._transitioning=!0,F.duration>0&&(N._transitioningWithDuration=!0),N._transitionData._interruptCallbacks.push(function(){G=!0}),j.redraw&&N._transitionData._interruptCallbacks.push(function(){return b.call("redraw",N)}),N._transitionData._interruptCallbacks.push(function(){N.emit("plotly_transitioninterrupted",[])});var Y=0,W=0;function $(){return Y++,function(){var ne;W++,G||W!==Y||(ne=X,N._transitionData&&(function(re){if(re)for(;re.length;)re.shift()}(N._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(j.redraw)return b.call("redraw",N)}).then(function(){N._transitioning=!1,N._transitioningWithDuration=!1,N.emit("plotly_transitioned",[])}).then(ne)))}}j.runFn($),setTimeout($())})}],N);return J&&J.then||(J=Promise.resolve()),J.then(function(){return N})}h.didMarginChange=function(N,F){for(var j=0;j<O.length;j++){var G=O[j],te=N[G],J=F[G];if(!T(te)||Math.abs(J-te)>1)return!0}return!1},h.graphJson=function(N,F,j,G,te,J){(te&&F&&!N._fullData||te&&!F&&!N._fullLayout)&&h.supplyDefaults(N);var Y=te?N._fullLayout:N.layout,W=(N._transitionData||{})._frames;function $(oe,ue){if("function"==typeof oe)return ue?"_function_":null;if(t.isPlainObject(oe)){var xe,Me={};return Object.keys(oe).sort().forEach(function(me){if(-1===["_","["].indexOf(me.charAt(0)))if("function"!=typeof oe[me]){if("keepdata"===j){if("src"===me.substr(me.length-3))return}else if("keepstream"===j){if("string"==typeof(xe=oe[me+"src"])&&xe.indexOf(":")>0&&!t.isPlainObject(oe.stream))return}else if("keepall"!==j&&"string"==typeof(xe=oe[me+"src"])&&xe.indexOf(":")>0)return;Me[me]=$(oe[me],ue)}else ue&&(Me[me]="_function")}),Me}return Array.isArray(oe)?oe.map(function(me){return $(me,ue)}):t.isTypedArray(oe)?t.simpleMap(oe,t.identity):t.isJSDate(oe)?t.ms2DateTimeLocal(+oe):oe}var ne={data:((te?N._fullData:N.data)||[]).map(function(oe){var ue=$(oe);return F&&delete ue.fit,ue})};if(!F&&(ne.layout=$(Y),te)){var re=Y._size;ne.layout.computed={margin:{b:re.b,l:re.l,r:re.r,t:re.t}}}return W&&(ne.frames=$(W)),J&&(ne.config=$(N._context,!0)),"object"===G?ne:JSON.stringify(ne)},h.modifyFrames=function(N,F){var j,G,te,J=N._transitionData._frames,X=N._transitionData._frameHash;for(j=0;j<F.length;j++)switch((G=F[j]).type){case"replace":var Y=(J[G.index]||{}).name,W=(te=G.value).name;J[G.index]=X[W]=te,W!==Y&&(delete X[Y],X[W]=te);break;case"insert":X[(te=G.value).name]=te,J.splice(G.index,0,te);break;case"delete":delete X[(te=J[G.index]).name],J.splice(G.index,1)}return Promise.resolve()},h.computeFrame=function(N,F){var j,G,te,J,X=N._transitionData._frameHash;if(!F)throw new Error("computeFrame must be given a string frame name");var Y=X[F.toString()];if(!Y)return!1;for(var W=[Y],$=[Y.name];Y.baseframe&&(Y=X[Y.baseframe.toString()])&&-1===$.indexOf(Y.name);)W.push(Y),$.push(Y.name);for(var ne={};Y=W.pop();)if(Y.layout&&(ne.layout=h.extendLayout(ne.layout,Y.layout)),Y.data){if(ne.data||(ne.data=[]),!(G=Y.traces))for(G=[],j=0;j<Y.data.length;j++)G[j]=j;for(ne.traces||(ne.traces=[]),j=0;j<Y.data.length;j++)null!=(te=G[j])&&(-1===(J=ne.traces.indexOf(te))&&(ne.traces[J=ne.data.length]=te),ne.data[J]=h.extendTrace(ne.data[J],Y.data[j]))}return ne},h.recomputeFrameHash=function(N){for(var F=N._transitionData._frameHash={},j=N._transitionData._frames,G=0;G<j.length;G++){var te=j[G];te&&te.name&&(F[te.name]=te)}},h.extendObjectWithContainers=function(N,F,j){var G,te,J,X,Y,W,$,ne=t.extendDeepNoArrays({},F||{}),re=t.expandObjectPaths(ne),oe={};if(j&&j.length)for(J=0;J<j.length;J++)void 0===(te=(G=t.nestedProperty(re,j[J])).get())?t.nestedProperty(oe,j[J]).set(null):(G.set(null),t.nestedProperty(oe,j[J]).set(te));if(N=t.extendDeepNoArrays(N||{},re),j&&j.length)for(J=0;J<j.length;J++)if(W=t.nestedProperty(oe,j[J]).get()){for($=(Y=t.nestedProperty(N,j[J])).get(),Array.isArray($)||Y.set($=[]),X=0;X<W.length;X++){var ue=W[X];$[X]=null===ue?null:h.extendObjectWithContainers($[X],ue)}Y.set($)}return N},h.dataArrayContainers=["transforms","dimensions"],h.layoutArrayContainers=b.layoutArrayContainers,h.extendTrace=function(N,F){return h.extendObjectWithContainers(N,F,h.dataArrayContainers)},h.extendLayout=function(N,F){return h.extendObjectWithContainers(N,F,h.layoutArrayContainers)},h.transition=function(N,F,j,G,te,J){var X={redraw:te.redraw},Y={},W=[];return X.prepareFn=function(){for(var $=Array.isArray(F)?F.length:0,ne=G.slice(0,$),re=0;re<ne.length;re++){var oe=ne[re],ue=N._fullData[oe]._module;if(ue){if(ue.animatable){var xe=ue.basePlotModule.name;Y[xe]||(Y[xe]=[]),Y[xe].push(oe)}N.data[ne[re]]=h.extendTrace(N.data[ne[re]],F[re])}}var Me=t.expandObjectPaths(t.extendDeepNoArrays({},j)),me=/^[xy]axis[0-9]*$/;for(var pe in Me)me.test(pe)&&delete Me[pe].range;h.extendLayout(N.layout,Me),delete N.calcdata,h.supplyDefaults(N),h.doCalcdata(N);var ge=t.expandObjectPaths(j);if(ge){var Pe=N._fullLayout._plots;for(var _e in Pe){var we=Pe[_e],se=we.xaxis,ae=we.yaxis,fe=se.range.slice(),Ee=ae.range.slice(),ke=null,be=null,Ie=null,Fe=null;Array.isArray(ge[se._name+".range"])?ke=ge[se._name+".range"].slice():Array.isArray((ge[se._name]||{}).range)&&(ke=ge[se._name].range.slice()),Array.isArray(ge[ae._name+".range"])?be=ge[ae._name+".range"].slice():Array.isArray((ge[ae._name]||{}).range)&&(be=ge[ae._name].range.slice()),fe&&ke&&(se.r2l(fe[0])!==se.r2l(ke[0])||se.r2l(fe[1])!==se.r2l(ke[1]))&&(Ie={xr0:fe,xr1:ke}),Ee&&be&&(ae.r2l(Ee[0])!==ae.r2l(be[0])||ae.r2l(Ee[1])!==ae.r2l(be[1]))&&(Fe={yr0:Ee,yr1:be}),(Ie||Fe)&&W.push(t.extendFlat({plotinfo:we},Ie,Fe))}}return Promise.resolve()},X.runFn=function($){var ne,re,oe=N._fullLayout._basePlotModules,ue=W.length;if(j)for(re=0;re<oe.length;re++)oe[re].transitionAxes&&oe[re].transitionAxes(N,W,J,$);for(var xe in ue?((ne=t.extendFlat({},J)).duration=0,delete Y.cartesian):ne=J,Y){var Me=Y[xe];N._fullData[Me[0]]._module.basePlotModule.plot(N,Me,ne,$)}},R(N,J,X)},h.transitionFromReact=function(N,F,j,G){var te=N._fullLayout,J=te.transition,X={},Y=[];return X.prepareFn=function(){var W=te._plots;for(var $ in X.redraw=!1,"some"===F.anim&&(X.redraw=!0),"some"===j.anim&&(X.redraw=!0),W){var ne=W[$],re=ne.xaxis,oe=ne.yaxis,ue=G[re._name].range.slice(),xe=G[oe._name].range.slice(),Me=re.range.slice(),me=oe.range.slice();re.setScale(),oe.setScale();var pe=null,ge=null;re.r2l(ue[0])===re.r2l(Me[0])&&re.r2l(ue[1])===re.r2l(Me[1])||(pe={xr0:ue,xr1:Me}),oe.r2l(xe[0])===oe.r2l(me[0])&&oe.r2l(xe[1])===oe.r2l(me[1])||(ge={yr0:xe,yr1:me}),(pe||ge)&&Y.push(t.extendFlat({plotinfo:ne},pe,ge))}return Promise.resolve()},X.runFn=function(W){for(var $,ne,re,oe=N._fullData,ue=N._fullLayout._basePlotModules,xe=[],Me=0;Me<oe.length;Me++)xe.push(Me);function me(){if(N._fullLayout)for(var ge=0;ge<ue.length;ge++)ue[ge].transitionAxes&&ue[ge].transitionAxes(N,Y,$,W)}function pe(){if(N._fullLayout)for(var ge=0;ge<ue.length;ge++)ue[ge].plot(N,re,ne,W)}Y.length&&F.anim?"traces first"===J.ordering?($=t.extendFlat({},J,{duration:0}),re=xe,ne=J,setTimeout(me,J.duration),pe()):($=J,re=null,ne=t.extendFlat({},J,{duration:0}),setTimeout(pe,$.duration),me()):Y.length?($=J,me()):F.anim&&(re=xe,ne=J,pe())},R(N,J,X)},h.doCalcdata=function(N,F){var j,G,te,J,X=n.list(N),Y=N._fullData,W=N._fullLayout,$=new Array(Y.length),ne=(N.calcdata||[]).slice();for(N.calcdata=$,W._numBoxes=0,W._numViolins=0,W._violinScaleGroupStats={},N._hmpixcount=0,N._hmlumcount=0,W._piecolormap={},W._sunburstcolormap={},W._treemapcolormap={},W._iciclecolormap={},W._funnelareacolormap={},te=0;te<Y.length;te++)Array.isArray(F)&&-1===F.indexOf(te)&&($[te]=ne[te]);for(te=0;te<Y.length;te++)(j=Y[te])._arrayAttrs=d.findArrayAttributes(j),j._extremes={};var re=W._subplots.polar||[];for(te=0;te<re.length;te++)X.push(W[re[te]].radialaxis,W[re[te]].angularaxis);for(var oe in W._colorAxes){var ue=W[oe];!1!==ue.cauto&&(delete ue.cmin,delete ue.cmax)}var xe=!1;function Me(ge){if(G=(j=Y[ge])._module,!0===j.visible&&j.transforms){if(G&&G.calc){var Pe=G.calc(N,j);Pe[0]&&Pe[0].t&&Pe[0].t._scene&&delete Pe[0].t._scene.dirty}for(J=0;J<j.transforms.length;J++){var _e=j.transforms[J];(G=y[_e.type])&&G.calcTransform&&(j._hasCalcTransform=!0,xe=!0,G.calcTransform(N,j,_e))}}}function me(ge,Pe){if(!!(G=(j=Y[ge])._module).isContainer===Pe){var _e=[];if(!0===j.visible&&0!==j._length){delete j._indexToPoints;var we=j.transforms||[];for(J=we.length-1;J>=0;J--)if(we[J].enabled){j._indexToPoints=we[J]._indexToPoints;break}G&&G.calc&&(_e=G.calc(N,j))}Array.isArray(_e)&&_e[0]||(_e=[{x:r,y:r}]),_e[0].t||(_e[0].t={}),_e[0].trace=j,$[ge]=_e}}for(P(X,Y,W),te=0;te<Y.length;te++)me(te,!0);for(te=0;te<Y.length;te++)Me(te);for(xe&&P(X,Y,W),te=0;te<Y.length;te++)me(te,!0);for(te=0;te<Y.length;te++)me(te,!1);U(N);var pe=function(ge,Pe){var _e,we,se,ae,fe,Ee=[];function ke(Ze,Xe,He){var We=Xe._id.charAt(0);if("histogram2dcontour"===Ze){var rt=Xe._counterAxes[0],nt=n.getFromId(Pe,rt),ze="x"===We||"x"===rt&&"category"===nt.type,Be="y"===We||"y"===rt&&"category"===nt.type;return function(tt,et){return 0===tt||0===et||ze&&tt===He[et].length-1||Be&&et===He.length-1?-1:("y"===We?et:tt)-1}}return function(tt,et){return"y"===We?et:tt}}var be={min:function(Ze){return t.aggNums(Math.min,null,Ze)},max:function(Ze){return t.aggNums(Math.max,null,Ze)},sum:function(Ze){return t.aggNums(function(Xe,He){return Xe+He},null,Ze)},total:function(Ze){return t.aggNums(function(Xe,He){return Xe+He},null,Ze)},mean:function(Ze){return t.mean(Ze)},median:function(Ze){return t.median(Ze)}};for(_e=0;_e<ge.length;_e++){var Ie=ge[_e];if("category"===Ie.type){var Fe=Ie.categoryorder.match(q);if(Fe){var ce=Fe[1],Te=Fe[2],ve=Ie._id.charAt(0),Ce="x"===ve,Re=[];for(we=0;we<Ie._categories.length;we++)Re.push([Ie._categories[we],[]]);for(we=0;we<Ie._traceIndices.length;we++){var Oe=Ie._traceIndices[we],je=Pe._fullData[Oe];if(!0===je.visible){var qe=je.type;b.traceIs(je,"histogram")&&(delete je._xautoBinFinished,delete je._yautoBinFinished);var Je="splom"===qe,it="scattergl"===qe,Qe=Pe.calcdata[Oe];for(se=0;se<Qe.length;se++){var dt,yt,mt=Qe[se];if(Je){var at=je._axesDim[Ie._id];if(!Ce){var st=je._diag[at][0];st&&(Ie=Pe._fullLayout[n.id2name(st)])}var Tt=mt.trace.dimensions[at].values;for(ae=0;ae<Tt.length;ae++)for(dt=Ie._categoriesMap[Tt[ae]],fe=0;fe<mt.trace.dimensions.length;fe++)fe!==at&&Re[dt][1].push(mt.trace.dimensions[fe].values[ae])}else if(it){for(ae=0;ae<mt.t.x.length;ae++)Ce?(dt=mt.t.x[ae],yt=mt.t.y[ae]):(dt=mt.t.y[ae],yt=mt.t.x[ae]),Re[dt][1].push(yt);mt.t&&mt.t._scene&&delete mt.t._scene.dirty}else if(mt.hasOwnProperty("z")){var Pt=ke(je.type,Ie,yt=mt.z);for(ae=0;ae<yt.length;ae++)for(fe=0;fe<yt[ae].length;fe++)(dt=Pt(fe,ae))+1&&Re[dt][1].push(yt[ae][fe])}else for(void 0===(dt=mt.p)&&(dt=mt[ve]),void 0===(yt=mt.s)&&(yt=mt.v),void 0===yt&&(yt=Ce?mt.y:mt.x),Array.isArray(yt)||(yt=void 0===yt?[]:[yt]),ae=0;ae<yt.length;ae++)Re[dt][1].push(yt[ae])}}}Ie._categoriesValue=Re;var kt=[];for(we=0;we<Re.length;we++)kt.push([Re[we][0],be[ce](Re[we][1])]);kt.sort(function(Ze,Xe){return Ze[1]-Xe[1]}),Ie._categoriesAggregatedValue=kt,Ie._initialCategories=kt.map(function(Ze){return Ze[0]}),"descending"===Te&&Ie._initialCategories.reverse(),Ee=Ee.concat(Ie.sortByInitialCategories())}}}return Ee}(X,N);if(pe.length){for(W._numBoxes=0,W._numViolins=0,te=0;te<pe.length;te++)me(pe[te],!0);for(te=0;te<pe.length;te++)me(pe[te],!1);U(N)}b.getComponentMethod("fx","calc")(N),b.getComponentMethod("errorbars","calc")(N)};var q=/(total|sum|min|max|mean|median) (ascending|descending)/;function P(N,F,j){var G={};function te(W){W.clearCalc(),"multicategory"===W.type&&W.setupMultiCategory(F),G[W._id]=1}t.simpleMap(N,te);for(var J=j._axisMatchGroups||[],X=0;X<J.length;X++)for(var Y in J[X])G[Y]||te(j[n.id2name(Y)])}function U(N){var F,j,G,te=N._fullLayout,J=te._visibleModules,X={};for(j=0;j<J.length;j++){var Y=J[j],W=Y.crossTraceCalc;if(W){var $=Y.basePlotModule.name;X[$]?t.pushUnique(X[$],W):X[$]=[W]}}for(G in X){var ne=X[G],re=te._subplots[G];if(Array.isArray(re))for(F=0;F<re.length;F++){var oe=re[F],ue="cartesian"===G?te._plots[oe]:te[oe];for(j=0;j<ne.length;j++)ne[j](N,ue,oe)}else for(j=0;j<ne.length;j++)ne[j](N)}}h.rehover=function(N){N._fullLayout._rehover&&N._fullLayout._rehover()},h.redrag=function(N){N._fullLayout._redrag&&N._fullLayout._redrag()},h.reselect=function(N){var F=N._fullLayout,j=(N.layout||{}).selections,G=F._previousSelections;F._previousSelections=j;var te=F._reselect||JSON.stringify(j)!==JSON.stringify(G);b.getComponentMethod("selections","reselect")(N,te)},h.generalUpdatePerTraceModule=function(N,F,j,G){var te,J=F.traceHash,X={};for(te=0;te<j.length;te++){var Y=j[te],W=Y[0].trace;W.visible&&(X[W.type]=X[W.type]||[],X[W.type].push(Y))}for(var $ in J)if(!X[$]){var ne=J[$][0];ne[0].trace.visible=!1,X[$]=[ne]}for(var re in X){var oe=X[re];oe[0][0].trace._module.plot(N,F,t.filterVisible(oe),G)}F.traceHash=X},h.plotBasePlot=function(N,F,j,G,te){var J=b.getModule(N),X=c(F.calcdata,J)[0];J.plot(F,X,G,te)},h.cleanBasePlot=function(N,F,j,G,te){var J=te._has&&te._has(N),X=j._has&&j._has(N);J&&!X&&te["_"+N+"layer"].selectAll("g.trace").remove()}},9813:function(ee){"use strict";ee.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(ee,D,e){"use strict";var A=e(71828),k=e(61082).tester,l=A.findIndexOfMin,T=A.isAngleInsideSector,b=A.angleDelta,d=A.angleDist;function a(n,o,s,u){var p,c,x=u[0],g=u[1],h=i(Math.sin(o)-Math.sin(n)),y=i(Math.cos(o)-Math.cos(n)),v=Math.tan(s),m=i(1/v),_=h/y,f=g-_*x;return m?h&&y?c=v*(p=f/(v-_)):y?(p=g*m,c=g):(p=x,c=x*v):h&&y?(p=0,c=f):y?(p=0,c=g):p=c=NaN,[p,c]}function t(n,o,s,u){return A.isFullCircle([o,s])?function(p,c){var x,g=c.length,h=new Array(g+1);for(x=0;x<g;x++){var y=c[x];h[x]=[p*Math.cos(y),p*Math.sin(y)]}return h[x]=h[0].slice(),h}(n,u):function(p,c,x,g){var h,y,v=g.length,m=[];function _(q){return[p*Math.cos(q),p*Math.sin(q)]}function f(q,P,U){return a(q,P,U,_(q))}function S(q){return A.mod(q,v)}function w(q){return T(q,[c,x])}var E=l(g,function(q){return w(q)?d(q,c):1/0}),L=f(g[E],g[S(E-1)],c);for(m.push(L),h=E,y=0;y<v;h++,y++){var C=g[S(h)];if(!w(C))break;m.push(_(C))}var O=l(g,function(q){return w(q)?d(q,x):1/0}),R=f(g[O],g[S(O+1)],x);return m.push(R),m.push([0,0]),m.push(m[0].slice()),m}(n,o,s,u)}function i(n){return Math.abs(n)>1e-10?n:0}function r(n,o,s){o=o||0,s=s||0;for(var u=n.length,p=new Array(u),c=0;c<u;c++){var x=n[c];p[c]=[o+x[0],s-x[1]]}return p}ee.exports={isPtInsidePolygon:function(n,o,s,u,p){if(!T(o,u))return!1;var c,x;s[0]<s[1]?(c=s[0],x=s[1]):(c=s[1],x=s[0]);var g=k(t(c,u[0],u[1],p)),h=k(t(x,u[0],u[1],p)),y=[n*Math.cos(o),n*Math.sin(o)];return h.contains(y)&&!g.contains(y)},findPolygonOffset:function(n,o,s,u){for(var p=1/0,c=1/0,x=t(n,o,s,u),g=0;g<x.length;g++){var h=x[g];p=Math.min(p,h[0]),c=Math.min(c,-h[1])}return[p,c]},findEnclosingVertexAngles:function(n,o){var s=l(o,function(p){var c=b(p,n);return c>0?c:1/0}),u=A.mod(s+1,o.length);return[o[s],o[u]]},findIntersectionXY:a,findXYatLength:function(n,o,s,u){var p=-o*s,c=o*o+1,x=2*(o*p-s),h=Math.sqrt(x*x-4*c*(p*p+s*s-n*n)),y=(-x+h)/(2*c),v=(-x-h)/(2*c);return[[y,o*y+p+u],[v,o*v+p+u]]},clampTiny:i,pathPolygon:function(n,o,s,u,p,c){return"M"+r(t(n,o,s,u),p,c).join("L")},pathPolygonAnnulus:function(n,o,s,u,p,c,x){var g,h;n<o?(g=n,h=o):(g=o,h=n);var y=r(t(g,s,u,p),c,x);return"M"+r(t(h,s,u,p),c,x).reverse().join("L")+"M"+y.join("L")}}},23580:function(ee,D,e){"use strict";var A=e(27659).AU,k=e(71828).counterRegex,l=e(77997),T=e(9813),b=T.attr,d=T.name,a=k(d),t={};t[b]={valType:"subplotid",dflt:d,editType:"calc"},ee.exports={attr:b,name:d,idRoot:d,idRegex:a,attrRegex:a,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:function(i){for(var r=i._fullLayout,n=i.calcdata,o=r._subplots[d],s=0;s<o.length;s++){var u=o[s],p=A(n,d,u),c=r[u]._subplot;c||(c=l(i,u),r[u]._subplot=c),c.plot(p,r,i._promises)}},clean:function(i,r,n,o){for(var s=o._subplots[d]||[],u=o._has&&o._has("gl"),p=r._has&&r._has("gl"),c=u&&!p,x=0;x<s.length;x++){var g=s[x],h=o[g]._subplot;if(!r[g]&&h)for(var y in h.framework.remove(),h.layers["radial-axis-title"].remove(),h.clipPaths)h.clipPaths[y].remove();c&&h._scene&&(h._scene.destroy(),h._scene=null)}},toSVG:e(93612).toSVG}},73812:function(ee,D,e){"use strict";var A=e(22399),k=e(13838),l=e(27670).Y,T=e(71828).extendFlat,b=e(30962).overrideAll,d=b({color:k.color,showline:T({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:T({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),a=b({tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,ticklabelstep:k.ticklabelstep,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickfont:k.tickfont,tickangle:k.tickangle,tickformat:k.tickformat,tickformatstops:k.tickformatstops,layer:k.layer},"plot","from-root"),t={visible:T({},k.visible,{dflt:!0}),type:T({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},autorange:T({},k.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:T({},k.minallowed,{editType:"plot"}),maxallowed:T({},k.maxallowed,{editType:"plot"}),range:T({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:k.categoryorder,categoryarray:k.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:T({},k.title.text,{editType:"plot",dflt:""}),font:T({},k.title.font,{editType:"plot"}),editType:"plot"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}};T(t,d,a);var i={visible:T({},k.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:k.autotypenumbers,categoryorder:k.categoryorder,categoryarray:k.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};T(i,d,a),ee.exports={domain:l({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:A.background},radialaxis:t,angularaxis:i,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(ee,D,e){"use strict";var A=e(71828),k=e(7901),l=e(44467),T=e(49119),b=e(27659).NG,d=e(26218),a=e(38701),t=e(96115),i=e(89426),r=e(15258),n=e(92128),o=e(23074),s=e(4322),u=e(73812),p=e(12101),c=e(9813),x=c.axisNames;function g(y,v,m,_){var f=m("bgcolor");_.bgColor=k.combine(f,_.paper_bgcolor);var S=m("sector");m("hole");var w,E=b(_.fullData,c.name,_.id),L=_.layoutOut;function C(oe,ue){return m(w+"."+oe,ue)}for(var O=0;O<x.length;O++){A.isPlainObject(y[w=x[O]])||(y[w]={});var R=y[w],q=l.newContainer(v,w);q._id=q._name=w,q._attr=_.id+"."+w,q._traceIndices=E.map(function(oe){return oe._expandedIndex});var P=c.axisName2dataArray[w],U=h(R,q,C,E,P,_);r(R,q,C,{axData:E,dataAttr:P});var N=C("visible");switch(p(q,v,L),C("uirevision",v.uirevision),q._m=1,w){case"radialaxis":C("minallowed"),C("maxallowed");var F,j=C("range"),G=q.getAutorangeDflt(j),te=C("autorange",G);!j||(null!==j[0]||null!==j[1])&&(null!==j[0]&&null!==j[1]||"reversed"!==te&&!0!==te)&&(null===j[0]||"min"!==te&&"max reversed"!==te)&&(null===j[1]||"max"!==te&&"min reversed"!==te)||(j=void 0,delete q.range,q.autorange=!0,F=!0),F||(te=C("autorange",G=q.getAutorangeDflt(j))),R.autorange=te,te&&(o(C,te,j),"linear"!==U&&"-"!==U||C("rangemode"),q.isReversed()&&(q._m=-1)),q.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===U){A.log("Polar plots do not support date angular axes yet.");for(var J=0;J<E.length;J++)E[J].visible=!1;U=R.type=q.type="linear"}C("linear"===U?"thetaunit":"period");var X=C("direction");C("rotation",{counterclockwise:0,clockwise:90}[X])}if(i(R,q,C,q.type,{tickSuffixDflt:"degrees"===q.thetaunit?"\xb0":void 0}),N){var Y,W,$,ne,re=_.font||{};W=(Y=C("color"))===R.color?Y:re.color,$=re.size,ne=re.family,d(R,q,C,q.type),t(R,q,C,q.type,{font:{color:W,size:$,family:ne}}),a(R,q,C,{outerTicks:!0}),n(R,q,C,{dfltColor:Y,bgColor:_.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[w]}),C("layer"),"radialaxis"===w&&(C("side"),C("angle",S[0]),C("title.text"),A.coerceFont(C,"title.font",{color:W,size:A.bigFont($),family:ne}))}"category"!==U&&C("hoverformat"),q._input=R}"category"===v.angularaxis.type&&m("gridshape")}function h(y,v,m,_,f,S){var w=m("autotypenumbers",S.autotypenumbersDflt);if("-"===m("type")){for(var E,L=0;L<_.length;L++)if(_[L].visible){E=_[L];break}E&&E[f]&&(v.type=s(E[f],"gregorian",{noMultiCategory:!0,autotypenumbers:w})),"-"===v.type?v.type="linear":y.type=v.type}return v.type}ee.exports=function(y,v,m){T(y,v,m,{type:c.name,attributes:u,handleDefaults:g,font:v.font,autotypenumbersDflt:v.autotypenumbers,paper_bgcolor:v.paper_bgcolor,fullData:m,layoutOut:v})}},77997:function(ee,D,e){"use strict";var A=e(39898),k=e(84267),l=e(73972),T=e(71828),b=T.strRotate,d=T.strTranslate,a=e(7901),t=e(91424),i=e(74875),r=e(89298),n=e(21994),o=e(12101),s=e(71739).doAutoRange,u=e(29323),p=e(28569),c=e(30211),x=e(92998),g=e(47322).prepSelect,h=e(47322).selectOnClick,y=e(47322).clearOutline,v=e(6964),m=e(33306),_=e(61549).redrawReglTraces,f=e(18783).MID_SHIFT,S=e(9813),w=e(10869),E=e(23893),L=E.smith,C=E.reactanceArc,O=E.resistanceArc,R=E.smithTransform,q=T._,P=T.mod,U=T.deg2rad,N=T.rad2deg;function F(X,Y,W){this.isSmith=W||!1,this.id=Y,this.gd=X,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var $=X._fullLayout;this.clipIds.forTraces="clip"+$._uid+Y+"-for-traces",this.clipPaths.forTraces=$._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=$["_"+(W?"smith":"polar")+"layer"].append("g").attr("class",Y),this.getHole=function(re){return this.isSmith?0:re.hole},this.getSector=function(re){return this.isSmith?[0,360]:re.sector},this.getRadial=function(re){return this.isSmith?re.realaxis:re.radialaxis},this.getAngular=function(re){return this.isSmith?re.imaginaryaxis:re.angularaxis},W||(this.radialTickLayout=null,this.angularTickLayout=null)}var j=F.prototype;function G(X){var Y=X.ticks+String(X.ticklen)+String(X.showticklabels);return"side"in X&&(Y+=X.side),Y}function te(X,Y){return Y[T.findIndexOfMin(Y,function(W){return T.angleDist(X,W)})]}function J(X,Y,W){return Y?(X.attr("display",null),X.attr(W)):X&&X.attr("display","none"),X}ee.exports=function(X,Y,W){return new F(X,Y,W)},j.plot=function(X,Y){for(var W=this,$=Y[W.id],ne=!1,re=0;re<X.length;re++)if(!1===X[re][0].trace.cliponaxis){ne=!0;break}W._hasClipOnAxisFalse=ne,W.updateLayers(Y,$),W.updateLayout(Y,$),i.generalUpdatePerTraceModule(W.gd,W,X,$),W.updateFx(Y,$),W.isSmith&&(delete $.realaxis.range,delete $.imaginaryaxis.range)},j.updateLayers=function(X,Y){var W=this,$=W.isSmith,ne=W.layers,re=W.getRadial(Y),oe=W.getAngular(Y),ue=S.layerNames,xe=ue.indexOf("frontplot"),Me=ue.slice(0,xe),me="below traces"===oe.layer,pe="below traces"===re.layer;me&&Me.push("angular-line"),pe&&Me.push("radial-line"),me&&Me.push("angular-axis"),pe&&Me.push("radial-axis"),Me.push("frontplot"),me||Me.push("angular-line"),pe||Me.push("radial-line"),me||Me.push("angular-axis"),pe||Me.push("radial-axis");var ge=($?"smith":"polar")+"sublayer",Pe=W.framework.selectAll("."+ge).data(Me,String);Pe.enter().append("g").attr("class",function(_e){return ge+" "+_e}).each(function(_e){var we=ne[_e]=A.select(this);switch(_e){case"frontplot":$||we.append("g").classed("barlayer",!0),we.append("g").classed("scatterlayer",!0);break;case"backplot":we.append("g").classed("maplayer",!0);break;case"plotbg":ne.bg=we.append("path");break;case"radial-grid":case"angular-grid":we.style("fill","none");break;case"radial-line":we.append("line").style("fill","none");break;case"angular-line":we.append("path").style("fill","none")}}),Pe.order()},j.updateLayout=function(X,Y){var W=this,$=W.layers,ne=X._size,re=W.getRadial(Y),oe=W.getAngular(Y),ue=Y.domain.x,xe=Y.domain.y;W.xOffset=ne.l+ne.w*ue[0],W.yOffset=ne.t+ne.h*(1-xe[1]);var Me=W.xLength=ne.w*(ue[1]-ue[0]),me=W.yLength=ne.h*(xe[1]-xe[0]),pe=W.getSector(Y);W.sectorInRad=pe.map(U);var ge,Pe,_e,we,se,it,Qe,dt,yt,mt,at,st,Tt,At,Pt,ae=W.sectorBBox=(yt=(it=pe)[1]-(dt=it[0]),at=(mt=P(dt,360))+yt,st=Math.cos(U(mt)),Tt=Math.sin(U(mt)),At=Math.cos(U(at)),Pt=Math.sin(U(at)),Qe=mt<=90&&at>=90||mt>90&&at>=450?1:Tt<=0&&Pt<=0?0:Math.max(Tt,Pt),[mt<=180&&at>=180||mt>180&&at>=540?-1:st>=0&&At>=0?0:Math.min(st,At),mt<=270&&at>=270||mt>270&&at>=630?-1:Tt>=0&&Pt>=0?0:Math.min(Tt,Pt),at>=360?1:st<=0&&At<=0?0:Math.max(st,At),Qe]),fe=ae[2]-ae[0],ke=me/Me,be=Math.abs((ae[3]-ae[1])/fe);ke>be?(ge=Me,se=(me-(Pe=Me*be))/ne.h/2,_e=[ue[0],ue[1]],we=[xe[0]+se,xe[1]-se]):(Pe=me,se=(Me-(ge=me/be))/ne.w/2,_e=[ue[0]+se,ue[1]-se],we=[xe[0],xe[1]]),W.xLength2=ge,W.yLength2=Pe,W.xDomain2=_e,W.yDomain2=we;var Ie,Fe=W.xOffset2=ne.l+ne.w*_e[0],ce=W.yOffset2=ne.t+ne.h*(1-we[1]),Te=W.radius=ge/fe,ve=W.innerRadius=W.getHole(Y)*Te,Ce=W.cx=Fe-Te*ae[0],Re=W.cy=ce+Te*ae[3],Oe=W.cxx=Ce-Fe,je=W.cyy=Re-ce,qe=re.side;"counterclockwise"===qe?(Ie=qe,qe="top"):"clockwise"===qe&&(Ie=qe,qe="bottom"),W.radialAxis=W.mockAxis(X,Y,re,{_id:"x",side:qe,_trueSide:Ie,domain:[ve/ne.w,Te/ne.w]}),W.angularAxis=W.mockAxis(X,Y,oe,{side:"right",domain:[0,Math.PI],autorange:!1}),W.doAutoRange(X,Y),W.updateAngularAxis(X,Y),W.updateRadialAxis(X,Y),W.updateRadialAxisTitle(X,Y),W.xaxis=W.mockCartesianAxis(X,Y,{_id:"x",domain:_e}),W.yaxis=W.mockCartesianAxis(X,Y,{_id:"y",domain:we});var Je=W.pathSubplot();W.clipPaths.forTraces.select("path").attr("d",Je).attr("transform",d(Oe,je)),$.frontplot.attr("transform",d(Fe,ce)).call(t.setClipUrl,W._hasClipOnAxisFalse?null:W.clipIds.forTraces,W.gd),$.bg.attr("d",Je).attr("transform",d(Ce,Re)).call(a.fill,Y.bgcolor)},j.mockAxis=function(X,Y,W,$){var ne=T.extendFlat({},W,$);return o(ne,Y,X),ne},j.mockCartesianAxis=function(X,Y,W){var $=this,ne=$.isSmith,re=W._id,oe=T.extendFlat({type:"linear"},W);n(oe,X);var ue={x:[0,2],y:[1,3]};return oe.setRange=function(){var xe=$.sectorBBox,Me=ue[re],me=$.radialAxis._rl,pe=(me[1]-me[0])/(1-$.getHole(Y));oe.range=[xe[Me[0]]*pe,xe[Me[1]]*pe]},oe.isPtWithinRange="x"!==re||ne?function(){return!0}:function(xe){return $.isPtInside(xe)},oe.setRange(),oe.setScale(),oe},j.doAutoRange=function(X,Y){var W=this,$=W.gd,ne=W.radialAxis,re=W.getRadial(Y);s($,ne);var oe=ne.range;re.range=oe.slice(),re._input.range=oe.slice(),ne._rl=[ne.r2l(oe[0],null,"gregorian"),ne.r2l(oe[1],null,"gregorian")]},j.updateRadialAxis=function(X,Y){var W=this,$=W.gd,ne=W.layers,re=W.radius,oe=W.innerRadius,ue=W.cx,xe=W.cy,Me=W.getRadial(Y),me=P(W.getSector(Y)[0],360),pe=W.radialAxis,ge=oe<re,Pe=W.isSmith;Pe||(W.fillViewInitialKey("radialaxis.angle",Me.angle),W.fillViewInitialKey("radialaxis.range",pe.range.slice()),pe.setGeometry()),"auto"===pe.tickangle&&me>90&&me<=270&&(pe.tickangle=180);var _e=Pe?function(ce){var Te=R(W,L([ce.x,0]));return d(Te[0]-ue,Te[1]-xe)}:function(ce){return d(pe.l2p(ce.x)+oe,0)},we=Pe?function(ce){return O(W,ce.x,-1/0,1/0)}:function(ce){return W.pathArc(pe.r2p(ce.x)+oe)},se=G(Me);if(W.radialTickLayout!==se&&(ne["radial-axis"].selectAll(".xtick").remove(),W.radialTickLayout=se),ge){pe.setScale();var ae=0,fe=Pe?(pe.tickvals||[]).filter(function(ce){return ce>=0}).map(function(ce){return r.tickText(pe,ce,!0,!1)}):r.calcTicks(pe),Ee=Pe?fe:r.clipEnds(pe,fe),ke=r.getTickSigns(pe)[2];Pe&&(("top"===pe.ticks&&"bottom"===pe.side||"bottom"===pe.ticks&&"top"===pe.side)&&(ke=-ke),"top"===pe.ticks&&"top"===pe.side&&(ae=-pe.ticklen),"bottom"===pe.ticks&&"bottom"===pe.side&&(ae=pe.ticklen)),r.drawTicks($,pe,{vals:fe,layer:ne["radial-axis"],path:r.makeTickPath(pe,0,ke),transFn:_e,crisp:!1}),r.drawGrid($,pe,{vals:Ee,layer:ne["radial-grid"],path:we,transFn:T.noop,crisp:!1}),r.drawLabels($,pe,{vals:fe,layer:ne["radial-axis"],transFn:_e,labelFns:r.makeLabelFns(pe,ae)})}var be=W.radialAxisAngle=W.vangles?N(te(U(Me.angle),W.vangles)):Me.angle,Ie=d(ue,xe),Fe=Ie+b(-be);J(ne["radial-axis"],ge&&(Me.showticklabels||Me.ticks),{transform:Fe}),J(ne["radial-grid"],ge&&Me.showgrid,{transform:Pe?"":Ie}),J(ne["radial-line"].select("line"),ge&&Me.showline,{x1:Pe?-re:oe,y1:0,x2:re,y2:0,transform:Fe}).attr("stroke-width",Me.linewidth).call(a.stroke,Me.linecolor)},j.updateRadialAxisTitle=function(X,Y,W){if(!this.isSmith){var $=this,ne=$.gd,re=$.radius,oe=$.cx,ue=$.cy,xe=$.getRadial(Y),Me=$.id+"title",me=0;if(xe.title){var pe=t.bBox($.layers["radial-axis"].node()).height,ge=xe.title.font.size,Pe=xe.side;me="top"===Pe?ge:"counterclockwise"===Pe?-(pe+.4*ge):pe+.8*ge}var _e=void 0!==W?W:$.radialAxisAngle,we=U(_e),se=Math.cos(we),ae=Math.sin(we),fe=oe+re/2*se+me*ae,Ee=ue-re/2*ae+me*se;$.layers["radial-axis-title"]=x.draw(ne,Me,{propContainer:xe,propName:$.id+".radialaxis.title",placeholder:q(ne,"Click to enter radial axis title"),attributes:{x:fe,y:Ee,"text-anchor":"middle"},transform:{rotate:-_e}})}},j.updateAngularAxis=function(X,Y){var W=this,$=W.gd,ne=W.layers,re=W.radius,oe=W.innerRadius,ue=W.cx,xe=W.cy,Me=W.getAngular(Y),me=W.angularAxis,pe=W.isSmith;pe||(W.fillViewInitialKey("angularaxis.rotation",Me.rotation),me.setGeometry(),me.setScale());var ge=pe?function(ce){var Te=R(W,L([0,ce.x]));return Math.atan2(Te[0]-ue,Te[1]-xe)-Math.PI/2}:function(ce){return me.t2g(ce.x)};"linear"===me.type&&"radians"===me.thetaunit&&(me.tick0=N(me.tick0),me.dtick=N(me.dtick));var Pe=function(ce){return d(ue+re*Math.cos(ce),xe-re*Math.sin(ce))},_e=pe?function(ce){var Te=R(W,L([0,ce.x]));return d(Te[0],Te[1])}:function(ce){return Pe(ge(ce))},we=pe?function(ce){var Te=R(W,L([0,ce.x])),ve=Math.atan2(Te[0]-ue,Te[1]-xe)-Math.PI/2;return d(Te[0],Te[1])+b(-N(ve))}:function(ce){var Te=ge(ce);return Pe(Te)+b(-N(Te))},se=pe?function(ce){return C(W,ce.x,0,1/0)}:function(ce){var Te=ge(ce),ve=Math.cos(Te),Ce=Math.sin(Te);return"M"+[ue+oe*ve,xe-oe*Ce]+"L"+[ue+re*ve,xe-re*Ce]},ae=r.makeLabelFns(me,0).labelStandoff,fe={xFn:function(ce){var Te=ge(ce);return Math.cos(Te)*ae},yFn:function(ce){var Te=ge(ce),ve=Math.sin(Te)>0?.2:1;return-Math.sin(Te)*(ae+ce.fontSize*ve)+Math.abs(Math.cos(Te))*(ce.fontSize*f)},anchorFn:function(ce){var Te=ge(ce),ve=Math.cos(Te);return Math.abs(ve)<.1?"middle":ve>0?"start":"end"},heightFn:function(ce,Te,ve){var Ce=ge(ce);return-.5*(1+Math.sin(Ce))*ve}},Ee=G(Me);W.angularTickLayout!==Ee&&(ne["angular-axis"].selectAll("."+me._id+"tick").remove(),W.angularTickLayout=Ee);var ke,be=pe?[1/0].concat(me.tickvals||[]).map(function(ce){return r.tickText(me,ce,!0,!1)}):r.calcTicks(me);if(pe&&(be[0].text="\u221e",be[0].fontSize*=1.75),"linear"===Y.gridshape?(ke=be.map(ge),T.angleDelta(ke[0],ke[1])<0&&(ke=ke.slice().reverse())):ke=null,W.vangles=ke,"category"===me.type&&(be=be.filter(function(ce){return T.isAngleInsideSector(ge(ce),W.sectorInRad)})),me.visible){var Ie="inside"===me.ticks?-1:1;r.drawTicks($,me,{vals:be,layer:ne["angular-axis"],path:"M"+Ie*((me.linewidth||1)/2)+",0h"+Ie*me.ticklen,transFn:we,crisp:!1}),r.drawGrid($,me,{vals:be,layer:ne["angular-grid"],path:se,transFn:T.noop,crisp:!1}),r.drawLabels($,me,{vals:be,layer:ne["angular-axis"],repositionOnUpdate:!0,transFn:_e,labelFns:fe})}J(ne["angular-line"].select("path"),Me.showline,{d:W.pathSubplot(),transform:d(ue,xe)}).attr("stroke-width",Me.linewidth).call(a.stroke,Me.linecolor)},j.updateFx=function(X,Y){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(X),this.updateRadialDrag(X,Y,0),this.updateRadialDrag(X,Y,1)),this.updateHoverAndMainDrag(X))},j.updateHoverAndMainDrag=function(X){var Y,W,$=this,ne=$.isSmith,re=$.gd,ue=X._zoomlayer,xe=S.MINZOOM,Me=S.OFFEDGE,me=$.radius,pe=$.innerRadius,ge=$.cx,Pe=$.cy,_e=$.cxx,we=$.cyy,se=$.sectorInRad,ae=$.vangles,fe=$.radialAxis,Ee=w.clampTiny,ke=w.findXYatLength,be=w.findEnclosingVertexAngles,Ie=S.cornerHalfWidth,Fe=S.cornerLen/2,ce=u.makeDragger($.layers,"path","maindrag",!1===X.dragmode?"none":"crosshair");A.select(ce).attr("d",$.pathSubplot()).attr("transform",d(ge,Pe)),ce.onmousemove=function(nt){c.hover(re,nt,$.id),re._fullLayout._lasthover=ce,re._fullLayout._hoversubplot=$.id},ce.onmouseout=function(nt){re._dragging||p.unhover(re,nt)};var Te,ve,Ce,Re,Oe,je,qe,Je,it,Qe={element:ce,gd:re,subplot:$.id,plotinfo:{id:$.id,xaxis:$.xaxis,yaxis:$.yaxis},xaxes:[$.xaxis],yaxes:[$.yaxis]};function dt(nt,ze){return Math.sqrt(nt*nt+ze*ze)}function yt(nt,ze){return dt(nt-_e,ze-we)}function mt(nt,ze){return Math.atan2(we-ze,nt-_e)}function at(nt,ze){return[nt*Math.cos(ze),nt*Math.sin(-ze)]}function st(nt,ze){if(0===nt)return $.pathSector(2*Ie);var Be=Fe/nt,tt=ze-Be,et=ze+Be,gt=Math.max(0,Math.min(nt,me)),pt=gt-Ie,vt=gt+Ie;return"M"+at(pt,tt)+"A"+[pt,pt]+" 0,0,0 "+at(pt,et)+"L"+at(vt,et)+"A"+[vt,vt]+" 0,0,1 "+at(vt,tt)+"Z"}function Tt(nt,ze,Be){if(0===nt)return $.pathSector(2*Ie);var tt,et,gt=at(nt,ze),pt=at(nt,Be),vt=Ee((gt[0]+pt[0])/2),ut=Ee((gt[1]+pt[1])/2);if(vt&&ut){var wt=ut/vt,ct=-1/wt,ft=ke(Ie,wt,vt,ut);tt=ke(Fe,ct,ft[0][0],ft[0][1]),et=ke(Fe,ct,ft[1][0],ft[1][1])}else{var bt,It;ut?(bt=Fe,It=Ie):(bt=Ie,It=Fe),tt=[[vt-bt,ut-It],[vt+bt,ut-It]],et=[[vt-bt,ut+It],[vt+bt,ut+It]]}return"M"+tt.join("L")+"L"+et.reverse().join("L")+"Z"}function At(nt,ze){return ze=Math.max(Math.min(ze,me),pe),nt<Me?nt=0:me-nt<Me?nt=me:ze<Me?ze=0:me-ze<Me&&(ze=me),Math.abs(ze-nt)>xe?(nt<ze?(Ce=nt,Re=ze):(Ce=ze,Re=nt),!0):(Ce=null,Re=null,!1)}function Pt(nt,ze){ze=ze||"M0,0Z",Je.attr("d",nt=nt||Oe),it.attr("d",ze),u.transitionZoombox(Je,it,je,qe),je=!0;var Be={};We(Be),re.emit("plotly_relayouting",Be)}function kt(nt,ze){var Be,tt,et=Te+(nt*=Y),gt=ve+(ze*=W),pt=yt(Te,ve),vt=Math.min(yt(et,gt),me),ut=mt(Te,ve);At(pt,vt)&&(Be=Oe+$.pathSector(Re),Ce&&(Be+=$.pathSector(Ce)),tt=st(Ce,ut)+st(Re,ut)),Pt(Be,tt)}function Ze(nt,ze,Be,tt){var et=w.findIntersectionXY(Be,tt,Be,[nt-_e,we-ze]);return dt(et[0],et[1])}function Xe(nt,ze){var Be,tt,et=Te+nt,gt=ve+ze,pt=mt(Te,ve),vt=mt(et,gt),ut=be(pt,ae),wt=be(vt,ae);At(Ze(Te,ve,ut[0],ut[1]),Math.min(Ze(et,gt,wt[0],wt[1]),me))&&(Be=Oe+$.pathSector(Re),Ce&&(Be+=$.pathSector(Ce)),tt=[Tt(Ce,ut[0],ut[1]),Tt(Re,ut[0],ut[1])].join(" ")),Pt(Be,tt)}function He(){if(u.removeZoombox(re),null!==Ce&&null!==Re){var nt={};We(nt),u.showDoubleClickNotifier(re),l.call("_guiRelayout",re,nt)}}function We(nt){var ze=fe._rl,Be=(ze[1]-ze[0])/(1-pe/me)/me;nt[$.id+".radialaxis.range"]=[ze[0]+(Ce-pe)*Be,ze[0]+(Re-pe)*Be]}function rt(nt,ze){var Be=re._fullLayout.clickmode;if(u.removeZoombox(re),2===nt){var tt={};for(var et in $.viewInitial)tt[$.id+"."+et]=$.viewInitial[et];re.emit("plotly_doubleclick",null),l.call("_guiRelayout",re,tt)}Be.indexOf("select")>-1&&1===nt&&h(ze,re,[$.xaxis],[$.yaxis],$.id,Qe),Be.indexOf("event")>-1&&c.click(re,ze,$.id)}Qe.prepFn=function(nt,ze,Be){var tt=re._fullLayout.dragmode,et=ce.getBoundingClientRect();re._fullLayout._calcInverseTransform(re),Y=re._fullLayout._invScaleX,W=re._fullLayout._invScaleY;var pt=T.apply3DTransform(re._fullLayout._invTransform)(ze-et.left,Be-et.top);if(Te=pt[0],ve=pt[1],ae){var vt=w.findPolygonOffset(me,se[0],se[1],ae);Te+=_e+vt[0],ve+=we+vt[1]}switch(tt){case"zoom":Qe.clickFn=rt,ne||(Qe.moveFn=ae?Xe:kt,Qe.doneFn=He,Ce=null,Re=null,Oe=$.pathSubplot(),je=!1,qe=k(re._fullLayout[$.id].bgcolor).getLuminance(),(Je=u.makeZoombox(ue,qe,ge,Pe,Oe)).attr("fill-rule","evenodd"),it=u.makeCorners(ue,ge,Pe),y(re));break;case"select":case"lasso":g(nt,ze,Be,Qe,tt)}},p.init(Qe)},j.updateRadialDrag=function(X,Y,W){var $=this,ne=$.gd,re=$.layers,oe=$.radius,ue=$.innerRadius,xe=$.cx,Me=$.cy,me=$.radialAxis,pe=S.radialDragBoxSize,ge=pe/2;if(me.visible){var Pe,_e,we,se=U($.radialAxisAngle),ae=me._rl,fe=ae[0],Ee=ae[1],ke=ae[W],be=.75*(ae[1]-ae[0])/(1-$.getHole(Y))/oe;W?(Pe=xe+(oe+ge)*Math.cos(se),_e=Me-(oe+ge)*Math.sin(se),we="radialdrag"):(Pe=xe+(ue-ge)*Math.cos(se),_e=Me-(ue-ge)*Math.sin(se),we="radialdrag-inner");var Ie,Fe,ce,Te=u.makeRectDragger(re,we,"crosshair",-ge,-ge,pe,pe),ve={element:Te,gd:ne};!1===X.dragmode&&(ve.dragmode=!1),J(A.select(Te),me.visible&&ue<oe,{transform:d(Pe,_e)}),ve.prepFn=function(){Ie=null,Fe=null,ce=null,ve.moveFn=Ce,ve.doneFn=Re,y(ne)},ve.clampFn=function(qe,Je){return Math.sqrt(qe*qe+Je*Je)<S.MINDRAG&&(qe=0,Je=0),[qe,Je]},p.init(ve)}function Ce(qe,Je){if(Ie)Ie(qe,Je);else{var it=[qe,-Je],Qe=[Math.cos(se),Math.sin(se)],dt=Math.abs(T.dot(it,Qe)/Math.sqrt(T.dot(it,it)));isNaN(dt)||(Ie=dt<.5?Oe:je)}var mt,yt={};mt=yt,null!==Fe?mt[$.id+".radialaxis.angle"]=Fe:null!==ce&&(mt[$.id+".radialaxis.range["+W+"]"]=ce),ne.emit("plotly_relayouting",yt)}function Re(){null!==Fe?l.call("_guiRelayout",ne,$.id+".radialaxis.angle",Fe):null!==ce&&l.call("_guiRelayout",ne,$.id+".radialaxis.range["+W+"]",ce)}function Oe(qe,Je){if(0!==W){Fe=Math.atan2(Me-(_e+Je),Pe+qe-xe),$.vangles&&(Fe=te(Fe,$.vangles)),Fe=N(Fe);var dt=d(xe,Me)+b(-Fe);re["radial-axis"].attr("transform",dt),re["radial-line"].select("line").attr("transform",dt);var yt=$.gd._fullLayout;$.updateRadialAxisTitle(yt,yt[$.id],Fe)}}function je(qe,Je){var it=T.dot([qe,-Je],[Math.cos(se),Math.sin(se)]);if(ce=ke-be*it,be>0==(W?ce>fe:ce<Ee)){var Qe=ne._fullLayout,dt=Qe[$.id];me.range[W]=ce,me._rl[W]=ce,$.updateRadialAxis(Qe,dt),$.xaxis.setRange(),$.xaxis.setScale(),$.yaxis.setRange(),$.yaxis.setScale();var yt=!1;for(var mt in $.traceHash){var at=$.traceHash[mt],st=T.filterVisible(at);at[0][0].trace._module.plot(ne,$,st,dt),l.traceIs(mt,"gl")&&st.length&&(yt=!0)}yt&&(m(ne),_(ne))}else ce=null}},j.updateAngularDrag=function(X){var Y=this,W=Y.gd,$=Y.layers,ne=Y.radius,re=Y.angularAxis,oe=Y.cx,ue=Y.cy,xe=Y.cxx,Me=Y.cyy,me=S.angularDragBoxSize,pe=u.makeDragger($,"path","angulardrag",!1===X.dragmode?"none":"move"),ge={element:pe,gd:W};function Pe(ve,Ce){return Math.atan2(Me+me-Ce,ve-xe-me)}!1===X.dragmode?ge.dragmode=!1:A.select(pe).attr("d",Y.pathAnnulus(ne,ne+me)).attr("transform",d(oe,ue)).call(v,"move");var _e,we,se,ae,fe,Ee,ke=$.frontplot.select(".scatterlayer").selectAll(".trace"),be=ke.selectAll(".point"),Ie=ke.selectAll(".textpoint");function Fe(ve,Ce){var Re=Y.gd._fullLayout,Oe=Re[Y.id],je=Pe(_e+ve*X._invScaleX,we+Ce*X._invScaleY),qe=N(je-Ee);if(ae=se+qe,$.frontplot.attr("transform",d(Y.xOffset2,Y.yOffset2)+b([-qe,xe,Me])),Y.vangles){fe=Y.radialAxisAngle+qe;var Je=d(oe,ue)+b(-qe),it=d(oe,ue)+b(-fe);$.bg.attr("transform",Je),$["radial-grid"].attr("transform",Je),$["radial-axis"].attr("transform",it),$["radial-line"].select("line").attr("transform",it),Y.updateRadialAxisTitle(Re,Oe,fe)}else Y.clipPaths.forTraces.select("path").attr("transform",d(xe,Me)+b(qe));be.each(function(){var st=A.select(this),Tt=t.getTranslate(st);st.attr("transform",d(Tt.x,Tt.y)+b([qe]))}),Ie.each(function(){var st=A.select(this),Tt=st.select("text"),At=t.getTranslate(st);st.attr("transform",b([qe,Tt.attr("x"),Tt.attr("y")])+d(At.x,At.y))}),re.rotation=T.modHalf(ae,360),Y.updateAngularAxis(Re,Oe),Y._hasClipOnAxisFalse&&!T.isFullCircle(Y.sectorInRad)&&ke.call(t.hideOutsideRangePoints,Y);var Qe=!1;for(var dt in Y.traceHash)if(l.traceIs(dt,"gl")){var yt=Y.traceHash[dt],mt=T.filterVisible(yt);yt[0][0].trace._module.plot(W,Y,mt,Oe),mt.length&&(Qe=!0)}Qe&&(m(W),_(W));var at={};ce(at),W.emit("plotly_relayouting",at)}function ce(ve){ve[Y.id+".angularaxis.rotation"]=ae,Y.vangles&&(ve[Y.id+".radialaxis.angle"]=fe)}function Te(){Ie.select("text").attr("transform",null);var ve={};ce(ve),l.call("_guiRelayout",W,ve)}ge.prepFn=function(ve,Ce,Re){se=X[Y.id].angularaxis.rotation;var je=pe.getBoundingClientRect();_e=Ce-je.left,we=Re-je.top,W._fullLayout._calcInverseTransform(W);var qe=T.apply3DTransform(X._invTransform)(_e,we);Ee=Pe(_e=qe[0],we=qe[1]),ge.moveFn=Fe,ge.doneFn=Te,y(W)},Y.vangles&&!T.isFullCircle(Y.sectorInRad)&&(ge.prepFn=T.noop,v(A.select(pe),null)),p.init(ge)},j.isPtInside=function(X){if(this.isSmith)return!0;var Y=this.sectorInRad,W=this.vangles,$=this.angularAxis.c2g(X.theta),ne=this.radialAxis,re=ne.c2l(X.r);return(W?w.isPtInsidePolygon:T.isPtInsideSector)(re,$,ne._rl,Y,W)},j.pathArc=function(X){var Y=this.sectorInRad,W=this.vangles;return(W?w.pathPolygon:T.pathArc)(X,Y[0],Y[1],W)},j.pathSector=function(X){var Y=this.sectorInRad,W=this.vangles;return(W?w.pathPolygon:T.pathSector)(X,Y[0],Y[1],W)},j.pathAnnulus=function(X,Y){var W=this.sectorInRad,$=this.vangles;return($?w.pathPolygonAnnulus:T.pathAnnulus)(X,Y,W[0],W[1],$)},j.pathSubplot=function(){var X=this.innerRadius,Y=this.radius;return X?this.pathAnnulus(X,Y):this.pathSector(Y)},j.fillViewInitialKey=function(X,Y){X in this.viewInitial||(this.viewInitial[X]=Y)}},12101:function(ee,D,e){"use strict";var A=e(71828),k=e(21994),l=A.deg2rad,T=A.rad2deg;ee.exports=function(b,d,a){switch(k(b,a),b._id){case"x":case"radialaxis":r=d._subplot,(t=b).setGeometry=function(){var n=t._rl[0],o=t._rl[1],s=r.innerRadius,u=(r.radius-s)/(o-n),p=s/u,c=n>o?function(x){return x<=0}:function(x){return x>=0};t.c2g=function(x){var g=t.c2l(x)-n;return(c(g)?g:0)+p},t.g2c=function(x){return t.l2c(x+n-p)},t.g2p=function(x){return x*u},t.c2p=function(x){return t.g2p(t.c2g(x))}};break;case"angularaxis":!function(t,i){var r=t.type;if("linear"===r){var n=t.d2c,o=t.c2d;t.d2c=function(s,u){return p=n(s),"degrees"===u?l(p):p;var p},t.c2d=function(s,u){return o((p=s,"degrees"===u?T(p):p));var p}}t.makeCalcdata=function(s,u){var p,c,x=s[u],g=s._length,h=function(f){return t.d2c(f,s.thetaunit)};if(x){if(A.isTypedArray(x)&&"linear"===r){if(g===x.length)return x;if(x.subarray)return x.subarray(0,g)}for(p=new Array(g),c=0;c<g;c++)p[c]=h(x[c])}else{var y=u+"0",v="d"+u,m=y in s?h(s[y]):0,_=s[v]?h(s[v]):(t.period||2*Math.PI)/g;for(p=new Array(g),c=0;c<g;c++)p[c]=m+c*_}return p},t.setGeometry=function(){var s,u,p,c,x=i.sector,g=x.map(l),h={clockwise:-1,counterclockwise:1}[t.direction],y=l(t.rotation),v=function(S){return h*S+y},m=function(S){return(S-y)/h};switch(r){case"linear":u=s=A.identity,c=l,p=T,t.range=A.isFullCircle(g)?[x[0],x[0]+360]:g.map(m).map(T);break;case"category":var _=t._categories.length,f=t.period?Math.max(t.period,_):_;0===f&&(f=1),u=c=function(S){return 2*S*Math.PI/f},s=p=function(S){return S*f/Math.PI/2},t.range=[0,f]}t.c2g=function(S){return v(u(S))},t.g2c=function(S){return s(m(S))},t.t2g=function(S){return v(c(S))},t.g2t=function(S){return p(m(S))}}}(b,d)}var t,r}},39779:function(ee){"use strict";ee.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(ee){"use strict";function D(l){return l<0?-1:l>0?1:0}function e(l){var T=l[0],b=l[1];if(!isFinite(T)||!isFinite(b))return[1,0];var d=(T+1)*(T+1)+b*b;return[(T*T+b*b-1)/d,2*b/d]}function A(l,T){return[T[0]*l.radius+l.cx,-T[1]*l.radius+l.cy]}function k(l,T){return T*l.radius}ee.exports={smith:e,reactanceArc:function(l,T,b,d){var a=A(l,e([b,T])),t=a[0],i=a[1],r=A(l,e([d,T])),n=r[0],o=r[1];if(0===T)return["M"+t+","+i,"L"+n+","+o].join(" ");var s=k(l,1/Math.abs(T));return["M"+t+","+i,"A"+s+","+s+" 0 0,"+(T<0?1:0)+" "+n+","+o].join(" ")},resistanceArc:function(l,T,b,d){var a=k(l,1/(T+1)),t=A(l,e([T,b])),i=t[0],r=t[1],n=A(l,e([T,d])),o=n[0],s=n[1];if(D(b)!==D(d)){var u=A(l,e([T,0]));return["M"+i+","+r,"A"+a+","+a+" 0 0,"+(0<b?0:1)+" "+u[0]+","+u[1],"A"+a+","+a+" 0 0,"+(d<0?0:1)+o+","+s].join(" ")}return["M"+i+","+r,"A"+a+","+a+" 0 0,"+(d<b?0:1)+" "+o+","+s].join(" ")},smithTransform:A}},7504:function(ee,D,e){"use strict";var A=e(27659).AU,k=e(71828).counterRegex,l=e(77997),T=e(39779),b=T.attr,d=T.name,a=k(d),t={};t[b]={valType:"subplotid",dflt:d,editType:"calc"},ee.exports={attr:b,name:d,idRoot:d,idRegex:a,attrRegex:a,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:function(i){for(var r=i._fullLayout,n=i.calcdata,o=r._subplots[d],s=0;s<o.length;s++){var u=o[s],p=A(n,d,u),c=r[u]._subplot;c||(c=l(i,u,!0),r[u]._subplot=c),c.plot(p,r,i._promises)}},clean:function(i,r,n,o){for(var s=o._subplots[d]||[],u=0;u<s.length;u++){var p=s[u],c=o[p]._subplot;if(!r[p]&&c)for(var x in c.framework.remove(),c.clipPaths)c.clipPaths[x].remove()}},toSVG:e(93612).toSVG}},33419:function(ee,D,e){"use strict";var A=e(22399),k=e(13838),l=e(27670).Y,T=e(71828).extendFlat,b=e(30962).overrideAll,d=b({color:k.color,showline:T({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:T({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),a=b({ticklen:k.ticklen,tickwidth:T({},k.tickwidth,{dflt:2}),tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,tickfont:k.tickfont,tickformat:k.tickformat,hoverformat:k.hoverformat,layer:k.layer},"plot","from-root"),t=T({visible:T({},k.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:T({},k.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},d,a),i=T({visible:T({},k.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:k.ticks,editType:"calc"},d,a);ee.exports={domain:l({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:A.background},realaxis:t,imaginaryaxis:i,editType:"calc"}},9558:function(ee,D,e){"use strict";var A,k,l,T=e(71828),b=e(7901),d=e(44467),a=e(49119),t=e(27659).NG,i=e(89426),r=e(96115),n=e(92128),o=e(21994),s=e(33419),u=e(39779),p=u.axisNames,c=(A=function(g){return g.slice().reverse().map(function(h){return-h}).concat([0]).concat(g)},k=String,l={},function(g){var h=k?k(g):g;if(h in l)return l[h];var y=A(g);return l[h]=y,y});function x(g,h,y,v){var m=y("bgcolor");v.bgColor=b.combine(m,v.paper_bgcolor);var _,f=t(v.fullData,u.name,v.id),S=v.layoutOut;function w(j,G){return y(_+"."+j,G)}for(var E=0;E<p.length;E++){T.isPlainObject(g[_=p[E]])||(g[_]={});var L=g[_],C=d.newContainer(h,_);C._id=C._name=_,C._attr=v.id+"."+_,C._traceIndices=f.map(function(j){return j._expandedIndex});var O=w("visible");if(C.type="linear",o(C,S),i(L,C,w,C.type),O){var R,q,P,U,N="realaxis"===_;N&&w("side"),N?w("tickvals"):w("tickvals",c(h.realaxis.tickvals||s.realaxis.tickvals.dflt));var F=v.font||{};O&&(q=(R=w("color"))===L.color?R:F.color,P=F.size,U=F.family),r(L,C,w,C.type,{noTicklabelstep:!0,noAng:!N,noExp:!0,font:{color:q,size:P,family:U}}),T.coerce2(g,h,s,_+".ticklen"),T.coerce2(g,h,s,_+".tickwidth"),T.coerce2(g,h,s,_+".tickcolor",h.color),w("ticks")||(delete h[_].ticklen,delete h[_].tickwidth,delete h[_].tickcolor),n(L,C,w,{dfltColor:R,bgColor:v.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[_]}),w("layer")}w("hoverformat"),delete C.type,C._input=L}}ee.exports=function(g,h,y){a(g,h,y,{noUirevision:!0,type:u.name,attributes:s,handleDefaults:x,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:y,layoutOut:h})}},49119:function(ee,D,e){"use strict";var A=e(71828),k=e(44467),l=e(27670).c;ee.exports=function(T,b,d,a){var t,i,n=a.attributes,o=a.handleDefaults,s=a.partition||"x",u=b._subplots[a.type],p=u.length,c=p&&u[0].replace(/\d+$/,"");function x(v,m){return A.coerce(t,i,n,v,m)}for(var g=0;g<p;g++){var h=u[g];t=T[h]?T[h]:T[h]={},i=k.newContainer(b,h,c),a.noUirevision||x("uirevision",b.uirevision);var y={};y[s]=[g/p,(g+1)/p],l(i,b,x,y),a.id=h,o(t,i,x,a)}}},5386:function(ee,D,e){"use strict";function k(l){var T=l.description?" "+l.description:"",b=l.keys||[];if(b.length>0){for(var d=[],a=0;a<b.length;a++)d[a]="`"+b[a]+"`";T+="Finally, the template string has access to ",T=1===b.length?T+"variable "+d[0]:T+"variables "+d.slice(0,-1).join(", ")+" and "+d.slice(-1)+"."}return T}e(31562),D.fF=function(l,T){l=l||{},k(T=T||{});var b={valType:"string",dflt:"",editType:l.editType||"none"};return!1!==l.arrayOk&&(b.arrayOk=!0),b},D.si=function(l,T){l=l||{},k(T=T||{});var b={valType:"string",dflt:"",editType:l.editType||"calc"};return!1!==l.arrayOk&&(b.arrayOk=!0),b},D.R=function(l,T){return l=l||{},k(T=T||{}),{valType:"string",dflt:"",editType:l.editType||"arraydraw"}}},61639:function(ee,D,e){"use strict";var A=e(64380),k=e(27659).AU,l=e(71828).counterRegex,T="ternary";D.name=T;var b=D.attr="subplot";D.idRoot=T,D.idRegex=D.attrRegex=l(T),(D.attributes={})[b]={valType:"subplotid",dflt:"ternary",editType:"calc"},D.layoutAttributes=e(81367),D.supplyLayoutDefaults=e(25369),D.plot=function(d){for(var a=d._fullLayout,t=d.calcdata,i=a._subplots[T],r=0;r<i.length;r++){var n=i[r],o=k(t,T,n),s=a[n]._subplot;s||(s=new A({id:n,graphDiv:d,container:a._ternarylayer.node()},a),a[n]._subplot=s),s.plot(o,a,d._promises)}},D.clean=function(d,a,t,i){for(var r=i._subplots[T]||[],n=0;n<r.length;n++){var o=r[n],s=i[o]._subplot;!a[o]&&s&&(s.plotContainer.remove(),s.clipDef.remove(),s.clipDefRelative.remove(),s.layers["a-title"].remove(),s.layers["b-title"].remove(),s.layers["c-title"].remove())}}},81367:function(ee,D,e){"use strict";var A=e(22399),k=e(27670).Y,l=e(13838),T=e(30962).overrideAll,b=e(1426).extendFlat,d={title:{text:l.title.text,font:l.title.font},color:l.color,tickmode:l.minor.tickmode,nticks:b({},l.nticks,{dflt:6,min:1}),tick0:l.tick0,dtick:l.dtick,tickvals:l.tickvals,ticktext:l.ticktext,ticks:l.ticks,ticklen:l.ticklen,tickwidth:l.tickwidth,tickcolor:l.tickcolor,ticklabelstep:l.ticklabelstep,showticklabels:l.showticklabels,labelalias:l.labelalias,showtickprefix:l.showtickprefix,tickprefix:l.tickprefix,showticksuffix:l.showticksuffix,ticksuffix:l.ticksuffix,showexponent:l.showexponent,exponentformat:l.exponentformat,minexponent:l.minexponent,separatethousands:l.separatethousands,tickfont:l.tickfont,tickangle:l.tickangle,tickformat:l.tickformat,tickformatstops:l.tickformatstops,hoverformat:l.hoverformat,showline:b({},l.showline,{dflt:!0}),linecolor:l.linecolor,linewidth:l.linewidth,showgrid:b({},l.showgrid,{dflt:!0}),gridcolor:l.gridcolor,gridwidth:l.gridwidth,griddash:l.griddash,layer:l.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:l._deprecated.title,titlefont:l._deprecated.titlefont}},a=ee.exports=T({domain:k({name:"ternary"}),bgcolor:{valType:"color",dflt:A.background},sum:{valType:"number",dflt:1,min:0},aaxis:d,baxis:d,caxis:d},"plot","from-root");a.uirevision={valType:"any",editType:"none"},a.aaxis.uirevision=a.baxis.uirevision=a.caxis.uirevision={valType:"any",editType:"none"}},25369:function(ee,D,e){"use strict";var A=e(7901),k=e(44467),l=e(71828),T=e(49119),b=e(96115),d=e(89426),a=e(38701),t=e(26218),i=e(92128),r=e(81367),n=["aaxis","baxis","caxis"];function o(u,p,c,x){var g,h,y,v=c("bgcolor"),m=c("sum");x.bgColor=A.combine(v,x.paper_bgcolor);for(var _=0;_<n.length;_++)h=u[g=n[_]]||{},(y=k.newContainer(p,g))._name=g,s(h,y,x,p);var f=p.aaxis,S=p.baxis,w=p.caxis;f.min+S.min+w.min>=m&&(f.min=0,S.min=0,w.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function s(u,p,c,x){var g=r[p._name];function h(S,w){return l.coerce(u,p,g,S,w)}h("uirevision",x.uirevision),p.type="linear";var y=h("color"),v=y!==g.color.dflt?y:c.font.color,m=p._name.charAt(0).toUpperCase(),_="Component "+m,f=h("title.text",_);p._hovertitle=f===_?f:m,l.coerceFont(h,"title.font",{family:c.font.family,size:l.bigFont(c.font.size),color:v}),h("min"),t(u,p,h,"linear"),d(u,p,h,"linear"),b(u,p,h,"linear"),a(u,p,h,{outerTicks:!0}),h("showticklabels")&&(l.coerceFont(h,"tickfont",{family:c.font.family,size:c.font.size,color:v}),h("tickangle"),h("tickformat")),i(u,p,h,{dfltColor:y,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:g}),h("hoverformat"),h("layer")}ee.exports=function(u,p,c){T(u,p,c,{type:"ternary",attributes:r,handleDefaults:o,font:p.font,paper_bgcolor:p.paper_bgcolor})}},64380:function(ee,D,e){"use strict";var A=e(39898),k=e(84267),l=e(73972),T=e(71828),b=T.strTranslate,d=T._,a=e(7901),t=e(91424),i=e(21994),r=e(1426).extendFlat,n=e(74875),o=e(89298),s=e(28569),u=e(30211),p=e(64505),c=p.freeMode,x=p.rectMode,g=e(92998),h=e(47322).prepSelect,y=e(47322).selectOnClick,v=e(47322).clearOutline,m=e(47322).clearSelectionsCache,_=e(85555);function f(P,U){this.id=P.id,this.graphDiv=P.graphDiv,this.init(U),this.makeFramework(U),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}ee.exports=f;var S=f.prototype;S.init=function(P){this.container=P._ternarylayer,this.defs=P._defs,this.layoutId=P._uid,this.traceHash={},this.layers={}},S.plot=function(P,U){var N=this,F=U[N.id],j=U._size;N._hasClipOnAxisFalse=!1;for(var G=0;G<P.length;G++)if(!1===P[G][0].trace.cliponaxis){N._hasClipOnAxisFalse=!0;break}N.updateLayers(F),N.adjustLayout(F,j),n.generalUpdatePerTraceModule(N.graphDiv,N,P,F),N.layers.plotbg.select("path").call(a.fill,F.bgcolor)},S.makeFramework=function(P){var U=this,N=U.graphDiv,F=P[U.id],j=U.clipId="clip"+U.layoutId+U.id,G=U.clipIdRelative="clip-relative"+U.layoutId+U.id;U.clipDef=T.ensureSingleById(P._clips,"clipPath",j,function(te){te.append("path").attr("d","M0,0Z")}),U.clipDefRelative=T.ensureSingleById(P._clips,"clipPath",G,function(te){te.append("path").attr("d","M0,0Z")}),U.plotContainer=T.ensureSingle(U.container,"g",U.id),U.updateLayers(F),t.setClipUrl(U.layers.backplot,j,N),t.setClipUrl(U.layers.grids,j,N)},S.updateLayers=function(P){var U=this.layers,N=["draglayer","plotbg","backplot","grids"];"below traces"===P.aaxis.layer&&N.push("aaxis","aline"),"below traces"===P.baxis.layer&&N.push("baxis","bline"),"below traces"===P.caxis.layer&&N.push("caxis","cline"),N.push("frontplot"),"above traces"===P.aaxis.layer&&N.push("aaxis","aline"),"above traces"===P.baxis.layer&&N.push("baxis","bline"),"above traces"===P.caxis.layer&&N.push("caxis","cline");var F=this.plotContainer.selectAll("g.toplevel").data(N,String),j=["agrid","bgrid","cgrid"];F.enter().append("g").attr("class",function(G){return"toplevel "+G}).each(function(G){var te=A.select(this);U[G]=te,"frontplot"===G?te.append("g").classed("scatterlayer",!0):"backplot"===G?te.append("g").classed("maplayer",!0):"plotbg"===G?te.append("path").attr("d","M0,0Z"):"aline"===G||"bline"===G||"cline"===G?te.append("path"):"grids"===G&&j.forEach(function(J){U[J]=te.append("g").classed("grid "+J,!0)})}),F.order()};var w=Math.sqrt(4/3);S.adjustLayout=function(P,U){var N,F,j,G,te,J,X=this,Y=P.domain,W=(Y.x[0]+Y.x[1])/2,$=(Y.y[0]+Y.y[1])/2,ne=Y.x[1]-Y.x[0],re=Y.y[1]-Y.y[0],oe=ne*U.w,ue=re*U.h,xe=P.sum,Me=P.aaxis.min,me=P.baxis.min,pe=P.caxis.min;oe>w*ue?j=(G=ue)*w:G=(j=oe)/w,te=ne*j/oe,J=re*G/ue,F=U.t+U.h*(1-$)-G/2,X.x0=N=U.l+U.w*W-j/2,X.y0=F,X.w=j,X.h=G,X.sum=xe,X.xaxis={type:"linear",range:[Me+2*pe-xe,xe-Me-2*me],domain:[W-te/2,W+te/2],_id:"x"},i(X.xaxis,X.graphDiv._fullLayout),X.xaxis.setScale(),X.xaxis.isPtWithinRange=function(Ie){return Ie.a>=X.aaxis.range[0]&&Ie.a<=X.aaxis.range[1]&&Ie.b>=X.baxis.range[1]&&Ie.b<=X.baxis.range[0]&&Ie.c>=X.caxis.range[1]&&Ie.c<=X.caxis.range[0]},X.yaxis={type:"linear",range:[Me,xe-me-pe],domain:[$-J/2,$+J/2],_id:"y"},i(X.yaxis,X.graphDiv._fullLayout),X.yaxis.setScale(),X.yaxis.isPtWithinRange=function(){return!0};var ge=X.yaxis.domain[0],Pe=X.aaxis=r({},P.aaxis,{range:[Me,xe-me-pe],side:"left",tickangle:(+P.aaxis.tickangle||0)-30,domain:[ge,ge+J*w],anchor:"free",position:0,_id:"y",_length:j});i(Pe,X.graphDiv._fullLayout),Pe.setScale();var _e=X.baxis=r({},P.baxis,{range:[xe-Me-pe,me],side:"bottom",domain:X.xaxis.domain,anchor:"free",position:0,_id:"x",_length:j});i(_e,X.graphDiv._fullLayout),_e.setScale();var we=X.caxis=r({},P.caxis,{range:[xe-Me-me,pe],side:"right",tickangle:(+P.caxis.tickangle||0)+30,domain:[ge,ge+J*w],anchor:"free",position:0,_id:"y",_length:j});i(we,X.graphDiv._fullLayout),we.setScale();var se="M"+N+","+(F+G)+"h"+j+"l-"+j/2+",-"+G+"Z";X.clipDef.select("path").attr("d",se),X.layers.plotbg.select("path").attr("d",se);var ae="M0,"+G+"h"+j+"l-"+j/2+",-"+G+"Z";X.clipDefRelative.select("path").attr("d",ae);var fe=b(N,F);X.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",fe),X.clipDefRelative.select("path").attr("transform",null);var Ee=b(N-_e._offset,F+G);X.layers.baxis.attr("transform",Ee),X.layers.bgrid.attr("transform",Ee);var ke=b(N+j/2,F)+"rotate(30)"+b(0,-Pe._offset);X.layers.aaxis.attr("transform",ke),X.layers.agrid.attr("transform",ke);var be=b(N+j/2,F)+"rotate(-30)"+b(0,-we._offset);X.layers.caxis.attr("transform",be),X.layers.cgrid.attr("transform",be),X.drawAxes(!0),X.layers.aline.select("path").attr("d",Pe.showline?"M"+N+","+(F+G)+"l"+j/2+",-"+G:"M0,0").call(a.stroke,Pe.linecolor||"#000").style("stroke-width",(Pe.linewidth||0)+"px"),X.layers.bline.select("path").attr("d",_e.showline?"M"+N+","+(F+G)+"h"+j:"M0,0").call(a.stroke,_e.linecolor||"#000").style("stroke-width",(_e.linewidth||0)+"px"),X.layers.cline.select("path").attr("d",we.showline?"M"+(N+j/2)+","+F+"l"+j/2+","+G:"M0,0").call(a.stroke,we.linecolor||"#000").style("stroke-width",(we.linewidth||0)+"px"),X.graphDiv._context.staticPlot||X.initInteractions(),t.setClipUrl(X.layers.frontplot,X._hasClipOnAxisFalse?null:X.clipId,X.graphDiv)},S.drawAxes=function(P){var U=this,N=U.graphDiv,F=U.id.substr(7)+"title",j=U.layers,G=U.aaxis,te=U.baxis,J=U.caxis;if(U.drawAx(G),U.drawAx(te),U.drawAx(J),P){var X=Math.max(G.showticklabels?G.tickfont.size/2:0,(J.showticklabels?.75*J.tickfont.size:0)+("outside"===J.ticks?.87*J.ticklen:0)),Y=(te.showticklabels?te.tickfont.size:0)+("outside"===te.ticks?te.ticklen:0)+3;j["a-title"]=g.draw(N,"a"+F,{propContainer:G,propName:U.id+".aaxis.title",placeholder:d(N,"Click to enter Component A title"),attributes:{x:U.x0+U.w/2,y:U.y0-G.title.font.size/3-X,"text-anchor":"middle"}}),j["b-title"]=g.draw(N,"b"+F,{propContainer:te,propName:U.id+".baxis.title",placeholder:d(N,"Click to enter Component B title"),attributes:{x:U.x0-Y,y:U.y0+U.h+.83*te.title.font.size+Y,"text-anchor":"middle"}}),j["c-title"]=g.draw(N,"c"+F,{propContainer:J,propName:U.id+".caxis.title",placeholder:d(N,"Click to enter Component C title"),attributes:{x:U.x0+U.w+Y,y:U.y0+U.h+.83*J.title.font.size+Y,"text-anchor":"middle"}})}},S.drawAx=function(P){var U,N=this,F=N.graphDiv,j=P._name,G=j.charAt(0),te=P._id,J=N.layers[j],X=G+"tickLayout",Y=(U=P).ticks+String(U.ticklen)+String(U.showticklabels);N[X]!==Y&&(J.selectAll("."+te+"tick").remove(),N[X]=Y),P.setScale();var W=o.calcTicks(P),$=o.clipEnds(P,W),ne=o.makeTransTickFn(P),re=o.getTickSigns(P)[2],oe=T.deg2rad(30),ue=re*(P.linewidth||1)/2,xe=re*P.ticklen,Me=N.w,me=N.h,pe="b"===G?"M0,"+ue+"l"+Math.sin(oe)*xe+","+Math.cos(oe)*xe:"M"+ue+",0l"+Math.cos(oe)*xe+","+-Math.sin(oe)*xe,ge={a:"M0,0l"+me+",-"+Me/2,b:"M0,0l-"+Me/2+",-"+me,c:"M0,0l-"+me+","+Me/2}[G];o.drawTicks(F,P,{vals:"inside"===P.ticks?$:W,layer:J,path:pe,transFn:ne,crisp:!1}),o.drawGrid(F,P,{vals:$,layer:N.layers[G+"grid"],path:ge,transFn:ne,crisp:!1}),o.drawLabels(F,P,{vals:W,layer:J,transFn:ne,labelFns:o.makeLabelFns(P,0,30)})};var E=_.MINZOOM/2+.87,L="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(.87*E+4.5)+"l2.6,1.5l-"+E/2+","+.87*E+"Z",C="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-2.6,1.5l"+E/2+","+.87*E+"Z",O="m0,1l"+E/2+","+.87*E+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-"+(E/2+2.6)+","+(.87*E+4.5)+"l2.6,1.5l"+E/2+",-"+.87*E+"Z",R=!0;function q(P){A.select(P).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}S.clearOutline=function(){m(this.dragOptions),v(this.dragOptions.gd)},S.initInteractions=function(){var P,U,N,F,j,G,te,J,X,Y,W,$,ne=this,re=ne.layers.plotbg.select("path").node(),oe=ne.graphDiv,ue=oe._fullLayout._zoomlayer;function xe(ae){var fe={};return fe[ne.id+".aaxis.min"]=ae.a,fe[ne.id+".baxis.min"]=ae.b,fe[ne.id+".caxis.min"]=ae.c,fe}function Me(ae,fe){var Ee=oe._fullLayout.clickmode;q(oe),2===ae&&(oe.emit("plotly_doubleclick",null),l.call("_guiRelayout",oe,xe({a:0,b:0,c:0}))),Ee.indexOf("select")>-1&&1===ae&&y(fe,oe,[ne.xaxis],[ne.yaxis],ne.id,ne.dragOptions),Ee.indexOf("event")>-1&&u.click(oe,fe,ne.id)}function me(ae,fe){return 1-fe/ne.h}function pe(ae,fe){return 1-(ae+(ne.h-fe)/Math.sqrt(3))/ne.w}function ge(ae,fe){return(ae-(ne.h-fe)/Math.sqrt(3))/ne.w}function Pe(ae,fe){var Ee=N+ae*P,ke=F+fe*U,be=Math.max(0,Math.min(1,me(0,F),me(0,ke))),Ie=Math.max(0,Math.min(1,pe(N,F),pe(Ee,ke))),Fe=Math.max(0,Math.min(1,ge(N,F),ge(Ee,ke))),ce=(be/2+Fe)*ne.w,Te=(1-be/2-Ie)*ne.w,ve=(ce+Te)/2,Ce=Te-ce,Re=(1-be)*ne.h,Oe=Re-Ce/w;Ce<_.MINZOOM?(te=j,W.attr("d",X),$.attr("d","M0,0Z")):(te={a:j.a+be*G,b:j.b+Ie*G,c:j.c+Fe*G},W.attr("d",X+"M"+ce+","+Re+"H"+Te+"L"+ve+","+Oe+"L"+ce+","+Re+"Z"),$.attr("d","M"+N+","+F+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+ce+","+Re+L+"M"+Te+","+Re+C+"M"+ve+","+Oe+O)),Y||(W.transition().style("fill",J>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),$.transition().style("opacity",1).duration(200),Y=!0),oe.emit("plotly_relayouting",xe(te))}function _e(){q(oe),te!==j&&(l.call("_guiRelayout",oe,xe(te)),R&&oe.data&&oe._context.showTips&&(T.notifier(d(oe,"Double-click to zoom back out"),"long"),R=!1))}function we(ae,fe){var Ee=ae/ne.xaxis._m,ke=fe/ne.yaxis._m,be=[(te={a:j.a-ke,b:j.b+(Ee+ke)/2,c:j.c-(Ee-ke)/2}).a,te.b,te.c].sort(T.sorterAsc),Ie=be.indexOf(te.a),Fe=be.indexOf(te.b),ce=be.indexOf(te.c);be[0]<0&&(be[1]+be[0]/2<0?(be[2]+=be[0]+be[1],be[0]=be[1]=0):(be[2]+=be[0]/2,be[1]+=be[0]/2,be[0]=0),fe=(j.a-(te={a:be[Ie],b:be[Fe],c:be[ce]}).a)*ne.yaxis._m,ae=(j.c-te.c-j.b+te.b)*ne.xaxis._m);var Te=b(ne.x0+ae,ne.y0+fe);ne.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Te);var ve=b(-ae,-fe);ne.clipDefRelative.select("path").attr("transform",ve),ne.aaxis.range=[te.a,ne.sum-te.b-te.c],ne.baxis.range=[ne.sum-te.a-te.c,te.b],ne.caxis.range=[ne.sum-te.a-te.b,te.c],ne.drawAxes(!1),ne._hasClipOnAxisFalse&&ne.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,ne),oe.emit("plotly_relayouting",xe(te))}function se(){l.call("_guiRelayout",oe,xe(te))}this.dragOptions={element:re,gd:oe,plotinfo:{id:ne.id,domain:oe._fullLayout[ne.id].domain,xaxis:ne.xaxis,yaxis:ne.yaxis},subplot:ne.id,prepFn:function(ae,fe,Ee){ne.dragOptions.xaxes=[ne.xaxis],ne.dragOptions.yaxes=[ne.yaxis],P=oe._fullLayout._invScaleX,U=oe._fullLayout._invScaleY;var ke=ne.dragOptions.dragmode=oe._fullLayout.dragmode;ne.dragOptions.minDrag=c(ke)?1:void 0,"zoom"===ke?(ne.dragOptions.moveFn=Pe,ne.dragOptions.clickFn=Me,ne.dragOptions.doneFn=_e,function(be,Ie,Fe){var ce=re.getBoundingClientRect();N=Ie-ce.left,F=Fe-ce.top,oe._fullLayout._calcInverseTransform(oe);var ve=T.apply3DTransform(oe._fullLayout._invTransform)(N,F);N=ve[0],F=ve[1],te=j={a:ne.aaxis.range[0],b:ne.baxis.range[1],c:ne.caxis.range[1]},G=ne.aaxis.range[1]-j.a,J=k(ne.graphDiv._fullLayout[ne.id].bgcolor).getLuminance(),X="M0,"+ne.h+"L"+ne.w/2+", 0L"+ne.w+","+ne.h+"Z",Y=!1,W=ue.append("path").attr("class","zoombox").attr("transform",b(ne.x0,ne.y0)).style({fill:J>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",X),$=ue.append("path").attr("class","zoombox-corners").attr("transform",b(ne.x0,ne.y0)).style({fill:a.background,stroke:a.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),ne.clearOutline(oe)}(0,fe,Ee)):"pan"===ke?(ne.dragOptions.moveFn=we,ne.dragOptions.clickFn=Me,ne.dragOptions.doneFn=se,te=j={a:ne.aaxis.range[0],b:ne.baxis.range[1],c:ne.caxis.range[1]},ne.clearOutline(oe)):(x(ke)||c(ke))&&h(ae,fe,Ee,ne.dragOptions,ke)}},re.onmousemove=function(ae){u.hover(oe,ae,ne.id),oe._fullLayout._lasthover=re,oe._fullLayout._hoversubplot=ne.id},re.onmouseout=function(ae){oe._dragging||s.unhover(oe,ae)},s.init(this.dragOptions)}},73972:function(ee,D,e){"use strict";var A=e(47769),k=e(64213),l=e(75138),T=e(41965),b=e(24401).addStyleRule,d=e(1426),a=e(9012),t=e(10820),i=d.extendFlat,r=d.extendDeepAll;function n(y){var v=y.name,m=y.categories,_=y.meta;if(D.modules[v])A.log("Type "+v+" already registered");else{D.subplotsRegistry[y.basePlotModule.name]||function(R){var q=R.name;if(D.subplotsRegistry[q])A.log("Plot type "+q+" already registered.");else for(var P in p(R),D.subplotsRegistry[q]=R,D.componentsRegistry)g(P,R.name)}(y.basePlotModule);for(var f={},S=0;S<m.length;S++)f[m[S]]=!0,D.allCategories[m[S]]=!0;for(var w in D.modules[v]={_module:y,categories:f},_&&Object.keys(_).length&&(D.modules[v].meta=_),D.allTypes.push(v),D.componentsRegistry)c(w,v);y.layoutAttributes&&i(D.traceLayoutAttributes,y.layoutAttributes);var E=y.basePlotModule,L=E.name;if("mapbox"===L){var C=E.constants.styleRules;for(var O in C)b(".js-plotly-plot .plotly .mapboxgl-"+O,C[O])}"geo"!==L&&"mapbox"!==L||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function o(y){if("string"!=typeof y.name)throw new Error("Component module *name* must be a string.");var v=y.name;for(var m in D.componentsRegistry[v]=y,y.layoutAttributes&&(y.layoutAttributes._isLinkedToArray&&l(D.layoutArrayContainers,v),p(y)),D.modules)c(v,m);for(var _ in D.subplotsRegistry)g(v,_);for(var f in D.transformsRegistry)x(v,f);y.schema&&y.schema.layout&&r(t,y.schema.layout)}function s(y){if("string"!=typeof y.name)throw new Error("Transform module *name* must be a string.");var v="Transform module "+y.name,m="function"==typeof y.transform,_="function"==typeof y.calcTransform;if(!m&&!_)throw new Error(v+" is missing a *transform* or *calcTransform* method.");for(var f in m&&_&&A.log([v+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),T(y.attributes)||A.log(v+" registered without an *attributes* object."),"function"!=typeof y.supplyDefaults&&A.log(v+" registered without a *supplyDefaults* method."),D.transformsRegistry[y.name]=y,D.componentsRegistry)x(f,y.name)}function u(y){var v=y.name,m=v.split("-")[0],_=y.dictionary,f=y.format,S=_&&Object.keys(_).length,w=f&&Object.keys(f).length,E=D.localeRegistry,L=E[v];if(L||(E[v]=L={}),m!==v){var C=E[m];C||(E[m]=C={}),S&&C.dictionary===L.dictionary&&(C.dictionary=_),w&&C.format===L.format&&(C.format=f)}S&&(L.dictionary=_),w&&(L.format=f)}function p(y){if(y.layoutAttributes){var v=y.layoutAttributes._arrayAttrRegexps;if(v)for(var m=0;m<v.length;m++)l(D.layoutArrayRegexes,v[m])}}function c(y,v){var m=D.componentsRegistry[y].schema;if(m&&m.traces){var _=m.traces[v];_&&r(D.modules[v]._module.attributes,_)}}function x(y,v){var m=D.componentsRegistry[y].schema;if(m&&m.transforms){var _=m.transforms[v];_&&r(D.transformsRegistry[v].attributes,_)}}function g(y,v){var m=D.componentsRegistry[y].schema;if(m&&m.subplots){var _=D.subplotsRegistry[v],f=_.layoutAttributes,S="subplot"===_.attr?_.name:_.attr;Array.isArray(S)&&(S=S[0]);var w=m.subplots[S];f&&w&&r(f,w)}}function h(y){return"object"==typeof y&&(y=y.type),y}D.modules={},D.allCategories={},D.allTypes=[],D.subplotsRegistry={},D.transformsRegistry={},D.componentsRegistry={},D.layoutArrayContainers=[],D.layoutArrayRegexes=[],D.traceLayoutAttributes={},D.localeRegistry={},D.apiMethodRegistry={},D.collectableSubplotTypes=null,D.register=function(y){if(D.collectableSubplotTypes=null,!y)throw new Error("No argument passed to Plotly.register.");y&&!Array.isArray(y)&&(y=[y]);for(var v=0;v<y.length;v++){var m=y[v];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":n(m);break;case"transform":s(m);break;case"component":o(m);break;case"locale":u(m);break;case"apiMethod":D.apiMethodRegistry[m.name]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},D.getModule=function(y){var v=D.modules[h(y)];return!!v&&v._module},D.traceIs=function(y,v){if("various"===(y=h(y)))return!1;var m=D.modules[y];return m||(y&&A.log("Unrecognized trace type "+y+"."),m=D.modules[a.type.dflt]),!!m.categories[v]},D.getTransformIndices=function(y,v){for(var m=[],_=y.transforms||[],f=0;f<_.length;f++)_[f].type===v&&m.push(f);return m},D.hasTransform=function(y,v){for(var m=y.transforms||[],_=0;_<m.length;_++)if(m[_].type===v)return!0;return!1},D.getComponentMethod=function(y,v){var m=D.componentsRegistry[y];return m&&m[v]||k},D.call=function(){var y=arguments[0],v=[].slice.call(arguments,1);return D.apiMethodRegistry[y].apply(null,v)}},61914:function(ee,D,e){"use strict";var A=e(73972),k=e(71828),l=k.extendFlat,T=k.extendDeep;function b(d){var a;switch(d){case"themes__thumb":a={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":a={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:a={}}return a}ee.exports=function(d,a){var t,n=d.layout,o=T([],d.data),s=T({},n,b(a.tileClass)),u=d._context||{};if(a.width&&(s.width=a.width),a.height&&(s.height=a.height),"thumbnail"===a.tileClass||"themes__thumb"===a.tileClass){s.annotations=[];var p=Object.keys(s);for(t=0;t<p.length;t++)["xaxis","yaxis","zaxis"].indexOf(p[t].slice(0,5))>-1&&(s[p[t]].title={text:""});for(t=0;t<o.length;t++){var c=o[t];c.showscale=!1,c.marker&&(c.marker.showscale=!1),A.traceIs(c,"pie-like")&&(c.textposition="none")}}if(Array.isArray(a.annotations))for(t=0;t<a.annotations.length;t++)s.annotations.push(a.annotations[t]);var x=Object.keys(s).filter(function(m){return m.match(/^scene\d*$/)});if(x.length){var g={};for("thumbnail"===a.tileClass&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),t=0;t<x.length;t++){var h=s[x[t]];h.xaxis||(h.xaxis={}),h.yaxis||(h.yaxis={}),h.zaxis||(h.zaxis={}),l(h.xaxis,g),l(h.yaxis,g),l(h.zaxis,g),h._scene=null}}var y=document.createElement("div");a.tileClass&&(y.className=a.tileClass);var v={gd:y,td:y,layout:s,data:o,config:{staticPlot:void 0===a.staticPlot||a.staticPlot,plotGlPixelRatio:void 0===a.plotGlPixelRatio?2:a.plotGlPixelRatio,displaylogo:a.displaylogo||!1,showLink:a.showLink||!1,showTips:a.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return"transparent"!==a.setBackground&&(v.config.setBackground=a.setBackground||"opaque"),v.gd.defaultLayout=b(a.tileClass),v}},7239:function(ee,D,e){"use strict";var A=e(71828),k=e(403),l=e(22435),T=e(25095);ee.exports=function(b,d){var a;return A.isPlainObject(b)||(a=A.getGraphDiv(b)),(d=d||{}).format=d.format||"png",d.width=d.width||null,d.height=d.height||null,d.imageDataOnly=!0,new Promise(function(t,i){a&&a._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),A.isIE()&&"svg"!==d.format&&i(new Error(T.MSG_IE_BAD_FORMAT)),a&&(a._snapshotInProgress=!0);var r=k(b,d),n=d.filename||b.fn||"newplot";n+="."+d.format.replace("-","."),r.then(function(o){return a&&(a._snapshotInProgress=!1),l(o,n,d.format)}).then(function(o){t(o)}).catch(function(o){a&&(a._snapshotInProgress=!1),i(o)})})}},22435:function(ee,D,e){"use strict";var A=e(71828),k=e(25095);ee.exports=function(l,T,b){var d=document.createElement("a"),a="download"in d;return new Promise(function(t,i){var r,n;return A.isIE()?(r=k.createBlob(l,"svg"),window.navigator.msSaveBlob(r,T),r=null,t(T)):a?(r=k.createBlob(l,b),n=k.createObjectURL(r),d.href=n,d.download=T,document.body.appendChild(d),d.click(),document.body.removeChild(d),k.revokeObjectURL(n),r=null,t(T)):A.isSafari()?(k.octetStream(("svg"===b?",":";base64,")+encodeURIComponent(l)),t(T)):void i(new Error("download error"))})}},25095:function(ee,D,e){"use strict";var A=e(73972);D.getDelay=function(l){return l._has&&(l._has("gl3d")||l._has("gl2d")||l._has("mapbox"))?500:0},D.getRedrawFunc=function(l){return function(){A.getComponentMethod("colorbar","draw")(l)}},D.encodeSVG=function(l){return"data:image/svg+xml,"+encodeURIComponent(l)},D.encodeJSON=function(l){return"data:application/json,"+encodeURIComponent(l)};var k=window.URL||window.webkitURL;D.createObjectURL=function(l){return k.createObjectURL(l)},D.revokeObjectURL=function(l){return k.revokeObjectURL(l)},D.createBlob=function(l,T){if("svg"===T)return new window.Blob([l],{type:"image/svg+xml;charset=utf-8"});if("full-json"===T)return new window.Blob([l],{type:"application/json;charset=utf-8"});var b=function(d){for(var a=d.length,t=new ArrayBuffer(a),i=new Uint8Array(t),r=0;r<a;r++)i[r]=d.charCodeAt(r);return t}(window.atob(l));return new window.Blob([b],{type:"image/"+T})},D.octetStream=function(l){document.location.href="data:application/octet-stream"+l},D.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,D.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(ee,D,e){"use strict";var A=e(25095),k={getDelay:A.getDelay,getRedrawFunc:A.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};ee.exports=k},70942:function(ee,D,e){"use strict";var A=e(71828),k=e(15398).EventEmitter,l=e(25095);ee.exports=function(T){var b=T.emitter||new k,d=new Promise(function(a,t){var i=window.Image,r=T.svg,n=T.format||"png";if(A.isIE()&&"svg"!==n){var o=new Error(l.MSG_IE_BAD_FORMAT);return t(o),T.promise?d:b.emit("error",o)}var s,u,p=T.canvas,c=T.scale||1,h=c*(T.width||300),y=c*(T.height||150),v=p.getContext("2d",{willReadFrequently:!0}),m=new i;"svg"===n||A.isSafari()?u=l.encodeSVG(r):(s=l.createBlob(r,"svg"),u=l.createObjectURL(s)),p.width=h,p.height=y,m.onload=function(){var _;switch(s=null,l.revokeObjectURL(u),"svg"!==n&&v.drawImage(m,0,0,h,y),n){case"jpeg":_=p.toDataURL("image/jpeg");break;case"png":_=p.toDataURL("image/png");break;case"webp":_=p.toDataURL("image/webp");break;case"svg":_=u;break;default:var f="Image format is not jpeg, png, svg or webp.";if(t(new Error(f)),!T.promise)return b.emit("error",f)}a(_),T.promise||b.emit("success",_)},m.onerror=function(_){if(s=null,l.revokeObjectURL(u),t(_),!T.promise)return b.emit("error",_)},m.src=u});return T.promise?d:b}},56395:function(ee,D,e){"use strict";var A=e(15398).EventEmitter,k=e(73972),l=e(71828),T=e(25095),b=e(61914),d=e(5900),a=e(70942);ee.exports=function(t,i){var r=new A,n=b(t,{format:"png"}),o=n.gd;o.style.position="absolute",o.style.left="-5000px",document.body.appendChild(o);var s=T.getRedrawFunc(o);return k.call("_doPlot",o,n.data,n.layout,n.config).then(s).then(function(){var u=T.getDelay(o._fullLayout);setTimeout(function(){var p=d(o),c=document.createElement("canvas");c.id=l.randstr(),(r=a({format:i.format,width:o._fullLayout.width,height:o._fullLayout.height,canvas:c,emitter:r,svg:p})).clean=function(){o&&document.body.removeChild(o)}},u)}).catch(function(u){r.emit("error",u)}),r}},5900:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(91424),T=e(7901),b=e(77922),d=/"/g,a="TOBESTRIPPED",t=new RegExp('("'+a+")|("+a+'")',"g");ee.exports=function(i,r,n){var o,s=i._fullLayout,u=s._paper,p=s._toppaper,c=s.width,x=s.height;u.insert("rect",":first-child").call(l.setRect,0,0,c,x).call(T.fill,s.paper_bgcolor);var g=s._basePlotModules||[];for(o=0;o<g.length;o++){var h=g[o];h.toSVG&&h.toSVG(i)}if(p){var y=p.node().childNodes,v=Array.prototype.slice.call(y);for(o=0;o<v.length;o++){var m=v[o];m.childNodes.length&&u.node().appendChild(m)}}s._draggers&&s._draggers.remove(),u.node().style.background="",u.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var f=A.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){f.style({visibility:null,display:null});var S=this.style.fontFamily;S&&-1!==S.indexOf('"')&&f.style("font-family",S.replace(d,a))}else f.remove()}),u.selectAll(".gradient_filled,.pattern_filled").each(function(){var f=A.select(this),S=this.style.fill;S&&-1!==S.indexOf("url(")&&f.style("fill",S.replace(d,a));var w=this.style.stroke;w&&-1!==w.indexOf("url(")&&f.style("stroke",w.replace(d,a))}),"pdf"!==r&&"eps"!==r||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(b.xmlns,"xmlns",b.svg),u.node().setAttributeNS(b.xmlns,"xmlns:xlink",b.xlink),"svg"===r&&n&&(u.attr("width",n*c),u.attr("height",n*x),u.attr("viewBox","0 0 "+c+" "+x));var f,S,w,_=(new window.XMLSerializer).serializeToString(u.node());return _=(_=(f=_,S=A.select("body").append("div").style({display:"none"}).html(""),w=f.replace(/(&[^;]*;)/gi,function(E){return"&lt;"===E?"&#60;":"&rt;"===E?"&#62;":-1!==E.indexOf("<")||-1!==E.indexOf(">")?"":S.html(E).text()}),S.remove(),_=w).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(t,"'"),k.isIE()&&(_=(_=(_=_.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),_}},75341:function(ee,D,e){"use strict";var A=e(71828);ee.exports=function(k,l){for(var T=0;T<k.length;T++)k[T].i=T;A.mergeArray(l.text,k,"tx"),A.mergeArray(l.hovertext,k,"htx");var b=l.marker;if(b){A.mergeArray(b.opacity,k,"mo",!0),A.mergeArray(b.color,k,"mc");var d=b.line;d&&(A.mergeArray(d.color,k,"mlc"),A.mergeArrayCastPositive(d.width,k,"mlw"))}}},1486:function(ee,D,e){"use strict";var A=e(82196),k=e(12663).axisHoverFormat,l=e(5386).fF,T=e(5386).si,b=e(50693),d=e(41940),a=e(97313),t=e(79952).u,i=e(1426).extendFlat,r=d({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=i({},A.marker.line.width,{dflt:0}),o=i({width:n,editType:"calc"},b("marker.line")),s=i({line:o,editType:"calc"},b("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});ee.exports={x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),text:A.text,texttemplate:T({editType:"plot"},{keys:a.eventDataKeys}),hovertext:A.hovertext,hovertemplate:l({},{keys:a.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:i({},r,{}),insidetextfont:i({},r,{}),outsidetextfont:i({},r,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:i({},A.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:s,offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,selected:{marker:{opacity:A.selected.marker.opacity,color:A.selected.marker.color,editType:"style"},textfont:A.selected.textfont,editType:"style"},unselected:{marker:{opacity:A.unselected.marker.opacity,color:A.unselected.marker.color,editType:"style"},textfont:A.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(ee,D,e){"use strict";var A=e(89298),k=e(42973),l=e(52075).hasColorscale,T=e(78803),b=e(75341),d=e(66279);ee.exports=function(a,t){var i,r,n,o,s,u,p=A.getFromId(a,t.xaxis||"x"),c=A.getFromId(a,t.yaxis||"y"),x={msUTC:!(!t.base&&0!==t.base)};"h"===t.orientation?(i=p.makeCalcdata(t,"x",x),n=c.makeCalcdata(t,"y"),o=k(t,c,"y",n),s=!!t.yperiodalignment,u="y"):(i=c.makeCalcdata(t,"y",x),n=p.makeCalcdata(t,"x"),o=k(t,p,"x",n),s=!!t.xperiodalignment,u="x"),r=o.vals;for(var g=Math.min(r.length,i.length),h=new Array(g),y=0;y<g;y++)h[y]={p:r[y],s:i[y]},s&&(h[y].orig_p=n[y],h[y][u+"End"]=o.ends[y],h[y][u+"Start"]=o.starts[y]),t.ids&&(h[y].id=String(t.ids[y]));return l(t,"marker")&&T(a,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),l(t,"marker.line")&&T(a,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),b(h,t),d(h,t),h}},97313:function(ee){"use strict";ee.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(ee,D,e){"use strict";var A=e(92770),k=e(71828).isArrayOrTypedArray,l=e(50606).BADNUM,T=e(73972),b=e(89298),d=e(99082).getAxisGroup,a=e(61546);function t(g,h,y,v,m){if(v.length){var _,f,S,w;switch(function(E,L){var C,O;for(C=0;C<L.length;C++){var R,q=L[C],P=q[0].trace,U="funnel"===P.type?P._base:P.base,N="h"===P.orientation?P.xcalendar:P.ycalendar,F="category"===E.type||"multicategory"===E.type?function(){return null}:E.d2c;if(k(U)){for(O=0;O<Math.min(U.length,q.length);O++)R=F(U[O],0,N),A(R)?(q[O].b=+R,q[O].hasB=1):q[O].b=0;for(;O<q.length;O++)q[O].b=0}else{R=F(U,0,N);var j=A(R);for(R=j?R:0,O=0;O<q.length;O++)q[O].b=R,j&&(q[O].hasB=1)}}}(y,v),m.mode){case"overlay":i(h,y,v,m);break;case"group":for(_=[],f=[],S=0;S<v.length;S++)void 0===(w=v[S])[0].trace.offset?f.push(w):_.push(w);f.length&&(E=g,C=y,q=new a(f,{posAxis:L=h,sepNegVal:!1,overlapNoMerge:!(R=m).norm}),function(P,U,N,F){for(var j=P._fullLayout,J=N.minDiff,X=N.traces,Y=X.length,W=N.positions.length!==N.distinctPositions.length,$=J*(1-F.gap),ne=d(j,U._id)+X[0][0].trace.orientation,re=j._alignmentOpts[ne]||{},oe=0;oe<Y;oe++){var ue,xe,Me=X[oe],me=Me[0].trace,ge=Object.keys((re[me.alignmentgroup]||{}).offsetGroups||{}).length,Pe=(ue=ge?$/ge:W?$/Y:$)*(1-(F.groupgap||0));xe=ge?((2*me._offsetIndex+1-ge)*ue-Pe)/2:W?((2*oe+1-Y)*ue-Pe)/2:-Pe/2;var _e=Me[0].t;_e.barwidth=Pe,_e.poffset=xe,_e.bargroupwidth=$,_e.bardelta=J}N.binWidth=X[0][0].t.barwidth/100,n(N),o(U,N),s(U,N,W)}(E,L,q,R),function(P,U){for(var N=P.traces,F=0;F<N.length;F++){var j=N[F];if(void 0===j[0].trace.base)for(var G=new a([j],{posAxis:U,sepNegVal:!0,overlapNoMerge:!0}),te=0;te<j.length;te++){var J=j[te];if(J.p!==l){var X=G.put(J.p,J.b+J.s);X&&(J.b=X)}}}}(q,L),R.norm?(p(q),c(C,q,R)):u(C,q)),_.length&&i(h,y,_,m);break;case"stack":case"relative":for(_=[],f=[],S=0;S<v.length;S++)void 0===(w=v[S])[0].trace.base?f.push(w):_.push(w);f.length&&function(E,L,C,O,R){var q=new a(O,{posAxis:L,sepNegVal:"relative"===R.mode,overlapNoMerge:!(R.norm||"stack"===R.mode||"relative"===R.mode)});r(L,q,R),function(j,G,te){var J,X,Y,W,$,ne,re=x(j),oe=G.traces;for(W=0;W<oe.length;W++)if("funnel"===(X=(J=oe[W])[0].trace).type)for($=0;$<J.length;$++)(ne=J[$]).s!==l&&G.put(ne.p,-.5*ne.s);for(W=0;W<oe.length;W++){Y="funnel"===(X=(J=oe[W])[0].trace).type;var ue=[];for($=0;$<J.length;$++)if((ne=J[$]).s!==l){var xe,Me=G.put(ne.p,xe=Y?ne.s:ne.s+ne.b),me=Me+xe;ne.b=Me,ne[re]=me,te.norm||(ue.push(me),ne.hasB&&ue.push(Me))}te.norm||(X._extremes[j._id]=b.findExtremes(j,ue,{tozero:!0,padded:!0}))}}(C,q,R);for(var P=0;P<O.length;P++)for(var U=O[P],N=0;N<U.length;N++){var F=U[N];F.s!==l&&F.b+F.s===q.get(F.p,F.s)&&(F._outmost=!0)}R.norm&&c(C,q,R)}(0,h,y,f,m),_.length&&i(h,y,_,m)}!function(E,L){var C,O,R,q=x(L),P={},U=1/0,N=-1/0;for(C=0;C<E.length;C++)for(R=E[C],O=0;O<R.length;O++){var F=R[O].p;A(F)&&(U=Math.min(U,F),N=Math.max(N,F))}var j=1e4/(N-U),G=P.round=function(ne){return String(Math.round(j*(ne-U)))};for(C=0;C<E.length;C++){(R=E[C])[0].t.extents=P;var te=R[0].t.poffset,J=Array.isArray(te);for(O=0;O<R.length;O++){var X=R[O],Y=X[q]-X.w/2;if(A(Y)){var W=X[q]+X.w/2,$=G(X.p);P[$]=P[$]?[Math.min(Y,P[$][0]),Math.max(W,P[$][1])]:[Y,W]}X.p0=X.p+(J?te[O]:te),X.p1=X.p0+X.w,X.s0=X.b,X.s1=X.s0+X.s}}}(v,h)}var E,L,C,R,q}function i(g,h,y,v){for(var m=0;m<y.length;m++){var f=new a([y[m]],{posAxis:g,sepNegVal:!1,overlapNoMerge:!v.norm});r(g,f,v),v.norm?(p(f),c(h,f,v)):u(h,f)}}function r(g,h,y){for(var v=h.minDiff,m=h.traces,_=v*(1-y.gap),f=_*(1-(y.groupgap||0)),S=-f/2,w=0;w<m.length;w++){var E=m[w][0].t;E.barwidth=f,E.poffset=S,E.bargroupwidth=_,E.bardelta=v}h.binWidth=m[0][0].t.barwidth/100,n(h),o(g,h),s(g,h)}function n(g){var h,y,v=g.traces;for(h=0;h<v.length;h++){var m,_=v[h],f=_[0],S=f.trace,w=f.t,E=S._offset||S.offset,L=w.poffset;if(k(E)){for(m=Array.prototype.slice.call(E,0,_.length),y=0;y<m.length;y++)A(m[y])||(m[y]=L);for(y=m.length;y<_.length;y++)m.push(L);w.poffset=m}else void 0!==E&&(w.poffset=E);var C=S._width||S.width,O=w.barwidth;if(k(C)){var R=Array.prototype.slice.call(C,0,_.length);for(y=0;y<R.length;y++)A(R[y])||(R[y]=O);for(y=R.length;y<_.length;y++)R.push(O);if(w.barwidth=R,void 0===E){for(m=[],y=0;y<_.length;y++)m.push(L+(O-R[y])/2);w.poffset=m}}else void 0!==C&&(w.barwidth=C,void 0===E&&(w.poffset=L+(O-C)/2))}}function o(g,h){for(var y=h.traces,v=x(g),m=0;m<y.length;m++)for(var _=y[m],f=_[0].t,S=f.poffset,w=Array.isArray(S),E=f.barwidth,L=Array.isArray(E),C=0;C<_.length;C++){var O=_[C],R=O.w=L?E[C]:E;void 0===O.p&&(O.p=O[v],O["orig_"+v]=O[v]),O[v]=O.p+((w?S[C]:S)+R/2)}}function s(g,h,y){var v=h.traces,m=h.minDiff/2;b.minDtick(g,h.minDiff,h.distinctPositions[0],y);for(var _=0;_<v.length;_++){var f,S,w,E,L=v[_],C=L[0],O=C.trace,R=[];for(E=0;E<L.length;E++)S=(f=L[E]).p-m,R.push(S,w=f.p+m);if(O.width||O.offset){var q=C.t,P=q.poffset,U=q.barwidth,N=Array.isArray(P),F=Array.isArray(U);for(E=0;E<L.length;E++)w=(S=(f=L[E]).p+(N?P[E]:P))+(F?U[E]:U),R.push(S,w)}O._extremes[g._id]=b.findExtremes(g,R,{padded:!1})}}function u(g,h){for(var y=h.traces,v=x(g),m=0;m<y.length;m++){for(var _=y[m],f=_[0].trace,S="scatter"===f.type,w="v"===f.orientation,E=[],L=!1,C=0;C<_.length;C++){var O=_[C],R=S?0:O.b,q=S?w?O.y:O.x:R+O.s;O[v]=q,E.push(q),O.hasB&&E.push(R),O.hasB&&O.b||(L=!0)}f._extremes[g._id]=b.findExtremes(g,E,{tozero:L,padded:!0})}}function p(g){for(var h=g.traces,y=0;y<h.length;y++)for(var v=h[y],m=0;m<v.length;m++){var _=v[m];_.s!==l&&g.put(_.p,_.b+_.s)}}function c(g,h,y){var v=h.traces,m=x(g),_="fraction"===y.norm?1:100,f=_/1e9,S=g.l2c(g.c2l(0)),w="stack"===y.mode?_:S;function E(te){return A(g.c2l(te))&&(te<S-f||te>w+f||!A(S))}for(var L=0;L<v.length;L++){for(var C=v[L],O=C[0].trace,R=[],q=!1,P=!1,U=0;U<C.length;U++){var N=C[U];if(N.s!==l){var F=Math.abs(_/h.get(N.p,N.s));N.b*=F,N.s*=F;var j=N.b,G=j+N.s;N[m]=G,R.push(G),P=P||E(G),N.hasB&&(R.push(j),P=P||E(j)),N.hasB&&N.b||(q=!0)}}O._extremes[g._id]=b.findExtremes(g,R,{tozero:q,padded:P})}}function x(g){return g._id.charAt(0)}ee.exports={crossTraceCalc:function(g,h){for(var y=h.xaxis,v=h.yaxis,m=g._fullLayout,_=g._fullData,f=g.calcdata,S=[],w=[],E=0;E<_.length;E++){var L=_[E];if(!0===L.visible&&T.traceIs(L,"bar")&&L.xaxis===y._id&&L.yaxis===v._id&&("h"===L.orientation?S.push(f[E]):w.push(f[E]),L._computePh))for(var C=g.calcdata[E],O=0;O<C.length;O++)"function"==typeof C[O].ph0&&(C[O].ph0=C[O].ph0()),"function"==typeof C[O].ph1&&(C[O].ph1=C[O].ph1())}var R={xCat:"category"===y.type||"multicategory"===y.type,yCat:"category"===v.type||"multicategory"===v.type,mode:m.barmode,norm:m.barnorm,gap:m.bargap,groupgap:m.bargroupgap};t(g,y,v,w,R),t(g,v,y,S,R)},setGroupPositions:t}},90769:function(ee,D,e){"use strict";var A=e(71828),k=e(7901),l=e(73972),T=e(67513),b=e(73927),d=e(98340),a=e(26125),t=e(1486),i=A.coerceFont;function r(n,o,s,u,p,c){var x=!1!==(c=c||{}).moduleHasSelected,g=!1!==c.moduleHasUnselected,h=!1!==c.moduleHasConstrain,y=!1!==c.moduleHasCliponaxis,v=!1!==c.moduleHasTextangle,m=!1!==c.moduleHasInsideanchor,_=!!c.hasPathbar,f=Array.isArray(p)||"auto"===p,S=f||"inside"===p,w=f||"outside"===p;if(S||w){var E=i(u,"textfont",s.font),L=A.extendFlat({},E),C=!(n.textfont&&n.textfont.color);if(C&&delete L.color,i(u,"insidetextfont",L),_){var O=A.extendFlat({},E);C&&delete O.color,i(u,"pathbar.textfont",O)}w&&i(u,"outsidetextfont",E),x&&u("selected.textfont.color"),g&&u("unselected.textfont.color"),h&&u("constraintext"),y&&u("cliponaxis"),v&&u("textangle"),u("texttemplate")}S&&m&&u("insidetextanchor")}ee.exports={supplyDefaults:function(n,o,s,u){function p(h,y){return A.coerce(n,o,t,h,y)}if(T(n,o,u,p)){b(n,o,u,p),p("xhoverformat"),p("yhoverformat"),p("orientation",o.x&&!o.y?"h":"v"),p("base"),p("offset"),p("width"),p("text"),p("hovertext"),p("hovertemplate");var c=p("textposition");r(n,0,u,p,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),d(n,o,p,s,u);var x=(o.marker.line||{}).color,g=l.getComponentMethod("errorbars","supplyDefaults");g(n,o,x||k.defaultLine,{axis:"y"}),g(n,o,x||k.defaultLine,{axis:"x",inherit:"y"}),A.coerceSelectionMarkerOpacity(o,p)}else o.visible=!1},crossTraceDefaults:function(n,o){var u;function p(x){return A.coerce(u._input,u,t,x)}if("group"===o.barmode)for(var c=0;c<n.length;c++)"bar"===(u=n[c]).type&&a(u._input,u,o,p)},handleText:r}},58065:function(ee){"use strict";ee.exports=function(D,e,A){return D.x="xVal"in e?e.xVal:e.x,D.y="yVal"in e?e.yVal:e.y,e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),"h"===A.orientation?(D.label=D.y,D.value=D.x):(D.label=D.x,D.value=D.y),D}},69383:function(ee,D,e){"use strict";var A=e(92770),k=e(84267),l=e(71828).isArrayOrTypedArray;D.coerceString=function(T,b,d){if("string"==typeof b){if(b||!T.noBlank)return b}else if(("number"==typeof b||!0===b)&&!T.strict)return String(b);return void 0!==d?d:T.dflt},D.coerceNumber=function(T,b,d){if(A(b)){b=+b;var a=T.min,t=T.max;if(!(void 0!==a&&b<a||void 0!==t&&b>t))return b}return void 0!==d?d:T.dflt},D.coerceColor=function(T,b,d){return k(b).isValid()?b:void 0!==d?d:T.dflt},D.coerceEnumerated=function(T,b,d){return T.coerceNumber&&(b=+b),-1!==T.values.indexOf(b)?b:void 0!==d?d:T.dflt},D.getValue=function(T,b){var d;return Array.isArray(T)?b<T.length&&(d=T[b]):d=T,d},D.getLineWidth=function(T,b){return 0<b.mlw?b.mlw:l(T.marker.line.width)?0:T.marker.line.width}},95423:function(ee,D,e){"use strict";var A=e(30211),k=e(73972),l=e(7901),T=e(71828).fillText,b=e(69383).getLineWidth,d=e(89298).hoverLabelText,a=e(50606).BADNUM;function t(r,n,o,s,u){var p,c,x,g,h,y,v,m=r.cd,_=m[0].trace,f=m[0].t,S="closest"===s,w="waterfall"===_.type,E=r.maxHoverDistance,L=r.maxSpikeDistance;"h"===_.orientation?(p=o,c=n,x="y",g="x",h=J,y=G):(p=n,c=o,x="x",g="y",y=J,h=G);var C=_[x+"period"],O=S||C;function R(ue){return P(ue,-1)}function q(ue){return P(ue,1)}function P(ue,xe){return ue[x]+xe*ue.w/2}function U(ue){return ue[x+"End"]-ue[x+"Start"]}var N=S?R:C?function(ue){return ue.p-U(ue)/2}:function(ue){return Math.min(R(ue),ue.p-f.bardelta/2)},F=S?q:C?function(ue){return ue.p+U(ue)/2}:function(ue){return Math.max(q(ue),ue.p+f.bardelta/2)};function j(ue,xe,Me){return u.finiteRange&&(Me=0),A.inbox(ue-p,xe-p,Me+Math.min(1,Math.abs(xe-ue)/v)-1)}function G(ue){return j(N(ue),F(ue),E)}function te(ue){var xe=ue[g];if(w){var Me=Math.abs(ue.rawS)||0;c>0?xe+=Me:c<0&&(xe-=Me)}return xe}function J(ue){var xe=c,Me=ue.b,me=te(ue);return A.inbox(Me-xe,me-xe,E+(me-xe)/(me-Me)-1)}var X=r[x+"a"],Y=r[g+"a"];v=Math.abs(X.r2c(X.range[1])-X.r2c(X.range[0]));var ue,xe,Me,me,W=A.getDistanceFunction(s,h,y,function(ue){return(h(ue)+y(ue))/2});if(A.getClosest(m,W,r),!1!==r.index&&m[r.index].p!==a){O||(N=function(ue){return Math.min(R(ue),ue.p-f.bargroupwidth/2)},F=function(ue){return Math.max(q(ue),ue.p+f.bargroupwidth/2)});var $=m[r.index],ne=_.base?$.b+$.s:$.s;r[g+"0"]=r[g+"1"]=Y.c2p($[g],!0),r[g+"LabelVal"]=ne;var re=f.extents[f.extents.round($.p)];return r[x+"0"]=X.c2p(S?N($):re[0],!0),r[x+"1"]=X.c2p(S?F($):re[1],!0),r[x+"LabelVal"]=void 0!==$.orig_p?$.orig_p:$.p,r.labelLabel=d(X,r[x+"LabelVal"],_[x+"hoverformat"]),r.valueLabel=d(Y,r[g+"LabelVal"],_[g+"hoverformat"]),r.baseLabel=d(Y,$.b,_[g+"hoverformat"]),r.spikeDistance=(xe=c,Me=(ue=$).b,me=te(ue),(A.inbox(Me-xe,me-xe,L+(me-xe)/(me-Me)-1)+function(ue){return j(R(ue),q(ue),L)}($))/2),r[x+"Spike"]=X.c2p($.p,!0),T($,_,r),r.hovertemplate=_.hovertemplate,r}}function i(r,n){var o=n.mcc||r.marker.color,s=n.mlcc||r.marker.line.color,u=b(r,n);return l.opacity(o)?o:l.opacity(s)&&u?s:void 0}ee.exports={hoverPoints:function(r,n,o,s,u){var p=t(r,n,o,s,u);if(p){var c=p.cd,x=c[0].trace,g=c[p.index];return p.color=i(x,g),k.getComponentMethod("errorbars","hoverInfo")(g,x,p),[p]}},hoverOnBars:t,getTraceColor:i}},60822:function(ee,D,e){"use strict";ee.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(ee){"use strict";ee.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(ee,D,e){"use strict";var A=e(73972),k=e(89298),l=e(71828),T=e(43641);ee.exports=function(b,d,a){function t(x,g){return l.coerce(b,d,T,x,g)}for(var i=!1,r=!1,n=!1,o={},s=t("barmode"),u=0;u<a.length;u++){var p=a[u];if(A.traceIs(p,"bar")&&p.visible){if(i=!0,"group"===s){var c=p.xaxis+p.yaxis;o[c]&&(n=!0),o[c]=!0}p.visible&&"histogram"===p.type&&"category"!==k.getFromId({_fullLayout:d},p["v"===p.orientation?"xaxis":"yaxis"]).type&&(r=!0)}}i?("overlay"!==s&&t("barnorm"),t("bargap",r&&!n?0:.2),t("bargroupgap")):delete d.barmode}},17295:function(ee,D,e){"use strict";var A=e(39898),k=e(92770),l=e(71828),T=e(63893),b=e(7901),d=e(91424),a=e(73972),t=e(89298).tickText,i=e(72597),r=i.recordMinTextSize,n=i.clearMinTextSize,o=e(16688),s=e(69383),u=e(97313),p=e(1486),c=p.text,x=p.textposition,g=e(23469).appendArrayPointValue,h=u.TEXTPAD;function y(L){return L.id}function m(L,C){return L<C?1:-1}function _(L,C,O,R){var q;return!C.uniformtext.mode&&f(O)?(R&&(q=R()),L.transition().duration(O.duration).ease(O.easing).each("end",function(){q&&q()}).each("interrupt",function(){q&&q()})):L}function f(L){return L&&L.duration>0}function S(L){return"auto"===L?0:L}function w(L,C){var O=Math.PI/180*C,R=Math.abs(Math.sin(O)),q=Math.abs(Math.cos(O));return{x:L.width*q+L.height*R,y:L.width*R+L.height*q}}function E(L,C,O,R,q,P){var U=!!P.isHorizontal,N=!!P.constrained,F=P.angle||0,j=P.anchor||"end",G="end"===j,te="start"===j,J=((P.leftToRight||0)+1)/2,X=1-J,Y=q.width,W=q.height,$=Math.abs(C-L),ne=Math.abs(R-O),re=$>2*h&&ne>2*h?h:0;$-=2*re,ne-=2*re;var oe=S(F);"auto"!==F||Y<=$&&W<=ne||!(Y>$||W>ne)||(Y>ne||W>$)&&Y<W==$<ne||(oe+=90);var ue=w(q,oe),xe=1;N&&(xe=Math.min(1,$/ue.x,ne/ue.y));var Me=q.left*X+q.right*J,me=(q.top+q.bottom)/2,pe=(L+h)*X+(C-h)*J,ge=(O+R)/2,Pe=0,_e=0;if(te||G){var we=(U?ue.x:ue.y)/2,se=U?m(L,C):m(O,R);U?te?(pe=L+se*re,Pe=-se*we):(pe=C-se*re,Pe=se*we):te?(ge=O+se*re,_e=-se*we):(ge=R-se*re,_e=se*we)}return{textX:Me,textY:me,targetX:pe,targetY:ge,anchorX:Pe,anchorY:_e,scale:xe,rotate:oe}}ee.exports={plot:function(L,C,O,R,q,P){var U=C.xaxis,N=C.yaxis,F=L._fullLayout,j=L._context.staticPlot;q||(q={mode:F.barmode,norm:F.barmode,gap:F.bargap,groupgap:F.bargroupgap},n("bar",F));var G=l.makeTraceGroups(R,O,"trace bars").each(function(te){var J=A.select(this),X=te[0].trace,$="bar"===X.type||"funnel"===X.type,ne=0;"waterfall"===X.type&&X.connector.visible&&"between"===X.connector.mode&&(ne=X.connector.line.width/2);var re="h"===X.orientation,oe=f(q),ue=l.ensureSingle(J,"g","points"),xe=function v(L){if(L.ids)return y}(X),Me=ue.selectAll("g.point").data(l.identity,xe);Me.enter().append("g").classed("point",!0),Me.exit().remove(),Me.each(function(pe,ge){var Pe,_e,Ce,Re,Oe,je,qe,Je,it,Qe,we=A.select(this),se=(Re=U,Oe=N,Je=[],Qe=(je=re)?Oe:Re,(qe=[])[0]=(it=je?Re:Oe).c2p((Ce=pe).s0,!0),Je[0]=Qe.c2p(Ce.p0,!0),qe[1]=it.c2p(Ce.s1,!0),Je[1]=Qe.c2p(Ce.p1,!0),je?[qe,Je]:[Je,qe]),ae=se[0][0],fe=se[0][1],Ee=se[1][0],ke=se[1][1],be=0==(re?fe-ae:ke-Ee);if(be&&$&&s.getLineWidth(X,pe)&&(be=!1),be||(be=!(k(ae)&&k(fe)&&k(Ee)&&k(ke))),pe.isBlank=be,be&&(re?fe=ae:ke=Ee),ne&&!be&&(re?(ae-=m(ae,fe)*ne,fe+=m(ae,fe)*ne):(Ee-=m(Ee,ke)*ne,ke+=m(Ee,ke)*ne)),"waterfall"===X.type){if(!be){var Ie=X[pe.dir].marker;Pe=Ie.line.width,_e=Ie.color}}else Pe=s.getLineWidth(X,pe),_e=pe.mc||X.marker.color;function Fe(Ce){var Re=A.round(Pe/2%1,2);return 0===q.gap&&0===q.groupgap?A.round(Math.round(Ce)-Re,2):Ce}if(!L._context.staticPlot){var ce=b.opacity(_e)<1||Pe>.01?Fe:function(Ce,Re,Oe){return Oe&&Ce===Re?Ce:Math.abs(Ce-Re)>=2?Fe(Ce):Ce>Re?Math.ceil(Ce):Math.floor(Ce)};ae=ce(ae,fe,re),fe=ce(fe,ae,re),Ee=ce(Ee,ke,!re),ke=ce(ke,Ee,!re)}var Te=_(l.ensureSingle(we,"path"),F,q,P);if(Te.style("vector-effect",j?"none":"non-scaling-stroke").attr("d",isNaN((fe-ae)*(ke-Ee))||be&&L._context.staticPlot?"M0,0Z":"M"+ae+","+Ee+"V"+ke+"H"+fe+"V"+Ee+"Z").call(d.setClipUrl,C.layerClipId,L),!F.uniformtext.mode&&oe){var ve=d.makePointStyleFns(X);d.singlePointStyle(pe,Te,X,ve,L)}(function(Ce,Re,Oe,je,qe,Je,it,Qe,dt,yt,mt){var at,st=Re.xaxis,Tt=Re.yaxis,At=Ce._fullLayout;function Pt($t,jt,Yt){return l.ensureSingle($t,"text").text(jt).attr({class:"bartext bartext-"+at,"text-anchor":"middle","data-notex":1}).call(d.font,Yt).call(T.convertToTspans,Ce)}var jt,Yt,Gt,hn,yn,on,kt=je[0].trace,Ze="h"===kt.orientation,Xe=(Yt=qe,Gt=st,hn=Tt,yn=(on=(jt=je)[0].trace).texttemplate?function(Ut,nn,Xt,rn,fn){var gn=nn[0].trace,An=l.castOption(gn,Xt,"texttemplate");if(!An)return"";var En,bn,Ln,Wn,Qn="histogram"===gn.type,ir="waterfall"===gn.type,$n="funnel"===gn.type,qn="h"===gn.orientation;function dr(In){return t(Wn,Wn.c2l(In),!0).text}qn?(En="y",bn=fn,Ln="x",Wn=rn):(En="x",bn=rn,Ln="y",Wn=fn);var tn=nn[Xt],cn={};cn.label=tn.p,cn.labelLabel=cn[En+"Label"]=t(bn,bn.c2l(tn.p),!0).text;var dn=l.castOption(gn,tn.i,"text");(0===dn||dn)&&(cn.text=dn),cn.value=tn.s,cn.valueLabel=cn[Ln+"Label"]=dr(tn.s);var kn={};g(kn,gn,tn.i),(Qn||void 0===kn.x)&&(kn.x=qn?cn.value:cn.label),(Qn||void 0===kn.y)&&(kn.y=qn?cn.label:cn.value),(Qn||void 0===kn.xLabel)&&(kn.xLabel=qn?cn.valueLabel:cn.labelLabel),(Qn||void 0===kn.yLabel)&&(kn.yLabel=qn?cn.labelLabel:cn.valueLabel),ir&&(cn.delta=+tn.rawS||tn.s,cn.deltaLabel=dr(cn.delta),cn.final=tn.v,cn.finalLabel=dr(cn.final),cn.initial=cn.final-cn.delta,cn.initialLabel=dr(cn.initial)),$n&&(cn.value=tn.s,cn.valueLabel=dr(cn.value),cn.percentInitial=tn.begR,cn.percentInitialLabel=l.formatPercent(tn.begR),cn.percentPrevious=tn.difR,cn.percentPreviousLabel=l.formatPercent(tn.difR),cn.percentTotal=tn.sumR,cn.percenTotalLabel=l.formatPercent(tn.sumR));var Vn=l.castOption(gn,tn.i,"customdata");return Vn&&(cn.customdata=Vn),l.texttemplateString(An,cn,Ut._d3locale,kn,cn,gn._meta||{})}(At,jt,Yt,Gt,hn):on.textinfo?function(Ut,nn,Xt,rn){var fn=Ut[0].trace,gn="h"===fn.orientation,An="waterfall"===fn.type,En="funnel"===fn.type;function bn(Vn){return t(gn?Xt:rn,+Vn,!0).text}var Ln,ir=Ut[nn],$n=fn.textinfo.split("+"),qn=[],dr=function(Vn){return-1!==$n.indexOf(Vn)};if(dr("label")&&qn.push(t(gn?rn:Xt,Ut[nn].p,!0).text),dr("text")&&(0===(Ln=l.castOption(fn,ir.i,"text"))||Ln)&&qn.push(Ln),An){var Ft=+ir.rawS||ir.s,tn=ir.v,cn=tn-Ft;dr("initial")&&qn.push(bn(cn)),dr("delta")&&qn.push(bn(Ft)),dr("final")&&qn.push(bn(tn))}if(En){dr("value")&&qn.push(bn(ir.s));var dn=0;dr("percent initial")&&dn++,dr("percent previous")&&dn++,dr("percent total")&&dn++;var kn=dn>1;dr("percent initial")&&(Ln=l.formatPercent(ir.begR),kn&&(Ln+=" of initial"),qn.push(Ln)),dr("percent previous")&&(Ln=l.formatPercent(ir.difR),kn&&(Ln+=" of previous"),qn.push(Ln)),dr("percent total")&&(Ln=l.formatPercent(ir.sumR),kn&&(Ln+=" of total"),qn.push(Ln))}return qn.join("<br>")}(jt,Yt,Gt,hn):s.getValue(on.text,Yt),s.coerceString(c,yn));at=function($t,jt){var Yt=s.getValue($t.textposition,jt);return s.coerceEnumerated(x,Yt)}(kt,qe);var We=je[qe],rt=!("stack"===yt.mode||"relative"===yt.mode)||We._outmost;if(Xe&&"none"!==at&&(!We.isBlank&&Je!==it&&Qe!==dt||"auto"!==at&&"inside"!==at)){var nt=At.font,ze=o.getBarColor(je[qe],kt),Be=o.getInsideTextFont(kt,qe,nt,ze),tt=o.getOutsideTextFont(kt,qe,nt),et=Oe.datum();Ze?"log"===st.type&&et.s0<=0&&(Je=st.range[0]<st.range[1]?0:st._length):"log"===Tt.type&&et.s0<=0&&(Qe=Tt.range[0]<Tt.range[1]?Tt._length:0);var gt,pt,vt,ut,wt,ct=Math.abs(it-Je)-2*h,ft=Math.abs(dt-Qe)-2*h;if("outside"===at&&(rt||We.hasB||(at="inside")),"auto"===at&&(rt?(at="inside",gt=Pt(Oe,Xe,wt=l.ensureUniformFontSize(Ce,Be)),vt=(pt=d.bBox(gt.node())).width,ut=pt.height,vt>0&&ut>0&&(vt<=ct&&ut<=ft||vt<=ft&&ut<=ct||(Ze?ct>=vt*(ft/ut):ft>=ut*(ct/vt)))?at="inside":(at="outside",gt.remove(),gt=null)):at="inside"),!gt){var bt=(gt=Pt(Oe,Xe,wt=l.ensureUniformFontSize(Ce,"outside"===at?tt:Be))).attr("transform");if(gt.attr("transform",""),vt=(pt=d.bBox(gt.node())).width,ut=pt.height,gt.attr("transform",bt),vt<=0||ut<=0)return void gt.remove()}var It,Dt=kt.textangle;It="outside"===at?function($t,jt,Yt,Gt,hn,yn){var on,Ut=!!yn.isHorizontal,nn=!!yn.constrained,Xt=yn.angle||0,rn=hn.width,fn=hn.height,gn=Math.abs(jt-$t),An=Math.abs(Gt-Yt);on=Ut?An>2*h?h:0:gn>2*h?h:0;var En=1;nn&&(En=Ut?Math.min(1,An/fn):Math.min(1,gn/rn));var bn=S(Xt),Ln=w(hn,bn),Wn=(Ut?Ln.x:Ln.y)/2,Qn=(hn.left+hn.right)/2,ir=(hn.top+hn.bottom)/2,$n=($t+jt)/2,qn=(Yt+Gt)/2,dr=0,Ft=0,tn=Ut?m(jt,$t):m(Yt,Gt);return Ut?($n=jt-tn*on,dr=tn*Wn):(qn=Gt+tn*on,Ft=-tn*Wn),{textX:Qn,textY:ir,targetX:$n,targetY:qn,anchorX:dr,anchorY:Ft,scale:En,rotate:bn}}(Je,it,Qe,dt,pt,{isHorizontal:Ze,constrained:"both"===kt.constraintext||"outside"===kt.constraintext,angle:Dt}):E(Je,it,Qe,dt,pt,{isHorizontal:Ze,constrained:"both"===kt.constraintext||"inside"===kt.constraintext,angle:Dt,anchor:kt.insidetextanchor}),It.fontSize=wt.size,r("histogram"===kt.type?"bar":kt.type,It,At),We.transform=It;var Nt=_(gt,At,yt,mt);l.setTransormAndDisplay(Nt,It)}else Oe.select("text").remove()})(L,C,we,te,ge,ae,fe,Ee,ke,q,P),C.layerClipId&&d.hideOutsideRangePoint(pe,we.select("text"),U,N,X.xcalendar,X.ycalendar)}),d.setClipUrl(J,!1===X.cliponaxis?null:C.layerClipId,L)});a.getComponentMethod("errorbars","plot")(L,G,C,q)},toMoveInsideBar:E}},81974:function(ee){"use strict";function D(e,A,k,l,T){var b=A.c2p(l?e.s0:e.p0,!0),d=A.c2p(l?e.s1:e.p1,!0),a=k.c2p(l?e.p0:e.s0,!0),t=k.c2p(l?e.p1:e.s1,!0);return T?[(b+d)/2,(a+t)/2]:l?[d,(a+t)/2]:[(b+d)/2,t]}ee.exports=function(e,A){var k,l=e.cd,T=e.xaxis,b=e.yaxis,d=l[0].trace,a="funnel"===d.type,t="h"===d.orientation,i=[];if(!1===A)for(k=0;k<l.length;k++)l[k].selected=0;else for(k=0;k<l.length;k++){var r=l[k],n="ct"in r?r.ct:D(r,T,b,t,a);A.contains(n,!1,k,e)?(i.push({pointNumber:k,x:T.c2d(r.x),y:b.c2d(r.y)}),r.selected=1):r.selected=0}return i}},61546:function(ee,D,e){"use strict";ee.exports=k;var A=e(71828).distinctVals;function k(l,T){this.traces=l,this.sepNegVal=T.sepNegVal,this.overlapNoMerge=T.overlapNoMerge;for(var b=1/0,d=T.posAxis._id.charAt(0),a=[],t=0;t<l.length;t++){for(var i=l[t],r=0;r<i.length;r++){var n=i[r],o=n.p;void 0===o&&(o=n[d]),void 0!==o&&a.push(o)}i[0]&&i[0].width1&&(b=Math.min(i[0].width1,b))}this.positions=a;var s=A(a);this.distinctPositions=s.vals,this.minDiff=1===s.vals.length&&b!==1/0?b:Math.min(s.minDiff,b);var u=(T.posAxis||{}).type;"category"!==u&&"multicategory"!==u||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}k.prototype.put=function(l,T){var b=this.getLabel(l,T),d=this.bins[b]||0;return this.bins[b]=d+T,d},k.prototype.get=function(l,T){var b=this.getLabel(l,T);return this.bins[b]||0},k.prototype.getLabel=function(l,T){return(T<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?l:Math.round(l/this.binWidth))}},16688:function(ee,D,e){"use strict";var A=e(39898),k=e(7901),l=e(91424),T=e(71828),b=e(73972),d=e(72597).resizeText,a=e(1486),t=a.textfont,i=a.insidetextfont,r=a.outsidetextfont,n=e(69383);function o(y,v,m){l.pointStyle(y.selectAll("path"),v,m),s(y,v,m)}function s(y,v,m){y.selectAll("text").each(function(_){var f=A.select(this),S=T.ensureUniformFontSize(m,u(f,_,v,m));l.font(f,S)})}function u(y,v,m,_){var f=_._fullLayout.font,S=m.textfont;if(y.classed("bartext-inside")){var w=h(v,m);S=c(m,v.i,f,w)}else y.classed("bartext-outside")&&(S=x(m,v.i,f));return S}function p(y,v,m){return g(t,y.textfont,v,m)}function c(y,v,m,_){var f=p(y,v,m);return(void 0===y._input.textfont||void 0===y._input.textfont.color||Array.isArray(y.textfont.color)&&void 0===y.textfont.color[v])&&(f={color:k.contrast(_),family:f.family,size:f.size}),g(i,y.insidetextfont,v,f)}function x(y,v,m){var _=p(y,v,m);return g(r,y.outsidetextfont,v,_)}function g(y,v,m,_){var f=n.getValue((v=v||{}).family,m),S=n.getValue(v.size,m),w=n.getValue(v.color,m);return{family:n.coerceString(y.family,f,_.family),size:n.coerceNumber(y.size,S,_.size),color:n.coerceColor(y.color,w,_.color)}}function h(y,v){return"waterfall"===v.type?v[y.dir].marker.color:y.mcc||y.mc||v.marker.color}ee.exports={style:function(y){var v=A.select(y).selectAll("g.barlayer").selectAll("g.trace");d(y,v,"bar");var m=v.size(),_=y._fullLayout;v.style("opacity",function(f){return f[0].trace.opacity}).each(function(f){("stack"===_.barmode&&m>1||0===_.bargap&&0===_.bargroupgap&&!f[0].trace.marker.line.width)&&A.select(this).attr("shape-rendering","crispEdges")}),v.selectAll("g.points").each(function(f){o(A.select(this),f[0].trace,y)}),b.getComponentMethod("errorbars","style")(v)},styleTextPoints:s,styleOnSelect:function(y,v,m){var f,S,w,E,L,C,_=v[0].trace;_.selectedpoints?(S=_,w=y,l.selectedPointStyle((f=m).selectAll("path"),S),E=f.selectAll("text"),L=S,C=w,E.each(function(O){var R,q=A.select(this);if(O.selected){R=T.ensureUniformFontSize(C,u(q,O,L,C));var P=L.selected.textfont&&L.selected.textfont.color;P&&(R.color=P),l.font(q,R)}else l.selectedTextStyle(q,L)})):(o(m,_,y),b.getComponentMethod("errorbars","style")(m))},getInsideTextFont:c,getOutsideTextFont:x,getBarColor:h,resizeText:d}},98340:function(ee,D,e){"use strict";var A=e(7901),k=e(52075).hasColorscale,l=e(1586),T=e(71828).coercePattern;ee.exports=function(b,d,a,t,i){var r=a("marker.color",t),n=k(b,"marker");n&&l(b,d,i,a,{prefix:"marker.",cLetter:"c"}),a("marker.line.color",A.defaultLine),k(b,"marker.line")&&l(b,d,i,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width"),a("marker.opacity"),T(a,"marker.pattern",r,n),a("selected.marker.color"),a("unselected.marker.color")}},72597:function(ee,D,e){"use strict";var A=e(39898),k=e(71828);function l(T){return"_"+T+"Text_minsize"}ee.exports={recordMinTextSize:function(T,b,d){if(d.uniformtext.mode){var a=l(T),t=d.uniformtext.minsize,i=b.scale*b.fontSize;b.hide=i<t,d[a]=d[a]||1/0,b.hide||(d[a]=Math.min(d[a],Math.max(i,t)))}},clearMinTextSize:function(T,b){b[l(T)]=void 0},resizeText:function(T,b,d){var a=T._fullLayout,t=a["_"+d+"Text_minsize"];if(t){var i,r="hide"===a.uniformtext.mode;switch(d){case"funnelarea":case"pie":case"sunburst":i="g.slice";break;case"treemap":case"icicle":i="g.slice, g.pathbar";break;default:i="g.points > g.point"}b.selectAll(i).each(function(n){var o=n.transform;if(o){o.scale=r&&o.hide?0:t/o.fontSize;var s=A.select(this).select("text");k.setTransormAndDisplay(s,o)}})}}}},55023:function(ee,D,e){"use strict";var A=e(5386).fF,k=e(1426).extendFlat,l=e(81245),T=e(1486);ee.exports={r:l.r,theta:l.theta,r0:l.r0,dr:l.dr,theta0:l.theta0,dtheta:l.dtheta,thetaunit:l.thetaunit,base:k({},T.base,{}),offset:k({},T.offset,{}),width:k({},T.width,{}),text:k({},T.text,{}),hovertext:k({},T.hovertext,{}),marker:T.marker,hoverinfo:l.hoverinfo,hovertemplate:A(),selected:T.selected,unselected:T.unselected}},74692:function(ee,D,e){"use strict";var A=e(52075).hasColorscale,k=e(78803),l=e(75341),T=e(11661).setGroupPositions,b=e(66279),d=e(73972).traceIs,a=e(71828).extendFlat;ee.exports={calc:function(t,i){for(var r=t._fullLayout,n=i.subplot,s=r[n].angularaxis,u=r[n].radialaxis.makeCalcdata(i,"r"),p=s.makeCalcdata(i,"theta"),c=i._length,x=new Array(c),g=u,h=p,y=0;y<c;y++)x[y]={p:h[y],s:g[y]};function v(m){var _=i[m];void 0!==_&&(i["_"+m]=Array.isArray(_)?s.makeCalcdata(i,m):s.d2c(_,i.thetaunit))}return"linear"===s.type&&(v("width"),v("offset")),A(i,"marker")&&k(t,i,{vals:i.marker.color,containerStr:"marker",cLetter:"c"}),A(i,"marker.line")&&k(t,i,{vals:i.marker.line.color,containerStr:"marker.line",cLetter:"c"}),l(x,i),b(x,i),x},crossTraceCalc:function(t,i,r){for(var n=t.calcdata,o=[],s=0;s<n.length;s++){var u=n[s],p=u[0].trace;!0===p.visible&&d(p,"bar")&&p.subplot===r&&o.push(u)}var c=a({},i.radialaxis,{_id:"x"});T(t,i.angularaxis,c,o,{mode:i.barmode,norm:i.barnorm,gap:i.bargap,groupgap:i.bargroupgap})}}},6135:function(ee,D,e){"use strict";var A=e(71828),k=e(22184).handleRThetaDefaults,l=e(98340),T=e(55023);ee.exports=function(b,d,a,t){function i(r,n){return A.coerce(b,d,T,r,n)}k(b,d,t,i)?(i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),l(b,d,i,a,t),A.coerceSelectionMarkerOpacity(d,i)):d.visible=!1}},27379:function(ee,D,e){"use strict";var A=e(30211),k=e(71828),l=e(95423).getTraceColor,T=k.fillText,b=e(59150).makeHoverPointText,d=e(10869).isPtInsidePolygon;ee.exports=function(a,t,i){var r=a.cd,n=r[0].trace,o=a.subplot,s=o.radialAxis,p=o.vangles,c=p?d:k.isPtInsideSector,x=a.maxHoverDistance,g=o.angularAxis._period||2*Math.PI,h=Math.abs(s.g2p(Math.sqrt(t*t+i*i))),y=Math.atan2(i,t);if(s.range[0]>s.range[1]&&(y+=Math.PI),A.getClosest(r,function(_){return c(h,y,[_.rp0,_.rp1],[_.thetag0,_.thetag1],p)?x+Math.min(1,Math.abs(_.thetag1-_.thetag0)/g)-1+(_.rp1-h)/(_.rp1-_.rp0)-1:1/0},a),!1!==a.index){var v=r[a.index];a.x0=a.x1=v.ct[0],a.y0=a.y1=v.ct[1];var m=k.extendFlat({},v,{r:v.s,theta:v.p});return T(v,n,a),b(m,n,o,a),a.hovertemplate=n.hovertemplate,a.color=l(n,v),a.xLabelVal=a.yLabelVal=void 0,v.s<0&&(a.idealAlign="left"),[a]}}},23381:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(ee){"use strict";ee.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(ee,D,e){"use strict";var A=e(71828),k=e(40151);ee.exports=function(l,T,b){var d,a={};function t(n,o){return A.coerce(l[d]||{},T[d],k,n,o)}for(var i=0;i<b.length;i++){var r=b[i];"barpolar"===r.type&&!0===r.visible&&(a[d=r.subplot]||(t("barmode"),t("bargap"),a[d]=1))}}},60173:function(ee,D,e){"use strict";var A=e(39898),k=e(92770),l=e(71828),T=e(91424),b=e(10869);ee.exports=function(d,a,t){var c,x,g,i=d._context.staticPlot,r=a.xaxis,n=a.yaxis,o=a.radialAxis,s=a.angularAxis,u=(x=(c=a).cxx,g=c.cyy,c.vangles?function(h,y,v,m){var _,f;l.angleDelta(v,m)>0?(_=v,f=m):(_=m,f=v);var S=[b.findEnclosingVertexAngles(_,c.vangles)[0],(_+f)/2,b.findEnclosingVertexAngles(f,c.vangles)[1]];return b.pathPolygonAnnulus(h,y,_,f,S,x,g)}:function(h,y,v,m){return l.pathAnnulus(h,y,v,m,x,g)}),p=a.layers.frontplot.select("g.barlayer");l.makeTraceGroups(p,t,"trace bars").each(function(){var c=A.select(this),x=l.ensureSingle(c,"g","points").selectAll("g.point").data(l.identity);x.enter().append("g").style("vector-effect",i?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),x.exit().remove(),x.each(function(g){var h,y=A.select(this),v=g.rp0=o.c2p(g.s0),m=g.rp1=o.c2p(g.s1),_=g.thetag0=s.c2g(g.p0),f=g.thetag1=s.c2g(g.p1);if(k(v)&&k(m)&&k(_)&&k(f)&&v!==m&&_!==f){var S=o.c2g(g.s1),w=(_+f)/2;g.ct=[r.c2p(S*Math.cos(w)),n.c2p(S*Math.sin(w))],h=u(v,m,_,f)}else h="M0,0Z";l.ensureSingle(y,"path").attr("d",h)}),T.setClipUrl(c,a._hasClipOnAxisFalse?a.clipIds.forTraces:null,d)})}},53522:function(ee,D,e){"use strict";var A=e(82196),k=e(1486),l=e(22399),T=e(12663).axisHoverFormat,b=e(5386).fF,d=e(1426).extendFlat,a=A.marker,t=a.line;ee.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:T("x"),yhoverformat:T("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:d({},a.symbol,{arrayOk:!1,editType:"plot"}),opacity:d({},a.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:d({},a.angle,{arrayOk:!1,editType:"calc"}),size:d({},a.size,{arrayOk:!1,editType:"calc"}),color:d({},a.color,{arrayOk:!1,editType:"style"}),line:{color:d({},t.color,{arrayOk:!1,dflt:l.defaultLine,editType:"style"}),width:d({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:A.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,selected:{marker:A.selected.marker,editType:"style"},unselected:{marker:A.unselected.marker,editType:"style"},text:d({},A.text,{}),hovertext:d({},A.hovertext,{}),hovertemplate:b({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(ee,D,e){"use strict";var A=e(92770),k=e(89298),l=e(42973),T=e(71828),b=e(50606).BADNUM,d=T._;ee.exports=function(c,x){var g,h,y,v,m,_,f,S=c._fullLayout,w=k.getFromId(c,x.xaxis||"x"),E=k.getFromId(c,x.yaxis||"y"),L=[],C="violin"===x.type?"_numViolins":"_numBoxes";"h"===x.orientation?(y=w,v="x",m=E,_="y",f=!!x.yperiodalignment):(y=E,v="y",m=w,_="x",f=!!x.xperiodalignment);var O,R,q,P,U,N,F=function(Re,Oe,je,qe){var Je,it=Oe+"0"in Re;if(Oe in Re||it&&"d"+Oe in Re){var Qe=je.makeCalcdata(Re,Oe);return[l(Re,je,Oe,Qe).vals,Qe]}Je=it?Re[Oe+"0"]:"name"in Re&&("category"===je.type||A(Re.name)&&-1!==["linear","log"].indexOf(je.type)||T.isDateTime(Re.name)&&"date"===je.type)?Re.name:qe;for(var dt="multicategory"===je.type?je.r2c_just_indices(Je):je.d2c(Je,0,Re[Oe+"calendar"]),yt=Re._length,mt=new Array(yt),at=0;at<yt;at++)mt[at]=dt;return[mt]}(x,_,m,S[C]),j=F[0],G=F[1],te=T.distinctVals(j,m),J=te.vals,X=te.minDiff/2,Y="all"===(x.boxpoints||x.points)?T.identity:function(Re){return Re.v<O.lf||Re.v>O.uf};if(x._hasPreCompStats){var W=x[v],$=function(Re){return y.d2c((x[Re]||[])[g])},ne=1/0,re=-1/0;for(g=0;g<x._length;g++){var oe=j[g];if(A(oe)){if((O={}).pos=O[_]=oe,f&&G&&(O.orig_p=G[g]),O.q1=$("q1"),O.med=$("median"),O.q3=$("q3"),R=[],W&&T.isArrayOrTypedArray(W[g]))for(h=0;h<W[g].length;h++)(N=y.d2c(W[g][h]))!==b&&(t(U={v:N,i:[g,h]},x,[g,h]),R.push(U));if(O.pts=R.sort(i),P=(q=O[v]=R.map(r)).length,O.med!==b&&O.q1!==b&&O.q3!==b&&O.med>=O.q1&&O.q3>=O.med){var ue=$("lowerfence");O.lf=ue!==b&&ue<=O.q1?ue:n(O,q,P);var xe=$("upperfence");O.uf=xe!==b&&xe>=O.q3?xe:o(O,q,P);var Me=$("mean");O.mean=Me!==b?Me:P?T.mean(q,P):(O.q1+O.q3)/2;var me=$("sd");O.sd=Me!==b&&me>=0?me:P?T.stdev(q,P,O.mean):O.q3-O.q1,O.lo=s(O),O.uo=u(O);var pe=$("notchspan");pe=pe!==b&&pe>0?pe:p(O,P),O.ln=O.med-pe,O.un=O.med+pe;var ge=O.lf,Pe=O.uf;x.boxpoints&&q.length&&(ge=Math.min(ge,q[0]),Pe=Math.max(Pe,q[P-1])),x.notched&&(ge=Math.min(ge,O.ln),Pe=Math.max(Pe,O.un)),O.min=ge,O.max=Pe}else{var _e;T.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+O.q1,"median = "+O.med,"q3 = "+O.q3].join("\n")),O.med=_e=O.med!==b?O.med:O.q1!==b?O.q3!==b?(O.q1+O.q3)/2:O.q1:O.q3!==b?O.q3:0,O.q1=O.q3=_e,O.lf=O.uf=_e,O.mean=O.sd=_e,O.ln=O.un=_e,O.min=O.max=_e}ne=Math.min(ne,O.min),re=Math.max(re,O.max),O.pts2=R.filter(Y),L.push(O)}}x._extremes[y._id]=k.findExtremes(y,[ne,re],{padded:!0})}else{var we=y.makeCalcdata(x,v),se=function(Re,Oe){for(var je=Re.length,qe=new Array(je+1),Je=0;Je<je;Je++)qe[Je]=Re[Je]-Oe;return qe[je]=Re[je-1]+Oe,qe}(J,X),ae=J.length,fe=function(Re){for(var Oe=new Array(Re),je=0;je<Re;je++)Oe[je]=[];return Oe}(ae);for(g=0;g<x._length;g++)if(A(N=we[g])){var Ee=T.findBin(j[g],se);Ee>=0&&Ee<ae&&(t(U={v:N,i:g},x,g),fe[Ee].push(U))}var ke=1/0,be=-1/0,Ie=x.quartilemethod,Fe="exclusive"===Ie,ce="inclusive"===Ie;for(g=0;g<ae;g++)if(fe[g].length>0){var Te,ve;(O={}).pos=O[_]=J[g],R=O.pts=fe[g].sort(i),P=(q=O[v]=R.map(r)).length,O.min=q[0],O.max=q[P-1],O.mean=T.mean(q,P),O.sd=T.stdev(q,P,O.mean)*x.sdmultiple,O.med=T.interp(q,.5),P%2&&(Fe||ce)?(Fe?(Te=q.slice(0,P/2),ve=q.slice(P/2+1)):ce&&(Te=q.slice(0,P/2+1),ve=q.slice(P/2)),O.q1=T.interp(Te,.5),O.q3=T.interp(ve,.5)):(O.q1=T.interp(q,.25),O.q3=T.interp(q,.75)),O.lf=n(O,q,P),O.uf=o(O,q,P),O.lo=s(O),O.uo=u(O);var Ce=p(O,P);O.ln=O.med-Ce,O.un=O.med+Ce,ke=Math.min(ke,O.ln),be=Math.max(be,O.un),O.pts2=R.filter(Y),L.push(O)}x._extremes[y._id]=k.findExtremes(y,x.notched?we.concat([ke,be]):we,{padded:!0})}return function(Re,Oe){if(T.isArrayOrTypedArray(Oe.selectedpoints))for(var je=0;je<Re.length;je++){for(var qe=Re[je].pts||[],Je={},it=0;it<qe.length;it++)Je[qe[it].i]=it;T.tagSelected(qe,Oe,Je)}}(L,x),L.length>0?(L[0].t={num:S[C],dPos:X,posLetter:_,valLetter:v,labels:{med:d(c,"median:"),min:d(c,"min:"),q1:d(c,"q1:"),q3:d(c,"q3:"),max:d(c,"max:"),mean:"sd"===x.boxmean||"sd"===x.sizemode?d(c,"mean \xb1 \u03c3:").replace("\u03c3",1===x.sdmultiple?"\u03c3":x.sdmultiple+"\u03c3"):d(c,"mean:"),lf:d(c,"lower fence:"),uf:d(c,"upper fence:")}},S[C]++,L):[{t:{empty:!0}}]};var a={text:"tx",hovertext:"htx"};function t(c,x,g){for(var h in a)T.isArrayOrTypedArray(x[h])&&(Array.isArray(g)?T.isArrayOrTypedArray(x[h][g[0]])&&(c[a[h]]=x[h][g[0]][g[1]]):c[a[h]]=x[h][g])}function i(c,x){return c.v-x.v}function r(c){return c.v}function n(c,x,g){return 0===g?c.q1:Math.min(c.q1,x[Math.min(T.findBin(2.5*c.q1-1.5*c.q3,x,!0)+1,g-1)])}function o(c,x,g){return 0===g?c.q3:Math.max(c.q3,x[Math.max(T.findBin(2.5*c.q3-1.5*c.q1,x),0)])}function s(c){return 4*c.q1-3*c.q3}function u(c){return 4*c.q3-3*c.q1}function p(c,x){return 0===x?0:1.57*(c.q3-c.q1)/Math.sqrt(x)}},37188:function(ee,D,e){"use strict";var A=e(89298),k=e(71828),l=e(99082).getAxisGroup,T=["v","h"];function b(d,a,t,i){var r,n,o,s=a.calcdata,u=a._fullLayout,p=i._id,c=p.charAt(0),x=[],g=0;for(r=0;r<t.length;r++)for(o=s[t[r]],n=0;n<o.length;n++)x.push(i.c2l(o[n].pos,!0)),g+=(o[n].pts2||[]).length;if(x.length){var h=k.distinctVals(x);"category"!==i.type&&"multicategory"!==i.type||(h.minDiff=1);var y=h.minDiff/2;A.minDtick(i,h.minDiff,h.vals[0],!0);var v=u["violin"===d?"_numViolins":"_numBoxes"],m="group"===u[d+"mode"]&&v>1,_=1-u[d+"gap"],f=1-u[d+"groupgap"];for(r=0;r<t.length;r++){var S,w,E,L,C,O,R=(o=s[t[r]])[0].trace,q=o[0].t,P=R.width,U=R.side;if(P)S=w=L=P/2,E=0;else if(S=y,m){var N=l(u,i._id)+R.orientation,j=Object.keys(((u._alignmentOpts[N]||{})[R.alignmentgroup]||{}).offsetGroups||{}).length,G=j||v;w=S*_*f/G,E=2*S*(((j?R._offsetIndex:q.num)+.5)/G-.5)*_,L=S*_/G}else w=S*_*f,E=0,L=S;q.dPos=S,q.bPos=E,q.bdPos=w,q.wHover=L;var te,J,X,Y,W,$,ne=E+w,re=!!P;if("positive"===U?(C=S*(P?1:.5),te=ne,O=te=E):"negative"===U?(C=te=E,O=S*(P?1:.5),J=ne):(C=O=S,te=J=ne),(R.boxpoints||R.points)&&g>0){var oe=R.pointpos,ue=R.jitter,xe=R.marker.size/2,Me=0;oe+ue>=0&&((Me=ne*(oe+ue))>C?(re=!0,W=xe,X=Me):Me>te&&(W=xe,X=C)),Me<=C&&(X=C);var me=0;oe-ue<=0&&((me=-ne*(oe-ue))>O?(re=!0,$=xe,Y=me):me>J&&($=xe,Y=O)),me<=O&&(Y=O)}else X=C,Y=O;var pe=new Array(o.length);for(n=0;n<o.length;n++)pe[n]=o[n].pos;R._extremes[p]=A.findExtremes(i,pe,{padded:re,vpadminus:Y,vpadplus:X,vpadLinearized:!0,ppadminus:{x:$,y:W}[c],ppadplus:{x:W,y:$}[c]})}}}ee.exports={crossTraceCalc:function(d,a){for(var t=d.calcdata,i=a.xaxis,r=a.yaxis,n=0;n<T.length;n++){for(var o=T[n],s="h"===o?r:i,u=[],p=0;p<t.length;p++){var c=t[p],g=c[0].trace;!0!==g.visible||"box"!==g.type&&"candlestick"!==g.type||c[0].t.empty||(g.orientation||"v")!==o||g.xaxis!==i._id||g.yaxis!==r._id||u.push(p)}b("box",d,u,s)}},setPositionOffset:b}},36411:function(ee,D,e){"use strict";var A=e(71828),k=e(73972),l=e(7901),T=e(73927),b=e(26125),d=e(4322),a=e(53522);function t(r,n,o,s){function u(U){var N=0;return U&&U.length&&(N+=1,A.isArrayOrTypedArray(U[0])&&U[0].length&&(N+=1)),N}function p(U){return A.validate(r[U],a[U])}var c,x=o("y"),g=o("x");if("box"===n.type){var h=o("q1"),y=o("median"),v=o("q3");n._hasPreCompStats=h&&h.length&&y&&y.length&&v&&v.length,c=Math.min(A.minRowLength(h),A.minRowLength(y),A.minRowLength(v))}var m,_,f=u(x),S=u(g),w=f&&A.minRowLength(x),E=S&&A.minRowLength(g),L=s.calendar,C={autotypenumbers:s.autotypenumbers};if(n._hasPreCompStats)switch(String(S)+String(f)){case"00":var O=p("x0")||p("dx");m=!p("y0")&&!p("dy")||O?"v":"h",_=c;break;case"10":m="v",_=Math.min(c,E);break;case"20":m="h",_=Math.min(c,g.length);break;case"01":m="h",_=Math.min(c,w);break;case"02":m="v",_=Math.min(c,x.length);break;case"12":m="v",_=Math.min(c,E,x.length);break;case"21":m="h",_=Math.min(c,g.length,w);break;case"11":_=0;break;case"22":var R,q=!1;for(R=0;R<g.length;R++)if("category"===d(g[R],L,C)){q=!0;break}if(q)m="v",_=Math.min(c,E,x.length);else{for(R=0;R<x.length;R++)if("category"===d(x[R],L,C)){q=!0;break}q?(m="h",_=Math.min(c,g.length,w)):(m="v",_=Math.min(c,E,x.length))}}else f>0?(m="v",_=S>0?Math.min(E,w):Math.min(w)):S>0?(m="h",_=Math.min(E)):_=0;if(_){n._length=_;var P=o("orientation",m);n._hasPreCompStats?"v"===P&&0===S?(o("x0",0),o("dx",1)):"h"===P&&0===f&&(o("y0",0),o("dy",1)):"v"===P&&0===S?o("x0"):"h"===P&&0===f&&o("y0"),k.getComponentMethod("calendars","handleTraceDefaults")(r,n,["x","y"],s)}else n.visible=!1}function i(r,n,o,s){var u=s.prefix,p=A.coerce2(r,n,a,"marker.outliercolor"),c=o("marker.line.outliercolor"),x="outliers";n._hasPreCompStats?x="all":(p||c)&&(x="suspectedoutliers");var g=o(u+"points",x);g?(o("jitter","all"===g?.3:0),o("pointpos","all"===g?-1.5:0),o("marker.symbol"),o("marker.opacity"),o("marker.size"),o("marker.angle"),o("marker.color",n.line.color),o("marker.line.color"),o("marker.line.width"),"suspectedoutliers"===g&&(o("marker.line.outliercolor",n.marker.color),o("marker.line.outlierwidth")),o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size"),o("text"),o("hovertext")):delete n.marker;var h=o("hoveron");"all"!==h&&-1===h.indexOf("points")||o("hovertemplate"),A.coerceSelectionMarkerOpacity(n,o)}ee.exports={supplyDefaults:function(r,n,o,s){function u(_,f){return A.coerce(r,n,a,_,f)}if(t(r,n,u,s),!1!==n.visible){T(r,n,s,u),u("xhoverformat"),u("yhoverformat");var p=n._hasPreCompStats;p&&(u("lowerfence"),u("upperfence")),u("line.color",(r.marker||{}).color||o),u("line.width"),u("fillcolor",l.addOpacity(n.line.color,.5));var c=!1;if(p){var x=u("mean"),g=u("sd");x&&x.length&&(c=!0,g&&g.length&&(c="sd"))}u("whiskerwidth");var h,y=u("sizemode");"quartiles"===y&&(h=u("boxmean",c)),u("showwhiskers","quartiles"===y),"sd"!==y&&"sd"!==h||u("sdmultiple"),u("width"),u("quartilemethod");var v=!1;if(p){var m=u("notchspan");m&&m.length&&(v=!0)}else A.validate(r.notchwidth,a.notchwidth)&&(v=!0);u("notched",v)&&u("notchwidth"),i(r,n,u,{prefix:"box"})}},crossTraceDefaults:function(r,n){var s;function u(x){return A.coerce(s._input,s,a,x)}for(var p=0;p<r.length;p++){var c=(s=r[p]).type;"box"!==c&&"violin"!==c||"group"===n[c+"mode"]&&b(s._input,s,n,u)}},handleSampleDefaults:t,handlePointsDefaults:i}},74907:function(ee){"use strict";ee.exports=function(D,e){return e.hoverOnBox&&(D.hoverOnBox=e.hoverOnBox),"xVal"in e&&(D.x=e.xVal),"yVal"in e&&(D.y=e.yVal),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),D}},41868:function(ee,D,e){"use strict";var A=e(89298),k=e(71828),l=e(30211),T=e(7901),b=k.fillText;function d(t,i,r,n){var o,s,u,p,c,x,g,h,y,v,m,_,f,S,w=t.cd,E=t.xa,L=t.ya,C=w[0].trace,O=w[0].t,R="violin"===C.type,q=O.bdPos,P=O.wHover,U=function(_e){return u.c2l(_e.pos)+O.bPos-u.c2l(x)};R&&"both"!==C.side?("positive"===C.side&&(y=function(_e){var we=U(_e);return l.inbox(we,we+P,v)},_=q,f=0),"negative"===C.side&&(y=function(_e){var we=U(_e);return l.inbox(we-P,we,v)},_=0,f=q)):(y=function(_e){var we=U(_e);return l.inbox(we-P,we+P,v)},_=f=q),S=R?function(_e){return l.inbox(_e.span[0]-c,_e.span[1]-c,v)}:function(_e){return l.inbox(_e.min-c,_e.max-c,v)},"h"===C.orientation?(c=i,x=r,g=S,h=y,o="y",u=L,s="x",p=E):(c=r,x=i,g=y,h=S,o="x",u=E,s="y",p=L);var N=Math.min(1,q/Math.abs(u.r2c(u.range[1])-u.r2c(u.range[0])));function F(_e){return(g(_e)+h(_e))/2}v=t.maxHoverDistance-N,m=t.maxSpikeDistance-N;var j=l.getDistanceFunction(n,g,h,F);if(l.getClosest(w,j,t),!1===t.index)return[];var G=w[t.index],te=C.line.color,J=(C.marker||{}).color;t.color=T.opacity(te)&&C.line.width?te:T.opacity(J)&&C.boxpoints?J:C.fillcolor,t[o+"0"]=u.c2p(G.pos+O.bPos-f,!0),t[o+"1"]=u.c2p(G.pos+O.bPos+_,!0),t[o+"LabelVal"]=void 0!==G.orig_p?G.orig_p:G.pos;var X=o+"Spike";t.spikeDistance=F(G)*m/v,t[X]=u.c2p(G.pos,!0);var Y=C.boxmean||"sd"===C.sizemode||(C.meanline||{}).visible,W=C.boxpoints||C.points,$=W&&Y?["max","uf","q3","med","mean","q1","lf","min"]:W&&!Y?["max","uf","q3","med","q1","lf","min"]:!W&&Y?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"];C.orientation===(p.range[1]<p.range[0]?"v":"h")&&$.reverse();for(var re=t.spikeDistance,oe=t[X],ue=[],xe=0;xe<$.length;xe++){var Me=$[xe];if(Me in G){var me=G[Me],pe=p.c2p(me,!0),ge=k.extendFlat({},t);ge.attr=Me,ge[s+"0"]=ge[s+"1"]=pe,ge[s+"LabelVal"]=me,ge[s+"Label"]=(O.labels?O.labels[Me]+" ":"")+A.hoverLabelText(p,me,C[s+"hoverformat"]),ge.hoverOnBox=!0,"mean"!==Me||!("sd"in G)||"sd"!==C.boxmean&&"sd"!==C.sizemode||(ge[s+"err"]=G.sd),ge.hovertemplate=!1,ue.push(ge)}}t.name="",t.spikeDistance=void 0,t[X]=void 0;for(var Pe=0;Pe<ue.length;Pe++)"med"!==ue[Pe].attr?(ue[Pe].name="",ue[Pe].spikeDistance=void 0,ue[Pe][X]=void 0):(ue[Pe].spikeDistance=re,ue[Pe][X]=oe);return ue}function a(t,i,r){for(var n,o,s,u=t.cd,p=t.xa,c=t.ya,x=u[0].trace,g=p.c2p(i),h=c.c2p(r),y=l.quadrature(function(R){var q=Math.max(3,R.mrc||0);return Math.max(Math.abs(p.c2p(R.x)-g)-q,1-3/q)},function(R){var q=Math.max(3,R.mrc||0);return Math.max(Math.abs(c.c2p(R.y)-h)-q,1-3/q)}),v=!1,m=0;m<u.length;m++){o=u[m];for(var _=0;_<(o.pts||[]).length;_++){var f=y(s=o.pts[_]);f<=t.distance&&(t.distance=f,v=[m,_])}}if(!v)return!1;s=(o=u[v[0]]).pts[v[1]];var S=p.c2p(s.x,!0),w=c.c2p(s.y,!0),E=s.mrc||1;n=k.extendFlat({},t,{index:s.i,color:(x.marker||{}).color,name:x.name,x0:S-E,x1:S+E,y0:w-E,y1:w+E,spikeDistance:t.distance,hovertemplate:x.hovertemplate});var L,C=o.orig_p,O=void 0!==C?C:o.pos;return"h"===x.orientation?(L=c,n.xLabelVal=s.x,n.yLabelVal=O):(L=p,n.xLabelVal=O,n.yLabelVal=s.y),n[L._id.charAt(0)+"Spike"]=L.c2p(o.pos,!0),b(s,x,n),n}ee.exports={hoverPoints:function(t,i,r,n){var o,s=t.cd[0].trace.hoveron,u=[];return-1!==s.indexOf("boxes")&&(u=u.concat(d(t,i,r,n))),-1!==s.indexOf("points")&&(o=a(t,i,r)),"closest"===n?o?[o]:u:(o&&u.push(o),u)},hoverOnBoxes:d,hoverOnPoints:a}},83832:function(ee,D,e){"use strict";ee.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(ee){"use strict";ee.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(ee,D,e){"use strict";var A=e(73972),k=e(71828),l=e(40094);function T(b,d,a,t,i){for(var r=i+"Layout",n=!1,o=0;o<a.length;o++)if(A.traceIs(a[o],r)){n=!0;break}n&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}ee.exports={supplyLayoutDefaults:function(b,d,a){T(0,0,a,function(t,i){return k.coerce(b,d,l,t,i)},"box")},_supply:T}},86047:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(91424);function T(a,t,i,r,n){var o,s,u="h"===i.orientation,p=t.val,c=t.pos,x=!!c.rangebreaks,g=r.bPos,h=r.wdPos||0,y=r.bPosPxOffset||0,v=i.whiskerwidth||0,m=!1!==i.showwhiskers,_=i.notched||!1,f=_?1-2*i.notchwidth:1;Array.isArray(r.bdPos)?(o=r.bdPos[0],s=r.bdPos[1]):(o=r.bdPos,s=r.bdPos);var S=a.selectAll("path.box").data("violin"!==i.type||i.box.visible?k.identity:[]);S.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","box"),S.exit().remove(),S.each(function(w){if(w.empty)return"M0,0Z";var E=c.c2l(w.pos+g,!0),L=c.l2p(E-o)+y,C=c.l2p(E+s)+y,O=x?(L+C)/2:c.l2p(E)+y,R=i.whiskerwidth,q=x?L*R+(1-R)*O:c.l2p(E-h)+y,P=x?C*R+(1-R)*O:c.l2p(E+h)+y,U=c.l2p(E-o*f)+y,N=c.l2p(E+s*f)+y,F="sd"===i.sizemode,j=p.c2p(F?w.mean-w.sd:w.q1,!0),G=p.c2p(F?w.mean+w.sd:w.q3,!0),te=k.constrain(p.c2p(F?w.mean:w.med,!0),Math.min(j,G)+1,Math.max(j,G)-1),J=void 0===w.lf||!1===i.boxpoints||F,X=p.c2p(J?w.min:w.lf,!0),Y=p.c2p(J?w.max:w.uf,!0),W=p.c2p(w.ln,!0),$=p.c2p(w.un,!0);u?A.select(this).attr("d","M"+te+","+U+"V"+N+"M"+j+","+L+"V"+C+(_?"H"+W+"L"+te+","+N+"L"+$+","+C:"")+"H"+G+"V"+L+(_?"H"+$+"L"+te+","+U+"L"+W+","+L:"")+"Z"+(m?"M"+j+","+O+"H"+X+"M"+G+","+O+"H"+Y+(0===v?"":"M"+X+","+q+"V"+P+"M"+Y+","+q+"V"+P):"")):A.select(this).attr("d","M"+U+","+te+"H"+N+"M"+L+","+j+"H"+C+(_?"V"+W+"L"+N+","+te+"L"+C+","+$:"")+"V"+G+"H"+L+(_?"V"+$+"L"+U+","+te+"L"+L+","+W:"")+"Z"+(m?"M"+O+","+j+"V"+X+"M"+O+","+G+"V"+Y+(0===v?"":"M"+q+","+X+"H"+P+"M"+q+","+Y+"H"+P):""))})}function b(a,t,i,r){var n=t.x,o=t.y,s=r.bdPos,u=r.bPos,p=i.boxpoints||i.points;k.seedPseudoRandom();var c=a.selectAll("g.points").data(p?function(g){return g.forEach(function(h){h.t=r,h.trace=i}),g}:[]);c.enter().append("g").attr("class","points"),c.exit().remove();var x=c.selectAll("path").data(function(g){var h,y,v=g.pts2,m=Math.max((g.max-g.min)/10,g.q3-g.q1),_=1e-9*m,f=.01*m,S=[],w=0;if(i.jitter){if(0===m)for(w=1,S=new Array(v.length),h=0;h<v.length;h++)S[h]=1;else for(h=0;h<v.length;h++){var E=Math.max(0,h-5),L=v[E].v,C=Math.min(v.length-1,h+5),O=v[C].v;"all"!==p&&(v[h].v<g.lf?O=Math.min(O,g.lf):L=Math.max(L,g.uf));var R=Math.sqrt(f*(C-E)/(O-L+_))||0;R=k.constrain(Math.abs(R),0,1),S.push(R),w=Math.max(R,w)}y=2*i.jitter/(w||1)}for(h=0;h<v.length;h++){var q=v[h],P=q.v,U=i.jitter?y*S[h]*(k.pseudoRandom()-.5):0,N=g.pos+u+s*(i.pointpos+U);"h"===i.orientation?(q.y=N,q.x=P):(q.x=N,q.y=P),"suspectedoutliers"===p&&P<g.uo&&P>g.lo&&(q.so=!0)}return v});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(l.translatePoints,n,o)}function d(a,t,i,r){var n,o,s=t.val,u=t.pos,p=!!u.rangebreaks,c=r.bPos,x=r.bPosPxOffset||0,g=i.boxmean||(i.meanline||{}).visible;Array.isArray(r.bdPos)?(n=r.bdPos[0],o=r.bdPos[1]):(n=r.bdPos,o=r.bdPos);var h=a.selectAll("path.mean").data("box"===i.type&&i.boxmean||"violin"===i.type&&i.box.visible&&i.meanline.visible?k.identity:[]);h.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),h.exit().remove(),h.each(function(y){var v=u.c2l(y.pos+c,!0),m=u.l2p(v-n)+x,_=u.l2p(v+o)+x,f=p?(m+_)/2:u.l2p(v)+x,S=s.c2p(y.mean,!0),w=s.c2p(y.mean-y.sd,!0),E=s.c2p(y.mean+y.sd,!0);"h"===i.orientation?A.select(this).attr("d","M"+S+","+m+"V"+_+("sd"===g?"m0,0L"+w+","+f+"L"+S+","+m+"L"+E+","+f+"Z":"")):A.select(this).attr("d","M"+m+","+S+"H"+_+("sd"===g?"m0,0L"+f+","+w+"L"+m+","+S+"L"+f+","+E+"Z":""))})}ee.exports={plot:function(a,t,i,r){var n=a._context.staticPlot,o=t.xaxis,s=t.yaxis;k.makeTraceGroups(r,i,"trace boxes").each(function(u){var p,c,x=A.select(this),g=u[0],h=g.t,y=g.trace;h.wdPos=h.bdPos*y.whiskerwidth,!0!==y.visible||h.empty?x.remove():("h"===y.orientation?(p=s,c=o):(p=o,c=s),T(x,{pos:p,val:c},y,h,n),b(x,{x:o,y:s},y,h),d(x,{pos:p,val:c},y,h))})},plotBoxAndWhiskers:T,plotPoints:b,plotBoxMean:d}},24626:function(ee){"use strict";ee.exports=function(D,e){var A,k,l=D.cd,T=D.xaxis,b=D.yaxis,d=[];if(!1===e)for(A=0;A<l.length;A++)for(k=0;k<(l[A].pts||[]).length;k++)l[A].pts[k].selected=0;else for(A=0;A<l.length;A++)for(k=0;k<(l[A].pts||[]).length;k++){var a=l[A].pts[k],t=T.c2p(a.x),i=b.c2p(a.y);e.contains([t,i],null,a.i,D)?(d.push({pointNumber:a.i,x:T.c2d(a.x),y:b.c2d(a.y)}),a.selected=1):a.selected=0}return d}},58063:function(ee,D,e){"use strict";var A=e(39898),k=e(7901),l=e(91424);ee.exports={style:function(T,b,d){var a=d||A.select(T).selectAll("g.trace.boxes");a.style("opacity",function(t){return t[0].trace.opacity}),a.each(function(t){var i=A.select(this),r=t[0].trace,n=r.line.width;function o(p,c,x,g){p.style("stroke-width",c+"px").call(k.stroke,x).call(k.fill,g)}var s=i.selectAll("path.box");if("candlestick"===r.type)s.each(function(p){if(!p.empty){var c=A.select(this),x=r[p.dir];o(c,x.line.width,x.line.color,x.fillcolor),c.style("opacity",r.selectedpoints&&!p.selected?.3:1)}});else{o(s,n,r.line.color,r.fillcolor),i.selectAll("path.mean").style({"stroke-width":n,"stroke-dasharray":2*n+"px,"+n+"px"}).call(k.stroke,r.line.color);var u=i.selectAll("path.point");l.pointStyle(u,r,T)}})},styleOnSelect:function(T,b,d){var a=b[0].trace,t=d.selectAll("path.point");a.selectedpoints?l.selectedPointStyle(t,a):l.pointStyle(t,a,T)}}},75343:function(ee,D,e){"use strict";var A=e(71828).extendFlat,k=e(12663).axisHoverFormat,l=e(2522),T=e(53522);function b(d){return{line:{color:A({},T.line.color,{dflt:d}),width:T.line.width,editType:"style"},fillcolor:T.fillcolor,editType:"style"}}ee.exports={xperiod:l.xperiod,xperiod0:l.xperiod0,xperiodalignment:l.xperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),x:l.x,open:l.open,high:l.high,low:l.low,close:l.close,line:{width:A({},T.line.width,{}),editType:"style"},increasing:b(l.increasing.line.color.dflt),decreasing:b(l.decreasing.line.color.dflt),text:l.text,hovertext:l.hovertext,whiskerwidth:A({},T.whiskerwidth,{dflt:0}),hoverlabel:l.hoverlabel}},41197:function(ee,D,e){"use strict";var A=e(71828),k=e(89298),l=e(42973),T=e(3485).calcCommon;function b(d,a,t,i){return{min:t,q1:Math.min(d,i),med:i,q3:Math.max(d,i),max:a}}ee.exports=function(d,a){var t=d._fullLayout,i=k.getFromId(d,a.xaxis),r=k.getFromId(d,a.yaxis),n=i.makeCalcdata(a,"x"),o=l(a,i,"x",n).vals,s=T(d,a,n,o,r,b);return s.length?(A.extendFlat(s[0].t,{num:t._numBoxes,dPos:A.distinctVals(o).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,s):[{t:{empty:!0}}]}},1026:function(ee,D,e){"use strict";var A=e(71828),k=e(7901),l=e(14555),T=e(73927),b=e(75343);function d(a,t,i,r){var n=i(r+".line.color");i(r+".line.width",t.line.width),i(r+".fillcolor",k.addOpacity(n,.5))}ee.exports=function(a,t,i,r){function n(o,s){return A.coerce(a,t,b,o,s)}l(a,t,n,r)?(T(a,t,r,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),d(0,t,n,"increasing"),d(0,t,n,"decreasing"),n("text"),n("hovertext"),n("whiskerwidth"),r._requestRangeslider[t.xaxis]=!0):t.visible=!1}},91815:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(ee,D,e){"use strict";var A=e(11500),k=e(44467);ee.exports=function(l,T,b,d,a){var t,i,r,n;d("a")||(d("da"),d("a0")),d("b")||(d("db"),d("b0")),t=l,i=T,r=b,n=a,["aaxis","baxis"].forEach(function(o){var s=o.charAt(0),u=t[o]||{},p=k.newContainer(i,o);A(u,p,{noTicklabelstep:!0,tickfont:"x",id:s+"axis",letter:s,font:i.font,name:o,data:t[s],calendar:i.calendar,dfltColor:n,bgColor:r.paper_bgcolor,autotypenumbersDflt:r.autotypenumbers,fullLayout:r}),p._categories=p._categories||[],t[o]||"-"===u.type||(t[o]={type:u.type})})}},402:function(ee,D,e){"use strict";var A=e(71828).isArrayOrTypedArray;function k(l,T){if(!A(l)||T>=10)return null;for(var b=1/0,d=-1/0,a=l.length,t=0;t<a;t++){var i=l[t];if(A(i)){var r=k(i,T+1);r&&(b=Math.min(r[0],b),d=Math.max(r[1],d))}else b=Math.min(i,b),d=Math.max(i,d)}return[b,d]}ee.exports=function(l){return k(l,0)}},99798:function(ee,D,e){"use strict";var A=e(41940),k=e(1928),l=e(22399),T=A({editType:"calc"});T.family.dflt='"Open Sans", verdana, arial, sans-serif',T.size.dflt=12,T.color.dflt=l.defaultLine,ee.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:k,baxis:k,font:T,color:{valType:"color",dflt:l.defaultLine,editType:"plot"},transforms:void 0}},4536:function(ee,D,e){"use strict";var A=e(71828).isArrayOrTypedArray;ee.exports=function(k,l,T,b){var d,a,t,i,r,n,o,s,u,p,c,x,g,h=A(T)?"a":"b",y=("a"===h?k.aaxis:k.baxis).smoothing,v="a"===h?k.a2i:k.b2j,m="a"===h?T:b,_="a"===h?b:T,f="a"===h?l.a.length:l.b.length,S="a"===h?l.b.length:l.a.length,w=Math.floor("a"===h?k.b2j(_):k.a2i(_)),E="a"===h?function(te){return k.evalxy([],te,w)}:function(te){return k.evalxy([],w,te)};y&&(t=Math.max(0,Math.min(S-2,w)),i=w-t,a="a"===h?function(te,J){return k.dxydi([],te,t,J,i)}:function(te,J){return k.dxydj([],t,te,i,J)});var L=v(m[0]),C=v(m[1]),O=L<C?1:-1,R=1e-8*(C-L),q=O>0?Math.floor:Math.ceil,P=O>0?Math.ceil:Math.floor,U=O>0?Math.min:Math.max,N=O>0?Math.max:Math.min,F=q(L+R),j=P(C-R),G=[[o=E(L)]];for(d=F;d*O<j*O;d+=O)r=[],c=N(L,d),g=(x=U(C,d+O))-c,n=Math.max(0,Math.min(f-2,Math.floor(.5*(c+x)))),s=E(x),y&&(u=a(n,c-n),p=a(n,x-n),r.push([o[0]+u[0]/3*g,o[1]+u[1]/3*g]),r.push([s[0]-p[0]/3*g,s[1]-p[1]/3*g])),r.push(s),G.push(r),o=s;return G}},1928:function(ee,D,e){"use strict";var A=e(41940),k=e(22399),l=e(13838),T=e(12663).descriptionWithDates,b=e(30962).overrideAll,d=e(79952).P,a=e(1426).extendFlat;ee.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:A({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:l.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:a({},l.labelalias,{editType:"calc"}),tickfont:A({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:T("tick label")},tickformatstops:b(l.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:a({},d,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:a({},d,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:k.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:A({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(ee,D,e){"use strict";var A=e(99798),k=e(7901).addOpacity,l=e(73972),T=e(71828),b=e(26218),d=e(96115),a=e(89426),t=e(15258),i=e(21994),r=e(4322);ee.exports=function(n,o,s){var u=s.letter,p=s.font||{},c=A[u+"axis"];function x(O,R){return T.coerce(n,o,c,O,R)}function g(O,R){return T.coerce2(n,o,c,O,R)}s.name&&(o._name=s.name,o._id=s.name),x("autotypenumbers",s.autotypenumbersDflt);var h=x("type");"-"===h&&(s.data&&function(O,R){if("-"===O.type){var q=O._id.charAt(0);O.type=r(R,O[q+"calendar"],{autotypenumbers:O.autotypenumbers})}}(o,s.data),"-"===o.type?o.type="linear":h=n.type=o.type),x("smoothing"),x("cheatertype"),x("showticklabels"),x("labelprefix",u+" = "),x("labelsuffix"),x("showtickprefix"),x("showticksuffix"),x("separatethousands"),x("tickformat"),x("exponentformat"),x("minexponent"),x("showexponent"),x("categoryorder"),x("tickmode"),x("tickvals"),x("ticktext"),x("tick0"),x("dtick"),"array"===o.tickmode&&(x("arraytick0"),x("arraydtick")),x("labelpadding"),o._hovertitle=u,"date"===h&&l.getComponentMethod("calendars","handleDefaults")(n,o,"calendar",s.calendar),i(o,s.fullLayout),o.c2p=T.identity;var y=x("color",s.dfltColor),v=y===n.color?y:p.color;x("title.text")&&(T.coerceFont(x,"title.font",{family:p.family,size:T.bigFont(p.size),color:v}),x("title.offset")),x("tickangle"),x("autorange",!o.isValidRange(n.range))&&x("rangemode"),x("range"),o.cleanRange(),x("fixedrange"),b(n,o,x,h),a(n,o,x,h,s),d(n,o,x,h,s),t(n,o,x,{data:s.data,dataAttr:u});var m=g("gridcolor",k(y,.3)),_=g("gridwidth"),f=g("griddash"),S=x("showgrid");S||(delete o.gridcolor,delete o.gridwidth,delete o.griddash);var w=g("startlinecolor",y),E=g("startlinewidth",_);x("startline",o.showgrid||!!w||!!E)||(delete o.startlinecolor,delete o.startlinewidth);var L=g("endlinecolor",y),C=g("endlinewidth",_);return x("endline",o.showgrid||!!L||!!C)||(delete o.endlinecolor,delete o.endlinewidth),S?(x("minorgridcount"),x("minorgridwidth",_),x("minorgriddash",f),x("minorgridcolor",k(m,.06)),o.minorgridcount||(delete o.minorgridwidth,delete o.minorgriddash,delete o.minorgridcolor)):(delete o.gridcolor,delete o.gridwidth,delete o.griddash),"none"===o.showticklabels&&(delete o.tickfont,delete o.tickangle,delete o.showexponent,delete o.exponentformat,delete o.minexponent,delete o.tickformat,delete o.showticksuffix,delete o.showtickprefix),o.showticksuffix||delete o.ticksuffix,o.showtickprefix||delete o.tickprefix,x("tickmode"),o}},25281:function(ee,D,e){"use strict";var A=e(89298),k=e(71828).isArray1D,l=e(53824),T=e(402),b=e(20347),d=e(83311),a=e(44807),t=e(4742),i=e(72505),r=e(68296),n=e(11435);ee.exports=function(o,s){var u=A.getFromId(o,s.xaxis),p=A.getFromId(o,s.yaxis),c=s.aaxis,x=s.baxis,g=s.x,h=s.y,y=[];g&&k(g)&&y.push("x"),h&&k(h)&&y.push("y"),y.length&&r(s,c,x,"a","b",y);var v=s._a=s._a||s.a,m=s._b=s._b||s.b;g=s._x||s.x,h=s._y||s.y;var _={};s._cheater&&(g=l("index"===c.cheatertype?v.length:v,"index"===x.cheatertype?m.length:m,s.cheaterslope)),s._x=g=t(g),s._y=h=t(h),i(g,v,m),i(h,v,m),n(s),s.setScale();var w=T(g),E=T(h),L=.5*(w[1]-w[0]),C=.5*(w[1]+w[0]),O=.5*(E[1]-E[0]),R=.5*(E[1]+E[0]),q=1.3;return E=[R-O*q,R+O*q],s._extremes[u._id]=A.findExtremes(u,w=[C-L*q,C+L*q],{padded:!0}),s._extremes[p._id]=A.findExtremes(p,E,{padded:!0}),b(s,"a","b"),b(s,"b","a"),d(s,c),d(s,x),_.clipsegments=a(s._xctrl,s._yctrl,c,x),_.x=g,_.y=h,_.a=v,_.b=m,[_]}},44807:function(ee){"use strict";ee.exports=function(D,e,A,k){var l,T,b,d=[],a=!!A.smoothing,t=!!k.smoothing,i=D[0].length-1,r=D.length-1;for(l=0,T=[],b=[];l<=i;l++)T[l]=D[0][l],b[l]=e[0][l];for(d.push({x:T,y:b,bicubic:a}),l=0,T=[],b=[];l<=r;l++)T[l]=D[l][i],b[l]=e[l][i];for(d.push({x:T,y:b,bicubic:t}),l=i,T=[],b=[];l>=0;l--)T[i-l]=D[r][l],b[i-l]=e[r][l];for(d.push({x:T,y:b,bicubic:a}),l=r,T=[],b=[];l>=0;l--)T[r-l]=D[l][0],b[r-l]=e[l][0];return d.push({x:T,y:b,bicubic:t}),d}},20347:function(ee,D,e){"use strict";var A=e(89298),k=e(1426).extendFlat;ee.exports=function(l,T,b){var d,a,t,i,r,n,o,s,u,p,c,x,g,h,y=l["_"+T],v=l[T+"axis"],m=v._gridlines=[],_=v._minorgridlines=[],f=v._boundarylines=[],S=l["_"+b],w=l[b+"axis"];"array"===v.tickmode&&(v.tickvals=y.slice());var E=l._xctrl,L=l._yctrl,C=E[0].length,O=E.length,R=l._a.length,q=l._b.length;A.prepTicks(v),"array"===v.tickmode&&delete v.tickvals;var P=v.smoothing?3:1;function U(F){var j,G,te,J,X,Y,W,$,ne,re,oe,ue,xe=[],Me=[],me={};if("b"===T)for(G=l.b2j(F),te=Math.floor(Math.max(0,Math.min(q-2,G))),J=G-te,me.length=q,me.crossLength=R,me.xy=function(pe){return l.evalxy([],pe,G)},me.dxy=function(pe,ge){return l.dxydi([],pe,te,ge,J)},j=0;j<R;j++)Y=Math.min(R-2,j),W=j-Y,$=l.evalxy([],j,G),w.smoothing&&j>0&&(ne=l.dxydi([],j-1,te,0,J),xe.push(X[0]+ne[0]/3),Me.push(X[1]+ne[1]/3),re=l.dxydi([],j-1,te,1,J),xe.push($[0]-re[0]/3),Me.push($[1]-re[1]/3)),xe.push($[0]),Me.push($[1]),X=$;else for(j=l.a2i(F),Y=Math.floor(Math.max(0,Math.min(R-2,j))),W=j-Y,me.length=R,me.crossLength=q,me.xy=function(pe){return l.evalxy([],j,pe)},me.dxy=function(pe,ge){return l.dxydj([],Y,pe,W,ge)},G=0;G<q;G++)te=Math.min(q-2,G),J=G-te,$=l.evalxy([],j,G),w.smoothing&&G>0&&(oe=l.dxydj([],Y,G-1,W,0),xe.push(X[0]+oe[0]/3),Me.push(X[1]+oe[1]/3),ue=l.dxydj([],Y,G-1,W,1),xe.push($[0]-ue[0]/3),Me.push($[1]-ue[1]/3)),xe.push($[0]),Me.push($[1]),X=$;return me.axisLetter=T,me.axis=v,me.crossAxis=w,me.value=F,me.constvar=b,me.index=s,me.x=xe,me.y=Me,me.smoothing=w.smoothing,me}function N(F){var j,G,te,J,X,Y=[],W=[],$={};if($.length=y.length,$.crossLength=S.length,"b"===T)for(te=Math.max(0,Math.min(q-2,F)),X=Math.min(1,Math.max(0,F-te)),$.xy=function(ne){return l.evalxy([],ne,F)},$.dxy=function(ne,re){return l.dxydi([],ne,te,re,X)},j=0;j<C;j++)Y[j]=E[F*P][j],W[j]=L[F*P][j];else for(G=Math.max(0,Math.min(R-2,F)),J=Math.min(1,Math.max(0,F-G)),$.xy=function(ne){return l.evalxy([],F,ne)},$.dxy=function(ne,re){return l.dxydj([],G,ne,J,re)},j=0;j<O;j++)Y[j]=E[j][F*P],W[j]=L[j][F*P];return $.axisLetter=T,$.axis=v,$.crossAxis=w,$.value=y[F],$.constvar=b,$.index=F,$.x=Y,$.y=W,$.smoothing=w.smoothing,$}if("array"===v.tickmode){for(i=5e-15,n=(r=[Math.floor((y.length-1-v.arraytick0)/v.arraydtick*(1+i)),Math.ceil(-v.arraytick0/v.arraydtick/(1+i))].sort(function(F,j){return F-j}))[0]-1,o=r[1]+1,s=n;s<o;s++)(a=v.arraytick0+v.arraydtick*s)<0||a>y.length-1||m.push(k(N(a),{color:v.gridcolor,width:v.gridwidth,dash:v.griddash}));for(s=n;s<o;s++)if(t=v.arraytick0+v.arraydtick*s,c=Math.min(t+v.arraydtick,y.length-1),!(t<0||t>y.length-1||c<0||c>y.length-1))for(x=y[t],g=y[c],d=0;d<v.minorgridcount;d++)(h=c-t)<=0||(p=x+(g-x)*(d+1)/(v.minorgridcount+1)*(v.arraydtick/h))<y[0]||p>y[y.length-1]||_.push(k(U(p),{color:v.minorgridcolor,width:v.minorgridwidth,dash:v.minorgriddash}));v.startline&&f.push(k(N(0),{color:v.startlinecolor,width:v.startlinewidth})),v.endline&&f.push(k(N(y.length-1),{color:v.endlinecolor,width:v.endlinewidth}))}else{for(i=5e-15,n=(r=[Math.floor((y[y.length-1]-v.tick0)/v.dtick*(1+i)),Math.ceil((y[0]-v.tick0)/v.dtick/(1+i))].sort(function(F,j){return F-j}))[0],o=r[1],s=n;s<=o;s++)m.push(k(U(u=v.tick0+v.dtick*s),{color:v.gridcolor,width:v.gridwidth,dash:v.griddash}));for(s=n-1;s<o+1;s++)for(u=v.tick0+v.dtick*s,d=0;d<v.minorgridcount;d++)(p=u+v.dtick*(d+1)/(v.minorgridcount+1))<y[0]||p>y[y.length-1]||_.push(k(U(p),{color:v.minorgridcolor,width:v.minorgridwidth,dash:v.minorgriddash}));v.startline&&f.push(k(U(y[0]),{color:v.startlinecolor,width:v.startlinewidth})),v.endline&&f.push(k(U(y[y.length-1]),{color:v.endlinecolor,width:v.endlinewidth}))}}},83311:function(ee,D,e){"use strict";var A=e(89298),k=e(1426).extendFlat;ee.exports=function(l,T){var b,d,a,t=T._labels=[],i=T._gridlines;for(b=0;b<i.length;b++)a=i[b],-1!==["start","both"].indexOf(T.showticklabels)&&(d=A.tickText(T,a.value),k(d,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:a.xy(0),dxy:a.dxy(0,0),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:0===b,isLast:b===i.length-1}),t.push(d)),-1!==["end","both"].indexOf(T.showticklabels)&&(d=A.tickText(T,a.value),k(d,{endAnchor:!1,xy:a.xy(a.crossLength-1),dxy:a.dxy(a.crossLength-2,1),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:0===b,isLast:b===i.length-1}),t.push(d))}},42048:function(ee){"use strict";ee.exports=function(D,e,A,k){var l=D[0]-e[0],T=D[1]-e[1],b=A[0]-e[0],d=A[1]-e[1],a=Math.pow(l*l+T*T,.25),t=Math.pow(b*b+d*d,.25),i=(t*t*l-a*a*b)*k,r=(t*t*T-a*a*d)*k,n=t*(a+t)*3,o=a*(a+t)*3;return[[e[0]+(n&&i/n),e[1]+(n&&r/n)],[e[0]-(o&&i/o),e[1]-(o&&r/o)]]}},53824:function(ee,D,e){"use strict";var A=e(71828).isArrayOrTypedArray;ee.exports=function(k,l,T){var b,d,a,t,i,r,n=[],o=A(k)?k.length:k,s=A(l)?l.length:l,u=A(k)?k:null,p=A(l)?l:null;u&&(a=(u.length-1)/(u[u.length-1]-u[0])/(o-1)),p&&(t=(p.length-1)/(p[p.length-1]-p[0])/(s-1));var c=1/0,x=-1/0;for(d=0;d<s;d++)for(n[d]=[],i=p?(p[d]-p[0])*t:d/(s-1),b=0;b<o;b++)r=(u?(u[b]-u[0])*a:b/(o-1))-i*T,c=Math.min(r,c),x=Math.max(r,x),n[d][b]=r;var g=1/(x-c),h=-c*g;for(d=0;d<s;d++)for(b=0;b<o;b++)n[d][b]=g*n[d][b]+h;return n}},45664:function(ee,D,e){"use strict";var A=e(42048),k=e(71828).ensureArray;function l(T,b,d){return[(2*(-.5*d[0]+1.5*b[0])+T[0])/3,(2*(-.5*d[1]+1.5*b[1])+T[1])/3]}ee.exports=function(T,b,d,a,t,i){var r,n,o,s,u,p,c,x,g,h,y=d[0].length,v=d.length,m=t?3*y-2:y,_=i?3*v-2:v;for(T=k(T,_),b=k(b,_),o=0;o<_;o++)T[o]=k(T[o],m),b[o]=k(b[o],m);for(n=0,s=0;n<v;n++,s+=i?3:1)for(u=T[s],p=b[s],c=d[n],x=a[n],r=0,o=0;r<y;r++,o+=t?3:1)u[o]=c[r],p[o]=x[r];if(t)for(n=0,s=0;n<v;n++,s+=i?3:1){for(r=1,o=3;r<y-1;r++,o+=3)g=A([d[n][r-1],a[n][r-1]],[d[n][r],a[n][r]],[d[n][r+1],a[n][r+1]],t),T[s][o-1]=g[0][0],b[s][o-1]=g[0][1],T[s][o+1]=g[1][0],b[s][o+1]=g[1][1];h=l([T[s][0],b[s][0]],[T[s][2],b[s][2]],[T[s][3],b[s][3]]),T[s][1]=h[0],b[s][1]=h[1],h=l([T[s][m-1],b[s][m-1]],[T[s][m-3],b[s][m-3]],[T[s][m-4],b[s][m-4]]),T[s][m-2]=h[0],b[s][m-2]=h[1]}if(i)for(o=0;o<m;o++){for(s=3;s<_-3;s+=3)g=A([T[s-3][o],b[s-3][o]],[T[s][o],b[s][o]],[T[s+3][o],b[s+3][o]],i),T[s-1][o]=g[0][0],b[s-1][o]=g[0][1],T[s+1][o]=g[1][0],b[s+1][o]=g[1][1];h=l([T[0][o],b[0][o]],[T[2][o],b[2][o]],[T[3][o],b[3][o]]),T[1][o]=h[0],b[1][o]=h[1],h=l([T[_-1][o],b[_-1][o]],[T[_-3][o],b[_-3][o]],[T[_-4][o],b[_-4][o]]),T[_-2][o]=h[0],b[_-2][o]=h[1]}if(t&&i)for(s=1;s<_;s+=(s+1)%3==0?2:1){for(o=3;o<m-3;o+=3)g=A([T[s][o-3],b[s][o-3]],[T[s][o],b[s][o]],[T[s][o+3],b[s][o+3]],t),T[s][o-1]=.5*(T[s][o-1]+g[0][0]),b[s][o-1]=.5*(b[s][o-1]+g[0][1]),T[s][o+1]=.5*(T[s][o+1]+g[1][0]),b[s][o+1]=.5*(b[s][o+1]+g[1][1]);h=l([T[s][0],b[s][0]],[T[s][2],b[s][2]],[T[s][3],b[s][3]]),T[s][1]=.5*(T[s][1]+h[0]),b[s][1]=.5*(b[s][1]+h[1]),h=l([T[s][m-1],b[s][m-1]],[T[s][m-3],b[s][m-3]],[T[s][m-4],b[s][m-4]]),T[s][m-2]=.5*(T[s][m-2]+h[0]),b[s][m-2]=.5*(b[s][m-2]+h[1])}return[T,b]}},35509:function(ee){"use strict";ee.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(ee){"use strict";ee.exports=function(D,e,A){return e&&A?function(k,l,T,b,d){var a,n,o;k||(k=[]),l*=3,T*=3;var s=b*b,u=1-b,p=u*u,c=u*b*2,x=-3*p,g=3*(p-c),h=3*(c-s),y=3*s,v=d*d,m=v*d,_=1-d,f=_*_,S=f*_;for(o=0;o<D.length;o++)a=x*(n=D[o])[T][l]+g*n[T][l+1]+h*n[T][l+2]+y*n[T][l+3],k[o]=S*a+3*(f*d*(x*n[T+1][l]+g*n[T+1][l+1]+h*n[T+1][l+2]+y*n[T+1][l+3])+_*v*(x*n[T+2][l]+g*n[T+2][l+1]+h*n[T+2][l+2]+y*n[T+2][l+3]))+m*(x*n[T+3][l]+g*n[T+3][l+1]+h*n[T+3][l+2]+y*n[T+3][l+3]);return k}:e?function(k,l,T,b,d){var a,i,r;k||(k=[]),l*=3;var n=b*b,o=1-b,s=o*o,u=o*b*2,p=-3*s,c=3*(s-u),x=3*(u-n),g=3*n,h=1-d;for(i=0;i<D.length;i++)a=p*(r=D[i])[T][l]+c*r[T][l+1]+x*r[T][l+2]+g*r[T][l+3],k[i]=h*a+d*(p*r[T+1][l]+c*r[T+1][l+1]+x*r[T+1][l+2]+g*r[T+1][l+3]);return k}:A?function(k,l,T,b,d){var a,n,o;k||(k=[]),T*=3;var s=d*d,u=s*d,p=1-d,c=p*p,x=c*p;for(n=0;n<D.length;n++)a=(o=D[n])[T][l+1]-o[T][l],k[n]=x*a+3*(c*d*(o[T+1][l+1]-o[T+1][l])+p*s*(o[T+2][l+1]-o[T+2][l]))+u*(o[T+3][l+1]-o[T+3][l]);return k}:function(k,l,T,b,d){var a,i,r;k||(k=[]);var n=1-d;for(i=0;i<D.length;i++)a=(r=D[i])[T][l+1]-r[T][l],k[i]=n*a+d*(r[T+1][l+1]-r[T+1][l]);return k}}},73057:function(ee){"use strict";ee.exports=function(D,e,A){return e&&A?function(k,l,T,b,d){var a,n,o;k||(k=[]),l*=3,T*=3;var s=b*b,u=s*b,p=1-b,c=p*p,x=c*p,g=d*d,h=1-d,y=h*h,v=h*d*2,m=-3*y,_=3*(y-v),f=3*(v-g),S=3*g;for(o=0;o<D.length;o++)a=m*(n=D[o])[T][l]+_*n[T+1][l]+f*n[T+2][l]+S*n[T+3][l],k[o]=x*a+3*(c*b*(m*n[T][l+1]+_*n[T+1][l+1]+f*n[T+2][l+1]+S*n[T+3][l+1])+p*s*(m*n[T][l+2]+_*n[T+1][l+2]+f*n[T+2][l+2]+S*n[T+3][l+2]))+u*(m*n[T][l+3]+_*n[T+1][l+3]+f*n[T+2][l+3]+S*n[T+3][l+3]);return k}:e?function(k,l,T,b,d){var a,n,o;k||(k=[]),l*=3;var s=d*d,u=s*d,p=1-d,c=p*p,x=c*p;for(n=0;n<D.length;n++)a=(o=D[n])[T+1][l]-o[T][l],k[n]=x*a+3*(c*d*(o[T+1][l+1]-o[T][l+1])+p*s*(o[T+1][l+2]-o[T][l+2]))+u*(o[T+1][l+3]-o[T][l+3]);return k}:A?function(k,l,T,b,d){var a,i,r;k||(k=[]),T*=3;var n=1-b,o=d*d,s=1-d,u=s*s,p=s*d*2,c=-3*u,x=3*(u-p),g=3*(p-o),h=3*o;for(i=0;i<D.length;i++)a=c*(r=D[i])[T][l]+x*r[T+1][l]+g*r[T+2][l]+h*r[T+3][l],k[i]=n*a+b*(c*r[T][l+1]+x*r[T+1][l+1]+g*r[T+2][l+1]+h*r[T+3][l+1]);return k}:function(k,l,T,b,d){var a,i,r;k||(k=[]);var n=1-b;for(i=0;i<D.length;i++)a=(r=D[i])[T+1][l]-r[T][l],k[i]=n*a+b*(r[T+1][l+1]-r[T][l+1]);return k}}},20349:function(ee){"use strict";ee.exports=function(D,e,A,k,l){var T=e-2,b=A-2;return k&&l?function(d,a,t){var i,s,u;d||(d=[]);var p=Math.max(0,Math.min(Math.floor(a),T)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,a-p)),g=Math.max(0,Math.min(1,t-c));p*=3,c*=3;var h=x*x,y=h*x,v=1-x,m=v*v,_=m*v,f=g*g,S=f*g,w=1-g,E=w*w,L=E*w;for(u=0;u<D.length;u++)i=_*(s=D[u])[c][p]+3*(m*x*s[c][p+1]+v*h*s[c][p+2])+y*s[c][p+3],d[u]=L*i+3*(E*g*(_*s[c+1][p]+3*(m*x*s[c+1][p+1]+v*h*s[c+1][p+2])+y*s[c+1][p+3])+w*f*(_*s[c+2][p]+3*(m*x*s[c+2][p+1]+v*h*s[c+2][p+2])+y*s[c+2][p+3]))+S*(_*s[c+3][p]+3*(m*x*s[c+3][p+1]+v*h*s[c+3][p+2])+y*s[c+3][p+3]);return d}:k?function(d,a,t){d||(d=[]);var i,s,u,p=Math.max(0,Math.min(Math.floor(a),T)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,a-p)),g=Math.max(0,Math.min(1,t-c));p*=3;var h=x*x,y=h*x,v=1-x,m=v*v,_=m*v,f=1-g;for(s=0;s<D.length;s++)i=f*(u=D[s])[c][p]+g*u[c+1][p],d[s]=_*i+3*(m*x*(f*u[c][p+1]+g*u[c+1][p+1])+v*h*(f*u[c][p+2]+g*u[c+1][p+1]))+y*(f*u[c][p+3]+g*u[c+1][p+1]);return d}:l?function(d,a,t){d||(d=[]);var i,s,u,p=Math.max(0,Math.min(Math.floor(a),T)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,a-p)),g=Math.max(0,Math.min(1,t-c));c*=3;var h=g*g,y=h*g,v=1-g,m=v*v,_=m*v,f=1-x;for(s=0;s<D.length;s++)i=f*(u=D[s])[c][p]+x*u[c][p+1],d[s]=_*i+3*(m*g*(f*u[c+1][p]+x*u[c+1][p+1])+v*h*(f*u[c+2][p]+x*u[c+2][p+1]))+y*(f*u[c+3][p]+x*u[c+3][p+1]);return d}:function(d,a,t){d||(d=[]);var i,n,o,s=Math.max(0,Math.min(Math.floor(a),T)),u=Math.max(0,Math.min(Math.floor(t),b)),p=Math.max(0,Math.min(1,a-s)),c=Math.max(0,Math.min(1,t-u)),x=1-c,g=1-p;for(n=0;n<D.length;n++)i=g*(o=D[n])[u][s]+p*o[u][s+1],d[n]=x*i+c*(g*o[u+1][s]+p*o[u+1][s+1]);return d}}},92087:function(ee,D,e){"use strict";var A=e(71828),k=e(19237),l=e(13145),T=e(99798),b=e(22399);ee.exports=function(d,a,t,i){function r(o,s){return A.coerce(d,a,T,o,s)}a._clipPathId="clip"+a.uid+"carpet";var n=r("color",b.defaultLine);A.coerceFont(r,"font"),r("carpet"),l(d,a,i,r,n),a.a&&a.b?(a.a.length<3&&(a.aaxis.smoothing=0),a.b.length<3&&(a.baxis.smoothing=0),k(d,a,r)||(a.visible=!1),a._cheater&&r("cheaterslope")):a.visible=!1}},21462:function(ee,D,e){"use strict";ee.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(ee){"use strict";ee.exports=function(D,e){for(var A,k=D._fullData.length,l=0;l<k;l++){var T=D._fullData[l];if(T.index!==e.index&&"carpet"===T.type&&(A||(A=T),T.carpet===e.carpet))return T}return A}},67961:function(ee){"use strict";ee.exports=function(D,e,A){if(0===D.length)return"";var k,l=[],T=A?3:1;for(k=0;k<D.length;k+=T)l.push(D[k]+","+e[k]),A&&k<D.length-T&&(l.push("C"),l.push([D[k+1]+","+e[k+1],D[k+2]+","+e[k+2]+" "].join(" ")));return l.join(A?"":"L")}},27669:function(ee,D,e){"use strict";var A=e(71828).isArrayOrTypedArray;ee.exports=function(k,l,T){var b;for(A(k)?k.length>l.length&&(k=k.slice(0,l.length)):k=[],b=0;b<l.length;b++)k[b]=T(l[b]);return k}},11651:function(ee){"use strict";ee.exports=function(D,e,A,k,l,T){var b=l[0]*D.dpdx(e),d=l[1]*D.dpdy(A),a=1,t=1;if(T){var i=Math.sqrt(l[0]*l[0]+l[1]*l[1]),r=Math.sqrt(T[0]*T[0]+T[1]*T[1]);t=Math.max(0,(l[0]*T[0]+l[1]*T[1])/i/r)}var o=180*Math.atan2(d,b)/Math.PI;return o<-90?(o+=180,a=-a):o>90&&(o-=180,a=-a),{angle:o,flip:a,p:D.c2p(k,e,A),offsetMultplier:t}}},89740:function(ee,D,e){"use strict";var A=e(39898),k=e(91424),l=e(27669),T=e(67961),b=e(11651),d=e(63893),a=e(71828),t=a.strRotate,i=a.strTranslate,r=e(18783);function n(c,x,g,h,y,v,m){var _="const-"+y+"-lines",f=g.selectAll("."+_).data(v);f.enter().append("path").classed(_,!0).style("vector-effect",m?"none":"non-scaling-stroke"),f.each(function(S){var w=S,L=w.y,C=l([],w.x,c.c2p),O=l([],L,x.c2p),R="M"+T(C,O,w.smoothing);A.select(this).attr("d",R).style("stroke-width",w.width).style("stroke",w.color).style("stroke-dasharray",k.dashStyle(w.dash,w.width)).style("fill","none")}),f.exit().remove()}function o(c,x,g,h,y,v,m,_){var f=v.selectAll("text."+_).data(m);f.enter().append("text").classed(_,!0);var S=0,w={};return f.each(function(E,L){var C;if("auto"===E.axis.tickangle)C=b(h,x,g,E.xy,E.dxy);else{var O=(E.axis.tickangle+180)*Math.PI/180;C=b(h,x,g,E.xy,[Math.cos(O),Math.sin(O)])}L||(w={angle:C.angle,flip:C.flip});var R=(E.endAnchor?-1:1)*C.flip,q=A.select(this).attr({"text-anchor":R>0?"start":"end","data-notex":1}).call(k.font,E.font).text(E.text).call(d.convertToTspans,c),P=k.bBox(this);q.attr("transform",i(C.p[0],C.p[1])+t(C.angle)+i(E.axis.labelpadding*R,.3*P.height)),S=Math.max(S,P.width+E.axis.labelpadding)}),f.exit().remove(),w.maxExtent=S,w}ee.exports=function(c,x,g,h){var y=c._context.staticPlot,v=x.xaxis,m=x.yaxis,_=c._fullLayout._clips;a.makeTraceGroups(h,g,"trace").each(function(f){var S=A.select(this),w=f[0],E=w.trace,L=E.aaxis,C=E.baxis,O=a.ensureSingle(S,"g","minorlayer"),R=a.ensureSingle(S,"g","majorlayer"),q=a.ensureSingle(S,"g","boundarylayer"),P=a.ensureSingle(S,"g","labellayer");S.style("opacity",E.opacity),n(v,m,R,0,"a",L._gridlines,!0),n(v,m,R,0,"b",C._gridlines,!0),n(v,m,O,0,"a",L._minorgridlines,!0),n(v,m,O,0,"b",C._minorgridlines,!0),n(v,m,q,0,"a-boundary",L._boundarylines,y),n(v,m,q,0,"b-boundary",C._boundarylines,y);var F,j,G,J,X,Y,W,$,ne,re,oe,ue,xe,Me,me,U=o(c,v,m,E,0,P,L._labels,"a-label"),N=o(c,v,m,E,0,P,C._labels,"b-label");F=c,j=P,G=E,J=v,X=m,Y=U,W=N,ue=a.aggNums(Math.min,null,G.a),xe=a.aggNums(Math.max,null,G.a),Me=a.aggNums(Math.min,null,G.b),me=a.aggNums(Math.max,null,G.b),re=G.ab2xy($=.5*(ue+xe),ne=Me,!0),oe=G.dxyda_rough($,ne),void 0===Y.angle&&a.extendFlat(Y,b(G,J,X,re,G.dxydb_rough($,ne))),p(F,j,G,0,re,oe,G.aaxis,J,X,Y,"a-title"),re=G.ab2xy($=ue,ne=.5*(Me+me),!0),oe=G.dxydb_rough($,ne),void 0===W.angle&&a.extendFlat(W,b(G,J,X,re,G.dxyda_rough($,ne))),p(F,j,G,0,re,oe,G.baxis,J,X,W,"b-title"),function(F,j,G,te,J){var X,Y,W,$,ne=G.select("#"+F._clipPathId);ne.size()||(ne=G.append("clipPath").classed("carpetclip",!0));var re=a.ensureSingle(ne,"path","carpetboundary"),oe=j.clipsegments,ue=[];for($=0;$<oe.length;$++)Y=l([],(X=oe[$]).x,te.c2p),W=l([],X.y,J.c2p),ue.push(T(Y,W,X.bicubic));var xe="M"+ue.join("L")+"Z";ne.attr("id",F._clipPathId),re.attr("d",xe)}(E,w,_,v,m)})};var s=r.LINE_SPACING,u=(1-r.MID_SHIFT)/s+1;function p(c,x,g,h,y,v,m,_,f,S,w){var E=[];m.title.text&&E.push(m.title.text);var L=x.selectAll("text."+w).data(E),C=S.maxExtent;L.enter().append("text").classed(w,!0),L.each(function(){var O=b(g,_,f,y,v);-1===["start","both"].indexOf(m.showticklabels)&&(C=0);var R=m.title.font.size;C+=R+m.title.offset;var q=(S.angle+(S.flip<0?180:0)-O.angle+450)%360,P=q>90&&q<270,U=A.select(this);U.text(m.title.text).call(d.convertToTspans,c),P&&(C=(-d.lineCount(U)+u)*s*R-C),U.attr("transform",i(O.p[0],O.p[1])+t(O.angle)+i(0,C)).attr("text-anchor","middle").call(k.font,m.title.font)}),L.exit().remove()}},11435:function(ee,D,e){"use strict";var A=e(35509),k=e(65888).findBin,l=e(45664),T=e(20349),b=e(54495),d=e(73057);ee.exports=function(a){var t=a._a,i=a._b,r=t.length,n=i.length,o=a.aaxis,s=a.baxis,u=t[0],p=t[r-1],c=i[0],x=i[n-1],g=t[t.length-1]-t[0],h=i[i.length-1]-i[0],y=g*A.RELATIVE_CULL_TOLERANCE,v=h*A.RELATIVE_CULL_TOLERANCE;u-=y,p+=y,c-=v,x+=v,a.isVisible=function(m,_){return m>u&&m<p&&_>c&&_<x},a.isOccluded=function(m,_){return m<u||m>p||_<c||_>x},a.setScale=function(){var f=l(a._xctrl,a._yctrl,a._x,a._y,o.smoothing,s.smoothing);a._xctrl=f[0],a._yctrl=f[1],a.evalxy=T([a._xctrl,a._yctrl],r,n,o.smoothing,s.smoothing),a.dxydi=b([a._xctrl,a._yctrl],o.smoothing,s.smoothing),a.dxydj=d([a._xctrl,a._yctrl],o.smoothing,s.smoothing)},a.i2a=function(m){var _=Math.max(0,Math.floor(m[0]),r-2),f=m[0]-_;return(1-f)*t[_]+f*t[_+1]},a.j2b=function(m){var _=Math.max(0,Math.floor(m[1]),r-2),f=m[1]-_;return(1-f)*i[_]+f*i[_+1]},a.ij2ab=function(m){return[a.i2a(m[0]),a.j2b(m[1])]},a.a2i=function(m){var _=Math.max(0,Math.min(k(m,t),r-2)),f=t[_];return Math.max(0,Math.min(r-1,_+(m-f)/(t[_+1]-f)))},a.b2j=function(m){var _=Math.max(0,Math.min(k(m,i),n-2)),f=i[_];return Math.max(0,Math.min(n-1,_+(m-f)/(i[_+1]-f)))},a.ab2ij=function(m){return[a.a2i(m[0]),a.b2j(m[1])]},a.i2c=function(m,_){return a.evalxy([],m,_)},a.ab2xy=function(m,_,f){if(!f&&(m<t[0]||m>t[r-1]|_<i[0]||_>i[n-1]))return[!1,!1];var S=a.a2i(m),w=a.b2j(_),E=a.evalxy([],S,w);if(f){var L,C,O,R,q=0,P=0,U=[];m<t[0]?(L=0,C=0,q=(m-t[0])/(t[1]-t[0])):m>t[r-1]?(L=r-2,C=1,q=(m-t[r-1])/(t[r-1]-t[r-2])):C=S-(L=Math.max(0,Math.min(r-2,Math.floor(S)))),_<i[0]?(O=0,R=0,P=(_-i[0])/(i[1]-i[0])):_>i[n-1]?(O=n-2,R=1,P=(_-i[n-1])/(i[n-1]-i[n-2])):R=w-(O=Math.max(0,Math.min(n-2,Math.floor(w)))),q&&(a.dxydi(U,L,O,C,R),E[0]+=U[0]*q,E[1]+=U[1]*q),P&&(a.dxydj(U,L,O,C,R),E[0]+=U[0]*P,E[1]+=U[1]*P)}return E},a.c2p=function(m,_,f){return[_.c2p(m[0]),f.c2p(m[1])]},a.p2x=function(m,_,f){return[_.p2c(m[0]),f.p2c(m[1])]},a.dadi=function(m){var _=Math.max(0,Math.min(t.length-2,m));return t[_+1]-t[_]},a.dbdj=function(m){var _=Math.max(0,Math.min(i.length-2,m));return i[_+1]-i[_]},a.dxyda=function(m,_,f,S){var w=a.dxydi(null,m,_,f,S),E=a.dadi(m,f);return[w[0]/E,w[1]/E]},a.dxydb=function(m,_,f,S){var w=a.dxydj(null,m,_,f,S),E=a.dbdj(_,S);return[w[0]/E,w[1]/E]},a.dxyda_rough=function(m,_,f){var S=g*(f||.1),w=a.ab2xy(m+S,_,!0),E=a.ab2xy(m-S,_,!0);return[.5*(w[0]-E[0])/S,.5*(w[1]-E[1])/S]},a.dxydb_rough=function(m,_,f){var S=h*(f||.1),w=a.ab2xy(m,_+S,!0),E=a.ab2xy(m,_-S,!0);return[.5*(w[0]-E[0])/S,.5*(w[1]-E[1])/S]},a.dpdx=function(m){return m._m},a.dpdy=function(m){return m._m}}},72505:function(ee,D,e){"use strict";var A=e(71828);ee.exports=function(k,l,T){var b,d,a,t=[],i=[],r=k[0].length,n=k.length;var s,u,p,c,x,g,h,y,v,m,F,j,G,te,J,f=0;for(b=0;b<r;b++)for(d=0;d<n;d++)void 0===k[d][b]&&(t.push(b),i.push(d),k[d][b]=(j=d,G=void 0,te=void 0,J=void 0,te=0,J=0,(F=b)>0&&void 0!==(G=k[j][F-1])&&(J++,te+=G),F<r-1&&void 0!==(G=k[j][F+1])&&(J++,te+=G),j>0&&void 0!==(G=k[j-1][F])&&(J++,te+=G),j<n-1&&void 0!==(G=k[j+1][F])&&(J++,te+=G),te/Math.max(1,J))),f=Math.max(f,Math.abs(k[d][b]));if(!t.length)return k;var S=0,w=0,E=t.length;do{for(S=0,a=0;a<E;a++){d=i[a];var C,O,R,q,P,U=0,N=0;0===(b=t[a])?(O=l[q=Math.min(r-1,2)],N+=(C=k[d][1])+(C-k[d][q])*(l[0]-(R=l[1]))/(R-O),U++):b===r-1&&(O=l[q=Math.max(0,r-3)],N+=(C=k[d][r-2])+(C-k[d][q])*(l[r-1]-(R=l[r-2]))/(R-O),U++),(0===b||b===r-1)&&d>0&&d<n-1&&(N+=((u=T[d]-T[d-1])*k[d+1][b]+(s=T[d+1]-T[d])*k[d-1][b])/(u+s),U++),0===d?(O=T[P=Math.min(n-1,2)],N+=(C=k[1][b])+(C-k[P][b])*(T[0]-(R=T[1]))/(R-O),U++):d===n-1&&(O=T[P=Math.max(0,n-3)],N+=(C=k[n-2][b])+(C-k[P][b])*(T[n-1]-(R=T[n-2]))/(R-O),U++),(0===d||d===n-1)&&b>0&&b<r-1&&(N+=((u=l[b]-l[b-1])*k[d][b+1]+(s=l[b+1]-l[b])*k[d][b-1])/(u+s),U++),U?N/=U:(y=(x=T[d+1]-T[d])*(g=T[d]-T[d-1])*(x+g),N=((h=(p=l[b+1]-l[b])*(c=l[b]-l[b-1])*(p+c))*(g*k[d+1][b]+x*k[d-1][b])+y*(c*k[d][b+1]+p*k[d][b-1]))/(y*(c+p)+h*(g+x))),S+=(m=(v=N-k[d][b])/f)*m,k[d][b]+=v*(1+(U?0:.85))}S=Math.sqrt(S)}while(w++<100&&S>1e-5);return A.log("Smoother converged to",S,"after",w,"iterations"),k}},19237:function(ee,D,e){"use strict";var A=e(71828).isArray1D;ee.exports=function(k,l,T){var b=T("x"),d=b&&b.length,a=T("y"),t=a&&a.length;if(!d&&!t)return!1;if(l._cheater=!b,d&&!A(b)||t&&!A(a))l._length=null;else{var i=d?b.length:1/0;t&&(i=Math.min(i,a.length)),l.a&&l.a.length&&(i=Math.min(i,l.a.length)),l.b&&l.b.length&&(i=Math.min(i,l.b.length)),l._length=i}return!0}},69568:function(ee,D,e){"use strict";var A=e(5386).fF,k=e(19316),l=e(50693),T=e(9012),b=e(22399).defaultLine,d=e(1426).extendFlat,a=k.marker.line;ee.exports=d({locations:{valType:"data_array",editType:"calc"},locationmode:k.locationmode,z:{valType:"data_array",editType:"calc"},geojson:d({},k.geojson,{}),featureidkey:k.featureidkey,text:d({},k.text,{}),hovertext:d({},k.hovertext,{}),marker:{line:{color:d({},a.color,{dflt:b}),width:d({},a.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:k.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:k.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:d({},T.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:A(),showlegend:d({},T.showlegend,{dflt:!1})},l("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(ee,D,e){"use strict";var A=e(92770),k=e(50606).BADNUM,l=e(78803),T=e(75225),b=e(66279);function d(a){return a&&"string"==typeof a}ee.exports=function(a,t){var i,r=t._length,n=new Array(r);i=t.geojson?function(c){return d(c)||A(c)}:d;for(var o=0;o<r;o++){var s=n[o]={},u=t.locations[o],p=t.z[o];i(u)&&A(p)?(s.loc=u,s.z=p):(s.loc=null,s.z=k),s.index=o}return T(n,t),l(a,t,{vals:t.z,containerStr:"",cLetter:"z"}),b(n,t),n}},61869:function(ee,D,e){"use strict";var A=e(71828),k=e(1586),l=e(69568);ee.exports=function(T,b,d,a){function t(s,u){return A.coerce(T,b,l,s,u)}var i=t("locations"),r=t("z");if(i&&i.length&&A.isArrayOrTypedArray(r)&&r.length){b._length=Math.min(i.length,r.length);var n,o=t("geojson");("string"==typeof o&&""!==o||A.isPlainObject(o))&&(n="geojson-id"),"geojson-id"===t("locationmode",n)&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(T,b,a,t,{prefix:"",cLetter:"z"}),A.coerceSelectionMarkerOpacity(b,t)}else b.visible=!1}},92069:function(ee){"use strict";ee.exports=function(D,e,A,k,l){D.location=e.location,D.z=e.z;var T=k[l];return T.fIn&&T.fIn.properties&&(D.properties=T.fIn.properties),D.ct=T.ct,D}},42300:function(ee,D,e){"use strict";var A=e(89298),k=e(69568),l=e(71828).fillText;ee.exports=function(T,b,d){var a,t,i,r,n=T.cd,o=n[0].trace,s=T.subplot,u=[b,d],p=[b+360,d];for(t=0;t<n.length;t++)if(r=!1,(a=n[t])._polygons){for(i=0;i<a._polygons.length;i++)a._polygons[i].contains(u)&&(r=!r),a._polygons[i].contains(p)&&(r=!r);if(r)break}if(r&&a)return T.x0=T.x1=T.xa.c2p(a.ct),T.y0=T.y1=T.ya.c2p(a.ct),T.index=a.index,T.location=a.loc,T.z=a.z,T.zLabel=A.tickText(s.mockAxis,s.mockAxis.c2l(a.z),"hover").text,T.hovertemplate=a.hovertemplate,function(c,x,g){if(!x.hovertemplate){var h=g.hi||x.hoverinfo,y=String(g.loc),v="all"===h?k.hoverinfo.flags:h.split("+"),m=-1!==v.indexOf("name"),_=-1!==v.indexOf("location"),f=-1!==v.indexOf("z"),S=-1!==v.indexOf("text"),w=[];!m&&_?c.nameOverride=y:(m&&(c.nameOverride=x.name),_&&w.push(y)),f&&w.push(c.zLabel),S&&l(g,x,w),c.extraText=w.join("<br>")}}(T,o,a),[T]}},51319:function(ee,D,e){"use strict";ee.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(41327),T=e(90973).getTopojsonFeatures,b=e(71739).findExtremes,d=e(99636).style;ee.exports={calcGeoJSON:function(a,t){for(var i=a[0].trace,r=t[i.geo],n=r._subplot,o=i.locationmode,s=i._length,u="geojson-id"===o?l.extractTraceFeature(a):T(i,n.topojson),p=[],c=[],x=0;x<s;x++){var g=a[x],h="geojson-id"===o?g.fOut:l.locationToFeature(o,g.loc,u);if(h){g.geojson=h,g.ct=h.properties.ct,g._polygons=l.feature2polygons(h);var y=l.computeBbox(h);p.push(y[0],y[2]),c.push(y[1],y[3])}else g.geojson=null}if("geojson"===r.fitbounds&&"geojson-id"===o){var v=l.computeBbox(l.getTraceGeojson(i));p=[v[0],v[2]],c=[v[1],v[3]]}var m={padded:!0};i._extremes.lon=b(r.lonaxis._ax,p,m),i._extremes.lat=b(r.lataxis._ax,c,m)},plot:function(a,t,i){var r=t.layers.backplot.select(".choroplethlayer");k.makeTraceGroups(r,i,"trace choropleth").each(function(n){var o=A.select(this).selectAll("path.choroplethlocation").data(k.identity);o.enter().append("path").classed("choroplethlocation",!0),o.exit().remove(),d(a,n)})}}},81253:function(ee){"use strict";ee.exports=function(D,e){var A,k,l,T,b,d=D.cd,a=D.xaxis,t=D.yaxis,i=[];if(!1===e)for(A=0;A<d.length;A++)d[A].selected=0;else for(A=0;A<d.length;A++)(l=(k=d[A]).ct)&&(T=a.c2p(l),b=t.c2p(l),e.contains([T,b],null,A,D)?(i.push({pointNumber:A,lon:l[0],lat:l[1]}),k.selected=1):k.selected=0);return i}},99636:function(ee,D,e){"use strict";var A=e(39898),k=e(7901),l=e(91424),T=e(21081);function b(d,a){var t=a[0].trace,i=a[0].node3.selectAll(".choroplethlocation"),r=t.marker||{},n=r.line||{},o=T.makeColorScaleFuncFromTrace(t);i.each(function(s){A.select(this).attr("fill",o(s.z)).call(k.stroke,s.mlc||n.color).call(l.dashLine,"",s.mlw||n.width||0).style("opacity",r.opacity)}),l.selectedPointStyle(i,t)}ee.exports={style:function(d,a){a&&b(0,a)},styleOnSelect:function(d,a){var i=a[0].trace;i.selectedpoints?l.selectedPointStyle(a[0].node3.selectAll(".choroplethlocation"),i):b(0,a)}}},64496:function(ee,D,e){"use strict";var A=e(69568),k=e(50693),l=e(5386).fF,T=e(9012),b=e(1426).extendFlat;ee.exports=b({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:b({},A.featureidkey,{}),below:{valType:"string",editType:"plot"},text:A.text,hovertext:A.hovertext,marker:{line:{color:b({},A.marker.line.color,{editType:"plot"}),width:b({},A.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:b({},A.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:b({},A.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:b({},A.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:A.hoverinfo,hovertemplate:l({},{keys:["properties"]}),showlegend:b({},T.showlegend,{dflt:!1})},k("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(ee,D,e){"use strict";var A=e(92770),k=e(71828),l=e(21081),T=e(91424),b=e(18214).makeBlank,d=e(41327);function a(t){var i,r=t[0].trace,n=r._opts;if(r.selectedpoints){for(var o=T.makeSelectedPointStyleFns(r),s=0;s<t.length;s++){var u=t[s];u.fOut&&(u.fOut.properties.mo2=o.selectedOpacityFn(u))}i={type:"identity",property:"mo2"}}else i=k.isArrayOrTypedArray(r.marker.opacity)?{type:"identity",property:"mo"}:r.marker.opacity;return k.extendFlat(n.fill.paint,{"fill-opacity":i}),k.extendFlat(n.line.paint,{"line-opacity":i}),n}ee.exports={convert:function(t){var i=t[0].trace,r=!0===i.visible&&0!==i._length,n={layout:{visibility:"none"},paint:{}},o={layout:{visibility:"none"},paint:{}},s=i._opts={fill:n,line:o,geojson:b()};if(!r)return s;var u=d.extractTraceFeature(t);if(!u)return s;var p,c,x,g=l.makeColorScaleFuncFromTrace(i),h=i.marker,y=h.line||{};k.isArrayOrTypedArray(h.opacity)&&(p=function(w){var E=w.mo;return A(E)?+k.constrain(E,0,1):0}),k.isArrayOrTypedArray(y.color)&&(c=function(w){return w.mlc}),k.isArrayOrTypedArray(y.width)&&(x=function(w){return w.mlw});for(var v=0;v<t.length;v++){var m=t[v],_=m.fOut;if(_){var f=_.properties;f.fc=g(m.z),p&&(f.mo=p(m)),c&&(f.mlc=c(m)),x&&(f.mlw=x(m)),m.ct=f.ct,m._polygons=d.feature2polygons(_)}}var S=p?{type:"identity",property:"mo"}:h.opacity;return k.extendFlat(n.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":S}),k.extendFlat(o.paint,{"line-color":c?{type:"identity",property:"mlc"}:y.color,"line-width":x?{type:"identity",property:"mlw"}:y.width,"line-opacity":S}),n.layout.visibility="visible",o.layout.visibility="visible",s.geojson={type:"FeatureCollection",features:u},a(t),s},convertOnSelect:a}},22654:function(ee,D,e){"use strict";var A=e(71828),k=e(1586),l=e(64496);ee.exports=function(T,b,d,a){function t(o,s){return A.coerce(T,b,l,o,s)}var i=t("locations"),r=t("z"),n=t("geojson");A.isArrayOrTypedArray(i)&&i.length&&A.isArrayOrTypedArray(r)&&r.length&&("string"==typeof n&&""!==n||A.isPlainObject(n))?(t("featureidkey"),b._length=Math.min(i.length,r.length),t("below"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(T,b,a,t,{prefix:"",cLetter:"z"}),A.coerceSelectionMarkerOpacity(b,t)):b.visible=!1}},57516:function(ee,D,e){"use strict";ee.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(A,k){k&&k[0].trace._glTrace.updateOnSelect(k)},getBelow:function(A,k){for(var l=k.getMapLayers(),T=l.length-2;T>=0;T--){var b=l[T].id;if("string"==typeof b&&0===b.indexOf("water"))for(var d=T+1;d<l.length;d++)if("string"==typeof(b=l[d].id)&&-1===b.indexOf("plotly-"))return b}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(ee,D,e){"use strict";var A=e(82004).convert,k=e(82004).convertOnSelect,l=e(77734).traceLayerPrefix;function T(d,a){this.type="choroplethmapbox",this.subplot=d,this.uid=a,this.sourceId="source-"+a,this.layerList=[["fill",l+a+"-fill"],["line",l+a+"-line"]],this.below=null}var b=T.prototype;b.update=function(d){this._update(A(d)),d[0].trace._glTrace=this},b.updateOnSelect=function(d){this._update(k(d))},b._update=function(d){var a=this.subplot,t=this.layerList,i=a.belowLookup["trace-"+this.uid];a.map.getSource(this.sourceId).setData(d.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(d,i),this.below=i);for(var r=0;r<t.length;r++){var n=t[r],s=n[1],u=d[n[0]];a.setOptions(s,"setLayoutProperty",u.layout),"visible"===u.layout.visibility&&a.setOptions(s,"setPaintProperty",u.paint)}},b._addLayers=function(d,a){for(var t=this.subplot,i=this.layerList,r=this.sourceId,n=0;n<i.length;n++){var o=i[n],s=o[0],u=d[s];t.addLayer({type:s,id:o[1],source:r,layout:u.layout,paint:u.paint},a)}},b._removeLayers=function(){for(var d=this.subplot.map,a=this.layerList,t=a.length-1;t>=0;t--)d.removeLayer(a[t][1])},b.dispose=function(){var d=this.subplot.map;this._removeLayers(),d.removeSource(this.sourceId)},ee.exports=function(d,a){var t=a[0].trace,i=new T(d,t.uid),r=i.sourceId,n=A(a),o=i.below=d.belowLookup["trace-"+t.uid];return d.map.addSource(r,{type:"geojson",data:n.geojson}),i._addLayers(n,o),a[0].trace._glTrace=i,i}},12674:function(ee,D,e){"use strict";var A=e(50693),k=e(12663).axisHoverFormat,l=e(5386).fF,T=e(2418),b=e(9012),d=e(1426).extendFlat,a={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:l({editType:"calc"},{keys:["norm"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:d({},b.showlegend,{dflt:!1})};d(a,A("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){a[t]=T[t]}),a.hoverinfo=d({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),a.transforms=void 0,ee.exports=a},31371:function(ee,D,e){"use strict";var A=e(78803);ee.exports=function(k,l){for(var T=l.u,b=l.v,d=l.w,a=Math.min(l.x.length,l.y.length,l.z.length,T.length,b.length,d.length),t=-1/0,i=1/0,r=0;r<a;r++){var n=T[r],o=b[r],s=d[r],u=Math.sqrt(n*n+o*o+s*s);t=Math.max(t,u),i=Math.min(i,u)}l._len=a,l._normMax=t,A(k,l,{vals:[i,t],containerStr:"",cLetter:"c"})}},5453:function(ee,D,e){"use strict";var A=e(9330).gl_cone3d,k=e(9330).gl_cone3d.createConeMesh,l=e(71828).simpleMap,T=e(81697).parseColorScale,b=e(21081).extractOpts,d=e(90060);function a(s,u){this.scene=s,this.uid=u,this.mesh=null,this.data=null}var t=a.prototype;t.handlePick=function(s){if(s.object===this.mesh){var u=s.index=s.data.index,g=this.data.u[u],h=this.data.v[u],y=this.data.w[u];s.traceCoordinate=[this.data.x[u],this.data.y[u],this.data.z[u],g,h,y,Math.sqrt(g*g+h*h+y*y)];var v=this.data.hovertext||this.data.text;return Array.isArray(v)&&void 0!==v[u]?s.textLabel=v[u]:v&&(s.textLabel=v),!0}};var i={xaxis:0,yaxis:1,zaxis:2},r={tip:1,tail:0,cm:.25,center:.5},n={tip:1,tail:1,cm:.75,center:.5};function o(s,u){var p=s.fullSceneLayout,c=s.dataScale,x={};function g(m,_){var f=p[_],S=c[i[_]];return l(m,function(w){return f.d2l(w)*S})}x.vectors=d(g(u.u,"xaxis"),g(u.v,"yaxis"),g(u.w,"zaxis"),u._len),x.positions=d(g(u.x,"xaxis"),g(u.y,"yaxis"),g(u.z,"zaxis"),u._len);var h=b(u);x.colormap=T(u),x.vertexIntensityBounds=[h.min/u._normMax,h.max/u._normMax],x.coneOffset=r[u.anchor],x.coneSize="scaled"===u.sizemode?u.sizeref||.5:u.sizeref&&u._normMax?u.sizeref/u._normMax:.5;var y=A(x),v=u.lightposition;return y.lightPosition=[v.x,v.y,v.z],y.ambient=u.lighting.ambient,y.diffuse=u.lighting.diffuse,y.specular=u.lighting.specular,y.roughness=u.lighting.roughness,y.fresnel=u.lighting.fresnel,y.opacity=u.opacity,u._pad=n[u.anchor]*y.vectorScale*y.coneScale*u._normMax,y}t.update=function(s){this.data=s;var u=o(this.scene,s);this.mesh.update(u)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ee.exports=function(s,u){var p=s.glplot.gl,c=o(s,u),x=k(p,c),g=new a(s,u.uid);return g.mesh=x,g.data=u,x._trace=g,s.glplot.add(x),g}},91750:function(ee,D,e){"use strict";var A=e(71828),k=e(1586),l=e(12674);ee.exports=function(T,b,d,a){function t(p,c){return A.coerce(T,b,l,p,c)}var i=t("u"),r=t("v"),n=t("w"),o=t("x"),s=t("y"),u=t("z");i&&i.length&&r&&r.length&&n&&n.length&&o&&o.length&&s&&s.length&&u&&u.length?(t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(T,b,a,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null):b.visible=!1}},98128:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(A,k){return A.norm=k.traceCoordinate[6],A},meta:{}}},70600:function(ee,D,e){"use strict";var A=e(21606),k=e(82196),l=e(12663),T=l.axisHoverFormat,b=l.descriptionOnlyNumbers,d=e(50693),a=e(79952).P,t=e(41940),i=e(1426).extendFlat,r=e(74808),n=r.COMPARISON_OPS2,o=r.INTERVAL_OPS,s=k.line;ee.exports=i({z:A.z,x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,text:A.text,hovertext:A.hovertext,transpose:A.transpose,xtype:A.xtype,ytype:A.ytype,xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:A.hovertemplate,texttemplate:i({},A.texttemplate,{}),textfont:i({},A.textfont,{}),hoverongaps:A.hoverongaps,connectgaps:i({},A.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:b("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(o),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:i({},s.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:a,smoothing:i({},s.smoothing,{}),editType:"plot"}},d("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(ee,D,e){"use strict";var A=e(21081),k=e(90757),l=e(18670),T=e(53572);ee.exports=function(b,d){var a=k(b,d),t=a[0].z;l(d,t);var i,r=d.contours,n=A.extractOpts(d);if("heatmap"===r.coloring&&n.auto&&!1===d.autocontour){var o=r.start,s=T(r),u=r.size||1,p=Math.floor((s-o)/u)+1;isFinite(u)||(u=1,p=1);var c=o-u/2;i=[c,c+p*u]}else i=t;return A.calc(b,d,{vals:i,cLetter:"z"}),a}},20083:function(ee){"use strict";ee.exports=function(D,e){var A,k=D[0],l=k.z;switch(e.type){case"levels":var T=Math.min(l[0][0],l[0][1]);for(A=0;A<D.length;A++){var b=D[A];b.prefixBoundary=!b.edgepaths.length&&(T>b.level||b.starts.length&&T===b.level)}break;case"constraint":if(k.prefixBoundary=!1,k.edgepaths.length)return;var d=k.x.length,a=k.y.length,t=-1/0,i=1/0;for(A=0;A<a;A++)i=Math.min(i,l[A][0]),i=Math.min(i,l[A][d-1]),t=Math.max(t,l[A][0]),t=Math.max(t,l[A][d-1]);for(A=1;A<d-1;A++)i=Math.min(i,l[0][A]),i=Math.min(i,l[a-1][A]),t=Math.max(t,l[0][A]),t=Math.max(t,l[a-1][A]);var r,n,o=e.value;switch(e._operation){case">":o>t&&(k.prefixBoundary=!0);break;case"<":(o<i||k.starts.length&&o===i)&&(k.prefixBoundary=!0);break;case"[]":r=Math.min(o[0],o[1]),((n=Math.max(o[0],o[1]))<i||r>t||k.starts.length&&n===i)&&(k.prefixBoundary=!0);break;case"][":r=Math.min(o[0],o[1]),n=Math.max(o[0],o[1]),r<i&&n>t&&(k.prefixBoundary=!0)}}}},90654:function(ee,D,e){"use strict";var A=e(21081),k=e(86068),l=e(53572);ee.exports={min:"zmin",max:"zmax",calc:function(T,b,d){var a=b.contours,t=b.line,i=a.size||1,r=a.coloring,n=k(b,{isColorbar:!0});if("heatmap"===r){var o=A.extractOpts(b);d._fillgradient=o.reversescale?A.flipScale(o.colorscale):o.colorscale,d._zrange=[o.min,o.max]}else"fill"===r&&(d._fillcolor=n);d._line={color:"lines"===r?n:t.color,width:!1!==a.showlines?t.width:0,dash:t.dash},d._levels={start:a.start,end:l(a),size:i}}}},36914:function(ee){"use strict";ee.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(ee,D,e){"use strict";var A=e(92770),k=e(14523),l=e(7901),T=l.addOpacity,b=l.opacity,d=e(74808),a=d.CONSTRAINT_REDUCTION,t=d.COMPARISON_OPS2;ee.exports=function(i,r,n,o,s,u){var p,c,x,y,v,m,g=r.contours,h=n("contours.operation");g._operation=a[h],y=n,-1===t.indexOf((v=g).operation)?(y("contours.value",[0,1]),Array.isArray(v.value)?v.value.length>2?v.value=v.value.slice(2):0===v.length?v.value=[0,1]:v.length<2?(m=parseFloat(v.value[0]),v.value=[m,m+1]):v.value=[parseFloat(v.value[0]),parseFloat(v.value[1])]:A(v.value)&&(m=parseFloat(v.value),v.value=[m,m+1])):(y("contours.value",0),A(v.value)||(v.value=Array.isArray(v.value)?parseFloat(v.value[0]):0)),"="===h?p=g.showlines=!0:(p=n("contours.showlines"),x=n("fillcolor",T((i.line||{}).color||s,.5))),p&&(c=n("line.color",x&&b(x)?T(r.fillcolor,1):s),n("line.width",2),n("line.dash")),n("line.smoothing"),k(n,o,c,u)}},64237:function(ee,D,e){"use strict";var A=e(74808),k=e(92770);function l(d,a){var t,i=Array.isArray(a);function r(n){return k(n)?+n:null}return-1!==A.COMPARISON_OPS2.indexOf(d)?t=r(i?a[0]:a):-1!==A.INTERVAL_OPS.indexOf(d)?t=i?[r(a[0]),r(a[1])]:[r(a),r(a)]:-1!==A.SET_OPS.indexOf(d)&&(t=i?a.map(r):[r(a)]),t}function T(d){return function(a){a=l(d,a);var t=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return{start:t,end:i,size:i-t}}}function b(d){return function(a){return{start:a=l(d,a),end:1/0,size:1/0}}}ee.exports={"[]":T("[]"),"][":T("]["),">":b(">"),"<":b("<"),"=":b("=")}},67217:function(ee){"use strict";ee.exports=function(D,e,A,k){var l=k("contours.start"),T=k("contours.end"),b=!1===l||!1===T,d=A("contours.size");!(b?e.autocontour=!0:A("autocontour",!1))&&d||A("ncontours")}},84857:function(ee,D,e){"use strict";var A=e(71828);function k(l){return A.extendFlat({},l,{edgepaths:A.extendDeep([],l.edgepaths),paths:A.extendDeep([],l.paths),starts:A.extendDeep([],l.starts)})}ee.exports=function(l,T){var b,d,a,t=function(n){return n.reverse()},i=function(n){return n};switch(T){case"=":case"<":return l;case">":for(1!==l.length&&A.warn("Contour data invalid for the specified inequality operation."),d=l[0],b=0;b<d.edgepaths.length;b++)d.edgepaths[b]=t(d.edgepaths[b]);for(b=0;b<d.paths.length;b++)d.paths[b]=t(d.paths[b]);for(b=0;b<d.starts.length;b++)d.starts[b]=t(d.starts[b]);return l;case"][":var r=t;t=i,i=r;case"[]":for(2!==l.length&&A.warn("Contour data invalid for the specified inequality range operation."),d=k(l[0]),a=k(l[1]),b=0;b<d.edgepaths.length;b++)d.edgepaths[b]=t(d.edgepaths[b]);for(b=0;b<d.paths.length;b++)d.paths[b]=t(d.paths[b]);for(b=0;b<d.starts.length;b++)d.starts[b]=t(d.starts[b]);for(;a.edgepaths.length;)d.edgepaths.push(i(a.edgepaths.shift()));for(;a.paths.length;)d.paths.push(i(a.paths.shift()));for(;a.starts.length;)d.starts.push(i(a.starts.shift()));return[d]}}},13031:function(ee,D,e){"use strict";var A=e(71828),k=e(67684),l=e(73927),T=e(83179),b=e(67217),d=e(8724),a=e(58623),t=e(70600);ee.exports=function(i,r,n,o){function s(p,c){return A.coerce(i,r,t,p,c)}if(k(i,r,s,o)){l(i,r,o,s),s("xhoverformat"),s("yhoverformat"),s("text"),s("hovertext"),s("hoverongaps"),s("hovertemplate");var u="constraint"===s("contours.type");s("connectgaps",A.isArray1D(r.z)),u?T(i,r,s,o,n):(b(i,r,s,function(p){return A.coerce2(i,r,t,p)}),d(i,r,s,o)),r.contours&&"heatmap"===r.contours.coloring&&a(s,o)}else r.visible=!1}},87558:function(ee,D,e){"use strict";var A=e(71828),k=e(64237),l=e(53572);ee.exports=function(T,b,d){for(var a="constraint"===T.type?k[T._operation](T.value):T,t=a.size,i=[],r=l(a),n=d.trace._carpetTrace,o=n?{xaxis:n.aaxis,yaxis:n.baxis,x:d.a,y:d.b}:{xaxis:b.xaxis,yaxis:b.yaxis,x:d.x,y:d.y},s=a.start;s<r;s+=t)if(i.push(A.extendFlat({level:s,crossings:{},starts:[],edgepaths:[],paths:[],z:d.z,smoothing:d.trace.line.smoothing},o)),i.length>1e3){A.warn("Too many contours, clipping at 1000",T);break}return i}},53572:function(ee){"use strict";ee.exports=function(D){return D.end+D.size/1e6}},81696:function(ee,D,e){"use strict";var A=e(71828),k=e(36914);function l(d,a,t,i){return Math.abs(d[0]-a[0])<t&&Math.abs(d[1]-a[1])<i}function T(d,a,t,i,r){var n,ne,oe,ue,xe,o=a.join(","),s=d.crossings[o],u=(oe=a,ue=0,xe=0,(ne=s)>20&&t?208===ne||1114===ne?ue=0===oe[0]?1:-1:xe=0===oe[1]?1:-1:-1!==k.BOTTOMSTART.indexOf(ne)?xe=1:-1!==k.LEFTSTART.indexOf(ne)?ue=1:-1!==k.TOPSTART.indexOf(ne)?xe=-1:ue=-1,[ue,xe]),p=[b(d,a,[-u[0],-u[1]])],c=d.z.length,x=d.z[0].length,g=a.slice(),h=u.slice();for(n=0;n<1e4;n++){if(s>20?d.crossings[o]=k.SADDLEREMAINDER[s=k.CHOOSESADDLE[s][(u[0]||u[1])<0?0:1]]:delete d.crossings[o],!(u=k.NEWDELTA[s])){A.log("Found bad marching index:",s,a,d.level);break}if(p.push(b(d,a,u)),a[0]+=u[0],a[1]+=u[1],o=a.join(","),l(p[p.length-1],p[p.length-2],i,r)&&p.pop(),a[0]===g[0]&&a[1]===g[1]&&u[0]===h[0]&&u[1]===h[1]||t&&(u[0]&&(a[0]<0||a[0]>x-2)||u[1]&&(a[1]<0||a[1]>c-2)))break;s=d.crossings[o]}1e4===n&&A.log("Infinite loop in contour?");var v,m,_,f,S,w,E,L,C,O,R,q,P,U,N,F=l(p[0],p[p.length-1],i,r),j=0,G=.2*d.smoothing,te=[],J=0;for(n=1;n<p.length;n++)U=(q=p[n])[2]-(P=p[n-1])[2],N=q[3]-P[3],j+=E=Math.sqrt(U*U+N*N),te.push(E);var X=j/te.length*G;function Y(ne){return p[ne%p.length]}for(n=p.length-2;n>=J;n--)if((v=te[n])<X){for(_=0,m=n-1;m>=J&&v+te[m]<X;m--)v+=te[m];if(F&&n===p.length-2)for(_=0;_<m&&v+te[_]<X;_++)v+=te[_];S=n-m+_+1,w=Math.floor((n+m+_+2)/2),f=F||n!==p.length-2?F||-1!==m?S%2?Y(w):[(Y(w)[0]+Y(w+1)[0])/2,(Y(w)[1]+Y(w+1)[1])/2]:p[0]:p[p.length-1],p.splice(m+1,n-m+1,f),n=m+1,_&&(J=_),F&&(n===p.length-2?p[_]=p[p.length-1]:0===n&&(p[p.length-1]=p[0]))}for(p.splice(0,J),n=0;n<p.length;n++)p[n].length=2;if(!(p.length<2))if(F)p.pop(),d.paths.push(p);else{t||A.log("Unclosed interior contour?",d.level,g.join(","),p.join("L"));var W=!1;for(L=0;L<d.edgepaths.length;L++)if(O=d.edgepaths[L],!W&&l(O[0],p[p.length-1],i,r)){p.pop(),W=!0;var $=!1;for(C=0;C<d.edgepaths.length;C++)if(l((R=d.edgepaths[C])[R.length-1],p[0],i,r)){$=!0,p.shift(),d.edgepaths.splice(L,1),C===L?d.paths.push(p.concat(R)):(C>L&&C--,d.edgepaths[C]=R.concat(p,O));break}$||(d.edgepaths[L]=p.concat(O))}for(L=0;L<d.edgepaths.length&&!W;L++)l((O=d.edgepaths[L])[O.length-1],p[0],i,r)&&(p.shift(),d.edgepaths[L]=O.concat(p),W=!0);W||d.edgepaths.push(p)}}function b(d,a,t){var i=a[0]+Math.max(t[0],0),r=a[1]+Math.max(t[1],0),n=d.z[r][i],o=d.xaxis,s=d.yaxis;if(t[1]){var u=(d.level-n)/(d.z[r][i+1]-n),p=(1!==u?(1-u)*o.c2l(d.x[i]):0)+(0!==u?u*o.c2l(d.x[i+1]):0);return[o.c2p(o.l2c(p),!0),s.c2p(d.y[r],!0),i+u,r]}var c=(d.level-n)/(d.z[r+1][i]-n),x=(1!==c?(1-c)*s.c2l(d.y[r]):0)+(0!==c?c*s.c2l(d.y[r+1]):0);return[o.c2p(d.x[i],!0),s.c2p(s.l2c(x),!0),i,r+c]}ee.exports=function(d,a,t){var i,r,n,o;for(a=a||.01,t=t||.01,r=0;r<d.length;r++){for(n=d[r],o=0;o<n.starts.length;o++)T(n,n.starts[o],"edge",a,t);for(i=0;Object.keys(n.crossings).length&&i<1e4;)i++,T(n,Object.keys(n.crossings)[0].split(",").map(Number),void 0,a,t);1e4===i&&A.log("Infinite loop in contour?")}}},52421:function(ee,D,e){"use strict";var A=e(7901),k=e(46248);ee.exports=function(l,T,b,d,a){a||(a={}),a.isContour=!0;var t=k(l,T,b,d,a);return t&&t.forEach(function(i){var r=i.trace;"constraint"===r.contours.type&&(r.fillcolor&&A.opacity(r.fillcolor)?i.color=A.addOpacity(r.fillcolor,1):r.contours.showlines&&A.opacity(r.line.color)&&(i.color=A.addOpacity(r.line.color,1)))}),t}},99442:function(ee,D,e){"use strict";ee.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(ee,D,e){"use strict";var A=e(71828);ee.exports=function(k,l,T,b){if(b||(b={}),k("contours.showlabels")){var d=l.font;A.coerceFont(k,"contours.labelfont",{family:d.family,size:d.size,color:T}),k("contours.labelformat")}!1!==b.hasHover&&k("zhoverformat")}},86068:function(ee,D,e){"use strict";var A=e(39898),k=e(21081),l=e(53572);ee.exports=function(T){var b=T.contours,d=b.start,a=l(b),t=b.size||1,i=Math.floor((a-d)/t)+1,r="lines"===b.coloring?0:1,n=k.extractOpts(T);isFinite(t)||(t=1,i=1);var o,s,u=n.reversescale?k.flipScale(n.colorscale):n.colorscale,p=u.length,c=new Array(p),x=new Array(p),g=n.min,h=n.max;if("heatmap"===b.coloring){for(s=0;s<p;s++)c[s]=(o=u[s])[0]*(h-g)+g,x[s]=o[1];var y=A.extent([g,h,b.start,b.start+t*(i-1)]),v=y[g<h?0:1],m=y[g<h?1:0];v!==g&&(c.splice(0,0,v),x.splice(0,0,x[0])),m!==h&&(c.push(m),x.push(x[x.length-1]))}else{var _=T._input&&"number"==typeof T._input.zmin&&"number"==typeof T._input.zmax;for(_&&(d<=g||a>=h)&&(d<=g&&(d=g),a>=h&&(a=h),i=Math.floor((a-d)/t)+1,r=0),s=0;s<p;s++)c[s]=((o=u[s])[0]*(i+r-1)-r/2)*t+d,x[s]=o[1];(_||T.autocontour)&&(c[0]>g&&(c.unshift(g),x.unshift(x[0])),c[c.length-1]<h&&(c.push(h),x.push(x[x.length-1])))}return k.makeColorScaleFunc({domain:c,range:x},{noNumericCheck:!0})}},87678:function(ee,D,e){"use strict";var A=e(36914);function k(l,T){var b=(T[0][0]>l?0:1)+(T[0][1]>l?0:2)+(T[1][1]>l?0:4)+(T[1][0]>l?0:8);return 5===b||10===b?l>(T[0][0]+T[0][1]+T[1][0]+T[1][1])/4?5===b?713:1114:5===b?104:208:15===b?0:b}ee.exports=function(l){var T,b,d,a,t,i,r,n,o,s=l[0].z,u=s.length,p=s[0].length,c=2===u||2===p;for(b=0;b<u-1;b++)for(a=[],0===b&&(a=a.concat(A.BOTTOMSTART)),b===u-2&&(a=a.concat(A.TOPSTART)),T=0;T<p-1;T++)for(d=a.slice(),0===T&&(d=d.concat(A.LEFTSTART)),T===p-2&&(d=d.concat(A.RIGHTSTART)),t=T+","+b,i=[[s[b][T],s[b][T+1]],[s[b+1][T],s[b+1][T+1]]],o=0;o<l.length;o++)(r=k((n=l[o]).level,i))&&(n.crossings[t]=r,-1!==d.indexOf(r)&&(n.starts.push([T,b]),c&&-1!==d.indexOf(r,d.indexOf(r)+1)&&n.starts.push([T,b])))}},29854:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(91424),T=e(21081),b=e(63893),d=e(89298),a=e(21994),t=e(50347),i=e(87678),r=e(81696),n=e(87558),o=e(84857),s=e(20083),u=e(36914),p=u.LABELOPTIMIZER;function c(h,y){var v,m,_,f,S,w,L="",C=0,O=h.edgepaths.map(function(F,j){return j}),R=!0;function q(F){return Math.abs(F[1]-y[2][1])<.01}function U(F){return Math.abs(F[0]-y[2][0])<.01}for(;O.length;){for(w=l.smoothopen(h.edgepaths[C],h.smoothing),L+=R?w:w.replace(/^M/,"L"),O.splice(O.indexOf(C),1),v=h.edgepaths[C][h.edgepaths[C].length-1],f=-1,_=0;_<4;_++){if(!v){k.log("Missing end?",C,h);break}for(Math.abs(v[1]-y[0][1])<.01&&!U(v)?m=y[1]:Math.abs(v[0]-y[0][0])<.01?m=y[0]:q(v)?m=y[3]:U(v)&&(m=y[2]),S=0;S<h.edgepaths.length;S++){var N=h.edgepaths[S][0];Math.abs(v[0]-m[0])<.01?Math.abs(v[0]-N[0])<.01&&(N[1]-v[1])*(m[1]-N[1])>=0&&(m=N,f=S):Math.abs(v[1]-m[1])<.01?Math.abs(v[1]-N[1])<.01&&(N[0]-v[0])*(m[0]-N[0])>=0&&(m=N,f=S):k.log("endpt to newendpt is not vert. or horz.",v,m,N)}if(v=m,f>=0)break;L+="L"+m}if(f===h.edgepaths.length){k.log("unclosed perimeter path");break}(R=-1===O.indexOf(C=f))&&(C=O[0],L+="Z")}for(C=0;C<h.paths.length;C++)L+=l.smoothclosed(h.paths[C],h.smoothing);return L}function x(h,y,v,m){var _=y.width/2,f=y.height/2,S=h.x,w=h.y,E=h.theta,L=Math.cos(E)*_,C=Math.sin(E)*_,O=(S>m.center?m.right-S:S-m.left)/(L+Math.abs(Math.sin(E)*f)),R=(w>m.middle?m.bottom-w:w-m.top)/(Math.abs(C)+Math.cos(E)*f);if(O<1||R<1)return 1/0;var q=p.EDGECOST*(1/(O-1)+1/(R-1));q+=p.ANGLECOST*E*E;for(var P=S-L,U=w-C,N=S+L,F=w+C,j=0;j<v.length;j++){var G=v[j],te=Math.cos(G.theta)*G.width/2,J=Math.sin(G.theta)*G.width/2,X=2*k.segmentDistance(P,U,N,F,G.x-te,G.y-J,G.x+te,G.y+J)/(y.height+G.height),Y=G.level===y.level,W=Y?p.SAMELEVELDISTANCE:1;if(X<=W)return 1/0;q+=p.NEIGHBORCOST*(Y?p.SAMELEVELFACTOR:1)/(X-W)}return q}function g(h){var y,v,m=h.trace._emptypoints,_=[],f=h.z.length,S=h.z[0].length,w=[];for(y=0;y<S;y++)w.push(1);for(y=0;y<f;y++)_.push(w.slice());for(y=0;y<m.length;y++)_[(v=m[y])[0]][v[1]]=0;return h.zmask=_,_}D.plot=function(h,y,v,m){var _=y.xaxis,f=y.yaxis;k.makeTraceGroups(m,v,"contour").each(function(S){var w=A.select(this),E=S[0],C=E.x,O=E.y,R=E.trace.contours,q=n(R,y,E),P=k.ensureSingle(w,"g","heatmapcoloring"),U=[];"heatmap"===R.coloring&&(U=[S]),t(h,y,U,P),i(q),r(q);var Y,W,$,N=_.c2p(C[0],!0),F=_.c2p(C[C.length-1],!0),j=f.c2p(O[0],!0),G=f.c2p(O[O.length-1],!0),te=[[N,G],[F,G],[F,j],[N,j]],J=q;"constraint"===R.type&&(J=o(q,R._operation)),Y=te,W=R,($=k.ensureSingle(w,"g","contourbg").selectAll("path").data("fill"===W.coloring?[0]:[])).enter().append("path"),$.exit().remove(),$.attr("d","M"+Y.join("L")+"Z").style("stroke","none"),function(X,Y,W,$){var ne="fill"===$.coloring||"constraint"===$.type&&"="!==$._operation,re="M"+W.join("L")+"Z";ne&&s(Y,$);var oe=k.ensureSingle(X,"g","contourfill").selectAll("path").data(ne?Y:[]);oe.enter().append("path"),oe.exit().remove(),oe.each(function(ue){var xe=(ue.prefixBoundary?re:"")+c(ue,W);xe?A.select(this).attr("d",xe).style("stroke","none"):A.select(this).remove()})}(w,J,te,R),function(X,Y,W,$,ne){var re=W._context.staticPlot,oe=k.ensureSingle(X,"g","contourlines"),ue=!1!==ne.showlines,xe=ne.showlabels,Me=ue&&xe,me=D.createLines(oe,ue||xe,Y,re),pe=D.createLineClip(oe,Me,W,$.trace.uid),ge=X.selectAll("g.contourlabels").data(xe?[0]:[]);if(ge.exit().remove(),ge.enter().append("g").classed("contourlabels",!0),xe){var Pe=[],_e=[];k.clearLocationCache();var we=D.labelFormatter(W,$),se=l.tester.append("text").attr("data-notex",1).call(l.font,ne.labelfont),ae=Y[0].xaxis,fe=Y[0].yaxis,Ee=ae._length,ke=fe._length,be=ae.range,Ie=fe.range,Fe=k.aggNums(Math.min,null,$.x),ce=k.aggNums(Math.max,null,$.x),Te=k.aggNums(Math.min,null,$.y),ve=k.aggNums(Math.max,null,$.y),Ce=Math.max(ae.c2p(Fe,!0),0),Re=Math.min(ae.c2p(ce,!0),Ee),Oe=Math.max(fe.c2p(ve,!0),0),je=Math.min(fe.c2p(Te,!0),ke),qe={};be[0]<be[1]?(qe.left=Ce,qe.right=Re):(qe.left=Re,qe.right=Ce),Ie[0]<Ie[1]?(qe.top=Oe,qe.bottom=je):(qe.top=je,qe.bottom=Oe),qe.middle=(qe.top+qe.bottom)/2,qe.center=(qe.left+qe.right)/2,Pe.push([[qe.left,qe.top],[qe.right,qe.top],[qe.right,qe.bottom],[qe.left,qe.bottom]]);var Je=Math.sqrt(Ee*Ee+ke*ke),it=u.LABELDISTANCE*Je/Math.max(1,Y.length/u.LABELINCREASE);me.each(function(Qe){var dt=D.calcTextOpts(Qe.level,we,se,W);A.select(this).selectAll("path").each(function(){var yt=k.getVisibleSegment(this,qe,dt.height/2);if(yt&&!(yt.len<(dt.width+dt.height)*u.LABELMIN))for(var mt=Math.min(Math.ceil(yt.len/it),u.LABELMAX),at=0;at<mt;at++){var st=D.findBestTextLocation(this,yt,dt,_e,qe);if(!st)break;D.addLabelData(st,dt,_e,Pe)}})}),se.remove(),D.drawLabels(ge,_e,W,pe,Me?Pe:null)}xe&&!ue&&me.remove()}(w,q,h,E,R),function(X,Y,W,$,ne){var re=$.trace,ue="clip"+re.uid,xe=W._fullLayout._clips.selectAll("#"+ue).data(re.connectgaps?[]:[0]);if(xe.enter().append("clipPath").classed("contourclip",!0).attr("id",ue),xe.exit().remove(),!1===re.connectgaps){var Me={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:Y.xaxis,yaxis:Y.yaxis,x:$.x,y:$.y,z:g($),smoothing:0};i([Me]),r([Me]),s([Me],{type:"levels"}),k.ensureSingle(xe,"path","").attr("d",(Me.prefixBoundary?"M"+ne.join("L")+"Z":"")+c(Me,ne))}else ue=null;l.setClipUrl(X,ue,W)}(w,y,h,E,te)})},D.createLines=function(h,y,v,m){var _=v[0].smoothing,f=h.selectAll("g.contourlevel").data(y?v:[]);if(f.exit().remove(),f.enter().append("g").classed("contourlevel",!0),y){var S=f.selectAll("path.openline").data(function(E){return E.pedgepaths||E.edgepaths});S.exit().remove(),S.enter().append("path").classed("openline",!0),S.attr("d",function(E){return l.smoothopen(E,_)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke");var w=f.selectAll("path.closedline").data(function(E){return E.ppaths||E.paths});w.exit().remove(),w.enter().append("path").classed("closedline",!0),w.attr("d",function(E){return l.smoothclosed(E,_)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke")}return f},D.createLineClip=function(h,y,v,m){var _=y?"clipline"+m:null,f=v._fullLayout._clips.selectAll("#"+_).data(y?[0]:[]);return f.exit().remove(),f.enter().append("clipPath").classed("contourlineclip",!0).attr("id",_),l.setClipUrl(h,_,v),f},D.labelFormatter=function(h,y){var v=h._fullLayout,m=y.trace,_=m.contours,f={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(_.labelformat)f.tickformat=_.labelformat,a(f,v);else{var S=T.extractOpts(m);if(S&&S.colorbar&&S.colorbar._axis)f=S.colorbar._axis;else{if("constraint"===_.type){var w=_.value;f.range=Array.isArray(w)?[w[0],w[w.length-1]]:[w,w]}else f.range=[_.start,_.end],f.nticks=(_.end-_.start)/_.size;f.range[0]===f.range[1]&&(f.range[1]+=f.range[0]||1),f.nticks||(f.nticks=1e3),a(f,v),d.prepTicks(f),f._tmin=null,f._tmax=null}}return function(E){return d.tickText(f,E).text}},D.calcTextOpts=function(h,y,v,m){var _=y(h);v.text(_).call(b.convertToTspans,m);var f=v.node(),S=l.bBox(f,!0);return{text:_,width:S.width,height:S.height,fontSize:+f.style["font-size"].replace("px",""),level:h,dy:(S.top+S.bottom)/2}},D.findBestTextLocation=function(h,y,v,m,_){var f,S,w,E,L,C=v.width;y.isClosed?(f=y.min+(S=y.len/p.INITIALSEARCHPOINTS)/2,w=y.max):(f=y.min+(S=(y.len-C)/(p.INITIALSEARCHPOINTS+1))+C/2,w=y.max-(S+C)/2);for(var O=1/0,R=0;R<p.ITERATIONS;R++){for(var q=f;q<w;q+=S){var P=k.getTextLocation(h,y.total,q,C),U=x(P,v,m,_);U<O&&(O=U,L=P,E=q)}if(O>2*p.MAXCOST)break;R&&(S/=2),w=(f=E-S/2)+1.5*S}if(O<=p.MAXCOST)return L},D.addLabelData=function(h,y,v,m){var _=y.fontSize,f=y.width+_/3,S=Math.max(0,y.height-_/3),w=h.x,E=h.y,L=h.theta,C=Math.sin(L),O=Math.cos(L),R=function(P,U){return[w+P*O-U*C,E+P*C+U*O]},q=[R(-f/2,-S/2),R(-f/2,S/2),R(f/2,S/2),R(f/2,-S/2)];v.push({text:y.text,x:w,y:E,dy:y.dy,theta:L,level:y.level,width:f,height:S}),m.push(q)},D.drawLabels=function(h,y,v,m,_){var f=h.selectAll("text").data(y,function(E){return E.text+","+E.x+","+E.y+","+E.theta});if(f.exit().remove(),f.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(E){var L=E.x+Math.sin(E.theta)*E.dy,C=E.y-Math.cos(E.theta)*E.dy;A.select(this).text(E.text).attr({x:L,y:C,transform:"rotate("+180*E.theta/Math.PI+" "+L+" "+C+")"}).call(b.convertToTspans,v)}),_){for(var S="",w=0;w<_.length;w++)S+="M"+_[w].join("L")+"Z";k.ensureSingle(m,"path","").attr("d",S)}}},18670:function(ee,D,e){"use strict";var A=e(89298),k=e(71828);function l(T,b,d){var a={type:"linear",range:[T,b]};return A.autoTicks(a,(b-T)/(d||15)),a}ee.exports=function(T,b){var d=T.contours;if(T.autocontour){var a=T.zmin,t=T.zmax;(T.zauto||void 0===a)&&(a=k.aggNums(Math.min,null,b)),(T.zauto||void 0===t)&&(t=k.aggNums(Math.max,null,b));var i=l(a,t,T.ncontours);d.size=i.dtick,d.start=A.tickFirst(i),i.range.reverse(),d.end=A.tickFirst(i),d.start===a&&(d.start+=d.size),d.end===t&&(d.end-=d.size),d.start>d.end&&(d.start=d.end=(d.start+d.end)/2),T._input.contours||(T._input.contours={}),k.extendFlat(T._input.contours,{start:d.start,end:d.end,size:d.size}),T._input.autocontour=!0}else if("constraint"!==d.type){var r,n=d.start,o=d.end,s=T._input.contours;n>o&&(d.start=s.start=o,o=d.end=s.end=n,n=d.start),d.size>0||(r=n===o?1:l(n,o,T.ncontours).dtick,s.size=d.size=r)}}},84426:function(ee,D,e){"use strict";var A=e(39898),k=e(91424),l=e(70035),T=e(86068);ee.exports=function(b){var d=A.select(b).selectAll("g.contour");d.style("opacity",function(a){return a[0].trace.opacity}),d.each(function(a){var t=A.select(this),i=a[0].trace,r=i.contours,n=i.line,o=r.size||1,s=r.start,u="constraint"===r.type,p=!u&&"lines"===r.coloring,c=!u&&"fill"===r.coloring,x=p||c?T(i):null;t.selectAll("g.contourlevel").each(function(y){A.select(this).selectAll("path").call(k.lineGroupStyle,n.width,p?x(y.level):n.color,n.dash)});var g=r.labelfont;if(t.selectAll("g.contourlabels text").each(function(y){k.font(A.select(this),{family:g.family,size:g.size,color:g.color||(p?x(y.level):n.color)})}),u)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(c){var h;t.selectAll("g.contourfill path").style("fill",function(y){return void 0===h&&(h=y.level),x(y.level+.5*o)}),void 0===h&&(h=s),t.selectAll("g.contourbg path").style("fill",x(h-.5*o))}}),l(b)}},8724:function(ee,D,e){"use strict";var A=e(1586),k=e(14523);ee.exports=function(l,T,b,d,a){var t,i=b("contours.coloring"),r="";"fill"===i&&(t=b("contours.showlines")),!1!==t&&("lines"!==i&&(r=b("line.color","#000")),b("line.width",.5),b("line.dash")),"none"!==i&&(!0!==l.showlegend&&(T.showlegend=!1),T._dfltShowLegend=!1,A(l,T,d,b,{prefix:"",cLetter:"z"})),b("line.smoothing"),k(b,d,r,a)}},88085:function(ee,D,e){"use strict";var A=e(21606),k=e(70600),l=e(50693),T=e(1426).extendFlat,b=k.contours;ee.exports=T({carpet:{valType:"string",editType:"calc"},z:A.z,a:A.x,a0:A.x0,da:A.dx,b:A.y,b0:A.y0,db:A.dy,text:A.text,hovertext:A.hovertext,transpose:A.transpose,atype:A.xtype,btype:A.ytype,fillcolor:k.fillcolor,autocontour:k.autocontour,ncontours:k.ncontours,contours:{type:b.type,start:b.start,end:b.end,size:b.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:b.showlines,showlabels:b.showlabels,labelfont:b.labelfont,labelformat:b.labelformat,operation:b.operation,value:b.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:k.line.color,width:k.line.width,dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},transforms:void 0},l("",{cLetter:"z",autoColorDflt:!1}))},59885:function(ee,D,e){"use strict";var A=e(78803),k=e(71828),l=e(68296),T=e(4742),b=e(824),d=e(43907),a=e(70769),t=e(75005),i=e(22882),r=e(18670);ee.exports=function(n,o){var s=o._carpetTrace=i(n,o);if(s&&s.visible&&"legendonly"!==s.visible){if(!o.a||!o.b){var u=n.data[s.index],p=n.data[o.index];p.a||(p.a=u.a),p.b||(p.b=u.b),t(p,o,o._defaultColor,n._fullLayout)}var c=function(x,g){var h,y,v,m,_,f,S,w=g._carpetTrace,E=w.aaxis,L=w.baxis;E._minDtick=0,L._minDtick=0,k.isArray1D(g.z)&&l(g,E,L,"a","b",["z"]),h=g._a=g._a||g.a,m=g._b=g._b||g.b,h=h?E.makeCalcdata(g,"_a"):[],m=m?L.makeCalcdata(g,"_b"):[],y=g.a0||0,v=g.da||1,_=g.b0||0,f=g.db||1,S=g._z=T(g._z||g.z,g.transpose),g._emptypoints=d(S),b(S,g._emptypoints);var C=k.maxRowLength(S),P={a:a(g,"scaled"===g.xtype?"":h,y,v,C,E),b:a(g,"scaled"===g.ytype?"":m,_,f,S.length,L),z:S};return"levels"===g.contours.type&&"none"!==g.contours.coloring&&A(x,g,{vals:S,containerStr:"",cLetter:"z"}),[P]}(n,o);return r(o,o._z),c}}},75005:function(ee,D,e){"use strict";var A=e(71828),k=e(67684),l=e(88085),T=e(83179),b=e(67217),d=e(8724);ee.exports=function(a,t,i,r){function n(o,s){return A.coerce(a,t,l,o,s)}if(n("carpet"),a.a&&a.b){if(!k(a,t,n,r,"a","b"))return void(t.visible=!1);n("text"),"constraint"===n("contours.type")?T(a,t,n,r,i,{hasHover:!1}):(b(a,t,n,function(o){return A.coerce2(a,t,l,o)}),d(a,t,n,r,{hasHover:!1}))}else t._defaultColor=i,t._length=null}},93740:function(ee,D,e){"use strict";ee.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(ee,D,e){"use strict";var A=e(39898),k=e(27669),l=e(67961),T=e(91424),b=e(71828),d=e(87678),a=e(81696),t=e(29854),i=e(36914),r=e(84857),n=e(87558),o=e(20083),s=e(22882),u=e(4536);function p(g,h,y){var v=g.getPointAtLength(h),m=g.getPointAtLength(y),_=m.x-v.x,f=m.y-v.y,S=Math.sqrt(_*_+f*f);return[_/S,f/S]}function c(g){var h=Math.sqrt(g[0]*g[0]+g[1]*g[1]);return[g[0]/h,g[1]/h]}function x(g,h){var y=Math.abs(g[0]*h[0]+g[1]*h[1]);return Math.sqrt(1-y*y)/y}ee.exports=function(g,h,y,v){var m=h.xaxis,_=h.yaxis;b.makeTraceGroups(v,y,"contour").each(function(f){var S=A.select(this),w=f[0],E=w.trace,L=E._carpetTrace=s(g,E),C=g.calcdata[L.index][0];if(L.visible&&"legendonly"!==L.visible){var O=w.a,R=w.b,q=E.contours,P=n(q,h,w),U="constraint"===q.type,N=q._operation,F=U?"="===N?"lines":"fill":q.coloring,j=[[O[0],R[R.length-1]],[O[O.length-1],R[R.length-1]],[O[O.length-1],R[0]],[O[0],R[0]]];d(P),a(P,1e-8*(O[O.length-1]-O[0]),1e-8*(R[R.length-1]-R[0]));var J,X,Y,W,$=P;"constraint"===q.type&&($=r(P,N)),function(ue,xe){var Me,me,pe,ge,Pe,_e,we,se,ae;for(Me=0;Me<ue.length;Me++){for(Pe=(ge=ue[Me]).pedgepaths=[],_e=ge.ppaths=[],me=0;me<ge.edgepaths.length;me++){for(ae=ge.edgepaths[me],we=[],pe=0;pe<ae.length;pe++)we[pe]=xe(ae[pe]);Pe.push(we)}for(me=0;me<ge.paths.length;me++){for(ae=ge.paths[me],se=[],pe=0;pe<ae.length;pe++)se[pe]=xe(ae[pe]);_e.push(se)}}}(P,oe);var ne=[];for(W=C.clipsegments.length-1;W>=0;W--)X=k([],(J=C.clipsegments[W]).x,m.c2p),Y=k([],J.y,_.c2p),X.reverse(),Y.reverse(),ne.push(l(X,Y,J.bicubic));var re="M"+ne.join("L")+"Z";(function(ue,xe,Me,me,pe,ge){var Pe,_e,we,se,ae=b.ensureSingle(ue,"g","contourbg").selectAll("path").data("fill"!==ge||pe?[]:[0]);ae.enter().append("path"),ae.exit().remove();var fe=[];for(se=0;se<xe.length;se++)_e=k([],(Pe=xe[se]).x,Me.c2p),we=k([],Pe.y,me.c2p),fe.push(l(_e,we,Pe.bicubic));ae.attr("d","M"+fe.join("L")+"Z").style("stroke","none")})(S,C.clipsegments,m,_,U,F),function(ue,xe,Me,me,pe,ge,Pe,_e,we,se,ae){var fe="fill"===se;fe&&o(pe,ue.contours);var Ee=b.ensureSingle(xe,"g","contourfill").selectAll("path").data(fe?pe:[]);Ee.enter().append("path"),Ee.exit().remove(),Ee.each(function(ke){var be=(ke.prefixBoundary?ae:"")+function(Ie,Fe,ce,Te,ve,Ce,Re,Oe){var je,qe,Je,it,Qe,dt,yt,mt="",at=Fe.edgepaths.map(function(nt,ze){return ze}),st=!0,Tt=1e-4*Math.abs(ce[0][0]-ce[2][0]),At=1e-4*Math.abs(ce[0][1]-ce[2][1]);function Pt(nt){return Math.abs(nt[1]-ce[0][1])<At}function kt(nt){return Math.abs(nt[1]-ce[2][1])<At}function Ze(nt){return Math.abs(nt[0]-ce[0][0])<Tt}function Xe(nt){return Math.abs(nt[0]-ce[2][0])<Tt}function He(nt,ze){var Be,tt,et,gt,pt="";for(Pt(nt)&&!Xe(nt)||kt(nt)&&!Ze(nt)?(gt=ve.aaxis,et=u(ve,Ce,[nt[0],ze[0]],.5*(nt[1]+ze[1]))):(gt=ve.baxis,et=u(ve,Ce,.5*(nt[0]+ze[0]),[nt[1],ze[1]])),Be=1;Be<et.length;Be++)for(pt+=gt.smoothing?"C":"L",tt=0;tt<et[Be].length;tt++){var vt=et[Be][tt];pt+=[Re.c2p(vt[0]),Oe.c2p(vt[1])]+" "}return pt}for(je=0,qe=null;at.length;){for(qe&&(mt+=He(qe,Fe.edgepaths[je][0])),yt=T.smoothopen(Fe.edgepaths[je].map(Te),Fe.smoothing),mt+=st?yt:yt.replace(/^M/,"L"),at.splice(at.indexOf(je),1),qe=Fe.edgepaths[je][Fe.edgepaths[je].length-1],Qe=-1,it=0;it<4;it++){if(!qe){b.log("Missing end?",je,Fe);break}for(Pt(qe)&&!Xe(qe)?Je=ce[1]:Ze(qe)?Je=ce[0]:kt(qe)?Je=ce[3]:Xe(qe)&&(Je=ce[2]),dt=0;dt<Fe.edgepaths.length;dt++){var rt=Fe.edgepaths[dt][0];Math.abs(qe[0]-Je[0])<Tt?Math.abs(qe[0]-rt[0])<Tt&&(rt[1]-qe[1])*(Je[1]-rt[1])>=0&&(Je=rt,Qe=dt):Math.abs(qe[1]-Je[1])<At?Math.abs(qe[1]-rt[1])<At&&(rt[0]-qe[0])*(Je[0]-rt[0])>=0&&(Je=rt,Qe=dt):b.log("endpt to newendpt is not vert. or horz.",qe,Je,rt)}if(Qe>=0)break;mt+=He(qe,Je),qe=Je}if(Qe===Fe.edgepaths.length){b.log("unclosed perimeter path");break}(st=-1===at.indexOf(je=Qe))&&(je=at[0],mt+=He(qe,Je)+"Z",qe=null)}for(je=0;je<Fe.paths.length;je++)mt+=T.smoothclosed(Fe.paths[je].map(Te),Fe.smoothing);return mt}(0,ke,ge,Pe,_e,we,Me,me);be?A.select(this).attr("d",be).style("stroke","none"):A.select(this).remove()})}(E,S,m,_,$,j,oe,L,C,F,re),function(ue,xe,Me,me,pe,ge,Pe){var _e=Me._context.staticPlot,we=b.ensureSingle(ue,"g","contourlines"),se=!1!==pe.showlines,ae=pe.showlabels,fe=se&&ae,Ee=t.createLines(we,se||ae,xe,_e),ke=t.createLineClip(we,fe,Me,me.trace.uid),be=ue.selectAll("g.contourlabels").data(ae?[0]:[]);if(be.exit().remove(),be.enter().append("g").classed("contourlabels",!0),ae){var ce=ge.xaxis._length,Te=ge.yaxis._length,ve=[[[0,0],[ce,0],[ce,Te],[0,Te]]],Ce=[];b.clearLocationCache();var Re=t.labelFormatter(Me,me),Oe=T.tester.append("text").attr("data-notex",1).call(T.font,pe.labelfont),je={left:0,right:ce,center:ce/2,top:0,bottom:Te,middle:Te/2},qe=Math.sqrt(ce*ce+Te*Te),Je=i.LABELDISTANCE*qe/Math.max(1,xe.length/i.LABELINCREASE);Ee.each(function(it){var Qe=t.calcTextOpts(it.level,Re,Oe,Me);A.select(this).selectAll("path").each(function(dt){var mt=b.getVisibleSegment(this,je,Qe.height/2);if(mt&&(function(At,Pt,kt,Ze,Xe,He){for(var We,rt=0;rt<kt.pedgepaths.length;rt++)Pt===kt.pedgepaths[rt]&&(We=kt.edgepaths[rt]);if(We){var nt=Xe.a[0],ze=Xe.a[Xe.a.length-1],Be=Xe.b[0],tt=Xe.b[Xe.b.length-1],et=p(At,0,1),gt=p(At,Ze.total,Ze.total-1),pt=ut(We[0],et),vt=Ze.total-ut(We[We.length-1],gt);Ze.min<pt&&(Ze.min=pt),Ze.max>vt&&(Ze.max=vt),Ze.len=Ze.max-Ze.min}function ut(wt,ct){var ft,bt=0;return(Math.abs(wt[0]-nt)<.1||Math.abs(wt[0]-ze)<.1)&&(ft=c(Xe.dxydb_rough(wt[0],wt[1],.1)),bt=Math.max(bt,He*x(ct,ft)/2)),(Math.abs(wt[1]-Be)<.1||Math.abs(wt[1]-tt)<.1)&&(ft=c(Xe.dxyda_rough(wt[0],wt[1],.1)),bt=Math.max(bt,He*x(ct,ft)/2)),bt}}(this,dt,it,mt,Pe,Qe.height),!(mt.len<(Qe.width+Qe.height)*i.LABELMIN)))for(var at=Math.min(Math.ceil(mt.len/Je),i.LABELMAX),st=0;st<at;st++){var Tt=t.findBestTextLocation(this,mt,Qe,Ce,je);if(!Tt)break;t.addLabelData(Tt,Qe,Ce,ve)}})}),Oe.remove(),t.drawLabels(be,Ce,Me,ke,fe?ve:null)}ae&&!se&&Ee.remove()}(S,P,g,w,q,h,L),T.setClipUrl(S,L._clipPathId,g)}function oe(ue){var xe=L.ab2xy(ue[0],ue[1],!0);return[m.c2p(xe[0]),_.c2p(xe[1])]}})}},64096:function(ee,D,e){"use strict";var A=e(50693),k=e(5386).fF,l=e(9012),T=e(99181),b=e(1426).extendFlat;ee.exports=b({lon:T.lon,lat:T.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:T.text,hovertext:T.hovertext,hoverinfo:b({},l.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:k(),showlegend:b({},l.showlegend,{dflt:!1})},A("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(ee,D,e){"use strict";var A=e(92770),k=e(71828).isArrayOrTypedArray,l=e(50606).BADNUM,T=e(78803),b=e(71828)._;ee.exports=function(d,a){for(var t=a._length,i=new Array(t),r=a.z,n=k(r)&&r.length,o=0;o<t;o++){var s=i[o]={},u=a.lon[o],p=a.lat[o];if(s.lonlat=A(u)&&A(p)?[+u,+p]:[l,l],n){var c=r[o];s.z=A(c)?c:l}}return T(d,a,{vals:n?r:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:b(d,"lat:")+" ",lon:b(d,"lon:")+" "}}),i}},52414:function(ee,D,e){"use strict";var A=e(92770),k=e(71828),l=e(7901),T=e(21081),b=e(50606).BADNUM,d=e(18214).makeBlank;ee.exports=function(a){var t=a[0].trace,i=!0===t.visible&&0!==t._length,r=t._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:d()};if(!i)return r;var n,o=[],s=t.z,u=t.radius,p=k.isArrayOrTypedArray(s)&&s.length,c=k.isArrayOrTypedArray(u);for(n=0;n<a.length;n++){var x=a[n],g=x.lonlat;if(g[0]!==b){var h={};if(p){var y=x.z;h.z=y!==b?y:0}c&&(h.r=A(u[n])&&u[n]>0?+u[n]:0),o.push({type:"Feature",geometry:{type:"Point",coordinates:g},properties:h})}}var v=T.extractOpts(t),m=v.reversescale?T.flipScale(v.colorscale):v.colorscale,_=m[0][1],f=["interpolate",["linear"],["heatmap-density"],0,l.opacity(_)<1?_:l.addOpacity(_,0)];for(n=1;n<m.length;n++)f.push(m[n][0],m[n][1]);return k.extendFlat(r.heatmap.paint,{"heatmap-weight":p?["interpolate",["linear"],["get","z"],v.min,0,v.max,1]:1/(v.max-v.min),"heatmap-color":f,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),r.geojson={type:"FeatureCollection",features:o},r.heatmap.layout.visibility="visible",r}},79429:function(ee,D,e){"use strict";var A=e(71828),k=e(1586),l=e(64096);ee.exports=function(T,b,d,a){function t(o,s){return A.coerce(T,b,l,o,s)}var i=t("lon")||[],r=t("lat")||[],n=Math.min(i.length,r.length);n?(b._length=n,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),k(T,b,a,t,{prefix:"",cLetter:"z"})):b.visible=!1}},62474:function(ee){"use strict";ee.exports=function(D,e){return D.lon=e.lon,D.lat=e.lat,D.z=e.z,D}},84684:function(ee,D,e){"use strict";var A=e(89298),k=e(28178).hoverPoints,l=e(28178).getExtraText;ee.exports=function(T,b,d){var a=k(T,b,d);if(a){var t=a[0],i=t.cd,r=i[0].trace,n=i[t.index];if(delete t.color,"z"in n){var o=t.subplot.mockAxis;t.z=n.z,t.zLabel=A.tickText(o,o.c2l(n.z),"hover").text}return t.extraText=l(r,n,i[0].t.labels),[t]}}},93814:function(ee,D,e){"use strict";ee.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(A,k){for(var l=k.getMapLayers(),T=0;T<l.length;T++){var b=l[T],d=b.id;if("symbol"===b.type&&"string"==typeof d&&-1===d.indexOf("plotly-"))return d}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(ee,D,e){"use strict";var A=e(52414),k=e(77734).traceLayerPrefix;function l(b,d){this.type="densitymapbox",this.subplot=b,this.uid=d,this.sourceId="source-"+d,this.layerList=[["heatmap",k+d+"-heatmap"]],this.below=null}var T=l.prototype;T.update=function(b){var d=this.subplot,a=this.layerList,t=A(b),i=d.belowLookup["trace-"+this.uid];d.map.getSource(this.sourceId).setData(t.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(t,i),this.below=i);for(var r=0;r<a.length;r++){var n=a[r],s=n[1],u=t[n[0]];d.setOptions(s,"setLayoutProperty",u.layout),"visible"===u.layout.visibility&&d.setOptions(s,"setPaintProperty",u.paint)}},T._addLayers=function(b,d){for(var a=this.subplot,t=this.layerList,i=this.sourceId,r=0;r<t.length;r++){var n=t[r],o=n[0],s=b[o];a.addLayer({type:o,id:n[1],source:i,layout:s.layout,paint:s.paint},d)}},T._removeLayers=function(){for(var b=this.subplot.map,d=this.layerList,a=d.length-1;a>=0;a--)b.removeLayer(d[a][1])},T.dispose=function(){var b=this.subplot.map;this._removeLayers(),b.removeSource(this.sourceId)},ee.exports=function(b,d){var a=d[0].trace,t=new l(b,a.uid),i=t.sourceId,r=A(d),n=t.below=b.belowLookup["trace-"+a.uid];return b.map.addSource(i,{type:"geojson",data:r.geojson}),t._addLayers(r,n),t}},49789:function(ee,D,e){"use strict";var A=e(71828);ee.exports=function(k,l){for(var T=0;T<k.length;T++)k[T].i=T;A.mergeArray(l.text,k,"tx"),A.mergeArray(l.hovertext,k,"htx");var b=l.marker;if(b){A.mergeArray(b.opacity,k,"mo"),A.mergeArray(b.color,k,"mc");var d=b.line;d&&(A.mergeArray(d.color,k,"mlc"),A.mergeArrayCastPositive(d.width,k,"mlw"))}}},1285:function(ee,D,e){"use strict";var A,k=e(1486),l=e(82196).line,T=e(9012),b=e(12663).axisHoverFormat,d=e(5386).fF,a=e(5386).si,t=e(18517),i=e(1426).extendFlat,r=e(7901);ee.exports={x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),hovertext:k.hovertext,hovertemplate:d({},{keys:t.eventDataKeys}),hoverinfo:i({},T.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:a({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),text:k.text,textposition:k.textposition,insidetextanchor:i({},k.insidetextanchor,{dflt:"middle"}),textangle:i({},k.textangle,{dflt:0}),textfont:k.textfont,insidetextfont:k.insidetextfont,outsidetextfont:k.outsidetextfont,constraintext:k.constraintext,cliponaxis:k.cliponaxis,orientation:i({},k.orientation,{}),offset:i({},k.offset,{arrayOk:!1}),width:i({},k.width,{arrayOk:!1}),marker:(A=i({},k.marker),delete A.pattern,A),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:i({},l.color,{dflt:r.defaultLine}),width:i({},l.width,{dflt:0,editType:"plot"}),dash:l.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup}},9532:function(ee,D,e){"use strict";var A=e(89298),k=e(42973),l=e(49789),T=e(66279),b=e(50606).BADNUM;function d(a){return a===b?0:a}ee.exports=function(a,t){var i,r,n,o,s,u,p,c,x=A.getFromId(a,t.xaxis||"x"),g=A.getFromId(a,t.yaxis||"y");"h"===t.orientation?(i=x.makeCalcdata(t,"x"),n=g.makeCalcdata(t,"y"),o=k(t,g,"y",n),s=!!t.yperiodalignment,u="y"):(i=g.makeCalcdata(t,"y"),n=x.makeCalcdata(t,"x"),o=k(t,x,"x",n),s=!!t.xperiodalignment,u="x"),r=o.vals;var h,y=Math.min(r.length,i.length),v=new Array(y);for(t._base=[],p=0;p<y;p++){i[p]<0&&(i[p]=b);var m=!1;i[p]!==b&&p+1<y&&i[p+1]!==b&&(m=!0),c=v[p]={p:r[p],s:i[p],cNext:m},t._base[p]=-.5*c.s,s&&(v[p].orig_p=n[p],v[p][u+"End"]=o.ends[p],v[p][u+"Start"]=o.starts[p]),t.ids&&(c.id=String(t.ids[p])),0===p&&(v[0].vTotal=0),v[0].vTotal+=d(c.s),c.begR=d(c.s)/d(v[0].s)}for(p=0;p<y;p++)(c=v[p]).s!==b&&(c.sumR=c.s/v[0].vTotal,c.difR=void 0!==h?c.s/h:1,h=c.s);return l(v,t),T(v,t),v}},18517:function(ee){"use strict";ee.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(ee,D,e){"use strict";var A=e(11661).setGroupPositions;ee.exports=function(k,l){var T,b,d=k._fullLayout,a=k._fullData,t=k.calcdata,i=l.xaxis,r=l.yaxis,n=[],o=[],s=[];for(b=0;b<a.length;b++){var u=a[b];!0===u.visible&&u.xaxis===i._id&&u.yaxis===r._id&&"funnel"===u.type&&(T=t[b],"h"===u.orientation?s.push(T):o.push(T),n.push(T))}var c={mode:d.funnelmode,norm:d.funnelnorm,gap:d.funnelgap,groupgap:d.funnelgroupgap};for(A(k,i,r,o,c),A(k,r,i,s,c),b=0;b<n.length;b++){T=n[b];for(var x=0;x<T.length;x++)x+1<T.length&&(T[x].nextP0=T[x+1].p0,T[x].nextS0=T[x+1].s0,T[x].nextP1=T[x+1].p1,T[x].nextS1=T[x+1].s1)}}},26199:function(ee,D,e){"use strict";var A=e(71828),k=e(26125),l=e(90769).handleText,T=e(67513),b=e(73927),d=e(1285),a=e(7901);ee.exports={supplyDefaults:function(t,i,r,n){function o(c,x){return A.coerce(t,i,d,c,x)}if(T(t,i,n,o)){b(t,i,n,o),o("xhoverformat"),o("yhoverformat"),o("orientation",i.y&&!i.x?"v":"h"),o("offset"),o("width");var s=o("text");o("hovertext"),o("hovertemplate");var u=o("textposition");l(t,i,n,o,u,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"===i.textposition||i.texttemplate||o("textinfo",Array.isArray(s)?"text+value":"value");var p=o("marker.color",r);o("marker.line.color",a.defaultLine),o("marker.line.width"),o("connector.visible")&&(o("connector.fillcolor",(x=A.isArrayOrTypedArray(c=p)?"#000":c,a.addOpacity(x,.5*a.opacity(x)))),o("connector.line.width")&&(o("connector.line.color"),o("connector.line.dash")))}else i.visible=!1;var c,x},crossTraceDefaults:function(t,i){var r,n;function o(u){return A.coerce(n._input,n,d,u)}if("group"===i.funnelmode)for(var s=0;s<t.length;s++)r=(n=t[s])._input,k(r,n,i,o)}}},34598:function(ee){"use strict";ee.exports=function(D,e){return D.x="xVal"in e?e.xVal:e.x,D.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(D.percentInitial=e.percentInitial),"percentPrevious"in e&&(D.percentPrevious=e.percentPrevious),"percentTotal"in e&&(D.percentTotal=e.percentTotal),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),D}},63341:function(ee,D,e){"use strict";var A=e(7901).opacity,k=e(95423).hoverOnBars,l=e(71828).formatPercent;ee.exports=function(T,b,d,a,t){var y,v,m,_,f,i=k(T,b,d,a,t);if(i){var r=i.cd,n=r[0].trace,s=r[i.index];i[("h"===n.orientation?"x":"y")+"LabelVal"]=s.s,i.percentInitial=s.begR,i.percentInitialLabel=l(s.begR,1),i.percentPrevious=s.difR,i.percentPreviousLabel=l(s.difR,1),i.percentTotal=s.sumR,i.percentTotalLabel=l(s.sumR,1);var u=s.hi||n.hoverinfo,p=[];if(u&&"none"!==u&&"skip"!==u){var c="all"===u,x=u.split("+"),g=function(h){return c||-1!==x.indexOf(h)};g("percent initial")&&p.push(i.percentInitialLabel+" of initial"),g("percent previous")&&p.push(i.percentPreviousLabel+" of previous"),g("percent total")&&p.push(i.percentTotalLabel+" of total")}return i.extraText=p.join("<br>"),i.color=(v=n.marker,_=(y=s).mlc||v.line.color,f=y.mlw||v.line.width,A(m=y.mc||v.color)?m:A(_)&&f?_:void 0),[i]}}},51759:function(ee,D,e){"use strict";ee.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(ee){"use strict";ee.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(ee,D,e){"use strict";var A=e(71828),k=e(10440);ee.exports=function(l,T,b){var d=!1;function a(r,n){return A.coerce(l,T,k,r,n)}for(var t=0;t<b.length;t++){var i=b[t];if(i.visible&&"funnel"===i.type){d=!0;break}}d&&(a("funnelmode"),a("funnelgap",.2),a("funnelgroupgap"))}},80461:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(91424),T=e(50606).BADNUM,b=e(17295),d=e(72597).clearMinTextSize;function a(t,i,r,n){var o=[],s=[],u=n?i:r,p=n?r:i;return o[0]=u.c2p(t.s0,!0),s[0]=p.c2p(t.p0,!0),o[1]=u.c2p(t.s1,!0),s[1]=p.c2p(t.p1,!0),o[2]=u.c2p(t.nextS0,!0),s[2]=p.c2p(t.nextP0,!0),o[3]=u.c2p(t.nextS1,!0),s[3]=p.c2p(t.nextP1,!0),n?[o,s]:[s,o]}ee.exports=function(t,i,r,n){var s,u,x,g,o=t._fullLayout;d("funnel",o),s=t,x=(u=i).xaxis,g=u.yaxis,k.makeTraceGroups(n,r,"trace bars").each(function(h){var y=A.select(this),v=h[0].trace,m=k.ensureSingle(y,"g","regions");if(v.connector&&v.connector.visible){var _="h"===v.orientation,f=m.selectAll("g.region").data(k.identity);f.enter().append("g").classed("region",!0),f.exit().remove();var S=f.size();f.each(function(w,E){if(E===S-1||w.cNext){var L=a(w,x,g,_),C=L[0],O=L[1],R="";C[0]!==T&&O[0]!==T&&C[1]!==T&&O[1]!==T&&C[2]!==T&&O[2]!==T&&C[3]!==T&&O[3]!==T&&(R+=_?"M"+C[0]+","+O[1]+"L"+C[2]+","+O[2]+"H"+C[3]+"L"+C[1]+","+O[1]+"Z":"M"+C[1]+","+O[1]+"L"+C[2]+","+O[3]+"V"+O[2]+"L"+C[1]+","+O[0]+"Z"),""===R&&(R="M0,0Z"),k.ensureSingle(A.select(this),"path").attr("d",R).call(l.setClipUrl,u.layerClipId,s)}})}else m.remove()}),function(s,u,p,c){var x=u.xaxis,g=u.yaxis;k.makeTraceGroups(c,p,"trace bars").each(function(h){var y=A.select(this),v=h[0].trace,m=k.ensureSingle(y,"g","lines");if(v.connector&&v.connector.visible&&v.connector.line.width){var _="h"===v.orientation,f=m.selectAll("g.line").data(k.identity);f.enter().append("g").classed("line",!0),f.exit().remove();var S=f.size();f.each(function(w,E){if(E===S-1||w.cNext){var L=a(w,x,g,_),C=L[0],O=L[1],R="";void 0!==C[3]&&void 0!==O[3]&&(_?(R+="M"+C[0]+","+O[1]+"L"+C[2]+","+O[2],R+="M"+C[1]+","+O[1]+"L"+C[3]+","+O[2]):(R+="M"+C[1]+","+O[1]+"L"+C[2]+","+O[3],R+="M"+C[1]+","+O[0]+"L"+C[2]+","+O[2])),""===R&&(R="M0,0Z"),k.ensureSingle(A.select(this),"path").attr("d",R).call(l.setClipUrl,u.layerClipId,s)}})}else m.remove()})}(t,i,r,n),b.plot(t,i,r,n,{mode:o.funnelmode,norm:o.funnelmode,gap:o.funnelgap,groupgap:o.funnelgroupgap})}},68266:function(ee,D,e){"use strict";var A=e(39898),k=e(91424),l=e(7901),T=e(37822).DESELECTDIM,b=e(16688),d=e(72597).resizeText,a=b.styleTextPoints;ee.exports={style:function(t,i,r){var n=r||A.select(t).selectAll("g.funnellayer").selectAll("g.trace");d(t,n,"funnel"),n.style("opacity",function(o){return o[0].trace.opacity}),n.each(function(o){var s=A.select(this),u=o[0].trace;s.selectAll(".point > path").each(function(p){if(!p.isBlank){var c=u.marker;A.select(this).call(l.fill,p.mc||c.color).call(l.stroke,p.mlc||c.line.color).call(k.dashLine,c.line.dash,p.mlw||c.line.width).style("opacity",u.selectedpoints&&!p.selected?T:1)}}),a(s,u,t),s.selectAll(".regions").each(function(){A.select(this).selectAll("path").style("stroke-width",0).call(l.fill,u.connector.fillcolor)}),s.selectAll(".lines").each(function(){var p=u.connector.line;k.lineGroupStyle(A.select(this).selectAll("path"),p.width,p.color,p.dash)})})}}},86807:function(ee,D,e){"use strict";var A=e(34e3),k=e(9012),l=e(27670).Y,T=e(5386).fF,b=e(5386).si,d=e(1426).extendFlat;ee.exports={labels:A.labels,label0:A.label0,dlabel:A.dlabel,values:A.values,marker:{colors:A.marker.colors,line:{color:d({},A.marker.line.color,{dflt:null}),width:d({},A.marker.line.width,{dflt:1}),editType:"calc"},pattern:A.marker.pattern,editType:"calc"},text:A.text,hovertext:A.hovertext,scalegroup:d({},A.scalegroup,{}),textinfo:d({},A.textinfo,{flags:["label","text","value","percent"]}),texttemplate:b({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:d({},k.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:T({},{keys:["label","color","value","text","percent"]}),textposition:d({},A.textposition,{values:["inside","none"],dflt:"inside"}),textfont:A.textfont,insidetextfont:A.insidetextfont,title:{text:A.title.text,font:A.title.font,position:d({},A.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:l({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(ee,D,e){"use strict";var A=e(74875);D.name="funnelarea",D.plot=function(k,l,T,b){A.plotBasePlot(D.name,k,l,T,b)},D.clean=function(k,l,T,b){A.cleanBasePlot(D.name,k,l,T,b)}},89574:function(ee,D,e){"use strict";var A=e(32354);ee.exports={calc:function(k,l){return A.calc(k,l)},crossTraceCalc:function(k){A.crossTraceCalc(k,{type:"funnelarea"})}}},86282:function(ee,D,e){"use strict";var A=e(71828),k=e(86807),l=e(27670).c,T=e(90769).handleText,b=e(37434).handleLabelsAndValues,d=e(37434).handleMarkerDefaults;ee.exports=function(a,t,i,r){function n(y,v){return A.coerce(a,t,k,y,v)}var o=n("labels"),s=n("values"),u=b(o,s),p=u.len;if(t._hasLabels=u.hasLabels,t._hasValues=u.hasValues,!t._hasLabels&&t._hasValues&&(n("label0"),n("dlabel")),p){t._length=p,d(a,t,r,n),n("scalegroup");var c,x=n("text"),g=n("texttemplate");if(g||(c=n("textinfo",Array.isArray(x)?"text+percent":"percent")),n("hovertext"),n("hovertemplate"),g||c&&"none"!==c){var h=n("textposition");T(a,t,r,n,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}l(t,r,n),n("title.text")&&(n("title.position"),A.coerceFont(n,"title.font",r.font)),n("aspectratio"),n("baseratio")}else t.visible=!1}},10421:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(ee,D,e){"use strict";var A=e(92774).hiddenlabels;ee.exports={hiddenlabels:A,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(ee,D,e){"use strict";var A=e(71828),k=e(80097);ee.exports=function(l,T){function b(d,a){return A.coerce(l,T,k,d,a)}b("hiddenlabels"),b("funnelareacolorway",T.colorway),b("extendfunnelareacolors")}},79187:function(ee,D,e){"use strict";var A=e(39898),k=e(91424),l=e(71828),T=l.strScale,b=l.strTranslate,d=e(63893),a=e(17295).toMoveInsideBar,t=e(72597),i=t.recordMinTextSize,r=t.clearMinTextSize,n=e(53581),o=e(14575),s=o.attachFxHandlers,u=o.determineInsideTextFont,p=o.layoutAreas,c=o.prerenderTitles,x=o.positionTitleOutside,g=o.formatSliceLabel;function h(y,v){return"l"+(v[0]-y[0])+","+(v[1]-y[1])}ee.exports=function(y,v){var m=y._context.staticPlot,_=y._fullLayout;r("funnelarea",_),c(v,y),p(v,_._size),l.makeTraceGroups(_._funnelarealayer,v,"trace").each(function(f){var S=A.select(this),w=f[0],E=w.trace;(function(L){if(L.length){var C=L[0],O=C.trace,R=O.aspectratio,q=O.baseratio;q>.999&&(q=.999);var P,U,N,F=Math.pow(q,2),j=C.vTotal,G=j,te=j*F/(1-F)/j,J=[];for(J.push(we()),U=L.length-1;U>-1;U--)(N=L[U]).hidden||(te+=N.v/G,J.push(we()));var Y=1/0,W=-1/0;for(U=0;U<J.length;U++)P=J[U],Y=Math.min(Y,P[1]),W=Math.max(W,P[1]);for(U=0;U<J.length;U++)J[U][1]-=(W+Y)/2;var ne=C.r,re=(W-Y)/2,oe=ne/J[J.length-1][0],ue=ne/re*R;for(C.r=ue*re,U=0;U<J.length;U++)J[U][0]*=oe,J[U][1]*=ue;var xe,Me,me=[-(P=J[0])[0],P[1]],pe=[P[0],P[1]],ge=0;for(U=L.length-1;U>-1;U--)if(!(N=L[U]).hidden){var Pe=J[ge+=1][0],_e=J[ge][1];N.TL=[-Pe,_e],N.TR=[Pe,_e],N.BL=me,N.BR=pe,N.pxmid=[.5*((xe=N.TR)[0]+(Me=N.BR)[0]),.5*(xe[1]+Me[1])],me=N.TL,pe=N.TR}}function we(){var se,ae={x:se=Math.sqrt(te),y:-se};return[ae.x,ae.y]}})(f),S.each(function(){var L=A.select(this).selectAll("g.slice").data(f);L.enter().append("g").classed("slice",!0),L.exit().remove(),L.each(function(O,R){if(O.hidden)A.select(this).selectAll("path,g").remove();else{O.pointNumber=O.i,O.curveNumber=E.index;var q=w.cx,P=w.cy,U=A.select(this),N=U.selectAll("path.surface").data([O]);N.enter().append("path").classed("surface",!0).style({"pointer-events":m?"none":"all"}),U.call(s,y,f);var F="M"+(q+O.TR[0])+","+(P+O.TR[1])+h(O.TR,O.BR)+h(O.BR,O.BL)+h(O.BL,O.TL)+"Z";N.attr("d",F),g(y,O,w);var j=n.castOption(E.textposition,O.pts),G=U.selectAll("g.slicetext").data(O.text&&"none"!==j?[0]:[]);G.enter().append("g").classed("slicetext",!0),G.exit().remove(),G.each(function(){var te=l.ensureSingle(A.select(this),"text","",function(oe){oe.attr("data-notex",1)}),J=l.ensureUniformFontSize(y,u(E,O,_.font));te.text(O.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(k.font,J).call(d.convertToTspans,y);var X,Y,W,$=k.bBox(te.node()),ne=Math.min(O.BL[1],O.BR[1])+P,re=Math.max(O.TL[1],O.TR[1])+P;Y=Math.max(O.TL[0],O.BL[0])+q,W=Math.min(O.TR[0],O.BR[0])+q,(X=a(Y,W,ne,re,$,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=J.size,i(E.type,X,_),f[R].transform=X,l.setTransormAndDisplay(te,X)})}});var C=A.select(this).selectAll("g.titletext").data(E.title.text?[0]:[]);C.enter().append("g").classed("titletext",!0),C.exit().remove(),C.each(function(){var O=l.ensureSingle(A.select(this),"text","",function(P){P.attr("data-notex",1)}),R=E.title.text;E._meta&&(R=l.templateString(R,E._meta)),O.text(R).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(k.font,E.title.font).call(d.convertToTspans,y);var q=x(w,_._size);O.attr("transform",b(q.x,q.y)+T(Math.min(1,q.scale))+b(q.tx,q.ty))})})})}},71858:function(ee,D,e){"use strict";var A=e(39898),k=e(63463),l=e(72597).resizeText;ee.exports=function(T){var b=T._fullLayout._funnelarealayer.selectAll(".trace");l(T,b,"funnelarea"),b.each(function(d){var a=d[0].trace,t=A.select(this);t.style({opacity:a.opacity}),t.selectAll("path.surface").each(function(i){A.select(this).call(k,i,a,T)})})}},21606:function(ee,D,e){"use strict";var A=e(82196),k=e(9012),l=e(41940),T=e(12663).axisHoverFormat,b=e(5386).fF,d=e(5386).si,a=e(50693),t=e(1426).extendFlat;ee.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},A.x,{impliedEdits:{xtype:"array"}}),x0:t({},A.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},A.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},A.y,{impliedEdits:{ytype:"array"}}),y0:t({},A.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},A.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},A.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},A.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},A.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},A.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},A.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},A.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:b(),texttemplate:d({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:l({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},k.showlegend,{dflt:!1})},{transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},90757:function(ee,D,e){"use strict";var A=e(73972),k=e(71828),l=e(89298),T=e(42973),b=e(17562),d=e(78803),a=e(68296),t=e(4742),i=e(824),r=e(43907),n=e(70769),o=e(50606).BADNUM;function s(u){for(var p=[],c=u.length,x=0;x<c;x++){var g=u[x];g!==o&&p.push(g)}return p}ee.exports=function(u,p){var c,x,g,h,y,v,m,_,f,S,w,E=l.getFromId(u,p.xaxis||"x"),L=l.getFromId(u,p.yaxis||"y"),C=A.traceIs(p,"contour"),O=A.traceIs(p,"histogram"),R=A.traceIs(p,"gl2d"),q=C?"best":p.zsmooth;if(E._minDtick=0,L._minDtick=0,O)h=(w=b(u,p)).orig_x,c=w.x,x=w.x0,g=w.dx,_=w.orig_y,y=w.y,v=w.y0,m=w.dy,f=w.z;else{var P=p.z;k.isArray1D(P)?(a(p,E,L,"x","y",["z"]),c=p._x,y=p._y,P=p._z):(h=p.x?E.makeCalcdata(p,"x"):[],_=p.y?L.makeCalcdata(p,"y"):[],c=T(p,E,"x",h).vals,y=T(p,L,"y",_).vals,p._x=c,p._y=y),x=p.x0,g=p.dx,v=p.y0,m=p.dy,f=t(P,p,E,L)}function U(W){q=p._input.zsmooth=p.zsmooth=!1,k.warn('cannot use zsmooth: "fast": '+W)}function N(W){if(W.length>1){var $=(W[W.length-1]-W[0])/(W.length-1),ne=Math.abs($/100);for(S=0;S<W.length-1;S++)if(Math.abs(W[S+1]-W[S]-$)>ne)return!1}return!0}(E.rangebreaks||L.rangebreaks)&&(f=function(W,$,ne){for(var re=[],oe=-1,ue=0;ue<ne.length;ue++)if($[ue]!==o){re[++oe]=[];for(var xe=0;xe<ne[ue].length;xe++)W[xe]!==o&&re[oe].push(ne[ue][xe])}return re}(c,y,f),O||(c=s(c),y=s(y),p._x=c,p._y=y)),O||!C&&!p.connectgaps||(p._emptypoints=r(f),i(f,p._emptypoints)),p._islinear=!1,"log"===E.type||"log"===L.type?"fast"===q&&U("log axis found"):N(c)?N(y)?p._islinear=!0:"fast"===q&&U("y scale is not linear"):"fast"===q&&U("x scale is not linear");var F=k.maxRowLength(f),j="scaled"===p.xtype?"":c,G=n(p,j,x,g,F,E),te="scaled"===p.ytype?"":y,J=n(p,te,v,m,f.length,L);R||(p._extremes[E._id]=l.findExtremes(E,G),p._extremes[L._id]=l.findExtremes(L,J));var X={x:G,y:J,z:f,text:p._text||p.text,hovertext:p._hovertext||p.hovertext};if(p.xperiodalignment&&h&&(X.orig_x=h),p.yperiodalignment&&_&&(X.orig_y=_),j&&j.length===G.length-1&&(X.xCenter=j),te&&te.length===J.length-1&&(X.yCenter=te),O&&(X.xRanges=w.xRanges,X.yRanges=w.yRanges,X.pts=w.pts),C||d(u,p,{vals:f,cLetter:"z"}),C&&p.contours&&"heatmap"===p.contours.coloring){var Y={type:"contour"===p.type?"heatmap":"histogram2d",xcalendar:p.xcalendar,ycalendar:p.ycalendar};X.xfill=n(Y,j,x,g,F,E),X.yfill=n(Y,te,v,m,f.length,L)}return[X]}},4742:function(ee,D,e){"use strict";var A=e(92770),k=e(71828),l=e(50606).BADNUM;ee.exports=function(T,b,d,a){var t,i,r,n,o,s;function u(y){if(A(y))return+y}if(b&&b.transpose){for(t=0,o=0;o<T.length;o++)t=Math.max(t,T[o].length);if(0===t)return!1;r=function(y){return y.length},n=function(y,v,m){return(y[m]||[])[v]}}else t=T.length,r=function(y,v){return y[v].length},n=function(y,v,m){return(y[v]||[])[m]};function c(y){if(b&&"carpet"!==b.type&&"contourcarpet"!==b.type&&y&&"category"===y.type&&b["_"+y._id.charAt(0)].length){var v=y._id.charAt(0),m={},_=b["_"+v+"CategoryMap"]||b[v];for(o=0;o<_.length;o++)m[_[o]]=o;return function(f){var S=m[y._categories[f]];return S+1?S:l}}return k.identity}var x=c(d),g=c(a);a&&"category"===a.type&&(t=a._categories.length);var y,v,m,h=new Array(t);for(o=0;o<t;o++)for(i=d&&"category"===d.type?d._categories.length:r(T,o),h[o]=new Array(i),s=0;s<i;s++)h[o][s]=u((y=T,v=g(o),m=x(s),v===l||m===l?l:n(y,v,m)));return h}},61243:function(ee){"use strict";ee.exports={min:"zmin",max:"zmax"}},68296:function(ee,D,e){"use strict";var A=e(71828),k=e(50606).BADNUM,l=e(42973);ee.exports=function(T,b,d,a,t,i){var r=T._length,n=b.makeCalcdata(T,a),o=d.makeCalcdata(T,t);n=l(T,b,a,n).vals,o=l(T,d,t,o).vals;var s,u,p,c,x=T.text,g=void 0!==x&&A.isArray1D(x),h=T.hovertext,y=void 0!==h&&A.isArray1D(h),v=A.distinctVals(n),m=v.vals,_=A.distinctVals(o),f=_.vals,S=[],w=f.length,E=m.length;for(s=0;s<i.length;s++)S[s]=A.init2dArray(w,E);g&&(p=A.init2dArray(w,E)),y&&(c=A.init2dArray(w,E));var L=A.init2dArray(w,E);for(s=0;s<r;s++)if(n[s]!==k&&o[s]!==k){var C=A.findBin(n[s]+v.minDiff/2,m),O=A.findBin(o[s]+_.minDiff/2,f);for(u=0;u<i.length;u++)S[u][O][C]=T[i[u]][s],L[O][C]=s;g&&(p[O][C]=x[s]),y&&(c[O][C]=h[s])}for(T["_"+a]=m,T["_"+t]=f,u=0;u<i.length;u++)T["_"+i[u]]=S[u];g&&(T._text=p),y&&(T._hovertext=c),b&&"category"===b.type&&(T["_"+a+"CategoryMap"]=m.map(function(q){return b._categories[q]})),d&&"category"===d.type&&(T["_"+t+"CategoryMap"]=f.map(function(q){return d._categories[q]})),T._after2before=L}},76382:function(ee,D,e){"use strict";var A=e(71828),k=e(67684),l=e(58623),T=e(73927),b=e(49901),d=e(1586),a=e(21606);ee.exports=function(t,i,r,n){function o(s,u){return A.coerce(t,i,a,s,u)}k(t,i,o,n)?(T(t,i,n,o),o("xhoverformat"),o("yhoverformat"),o("text"),o("hovertext"),o("hovertemplate"),l(o,n),b(t,i,o,n),o("hoverongaps"),o("connectgaps",A.isArray1D(i.z)&&!1!==i.zsmooth),d(t,i,n,o,{prefix:"",cLetter:"z"})):i.visible=!1}},43907:function(ee,D,e){"use strict";var A=e(71828).maxRowLength;ee.exports=function(k){var l,T,b,d,a,t,i,r,n=[],o={},s=[],u=k[0],p=[],c=[0,0,0],x=A(k);for(T=0;T<k.length;T++)for(l=p,p=u,u=k[T+1]||[],b=0;b<x;b++)void 0===p[b]&&((t=(void 0!==p[b-1]?1:0)+(void 0!==p[b+1]?1:0)+(void 0!==l[b]?1:0)+(void 0!==u[b]?1:0))?(0===T&&t++,0===b&&t++,T===k.length-1&&t++,b===p.length-1&&t++,t<4&&(o[[T,b]]=[T,b,t]),n.push([T,b,t])):s.push([T,b]));for(;s.length;){for(i={},r=!1,a=s.length-1;a>=0;a--)(t=((o[[(T=(d=s[a])[0])-1,b=d[1]]]||c)[2]+(o[[T+1,b]]||c)[2]+(o[[T,b-1]]||c)[2]+(o[[T,b+1]]||c)[2])/20)&&(i[d]=[T,b,t],s.splice(a,1),r=!0);if(!r)throw"findEmpties iterated with no new neighbors";for(d in i)o[d]=i[d],n.push(i[d])}return n.sort(function(g,h){return h[2]-g[2]})}},46248:function(ee,D,e){"use strict";var A=e(30211),k=e(71828),l=e(89298),T=e(21081).extractOpts;ee.exports=function(b,d,a,t,i){i||(i={});var r,n,o,s,u=i.isContour,p=b.cd[0],c=p.trace,x=b.xa,g=b.ya,h=p.x,y=p.y,v=p.z,m=p.xCenter,_=p.yCenter,f=p.zmask,S=c.zhoverformat,w=h,E=y;if(!1!==b.index){try{o=Math.round(b.index[1]),s=Math.round(b.index[0])}catch{return void k.error("Error hovering on heatmap, pointNumber must be [row,col], found:",b.index)}if(o<0||o>=v[0].length||s<0||s>v.length)return}else{if(A.inbox(d-h[0],d-h[h.length-1],0)>0||A.inbox(a-y[0],a-y[y.length-1],0)>0)return;if(u){var L;for(w=[2*h[0]-h[1]],L=1;L<h.length;L++)w.push((h[L]+h[L-1])/2);for(w.push([2*h[h.length-1]-h[h.length-2]]),E=[2*y[0]-y[1]],L=1;L<y.length;L++)E.push((y[L]+y[L-1])/2);E.push([2*y[y.length-1]-y[y.length-2]])}o=Math.max(0,Math.min(w.length-2,k.findBin(d,w))),s=Math.max(0,Math.min(E.length-2,k.findBin(a,E)))}var C,O,R=x.c2p(h[o]),q=x.c2p(h[o+1]),P=g.c2p(y[s]),U=g.c2p(y[s+1]);u?(q=R,r=(C=p.orig_x||h)[o],U=P,n=(O=p.orig_y||y)[s]):(C=p.orig_x||m||h,O=p.orig_y||_||y,r=m?C[o]:(C[o]+C[o+1])/2,n=_?O[s]:(O[s]+O[s+1])/2,x&&"category"===x.type&&(r=h[o]),g&&"category"===g.type&&(n=y[s]),c.zsmooth&&(R=q=x.c2p(r),P=U=g.c2p(n)));var N=v[s][o];if(f&&!f[s][o]&&(N=void 0),void 0!==N||c.hoverongaps){var F;Array.isArray(p.hovertext)&&Array.isArray(p.hovertext[s])?F=p.hovertext[s][o]:Array.isArray(p.text)&&Array.isArray(p.text[s])&&(F=p.text[s][o]);var j=T(c),te=l.tickText({type:"linear",range:[j.min,j.max],hoverformat:S,_separators:x._separators,_numFormat:x._numFormat},N,"hover").text;return[k.extendFlat(b,{index:c._after2before?c._after2before[s][o]:[s,o],distance:b.maxHoverDistance,spikeDistance:b.maxSpikeDistance,x0:R,x1:q,y0:P,y1:U,xLabelVal:r,yLabelVal:n,zLabelVal:N,zLabel:te,text:F})]}}},92165:function(ee,D,e){"use strict";ee.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(ee,D,e){"use strict";var A=e(71828),k=[[-1,0],[1,0],[0,-1],[0,1]];function l(b){return.5-.25*Math.min(1,.5*b)}function T(b,d,a){var t,i,r,n,o,s,u,p,c,x,g,h,y,v=0;for(n=0;n<d.length;n++){for(g=b[i=(t=d[n])[0]][r=t[1]],x=0,c=0,o=0;o<4;o++)(u=b[i+(s=k[o])[0]])&&void 0!==(p=u[r+s[1]])&&(0===x?h=y=p:(h=Math.min(h,p),y=Math.max(y,p)),c++,x+=p);if(0===c)throw"iterateInterp2d order is wrong: no defined neighbors";b[i][r]=x/c,void 0===g?c<4&&(v=1):(b[i][r]=(1+a)*b[i][r]-a*g,y>h&&(v=Math.max(v,Math.abs(b[i][r]-g)/(y-h))))}return v}ee.exports=function(b,d){var a,t=1;for(T(b,d),a=0;a<d.length&&!(d[a][2]<4);a++);for(d=d.slice(a),a=0;a<100&&t>.01;a++)t=T(b,d,l(t));return t>.01&&A.log("interp2d didn't converge quickly",t),b}},58623:function(ee,D,e){"use strict";var A=e(71828);ee.exports=function(k,l){k("texttemplate");var T=A.extendFlat({},l.font,{color:"auto",size:"auto"});A.coerceFont(k,"textfont",T)}},70769:function(ee,D,e){"use strict";var A=e(73972),k=e(71828).isArrayOrTypedArray;ee.exports=function(l,T,b,d,a,t){var i,r,n,o=[],s=A.traceIs(l,"contour"),u=A.traceIs(l,"histogram"),p=A.traceIs(l,"gl2d");if(k(T)&&T.length>1&&!u&&"category"!==t.type){var c=T.length;if(!(c<=a))return T.slice(0,s?a:a+1);if(s||p)o=T.slice(0,a);else if(1===a)o=[T[0]-.5,T[0]+.5];else{for(o=[1.5*T[0]-.5*T[1]],n=1;n<c;n++)o.push(.5*(T[n-1]+T[n]));o.push(1.5*T[c-1]-.5*T[c-2])}if(c<a){var x=o[o.length-1],g=x-o[o.length-2];for(n=c;n<a;n++)o.push(x+=g)}}else{var h=l[t._id.charAt(0)+"calendar"];for(i=u?t.r2c(b,0,h):k(T)&&1===T.length?T[0]:void 0===b?0:("log"===t.type?t.d2c:t.r2c)(b,0,h),r=d||1,n=s||p?0:-.5;n<a;n++)o.push(i+r*n)}return o}},50347:function(ee,D,e){"use strict";var A=e(39898),k=e(84267),l=e(73972),T=e(91424),b=e(89298),d=e(71828),a=e(63893),t=e(8225),i=e(7901),r=e(21081).extractOpts,n=e(21081).makeColorScaleFuncFromTrace,o=e(77922),s=e(18783).LINE_SPACING,u=e(3883),p=e(32396).STYLE,c="heatmap-label";function x(m){return m.selectAll("g."+c)}function g(m){x(m).remove()}function h(m,_){var f=_.length-2,S=d.constrain(d.findBin(m,_),0,f),w=_[S],L=d.constrain(S+(m-w)/(_[S+1]-w)-.5,0,f),C=Math.round(L),O=Math.abs(L-C);return L&&L!==f&&O?{bin0:C,frac:O,bin1:Math.round(C+O/(L-C))}:{bin0:C,bin1:C,frac:0}}function y(m,_){var f=_.length-1,S=d.constrain(d.findBin(m,_),0,f),w=_[S],E=(m-w)/(_[S+1]-w)||0;return E<=0?{bin0:S,bin1:S,frac:0}:E<.5?{bin0:S,bin1:S+1,frac:E}:{bin0:S+1,bin1:S,frac:1-E}}function v(m,_,f){m[_]=f[0],m[_+1]=f[1],m[_+2]=f[2],m[_+3]=Math.round(255*f[3])}ee.exports=function(m,_,f,S){var w=_.xaxis,E=_.yaxis;d.makeTraceGroups(S,f,"hm").each(function(L){var C,O,R,q,P,U,N,F,j=A.select(this),G=L[0],te=G.trace,J=te.xgap||0,X=te.ygap||0,Y=G.z,W=G.x,$=G.y,ne=G.xCenter,re=G.yCenter,oe=l.traceIs(te,"contour"),ue=oe?"best":te.zsmooth,xe=Y.length,Me=d.maxRowLength(Y),me=!1,pe=!1;for(U=0;void 0===C&&U<W.length-1;)C=w.c2p(W[U]),U++;for(U=W.length-1;void 0===O&&U>0;)O=w.c2p(W[U]),U--;for(O<C&&(R=O,O=C,C=R,me=!0),U=0;void 0===q&&U<$.length-1;)q=E.c2p($[U]),U++;for(U=$.length-1;void 0===P&&U>0;)P=E.c2p($[U]),U--;P<q&&(R=q,q=P,P=R,pe=!0),oe&&(ne=W,re=$,W=G.xfill,$=G.yfill);var ge="default";if(ue?ge="best"===ue?"smooth":"fast":te._islinear&&0===J&&0===X&&u()&&(ge="fast"),"fast"!==ge){var Pe="best"===ue?0:.5;C=Math.max(-Pe*w._length,C),O=Math.min((1+Pe)*w._length,O),q=Math.max(-Pe*E._length,q),P=Math.min((1+Pe)*E._length,P)}var _e,we,se=Math.round(O-C),ae=Math.round(P-q);if(C>=w._length||O<=0||q>=E._length||P<=0)return j.selectAll("image").data([]).exit().remove(),void g(j);"fast"===ge?(_e=Me,we=xe):(_e=se,we=ae);var fe=document.createElement("canvas");fe.width=_e,fe.height=we;var Ee,ke,be=fe.getContext("2d",{willReadFrequently:!0}),Ie=n(te,{noNumericCheck:!0,returnArray:!0});"fast"===ge?(Ee=me?function(Ft){return Me-1-Ft}:d.identity,ke=pe?function(Ft){return xe-1-Ft}:d.identity):(Ee=function(Ft){return d.constrain(Math.round(w.c2p(W[Ft])-C),0,se)},ke=function(Ft){return d.constrain(Math.round(E.c2p($[Ft])-q),0,ae)});var Fe,ce,Te,ve,Ce=ke(0),Re=[Ce,Ce],Oe=me?0:1,je=pe?0:1,qe=0,Je=0,it=0,Qe=0;function dt(Ft,tn){if(void 0!==Ft){var cn=Ie(Ft);return cn[0]=Math.round(cn[0]),cn[1]=Math.round(cn[1]),cn[2]=Math.round(cn[2]),qe+=tn,Je+=cn[0]*tn,it+=cn[1]*tn,Qe+=cn[2]*tn,cn}return[0,0,0,0]}function yt(Ft,tn,cn,dn){var kn=Ft[cn.bin0];if(void 0===kn)return dt(void 0,1);var In=Ft[cn.bin1],Dn=tn[cn.bin0],Kn=tn[cn.bin1];return dt(kn+cn.frac*(In-kn||0)+dn.frac*((Dn-kn||0)+cn.frac*(void 0===In?void 0===Kn?0:void 0===Dn?2*(Kn-kn):2*(2*Kn-Dn-kn)/3:void 0===Kn?void 0===Dn?0:2*(2*kn-In-Dn)/3:void 0===Dn?2*(2*Kn-In-kn)/3:Kn+kn-In-Dn)))}if("default"!==ge){var mt,at=0;try{mt=new Uint8Array(_e*we*4)}catch{mt=new Array(_e*we*4)}if("smooth"===ge){var st,Tt,At,Pt=ne||W,kt=re||$,Ze=new Array(Pt.length),Xe=new Array(kt.length),He=new Array(se),We=ne?y:h,rt=re?y:h;for(U=0;U<Pt.length;U++)Ze[U]=Math.round(w.c2p(Pt[U])-C);for(U=0;U<kt.length;U++)Xe[U]=Math.round(E.c2p(kt[U])-q);for(U=0;U<se;U++)He[U]=We(U,Ze);for(N=0;N<ae;N++)for(Tt=Y[(st=rt(N,Xe)).bin0],At=Y[st.bin1],U=0;U<se;U++,at+=4)v(mt,at,ve=yt(Tt,At,He[U],st))}else for(N=0;N<xe;N++)for(Te=Y[N],Re=ke(N),U=0;U<Me;U++)ve=dt(Te[U],1),v(mt,at=4*(Re*Me+Ee(U)),ve);var nt=be.createImageData(_e,we);try{nt.data.set(mt)}catch{var ze=nt.data,Be=ze.length;for(N=0;N<Be;N++)ze[N]=mt[N]}be.putImageData(nt,0,0)}else{var tt=Math.floor(J/2),et=Math.floor(X/2);for(N=0;N<xe;N++)if(Te=Y[N],Re.reverse(),Re[je]=ke(N+1),Re[0]!==Re[1]&&void 0!==Re[0]&&void 0!==Re[1])for(Fe=[ce=Ee(0),ce],U=0;U<Me;U++)Fe.reverse(),Fe[Oe]=Ee(U+1),Fe[0]!==Fe[1]&&void 0!==Fe[0]&&void 0!==Fe[1]&&(ve=dt(Te[U],(Fe[1]-Fe[0])*(Re[1]-Re[0])),be.fillStyle="rgba("+ve.join(",")+")",be.fillRect(Fe[0]+tt,Re[0]+et,Fe[1]-Fe[0]-J,Re[1]-Re[0]-X))}Je=Math.round(Je/qe),it=Math.round(it/qe),Qe=Math.round(Qe/qe);var gt=k("rgb("+Je+","+it+","+Qe+")");m._hmpixcount=(m._hmpixcount||0)+qe,m._hmlumcount=(m._hmlumcount||0)+qe*gt.getLuminance();var pt=j.selectAll("image").data(L);pt.enter().append("svg:image").attr({xmlns:o.svg,preserveAspectRatio:"none"}),pt.attr({height:ae,width:se,x:C,y:q,"xlink:href":fe.toDataURL("image/png")}),"fast"!==ge||ue||pt.attr("style",p),g(j);var vt=te.texttemplate;if(vt){var ut=r(te),wt={type:"linear",range:[ut.min,ut.max],_separators:w._separators,_numFormat:w._numFormat},ct="histogram2dcontour"===te.type,ft="contour"===te.type,bt=ft?xe-1:xe,It=ft?1:0,Dt=ft?Me-1:Me,Nt=[];for(U=ft?1:0;U<bt;U++){var $t;if(ft)$t=G.y[U];else if(ct){if(0===U||U===xe-1)continue;$t=G.y[U]}else if(G.yCenter)$t=G.yCenter[U];else{if(U+1===xe&&void 0===G.y[U+1])continue;$t=(G.y[U]+G.y[U+1])/2}var jt=Math.round(E.c2p($t));if(!(0>jt||jt>E._length))for(N=It;N<Dt;N++){var Yt;if(ft)Yt=G.x[N];else if(ct){if(0===N||N===Me-1)continue;Yt=G.x[N]}else if(G.xCenter)Yt=G.xCenter[N];else{if(N+1===Me&&void 0===G.x[N+1])continue;Yt=(G.x[N]+G.x[N+1])/2}var Gt=Math.round(w.c2p(Yt));if(!(0>Gt||Gt>w._length)){var hn=t({x:Yt,y:$t},te,m._fullLayout);hn.x=Yt,hn.y=$t;var yn=G.z[U][N];void 0===yn?(hn.z="",hn.zLabel=""):(hn.z=yn,hn.zLabel=b.tickText(wt,yn,"hover").text);var on=G.text&&G.text[U]&&G.text[U][N];void 0!==on&&!1!==on||(on=""),hn.text=on;var Ut=d.texttemplateString(vt,hn,m._fullLayout._d3locale,hn,te._meta||{});if(Ut){var nn=Ut.split("<br>"),Xt=nn.length,rn=0;for(F=0;F<Xt;F++)rn=Math.max(rn,nn[F].length);Nt.push({l:Xt,c:rn,t:Ut,x:Gt,y:jt,z:yn})}}}}var fn=te.textfont,gn=fn.family,An=fn.size,En=m._fullLayout.font.size;if(!An||"auto"===An){var bn=1/0,Ln=1/0,Wn=0,Qn=0;for(F=0;F<Nt.length;F++){var ir=Nt[F];if(Wn=Math.max(Wn,ir.l),Qn=Math.max(Qn,ir.c),F<Nt.length-1){var $n=Nt[F+1],qn=Math.abs($n.x-ir.x),dr=Math.abs($n.y-ir.y);qn&&(bn=Math.min(bn,qn)),dr&&(Ln=Math.min(Ln,dr))}}isFinite(bn)&&isFinite(Ln)?(bn-=J,Ln-=X,bn/=Qn,Ln/=Wn,bn/=s/2,Ln/=s,An=Math.min(Math.floor(bn),Math.floor(Ln),En)):An=En}if(An<=0||!isFinite(An))return;x(j).data(Nt).enter().append("g").classed(c,1).append("text").attr("text-anchor","middle").each(function(Ft){var dn,tn=A.select(this),cn=fn.color;cn&&"auto"!==cn||(cn=i.contrast("rgba("+Ie(Ft.z).join()+")")),tn.attr("data-notex",1).call(a.positionText,(dn=Ft,dn.x),function(dn){return dn.y-An*(dn.l*s/2-1)}(Ft)).call(T.font,gn,An,cn).text(Ft.t).call(a.convertToTspans,m)})}})}},70035:function(ee,D,e){"use strict";var A=e(39898);ee.exports=function(k){A.select(k).selectAll(".hm image").style("opacity",function(l){return l.trace.opacity})}},49901:function(ee){"use strict";ee.exports=function(D,e,A){!1===A("zsmooth")&&(A("xgap"),A("ygap")),A("zhoverformat")}},67684:function(ee,D,e){"use strict";var A=e(92770),k=e(71828),l=e(73972);function T(b,d){var a=d(b);return"scaled"===(a?d(b+"type","array"):"scaled")&&(d(b+"0"),d("d"+b)),a}ee.exports=function(b,d,a,t,i,r){var n,o,s=a("z");if(i=i||"x",r=r||"y",void 0===s||!s.length)return 0;if(k.isArray1D(b.z)){n=a(i),o=a(r);var u=k.minRowLength(n),p=k.minRowLength(o);if(0===u||0===p)return 0;d._length=Math.min(u,p,s.length)}else{if(n=T(i,a),o=T(r,a),!function(c){for(var x,g=!0,h=!1,y=!1,v=0;v<c.length;v++){if(!k.isArrayOrTypedArray(x=c[v])){g=!1;break}x.length>0&&(h=!0);for(var m=0;m<x.length;m++)if(A(x[m])){y=!0;break}}return g&&h&&y}(s))return 0;a("transpose"),d._length=null}return"heatmapgl"===b.type||l.getComponentMethod("calendars","handleTraceDefaults")(b,d,[i,r],t),!0}},16063:function(ee,D,e){"use strict";for(var A=e(21606),k=e(50693),l=e(1426).extendFlat,T=e(30962).overrideAll,b=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],d={},a=0;a<b.length;a++){var t=b[a];d[t]=A[t]}d.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},l(d,k("",{cLetter:"z",autoColorDflt:!1})),ee.exports=T(d,"calc","nested")},59560:function(ee,D,e){"use strict";var A=e(9330).gl_heatmap2d,k=e(89298),l=e(78614);function T(d,a){this.scene=d,this.uid=a,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=A(d.glplot,this.options),this.heatmap._trace=this}var b=T.prototype;b.handlePick=function(d){var a=this.options,t=a.shape,i=d.pointId,r=i%t[0],n=Math.floor(i/t[0]);return{trace:this,dataCoord:d.dataCoord,traceCoord:[a.x[r],a.y[n],a.z[i]],textLabel:this.textLabels[i],name:this.name,pointIndex:[n,r],hoverinfo:this.hoverinfo}},b.update=function(d,a){var t=a[0];this.index=d.index,this.name=d.name,this.hoverinfo=d.hoverinfo;var i=t.z;this.options.z=[].concat.apply([],i),this.options.shape=[i[0].length,i.length],this.options.x=t.x,this.options.y=t.y,this.options.zsmooth=d.zsmooth;var o=function(x){for(var g=x.colorscale,h=x.zmin,y=x.zmax,v=g.length,m=new Array(v),_=new Array(4*v),f=0;f<v;f++){var S=g[f],w=l(S[1]);m[f]=h+S[0]*(y-h);for(var E=0;E<4;E++)_[4*f+E]=w[E]}return{colorLevels:m,colorValues:_}}(d);this.options.colorLevels=o.colorLevels,this.options.colorValues=o.colorValues,this.textLabels=[].concat.apply([],d.text),this.heatmap.update(this.options);var s,u,p=this.scene.xaxis,c=this.scene.yaxis;!1===d.zsmooth&&(s={ppad:t.x[1]-t.x[0]},u={ppad:t.y[1]-t.y[0]}),d._extremes[p._id]=k.findExtremes(p,t.x,s),d._extremes[c._id]=k.findExtremes(c,t.y,u)},b.dispose=function(){this.heatmap.dispose()},ee.exports=function(d,a,t){var i=new T(d,a.uid);return i.update(a,t),i}},19600:function(ee,D,e){"use strict";var A=e(71828),k=e(67684),l=e(1586),T=e(16063);ee.exports=function(b,d,a,t){function i(r,n){return A.coerce(b,d,T,r,n)}k(b,d,i,t)?(i("text"),i("zsmooth"),l(b,d,t,i,{prefix:"",cLetter:"z"})):d.visible=!1}},3325:function(ee,D,e){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),ee.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(ee,D,e){"use strict";var A=e(1486),k=e(12663).axisHoverFormat,l=e(5386).fF,T=e(5386).si,b=e(41940),d=e(17656),a=e(72406),t=e(1426).extendFlat;ee.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:k("x"),yhoverformat:k("y"),text:t({},A.text,{}),hovertext:t({},A.hovertext,{}),orientation:A.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:d("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:d("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:l({},{keys:a.eventDataKeys}),texttemplate:T({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},A.textposition,{arrayOk:!1}),textfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:A.insidetextanchor,textangle:A.textangle,cliponaxis:A.cliponaxis,constraintext:A.constraintext,marker:A.marker,offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,selected:A.selected,unselected:A.unselected,_deprecated:{bardir:A._deprecated.bardir}}},42174:function(ee){"use strict";ee.exports=function(D,e){for(var A=D.length,k=0,l=0;l<A;l++)e[l]?(D[l]/=e[l],k+=D[l]):D[l]=null;return k}},17656:function(ee){"use strict";ee.exports=function(D,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(ee,D,e){"use strict";var A=e(92770);ee.exports={count:function(k,l,T){return T[k]++,1},sum:function(k,l,T,b){var d=b[l];return A(d)?(d=Number(d),T[k]+=d,d):0},avg:function(k,l,T,b,d){var a=b[l];return A(a)&&(a=Number(a),T[k]+=a,d[k]++),0},min:function(k,l,T,b){var d=b[l];if(A(d)){if(d=Number(d),!A(T[k]))return T[k]=d,d;if(T[k]>d){var a=d-T[k];return T[k]=d,a}}return 0},max:function(k,l,T,b){var d=b[l];if(A(d)){if(d=Number(d),!A(T[k]))return T[k]=d,d;if(T[k]<d){var a=d-T[k];return T[k]=d,a}}return 0}}},40965:function(ee,D,e){"use strict";var A=e(50606),k=A.ONEAVGYEAR,l=A.ONEAVGMONTH,T=A.ONEDAY,b=A.ONEHOUR,d=A.ONEMIN,a=A.ONESEC,t=e(89298).tickIncrement;function i(s,u,p,c){if(s*u<=0)return 1/0;for(var x=Math.abs(u-s),g="date"===p.type,h=r(x,g),y=0;y<10;y++){var v=r(80*h,g);if(h===v||!n(v,s,u,g,p,c))break;h=v}return h}function r(s,u){return u&&s>a?s>T?s>1.1*k?k:s>1.1*l?l:T:s>b?b:s>d?d:a:Math.pow(10,Math.floor(Math.log(s)/Math.LN10))}function n(s,u,p,c,x,g){if(c&&s>T){var h=o(u,x,g),y=o(p,x,g),v=s===k?0:1;return h[v]!==y[v]}return Math.floor(p/s)-Math.floor(u/s)>.1}function o(s,u,p){var c=u.c2d(s,k,p).split("-");return""===c[0]&&(c.unshift(),c[0]="-"+c[0]),c}ee.exports=function(s,u,p,c,x){var g,h,y=-1.1*u,v=-.1*u,m=s-v,_=p[0],f=p[1],S=Math.min(i(_+v,_+m,c,x),i(f+v,f+m,c,x)),w=Math.min(i(_+y,_+v,c,x),i(f+y,f+v,c,x));if(S>w&&w<Math.abs(f-_)/4e3?(g=S,h=!1):(g=Math.min(S,w),h=!0),"date"===c.type&&g>T){var E=g===k?1:6,L=g===k?"M12":"M1";return function(C,O){var R=c.c2d(C,k,x),q=R.indexOf("-",E);q>0&&(R=R.substr(0,q));var P=c.d2c(R,0,x);if(P<C){var U=t(P,L,!1,x);(P+U)/2<C+s&&(P=U)}return O&&h?t(P,L,!0,x):P}}return function(C,O){var R=g*Math.round(C/g);return R+g/10<C&&R+.9*g<C+s&&(R+=g),O&&h&&(R-=g),R}}},72138:function(ee,D,e){"use strict";var A=e(92770),k=e(71828),l=e(73972),T=e(89298),b=e(75341),d=e(59575),a=e(36362),t=e(42174),i=e(40965);function r(n,o,s,u,p){var c,x,g,h,y,v,m,_=u+"bins",f=n._fullLayout,w=f._histogramBinOpts[o["_"+u+"bingroup"]],E="overlay"===f.barmode,L=function(pe){return s.r2c(pe,0,h)},C=function(pe){return s.c2r(pe,0,h)},O="date"===s.type?function(pe){return pe||0===pe?k.cleanDate(pe,null,h):null}:function(pe){return A(pe)?Number(pe):null};function R(pe,ge,Pe){ge[pe+"Found"]?(ge[pe]=O(ge[pe]),null===ge[pe]&&(ge[pe]=Pe[pe])):(v[pe]=ge[pe]=Pe[pe],k.nestedProperty(x[0],_+"."+pe).set(Pe[pe]))}if(o["_"+u+"autoBinFinished"])delete o["_"+u+"autoBinFinished"];else{x=w.traces;var q=[],P=!0,U=!1,N=!1;for(c=0;c<x.length;c++)if((g=x[c]).visible){var F=w.dirs[c];y=g["_"+F+"pos0"]=s.makeCalcdata(g,F),q=k.concat(q,y),delete g["_"+u+"autoBinFinished"],!0===o.visible&&(P?P=!1:(delete g._autoBin,g["_"+u+"autoBinFinished"]=1),l.traceIs(g,"2dMap")&&(U=!0),"histogram2dcontour"===g.type&&(N=!0))}var j=T.autoBin(q,s,w.nbins,U,h=x[0][u+"calendar"],w.sizeFound&&w.size),G=x[0]._autoBin={};if(v=G[w.dirs[0]]={},N&&(w.size||(j.start=C(T.tickIncrement(L(j.start),j.size,!0,h))),void 0===w.end&&(j.end=C(T.tickIncrement(L(j.end),j.size,!1,h)))),E&&!l.traceIs(o,"2dMap")&&0===j._dataSpan&&"category"!==s.type&&"multicategory"!==s.type&&""===o.bingroup&&void 0===o.xbins){if(p)return[j,y,!0];j=function(pe,ge,Pe,_e,we){var se,ae,fe,Ee=pe._fullLayout,ke=function(Je,it){for(var Qe=it.xaxis,dt=it.yaxis,yt=it.orientation,mt=[],at=Je._fullData,st=0;st<at.length;st++){var Tt=at[st];"histogram"===Tt.type&&!0===Tt.visible&&Tt.orientation===yt&&Tt.xaxis===Qe&&Tt.yaxis===dt&&mt.push(Tt)}return mt}(pe,ge),be=!1,Ie=1/0,Fe=[ge];for(se=0;se<ke.length;se++)if((ae=ke[se])===ge)be=!0;else if(be){var ce=r(pe,ae,Pe,_e,!0),Te=ce[0],ve=ce[2];ae["_"+_e+"autoBinFinished"]=1,ae["_"+_e+"pos0"]=ce[1],ve?Fe.push(ae):Ie=Math.min(Ie,Te.size)}else fe=Ee._histogramBinOpts[ae["_"+_e+"bingroup"]],Ie=Math.min(Ie,fe.size||ae[we].size);var Ce=new Array(Fe.length);for(se=0;se<Fe.length;se++)for(var Re=Fe[se]["_"+_e+"pos0"],Oe=0;Oe<Re.length;Oe++)if(void 0!==Re[Oe]){Ce[se]=Re[Oe];break}for(isFinite(Ie)||(Ie=k.distinctVals(Ce).minDiff),se=0;se<Fe.length;se++){var je=(ae=Fe[se])[_e+"calendar"],qe={start:Pe.c2r(Ce[se]-Ie/2,0,je),end:Pe.c2r(Ce[se]+Ie/2,0,je),size:Ie};ae._input[we]=ae[we]=qe,(fe=Ee._histogramBinOpts[ae["_"+_e+"bingroup"]])&&k.extendFlat(fe,qe)}return ge[we]}(n,o,s,u,_)}(m=g.cumulative||{}).enabled&&"include"!==m.currentbin&&("decreasing"===m.direction?j.start=C(T.tickIncrement(L(j.start),j.size,!0,h)):j.end=C(T.tickIncrement(L(j.end),j.size,!1,h))),w.size=j.size,w.sizeFound||(v.size=j.size,k.nestedProperty(x[0],_+".size").set(j.size)),R("start",w,j),R("end",w,j)}y=o["_"+u+"pos0"],delete o["_"+u+"pos0"];var te=o._input[_]||{},J=k.extendFlat({},w),X=w.start,Y=s.r2l(te.start),W=void 0!==Y;if((w.startFound||W)&&Y!==s.r2l(X)){var $=W?Y:k.aggNums(Math.min,null,y),ne={type:"category"===s.type||"multicategory"===s.type?"linear":s.type,r2l:s.r2l,dtick:w.size,tick0:X,calendar:h,range:[$,T.tickIncrement($,w.size,!1,h)].map(s.l2r)},re=T.tickFirst(ne);re>s.r2l($)&&(re=T.tickIncrement(re,w.size,!0,h)),J.start=s.l2r(re),W||k.nestedProperty(o,_+".start").set(J.start)}var oe=w.end,ue=s.r2l(te.end),xe=void 0!==ue;if((w.endFound||xe)&&ue!==s.r2l(oe)){var Me=xe?ue:k.aggNums(Math.max,null,y);J.end=s.l2r(Me),xe||k.nestedProperty(o,_+".start").set(J.end)}var me="autobin"+u;return!1===o._input[me]&&(o._input[_]=k.extendFlat({},o[_]||{}),delete o._input[me],delete o[me]),[J,y]}ee.exports={calc:function(n,o){var s,u,p,c,x=[],g=[],h="h"===o.orientation,y=T.getFromId(n,h?o.yaxis:o.xaxis),v=h?"y":"x",m={x:"y",y:"x"}[v],_=o[v+"calendar"],f=o.cumulative,S=r(n,o,y,v),w=S[0],E=S[1],L="string"==typeof w.size,C=[],O=L?C:w,R=[],q=[],P=[],U=0,N=o.histnorm,F=o.histfunc,j=-1!==N.indexOf("density");f.enabled&&j&&(N=N.replace(/ ?density$/,""),j=!1);var G,te="max"===F||"min"===F?null:0,J=d.count,X=a[N],Y=!1,W=function(ae){return y.r2c(ae,0,_)};for(k.isArrayOrTypedArray(o[m])&&"count"!==F&&(G=o[m],Y="avg"===F,J=d[F]),s=W(w.start),p=W(w.end)+(s-T.tickIncrement(s,w.size,!1,_))/1e6;s<p&&x.length<1e6&&(u=T.tickIncrement(s,w.size,!1,_),x.push((s+u)/2),g.push(te),P.push([]),C.push(s),j&&R.push(1/(u-s)),Y&&q.push(0),!(u<=s));)s=u;C.push(s),L||"date"!==y.type||(O={start:W(O.start),end:W(O.end),size:O.size}),n._fullLayout._roundFnOpts||(n._fullLayout._roundFnOpts={});var $=o["_"+v+"bingroup"],ne={leftGap:1/0,rightGap:1/0};$&&(n._fullLayout._roundFnOpts[$]||(n._fullLayout._roundFnOpts[$]=ne),ne=n._fullLayout._roundFnOpts[$]);var re,oe=g.length,ue=!0,xe=ne.leftGap,Me=ne.rightGap,me={};for(s=0;s<E.length;s++){var pe=E[s];(c=k.findBin(pe,O))>=0&&c<oe&&(U+=J(c,s,g,G,q),ue&&P[c].length&&pe!==E[P[c][0]]&&(ue=!1),P[c].push(s),me[s]=c,xe=Math.min(xe,pe-C[c]),Me=Math.min(Me,C[c+1]-pe))}ne.leftGap=xe,ne.rightGap=Me,ue||(re=function(ae,fe){return function(){var Ee=n._fullLayout._roundFnOpts[$];return i(Ee.leftGap,Ee.rightGap,C,y,_)(ae,fe)}}),Y&&(U=t(g,q)),X&&X(g,U,R),f.enabled&&function(ae,fe,Ee){var ke,be,Ie;function Fe(Te){Ie=ae[Te],ae[Te]/=2}function ce(Te){ae[Te]=Ie+(be=ae[Te])/2,Ie+=be}if("half"===Ee)if("increasing"===fe)for(Fe(0),ke=1;ke<ae.length;ke++)ce(ke);else for(Fe(ae.length-1),ke=ae.length-2;ke>=0;ke--)ce(ke);else if("increasing"===fe){for(ke=1;ke<ae.length;ke++)ae[ke]+=ae[ke-1];"exclude"===Ee&&(ae.unshift(0),ae.pop())}else{for(ke=ae.length-2;ke>=0;ke--)ae[ke]+=ae[ke+1];"exclude"===Ee&&(ae.push(0),ae.shift())}}(g,f.direction,f.currentbin);var ge=Math.min(x.length,g.length),Pe=[],_e=0,we=ge-1;for(s=0;s<ge;s++)if(g[s]){_e=s;break}for(s=ge-1;s>=_e;s--)if(g[s]){we=s;break}for(s=_e;s<=we;s++)if(A(x[s])&&A(g[s])){var se={p:x[s],s:g[s],b:0};f.enabled||(se.pts=P[s],ue?se.ph0=se.ph1=P[s].length?E[P[s][0]]:x[s]:(o._computePh=!0,se.ph0=re(C[s]),se.ph1=re(C[s+1],!0))),Pe.push(se)}return 1===Pe.length&&(Pe[0].width1=T.tickIncrement(Pe[0].p,w.size,!1,_)-Pe[0].p),b(Pe,o),k.isArrayOrTypedArray(o.selectedpoints)&&k.tagSelected(Pe,o,me),Pe},calcAllAutoBins:r}},72406:function(ee){"use strict";ee.exports={eventDataKeys:["binNumber"]}},82222:function(ee,D,e){"use strict";var A=e(71828),k=e(41675),l=e(73972).traceIs,T=e(26125),b=A.nestedProperty,d=e(99082).getAxisGroup,a=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];ee.exports=function(i,r){var n,o,s,u,p,c,x,g=r._histogramBinOpts={},h=[],y={},v=[];function m(j,G){return A.coerce(n._input,n,n._module.attributes,j,G)}function _(j){return"v"===j.orientation?"x":"y"}function f(j,G,te){var J=j.uid+"__"+te;G||(G=J);var X=k.getFromTrace({_fullLayout:r},j,te).type,Y=j[te+"calendar"]||"",W=g[G],$=!0;W&&(X===W.axType&&Y===W.calendar?($=!1,W.traces.push(j),W.dirs.push(te)):(G=J,X!==W.axType&&A.warn(["Attempted to group the bins of trace",j.index,"set on a","type:"+X,"axis","with bins on","type:"+W.axType,"axis."].join(" ")),Y!==W.calendar&&A.warn(["Attempted to group the bins of trace",j.index,"set with a",Y,"calendar","with bins",W.calendar?"on a "+W.calendar+" calendar":"w/o a set calendar"].join(" ")))),$&&(g[G]={traces:[j],dirs:[te],axType:X,calendar:j[te+"calendar"]||""}),j["_"+te+"bingroup"]=G}for(p=0;p<i.length;p++)l(n=i[p],"histogram")&&(h.push(n),delete n._xautoBinFinished,delete n._yautoBinFinished,l(n,"2dMap")||T(n._input,n,r,m));var S=r._alignmentOpts||{};for(p=0;p<h.length;p++){if(s="",!l(n=h[p],"2dMap")){if(u=_(n),"group"===r.barmode&&n.alignmentgroup){var E=d(r,n[u+"axis"])+n.orientation;(S[E]||{})[n.alignmentgroup]&&(s=E)}s||"overlay"===r.barmode||(s=d(r,n.xaxis)+d(r,n.yaxis)+_(n))}s?(y[s]||(y[s]=[]),y[s].push(n)):v.push(n)}for(s in y)if(1!==(o=y[s]).length){var L=!1;for(o.length&&(n=o[0],L=m("bingroup")),s=L||s,p=0;p<o.length;p++){var C=(n=o[p])._input.bingroup;C&&C!==s&&A.warn(["Trace",n.index,"must match","within bingroup",s+".","Ignoring its bingroup:",C,"setting."].join(" ")),n.bingroup=s,f(n,s,_(n))}}else v.push(o[0]);for(p=0;p<v.length;p++){n=v[p];var O=m("bingroup");if(l(n,"2dMap"))for(x=0;x<2;x++){var R=m((u=t[x])+"bingroup",O?O+"__"+u:null);f(n,R,u)}else f(n,O,_(n))}for(s in g){var q=g[s];for(o=q.traces,c=0;c<a.length;c++){var P,U,N=a[c],F=N.name;if("nbins"!==F||!q.sizeFound){for(p=0;p<o.length;p++){if(void 0!==b((n=o[p])._input,P=N.aStr[u=q.dirs[p]]).get()){q[F]=m(P),q[F+"Found"]=!0;break}(U=(n._autoBin||{})[u]||{})[F]&&b(n,P).set(U[F])}if("start"===F||"end"===F)for(;p<o.length;p++)(n=o[p])["_"+u+"bingroup"]&&m(P,(U=(n._autoBin||{})[u]||{})[F]);"nbins"!==F||q.sizeFound||q.nbinsFound||(n=o[0],q[F]=m(P))}}}}},11385:function(ee,D,e){"use strict";var A=e(73972),k=e(71828),l=e(7901),T=e(90769).handleText,b=e(98340),d=e(7745);ee.exports=function(a,t,i,r){function n(v,m){return k.coerce(a,t,d,v,m)}var o=n("x"),s=n("y");n("cumulative.enabled")&&(n("cumulative.direction"),n("cumulative.currentbin")),n("text");var u=n("textposition");T(a,t,r,n,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),n("hovertext"),n("hovertemplate"),n("xhoverformat"),n("yhoverformat");var p=n("orientation",s&&!o?"h":"v"),c="v"===p?"x":"y",x="v"===p?"y":"x",g=o&&s?Math.min(k.minRowLength(o)&&k.minRowLength(s)):k.minRowLength(t[c]||[]);if(g){t._length=g,A.getComponentMethod("calendars","handleTraceDefaults")(a,t,["x","y"],r),t[x]&&n("histfunc"),n("histnorm"),n("autobin"+c),b(a,t,n,i,r),k.coerceSelectionMarkerOpacity(t,n);var h=(t.marker.line||{}).color,y=A.getComponentMethod("errorbars","supplyDefaults");y(a,t,h||l.defaultLine,{axis:"y"}),y(a,t,h||l.defaultLine,{axis:"x",inherit:"y"})}else t.visible=!1}},84402:function(ee){"use strict";ee.exports=function(D,e,A,k,l){if(D.x="xVal"in e?e.xVal:e.x,D.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(D.z=e.zLabelVal),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),!(A.cumulative||{}).enabled){var T,b=Array.isArray(l)?k[0].pts[l[0]][l[1]]:k[l].pts;if(D.pointNumbers=b,D.binNumber=D.pointNumber,delete D.pointNumber,delete D.pointIndex,A._indexToPoints){T=[];for(var d=0;d<b.length;d++)T=T.concat(A._indexToPoints[b[d]])}else T=b;D.pointIndices=T}return D}},76440:function(ee,D,e){"use strict";var A=e(95423).hoverPoints,k=e(89298).hoverLabelText;ee.exports=function(l,T,b,d,a){var t=A(l,T,b,d,a);if(t){var i=(l=t[0]).cd[l.index],r=l.cd[0].trace;if(!r.cumulative.enabled){var n="h"===r.orientation?"y":"x";l[n+"Label"]=k(l[n+"a"],[i.ph0,i.ph1],r[n+"hoverformat"])}return t}}},36071:function(ee,D,e){"use strict";ee.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(ee){"use strict";ee.exports={percent:function(D,e){for(var A=D.length,k=100/e,l=0;l<A;l++)D[l]*=k},probability:function(D,e){for(var A=D.length,k=0;k<A;k++)D[k]/=e},density:function(D,e,A,k){var l=D.length;k=k||1;for(var T=0;T<l;T++)D[T]*=A[T]*k},"probability density":function(D,e,A,k){var l=D.length;k&&(e/=k);for(var T=0;T<l;T++)D[T]*=A[T]/e}}},35361:function(ee,D,e){"use strict";var A=e(7745),k=e(17656),l=e(21606),T=e(9012),b=e(12663).axisHoverFormat,d=e(5386).fF,a=e(5386).si,t=e(50693),i=e(1426).extendFlat;ee.exports=i({x:A.x,y:A.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:A.histnorm,histfunc:A.histfunc,nbinsx:A.nbinsx,xbins:k("x"),nbinsy:A.nbinsy,ybins:k("y"),autobinx:A.autobinx,autobiny:A.autobiny,bingroup:i({},A.bingroup,{}),xbingroup:i({},A.bingroup,{}),ybingroup:i({},A.bingroup,{}),xgap:l.xgap,ygap:l.ygap,zsmooth:l.zsmooth,xhoverformat:b("x"),yhoverformat:b("y"),zhoverformat:b("z",1),hovertemplate:d({},{keys:"z"}),texttemplate:a({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:l.textfont,showlegend:i({},T.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(ee,D,e){"use strict";var A=e(71828),k=e(89298),l=e(59575),T=e(36362),b=e(42174),d=e(40965),a=e(72138).calcAllAutoBins;function t(n,o,s,u){var p,c=new Array(n);if(u)for(p=0;p<n;p++)c[p]=1/(o[p+1]-o[p]);else{var x=1/s;for(p=0;p<n;p++)c[p]=x}return c}function i(n,o){return{start:n(o.start),end:n(o.end),size:o.size}}function r(n,o,s,u,p,c){var x,g=n.length-1,h=new Array(g),y=d(s,u,n,p,c);for(x=0;x<g;x++){var v=(o||[])[x];h[x]=void 0===v?[y(n[x]),y(n[x+1],!0)]:[v,v]}return h}ee.exports=function(n,o){var s,u,p,c,x=k.getFromId(n,o.xaxis),g=k.getFromId(n,o.yaxis),h=o.xcalendar,y=o.ycalendar,v=function(dt){return x.r2c(dt,0,h)},m=function(dt){return g.r2c(dt,0,y)},_=a(n,o,x,"x"),f=_[0],S=_[1],w=a(n,o,g,"y"),E=w[0],L=w[1],C=o._length;S.length>C&&S.splice(C,S.length-C),L.length>C&&L.splice(C,L.length-C);var O=[],R=[],q=[],P="string"==typeof f.size,U="string"==typeof E.size,N=[],F=[],j=P?N:f,G=U?F:E,te=0,J=[],X=[],Y=o.histnorm,W=o.histfunc,$=-1!==Y.indexOf("density"),ne="max"===W||"min"===W?null:0,re=l.count,oe=T[Y],ue=!1,xe=[],Me=[],me="z"in o?o.z:"marker"in o&&Array.isArray(o.marker.color)?o.marker.color:"";me&&"count"!==W&&(ue="avg"===W,re=l[W]);var pe=f.size,ge=v(f.start),Pe=v(f.end)+(ge-k.tickIncrement(ge,pe,!1,h))/1e6;for(s=ge;s<Pe;s=k.tickIncrement(s,pe,!1,h))R.push(ne),N.push(s),ue&&q.push(0);N.push(s);var we=R.length,se=(s-ge)/we,ae=x.c2r(ge+se/2,0,h),fe=E.size,Ee=m(E.start),ke=m(E.end)+(Ee-k.tickIncrement(Ee,fe,!1,y))/1e6;for(s=Ee;s<ke;s=k.tickIncrement(s,fe,!1,y)){O.push(R.slice()),F.push(s);var be=new Array(we);for(u=0;u<we;u++)be[u]=[];X.push(be),ue&&J.push(q.slice())}F.push(s);var Ie=O.length,Fe=(s-Ee)/Ie,ce=g.c2r(Ee+Fe/2,0,y);$&&(xe=t(R.length,j,se,P),Me=t(O.length,G,Fe,U)),P||"date"!==x.type||(j=i(v,j)),U||"date"!==g.type||(G=i(m,G));var Te=!0,ve=!0,Ce=new Array(we),Re=new Array(Ie),Oe=1/0,je=1/0,qe=1/0,Je=1/0;for(s=0;s<C;s++){var it=S[s],Qe=L[s];p=A.findBin(it,j),c=A.findBin(Qe,G),p>=0&&p<we&&c>=0&&c<Ie&&(te+=re(p,s,O[c],me,J[c]),X[c][p].push(s),Te&&(void 0===Ce[p]?Ce[p]=it:Ce[p]!==it&&(Te=!1)),ve&&(void 0===Re[c]?Re[c]=Qe:Re[c]!==Qe&&(ve=!1)),Oe=Math.min(Oe,it-N[p]),je=Math.min(je,N[p+1]-it),qe=Math.min(qe,Qe-F[c]),Je=Math.min(Je,F[c+1]-Qe))}if(ue)for(c=0;c<Ie;c++)te+=b(O[c],J[c]);if(oe)for(c=0;c<Ie;c++)oe(O[c],te,xe,Me[c]);return{x:S,xRanges:r(N,Te&&Ce,Oe,je,x,h),x0:ae,dx:se,y:L,yRanges:r(F,ve&&Re,qe,Je,g,y),y0:ce,dy:Fe,z:O,pts:X}}},93888:function(ee,D,e){"use strict";var A=e(71828),k=e(75238),l=e(49901),T=e(1586),b=e(58623),d=e(35361);ee.exports=function(a,t,i,r){function n(o,s){return A.coerce(a,t,d,o,s)}k(a,t,n,r),!1!==t.visible&&(l(a,t,n,r),T(a,t,r,n,{prefix:"",cLetter:"z"}),n("hovertemplate"),b(n,r),n("xhoverformat"),n("yhoverformat"))}},76128:function(ee,D,e){"use strict";var A=e(46248),k=e(89298).hoverLabelText;ee.exports=function(l,T,b,d,a){var t=A(l,T,b,d,a);if(t){var i=(l=t[0]).index,o=l.cd[0],s=o.trace,u=o.xRanges[i[1]],p=o.yRanges[i[0]];return l.xLabel=k(l.xa,[u[0],u[1]],s.xhoverformat),l.yLabel=k(l.ya,[p[0],p[1]],s.yhoverformat),t}}},43905:function(ee,D,e){"use strict";ee.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(ee,D,e){"use strict";var A=e(73972),k=e(71828);ee.exports=function(l,T,b,d){var a=b("x"),t=b("y"),i=k.minRowLength(a),r=k.minRowLength(t);i&&r?(T._length=Math.min(i,r),A.getComponentMethod("calendars","handleTraceDefaults")(l,T,["x","y"],d),(b("z")||b("marker.color"))&&b("histfunc"),b("histnorm"),b("autobinx"),b("autobiny")):T.visible=!1}},99066:function(ee,D,e){"use strict";var A=e(35361),k=e(70600),l=e(50693),T=e(12663).axisHoverFormat,b=e(1426).extendFlat;ee.exports=b({x:A.x,y:A.y,z:A.z,marker:A.marker,histnorm:A.histnorm,histfunc:A.histfunc,nbinsx:A.nbinsx,xbins:A.xbins,nbinsy:A.nbinsy,ybins:A.ybins,autobinx:A.autobinx,autobiny:A.autobiny,bingroup:A.bingroup,xbingroup:A.xbingroup,ybingroup:A.ybingroup,autocontour:k.autocontour,ncontours:k.ncontours,contours:k.contours,line:{color:k.line.color,width:b({},k.line.width,{dflt:.5}),dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:A.hovertemplate,texttemplate:k.texttemplate,textfont:k.textfont},l("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(ee,D,e){"use strict";var A=e(71828),k=e(75238),l=e(67217),T=e(8724),b=e(58623),d=e(99066);ee.exports=function(a,t,i,r){function n(o,s){return A.coerce(a,t,d,o,s)}k(a,t,n,r),!1!==t.visible&&(l(a,t,n,function(o){return A.coerce2(a,t,d,o)}),T(a,t,n,r),n("xhoverformat"),n("yhoverformat"),n("hovertemplate"),t.contours&&"heatmap"===t.contours.coloring&&b(n,r))}},35902:function(ee,D,e){"use strict";ee.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(ee,D,e){"use strict";var A=e(5386).fF,k=e(5386).si,l=e(50693),T=e(27670).Y,b=e(34e3),d=e(57564),a=e(45802),t=e(43473),i=e(1426).extendFlat,r=e(79952).u;ee.exports={labels:d.labels,parents:d.parents,values:d.values,branchvalues:d.branchvalues,count:d.count,level:d.level,maxdepth:d.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:a.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:i({colors:d.marker.colors,line:d.marker.line,pattern:r,editType:"calc"},l("marker",{colorAttr:"colors",anim:!1})),leaf:d.leaf,pathbar:a.pathbar,text:b.text,textinfo:d.textinfo,texttemplate:k({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:d.hoverinfo,hovertemplate:A({},{keys:t.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:a.outsidetextfont,textposition:a.textposition,sort:b.sort,root:d.root,domain:T({name:"icicle",trace:!0,editType:"calc"})}},96346:function(ee,D,e){"use strict";var A=e(74875);D.name="icicle",D.plot=function(k,l,T,b){A.plotBasePlot(D.name,k,l,T,b)},D.clean=function(k,l,T,b){A.cleanBasePlot(D.name,k,l,T,b)}},46584:function(ee,D,e){"use strict";var A=e(52147);D.y=function(k,l){return A.calc(k,l)},D.T=function(k){return A._runCrossTraceCalc("icicle",k)}},56524:function(ee,D,e){"use strict";var A=e(71828),k=e(46291),l=e(7901),T=e(27670).c,b=e(90769).handleText,d=e(97313).TEXTPAD,a=e(37434).handleMarkerDefaults,t=e(21081),i=t.hasColorscale,r=t.handleDefaults;ee.exports=function(n,o,s,u){function p(m,_){return A.coerce(n,o,k,m,_)}var c=p("labels"),x=p("parents");if(c&&c.length&&x&&x.length){var g=p("values");p(g&&g.length?"branchvalues":"count"),p("level"),p("maxdepth"),p("tiling.orientation"),p("tiling.flip"),p("tiling.pad");var h=p("text");p("texttemplate"),o.texttemplate||p("textinfo",Array.isArray(h)?"text+label":"label"),p("hovertext"),p("hovertemplate");var y=p("pathbar.visible");b(n,o,u,p,"auto",{hasPathbar:y,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),p("textposition"),a(n,o,u,p);var v=o._hasColorscale=i(n,"marker","colors")||(n.marker||{}).coloraxis;v&&r(n,o,u,p,{prefix:"marker.",cLetter:"c"}),p("leaf.opacity",v?1:.7),o._hovered={marker:{line:{width:2,color:l.contrast(u.paper_bgcolor)}}},y&&(p("pathbar.thickness",o.pathbar.textfont.size+2*d),p("pathbar.side"),p("pathbar.edgeshape")),p("sort"),p("root.color"),T(o,u,p),o._length=null}else o.visible=!1}},90666:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(91424),T=e(63893),b=e(21538),d=e(82454).styleOne,a=e(43473),t=e(2791),i=e(83523),r=e(24714).formatSliceLabel,n=!1;ee.exports=function(o,s,u,p,c){var x=c.width,g=c.height,h=c.viewX,y=c.viewY,v=c.pathSlice,m=c.toMoveInsideSlice,_=c.strTransform,f=c.hasTransition,S=c.handleSlicesExit,w=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,L=c.prevEntry,C=o._context.staticPlot,O=o._fullLayout,R=s[0].trace,q=-1!==R.textposition.indexOf("left"),P=-1!==R.textposition.indexOf("right"),U=-1!==R.textposition.indexOf("bottom"),N=b(u,[x,g],{flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1,orientation:R.tiling.orientation,pad:{inner:R.tiling.pad},maxDepth:R._maxDepth}).descendants(),F=1/0,j=-1/0;N.forEach(function(Y){var W=Y.depth;W>=R._maxDepth?(Y.x0=Y.x1=(Y.x0+Y.x1)/2,Y.y0=Y.y1=(Y.y0+Y.y1)/2):(F=Math.min(F,W),j=Math.max(j,W))}),p=p.data(N,t.getPtId),R._maxVisibleLayers=isFinite(j)?j-F+1:0,p.enter().append("g").classed("slice",!0),S(p,n,{},[x,g],v),p.order();var G=null;if(f&&L){var te=t.getPtId(L);p.each(function(Y){null===G&&t.getPtId(Y)===te&&(G={x0:Y.x0,x1:Y.x1,y0:Y.y0,y1:Y.y1})})}var J=function(){return G||{x0:0,x1:x,y0:0,y1:g}},X=p;return f&&(X=X.transition().each("end",function(){var Y=A.select(this);t.setSliceCursor(Y,o,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(Y){Y._x0=h(Y.x0),Y._x1=h(Y.x1),Y._y0=y(Y.y0),Y._y1=y(Y.y1),Y._hoverX=h(Y.x1-R.tiling.pad),Y._hoverY=y(U?Y.y1-R.tiling.pad/2:Y.y0+R.tiling.pad/2);var W=A.select(this),$=k.ensureSingle(W,"path","surface",function(ue){ue.style("pointer-events",C?"none":"all")});f?$.transition().attrTween("d",function(ue){var xe=w(ue,n,J(),[x,g],{orientation:R.tiling.orientation,flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1});return function(Me){return v(xe(Me))}}):$.attr("d",v),W.call(i,u,o,s,{styleOne:d,eventDataKeys:a.eventDataKeys,transitionTime:a.CLICK_TRANSITION_TIME,transitionEasing:a.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,o,{isTransitioning:o._transitioning}),$.call(d,Y,R,o,{hovered:!1}),Y._text=Y.x0===Y.x1||Y.y0===Y.y1?"":r(Y,u,R,s,O)||"";var ne=k.ensureSingle(W,"g","slicetext"),re=k.ensureSingle(ne,"text","",function(ue){ue.attr("data-notex",1)}),oe=k.ensureUniformFontSize(o,t.determineTextFont(R,Y,O.font));re.text(Y._text||" ").classed("slicetext",!0).attr("text-anchor",P?"end":q?"start":"middle").call(l.font,oe).call(T.convertToTspans,o),Y.textBB=l.bBox(re.node()),Y.transform=m(Y,{fontSize:oe.size}),Y.transform.fontSize=oe.size,f?re.transition().attrTween("transform",function(ue){var xe=E(ue,n,J(),[x,g]);return function(Me){return _(xe(Me))}}):re.attr("transform",_(Y))}),G}},69816:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(ee){"use strict";ee.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(ee,D,e){"use strict";var A=e(71828),k=e(92894);ee.exports=function(l,T){function b(d,a){return A.coerce(l,T,k,d,a)}b("iciclecolorway",T.colorway),b("extendiciclecolors")}},21538:function(ee,D,e){"use strict";var A=e(674),k=e(14102);ee.exports=function(l,T,b){var d=b.flipX,a=b.flipY,t="h"===b.orientation,i=b.maxDepth,r=T[0],n=T[1];i&&(r=(l.height+1)*T[0]/Math.min(l.height+1,i),n=(l.height+1)*T[1]/Math.min(l.height+1,i));var o=A.partition().padding(b.pad.inner).size(t?[T[1],r]:[T[0],n])(l);return(t||d||a)&&k(o,T,{swapXY:t,flipX:d,flipY:a}),o}},85596:function(ee,D,e){"use strict";var A=e(80694),k=e(90666);ee.exports=function(l,T,b,d){return A(l,T,b,d,{type:"icicle",drawDescendants:k})}},82454:function(ee,D,e){"use strict";var A=e(39898),k=e(7901),l=e(71828),T=e(72597).resizeText,b=e(43467);function d(a,t,i,r){var o=!t.children,s=t.data.data.i,u=l.castOption(i,s,"marker.line.color")||k.defaultLine,p=l.castOption(i,s,"marker.line.width")||0;a.call(b,t,i,r).style("stroke-width",p).call(k.stroke,u).style("opacity",o?i.leaf.opacity:null)}ee.exports={style:function(a){var t=a._fullLayout._iciclelayer.selectAll(".trace");T(a,t,"icicle"),t.each(function(i){var r=A.select(this),n=i[0].trace;r.style("opacity",n.opacity),r.selectAll("path.surface").each(function(o){A.select(this).call(d,o,n,a)})})},styleOne:d}},17230:function(ee,D,e){"use strict";for(var A=e(9012),k=e(5386).fF,l=e(1426).extendFlat,T=e(51877).colormodel,b=["rgb","rgba","rgba256","hsl","hsla"],d=[],a=[],t=0;t<b.length;t++){var i=T[b[t]];d.push("For the `"+b[t]+"` colormodel, it is ["+(i.zminDflt||i.min).join(", ")+"]."),a.push("For the `"+b[t]+"` colormodel, it is ["+(i.zmaxDflt||i.max).join(", ")+"].")}ee.exports=l({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:b,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:l({},A.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:k({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(ee,D,e){"use strict";var A=e(71828),k=e(51877),l=e(92770),T=e(89298),b=e(71828).maxRowLength,d=e(67395).A;function a(i,r,n,o){return function(s){return A.constrain((s-i)*r,n,o)}}function t(i,r){return function(n){return A.constrain(n,i,r)}}ee.exports=function(i,r){var n,o;if(r._hasZ)n=r.z.length,o=b(r.z);else if(r._hasSource){var s=d(r.source);n=s.height,o=s.width}var u,p=T.getFromId(i,r.xaxis||"x"),c=T.getFromId(i,r.yaxis||"y"),x=p.d2c(r.x0)-r.dx/2,g=c.d2c(r.y0)-r.dy/2,h=[x,x+o*r.dx],y=[g,g+n*r.dy];if(p&&"log"===p.type)for(u=0;u<o;u++)h.push(x+u*r.dx);if(c&&"log"===c.type)for(u=0;u<n;u++)y.push(g+u*r.dy);return r._extremes[p._id]=T.findExtremes(p,h),r._extremes[c._id]=T.findExtremes(c,y),r._scaler=function(v){var m=k.colormodel[v.colormodel],_=(m.colormodel||v.colormodel).length;v._sArray=[];for(var f=0;f<_;f++)v._sArray.push(m.min[f]!==v.zmin[f]||m.max[f]!==v.zmax[f]?a(v.zmin[f],(m.max[f]-m.min[f])/(v.zmax[f]-v.zmin[f]),m.min[f],m.max[f]):t(m.min[f],m.max[f]));return function(S){for(var w=S.slice(0,_),E=0;E<_;E++){var L=w[E];if(!l(L))return!1;w[E]=v._sArray[E](L)}return w}}(r),[{x0:x,y0:g,z:r.z,w:o,h:n}]}},51877:function(ee){"use strict";ee.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(D){return D.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(D){return D.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(D){return D.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(D){var e=D.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xb0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(D){var e=D.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xb0","%","%",""]}}}},13245:function(ee,D,e){"use strict";var A=e(71828),k=e(17230),l=e(51877),T=e(25095).IMAGE_URL_PREFIX;ee.exports=function(b,d){function a(r,n){return A.coerce(b,d,k,r,n)}a("source"),d.source&&!d.source.match(T)&&delete d.source,d._hasSource=!!d.source;var t,i=a("z");d._hasZ=!(void 0===i||!i.length||!i[0]||!i[0].length),d._hasZ||d._hasSource?(a("x0"),a("y0"),a("dx"),a("dy"),d._hasZ?(a("colormodel","rgb"),a("zmin",(t=l.colormodel[d.colormodel]).zminDflt||t.min),a("zmax",t.zmaxDflt||t.max)):d._hasSource&&(d.colormodel="rgba256",d.zmin=(t=l.colormodel[d.colormodel]).zminDflt,d.zmax=t.zmaxDflt),a("zsmooth"),a("text"),a("hovertext"),a("hovertemplate"),d._length=null):d.visible=!1}},30835:function(ee){"use strict";ee.exports=function(D,e){return"xVal"in e&&(D.x=e.xVal),"yVal"in e&&(D.y=e.yVal),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),D.color=e.color,D.colormodel=e.trace.colormodel,D.z||(D.z=e.color),D}},67395:function(ee,D,e){"use strict";var A=e(33575),k=e(25095).IMAGE_URL_PREFIX,l=e(12856).Buffer;D.A=function(T){var b=T.replace(k,""),d=new l(b,"base64");return A(d)}},28749:function(ee,D,e){"use strict";var A=e(30211),k=e(71828),l=e(51877);ee.exports=function(T,b,d){var a=T.cd[0],t=a.trace,i=T.xa,r=T.ya;if(!(A.inbox(b-a.x0,b-(a.x0+a.w*t.dx),0)>0||A.inbox(d-a.y0,d-(a.y0+a.h*t.dy),0)>0)){var n,o=Math.floor((b-a.x0)/t.dx),s=Math.floor(Math.abs(d-a.y0)/t.dy);if(t._hasZ?n=a.z[s][o]:t._hasSource&&(n=t._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(o,s,1,1).data),n){var u,p=a.hi||t.hoverinfo;if(p){var c=p.split("+");-1!==c.indexOf("all")&&(c=["color"]),-1!==c.indexOf("color")&&(u=!0)}var x,g=l.colormodel[t.colormodel],h=g.colormodel||t.colormodel,y=h.length,v=t._scaler(n),m=g.suffix,_=[];(t.hovertemplate||u)&&(_.push("["+[v[0]+m[0],v[1]+m[1],v[2]+m[2]].join(", ")),4===y&&_.push(", "+v[3]+m[3]),_.push("]"),_=_.join(""),T.extraText=h.toUpperCase()+": "+_),Array.isArray(t.hovertext)&&Array.isArray(t.hovertext[s])?x=t.hovertext[s][o]:Array.isArray(t.text)&&Array.isArray(t.text[s])&&(x=t.text[s][o]);var f=r.c2p(a.y0+(s+.5)*t.dy),S=a.x0+(o+.5)*t.dx,w=a.y0+(s+.5)*t.dy,E="["+n.slice(0,t.colormodel.length).join(", ")+"]";return[k.extendFlat(T,{index:[s,o],x0:i.c2p(a.x0+o*t.dx),x1:i.c2p(a.x0+(o+1)*t.dx),y0:f,y1:f,color:v,xVal:S,xLabelVal:S,yVal:w,yLabelVal:w,zLabelVal:E,text:x,hovertemplateLabels:{zLabel:E,colorLabel:_,"color[0]Label":v[0]+m[0],"color[1]Label":v[1]+m[1],"color[2]Label":v[2]+m[2],"color[3]Label":v[3]+m[3]}})]}}}},94507:function(ee,D,e){"use strict";ee.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=k.strTranslate,T=e(77922),b=e(51877),d=e(3883),a=e(32396).STYLE;ee.exports=function(t,i,r,n){var o=i.xaxis,s=i.yaxis,u=!t._context._exportedPlot&&d();k.makeTraceGroups(n,r,"im").each(function(p){var c=A.select(this),x=p[0],g=x.trace,h=("fast"===g.zsmooth||!1===g.zsmooth&&u)&&!g._hasZ&&g._hasSource&&"linear"===o.type&&"linear"===s.type;g._realImage=h;var y,v,m,_,f,S,w=x.z,E=x.x0,L=x.y0,C=x.w,O=x.h,R=g.dx,q=g.dy;for(S=0;void 0===y&&S<C;)y=o.c2p(E+S*R),S++;for(S=C;void 0===v&&S>0;)v=o.c2p(E+S*R),S--;for(S=0;void 0===_&&S<O;)_=s.c2p(L+S*q),S++;for(S=O;void 0===f&&S>0;)f=s.c2p(L+S*q),S--;v<y&&(m=v,v=y,y=m),f<_&&(m=_,_=f,f=m),h||(y=Math.max(-.5*o._length,y),v=Math.min(1.5*o._length,v),_=Math.max(-.5*s._length,_),f=Math.min(1.5*s._length,f));var P=Math.round(v-y),U=Math.round(f-_);if(P<=0||U<=0)c.selectAll("image").data([]).exit().remove();else{var N=c.selectAll("image").data([p]);N.enter().append("svg:image").attr({xmlns:T.svg,preserveAspectRatio:"none"}),N.exit().remove();var F=!1===g.zsmooth?a:"";if(h){var j=k.simpleMap(o.range,o.r2l),G=k.simpleMap(s.range,s.r2l),te=j[1]<j[0],J=G[1]>G[0];if(te||J){var X=y+P/2,Y=_+U/2;F+="transform:"+l(X+"px",Y+"px")+"scale("+(te?-1:1)+","+(J?-1:1)+")"+l(-X+"px",-Y+"px")+";"}}N.attr("style",F);var W=new Promise(function(ne){if(g._hasZ)ne();else if(g._hasSource)if(g._canvas&&g._canvas.el.width===C&&g._canvas.el.height===O&&g._canvas.source===g.source)ne();else{var re=document.createElement("canvas");re.width=C,re.height=O;var oe=re.getContext("2d",{willReadFrequently:!0});g._image=g._image||new Image;var ue=g._image;ue.onload=function(){oe.drawImage(ue,0,0),g._canvas={el:re,source:g.source},ne()},ue.setAttribute("src",g.source)}}).then(function(){var ne;if(g._hasZ)ne=$(function(ue,xe){return w[xe][ue]}).toDataURL("image/png");else if(g._hasSource)if(h)ne=g.source;else{var oe=g._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,C,O).data;ne=$(function(ue,xe){var Me=4*(xe*C+ue);return[oe[Me],oe[Me+1],oe[Me+2],oe[Me+3]]}).toDataURL("image/png")}N.attr({"xlink:href":ne,height:U,width:P,x:y,y:_})});t._promises.push(W)}function $(ne){var re=document.createElement("canvas");re.width=P,re.height=U;var oe,ue=re.getContext("2d",{willReadFrequently:!0}),xe=function(fe){return k.constrain(Math.round(o.c2p(E+fe*R)-y),0,P)},Me=function(fe){return k.constrain(Math.round(s.c2p(L+fe*q)-_),0,U)},me=b.colormodel[g.colormodel],pe=me.colormodel||g.colormodel,ge=me.fmt;for(S=0;S<x.w;S++){var Pe=xe(S),_e=xe(S+1);if(_e!==Pe&&!isNaN(_e)&&!isNaN(Pe))for(var we=0;we<x.h;we++){var se=Me(we),ae=Me(we+1);ae===se||isNaN(ae)||isNaN(se)||!ne(S,we)||(oe=g._scaler(ne(S,we)),ue.fillStyle=oe?pe+"("+ge(oe).join(",")+")":"rgba(0,0,0,0)",ue.fillRect(Pe,se,_e-Pe,ae-se))}}return re}})}},12826:function(ee,D,e){"use strict";var A=e(39898);ee.exports=function(k){A.select(k).selectAll(".im image").style("opacity",function(l){return l[0].trace.opacity})}},54846:function(ee,D,e){"use strict";var A=e(1426).extendFlat,k=e(1426).extendDeep,l=e(30962).overrideAll,T=e(41940),b=e(22399),d=e(27670).Y,a=e(13838),t=e(44467).templatedArray,i=e(22372),r=e(12663).descriptionOnlyNumbers,n=T({editType:"plot",colorEditType:"plot"}),o={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:b.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},s={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",k({},o,{range:s}));ee.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:d({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:A({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:r("value")},font:A({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:r("value")},increasing:{symbol:{valType:"string",dflt:i.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:i.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:A({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:k({},o,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:b.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:l({range:s,visible:A({},a.visible,{dflt:!0}),tickmode:a.minor.tickmode,nticks:a.nticks,tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:A({},a.ticks,{dflt:"outside"}),ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,tickfont:T({}),tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,tickprefix:a.tickprefix,showtickprefix:a.showtickprefix,ticksuffix:a.ticksuffix,showticksuffix:a.showticksuffix,separatethousands:a.separatethousands,exponentformat:a.exponentformat,minexponent:a.minexponent,showexponent:a.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:A({},o.line.color,{}),width:A({},o.line.width,{dflt:1}),editType:"plot"},thickness:A({},o.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(ee,D,e){"use strict";var A=e(74875);D.name="indicator",D.plot=function(k,l,T,b){A.plotBasePlot(D.name,k,l,T,b)},D.clean=function(k,l,T,b){A.cleanBasePlot(D.name,k,l,T,b)}},24667:function(ee){"use strict";ee.exports={calc:function(D,e){var A=[],k=e.value;"number"!=typeof e._lastValue&&(e._lastValue=e.value);var l=e._lastValue,T=l;return e._hasDelta&&"number"==typeof e.delta.reference&&(T=e.delta.reference),A[0]={y:k,lastY:l,delta:k-T,relativeDelta:(k-T)/T},A}}},84577:function(ee){"use strict";ee.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(ee,D,e){"use strict";var A=e(71828),k=e(54846),l=e(27670).c,T=e(44467),b=e(85501),d=e(84577),a=e(26218),t=e(38701),i=e(96115),r=e(89426);function n(o,s){function u(p,c){return A.coerce(o,s,k.gauge.steps,p,c)}u("color"),u("line.color"),u("line.width"),u("range"),u("thickness")}ee.exports={supplyDefaults:function(o,s,u,p){function c(L,C){return A.coerce(o,s,k,L,C)}l(s,p,c),c("mode"),s._hasNumber=-1!==s.mode.indexOf("number"),s._hasDelta=-1!==s.mode.indexOf("delta"),s._hasGauge=-1!==s.mode.indexOf("gauge");var x=c("value");s._range=[0,"number"==typeof x?1.5*x:1];var g,h,y,v,m,_,f=new Array(2);function S(L,C){return A.coerce(y,v,k.gauge,L,C)}function w(L,C){return A.coerce(m,_,k.gauge.axis,L,C)}if(s._hasNumber&&(c("number.valueformat"),c("number.font.color",p.font.color),c("number.font.family",p.font.family),c("number.font.size"),void 0===s.number.font.size&&(s.number.font.size=d.defaultNumberFontSize,f[0]=!0),c("number.prefix"),c("number.suffix"),g=s.number.font.size),s._hasDelta&&(c("delta.font.color",p.font.color),c("delta.font.family",p.font.family),c("delta.font.size"),void 0===s.delta.font.size&&(s.delta.font.size=(s._hasNumber?.5:1)*(g||d.defaultNumberFontSize),f[1]=!0),c("delta.reference",s.value),c("delta.relative"),c("delta.valueformat",s.delta.relative?"2%":""),c("delta.increasing.symbol"),c("delta.increasing.color"),c("delta.decreasing.symbol"),c("delta.decreasing.color"),c("delta.position"),c("delta.prefix"),c("delta.suffix"),h=s.delta.font.size),s._scaleNumbers=(!s._hasNumber||f[0])&&(!s._hasDelta||f[1])||!1,c("title.font.color",p.font.color),c("title.font.family",p.font.family),c("title.font.size",.25*(g||h||d.defaultNumberFontSize)),c("title.text"),s._hasGauge){(y=o.gauge)||(y={}),v=T.newContainer(s,"gauge"),S("shape"),(s._isBullet="bullet"===s.gauge.shape)||c("title.align","center"),(s._isAngular="angular"===s.gauge.shape)||c("align","center"),S("bgcolor",p.paper_bgcolor),S("borderwidth"),S("bordercolor"),S("bar.color"),S("bar.line.color"),S("bar.line.width"),S("bar.thickness",d.valueThickness*("bullet"===s.gauge.shape?.5:1)),b(y,v,{name:"steps",handleItemDefaults:n}),S("threshold.value"),S("threshold.thickness"),S("threshold.line.width"),S("threshold.line.color"),m={},y&&(m=y.axis||{}),_=T.newContainer(v,"axis"),w("visible"),s._range=w("range",s._range);var E={outerTicks:!0};a(m,_,w,"linear"),r(m,_,w,"linear",E),i(m,_,w,"linear",E),t(m,_,w,E)}else c("title.align","center"),c("align","center"),s._isAngular=s._isBullet=!1;s._length=null}}},15154:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(ee,D,e){"use strict";var A=e(39898),k=e(81684).sX,l=e(81684).k4,T=e(71828),b=T.strScale,d=T.strTranslate,a=T.rad2deg,t=e(18783).MID_SHIFT,i=e(91424),r=e(84577),n=e(63893),o=e(89298),s=e(71453),u=e(52830),p=e(13838),c=e(7901),x={left:"start",center:"middle",right:"end"},g={left:0,center:.5,right:1},h=/[yzafpn\xb5mkMGTPEZY]/;function y(w){return w&&w.duration>0}function v(w){w.each(function(E){c.stroke(A.select(this),E.line.color)}).each(function(E){c.fill(A.select(this),E.color)}).style("stroke-width",function(E){return E.line.width})}function m(w,E,L){var C=w._fullLayout,O=T.extendFlat({type:"linear",ticks:"outside",range:L,showline:!0},E),R={type:"linear",_id:"x"+E._id},q={letter:"x",font:C.font,noHover:!0,noTickson:!0};function P(U,N){return T.coerce(O,R,p,U,N)}return s(O,R,P,q,C),u(O,R,P,q),R}function _(w,E,L){return[Math.min(E/w.width,L/w.height),w,E+"x"+L]}function f(w,E,L,C){var O=document.createElementNS("http://www.w3.org/2000/svg","text"),R=A.select(O);return R.text(w).attr("x",0).attr("y",0).attr("text-anchor",L).attr("data-unformatted",w).call(n.convertToTspans,C).call(i.font,E),i.bBox(R.node())}function S(w,E,L,C,O,R){var q="_cache"+E;w[q]&&w[q].key===O||(w[q]={key:O,value:L});var P=T.aggNums(R,null,[w[q].value,C],2);return w[q].value=P,P}ee.exports=function(w,E,L,C){var O,R=w._fullLayout;y(L)&&C&&(O=C()),T.makeTraceGroups(R._indicatorlayer,E,"trace").each(function(q){var P,U,N,F,j,G=q[0].trace,te=A.select(this),J=G._hasGauge,X=G._isAngular,Y=G._isBullet,W=G.domain,$={w:R._size.w*(W.x[1]-W.x[0]),h:R._size.h*(W.y[1]-W.y[0]),l:R._size.l+R._size.w*W.x[0],r:R._size.r+R._size.w*(1-W.x[1]),t:R._size.t+R._size.h*(1-W.y[1]),b:R._size.b+R._size.h*W.y[0]},ne=$.l+$.w/2,re=$.t+$.h/2,oe=Math.min($.w/2,$.h),ue=r.innerRadius*oe,xe=G.align||"center";if(U=re,J){if(X&&(P=ne,U=re+oe/2,N=function(se){return ae=se,[(fe=.9*ue)/Math.sqrt(ae.width/2*(ae.width/2)+ae.height*ae.height),ae,fe];var ae,fe}),Y){var Me=r.bulletPadding,me=1-r.bulletNumberDomainSize+Me;P=$.l+(me+(1-me)*g[xe])*$.w,N=function(se){return _(se,(r.bulletNumberDomainSize-Me)*$.w,$.h)}}}else P=$.l+g[xe]*$.w,N=function(se){return _(se,$.w,$.h)};(function(se,ae,fe,Ee){var ke,be,Ie,Fe=fe[0].trace,ce=Ee.numbersX,Te=Ee.numbersY,ve=Fe.align||"center",Ce=x[ve],Re=Ee.transitionOpts,Oe=Ee.onComplete,je=T.ensureSingle(ae,"g","numbers"),qe=[];Fe._hasNumber&&qe.push("number"),Fe._hasDelta&&(qe.push("delta"),"left"===Fe.delta.position&&qe.reverse());var Je=je.selectAll("text").data(qe);function it(At,Pt,kt,Ze){if(!At.match("s")||kt>=0==Ze>=0||Pt(kt).slice(-1).match(h)||Pt(Ze).slice(-1).match(h))return Pt;var Xe=At.slice().replace("s","f").replace(/\d+/,function(We){return parseInt(We)-1}),He=m(se,{tickformat:Xe});return function(We){return Math.abs(We)<1?o.tickText(He,We).text:Pt(We)}}Je.enter().append("text"),Je.attr("text-anchor",function(){return Ce}).attr("class",function(At){return At}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Je.exit().remove();var Qe,dt=Fe.mode+Fe.align;if(Fe._hasDelta&&(Qe=function(){var At=m(se,{tickformat:Fe.delta.valueformat},Fe._range);At.setScale(),o.prepTicks(At);var Pt=function(ze){return o.tickText(At,ze).text},kt=Fe.delta.suffix,Ze=Fe.delta.prefix,Xe=function(ze){return Fe.delta.relative?ze.relativeDelta:ze.delta},He=function(ze,Be){return 0===ze||"number"!=typeof ze||isNaN(ze)?"-":(ze>0?Fe.delta.increasing.symbol:Fe.delta.decreasing.symbol)+Ze+Be(ze)+kt},We=function(ze){return ze.delta>=0?Fe.delta.increasing.color:Fe.delta.decreasing.color};void 0===Fe._deltaLastValue&&(Fe._deltaLastValue=Xe(fe[0]));var rt=je.select("text.delta");function nt(){rt.text(He(Xe(fe[0]),Pt)).call(c.fill,We(fe[0])).call(n.convertToTspans,se)}return rt.call(i.font,Fe.delta.font).call(c.fill,We({delta:Fe._deltaLastValue})),y(Re)?rt.transition().duration(Re.duration).ease(Re.easing).tween("text",function(){var ze=A.select(this),Be=Xe(fe[0]),tt=Fe._deltaLastValue,et=it(Fe.delta.valueformat,Pt,tt,Be),gt=l(tt,Be);return Fe._deltaLastValue=Be,function(pt){ze.text(He(gt(pt),et)),ze.call(c.fill,We({delta:gt(pt)}))}}).each("end",function(){nt(),Oe&&Oe()}).each("interrupt",function(){nt(),Oe&&Oe()}):nt(),be=f(He(Xe(fe[0]),Pt),Fe.delta.font,Ce,se),rt}(),dt+=Fe.delta.position+Fe.delta.font.size+Fe.delta.font.family+Fe.delta.valueformat,dt+=Fe.delta.increasing.symbol+Fe.delta.decreasing.symbol,Ie=be),Fe._hasNumber&&(function(){var At=m(se,{tickformat:Fe.number.valueformat},Fe._range);At.setScale(),o.prepTicks(At);var Pt=function(We){return o.tickText(At,We).text},kt=Fe.number.suffix,Ze=Fe.number.prefix,Xe=je.select("text.number");function He(){var We="number"==typeof fe[0].y?Ze+Pt(fe[0].y)+kt:"-";Xe.text(We).call(i.font,Fe.number.font).call(n.convertToTspans,se)}y(Re)?Xe.transition().duration(Re.duration).ease(Re.easing).each("end",function(){He(),Oe&&Oe()}).each("interrupt",function(){He(),Oe&&Oe()}).attrTween("text",function(){var We=A.select(this),rt=l(fe[0].lastY,fe[0].y);Fe._lastValue=fe[0].y;var nt=it(Fe.number.valueformat,Pt,fe[0].lastY,fe[0].y);return function(ze){We.text(Ze+nt(rt(ze))+kt)}}):He(),ke=f(Ze+Pt(fe[0].y)+kt,Fe.number.font,Ce,se)}(),dt+=Fe.number.font.size+Fe.number.font.family+Fe.number.valueformat+Fe.number.suffix+Fe.number.prefix,Ie=ke),Fe._hasDelta&&Fe._hasNumber){var yt,mt,at=[(ke.left+ke.right)/2,(ke.top+ke.bottom)/2],st=[(be.left+be.right)/2,(be.top+be.bottom)/2],Tt=.75*Fe.delta.font.size;"left"===Fe.delta.position&&(yt=S(Fe,"deltaPos",0,-1*(ke.width*g[Fe.align]+be.width*(1-g[Fe.align])+Tt),dt,Math.min),mt=at[1]-st[1],Ie={width:ke.width+be.width+Tt,height:Math.max(ke.height,be.height),left:be.left+yt,right:ke.right,top:Math.min(ke.top,be.top+mt),bottom:Math.max(ke.bottom,be.bottom+mt)}),"right"===Fe.delta.position&&(yt=S(Fe,"deltaPos",0,ke.width*(1-g[Fe.align])+be.width*g[Fe.align]+Tt,dt,Math.max),mt=at[1]-st[1],Ie={width:ke.width+be.width+Tt,height:Math.max(ke.height,be.height),left:ke.left,right:be.right+yt,top:Math.min(ke.top,be.top+mt),bottom:Math.max(ke.bottom,be.bottom+mt)}),"bottom"===Fe.delta.position&&(yt=null,mt=be.height,Ie={width:Math.max(ke.width,be.width),height:ke.height+be.height,left:Math.min(ke.left,be.left),right:Math.max(ke.right,be.right),top:ke.bottom-ke.height,bottom:ke.bottom+be.height}),"top"===Fe.delta.position&&(yt=null,mt=ke.top,Ie={width:Math.max(ke.width,be.width),height:ke.height+be.height,left:Math.min(ke.left,be.left),right:Math.max(ke.right,be.right),top:ke.bottom-ke.height-be.height,bottom:ke.bottom}),Qe.attr({dx:yt,dy:mt})}(Fe._hasNumber||Fe._hasDelta)&&je.attr("transform",function(){var Pt,At=Ee.numbersScaler(Ie),kt=S(Fe,"numbersScale",1,At[0],dt+=At[2],Math.min);Fe._scaleNumbers||(kt=1),Fe._numbersTop=kt*Ie.top+(Pt=Fe._isAngular?Te-kt*Ie.bottom:Te-kt*(Ie.top+Ie.bottom)/2);var Ze=Ie[ve];"center"===ve&&(Ze=(Ie.left+Ie.right)/2);var Xe=ce-kt*Ze;return Xe=S(Fe,"numbersTranslate",0,Xe,dt,Math.max),d(Xe,Pt)+b(kt)})})(w,te,q,{numbersX:P,numbersY:U,numbersScaler:N,transitionOpts:L,onComplete:O}),J&&(F={range:G.gauge.axis.range,color:G.gauge.bgcolor,line:{color:G.gauge.bordercolor,width:0},thickness:1},j={range:G.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:G.gauge.bordercolor,width:G.gauge.borderwidth},thickness:1});var pe=te.selectAll("g.angular").data(X?q:[]);pe.exit().remove();var ge=te.selectAll("g.angularaxis").data(X?q:[]);ge.exit().remove(),X&&function(se,ae,fe,Ee){var ke,be,Ie,Fe,ce=fe[0].trace,Te=Ee.size,ve=Ee.radius,Ce=Ee.innerRadius,Re=Ee.gaugeBg,Oe=Ee.gaugeOutline,je=[Te.l+Te.w/2,Te.t+Te.h/2+ve/2],qe=Ee.gauge,Je=Ee.layer,it=Ee.transitionOpts,Qe=Ee.onComplete,dt=Math.PI/2;function yt(pt){var vt=ce.gauge.axis.range[0],ut=(pt-vt)/(ce.gauge.axis.range[1]-vt)*Math.PI-dt;return ut<-dt?-dt:ut>dt?dt:ut}function mt(pt){return A.svg.arc().innerRadius((Ce+ve)/2-pt/2*(ve-Ce)).outerRadius((Ce+ve)/2+pt/2*(ve-Ce)).startAngle(-dt)}function at(pt){pt.attr("d",function(vt){return mt(vt.thickness).startAngle(yt(vt.range[0])).endAngle(yt(vt.range[1]))()})}qe.enter().append("g").classed("angular",!0),qe.attr("transform",d(je[0],je[1])),Je.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Je.selectAll("g.xangularaxistick,path,text").remove(),(ke=m(se,ce.gauge.axis)).type="linear",ke.range=ce.gauge.axis.range,ke._id="xangularaxis",ke.ticklabeloverflow="allow",ke.setScale();var st=function(pt){return(ke.range[0]-pt.x)/(ke.range[1]-ke.range[0])*Math.PI+Math.PI},Tt={},At=o.makeLabelFns(ke,0).labelStandoff;Tt.xFn=function(pt){var vt=st(pt);return Math.cos(vt)*At},Tt.yFn=function(pt){var vt=st(pt),ut=Math.sin(vt)>0?.2:1;return-Math.sin(vt)*(At+pt.fontSize*ut)+Math.abs(Math.cos(vt))*(pt.fontSize*t)},Tt.anchorFn=function(pt){var vt=st(pt),ut=Math.cos(vt);return Math.abs(ut)<.1?"middle":ut>0?"start":"end"},Tt.heightFn=function(pt,vt,ut){var wt=st(pt);return-.5*(1+Math.sin(wt))*ut};var Pt=function(pt){return d(je[0]+ve*Math.cos(pt),je[1]-ve*Math.sin(pt))};Ie=function(pt){return Pt(st(pt))},be=o.calcTicks(ke),Fe=o.getTickSigns(ke)[2],ke.visible&&(o.drawTicks(se,ke,{vals:be,layer:Je,path:"M"+(Fe="inside"===ke.ticks?-1:1)*((ke.linewidth||1)/2)+",0h"+Fe*ke.ticklen,transFn:function(pt){var vt=st(pt);return Pt(vt)+"rotate("+-a(vt)+")"}}),o.drawLabels(se,ke,{vals:be,layer:Je,transFn:Ie,labelFns:Tt}));var Ze=[Re].concat(ce.gauge.steps),Xe=qe.selectAll("g.bg-arc").data(Ze);Xe.enter().append("g").classed("bg-arc",!0).append("path"),Xe.select("path").call(at).call(v),Xe.exit().remove();var He=mt(ce.gauge.bar.thickness),We=qe.selectAll("g.value-arc").data([ce.gauge.bar]);We.enter().append("g").classed("value-arc",!0).append("path");var rt,nt,ze,Be=We.select("path");y(it)?(Be.transition().duration(it.duration).ease(it.easing).each("end",function(){Qe&&Qe()}).each("interrupt",function(){Qe&&Qe()}).attrTween("d",(rt=He,nt=yt(fe[0].lastY),ze=yt(fe[0].y),function(){var pt=k(nt,ze);return function(vt){return rt.endAngle(pt(vt))()}})),ce._lastValue=fe[0].y):Be.attr("d","number"==typeof fe[0].y?He.endAngle(yt(fe[0].y)):"M0,0Z"),Be.call(v),We.exit().remove(),Ze=[];var tt=ce.gauge.threshold.value;(tt||0===tt)&&Ze.push({range:[tt,tt],color:ce.gauge.threshold.color,line:{color:ce.gauge.threshold.line.color,width:ce.gauge.threshold.line.width},thickness:ce.gauge.threshold.thickness});var et=qe.selectAll("g.threshold-arc").data(Ze);et.enter().append("g").classed("threshold-arc",!0).append("path"),et.select("path").call(at).call(v),et.exit().remove();var gt=qe.selectAll("g.gauge-outline").data([Oe]);gt.enter().append("g").classed("gauge-outline",!0).append("path"),gt.select("path").call(at).call(v),gt.exit().remove()}(w,0,q,{radius:oe,innerRadius:ue,gauge:pe,layer:ge,size:$,gaugeBg:F,gaugeOutline:j,transitionOpts:L,onComplete:O});var Pe=te.selectAll("g.bullet").data(Y?q:[]);Pe.exit().remove();var _e=te.selectAll("g.bulletaxis").data(Y?q:[]);_e.exit().remove(),Y&&function(se,ae,fe,Ee){var ke,be,Ie,Fe,ce,Te=fe[0].trace,ve=Ee.gauge,Ce=Ee.layer,Re=Ee.gaugeBg,Oe=Ee.gaugeOutline,je=Ee.size,qe=Te.domain,Je=Ee.transitionOpts,it=Ee.onComplete;ve.enter().append("g").classed("bullet",!0),ve.attr("transform",d(je.l,je.t)),Ce.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Ce.selectAll("g.xbulletaxistick,path,text").remove();var Qe=je.h,dt=Te.gauge.bar.thickness*Qe,yt=qe.x[0],mt=qe.x[0]+(qe.x[1]-qe.x[0])*(Te._hasNumber||Te._hasDelta?1-r.bulletNumberDomainSize:1);function at(Xe){Xe.attr("width",function(He){return Math.max(0,ke.c2p(He.range[1])-ke.c2p(He.range[0]))}).attr("x",function(He){return ke.c2p(He.range[0])}).attr("y",function(He){return.5*(1-He.thickness)*Qe}).attr("height",function(He){return He.thickness*Qe})}(ke=m(se,Te.gauge.axis))._id="xbulletaxis",ke.domain=[yt,mt],ke.setScale(),be=o.calcTicks(ke),Ie=o.makeTransTickFn(ke),Fe=o.getTickSigns(ke)[2],ce=je.t+je.h,ke.visible&&(o.drawTicks(se,ke,{vals:"inside"===ke.ticks?o.clipEnds(ke,be):be,layer:Ce,path:o.makeTickPath(ke,ce,Fe),transFn:Ie}),o.drawLabels(se,ke,{vals:be,layer:Ce,transFn:Ie,labelFns:o.makeLabelFns(ke,ce)}));var st=[Re].concat(Te.gauge.steps),Tt=ve.selectAll("g.bg-bullet").data(st);Tt.enter().append("g").classed("bg-bullet",!0).append("rect"),Tt.select("rect").call(at).call(v),Tt.exit().remove();var At=ve.selectAll("g.value-bullet").data([Te.gauge.bar]);At.enter().append("g").classed("value-bullet",!0).append("rect"),At.select("rect").attr("height",dt).attr("y",(Qe-dt)/2).call(v),y(Je)?At.select("rect").transition().duration(Je.duration).ease(Je.easing).each("end",function(){it&&it()}).each("interrupt",function(){it&&it()}).attr("width",Math.max(0,ke.c2p(Math.min(Te.gauge.axis.range[1],fe[0].y)))):At.select("rect").attr("width","number"==typeof fe[0].y?Math.max(0,ke.c2p(Math.min(Te.gauge.axis.range[1],fe[0].y))):0),At.exit().remove();var Pt=fe.filter(function(){return Te.gauge.threshold.value||0===Te.gauge.threshold.value}),kt=ve.selectAll("g.threshold-bullet").data(Pt);kt.enter().append("g").classed("threshold-bullet",!0).append("line"),kt.select("line").attr("x1",ke.c2p(Te.gauge.threshold.value)).attr("x2",ke.c2p(Te.gauge.threshold.value)).attr("y1",(1-Te.gauge.threshold.thickness)/2*Qe).attr("y2",(1-(1-Te.gauge.threshold.thickness)/2)*Qe).call(c.stroke,Te.gauge.threshold.line.color).style("stroke-width",Te.gauge.threshold.line.width),kt.exit().remove();var Ze=ve.selectAll("g.gauge-outline").data([Oe]);Ze.enter().append("g").classed("gauge-outline",!0).append("rect"),Ze.select("rect").call(at).call(v),Ze.exit().remove()}(w,0,q,{gauge:Pe,layer:_e,size:$,gaugeBg:F,gaugeOutline:j,transitionOpts:L,onComplete:O});var we=te.selectAll("text.title").data(q);we.exit().remove(),we.enter().append("text").classed("title",!0),we.attr("text-anchor",function(){return Y?x.right:x[G.title.align]}).text(G.title.text).call(i.font,G.title.font).call(n.convertToTspans,w),we.attr("transform",function(){var se,ae=$.l+$.w*g[G.title.align],fe=r.titlePadding,Ee=i.bBox(we.node());return J?(X&&(se=G.gauge.axis.visible?i.bBox(ge.node()).top-fe-Ee.bottom:$.t+$.h/2-oe/2-Ee.bottom-fe),Y&&(se=U-(Ee.top+Ee.bottom)/2,ae=$.l-r.bulletPadding*$.w)):se=G._numbersTop-fe-Ee.bottom,d(ae,se)})})}},16249:function(ee,D,e){"use strict";var A=e(50693),k=e(12663).axisHoverFormat,l=e(5386).fF,T=e(2418),b=e(9012),d=e(1426).extendFlat,a=e(30962).overrideAll,t=ee.exports=a(d({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:l(),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),valuehoverformat:k("value",1),showlegend:d({},b.showlegend,{dflt:!1})},A("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:T.opacity,lightposition:T.lightposition,lighting:T.lighting,flatshading:T.flatshading,contour:T.contour,hoverinfo:d({},b.hoverinfo)}),"calc","nested");t.flatshading.dflt=!0,t.lighting.facenormalsepsilon.dflt=0,t.x.editType=t.y.editType=t.z.editType=t.value.editType="calc+clearAxisTypes",t.transforms=void 0},56959:function(ee,D,e){"use strict";var A=e(78803),k=e(88489).processGrid,l=e(88489).filter;ee.exports=function(T,b){b._len=Math.min(b.x.length,b.y.length,b.z.length,b.value.length),b._x=l(b.x,b._len),b._y=l(b.y,b._len),b._z=l(b.z,b._len),b._value=l(b.value,b._len);var d=k(b);b._gridFill=d.fill,b._Xs=d.Xs,b._Ys=d.Ys,b._Zs=d.Zs,b._len=d.len;for(var a=1/0,t=-1/0,i=0;i<b._len;i++){var r=b._value[i];a=Math.min(a,r),t=Math.max(t,r)}b._minValues=a,b._maxValues=t,b._vMin=null==b.isomin?a:b.isomin,b._vMax=void 0===b.isomax||null===b.isomin?t:b.isomax,A(T,b,{vals:[b._vMin,b._vMax],containerStr:"",cLetter:"c"})}},22674:function(ee,D,e){"use strict";var A=e(9330).gl_mesh3d,k=e(81697).parseColorScale,l=e(78614),T=e(21081).extractOpts,b=e(90060),d=function(n,o){for(var s=o.length-1;s>0;s--){var u=Math.min(o[s],o[s-1]),p=Math.max(o[s],o[s-1]);if(p>u&&u<n&&n<=p)return{id:s,distRatio:(p-n)/(p-u)}}return{id:0,distRatio:0}};function a(n,o,s){this.scene=n,this.uid=s,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var t=a.prototype;t.handlePick=function(n){if(n.object===this.mesh){var o=n.data.index,u=this.data._meshY[o],p=this.data._meshZ[o],c=this.data._Ys.length,x=this.data._Zs.length,g=d(this.data._meshX[o],this.data._Xs).id,h=d(u,this.data._Ys).id,y=d(p,this.data._Zs).id,v=n.index=y+x*h+x*c*g;n.traceCoordinate=[this.data._meshX[v],this.data._meshY[v],this.data._meshZ[v],this.data._value[v]];var m=this.data.hovertext||this.data.text;return Array.isArray(m)&&void 0!==m[v]?n.textLabel=m[v]:m&&(n.textLabel=m),!0}},t.update=function(n){var o=this.scene,s=o.fullSceneLayout;function u(x,g,h,y){return g.map(function(v){return x.d2l(v,0,y)*h})}this.data=r(n);var p={positions:b(u(s.xaxis,n._meshX,o.dataScale[0],n.xcalendar),u(s.yaxis,n._meshY,o.dataScale[1],n.ycalendar),u(s.zaxis,n._meshZ,o.dataScale[2],n.zcalendar)),cells:b(n._meshI,n._meshJ,n._meshK),lightPosition:[n.lightposition.x,n.lightposition.y,n.lightposition.z],ambient:n.lighting.ambient,diffuse:n.lighting.diffuse,specular:n.lighting.specular,roughness:n.lighting.roughness,fresnel:n.lighting.fresnel,vertexNormalsEpsilon:n.lighting.vertexnormalsepsilon,faceNormalsEpsilon:n.lighting.facenormalsepsilon,opacity:n.opacity,contourEnable:n.contour.show,contourColor:l(n.contour.color).slice(0,3),contourWidth:n.contour.width,useFacetNormals:n.flatshading},c=T(n);p.vertexIntensity=n._meshIntensity,p.vertexIntensityBounds=[c.min,c.max],p.colormap=k(n),this.mesh.update(p)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var i=["xyz","xzy","yxz","yzx","zxy","zyx"];function r(n){n._meshI=[],n._meshJ=[],n._meshK=[];var o,s,u,p,c,x,g,h=n.surface.show,y=n.spaceframe.show,v=n.surface.fill,m=n.spaceframe.fill,_=!1,f=!1,S=0,w=n._Xs,E=n._Ys,L=n._Zs,C=w.length,O=E.length,R=L.length,q=i.indexOf(n._gridFill.replace(/-/g,"").replace(/\+/g,"")),P=function(ve,Ce,Re){switch(q){case 5:return Re+R*Ce+R*O*ve;case 4:return Re+R*ve+R*C*Ce;case 3:return Ce+O*Re+O*R*ve;case 2:return Ce+O*ve+O*C*Re;case 1:return ve+C*Re+C*R*Ce;default:return ve+C*Ce+C*O*Re}},U=n._minValues,N=n._maxValues,F=n._vMin,j=n._vMax;function G(ve,Ce,Re){for(var Oe=x.length,je=s;je<Oe;je++)if(ve===u[je]&&Ce===p[je]&&Re===c[je])return je;return-1}function te(){s=o}function J(){u=[],p=[],c=[],x=[],o=0,te()}function X(ve,Ce,Re,Oe){return u.push(ve),p.push(Ce),c.push(Re),x.push(Oe),++o-1}function Y(ve,Ce,Re){for(var Oe=[],je=0;je<ve.length;je++)Oe[je]=ve[je]*(1-Re)+Re*Ce[je];return Oe}function W(ve){g=ve}function $(ve,Ce){return"all"===ve||null===ve||ve.indexOf(Ce)>-1}function ne(ve,Ce){return null===ve?Ce:ve}function re(ve,Ce,Re){te();var je,qe,kt,Ze,Xe,He,We,rt,nt,ze,Be,tt,et,gt,pt,Je=[Ce],it=[Re];if(g>=1)Je=[Ce],it=[Re];else if(g>0){var Qe=(Ze=Re,ze=Y(rt=function(vt,ut,wt){for(var ct=[],ft=0;ft<vt.length;ft++)ct[ft]=(vt[ft]+ut[ft]+wt[ft])/3;return ct}(Xe=(kt=Ce)[0],He=kt[1],We=kt[2]),Xe,nt=Math.sqrt(1-g)),{xyzv:[[Xe,He,Be=Y(rt,He,nt)],[Be,ze,Xe],[He,We,tt=Y(rt,We,nt)],[tt,Be,He],[We,Xe,ze],[ze,tt,We]],abc:[[et=Ze[0],gt=Ze[1],-1],[-1,-1,et],[gt,pt=Ze[2],-1],[-1,-1,gt],[pt,et,-1],[-1,-1,pt]]});Je=Qe.xyzv,it=Qe.abc}for(var dt=0;dt<Je.length;dt++){Ce=Je[dt],Re=it[dt];for(var yt=[],mt=0;mt<3;mt++){var at=Ce[mt][0],st=Ce[mt][1],Tt=Ce[mt][2],At=Ce[mt][3],Pt=Re[mt]>-1?Re[mt]:G(at,st,Tt);yt[mt]=Pt>-1?Pt:X(at,st,Tt,ne(ve,At))}je=yt[1],qe=yt[2],n._meshI.push(yt[0]),n._meshJ.push(je),n._meshK.push(qe),++S}}function oe(ve,Ce,Re,Oe){var je=ve[3];je<Re&&(je=Re),je>Oe&&(je=Oe);for(var qe=(ve[3]-je)/(ve[3]-Ce[3]+1e-9),Je=[],it=0;it<4;it++)Je[it]=(1-qe)*ve[it]+qe*Ce[it];return Je}function ue(ve,Ce,Re){return ve>=Ce&&ve<=Re}function xe(ve){var Ce=.001*(j-F);return ve>=F-Ce&&ve<=j+Ce}function Me(ve){for(var Ce=[],Re=0;Re<4;Re++){var Oe=ve[Re];Ce.push([n._x[Oe],n._y[Oe],n._z[Oe],n._value[Oe]])}return Ce}var me=3;function pe(ve,Ce,Re,Oe,je,qe){qe||(qe=1),Re=[-1,-1,-1];var Je=!1,it=[ue(Ce[0][3],Oe,je),ue(Ce[1][3],Oe,je),ue(Ce[2][3],Oe,je)];if(!it[0]&&!it[1]&&!it[2])return!1;var Qe=function(yt,mt,at){return xe(mt[0][3])&&xe(mt[1][3])&&xe(mt[2][3])?(re(yt,mt,at),!0):qe<me&&pe(yt,mt,at,F,j,++qe)};if(it[0]&&it[1]&&it[2])return Qe(ve,Ce,Re)||Je;var dt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(yt){if(it[yt[0]]&&it[yt[1]]&&!it[yt[2]]){var mt=Ce[yt[0]],at=Ce[yt[1]],st=Ce[yt[2]],Tt=oe(st,mt,Oe,je),At=oe(st,at,Oe,je);Je=Qe(ve,[At,Tt,mt],[-1,-1,Re[yt[0]]])||Je,Je=Qe(ve,[mt,at,At],[Re[yt[0]],Re[yt[1]],-1])||Je,dt=!0}}),dt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(yt){if(it[yt[0]]&&!it[yt[1]]&&!it[yt[2]]){var mt=Ce[yt[0]],st=Ce[yt[2]],Tt=oe(Ce[yt[1]],mt,Oe,je),At=oe(st,mt,Oe,je);Je=Qe(ve,[At,Tt,mt],[-1,-1,Re[yt[0]]])||Je,dt=!0}}),Je}function ge(ve,Ce,Re,Oe){var Qe,dt,yt,mt,je=!1,qe=Me(Ce),Je=[ue(qe[0][3],Re,Oe),ue(qe[1][3],Re,Oe),ue(qe[2][3],Re,Oe),ue(qe[3][3],Re,Oe)];if(!(Je[0]||Je[1]||Je[2]||Je[3]))return je;if(Je[0]&&Je[1]&&Je[2]&&Je[3])return f&&(Qe=ve,dt=qe,yt=Ce,(mt=function(at,st,Tt){re(Qe,[dt[at],dt[st],dt[Tt]],[yt[at],yt[st],yt[Tt]])})(0,1,2),mt(3,0,1),mt(2,3,0),je=void mt(1,2,3)||je),je;var it=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Qe){if(Je[Qe[0]]&&Je[Qe[1]]&&Je[Qe[2]]&&!Je[Qe[3]]){var dt=qe[Qe[0]],yt=qe[Qe[1]],mt=qe[Qe[2]],at=qe[Qe[3]];if(f)je=re(ve,[dt,yt,mt],[Ce[Qe[0]],Ce[Qe[1]],Ce[Qe[2]]])||je;else{var st=oe(at,dt,Re,Oe),Tt=oe(at,yt,Re,Oe),At=oe(at,mt,Re,Oe);je=re(null,[st,Tt,At],[-1,-1,-1])||je}it=!0}}),it||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Qe){if(Je[Qe[0]]&&Je[Qe[1]]&&!Je[Qe[2]]&&!Je[Qe[3]]){var dt=qe[Qe[0]],yt=qe[Qe[1]],mt=qe[Qe[2]],at=qe[Qe[3]],st=oe(mt,dt,Re,Oe),Tt=oe(mt,yt,Re,Oe),At=oe(at,yt,Re,Oe),Pt=oe(at,dt,Re,Oe);f?(je=re(ve,[dt,Pt,st],[Ce[Qe[0]],-1,-1])||je,je=re(ve,[yt,Tt,At],[Ce[Qe[1]],-1,-1])||je):(Ze=[st,Tt,At,Pt],Xe=[-1,-1,-1,-1],(He=function(We,rt,nt){re(null,[Ze[We],Ze[rt],Ze[nt]],[Xe[We],Xe[rt],Xe[nt]])})(0,1,2),je=void He(2,3,0)||je),it=!0}var Ze,Xe,He}),it||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Qe){if(Je[Qe[0]]&&!Je[Qe[1]]&&!Je[Qe[2]]&&!Je[Qe[3]]){var dt=qe[Qe[0]],mt=qe[Qe[2]],at=qe[Qe[3]],st=oe(qe[Qe[1]],dt,Re,Oe),Tt=oe(mt,dt,Re,Oe),At=oe(at,dt,Re,Oe);f?(je=re(ve,[dt,st,Tt],[Ce[Qe[0]],-1,-1])||je,je=re(ve,[dt,Tt,At],[Ce[Qe[0]],-1,-1])||je,je=re(ve,[dt,At,st],[Ce[Qe[0]],-1,-1])||je):je=re(null,[st,Tt,At],[-1,-1,-1])||je,it=!0}})),je}function Pe(ve,Ce,Re,Oe,je,qe,Je,it,Qe,dt,yt){var mt=!1;return _&&($(ve,"A")&&(mt=ge(null,[Ce,Re,Oe,qe],dt,yt)||mt),$(ve,"B")&&(mt=ge(null,[Re,Oe,je,Qe],dt,yt)||mt),$(ve,"C")&&(mt=ge(null,[Re,qe,Je,Qe],dt,yt)||mt),$(ve,"D")&&(mt=ge(null,[Oe,qe,it,Qe],dt,yt)||mt),$(ve,"E")&&(mt=ge(null,[Re,Oe,qe,Qe],dt,yt)||mt)),f&&(mt=ge(ve,[Re,Oe,qe,Qe],dt,yt)||mt),mt}function _e(ve,Ce,Re,Oe,je,qe,Je,it){return[!0===it[0]||pe(ve,Me([Ce,Re,Oe]),[Ce,Re,Oe],qe,Je),!0===it[1]||pe(ve,Me([Oe,je,Ce]),[Oe,je,Ce],qe,Je)]}function we(ve,Ce,Re,Oe,je,qe,Je,it,Qe){return it?_e(ve,Ce,Re,je,Oe,qe,Je,Qe):_e(ve,Re,je,Oe,Ce,qe,Je,Qe)}function se(ve,Ce,Re,Oe,je,qe,Je){var it,Qe,dt,yt,mt=!1,at=function(){mt=pe(ve,[it,Qe,dt],[-1,-1,-1],je,qe)||mt,mt=pe(ve,[dt,yt,it],[-1,-1,-1],je,qe)||mt},st=Je[0],Tt=Je[1],At=Je[2];return st&&(it=Y(Me([P(Ce,Re-0,Oe-0)])[0],Me([P(Ce-1,Re-0,Oe-0)])[0],st),Qe=Y(Me([P(Ce,Re-0,Oe-1)])[0],Me([P(Ce-1,Re-0,Oe-1)])[0],st),dt=Y(Me([P(Ce,Re-1,Oe-1)])[0],Me([P(Ce-1,Re-1,Oe-1)])[0],st),yt=Y(Me([P(Ce,Re-1,Oe-0)])[0],Me([P(Ce-1,Re-1,Oe-0)])[0],st),at()),Tt&&(it=Y(Me([P(Ce-0,Re,Oe-0)])[0],Me([P(Ce-0,Re-1,Oe-0)])[0],Tt),Qe=Y(Me([P(Ce-0,Re,Oe-1)])[0],Me([P(Ce-0,Re-1,Oe-1)])[0],Tt),dt=Y(Me([P(Ce-1,Re,Oe-1)])[0],Me([P(Ce-1,Re-1,Oe-1)])[0],Tt),yt=Y(Me([P(Ce-1,Re,Oe-0)])[0],Me([P(Ce-1,Re-1,Oe-0)])[0],Tt),at()),At&&(it=Y(Me([P(Ce-0,Re-0,Oe)])[0],Me([P(Ce-0,Re-0,Oe-1)])[0],At),Qe=Y(Me([P(Ce-0,Re-1,Oe)])[0],Me([P(Ce-0,Re-1,Oe-1)])[0],At),dt=Y(Me([P(Ce-1,Re-1,Oe)])[0],Me([P(Ce-1,Re-1,Oe-1)])[0],At),yt=Y(Me([P(Ce-1,Re-0,Oe)])[0],Me([P(Ce-1,Re-0,Oe-1)])[0],At),at()),mt}function ae(ve,Ce,Re,Oe,je,qe,Je,it,Qe,dt,yt,mt){var at=ve;return mt?(_&&"even"===ve&&(at=null),Pe(at,Ce,Re,Oe,je,qe,Je,it,Qe,dt,yt)):(_&&"odd"===ve&&(at=null),Pe(at,Qe,it,Je,qe,je,Oe,Re,Ce,dt,yt))}function fe(ve,Ce,Re,Oe,je){for(var qe=[],Je=0,it=0;it<Ce.length;it++)for(var Qe=Ce[it],dt=1;dt<R;dt++)for(var yt=1;yt<O;yt++)qe.push(we(ve,P(Qe,yt-1,dt-1),P(Qe,yt-1,dt),P(Qe,yt,dt-1),P(Qe,yt,dt),Re,Oe,(Qe+yt+dt)%2,je&&je[Je]?je[Je]:[])),Je++;return qe}function Ee(ve,Ce,Re,Oe,je){for(var qe=[],Je=0,it=0;it<Ce.length;it++)for(var Qe=Ce[it],dt=1;dt<C;dt++)for(var yt=1;yt<R;yt++)qe.push(we(ve,P(dt-1,Qe,yt-1),P(dt,Qe,yt-1),P(dt-1,Qe,yt),P(dt,Qe,yt),Re,Oe,(dt+Qe+yt)%2,je&&je[Je]?je[Je]:[])),Je++;return qe}function ke(ve,Ce,Re,Oe,je){for(var qe=[],Je=0,it=0;it<Ce.length;it++)for(var Qe=Ce[it],dt=1;dt<O;dt++)for(var yt=1;yt<C;yt++)qe.push(we(ve,P(yt-1,dt-1,Qe),P(yt-1,dt,Qe),P(yt,dt-1,Qe),P(yt,dt,Qe),Re,Oe,(yt+dt+Qe)%2,je&&je[Je]?je[Je]:[])),Je++;return qe}function be(ve,Ce,Re){for(var Oe=1;Oe<R;Oe++)for(var je=1;je<O;je++)for(var qe=1;qe<C;qe++)ae(ve,P(qe-1,je-1,Oe-1),P(qe-1,je-1,Oe),P(qe-1,je,Oe-1),P(qe-1,je,Oe),P(qe,je-1,Oe-1),P(qe,je-1,Oe),P(qe,je,Oe-1),P(qe,je,Oe),Ce,Re,(qe+je+Oe)%2)}function Ie(ve,Ce,Re,Oe,je,qe){for(var Je=[],Qe=0;Qe<Ce.length;Qe++)for(var dt=Ce[Qe],yt=1;yt<R;yt++)for(var mt=1;mt<O;mt++)Je.push(se(ve,dt,mt,yt,Re,Oe,je[Qe]));return Je}function Fe(ve,Ce,Re,Oe,je,qe){for(var Je=[],Qe=0;Qe<Ce.length;Qe++)for(var dt=Ce[Qe],yt=1;yt<C;yt++)for(var mt=1;mt<R;mt++)Je.push(se(ve,yt,dt,mt,Re,Oe,je[Qe]));return Je}function ce(ve,Ce,Re,Oe,je,qe){for(var Je=[],Qe=0;Qe<Ce.length;Qe++)for(var dt=Ce[Qe],yt=1;yt<O;yt++)for(var mt=1;mt<C;mt++)Je.push(se(ve,mt,yt,dt,Re,Oe,je[Qe]));return Je}function Te(ve,Ce){for(var Re=[],Oe=ve;Oe<Ce;Oe++)Re.push(Oe);return Re}return function(){J(),function(){for(var Qe=0;Qe<C;Qe++)for(var dt=0;dt<O;dt++)for(var yt=0;yt<R;yt++){var mt=P(Qe,dt,yt);X(n._x[mt],n._y[mt],n._z[mt],n._value[mt])}}();var ve=null;if(y&&m&&(W(m),f=!0,be(ve,F,j),f=!1),h&&v){W(v);for(var Ce=n.surface.pattern,Re=n.surface.count,Oe=0;Oe<Re;Oe++){var je=1===Re?.5:Oe/(Re-1),qe=(1-je)*F+je*j,Je=Math.abs(qe-U)>Math.abs(qe-N)?[U,qe]:[qe,N];_=!0,be(Ce,Je[0],Je[1]),_=!1}}var it=[[Math.min(F,N),Math.max(F,N)],[Math.min(U,j),Math.max(U,j)]];["x","y","z"].forEach(function(Qe){for(var dt=[],yt=0;yt<it.length;yt++){var mt=0,at=it[yt][0],st=it[yt][1],Tt=n.slices[Qe];if(Tt.show&&Tt.fill){W(Tt.fill);var At=[],Pt=[],kt=[];if(Tt.locations.length)for(var Ze=0;Ze<Tt.locations.length;Ze++){var Xe=d(Tt.locations[Ze],"x"===Qe?w:"y"===Qe?E:L);0===Xe.distRatio?At.push(Xe.id):Xe.id>0&&(Pt.push(Xe.id),kt.push("x"===Qe?[Xe.distRatio,0,0]:"y"===Qe?[0,Xe.distRatio,0]:[0,0,Xe.distRatio]))}else At=Te(1,"x"===Qe?C-1:"y"===Qe?O-1:R-1);Pt.length>0&&(dt[mt]="x"===Qe?Ie(ve,Pt,at,st,kt):"y"===Qe?Fe(ve,Pt,at,st,kt):ce(ve,Pt,at,st,kt),mt++),At.length>0&&(dt[mt]="x"===Qe?fe(ve,At,at,st,dt[mt]):"y"===Qe?Ee(ve,At,at,st,dt[mt]):ke(ve,At,at,st,dt[mt]),mt++)}var He=n.caps[Qe];He.show&&He.fill&&(W(He.fill),dt[mt]="x"===Qe?fe(ve,[0,C-1],at,st,dt[mt]):"y"===Qe?Ee(ve,[0,O-1],at,st,dt[mt]):ke(ve,[0,R-1],at,st,dt[mt]),mt++)}}),0===S&&J(),n._meshX=u,n._meshY=p,n._meshZ=c,n._meshIntensity=x,n._Xs=w,n._Ys=E,n._Zs=L}(),n}ee.exports={findNearestOnAxis:d,generateIsoMeshes:r,createIsosurfaceTrace:function(n,o){var u=A({gl:n.glplot.gl}),p=new a(n,u,o.uid);return u._trace=p,p.update(o),n.glplot.add(u),p}}},82738:function(ee,D,e){"use strict";var A=e(71828),k=e(73972),l=e(16249),T=e(1586);function b(d,a,t,i,r){var n=r("isomin"),o=r("isomax");null!=o&&null!=n&&n>o&&(a.isomin=null,a.isomax=null);var s=r("x"),u=r("y"),p=r("z"),c=r("value");s&&s.length&&u&&u.length&&p&&p.length&&c&&c.length?(k.getComponentMethod("calendars","handleTraceDefaults")(d,a,["x","y","z"],i),r("valuehoverformat"),["x","y","z"].forEach(function(x){r(x+"hoverformat");var g="caps."+x;r(g+".show")&&r(g+".fill");var h="slices."+x;r(h+".show")&&(r(h+".fill"),r(h+".locations"))}),r("spaceframe.show")&&r("spaceframe.fill"),r("surface.show")&&(r("surface.count"),r("surface.fill"),r("surface.pattern")),r("contour.show")&&(r("contour.color"),r("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(x){r(x)}),T(d,a,i,r,{prefix:"",cLetter:"c"}),a._length=null):a.visible=!1}ee.exports={supplyDefaults:function(d,a,t,i){b(d,a,0,i,function(r,n){return A.coerce(d,a,l,r,n)})},supplyIsoDefaults:b}},64943:function(ee,D,e){"use strict";ee.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(ee,D,e){"use strict";var A=e(50693),k=e(12663).axisHoverFormat,l=e(5386).fF,T=e(54532),b=e(9012),d=e(1426).extendFlat;ee.exports=d({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:l({editType:"calc"}),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},A("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:T.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:d({},T.contours.x.show,{}),color:T.contours.x.color,width:T.contours.x.width,editType:"calc"},lightposition:{x:d({},T.lightposition.x,{dflt:1e5}),y:d({},T.lightposition.y,{dflt:1e5}),z:d({},T.lightposition.z,{dflt:0}),editType:"calc"},lighting:d({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},T.lighting),hoverinfo:d({},b.hoverinfo,{editType:"calc"}),showlegend:d({},b.showlegend,{dflt:!1})})},82932:function(ee,D,e){"use strict";var A=e(78803);ee.exports=function(k,l){l.intensity&&A(k,l,{vals:l.intensity,containerStr:"",cLetter:"c"})}},91134:function(ee,D,e){"use strict";var A=e(9330).gl_mesh3d,k=e(9330).delaunay_triangulate,l=e(9330).alpha_shape,T=e(9330).convex_hull,b=e(81697).parseColorScale,d=e(78614),a=e(21081).extractOpts,t=e(90060);function i(p,c,x){this.scene=p,this.uid=x,this.mesh=c,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var r=i.prototype;function n(p){for(var c=[],x=p.length,g=0;g<x;g++)c[g]=d(p[g]);return c}function o(p,c,x,g){for(var h=[],y=c.length,v=0;v<y;v++)h[v]=p.d2l(c[v],0,g)*x;return h}function s(p){for(var c=[],x=p.length,g=0;g<x;g++)c[g]=Math.round(p[g]);return c}function u(p,c){for(var x=p.length,g=0;g<x;g++)if(p[g]<=-.5||p[g]>=c-.5)return!1;return!0}r.handlePick=function(p){if(p.object===this.mesh){var c=p.index=p.data.index;p.traceCoordinate=p.data._cellCenter?p.data.dataCoordinate:[this.data.x[c],this.data.y[c],this.data.z[c]];var x=this.data.hovertext||this.data.text;return Array.isArray(x)&&void 0!==x[c]?p.textLabel=x[c]:x&&(p.textLabel=x),!0}},r.update=function(p){var c=this.scene,x=c.fullSceneLayout;this.data=p;var g,h=p.x.length,y=t(o(x.xaxis,p.x,c.dataScale[0],p.xcalendar),o(x.yaxis,p.y,c.dataScale[1],p.ycalendar),o(x.zaxis,p.z,c.dataScale[2],p.zcalendar));if(p.i&&p.j&&p.k){if(p.i.length!==p.j.length||p.j.length!==p.k.length||!u(p.i,h)||!u(p.j,h)||!u(p.k,h))return;g=t(s(p.i),s(p.j),s(p.k))}else g=0===p.alphahull?T(y):p.alphahull>0?l(p.alphahull,y):function(f,S){for(var w=["x","y","z"].indexOf(f),E=[],L=S.length,C=0;C<L;C++)E[C]=[S[C][(w+1)%3],S[C][(w+2)%3]];return k(E)}(p.delaunayaxis,y);var v={positions:y,cells:g,lightPosition:[p.lightposition.x,p.lightposition.y,p.lightposition.z],ambient:p.lighting.ambient,diffuse:p.lighting.diffuse,specular:p.lighting.specular,roughness:p.lighting.roughness,fresnel:p.lighting.fresnel,vertexNormalsEpsilon:p.lighting.vertexnormalsepsilon,faceNormalsEpsilon:p.lighting.facenormalsepsilon,opacity:p.opacity,contourEnable:p.contour.show,contourColor:d(p.contour.color).slice(0,3),contourWidth:p.contour.width,useFacetNormals:p.flatshading};if(p.intensity){var m=a(p);this.color="#fff";var _=p.intensitymode;v[_+"Intensity"]=p.intensity,v[_+"IntensityBounds"]=[m.min,m.max],v.colormap=b(p)}else p.vertexcolor?(this.color=p.vertexcolor[0],v.vertexColors=n(p.vertexcolor)):p.facecolor?(this.color=p.facecolor[0],v.cellColors=n(p.facecolor)):(this.color=p.color,v.meshColor=d(p.color));this.mesh.update(v)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ee.exports=function(p,c){var g=A({gl:p.glplot.gl}),h=new i(p,g,c.uid);return g._trace=h,h.update(c),p.glplot.add(g),h}},58669:function(ee,D,e){"use strict";var A=e(73972),k=e(71828),l=e(1586),T=e(2418);ee.exports=function(b,d,a,t){function i(n,o){return k.coerce(b,d,T,n,o)}function r(n){var o=n.map(function(s){var u=i(s);return u&&k.isArrayOrTypedArray(u)?u:null});return o.every(function(s){return s&&s.length===o[0].length})&&o}r(["x","y","z"])?(r(["i","j","k"]),(!d.i||d.j&&d.k)&&(!d.j||d.k&&d.i)&&(!d.k||d.i&&d.j)?(A.getComponentMethod("calendars","handleTraceDefaults")(b,d,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(n){i(n)}),i("contour.show")&&(i("contour.color"),i("contour.width")),"intensity"in b?(i("intensity"),i("intensitymode"),l(b,d,t,i,{prefix:"",cLetter:"c"})):(d.showscale=!1,"facecolor"in b?i("facecolor"):"vertexcolor"in b?i("vertexcolor"):i("color",a)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),d._length=null):d.visible=!1):d.visible=!1}},21164:function(ee,D,e){"use strict";ee.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(ee,D,e){"use strict";var A=e(71828).extendFlat,k=e(82196),l=e(12663).axisHoverFormat,T=e(79952).P,b=e(77914),d=e(22372),a=d.INCREASING.COLOR,t=d.DECREASING.COLOR,i=k.line;function r(n){return{line:{color:A({},i.color,{dflt:n}),width:i.width,dash:T,editType:"style"},editType:"style"}}ee.exports={xperiod:k.xperiod,xperiod0:k.xperiod0,xperiodalignment:k.xperiodalignment,xhoverformat:l("x"),yhoverformat:l("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:A({},i.width,{}),dash:A({},T,{}),editType:"style"},increasing:r(a),decreasing:r(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:A({},b.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(ee,D,e){"use strict";var A=e(71828),k=A._,l=e(89298),T=e(42973),b=e(50606).BADNUM;function d(t,i,r,n){return{o:t,h:i,l:r,c:n}}function a(t,i,r,n,o,s){for(var u=o.makeCalcdata(i,"open"),p=o.makeCalcdata(i,"high"),c=o.makeCalcdata(i,"low"),x=o.makeCalcdata(i,"close"),g=Array.isArray(i.text),h=Array.isArray(i.hovertext),y=!0,v=null,m=!!i.xperiodalignment,_=[],f=0;f<n.length;f++){var S=n[f],w=u[f],E=p[f],L=c[f],C=x[f];if(S!==b&&w!==b&&E!==b&&L!==b&&C!==b){C===w?null!==v&&C!==v&&(y=C>v):y=C>w,v=C;var O=s(w,E,L,C);O.pos=S,O.yc=(w+C)/2,O.i=f,O.dir=y?"increasing":"decreasing",O.x=O.pos,O.y=[L,E],m&&(O.orig_p=r[f]),g&&(O.tx=i.text[f]),h&&(O.htx=i.hovertext[f]),_.push(O)}else _.push({pos:S,empty:!0})}return i._extremes[o._id]=l.findExtremes(o,A.concat(c,p),{padded:!0}),_.length&&(_[0].t={labels:{open:k(t,"open:")+" ",high:k(t,"high:")+" ",low:k(t,"low:")+" ",close:k(t,"close:")+" "}}),_}ee.exports={calc:function(t,i){var r=l.getFromId(t,i.xaxis),n=l.getFromId(t,i.yaxis),o=function(x,g,h){var y=h._minDiff;if(!y){var v,m=x._fullData,_=[];for(y=1/0,v=0;v<m.length;v++){var f=m[v];if("ohlc"===f.type&&!0===f.visible&&f.xaxis===g._id){_.push(f);var S=g.makeCalcdata(f,"x");f._origX=S;var w=T(h,g,"x",S).vals;f._xcalc=w;var E=A.distinctVals(w).minDiff;E&&isFinite(E)&&(y=Math.min(y,E))}}for(y===1/0&&(y=1),v=0;v<_.length;v++)_[v]._minDiff=y}return y*h.tickwidth}(t,r,i),s=i._minDiff;i._minDiff=null;var u=i._origX;i._origX=null;var p=i._xcalc;i._xcalc=null;var c=a(t,i,u,p,n,d);return i._extremes[r._id]=l.findExtremes(r,p,{vpad:s/2}),c.length?(A.extendFlat(c[0].t,{wHover:s/2,tickLen:o}),c):[{t:{empty:!0}}]},calcCommon:a}},16169:function(ee,D,e){"use strict";var A=e(71828),k=e(14555),l=e(73927),T=e(2522);function b(d,a,t,i){t(i+".line.color"),t(i+".line.width",a.line.width),t(i+".line.dash",a.line.dash)}ee.exports=function(d,a,t,i){function r(n,o){return A.coerce(d,a,T,n,o)}k(d,a,r,i)?(l(d,a,i,r,{x:!0}),r("xhoverformat"),r("yhoverformat"),r("line.width"),r("line.dash"),b(0,a,r,"increasing"),b(0,a,r,"decreasing"),r("text"),r("hovertext"),r("tickwidth"),i._requestRangeslider[a.xaxis]=!0):a.visible=!1}},66449:function(ee,D,e){"use strict";var A=e(89298),k=e(71828),l=e(30211),T=e(7901),b=e(71828).fillText,d=e(22372),a={increasing:d.INCREASING.SYMBOL,decreasing:d.DECREASING.SYMBOL};function t(n,o,s,u){var p,c,x=n.cd,g=n.xa,h=x[0].trace,y=x[0].t,v=h.type,m="ohlc"===v?"l":"min",_="ohlc"===v?"h":"max",f=y.bPos||0,S=function(F){return F.pos+f-o},w=y.bdPos||y.tickLen,E=y.wHover,L=Math.min(1,w/Math.abs(g.r2c(g.range[1])-g.r2c(g.range[0])));function C(F){var j=S(F);return l.inbox(j-E,j+E,p)}function O(F){var j=F[m],G=F[_];return j===G||l.inbox(j-s,G-s,p)}function R(F){return(C(F)+O(F))/2}p=n.maxHoverDistance-L,c=n.maxSpikeDistance-L;var q=l.getDistanceFunction(u,C,O,R);if(l.getClosest(x,q,n),!1===n.index)return null;var P=x[n.index];if(P.empty)return null;var U=h[P.dir],N=U.line.color;return n.color=T.opacity(N)&&U.line.width?N:U.fillcolor,n.x0=g.c2p(P.pos+f-w,!0),n.x1=g.c2p(P.pos+f+w,!0),n.xLabelVal=void 0!==P.orig_p?P.orig_p:P.pos,n.spikeDistance=R(P)*c/p,n.xSpike=g.c2p(P.pos,!0),n}function i(n,o,s,u){var p=n.cd,c=n.ya,x=p[0].trace,g=p[0].t,h=[],y=t(n,o,s,u);if(!y)return[];var v=p[y.index].hi||x.hoverinfo,m=v.split("+");if("all"!==v&&-1===m.indexOf("y"))return[];for(var _=["high","open","close","low"],f={},S=0;S<_.length;S++){var w,E=_[S],L=x[E][y.index],C=c.c2p(L,!0);L in f?(w=f[L]).yLabel+="<br>"+g.labels[E]+A.hoverLabelText(c,L,x.yhoverformat):((w=k.extendFlat({},y)).y0=w.y1=C,w.yLabelVal=L,w.yLabel=g.labels[E]+A.hoverLabelText(c,L,x.yhoverformat),w.name="",h.push(w),f[L]=w)}return h}function r(n,o,s,u){var p=n.cd,c=n.ya,x=p[0].trace,g=p[0].t,h=t(n,o,s,u);if(!h)return[];var y=p[h.index],v=h.index=y.i,m=y.dir;function _(O){return g.labels[O]+A.hoverLabelText(c,x[O][v],x.yhoverformat)}var f=y.hi||x.hoverinfo,S=f.split("+"),w="all"===f,E=w||-1!==S.indexOf("y"),L=w||-1!==S.indexOf("text"),C=E?[_("open"),_("high"),_("low"),_("close")+"  "+a[m]]:[];return L&&b(y,x,C),h.extraText=C.join("<br>"),h.y0=h.y1=c.c2p(y.yc,!0),[h]}ee.exports={hoverPoints:function(n,o,s,u){return n.cd[0].trace.hoverlabel.split?i(n,o,s,u):r(n,o,s,u)},hoverSplit:i,hoverOnPoints:r}},54186:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(ee,D,e){"use strict";var A=e(73972),k=e(71828);ee.exports=function(l,T,b,d){var a=b("x"),t=b("open"),i=b("high"),r=b("low"),n=b("close");if(b("hoverlabel.split"),A.getComponentMethod("calendars","handleTraceDefaults")(l,T,["x"],d),t&&i&&r&&n){var o=Math.min(t.length,i.length,r.length,n.length);return a&&(o=Math.min(o,k.minRowLength(a))),T._length=o,o}}},72314:function(ee,D,e){"use strict";var A=e(39898),k=e(71828);ee.exports=function(l,T,b,d){var a=T.yaxis,t=T.xaxis,i=!!t.rangebreaks;k.makeTraceGroups(d,b,"trace ohlc").each(function(r){var n=A.select(this),o=r[0],s=o.t;if(!0!==o.trace.visible||s.empty)n.remove();else{var u=s.tickLen,p=n.selectAll("path").data(k.identity);p.enter().append("path"),p.exit().remove(),p.attr("d",function(c){if(c.empty)return"M0,0Z";var x=t.c2p(c.pos-u,!0),g=t.c2p(c.pos+u,!0),h=i?(x+g)/2:t.c2p(c.pos,!0);return"M"+x+","+a.c2p(c.o,!0)+"H"+h+"M"+h+","+a.c2p(c.h,!0)+"V"+a.c2p(c.l,!0)+"M"+g+","+a.c2p(c.c,!0)+"H"+h})}})}},67324:function(ee){"use strict";ee.exports=function(D,e){var A,k=D.cd,l=D.xaxis,T=D.yaxis,b=[],d=k[0].t.bPos||0;if(!1===e)for(A=0;A<k.length;A++)k[A].selected=0;else for(A=0;A<k.length;A++){var a=k[A];e.contains([l.c2p(a.pos+d),T.c2p(a.yc)],null,a.i,D)?(b.push({pointNumber:a.i,x:l.c2d(a.pos),y:T.c2d(a.yc)}),a.selected=1):a.selected=0}return b}},53101:function(ee,D,e){"use strict";var A=e(39898),k=e(91424),l=e(7901);ee.exports=function(T,b,d){var a=d||A.select(T).selectAll("g.ohlclayer").selectAll("g.trace");a.style("opacity",function(t){return t[0].trace.opacity}),a.each(function(t){var i=t[0].trace;A.select(this).selectAll("path").each(function(r){if(!r.empty){var n=i[r.dir].line;A.select(this).style("fill","none").call(l.stroke,n.color).call(k.dashLine,n.dash,n.width).style("opacity",i.selectedpoints&&!r.selected?.3:1)}})})}},99506:function(ee,D,e){"use strict";var A=e(1426).extendFlat,k=e(9012),l=e(41940),T=e(50693),b=e(5386).fF,d=e(27670).Y,a=A({editType:"calc"},T("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});ee.exports={domain:d({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:A({},k.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:l({editType:"calc"}),tickfont:l({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:a,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(ee,D,e){"use strict";var A=e(27659).a0,k=e(45784),l="parcats";D.name=l,D.plot=function(T,b,d,a){var t=A(T.calcdata,l);t.length&&k(T,t[0],d,a)},D.clean=function(T,b,d,a){var t=a._has&&a._has("parcats"),i=b._has&&b._has("parcats");t&&!i&&a._paperdiv.selectAll(".parcats").remove()}},28699:function(ee,D,e){"use strict";var A=e(28984).wrap,k=e(52075).hasColorscale,l=e(78803),T=e(75744),b=e(91424),d=e(71828),a=e(92770);function t(n,o,s){n.valueInds.push(o),n.count+=s}function i(n,o,s){return{categoryInds:n,color:o,rawColor:s,valueInds:[],count:0}}function r(n,o,s){n.valueInds.push(o),n.count+=s}ee.exports=function(n,o){var s=d.filterVisible(o.dimensions);if(0===s.length)return[];var u,p,c,x=s.map(function(G){var te;if("trace"===G.categoryorder)te=null;else if("array"===G.categoryorder)te=G.categoryarray;else{te=T(G.values);for(var J=!0,X=0;X<te.length;X++)if(!a(te[X])){J=!1;break}te.sort(J?d.sorterAsc:void 0),"category descending"===G.categoryorder&&(te=te.reverse())}return function(Y,W){W=null==W?[]:W.map(function(me){return me});var $={},ne={},re=[];W.forEach(function(me,pe){$[me]=0,ne[me]=pe});for(var oe=0;oe<Y.length;oe++){var ue,xe=Y[oe];void 0===$[xe]?($[xe]=1,ue=W.push(xe)-1,ne[xe]=ue):($[xe]++,ue=ne[xe]),re.push(ue)}var Me=W.map(function(me){return $[me]});return{uniqueValues:W,uniqueCounts:Me,inds:re}}(G.values,te)});u=d.isArrayOrTypedArray(o.counts)?o.counts:[o.counts],function(G){var te;if(function(X){for(var Y=new Array(X.length),W=0;W<X.length;W++){if(X[W]<0||X[W]>=X.length||void 0!==Y[X[W]])return!1;Y[X[W]]=!0}return!0}(G.map(function(X){return X.displayindex})))for(te=0;te<G.length;te++)G[te]._displayindex=G[te].displayindex;else for(te=0;te<G.length;te++)G[te]._displayindex=te}(s),s.forEach(function(G,te){!function(J,X){J._categoryarray=X.uniqueValues,J._ticktext=null==J.ticktext?[]:J.ticktext.slice();for(var Y=J._ticktext.length;Y<X.uniqueValues.length;Y++)J._ticktext.push(X.uniqueValues[Y])}(G,x[te])});var g,h=o.line;h?(k(o,"line")&&l(n,o,{vals:o.line.color,containerStr:"line",cLetter:"c"}),g=b.tryColorscale(h)):g=d.identity;var y,v,m,_,f,S=s[0].values.length,w={},E=x.map(function(G){return G.inds});for(c=0,y=0;y<S;y++){var L=[];for(v=0;v<E.length;v++)L.push(E[v][y]);c+=p=u[y%u.length];var C=(m=y,_=void 0,f=void 0,d.isArrayOrTypedArray(h.color)?f=_=h.color[m%h.color.length]:_=h.color,{color:g(_),rawColor:f}),O=L+"-"+C.rawColor;void 0===w[O]&&(w[O]=i(L,C.color,C.rawColor)),r(w[O],y,p)}var R,G,te,J,X,q=s.map(function(G,te){return{dimensionInd:te,containerInd:G._index,displayInd:G._displayindex,dimensionLabel:G.label,count:c,categories:[],dragX:null}});for(y=0;y<S;y++)for(p=u[y%u.length],v=0;v<q.length;v++){var P=q[v].containerInd,U=x[v].inds[y],N=q[v].categories;void 0===N[U]&&(N[U]={dimensionInd:v,categoryInd:R=U,categoryValue:o.dimensions[P]._categoryarray[U],displayInd:R,categoryLabel:o.dimensions[P]._ticktext[U],valueInds:[],count:0,dragY:null}),t(N[U],y,p)}return A((te=w,J=c,X=(G=q).map(function(Y){return Y.categories.length}).reduce(function(Y,W){return Math.max(Y,W)}),{dimensions:G,paths:te,trace:void 0,maxCats:X,count:J}))}},14647:function(ee,D,e){"use strict";var A=e(71828),k=e(52075).hasColorscale,l=e(1586),T=e(27670).c,b=e(85501),d=e(99506),a=e(94397);function t(i,r){function n(g,h){return A.coerce(i,r,d.dimensions,g,h)}var o=n("values"),s=n("visible");if(o&&o.length||(s=r.visible=!1),s){n("label"),n("displayindex",r._index);var u,p=i.categoryarray,c=Array.isArray(p)&&p.length>0;c&&(u="array");var x=n("categoryorder",u);"array"===x?(n("categoryarray"),n("ticktext")):(delete i.categoryarray,delete i.ticktext),c||"array"!==x||(r.categoryorder="trace")}}ee.exports=function(i,r,n,o){function s(g,h){return A.coerce(i,r,d,g,h)}var u=b(i,r,{name:"dimensions",handleItemDefaults:t}),p=function(g,h,y,v,m){m("line.shape"),m("line.hovertemplate");var _=m("line.color",v.colorway[0]);if(k(g,"line")&&A.isArrayOrTypedArray(_)){if(_.length)return m("line.colorscale"),l(g,h,v,m,{prefix:"line.",cLetter:"c"}),_.length;h.line.color=y}return 1/0}(i,r,n,o,s);T(r,o,s),Array.isArray(u)&&u.length||(r.visible=!1),a(r,u,"values",p),s("hoveron"),s("hovertemplate"),s("arrangement"),s("bundlecolors"),s("sortpaths"),s("counts");var c={family:o.font.family,size:Math.round(o.font.size),color:o.font.color};A.coerceFont(s,"labelfont",c);var x={family:o.font.family,size:Math.round(o.font.size/1.2),color:o.font.color};A.coerceFont(s,"tickfont",x)}},94873:function(ee,D,e){"use strict";ee.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(ee,D,e){"use strict";var A=e(39898),k=e(81684).k4,l=e(72391),T=e(30211),b=e(71828),d=b.strTranslate,a=e(91424),t=e(84267),i=e(63893);function r(J,X,Y,W){var $=X._context.staticPlot,ne=J.map(N.bind(0,X,Y)),re=W.selectAll("g.parcatslayer").data([null]);re.enter().append("g").attr("class","parcatslayer").style("pointer-events",$?"none":"all");var oe=re.selectAll("g.trace.parcats").data(ne,n),ue=oe.enter().append("g").attr("class","trace parcats");oe.attr("transform",function(se){return d(se.x,se.y)}),ue.append("g").attr("class","paths");var xe=oe.select("g.paths").selectAll("path.path").data(function(se){return se.paths},n);xe.attr("fill",function(se){return se.model.color});var Me=xe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(se){return se.model.color}).attr("fill-opacity",0);h(Me),xe.attr("d",function(se){return se.svgD}),Me.empty()||xe.sort(s),xe.exit().remove(),xe.on("mouseover",u).on("mouseout",p).on("click",g),ue.append("g").attr("class","dimensions");var me=oe.select("g.dimensions").selectAll("g.dimension").data(function(se){return se.dimensions},n);me.enter().append("g").attr("class","dimension"),me.attr("transform",function(se){return d(se.x,0)}),me.exit().remove();var pe=me.selectAll("g.category").data(function(se){return se.categories},n),ge=pe.enter().append("g").attr("class","category");pe.attr("transform",function(se){return d(0,se.y)}),ge.append("rect").attr("class","catrect").attr("pointer-events","none"),pe.select("rect.catrect").attr("fill","none").attr("width",function(se){return se.width}).attr("height",function(se){return se.height}),v(ge);var Pe=pe.selectAll("rect.bandrect").data(function(se){return se.bands},n);Pe.each(function(){b.raiseToTop(this)}),Pe.attr("fill",function(se){return se.color});var _e=Pe.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(se){return se.color}).attr("fill-opacity",0);Pe.attr("fill",function(se){return se.color}).attr("width",function(se){return se.width}).attr("height",function(se){return se.height}).attr("y",function(se){return se.y}).attr("cursor",function(se){return"fixed"===se.parcatsViewModel.arrangement?"default":"perpendicular"===se.parcatsViewModel.arrangement?"ns-resize":"move"}),m(_e),Pe.exit().remove(),ge.append("text").attr("class","catlabel").attr("pointer-events","none");var we=X._fullLayout.paper_bgcolor;pe.select("text.catlabel").attr("text-anchor",function(se){return o(se)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",i.makeTextShadow(we)).style("fill","rgb(0, 0, 0)").attr("x",function(se){return o(se)?se.width+5:-5}).attr("y",function(se){return se.height/2}).text(function(se){return se.model.categoryLabel}).each(function(se){a.font(A.select(this),se.parcatsViewModel.categorylabelfont),i.convertToTspans(A.select(this),X)}),ge.append("text").attr("class","dimlabel"),pe.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(se){return"fixed"===se.parcatsViewModel.arrangement?"default":"ew-resize"}).attr("x",function(se){return se.width/2}).attr("y",-5).text(function(se,ae){return 0===ae?se.parcatsViewModel.model.dimensions[se.model.dimensionInd].dimensionLabel:null}).each(function(se){a.font(A.select(this),se.parcatsViewModel.labelfont)}),pe.selectAll("rect.bandrect").on("mouseover",E).on("mouseout",L),pe.exit().remove(),me.call(A.behavior.drag().origin(function(se){return{x:se.x,y:0}}).on("dragstart",C).on("drag",O).on("dragend",R)),oe.each(function(se){se.traceSelection=A.select(this),se.pathSelection=A.select(this).selectAll("g.paths").selectAll("path.path"),se.dimensionSelection=A.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),oe.exit().remove()}function n(J){return J.key}function o(J){return J.model.dimensionInd===J.parcatsViewModel.dimensions[J.parcatsViewModel.dimensions.length-1].model.dimensionInd}function s(J,X){return J.model.rawColor>X.model.rawColor?1:J.model.rawColor<X.model.rawColor?-1:0}function u(J){if(!J.parcatsViewModel.dragDimension&&-1===J.parcatsViewModel.hoverinfoItems.indexOf("skip")){b.raiseToTop(this),y(A.select(this));var X=c(J),Y=x(J);if(J.parcatsViewModel.graphDiv.emit("plotly_hover",{points:X,event:A.event,constraints:Y}),-1===J.parcatsViewModel.hoverinfoItems.indexOf("none")){var W,$,ne,re=A.mouse(this)[0],oe=J.parcatsViewModel.graphDiv,ue=J.parcatsViewModel.trace,xe=oe._fullLayout,Me=xe._paperdiv.node().getBoundingClientRect(),me=J.parcatsViewModel.graphDiv.getBoundingClientRect();for(ne=0;ne<J.leftXs.length-1;ne++)if(J.leftXs[ne]+J.dimWidths[ne]-2<=re&&re<=J.leftXs[ne+1]+2){var pe=J.parcatsViewModel.dimensions[ne];W=(pe.x+pe.width+J.parcatsViewModel.dimensions[ne+1].x)/2,$=(J.topYs[ne]+J.topYs[ne+1]+J.height)/2;break}var Pe=J.parcatsViewModel.x+W,_e=J.parcatsViewModel.y+$,we=t.mostReadable(J.model.color,["black","white"]),se=J.model.count,ae=se/J.parcatsViewModel.model.count,fe={countLabel:se,probabilityLabel:ae.toFixed(3)},Ee=[];-1!==J.parcatsViewModel.hoverinfoItems.indexOf("count")&&Ee.push(["Count:",fe.countLabel].join(" ")),-1!==J.parcatsViewModel.hoverinfoItems.indexOf("probability")&&Ee.push(["P:",fe.probabilityLabel].join(" "));var ke=Ee.join("<br>"),be=A.mouse(oe)[0];T.loneHover({trace:ue,x:Pe-Me.left+me.left,y:_e-Me.top+me.top,text:ke,color:J.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:we,idealAlign:be<Pe?"right":"left",hovertemplate:(ue.line||{}).hovertemplate,hovertemplateLabels:fe,eventData:[{data:ue._input,fullData:ue,count:se,probability:ae}]},{container:xe._hoverlayer.node(),outerContainer:xe._paper.node(),gd:oe})}}}function p(J){if(!J.parcatsViewModel.dragDimension&&(h(A.select(this)),T.loneUnhover(J.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),J.parcatsViewModel.pathSelection.sort(s),-1===J.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var X=c(J),Y=x(J);J.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:X,event:A.event,constraints:Y})}}function c(J){for(var X=[],Y=q(J.parcatsViewModel),W=0;W<J.model.valueInds.length;W++)X.push({curveNumber:Y,pointNumber:J.model.valueInds[W]});return X}function x(J){for(var X={},Y=J.parcatsViewModel.model.dimensions,W=0;W<Y.length;W++){var $=Y[W];X[$.containerInd]=$.categories[J.model.categoryInds[W]].categoryValue}return void 0!==J.model.rawColor&&(X.color=J.model.rawColor),X}function g(J){if(-1===J.parcatsViewModel.hoverinfoItems.indexOf("skip")){var X=c(J),Y=x(J);J.parcatsViewModel.graphDiv.emit("plotly_click",{points:X,event:A.event,constraints:Y})}}function h(J){J.attr("fill",function(X){return X.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function y(J){J.attr("fill-opacity",.8).attr("stroke",function(X){return t.mostReadable(X.model.color,["black","white"])}).attr("stroke-width",.3)}function v(J){J.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function m(J){J.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function _(J){var Y=J.categoryViewModel.model.dimensionInd,W=J.categoryViewModel.model.categoryInd;return J.parcatsViewModel.pathSelection.filter(function($){return $.model.categoryInds[Y]===W&&$.model.color===J.color})}function f(J,X,Y){var W=A.select(J).datum(),$=W.categoryViewModel.model,ne=W.parcatsViewModel.graphDiv,re=A.select(J.parentNode).selectAll("rect.bandrect"),oe=[];re.each(function(xe){_(xe).each(function(Me){Array.prototype.push.apply(oe,c(Me))})});var ue={};ue[$.dimensionInd]=$.categoryValue,ne.emit(X,{points:oe,event:Y,constraints:ue})}function S(J,X,Y){var W=A.select(J).datum(),$=W.categoryViewModel.model,ne=W.parcatsViewModel.graphDiv,re=_(W),oe=[];re.each(function(xe){Array.prototype.push.apply(oe,c(xe))});var ue={};ue[$.dimensionInd]=$.categoryValue,void 0!==W.rawColor&&(ue.color=W.rawColor),ne.emit(X,{points:oe,event:Y,constraints:ue})}function w(J,X,Y){J._fullLayout._calcInverseTransform(J);var W,$,ne=J._fullLayout._invScaleX,re=J._fullLayout._invScaleY,oe=A.select(Y.parentNode).select("rect.catrect"),ue=oe.node().getBoundingClientRect(),xe=oe.datum(),Me=xe.parcatsViewModel,pe=Me.trace,ge=ue.top+ue.height/2;Me.dimensions.length>1&&Me.model.dimensions[xe.model.dimensionInd].displayInd===Me.dimensions.length-1?(W=ue.left,$="left"):(W=ue.left+ue.width,$="right");var Pe=xe.model.count,_e=xe.model.categoryLabel,we=Pe/xe.parcatsViewModel.model.count,se={countLabel:Pe,categoryLabel:_e,probabilityLabel:we.toFixed(3)},ae=[];-1!==xe.parcatsViewModel.hoverinfoItems.indexOf("count")&&ae.push(["Count:",se.countLabel].join(" ")),-1!==xe.parcatsViewModel.hoverinfoItems.indexOf("probability")&&ae.push(["P("+se.categoryLabel+"):",se.probabilityLabel].join(" "));var fe=ae.join("<br>");return{trace:pe,x:ne*(W-X.left),y:re*(ge-X.top),text:fe,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:$,hovertemplate:pe.hovertemplate,hovertemplateLabels:se,eventData:[{data:pe._input,fullData:pe,count:Pe,category:_e,probability:we}]}}function E(J){if(!J.parcatsViewModel.dragDimension&&-1===J.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(A.mouse(this)[1]<-1)return;var X,Y=J.parcatsViewModel.graphDiv,W=Y._fullLayout,$=W._paperdiv.node().getBoundingClientRect(),ne=J.parcatsViewModel.hoveron,re=this;"color"===ne?(y(xe=_(ue=A.select(oe=re).datum())),xe.each(function(){b.raiseToTop(this)}),A.select(oe.parentNode).selectAll("rect.bandrect").filter(function(Me){return Me.color===ue.color}).each(function(){b.raiseToTop(this),A.select(this).attr("stroke","black").attr("stroke-width",1.5)}),S(re,"plotly_hover",A.event)):(function(oe){A.select(oe.parentNode).selectAll("rect.bandrect").each(function(ue){var xe=_(ue);y(xe),xe.each(function(){b.raiseToTop(this)})}),A.select(oe.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(re),f(re,"plotly_hover",A.event)),-1===J.parcatsViewModel.hoverinfoItems.indexOf("none")&&("category"===ne?X=w(Y,$,re):"color"===ne?X=function(oe,ue,xe){oe._fullLayout._calcInverseTransform(oe);var Me,me,pe=oe._fullLayout._invScaleX,ge=oe._fullLayout._invScaleY,Pe=xe.getBoundingClientRect(),_e=A.select(xe).datum(),we=_e.categoryViewModel,se=we.parcatsViewModel,fe=se.trace,Ee=Pe.y+Pe.height/2;se.dimensions.length>1&&se.model.dimensions[we.model.dimensionInd].displayInd===se.dimensions.length-1?(Me=Pe.left,me="left"):(Me=Pe.left+Pe.width,me="right");var ke=we.model.categoryLabel,be=_e.parcatsViewModel.model.count,Ie=0;_e.categoryViewModel.bands.forEach(function(Je){Je.color===_e.color&&(Ie+=Je.count)});var Fe=we.model.count,ce=0;se.pathSelection.each(function(Je){Je.model.color===_e.color&&(ce+=Je.model.count)});var Te=Ie/be,ve=Ie/ce,Ce=Ie/Fe,Re={countLabel:be,categoryLabel:ke,probabilityLabel:Te.toFixed(3)},Oe=[];-1!==we.parcatsViewModel.hoverinfoItems.indexOf("count")&&Oe.push(["Count:",Re.countLabel].join(" ")),-1!==we.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(Oe.push("P(color \u2229 "+ke+"): "+Re.probabilityLabel),Oe.push("P("+ke+" | color): "+ve.toFixed(3)),Oe.push("P(color | "+ke+"): "+Ce.toFixed(3)));var je=Oe.join("<br>"),qe=t.mostReadable(_e.color,["black","white"]);return{trace:fe,x:pe*(Me-ue.left),y:ge*(Ee-ue.top),text:je,color:_e.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:qe,fontSize:10,idealAlign:me,hovertemplate:fe.hovertemplate,hovertemplateLabels:Re,eventData:[{data:fe._input,fullData:fe,category:ke,count:be,probability:Te,categorycount:Fe,colorcount:ce,bandcolorcount:Ie}]}}(Y,$,re):"dimension"===ne&&(X=function(oe,ue,xe){var Me=[];return A.select(xe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){Me.push(w(oe,ue,this))}),Me}(Y,$,re)),X&&T.loneHover(X,{container:W._hoverlayer.node(),outerContainer:W._paper.node(),gd:Y}))}var oe,ue,xe}function L(J){var X=J.parcatsViewModel;X.dragDimension||(h(X.pathSelection),v(X.dimensionSelection.selectAll("g.category")),m(X.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),T.loneUnhover(X.graphDiv._fullLayout._hoverlayer.node()),X.pathSelection.sort(s),-1!==X.hoverinfoItems.indexOf("skip"))||("color"===J.parcatsViewModel.hoveron?S(this,"plotly_unhover",A.event):f(this,"plotly_unhover",A.event))}function C(J){"fixed"!==J.parcatsViewModel.arrangement&&(J.dragDimensionDisplayInd=J.model.displayInd,J.initialDragDimensionDisplayInds=J.parcatsViewModel.model.dimensions.map(function(X){return X.displayInd}),J.dragHasMoved=!1,J.dragCategoryDisplayInd=null,A.select(this).selectAll("g.category").select("rect.catrect").each(function(X){var Y=A.mouse(this)[0],W=A.mouse(this)[1];-2<=Y&&Y<=X.width+2&&-2<=W&&W<=X.height+2&&(J.dragCategoryDisplayInd=X.model.displayInd,J.initialDragCategoryDisplayInds=J.model.categories.map(function($){return $.displayInd}),X.model.dragY=X.y,b.raiseToTop(this.parentNode),A.select(this.parentNode).selectAll("rect.bandrect").each(function($){$.y<W&&W<=$.y+$.height&&(J.potentialClickBand=this)}))}),J.parcatsViewModel.dragDimension=J,T.loneUnhover(J.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function O(J){if("fixed"!==J.parcatsViewModel.arrangement&&(J.dragHasMoved=!0,null!==J.dragDimensionDisplayInd)){var X=J.dragDimensionDisplayInd,Y=X-1,W=X+1,$=J.parcatsViewModel.dimensions[X];if(null!==J.dragCategoryDisplayInd){var ne=$.categories[J.dragCategoryDisplayInd];ne.model.dragY+=A.event.dy;var re=ne.model.dragY,oe=ne.model.displayInd,ue=$.categories,xe=ue[oe-1],Me=ue[oe+1];void 0!==xe&&re<xe.y+xe.height/2&&(ne.model.displayInd=xe.model.displayInd,xe.model.displayInd=oe),void 0!==Me&&re+ne.height>Me.y+Me.height/2&&(ne.model.displayInd=Me.model.displayInd,Me.model.displayInd=oe),J.dragCategoryDisplayInd=ne.model.displayInd}if(null===J.dragCategoryDisplayInd||"freeform"===J.parcatsViewModel.arrangement){$.model.dragX=A.event.x;var me=J.parcatsViewModel.dimensions[Y],pe=J.parcatsViewModel.dimensions[W];void 0!==me&&$.model.dragX<me.x+me.width&&($.model.displayInd=me.model.displayInd,me.model.displayInd=X),void 0!==pe&&$.model.dragX+$.width>pe.x&&($.model.displayInd=pe.model.displayInd,pe.model.displayInd=J.dragDimensionDisplayInd),J.dragDimensionDisplayInd=$.model.displayInd}G(J.parcatsViewModel),j(J.parcatsViewModel),U(J.parcatsViewModel),P(J.parcatsViewModel)}}function R(J){if("fixed"!==J.parcatsViewModel.arrangement&&null!==J.dragDimensionDisplayInd){A.select(this).selectAll("text").attr("font-weight","normal");var X={},Y=q(J.parcatsViewModel),W=J.parcatsViewModel.model.dimensions.map(function(Me){return Me.displayInd}),$=J.initialDragDimensionDisplayInds.some(function(Me,me){return Me!==W[me]});$&&W.forEach(function(Me,me){X["dimensions["+J.parcatsViewModel.model.dimensions[me].containerInd+"].displayindex"]=Me});var ne=!1;if(null!==J.dragCategoryDisplayInd){var re=J.model.categories.map(function(Me){return Me.displayInd});if(ne=J.initialDragCategoryDisplayInds.some(function(Me,me){return Me!==re[me]})){var oe=J.model.categories.slice().sort(function(Me,me){return Me.displayInd-me.displayInd}),ue=oe.map(function(Me){return Me.categoryValue}),xe=oe.map(function(Me){return Me.categoryLabel});X["dimensions["+J.model.containerInd+"].categoryarray"]=[ue],X["dimensions["+J.model.containerInd+"].ticktext"]=[xe],X["dimensions["+J.model.containerInd+"].categoryorder"]="array"}}-1===J.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!J.dragHasMoved&&J.potentialClickBand&&("color"===J.parcatsViewModel.hoveron?S(J.potentialClickBand,"plotly_click",A.event.sourceEvent):f(J.potentialClickBand,"plotly_click",A.event.sourceEvent)),J.model.dragX=null,null!==J.dragCategoryDisplayInd&&(J.parcatsViewModel.dimensions[J.dragDimensionDisplayInd].categories[J.dragCategoryDisplayInd].model.dragY=null,J.dragCategoryDisplayInd=null),J.dragDimensionDisplayInd=null,J.parcatsViewModel.dragDimension=null,J.dragHasMoved=null,J.potentialClickBand=null,G(J.parcatsViewModel),j(J.parcatsViewModel),A.transition().duration(300).ease("cubic-in-out").each(function(){U(J.parcatsViewModel,!0),P(J.parcatsViewModel,!0)}).each("end",function(){($||ne)&&l.restyle(J.parcatsViewModel.graphDiv,X,[Y])})}}function q(J){for(var X,Y=J.graphDiv._fullData,W=0;W<Y.length;W++)if(J.key===Y[W].uid){X=W;break}return X}function P(J,X){var Y;void 0===X&&(X=!1),J.pathSelection.data(function(W){return W.paths},n),(Y=J.pathSelection,X?Y.transition():Y).attr("d",function(W){return W.svgD})}function U(J,X){function Y(re){return X?re.transition():re}void 0===X&&(X=!1),J.dimensionSelection.data(function(re){return re.dimensions},n);var W=J.dimensionSelection.selectAll("g.category").data(function(re){return re.categories},n);Y(J.dimensionSelection).attr("transform",function(re){return d(re.x,0)}),Y(W).attr("transform",function(re){return d(0,re.y)}),W.select(".dimlabel").text(function(re,oe){return 0===oe?re.parcatsViewModel.model.dimensions[re.model.dimensionInd].dimensionLabel:null}),W.select(".catlabel").attr("text-anchor",function(re){return o(re)?"start":"end"}).attr("x",function(re){return o(re)?re.width+5:-5}).each(function(re){var oe,ue;o(re)?(oe=re.width+5,ue="start"):(oe=-5,ue="end"),A.select(this).selectAll("tspan").attr("x",oe).attr("text-anchor",ue)});var $=W.selectAll("rect.bandrect").data(function(re){return re.bands},n),ne=$.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(re){return re.color}).attr("fill-opacity",0);$.attr("fill",function(re){return re.color}).attr("width",function(re){return re.width}).attr("height",function(re){return re.height}).attr("y",function(re){return re.y}),m(ne),$.each(function(){b.raiseToTop(this)}),$.exit().remove()}function N(J,X,Y){var W,$=Y[0],ne=X.margin||{l:80,r:80,t:100,b:80},re=$.trace,oe=re.domain,ue=X.width,xe=X.height,Me=Math.floor(ue*(oe.x[1]-oe.x[0])),me=Math.floor(xe*(oe.y[1]-oe.y[0])),pe=oe.x[0]*ue+ne.l,ge=X.height-oe.y[1]*X.height+ne.t,Pe=re.line.shape;W="all"===re.hoverinfo?["count","probability"]:(re.hoverinfo||"").split("+");var _e={trace:re,key:re.uid,model:$,x:pe,y:ge,width:Me,height:me,hoveron:re.hoveron,hoverinfoItems:W,arrangement:re.arrangement,bundlecolors:re.bundlecolors,sortpaths:re.sortpaths,labelfont:re.labelfont,categorylabelfont:re.tickfont,pathShape:Pe,dragDimension:null,margin:ne,paths:[],dimensions:[],graphDiv:J,traceSelection:null,pathSelection:null,dimensionSelection:null};return $.dimensions&&(G(_e),j(_e)),_e}function F(J,X,Y,W,$){var ne,re,oe=[],ue=[];for(re=0;re<Y.length-1;re++)ne=k(Y[re]+J[re],J[re+1]),oe.push(ne($)),ue.push(ne(1-$));var xe="M "+J[0]+","+X[0];for(xe+="l"+Y[0]+",0 ",re=1;re<Y.length;re++)xe+="C"+oe[re-1]+","+X[re-1]+" "+ue[re-1]+","+X[re]+" "+J[re]+","+X[re],xe+="l"+Y[re]+",0 ";for(xe+="l0,"+W+" ",xe+="l -"+Y[Y.length-1]+",0 ",re=Y.length-2;re>=0;re--)xe+="C"+ue[re]+","+(X[re+1]+W)+" "+oe[re]+","+(X[re]+W)+" "+(J[re]+Y[re])+","+(X[re]+W),xe+="l-"+Y[re]+",0 ";return xe+"Z"}function j(J){var X=J.dimensions,Y=J.model,W=X.map(function(Re){return Re.categories.map(function(Oe){return Oe.y})}),$=J.model.dimensions.map(function(Re){return Re.categories.map(function(Oe){return Oe.displayInd})}),ne=J.model.dimensions.map(function(Re){return Re.displayInd}),re=J.dimensions.map(function(Re){return Re.model.dimensionInd}),oe=X.map(function(Re){return Re.x}),ue=X.map(function(Re){return Re.width}),xe=[];for(var Me in Y.paths)Y.paths.hasOwnProperty(Me)&&xe.push(Y.paths[Me]);function me(Re){var Oe=Re.categoryInds.map(function(je,qe){return $[qe][je]});return re.map(function(je){return Oe[je]})}xe.sort(function(Re,Oe){var je=me(Re),qe=me(Oe);return"backward"===J.sortpaths&&(je.reverse(),qe.reverse()),je.push(Re.valueInds[0]),qe.push(Oe.valueInds[0]),J.bundlecolors&&(je.unshift(Re.rawColor),qe.unshift(Oe.rawColor)),je<qe?-1:je>qe?1:0});for(var pe=new Array(xe.length),ge=X[0].model.count,Pe=X[0].categories.map(function(Re){return Re.height}).reduce(function(Re,Oe){return Re+Oe}),_e=0;_e<xe.length;_e++){var we,se=xe[_e];we=ge>0?Pe*(se.count/ge):0;for(var ae,fe=new Array(W.length),Ee=0;Ee<se.categoryInds.length;Ee++){var be=$[Ee][se.categoryInds[Ee]],Ie=ne[Ee];fe[Ie]=W[Ie][be],W[Ie][be]+=we;var Fe=J.dimensions[Ie].categories[be],ce=Fe.bands.length,Te=Fe.bands[ce-1];if(void 0===Te||se.rawColor!==Te.rawColor){var ve=void 0===Te?0:Te.y+Te.height;Fe.bands.push({key:ve,color:se.color,rawColor:se.rawColor,height:we,width:Fe.width,count:se.count,y:ve,categoryViewModel:Fe,parcatsViewModel:J})}else{var Ce=Fe.bands[ce-1];Ce.height+=we,Ce.count+=se.count}}ae=F(oe,fe,ue,we,"hspline"===J.pathShape?.5:0),pe[_e]={key:se.valueInds[0],model:se,height:we,leftXs:oe,topYs:fe,dimWidths:ue,svgD:ae,parcatsViewModel:J}}J.paths=pe}function G(J){var X=J.model.dimensions.map(function(re){return{displayInd:re.displayInd,dimensionInd:re.dimensionInd}});X.sort(function(re,oe){return re.displayInd-oe.displayInd});var Y=[];for(var W in X)Y.push(te(J,J.model.dimensions[X[W].dimensionInd]));J.dimensions=Y}function te(J,X){var Y,W=J.model.dimensions.length;Y=40+(W>1?(J.width-80-16)/(W-1):0)*X.displayInd;var ne,re,oe,xe,Me=[],me=J.model.maxCats,pe=X.categories.length,ge=X.count,Pe=J.height-8*(me-1),_e=8*(me-pe)/2,we=X.categories.map(function(se){return{displayInd:se.displayInd,categoryInd:se.categoryInd}});for(we.sort(function(se,ae){return se.displayInd-ae.displayInd}),xe=0;xe<pe;xe++)oe={key:(re=X.categories[we[xe].categoryInd]).valueInds[0],model:re,width:16,height:ne=ge>0?re.count/ge*Pe:0,y:null!==re.dragY?re.dragY:_e,bands:[],parcatsViewModel:J},_e=_e+ne+8,Me.push(oe);return{key:X.dimensionInd,x:null!==X.dragX?X.dragX:Y,y:0,width:16,model:X,categories:Me,parcatsViewModel:J,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}ee.exports=function(J,X,Y,W){r(Y,J,W,X)}},45784:function(ee,D,e){"use strict";var A=e(45460);ee.exports=function(k,l,T,b){var d=k._fullLayout,t=d._size;A(k,d._paper,l,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},T,b)}},73362:function(ee,D,e){"use strict";var A=e(50693),k=e(13838),l=e(41940),T=e(27670).Y,b=e(1426).extendFlat,d=e(44467).templatedArray;ee.exports={domain:T({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:l({editType:"plot"}),tickfont:l({editType:"plot"}),rangefont:l({editType:"plot"}),dimensions:d("dimension",{label:{valType:"string",editType:"plot"},tickvals:b({},k.tickvals,{editType:"plot"}),ticktext:b({},k.ticktext,{editType:"plot"}),tickformat:b({},k.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:b({editType:"calc"},A("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(ee,D,e){"use strict";var A=e(25706),k=e(39898),l=e(28984).keyFun,T=e(28984).repeat,b=e(71828).sorterAsc,d=e(71828).strTranslate,a=A.bar.snapRatio;function t(w,E){return w*(1-a)+E*a}var i=A.bar.snapClose;function r(w,E){return w*(1-i)+E*i}function n(w,E,L,C){if(function(te,J){for(var X=0;X<J.length;X++)if(te>=J[X][0]&&te<=J[X][1])return!0;return!1}(L,C))return L;var O=w?-1:1,R=0,q=E.length-1;if(O<0){var P=R;R=q,q=P}for(var U=E[R],N=U,F=R;O*F<O*q;F+=O){var j=F+O,G=E[j];if(O*L<O*r(U,G))return t(U,N);if(O*L<O*G||j===q)return t(G,U);N=U,U=G}}function o(w){w.attr("x",-A.bar.captureWidth/2).attr("width",A.bar.captureWidth)}function s(w){w.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function u(w){if(!w.brush.filterSpecified)return"0,"+w.height;for(var E,L,C,O=p(w.brush.filter.getConsolidated(),w.height),R=[0],q=O.length?O[0][0]:null,P=0;P<O.length;P++)L=(E=O[P])[1]-E[0],R.push(q),R.push(L),(C=P+1)<O.length&&(q=O[C][0]-E[1]);return R.push(w.height),R}function p(w,E){return w.map(function(L){return L.map(function(C){return Math.max(0,C*E)}).sort(b)})}function c(){k.select(document.body).style("cursor",null)}function x(w){w.attr("stroke-dasharray",u)}function g(w,E){var L=k.select(w).selectAll(".highlight, .highlight-shadow");x(E?L.transition().duration(A.bar.snapDuration).each("end",E):L)}function h(w,E){var L,C=w.brush,O=NaN,R={};if(C.filterSpecified){var q=w.height,P=C.filter.getConsolidated(),U=p(P,q),N=NaN,F=NaN,j=NaN;for(L=0;L<=U.length;L++){var G=U[L];if(G&&G[0]<=E&&E<=G[1]){N=L;break}if(F=L?L-1:NaN,G&&G[0]>E){j=L;break}}if(O=N,isNaN(O)&&(O=isNaN(F)||isNaN(j)?isNaN(F)?j:F:E-U[F][1]<U[j][0]-E?F:j),!isNaN(O)){var te=U[O],J=function($,ne){var re=A.bar.handleHeight;if(!(ne>$[1]+re||ne<$[0]-re))return ne>=.9*$[1]+.1*$[0]?"n":ne<=.9*$[0]+.1*$[1]?"s":"ns"}(te,E);J&&(R.interval=P[O],R.intervalPix=te,R.region=J)}}if(w.ordinal&&!R.region){var X=w.unitTickvals,Y=w.unitToPaddedPx.invert(E);for(L=0;L<X.length;L++){var W=[.25*X[Math.max(L-1,0)]+.75*X[L],.25*X[Math.min(L+1,X.length-1)]+.75*X[L]];if(Y>=W[0]&&Y<=W[1]){R.clickableOrdinalRange=W;break}}}return R}function y(w,E){k.event.sourceEvent.stopPropagation();var L=E.height-k.mouse(w)[1]-2*A.verticalPadding,C=E.brush.svgBrush;C.wasDragged=!0,C._dragging=!0,C.newExtent=C.grabbingBar?[L-C.grabPoint,L+C.barLength-C.grabPoint].map(E.unitToPaddedPx.invert):[C.startExtent,E.unitToPaddedPx.invert(L)].sort(b),E.brush.filterSpecified=!0,C.extent=C.stayingIntervals.concat([C.newExtent]),C.brushCallback(E),g(w.parentNode)}function v(w,E){var L=h(E,E.height-k.mouse(w)[1]-2*A.verticalPadding),C="crosshair";L.clickableOrdinalRange?C="pointer":L.region&&(C=L.region+"-resize"),k.select(document.body).style("cursor",C)}function m(w){w.on("mousemove",function(E){k.event.preventDefault(),E.parent.inBrushDrag||v(this,E)}).on("mouseleave",function(E){E.parent.inBrushDrag||c()}).call(k.behavior.drag().on("dragstart",function(E){!function(L,C){k.event.sourceEvent.stopPropagation();var O=C.height-k.mouse(L)[1]-2*A.verticalPadding,R=C.unitToPaddedPx.invert(O),q=C.brush,P=h(C,O),U=P.interval,N=q.svgBrush;if(N.wasDragged=!1,N.grabbingBar="ns"===P.region,N.grabbingBar){var F=U.map(C.unitToPaddedPx);N.grabPoint=O-F[0]-A.verticalPadding,N.barLength=F[1]-F[0]}N.clickableOrdinalRange=P.clickableOrdinalRange,N.stayingIntervals=C.multiselect&&q.filterSpecified?q.filter.getConsolidated():[],U&&(N.stayingIntervals=N.stayingIntervals.filter(function(j){return j[0]!==U[0]&&j[1]!==U[1]})),N.startExtent=P.region?U["s"===P.region?1:0]:R,C.parent.inBrushDrag=!0,N.brushStartCallback()}(this,E)}).on("drag",function(E){y(this,E)}).on("dragend",function(E){!function(L,C){var O=C.brush,R=O.filter,q=O.svgBrush;q._dragging||(v(L,C),y(L,C),C.brush.svgBrush.wasDragged=!1),q._dragging=!1,k.event.sourceEvent.stopPropagation();var P=q.grabbingBar;if(q.grabbingBar=!1,q.grabLocation=void 0,C.parent.inBrushDrag=!1,c(),!q.wasDragged)return q.wasDragged=void 0,q.clickableOrdinalRange?O.filterSpecified&&C.multiselect?q.extent.push(q.clickableOrdinalRange):(q.extent=[q.clickableOrdinalRange],O.filterSpecified=!0):P?(q.extent=q.stayingIntervals,0===q.extent.length&&f(O)):f(O),q.brushCallback(C),g(L.parentNode),void q.brushEndCallback(O.filterSpecified?R.getConsolidated():[]);var U=function(){R.set(R.getConsolidated())};if(C.ordinal){var N=C.unitTickvals;N[N.length-1]<N[0]&&N.reverse(),q.newExtent=[n(0,N,q.newExtent[0],q.stayingIntervals),n(1,N,q.newExtent[1],q.stayingIntervals)];var F=q.newExtent[1]>q.newExtent[0];q.extent=q.stayingIntervals.concat(F?[q.newExtent]:[]),q.extent.length||f(O),q.brushCallback(C),F?g(L.parentNode,U):(U(),g(L.parentNode))}else U();q.brushEndCallback(O.filterSpecified?R.getConsolidated():[])}(this,E)}))}function _(w,E){return w[0]-E[0]}function f(w){w.filterSpecified=!1,w.svgBrush.extent=[[-1/0,1/0]]}function S(w){for(var E,L=w.slice(),C=[],O=L.shift();O;){for(E=O.slice();(O=L.shift())&&O[0]<=E[1];)E[1]=Math.max(E[1],O[1]);C.push(E)}return 1===C.length&&C[0][0]>C[0][1]&&(C=[]),C}ee.exports={makeBrush:function(w,E,L,C,O,R){var q,U,N,F,P=(F=[],{set:function(j){1===(F=j.map(function(G){return G.slice().sort(b)}).sort(_)).length&&F[0][0]===-1/0&&F[0][1]===1/0&&(F=[[0,-1]]),U=S(F),N=F.reduce(function(G,te){return[Math.min(G[0],te[0]),Math.max(G[1],te[1])]},[1/0,-1/0])},get:function(){return F.slice()},getConsolidated:function(){return U},getBounds:function(){return N}});return P.set(L),{filter:P,filterSpecified:E,svgBrush:{extent:[],brushStartCallback:C,brushCallback:(q=O,function(U){var N=U.brush,j=N.svgBrush.extent.map(function(te){return te.slice()}).slice();N.filter.set(j),q()}),brushEndCallback:R}}},ensureAxisBrush:function(w,E,L){var C=w.selectAll("."+A.cn.axisBrush).data(T,l);C.enter().append("g").classed(A.cn.axisBrush,!0),function(O,R,q){var P=q._context.staticPlot,U=O.selectAll(".background").data(T);U.enter().append("rect").classed("background",!0).call(o).call(s).style("pointer-events",P?"none":"auto").attr("transform",d(0,A.verticalPadding)),U.call(m).attr("height",function(j){return j.height-A.verticalPadding});var N=O.selectAll(".highlight-shadow").data(T);N.enter().append("line").classed("highlight-shadow",!0).attr("x",-A.bar.width/2).attr("stroke-width",A.bar.width+A.bar.strokeWidth).attr("stroke",R).attr("opacity",A.bar.strokeOpacity).attr("stroke-linecap","butt"),N.attr("y1",function(j){return j.height}).call(x);var F=O.selectAll(".highlight").data(T);F.enter().append("line").classed("highlight",!0).attr("x",-A.bar.width/2).attr("stroke-width",A.bar.width-A.bar.strokeWidth).attr("stroke",A.bar.fillColor).attr("opacity",A.bar.fillOpacity).attr("stroke-linecap","butt"),F.attr("y1",function(j){return j.height}).call(x)}(C,E,L)},cleanRanges:function(w,E){if(Array.isArray(w[0])?(w=w.map(function(C){return C.sort(b)}),w=E.multiselect?S(w.sort(_)):[w[0]]):w=[w.sort(b)],E.tickvals){var L=E.tickvals.slice().sort(b);if(!(w=w.map(function(C){var O=[n(0,L,C[0],[]),n(1,L,C[1],[])];if(O[1]>O[0])return O}).filter(function(C){return C})).length)return}return w.length>1?w:w[0]}}},71791:function(ee,D,e){"use strict";ee.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(ee,D,e){"use strict";var A=e(39898),k=e(27659).a0,l=e(21341),T=e(77922);D.name="parcoords",D.plot=function(b){var d=k(b.calcdata,"parcoords")[0];d.length&&l(b,d)},D.clean=function(b,d,a,t){var i=t._has&&t._has("parcoords"),r=d._has&&d._has("parcoords");i&&!r&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},D.toSVG=function(b){var d=b._fullLayout._glimages,a=A.select(b).selectAll(".svg-container");a.filter(function(t,i){return i===a.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this,i=t.toDataURL("image/png");d.append("svg:image").attr({xmlns:T.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}),window.setTimeout(function(){A.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(ee,D,e){"use strict";var A=e(71828).isArrayOrTypedArray,k=e(21081),l=e(28984).wrap;ee.exports=function(T,b){var d,a;return k.hasColorscale(b,"line")&&A(b.line.color)?(d=b.line.color,a=k.extractOpts(b.line).colorscale,k.calc(T,b,{vals:d,containerStr:"line",cLetter:"c"})):(d=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=.5;return i}(b._length),a=[[0,b.line.color],[1,b.line.color]]),l({lineColor:d,cscale:a})}},25706:function(ee){"use strict";ee.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(ee,D,e){"use strict";var A=e(71828),k=e(52075).hasColorscale,l=e(1586),T=e(27670).c,b=e(85501),d=e(89298),a=e(73362),t=e(57920),i=e(25706).maxDimensionCount,r=e(94397);function n(o,s,u,p){function c(v,m){return A.coerce(o,s,a.dimensions,v,m)}var x=c("values"),g=c("visible");if(x&&x.length||(g=s.visible=!1),g){c("label"),c("tickvals"),c("ticktext"),c("tickformat");var h=c("range");s._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:h},d.setConvert(s._ax,p.layout),c("multiselect");var y=c("constraintrange");y&&(s.constraintrange=t.cleanRanges(y,s))}}ee.exports=function(o,s,u,p){function c(v,m){return A.coerce(o,s,a,v,m)}var x=o.dimensions;Array.isArray(x)&&x.length>i&&(A.log("parcoords traces support up to "+i+" dimensions at the moment"),x.splice(i));var g=b(o,s,{name:"dimensions",layout:p,handleItemDefaults:n}),h=function(v,m,_,f,S){var w=S("line.color",_);if(k(v,"line")&&A.isArrayOrTypedArray(w)){if(w.length)return S("line.colorscale"),l(v,m,f,S,{prefix:"line.",cLetter:"c"}),w.length;m.line.color=_}return 1/0}(o,s,u,p,c);T(s,p,c),Array.isArray(g)&&g.length||(s.visible=!1),r(s,g,"values",h);var y={family:p.font.family,size:Math.round(p.font.size/1.2),color:p.font.color};A.coerceFont(c,"labelfont",y),A.coerceFont(c,"tickfont",y),A.coerceFont(c,"rangefont",y),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},1602:function(ee,D,e){"use strict";var A=e(71828).isTypedArray;D.convertTypedArray=function(k){return A(k)?Array.prototype.slice.call(k):k},D.isOrdinal=function(k){return!!k.tickvals},D.isVisible=function(k){return k.visible||!("visible"in k)}},67618:function(ee,D,e){"use strict";var A=e(71791);A.plot=e(21341),ee.exports=A},83398:function(ee,D,e){"use strict";var A=e(56068),k=A(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\nuniform sampler2D maskTexture, palette;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(maskTexture,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),l=A(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),T=e(25706).maxDimensionCount,b=e(71828),a=new Uint8Array(4),t=new Uint8Array(4),i={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function r(h,y,v,m,_){var f=h._gl;f.enable(f.SCISSOR_TEST),f.scissor(y,v,m,_),h.clear({color:[0,0,0,0],depth:1})}function n(h,y,v,m,_,f){var S=f.key;v.drawCompleted||(h.read({x:0,y:0,width:1,height:1,data:a}),v.drawCompleted=!0),function w(E){var L=Math.min(m,_-E*m);0===E&&(window.cancelAnimationFrame(v.currentRafs[S]),delete v.currentRafs[S],r(h,f.scissorX,f.scissorY,f.scissorWidth,f.viewBoxSize[1])),v.clearOnly||(f.count=2*L,f.offset=2*E*m,y(f),E*m+L<_&&(v.currentRafs[S]=window.requestAnimationFrame(function(){w(E+1)})),v.drawCompleted=!1)}(0)}function o(h,y){for(var v=new Array(256),m=0;m<256;m++)v[m]=h(m/255).concat(y);return v}function s(h,y){return(h>>>8*y)%256/255}function u(h,y,v){for(var m=new Array(8*y),_=0,f=0;f<y;f++)for(var S=0;S<2;S++)for(var w=0;w<4;w++){var E=4*h+w,L=v[64*f+E];63===E&&0===S&&(L*=-1),m[_++]=L}return m}function p(h){var y="0"+h;return y.substr(y.length-2)}function c(h){return h<T?"p"+p(h+1)+"_"+p(h+4):"colors"}function x(h,y,v,m,_,f,S,w,E,L,C,O,R,q){for(var P=[[],[]],U=0;U<64;U++)P[0][U]=U===_?1:0,P[1][U]=U===f?1:0;var N=h.lines.canvasOverdrag*q,F=h.domain,j=h.canvasWidth*q,G=h.canvasHeight*q,te=h.pad.l*q,J=h.pad.b*q,X=h.layoutHeight*q,Y=h.layoutWidth*q,W=h.deselectedLines.color,$=h.deselectedLines.opacity;return b.extendFlat({key:C,resolution:[j,G],viewBoxPos:[(S*=q)+N,w*=q],viewBoxSize:[E*=q,L*=q],i0:_,i1:f,dim0A:P[0].slice(0,16),dim0B:P[0].slice(16,32),dim0C:P[0].slice(32,48),dim0D:P[0].slice(48,64),dim1A:P[1].slice(0,16),dim1B:P[1].slice(16,32),dim1C:P[1].slice(32,48),dim1D:P[1].slice(48,64),drwLayer:O,contextColor:[W[0]/255,W[1]/255,W[2]/255,"auto"!==$?W[3]*$:Math.max(.00392156862745098,Math.pow(1/h.lines.color.length,.3333333333333333))],scissorX:(m===y?0:S+N)+(te-N)+Y*F.x[0],scissorWidth:(m===v?j-S+N:E+.5)+(m===y?S+N:0),scissorY:w+J+X*F.y[0],scissorHeight:L,viewportX:te-N+Y*F.x[0],viewportY:J+X*F.y[0],viewportWidth:j,viewportHeight:G},R)}function g(h){var y=2047,v=Math.max(0,Math.floor(h[0]*y),0),m=Math.min(y,Math.ceil(h[1]*y),y);return[Math.min(v,m),Math.max(v,m)]}ee.exports=function(h,y){var v,_,f,S,w=y.context,E=y.pick,L=y.regl,C=L._gl,O=C.getParameter(C.ALIASED_LINE_WIDTH_RANGE),R=Math.max(O[0],Math.min(O[1],y.viewModel.plotGlPixelRatio)),q={currentRafs:{},drawCompleted:!0,clearOnly:!1},P=function(G){for(var te={},J=0;J<=T;J+=4)te[c(J)]=G.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return te}(L),U=L.texture(i),N=[];j(y);var F=L({profile:!1,blend:{enable:w,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!w,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:L.prop("scissorX"),y:L.prop("scissorY"),width:L.prop("scissorWidth"),height:L.prop("scissorHeight")}},viewport:{x:L.prop("viewportX"),y:L.prop("viewportY"),width:L.prop("viewportWidth"),height:L.prop("viewportHeight")},dither:!1,vert:k,frag:l,primitive:"lines",lineWidth:R,attributes:P,uniforms:{resolution:L.prop("resolution"),viewBoxPos:L.prop("viewBoxPos"),viewBoxSize:L.prop("viewBoxSize"),dim0A:L.prop("dim0A"),dim1A:L.prop("dim1A"),dim0B:L.prop("dim0B"),dim1B:L.prop("dim1B"),dim0C:L.prop("dim0C"),dim1C:L.prop("dim1C"),dim0D:L.prop("dim0D"),dim1D:L.prop("dim1D"),loA:L.prop("loA"),hiA:L.prop("hiA"),loB:L.prop("loB"),hiB:L.prop("hiB"),loC:L.prop("loC"),hiC:L.prop("hiC"),loD:L.prop("loD"),hiD:L.prop("hiD"),palette:U,contextColor:L.prop("contextColor"),maskTexture:L.prop("maskTexture"),drwLayer:L.prop("drwLayer"),maskHeight:L.prop("maskHeight")},offset:L.prop("offset"),count:L.prop("count")});function j(G){v=G.model,_=G.viewModel.dimensions.slice(),f=_[0]?_[0].values.length:0;var te=v.lines,J=E?te.color.map(function(Y,W){return W/te.color.length}):te.color,X=function(Y,W,$){for(var re=new Array(Y*(T+4)),oe=0,ue=0;ue<Y;ue++){for(var xe=0;xe<T;xe++)re[oe++]=xe<W.length?W[xe].paddedUnitValues[ue]:.5;re[oe++]=s(ue,2),re[oe++]=s(ue,1),re[oe++]=s(ue,0),re[oe++]=Math.max(1e-6,Math.min(.999999,$[ue]))}return re}(f,_,J);(function(Y,W,$){for(var ne=0;ne<=T;ne+=4)Y[c(ne)](u(ne/4,W,$))})(P,f,X),w||E||(U=L.texture(b.extendFlat({data:o(v.unitToColor,255)},i)))}return{render:function(G,te,J){var X,Y,W,$=G.length,ne=1/0,re=-1/0;for(X=0;X<$;X++)G[X].dim0.canvasX<ne&&(ne=G[X].dim0.canvasX,Y=X),G[X].dim1.canvasX>re&&(re=G[X].dim1.canvasX,W=X);0===$&&r(L,0,0,v.canvasWidth,v.canvasHeight);var oe=function(se){var ae,fe,Ee,ke=[[],[]];for(Ee=0;Ee<64;Ee++){var be=!se&&Ee<_.length?_[Ee].brush.filter.getBounds():[-1/0,1/0];ke[0][Ee]=be[0],ke[1][Ee]=be[1]}var Ie=new Array(16384);for(ae=0;ae<16384;ae++)Ie[ae]=255;if(!se)for(ae=0;ae<_.length;ae++){var Fe=ae%8,ce=(ae-Fe)/8,Te=Math.pow(2,Fe),ve=_[ae].brush.filter.get();if(!(ve.length<2)){var Ce=g(ve[0])[1];for(fe=1;fe<ve.length;fe++){var Re=g(ve[fe]);for(Ee=Ce+1;Ee<Re[0];Ee++)Ie[8*Ee+ce]&=~Te;Ce=Math.max(Ce,Re[1])}}}var Oe={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ie};return S?S(Oe):S=L.texture(Oe),{maskTexture:S,maskHeight:2048,loA:ke[0].slice(0,16),loB:ke[0].slice(16,32),loC:ke[0].slice(32,48),loD:ke[0].slice(48,64),hiA:ke[1].slice(0,16),hiB:ke[1].slice(16,32),hiC:ke[1].slice(32,48),hiD:ke[1].slice(48,64)}}(w);for(X=0;X<$;X++){var ue=G[X],xe=ue.dim0.crossfilterDimensionIndex,Me=ue.dim1.crossfilterDimensionIndex,me=ue.canvasX,pe=ue.canvasY,ge=me+ue.panelSizeX,Pe=ue.plotGlPixelRatio;if(te||!N[xe]||N[xe][0]!==me||N[xe][1]!==ge){N[xe]=[me,ge];var _e=x(v,Y,W,X,xe,Me,me,pe,ue.panelSizeX,ue.panelSizeY,ue.dim0.crossfilterDimensionIndex,w?0:E?2:1,oe,Pe);q.clearOnly=J,n(L,F,q,te?v.lines.blockLineCount:f,f,_e)}}},readPixel:function(G,te){return L.read({x:G,y:te,width:1,height:1,data:t}),t},readPixels:function(G,te,J,X){var Y=new Uint8Array(4*J*X);return L.read({x:G,y:te,width:J,height:X,data:Y}),Y},destroy:function(){for(var G in h.style["pointer-events"]="none",U.destroy(),S&&S.destroy(),P)P[G].destroy()},update:j}}},94397:function(ee){"use strict";ee.exports=function(D,e,A,k){var l,T;for(k||(k=1/0),l=0;l<e.length;l++)(T=e[l]).visible&&(k=Math.min(k,T[A].length));for(k===1/0&&(k=0),D._length=k,l=0;l<e.length;l++)(T=e[l]).visible&&(T._length=k);return k}},17171:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=k.numberFormat,T=e(36652),b=e(89298),d=k.strRotate,a=k.strTranslate,t=e(63893),i=e(91424),r=e(21081),n=e(28984),o=n.keyFun,s=n.repeat,u=n.unwrap,p=e(1602),c=e(25706),x=e(57920),g=e(83398);function h(U,N,F){return k.aggNums(U,null,N,F)}function y(U,N){return m(h(Math.min,U,N),h(Math.max,U,N))}function v(U){var N=U.range;return N?m(N[0],N[1]):y(U.values,U._length)}function m(U,N){return!isNaN(U)&&isFinite(U)||(U=0),!isNaN(N)&&isFinite(N)||(N=0),U===N&&(0===U?(U-=1,N+=1):(U*=.9,N*=1.1)),[U,N]}function _(U,N,F,j,G){var te,J,X=v(F);return j?A.scale.ordinal().domain(j.map((te=l(F.tickformat),J=G,J?function(Y,W){return J[W]??te(Y)}:te))).range(j.map(function(Y){return U-N+(Y-X[0])/(X[1]-X[0])*(2*N-U)})):A.scale.linear().domain(X).range([U-N,N])}function f(U){if(U.tickvals){var N=v(U);return A.scale.ordinal().domain(U.tickvals).range(U.tickvals.map(function(F){return(F-N[0])/(N[1]-N[0])}))}}function S(U){var N=U.map(function(G){return G[0]}),F=U.map(function(G){var te=T(G[1]);return A.rgb("rgb("+te[0]+","+te[1]+","+te[2]+")")}),j="rgb".split("").map(function(G){return A.scale.linear().clamp(!0).domain(N).range(F.map((te=G,function(J){return J[te]})));var te});return function(G){return j.map(function(te){return te(G)})}}function w(U){return U.dimensions.some(function(N){return N.brush.filterSpecified})}function E(U,N,F){var j=u(N),G=j.trace,te=p.convertTypedArray(j.lineColor),J=G.line,X={color:T(G.unselected.line.color),opacity:G.unselected.line.opacity},Y=r.extractOpts(J),W=Y.reversescale?r.flipScale(j.cscale):j.cscale,$=G.domain,ne=G.dimensions,re=U.width,oe=G.labelangle,ue=G.labelside,xe=G.labelfont,Me=G.tickfont,me=G.rangefont,pe=k.extendDeepNoArrays({},J,{color:te.map(A.scale.linear().domain(v({values:te,range:[Y.min,Y.max],_length:G._length}))),blockLineCount:c.blockLineCount,canvasOverdrag:c.overdrag*c.canvasPixelRatio}),ge=Math.floor(re*($.x[1]-$.x[0])),Pe=Math.floor(U.height*($.y[1]-$.y[0])),_e=U.margin||{l:80,r:80,t:100,b:80},we=ge,se=Pe;return{key:F,colCount:ne.filter(p.isVisible).length,dimensions:ne,tickDistance:c.tickDistance,unitToColor:S(W),lines:pe,deselectedLines:X,labelAngle:oe,labelSide:ue,labelFont:xe,tickFont:Me,rangeFont:me,layoutWidth:re,layoutHeight:U.height,domain:$,translateX:$.x[0]*re,translateY:U.height-$.y[1]*U.height,pad:_e,canvasWidth:we*c.canvasPixelRatio+2*pe.canvasOverdrag,canvasHeight:se*c.canvasPixelRatio,width:we,height:se,canvasPixelRatio:c.canvasPixelRatio}}function L(U,N,F){var re,oe,j=F.width,G=F.height,te=F.dimensions,J=F.canvasPixelRatio,X=function(re){return j*re/Math.max(1,F.colCount-1)},Y=c.verticalPadding/G,W=(re=G,oe=c.verticalPadding,A.scale.linear().range([oe,re-oe])),$={key:F.key,xScale:X,model:F,inBrushDrag:!1},ne={};return $.dimensions=te.filter(p.isVisible).map(function(re,oe){var be,Ie,ue=(be=re,Ie=Y,A.scale.linear().domain(v(be)).range([Ie,1-Ie])),xe=ne[re.label];ne[re.label]=(xe||0)+1;var Me=re.label+(xe?"__"+xe:""),me=re.constraintrange,pe=me&&me.length;pe&&!Array.isArray(me[0])&&(me=[me]);var ge=pe?me.map(function(be){return be.map(ue)}):[[-1/0,1/0]],Pe=re.values;Pe.length>re._length&&(Pe=Pe.slice(0,re._length));var _e,we=re.tickvals;function se(be,Ie){return{val:be,text:_e[Ie]}}function ae(be,Ie){return be.val-Ie.val}if(Array.isArray(we)&&we.length){_e=re.ticktext,Array.isArray(_e)&&_e.length?_e.length>we.length?_e=_e.slice(0,we.length):we.length>_e.length&&(we=we.slice(0,_e.length)):_e=we.map(l(re.tickformat));for(var fe=1;fe<we.length;fe++)if(we[fe]<we[fe-1]){for(var Ee=we.map(se).sort(ae),ke=0;ke<we.length;ke++)we[ke]=Ee[ke].val,_e[ke]=Ee[ke].text;break}}else we=void 0;return Pe=p.convertTypedArray(Pe),{key:Me,label:re.label,tickFormat:re.tickformat,tickvals:we,ticktext:_e,ordinal:p.isOrdinal(re),multiselect:re.multiselect,xIndex:oe,crossfilterDimensionIndex:oe,visibleIndex:re._index,height:G,values:Pe,paddedUnitValues:Pe.map(ue),unitTickvals:we&&we.map(ue),xScale:X,x:X(oe),canvasX:X(oe)*J,unitToPaddedPx:W,domainScale:_(G,c.verticalPadding,re,we,_e),ordinalScale:f(re),parent:$,model:F,brush:x.makeBrush(U,pe,ge,function(){U.linePickActive(!1)},function(){var be=$;be.focusLayer&&be.focusLayer.render(be.panels,!0);var Ie=w(be);!U.contextShown()&&Ie?(be.contextLayer&&be.contextLayer.render(be.panels,!0),U.contextShown(!0)):U.contextShown()&&!Ie&&(be.contextLayer&&be.contextLayer.render(be.panels,!0,!0),U.contextShown(!1))},function(be){if($.focusLayer.render($.panels,!0),$.pickLayer&&$.pickLayer.render($.panels,!0),U.linePickActive(!0),N&&N.filterChanged){var Ie=ue.invert,Fe=be.map(function(ce){return ce.map(Ie).sort(k.sorterAsc)}).sort(function(ce,Te){return ce[0]-Te[0]});N.filterChanged($.key,re._index,Fe)}})}}),$}function C(U){U.classed(c.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function O(U,N){var j=U*Math.PI/180;return{dir:"top"===N?1:-1,dx:Math.sin(j),dy:Math.cos(j),degrees:U}}function R(U,N,F){for(var j=N.panels||(N.panels=[]),G=U.data(),te=0;te<G.length-1;te++){var J=j[te]||(j[te]={}),X=G[te],Y=G[te+1];J.dim0=X,J.dim1=Y,J.canvasX=X.canvasX,J.panelSizeX=Y.canvasX-X.canvasX,J.panelSizeY=N.model.canvasHeight,J.y=0,J.canvasY=0,J.plotGlPixelRatio=F}}function q(U,N){return b.tickText(U._ax,N,!1).text}function P(U,N){if(U.ordinal)return"";var F=U.domainScale.domain();return q(U.model.dimensions[U.visibleIndex],F[N?F.length-1:0])}ee.exports=function(U,N,F,j){var G=U._context.staticPlot,te=U._fullLayout,J=te._toppaper,X=te._glcontainer,Y=U._context.plotGlPixelRatio,W=U._fullLayout.paper_bgcolor;!function(be){for(var Ie=0;Ie<be.length;Ie++)for(var Fe=0;Fe<be[Ie].length;Fe++)for(var ce=be[Ie][Fe].trace,Te=ce.dimensions,ve=0;ve<Te.length;ve++){var Ce=Te[ve].values,Re=Te[ve]._ax;Re&&(Re.range=Re.range?m(Re.range[0],Re.range[1]):y(Ce,ce._length),Re.dtick||(Re.dtick=.01*(Math.abs(Re.range[1]-Re.range[0])||1)),Re.tickformat=Te[ve].tickformat,b.calcTicks(Re),Re.cleanRange())}}(N);var $,ne,re=($=!0,ne=!1,{linePickActive:function(be){return arguments.length?$=!!be:$},contextShown:function(be){return arguments.length?ne=!!be:ne}}),oe=N.filter(function(be){return u(be).trace.visible}).map(E.bind(0,F)).map(L.bind(0,re,j));X.each(function(be,Ie){return k.extendFlat(be,oe[Ie])});var ue=X.selectAll(".gl-canvas").each(function(be){be.viewModel=oe[0],be.viewModel.plotGlPixelRatio=Y,be.viewModel.paperColor=W,be.model=be.viewModel?be.viewModel.model:null}),xe=null;ue.filter(function(be){return be.pick}).style("pointer-events",G?"none":"auto").on("mousemove",function(be){if(re.linePickActive()&&be.lineLayer&&j&&j.hover){var Ie=A.event,Fe=this.width,ce=this.height,Te=A.mouse(this),ve=Te[0],Ce=Te[1];if(ve<0||Ce<0||ve>=Fe||Ce>=ce)return;var Re=be.lineLayer.readPixel(ve,ce-1-Ce),Oe=0!==Re[3],je=Oe?Re[2]+256*(Re[1]+256*Re[0]):null,qe={x:ve,y:Ce,clientX:Ie.clientX,clientY:Ie.clientY,dataIndex:be.model.key,curveNumber:je};je!==xe&&(Oe?j.hover(qe):j.unhover&&j.unhover(qe),xe=je)}}),ue.style("opacity",function(be){return be.pick?0:1}),J.style("background","rgba(255, 255, 255, 0)");var Me=J.selectAll("."+c.cn.parcoords).data(oe,o);Me.exit().remove(),Me.enter().append("g").classed(c.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Me.attr("transform",function(be){return a(be.model.translateX,be.model.translateY)});var me=Me.selectAll("."+c.cn.parcoordsControlView).data(s,o);me.enter().append("g").classed(c.cn.parcoordsControlView,!0),me.attr("transform",function(be){return a(be.model.pad.l,be.model.pad.t)});var pe=me.selectAll("."+c.cn.yAxis).data(function(be){return be.dimensions},o);pe.enter().append("g").classed(c.cn.yAxis,!0),me.each(function(be){R(pe,be,Y)}),ue.each(function(be){be.viewModel&&(!be.lineLayer||j?be.lineLayer=g(this,be):be.lineLayer.update(be),(be.key||0===be.key)&&(be.viewModel[be.key]=be.lineLayer),be.lineLayer.render(be.viewModel.panels,!be.context||j))}),pe.attr("transform",function(be){return a(be.xScale(be.xIndex),0)}),pe.call(A.behavior.drag().origin(function(be){return be}).on("drag",function(be){var Ie=be.parent;re.linePickActive(!1),be.x=Math.max(-c.overdrag,Math.min(be.model.width+c.overdrag,A.event.x)),be.canvasX=be.x*be.model.canvasPixelRatio,pe.sort(function(Fe,ce){return Fe.x-ce.x}).each(function(Fe,ce){Fe.xIndex=ce,Fe.x=be===Fe?Fe.x:Fe.xScale(Fe.xIndex),Fe.canvasX=Fe.x*Fe.model.canvasPixelRatio}),R(pe,Ie,Y),pe.filter(function(Fe){return 0!==Math.abs(be.xIndex-Fe.xIndex)}).attr("transform",function(Fe){return a(Fe.xScale(Fe.xIndex),0)}),A.select(this).attr("transform",a(be.x,0)),pe.each(function(Fe,ce,Te){Te===be.parent.key&&(Ie.dimensions[ce]=Fe)}),Ie.contextLayer&&Ie.contextLayer.render(Ie.panels,!1,!w(Ie)),Ie.focusLayer.render&&Ie.focusLayer.render(Ie.panels)}).on("dragend",function(be){var Ie=be.parent;be.x=be.xScale(be.xIndex),be.canvasX=be.x*be.model.canvasPixelRatio,R(pe,Ie,Y),A.select(this).attr("transform",function(Fe){return a(Fe.x,0)}),Ie.contextLayer&&Ie.contextLayer.render(Ie.panels,!1,!w(Ie)),Ie.focusLayer&&Ie.focusLayer.render(Ie.panels),Ie.pickLayer&&Ie.pickLayer.render(Ie.panels,!0),re.linePickActive(!0),j&&j.axesMoved&&j.axesMoved(Ie.key,Ie.dimensions.map(function(Fe){return Fe.crossfilterDimensionIndex}))})),pe.exit().remove();var ge=pe.selectAll("."+c.cn.axisOverlays).data(s,o);ge.enter().append("g").classed(c.cn.axisOverlays,!0),ge.selectAll("."+c.cn.axis).remove();var Pe=ge.selectAll("."+c.cn.axis).data(s,o);Pe.enter().append("g").classed(c.cn.axis,!0),Pe.each(function(be){var Ie=be.model.height/be.model.tickDistance,Fe=be.domainScale,ce=Fe.domain();A.select(this).call(A.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Ie,be.tickFormat).tickValues(be.ordinal?ce:null).tickFormat(function(Te){return p.isOrdinal(be)?Te:q(be.model.dimensions[be.visibleIndex],Te)}).scale(Fe)),i.font(Pe.selectAll("text"),be.model.tickFont)}),Pe.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Pe.selectAll("text").style("text-shadow",t.makeTextShadow(W)).style("cursor","default");var _e=ge.selectAll("."+c.cn.axisHeading).data(s,o);_e.enter().append("g").classed(c.cn.axisHeading,!0);var we=_e.selectAll("."+c.cn.axisTitle).data(s,o);we.enter().append("text").classed(c.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",G?"none":"auto"),we.text(function(be){return be.label}).each(function(be){var Ie=A.select(this);i.font(Ie,be.model.labelFont),t.convertToTspans(Ie,U)}).attr("transform",function(be){var Ie=O(be.model.labelAngle,be.model.labelSide),Fe=c.axisTitleOffset;return(Ie.dir>0?"":a(0,2*Fe+be.model.height))+d(Ie.degrees)+a(-Fe*Ie.dx,-Fe*Ie.dy)}).attr("text-anchor",function(be){var Ie=O(be.model.labelAngle,be.model.labelSide);return 2*Math.abs(Ie.dx)>Math.abs(Ie.dy)?Ie.dir*Ie.dx<0?"start":"end":"middle"});var se=ge.selectAll("."+c.cn.axisExtent).data(s,o);se.enter().append("g").classed(c.cn.axisExtent,!0);var ae=se.selectAll("."+c.cn.axisExtentTop).data(s,o);ae.enter().append("g").classed(c.cn.axisExtentTop,!0),ae.attr("transform",a(0,-c.axisExtentOffset));var fe=ae.selectAll("."+c.cn.axisExtentTopText).data(s,o);fe.enter().append("text").classed(c.cn.axisExtentTopText,!0).call(C),fe.text(function(be){return P(be,!0)}).each(function(be){i.font(A.select(this),be.model.rangeFont)});var Ee=se.selectAll("."+c.cn.axisExtentBottom).data(s,o);Ee.enter().append("g").classed(c.cn.axisExtentBottom,!0),Ee.attr("transform",function(be){return a(0,be.model.height+c.axisExtentOffset)});var ke=Ee.selectAll("."+c.cn.axisExtentBottomText).data(s,o);ke.enter().append("text").classed(c.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(C),ke.text(function(be){return P(be,!1)}).each(function(be){i.font(A.select(this),be.model.rangeFont)}),x.ensureAxisBrush(ge,W,U)}},21341:function(ee,D,e){"use strict";var A=e(17171),k=e(79749),l=e(1602).isVisible,T={};function b(d,a,t){var i=a.indexOf(t),r=d.indexOf(i);return-1===r&&(r+=a.length),r}(ee.exports=function(d,a){var t=d._fullLayout;if(k(d,[],T)){var i={},r={},n={},o={},s=t._size;a.forEach(function(u,p){var c=u[0].trace;n[p]=c.index;var x=o[p]=c._fullInput.index;i[p]=d.data[x].dimensions,r[p]=d.data[x].dimensions.slice()}),A(d,a,{width:s.w,height:s.h,margin:{t:s.t,r:s.r,b:s.b,l:s.l}},{filterChanged:function(u,p,c){var x=r[u][p],g=c.map(function(f){return f.slice()}),h="dimensions["+p+"].constraintrange",y=t._tracePreGUI[d._fullData[n[u]]._fullInput.uid];void 0===y[h]&&(y[h]=x.constraintrange||null);var m=d._fullData[n[u]].dimensions[p];g.length?(1===g.length&&(g=g[0]),x.constraintrange=g,m.constraintrange=g.slice(),g=[g]):(delete x.constraintrange,delete m.constraintrange,g=null);var _={};_[h]=g,d.emit("plotly_restyle",[_,[o[u]]])},hover:function(u){d.emit("plotly_hover",u)},unhover:function(u){d.emit("plotly_unhover",u)},axesMoved:function(u,p){var x,g,c=(x=p,g=r[u].filter(l),function(h,y){return b(x,g,h)-b(x,g,y)});i[u].sort(c),r[u].filter(function(x){return!l(x)}).sort(function(x){return r[u].indexOf(x)}).forEach(function(x){i[u].splice(i[u].indexOf(x),1),i[u].splice(r[u].indexOf(x),0,x)}),d.emit("plotly_restyle",[{dimensions:[i[u]]},[o[u]]])}})}}).reglPrecompiled=T},34e3:function(ee,D,e){"use strict";var A=e(9012),k=e(27670).Y,l=e(41940),T=e(22399),b=e(5386).fF,d=e(5386).si,a=e(1426).extendFlat,t=e(79952).u,i=l({editType:"plot",arrayOk:!0,colorEditType:"plot"});ee.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:T.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:a({},A.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:b({},{keys:["label","color","value","percent","text"]}),texttemplate:d({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:a({},i,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:a({},i,{}),outsidetextfont:a({},i,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:a({},i,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:k({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:a({},i,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(ee,D,e){"use strict";var A=e(74875);D.name="pie",D.plot=function(k,l,T,b){A.plotBasePlot(D.name,k,l,T,b)},D.clean=function(k,l,T,b){A.cleanBasePlot(D.name,k,l,T,b)}},32354:function(ee,D,e){"use strict";var A=e(92770),k=e(84267),l=e(7901),T={};function b(a){return function(t,i){return!!t&&!!(t=k(t)).isValid()&&(t=l.addOpacity(t,t.getAlpha()),a[i]||(a[i]=t),t)}}function d(a,t){var i,r=JSON.stringify(a),n=t[r];if(!n){for(n=a.slice(),i=0;i<a.length;i++)n.push(k(a[i]).lighten(20).toHexString());for(i=0;i<a.length;i++)n.push(k(a[i]).darken(20).toHexString());t[r]=n}return n}ee.exports={calc:function(a,t){var i,r,n=[],o=a._fullLayout,s=o.hiddenlabels||[],u=t.labels,p=t.marker.colors||[],c=t.values,x=t._length,g=t._hasValues&&x;if(t.dlabel)for(u=new Array(x),i=0;i<x;i++)u[i]=String(t.label0+i*t.dlabel);var h={},y=b(o["_"+t.type+"colormap"]),v=0,m=!1;for(i=0;i<x;i++){var _,f,S;if(g){if(!A(_=c[i]))continue;_=+_}else _=1;void 0!==(f=u[i])&&""!==f||(f=i);var w=h[f=String(f)];void 0===w?(h[f]=n.length,(S=-1!==s.indexOf(f))||(v+=_),n.push({v:_,label:f,color:y(p[i],f),i,pts:[i],hidden:S})):(m=!0,(r=n[w]).v+=_,r.pts.push(i),r.hidden||(v+=_),!1===r.color&&p[i]&&(r.color=y(p[i],f)))}return n=n.filter(function(E){return E.v>=0}),("funnelarea"===t.type?m:t.sort)&&n.sort(function(E,L){return L.v-E.v}),n[0]&&(n[0].vTotal=v),n},crossTraceCalc:function(a,t){var i=(t||{}).type;i||(i="pie");var r=a._fullLayout,n=a.calcdata,o=r[i+"colorway"],s=r["_"+i+"colormap"];r["extend"+i+"colors"]&&(o=d(o,T));for(var u=0,p=0;p<n.length;p++){var c=n[p];if(c[0].trace.type===i)for(var x=0;x<c.length;x++){var g=c[x];!1===g.color&&(s[g.label]?g.color=s[g.label]:(s[g.label]=g.color=o[u%o.length],u++))}}},makePullColorFn:b,generateExtendedColors:d}},37434:function(ee,D,e){"use strict";var A=e(92770),k=e(71828),l=e(34e3),T=e(27670).c,b=e(90769).handleText,d=e(71828).coercePattern;function a(i,r){var n=Array.isArray(i),o=k.isArrayOrTypedArray(r),s=Math.min(n?i.length:1/0,o?r.length:1/0);if(isFinite(s)||(s=0),s&&o){for(var u,p=0;p<s;p++){var c=r[p];if(A(c)&&c>0){u=!0;break}}u||(s=0)}return{hasLabels:n,hasValues:o,len:s}}function t(i,r,n,o,s){o("marker.line.width")&&o("marker.line.color",s?void 0:n.paper_bgcolor);var u=o("marker.colors");d(o,"marker.pattern",u),i.marker&&!r.marker.pattern.fgcolor&&(r.marker.pattern.fgcolor=i.marker.colors),r.marker.pattern.bgcolor||(r.marker.pattern.bgcolor=n.paper_bgcolor)}ee.exports={handleLabelsAndValues:a,handleMarkerDefaults:t,supplyDefaults:function(i,r,n,o){function s(m,_){return k.coerce(i,r,l,m,_)}var u=a(s("labels"),s("values")),p=u.len;if(r._hasLabels=u.hasLabels,r._hasValues=u.hasValues,!r._hasLabels&&r._hasValues&&(s("label0"),s("dlabel")),p){r._length=p,t(i,r,o,s,!0),s("scalegroup");var c,x=s("text"),g=s("texttemplate");if(g||(c=s("textinfo",Array.isArray(x)?"text+percent":"percent")),s("hovertext"),s("hovertemplate"),g||c&&"none"!==c){var h=s("textposition");b(i,r,o,s,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(h)||"auto"===h||"outside"===h)&&s("automargin"),("inside"===h||"auto"===h||Array.isArray(h))&&s("insidetextorientation")}T(r,o,s);var y=s("hole");if(s("title.text")){var v=s("title.position",y?"middle center":"top center");y||"middle center"!==v||(r.title.position="top center"),k.coerceFont(s,"title.font",o.font)}s("sort"),s("direction"),s("rotation"),s("pull")}else r.visible=!1}}},20007:function(ee,D,e){"use strict";var A=e(23469).appendArrayMultiPointValues;ee.exports=function(k,l){var T={curveNumber:l.index,pointNumbers:k.pts,data:l._input,fullData:l,label:k.label,color:k.color,value:k.v,percent:k.percent,text:k.text,bbox:k.bbox,v:k.v};return 1===k.pts.length&&(T.pointNumber=T.i=k.pts[0]),A(T,l,k.pts),"funnelarea"===l.type&&(delete T.v,delete T.i),T}},22209:function(ee,D,e){"use strict";var A=e(91424),k=e(7901);ee.exports=function(l,T,b,d){var a=b.marker.pattern;a&&a.shape?A.pointStyle(l,b,d,T):k.fill(l,T.color)}},53581:function(ee,D,e){"use strict";var A=e(71828);function k(l){return-1!==l.indexOf("e")?l.replace(/[.]?0+e/,"e"):-1!==l.indexOf(".")?l.replace(/[.]?0+$/,""):l}D.formatPiePercent=function(l,T){var b=k((100*l).toPrecision(3));return A.numSeparate(b,T)+"%"},D.formatPieValue=function(l,T){var b=k(l.toPrecision(10));return A.numSeparate(b,T)},D.getFirstFilled=function(l,T){if(Array.isArray(l))for(var b=0;b<T.length;b++){var d=l[T[b]];if(d||0===d||""===d)return d}},D.castOption=function(l,T){return Array.isArray(l)?D.getFirstFilled(l,T):l||void 0},D.getRotationAngle=function(l){return("auto"===l?0:l)*Math.PI/180}},58810:function(ee,D,e){"use strict";ee.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(ee){"use strict";ee.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(ee,D,e){"use strict";var A=e(71828),k=e(92774);ee.exports=function(l,T){function b(d,a){return A.coerce(l,T,k,d,a)}b("hiddenlabels"),b("piecolorway",T.colorway),b("extendpiecolors")}},14575:function(ee,D,e){"use strict";var A=e(39898),k=e(74875),l=e(30211),T=e(7901),b=e(91424),d=e(71828),a=d.strScale,t=d.strTranslate,i=e(63893),r=e(72597),n=r.recordMinTextSize,o=r.clearMinTextSize,s=e(97313).TEXTPAD,u=e(53581),p=e(20007),c=e(71828).isValidTextValue;function x(N,F,j){var G=j[0],te=G.cx,J=G.cy,X=G.trace,Y="funnelarea"===X.type;"_hasHoverLabel"in X||(X._hasHoverLabel=!1),"_hasHoverEvent"in X||(X._hasHoverEvent=!1),N.on("mouseover",function(W){var $=F._fullLayout,ne=F._fullData[X.index];if(!F._dragging&&!1!==$.hovermode){var re=ne.hoverinfo;if(Array.isArray(re)&&(re=l.castHoverinfo({hoverinfo:[u.castOption(re,W.pts)],_module:X._module},$,0)),"all"===re&&(re="label+text+value+percent+name"),ne.hovertemplate||"none"!==re&&"skip"!==re&&re){var oe=W.rInscribed||0,ue=te+W.pxmid[0]*(1-oe),xe=J+W.pxmid[1]*(1-oe),Me=$.separators,me=[];if(re&&-1!==re.indexOf("label")&&me.push(W.label),W.text=u.castOption(ne.hovertext||ne.text,W.pts),re&&-1!==re.indexOf("text")){var pe=W.text;d.isValidTextValue(pe)&&me.push(pe)}W.value=W.v,W.valueLabel=u.formatPieValue(W.v,Me),re&&-1!==re.indexOf("value")&&me.push(W.valueLabel),W.percent=W.v/G.vTotal,W.percentLabel=u.formatPiePercent(W.percent,Me),re&&-1!==re.indexOf("percent")&&me.push(W.percentLabel);var ge=ne.hoverlabel,Pe=ge.font,_e=[];l.loneHover({trace:X,x0:ue-oe*G.r,x1:ue+oe*G.r,y:xe,_x0:Y?te+W.TL[0]:ue-oe*G.r,_x1:Y?te+W.TR[0]:ue+oe*G.r,_y0:Y?J+W.TL[1]:xe-oe*G.r,_y1:Y?J+W.BL[1]:xe+oe*G.r,text:me.join("<br>"),name:ne.hovertemplate||-1!==re.indexOf("name")?ne.name:void 0,idealAlign:W.pxmid[0]<0?"left":"right",color:u.castOption(ge.bgcolor,W.pts)||W.color,borderColor:u.castOption(ge.bordercolor,W.pts),fontFamily:u.castOption(Pe.family,W.pts),fontSize:u.castOption(Pe.size,W.pts),fontColor:u.castOption(Pe.color,W.pts),nameLength:u.castOption(ge.namelength,W.pts),textAlign:u.castOption(ge.align,W.pts),hovertemplate:u.castOption(ne.hovertemplate,W.pts),hovertemplateLabels:W,eventData:[p(W,ne)]},{container:$._hoverlayer.node(),outerContainer:$._paper.node(),gd:F,inOut_bbox:_e}),W.bbox=_e[0],X._hasHoverLabel=!0}X._hasHoverEvent=!0,F.emit("plotly_hover",{points:[p(W,ne)],event:A.event})}}),N.on("mouseout",function(W){var $=F._fullLayout,ne=F._fullData[X.index],re=A.select(this).datum();X._hasHoverEvent&&(W.originalEvent=A.event,F.emit("plotly_unhover",{points:[p(re,ne)],event:A.event}),X._hasHoverEvent=!1),X._hasHoverLabel&&(l.loneUnhover($._hoverlayer.node()),X._hasHoverLabel=!1)}),N.on("click",function(W){F._dragging||!1===F._fullLayout.hovermode||(F._hoverdata=[p(W,F._fullData[X.index])],l.click(F,A.event))})}function g(N,F,j){var G=u.castOption(N.insidetextfont.color,F.pts);!G&&N._input.textfont&&(G=u.castOption(N._input.textfont.color,F.pts));var te=u.castOption(N.insidetextfont.family,F.pts)||u.castOption(N.textfont.family,F.pts)||j.family,J=u.castOption(N.insidetextfont.size,F.pts)||u.castOption(N.textfont.size,F.pts)||j.size;return{color:G||T.contrast(F.color),family:te,size:J}}function h(N,F){for(var j,G,te=0;te<N.length;te++)if((G=(j=N[te][0]).trace).title.text){var J=G.title.text;G._meta&&(J=d.templateString(J,G._meta));var X=b.tester.append("text").attr("data-notex",1).text(J).call(b.font,G.title.font).call(i.convertToTspans,F),Y=b.bBox(X.node(),!0);j.titleBox={width:Y.width,height:Y.height},X.remove()}}function y(N,F,j){var G=j.r||F.rpx1,te=F.rInscribed;if(F.startangle===F.stopangle)return{rCenter:1-te,scale:0,rotate:0,textPosAngle:0};var J,X=F.ring,Y=1===X&&Math.abs(F.startangle-F.stopangle)===2*Math.PI,W=F.halfangle,$=F.midangle,ne=j.trace.insidetextorientation,re="horizontal"===ne,oe="tangential"===ne,ue="radial"===ne,xe="auto"===ne,Me=[];if(!xe){var me,pe=function(ae,fe){if(Te=(Ie=F).stopangle,(ce=Ie.startangle)>(Fe=ae)&&Fe>Te||ce<Fe&&Fe<Te){var Ee=Math.abs(ae-F.startangle),ke=Math.abs(ae-F.stopangle),be=Ee<ke?Ee:ke;(J="tan"===fe?m(N,G,X,be,0):v(N,G,X,be,Math.PI/2)).textPosAngle=ae,Me.push(J)}var Ie,Fe,ce,Te};if(re||oe){for(me=4;me>=-4;me-=2)pe(Math.PI*me,"tan");for(me=4;me>=-4;me-=2)pe(Math.PI*(me+1),"tan")}if(re||ue){for(me=4;me>=-4;me-=2)pe(Math.PI*(me+1.5),"rad");for(me=4;me>=-4;me-=2)pe(Math.PI*(me+.5),"rad")}}if(Y||xe||re){var ge=Math.sqrt(N.width*N.width+N.height*N.height);if((J={scale:te*G*2/ge,rCenter:1-te,rotate:0}).textPosAngle=(F.startangle+F.stopangle)/2,J.scale>=1)return J;Me.push(J)}(xe||ue)&&((J=v(N,G,X,W,$)).textPosAngle=(F.startangle+F.stopangle)/2,Me.push(J)),(xe||oe)&&((J=m(N,G,X,W,$)).textPosAngle=(F.startangle+F.stopangle)/2,Me.push(J));for(var Pe=0,_e=0,we=0;we<Me.length;we++){var se=Me[we].scale;if(_e<se&&(_e=se,Pe=we),!xe&&_e>=1)break}return Me[Pe]}function v(N,F,j,G,te){F=Math.max(0,F-2*s);var J=N.width/N.height,X=S(J,G,F,j);return{scale:2*X/N.height,rCenter:_(J,X/F),rotate:f(te)}}function m(N,F,j,G,te){F=Math.max(0,F-2*s);var J=N.height/N.width,X=S(J,G,F,j);return{scale:2*X/N.width,rCenter:_(J,X/F),rotate:f(te+Math.PI/2)}}function _(N,F){return Math.cos(F)-N*F}function f(N){return(180/Math.PI*N+720)%180-90}function S(N,F,j,G){var te=N+1/(2*Math.tan(F));return j*Math.min(1/(Math.sqrt(te*te+.5)+te),G/(Math.sqrt(N*N+G/2)+N))}function w(N,F){return N.v!==F.vTotal||F.trace.hole?Math.min(1/(1+1/Math.sin(N.halfangle)),N.ring/2):1}function E(N,F){var j=F.pxmid[0],G=F.pxmid[1],te=N.width/2,J=N.height/2;return j<0&&(te*=-1),G<0&&(J*=-1),{scale:1,rCenter:1,rotate:0,x:te+Math.abs(J)*(te>0?1:-1)/2,y:J/(1+j*j/(G*G)),outside:!0}}function L(N,F){var j,G,te,J=N.trace,X={x:N.cx,y:N.cy},Y={tx:0,ty:0};Y.ty+=J.title.font.size,te=O(J),-1!==J.title.position.indexOf("top")?(X.y-=(1+te)*N.r,Y.ty-=N.titleBox.height):-1!==J.title.position.indexOf("bottom")&&(X.y+=(1+te)*N.r);var W,$=N.r/(void 0===(W=N.trace.aspectratio)?1:W),ne=F.w*(J.domain.x[1]-J.domain.x[0])/2;return-1!==J.title.position.indexOf("left")?(ne+=$,X.x-=(1+te)*$,Y.tx+=N.titleBox.width/2):-1!==J.title.position.indexOf("center")?ne*=2:-1!==J.title.position.indexOf("right")&&(ne+=$,X.x+=(1+te)*$,Y.tx-=N.titleBox.width/2),j=ne/N.titleBox.width,G=C(N,F)/N.titleBox.height,{x:X.x,y:X.y,scale:Math.min(j,G),tx:Y.tx,ty:Y.ty}}function C(N,F){var j=N.trace;return Math.min(N.titleBox.height,F.h*(j.domain.y[1]-j.domain.y[0])/2)}function O(N){var F,j=N.pull;if(!j)return 0;if(Array.isArray(j))for(j=0,F=0;F<N.pull.length;F++)N.pull[F]>j&&(j=N.pull[F]);return j}function R(N,F){for(var j=[],G=0;G<N.length;G++){var te=N[G][0],J=te.trace,X=J.domain,Y=F.w*(X.x[1]-X.x[0]),W=F.h*(X.y[1]-X.y[0]);J.title.text&&"middle center"!==J.title.position&&(W-=C(te,F));var ne=W/2;"funnelarea"!==J.type||J.scalegroup||(ne/=J.aspectratio),te.r=Math.min(Y/2,ne)/(1+O(J)),te.cx=F.l+F.w*(J.domain.x[1]+J.domain.x[0])/2,te.cy=F.t+F.h*(1-J.domain.y[0])-W/2,J.title.text&&-1!==J.title.position.indexOf("bottom")&&(te.cy-=C(te,F)),J.scalegroup&&-1===j.indexOf(J.scalegroup)&&j.push(J.scalegroup)}!function(re,oe){for(var ue,xe,Me,me=0;me<oe.length;me++){var pe=1/0,ge=oe[me];for(xe=0;xe<re.length;xe++)if((Me=(ue=re[xe][0]).trace).scalegroup===ge){var Pe;if("pie"===Me.type)Pe=ue.r*ue.r;else if("funnelarea"===Me.type){var _e,we;Me.aspectratio>1?we=(_e=ue.r)/Me.aspectratio:_e=(we=ue.r)*Me.aspectratio,Pe=(_e*=(1+Me.baseratio)/2)*we}pe=Math.min(pe,Pe/ue.vTotal)}for(xe=0;xe<re.length;xe++)if((Me=(ue=re[xe][0]).trace).scalegroup===ge){var se=pe*ue.vTotal;"funnelarea"===Me.type&&(se/=(1+Me.baseratio)/2,se/=Me.aspectratio),ue.r=Math.sqrt(se)}}}(N,j)}function q(N,F){return[N*Math.sin(F),-N*Math.cos(F)]}function P(N,F,j){var Pe,G=N._fullLayout,te=j.trace,J=te.texttemplate,X=te.textinfo;if(!J&&X&&"none"!==X){var Y,W=X.split("+"),$=function(Pe){return-1!==W.indexOf(Pe)},ne=$("label"),re=$("text"),oe=$("value"),ue=$("percent"),xe=G.separators;if(Y=ne?[F.label]:[],re){var Me=u.getFirstFilled(te.text,F.pts);c(Me)&&Y.push(Me)}oe&&Y.push(u.formatPieValue(F.v,xe)),ue&&Y.push(u.formatPiePercent(F.v/j.vTotal,xe)),F.text=Y.join("<br>")}if(J){var me=d.castOption(te,F.i,"texttemplate");if(me){var pe={label:(Pe=F).label,value:Pe.v,valueLabel:u.formatPieValue(Pe.v,G.separators),percent:Pe.v/j.vTotal,percentLabel:u.formatPiePercent(Pe.v/j.vTotal,G.separators),color:Pe.color,text:Pe.text,customdata:d.castOption(te,Pe.i,"customdata")},ge=u.getFirstFilled(te.text,F.pts);(c(ge)||""===ge)&&(pe.text=ge),F.text=d.texttemplateString(me,pe,N._fullLayout._d3locale,pe,te._meta||{})}else F.text=""}}function U(N,F){var j=N.rotate*Math.PI/180,G=Math.cos(j),te=Math.sin(j),J=(F.left+F.right)/2,X=(F.top+F.bottom)/2;N.textX=J*G-X*te,N.textY=J*te+X*G,N.noCenter=!0}ee.exports={plot:function(N,F){var j=N._context.staticPlot,G=N._fullLayout,te=G._size;o("pie",G),h(F,N),R(F,te);var J=d.makeTraceGroups(G._pielayer,F,"trace").each(function(X){var Y=A.select(this),W=X[0],$=W.trace;(function(ne){var re,oe,ue,xe=ne[0],Me=xe.r,me=xe.trace,pe=u.getRotationAngle(me.rotation),ge=2*Math.PI/xe.vTotal,Pe="px0",_e="px1";if("counterclockwise"===me.direction){for(re=0;re<ne.length&&ne[re].hidden;re++);if(re===ne.length)return;pe+=ge*ne[re].v,ge*=-1,Pe="px1",_e="px0"}for(ue=q(Me,pe),re=0;re<ne.length;re++)(oe=ne[re]).hidden||(oe[Pe]=ue,oe.startangle=pe,oe.pxmid=q(Me,pe+=ge*oe.v/2),oe.midangle=pe,ue=q(Me,pe+=ge*oe.v/2),oe.stopangle=pe,oe[_e]=ue,oe.largeArc=oe.v>xe.vTotal/2?1:0,oe.halfangle=Math.PI*Math.min(oe.v/xe.vTotal,.5),oe.ring=1-me.hole,oe.rInscribed=w(oe,xe))})(X),Y.attr("stroke-linejoin","round"),Y.each(function(){var ne=A.select(this).selectAll("g.slice").data(X);ne.enter().append("g").classed("slice",!0),ne.exit().remove();var re=[[[],[]],[[],[]]],oe=!1;ne.each(function(_e,we){if(_e.hidden)A.select(this).selectAll("path,g").remove();else{_e.pointNumber=_e.i,_e.curveNumber=$.index,re[_e.pxmid[1]<0?0:1][_e.pxmid[0]<0?0:1].push(_e);var se=W.cx,ae=W.cy,fe=A.select(this),Ee=fe.selectAll("path.surface").data([_e]);if(Ee.enter().append("path").classed("surface",!0).style({"pointer-events":j?"none":"all"}),fe.call(x,N,X),$.pull){var ke=+u.castOption($.pull,_e.pts)||0;ke>0&&(se+=ke*_e.pxmid[0],ae+=ke*_e.pxmid[1])}_e.cxFinal=se,_e.cyFinal=ae;var be=$.hole;if(_e.v===W.vTotal){var Ie="M"+(se+_e.px0[0])+","+(ae+_e.px0[1])+Ce(_e.px0,_e.pxmid,!0,1)+Ce(_e.pxmid,_e.px0,!0,1)+"Z";Ee.attr("d",be?"M"+(se+be*_e.px0[0])+","+(ae+be*_e.px0[1])+Ce(_e.px0,_e.pxmid,!1,be)+Ce(_e.pxmid,_e.px0,!1,be)+"Z"+Ie:Ie)}else{var Fe=Ce(_e.px0,_e.px1,!0,1);if(be){var ce=1-be;Ee.attr("d","M"+(se+be*_e.px1[0])+","+(ae+be*_e.px1[1])+Ce(_e.px1,_e.px0,!1,be)+"l"+ce*_e.px0[0]+","+ce*_e.px0[1]+Fe+"Z")}else Ee.attr("d","M"+se+","+ae+"l"+_e.px0[0]+","+_e.px0[1]+Fe+"Z")}P(N,_e,W);var Te=u.castOption($.textposition,_e.pts),ve=fe.selectAll("g.slicetext").data(_e.text&&"none"!==Te?[0]:[]);ve.enter().append("g").classed("slicetext",!0),ve.exit().remove(),ve.each(function(){var yt,mt,at,Re=d.ensureSingle(A.select(this),"text","",function(yt){yt.attr("data-notex",1)}),Oe=d.ensureUniformFontSize(N,"outside"===Te?(at=G.font,{color:u.castOption((yt=$).outsidetextfont.color,(mt=_e).pts)||u.castOption(yt.textfont.color,mt.pts)||at.color,family:u.castOption(yt.outsidetextfont.family,mt.pts)||u.castOption(yt.textfont.family,mt.pts)||at.family,size:u.castOption(yt.outsidetextfont.size,mt.pts)||u.castOption(yt.textfont.size,mt.pts)||at.size}):g($,_e,G.font));Re.text(_e.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(b.font,Oe).call(i.convertToTspans,N);var je,qe=b.bBox(Re.node());if("outside"===Te)je=E(qe,_e);else if(je=y(qe,_e,W),"auto"===Te&&je.scale<1){var Je=d.ensureUniformFontSize(N,$.outsidetextfont);Re.call(b.font,Je),je=E(qe=b.bBox(Re.node()),_e)}var it=je.textPosAngle,Qe=void 0===it?_e.pxmid:q(W.r,it);if(je.targetX=se+Qe[0]*je.rCenter+(je.x||0),je.targetY=ae+Qe[1]*je.rCenter+(je.y||0),U(je,qe),je.outside){var dt=je.targetY;_e.yLabelMin=dt-qe.height/2,_e.yLabelMid=dt,_e.yLabelMax=dt+qe.height/2,_e.labelExtraX=0,_e.labelExtraY=0,oe=!0}je.fontSize=Oe.size,n($.type,je,G),X[we].transform=je,d.setTransormAndDisplay(Re,je)})}function Ce(Re,Oe,je,qe){return"a"+qe*W.r+","+qe*W.r+" 0 "+_e.largeArc+(je?" 1 ":" 0 ")+qe*(Oe[0]-Re[0])+","+qe*(Oe[1]-Re[1])}});var we,ue=A.select(this).selectAll("g.titletext").data($.title.text?[0]:[]);if(ue.enter().append("g").classed("titletext",!0),ue.exit().remove(),ue.each(function(){var _e,ae,fe,we=d.ensureSingle(A.select(this),"text","",function(ae){ae.attr("data-notex",1)}),se=$.title.text;$._meta&&(se=d.templateString(se,$._meta)),we.text(se).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(b.font,$.title.font).call(i.convertToTspans,N),_e="middle center"===$.title.position?(ae=W,fe=Math.sqrt(ae.titleBox.width*ae.titleBox.width+ae.titleBox.height*ae.titleBox.height),{x:ae.cx,y:ae.cy,scale:ae.trace.hole*ae.r*2/fe,tx:0,ty:-ae.titleBox.height/2+ae.trace.title.font.size}):L(W,te),we.attr("transform",t(_e.x,_e.y)+a(Math.min(1,_e.scale))+t(_e.tx,_e.ty))}),oe&&function(_e,we){var se,ae,fe,Ee,ke,be,Ie,Fe,ce,Te,ve,Ce,Re;function Oe(it,Qe){return it.pxmid[1]-Qe.pxmid[1]}function je(it,Qe){return Qe.pxmid[1]-it.pxmid[1]}function qe(it,Qe){Qe||(Qe={});var dt,yt,mt,at,st=Qe.labelExtraY+(ae?Qe.yLabelMax:Qe.yLabelMin),Tt=ae?it.yLabelMin:it.yLabelMax,At=ae?it.yLabelMax:it.yLabelMin,Pt=it.cyFinal+ke(it.px0[1],it.px1[1]),kt=st-Tt;if(kt*Ie>0&&(it.labelExtraY=kt),Array.isArray(we.pull))for(yt=0;yt<Te.length;yt++)(mt=Te[yt])===it||(u.castOption(we.pull,it.pts)||0)>=(u.castOption(we.pull,mt.pts)||0)||((it.pxmid[1]-mt.pxmid[1])*Ie>0?(kt=mt.cyFinal+ke(mt.px0[1],mt.px1[1])-Tt-it.labelExtraY)*Ie>0&&(it.labelExtraY+=kt):(At+it.labelExtraY-Pt)*Ie>0&&(dt=3*be*Math.abs(yt-Te.indexOf(it)),(at=mt.cxFinal+Ee(mt.px0[0],mt.px1[0])+dt-(it.cxFinal+it.pxmid[0])-it.labelExtraX)*be>0&&(it.labelExtraX+=at)))}for(ae=0;ae<2;ae++)for(fe=ae?Oe:je,ke=ae?Math.max:Math.min,Ie=ae?1:-1,se=0;se<2;se++){for(Ee=se?Math.max:Math.min,be=se?1:-1,(Fe=_e[ae][se]).sort(fe),Te=(ce=_e[1-ae][se]).concat(Fe),Ce=[],ve=0;ve<Fe.length;ve++)void 0!==Fe[ve].yLabelMid&&Ce.push(Fe[ve]);for(Re=!1,ve=0;ae&&ve<ce.length;ve++)if(void 0!==ce[ve].yLabelMid){Re=ce[ve];break}for(ve=0;ve<Ce.length;ve++){var Je=ve&&Ce[ve-1];Re&&!ve&&(Je=Re),qe(Ce[ve],Je)}}}(re,$),we=$,ne.each(function(se){var ae=A.select(this);if(se.labelExtraX||se.labelExtraY){var fe=ae.select("g.slicetext text");se.transform.targetX+=se.labelExtraX,se.transform.targetY+=se.labelExtraY,d.setTransormAndDisplay(fe,se.transform);var Ee=se.cxFinal+se.pxmid[0],ke="M"+Ee+","+(se.cyFinal+se.pxmid[1]),be=(se.yLabelMax-se.yLabelMin)*(se.pxmid[0]<0?-1:1)/4;if(se.labelExtraX){var Ie=se.labelExtraX*se.pxmid[1]/se.pxmid[0],Fe=se.yLabelMid+se.labelExtraY-(se.cyFinal+se.pxmid[1]);Math.abs(Ie)>Math.abs(Fe)?ke+="l"+Fe*se.pxmid[0]/se.pxmid[1]+","+Fe+"H"+(Ee+se.labelExtraX+be):ke+="l"+se.labelExtraX+","+Ie+"v"+(Fe-Ie)+"h"+be}else ke+="V"+(se.yLabelMid+se.labelExtraY)+"h"+be;d.ensureSingle(ae,"path","textline").call(T.stroke,we.outsidetextfont.color).attr({"stroke-width":Math.min(2,we.outsidetextfont.size/8),d:ke,fill:"none"})}else ae.select("path.textline").remove()}),oe&&$.automargin){var xe=b.bBox(Y.node()),Me=$.domain,ge=(te.w*(Me.x[1]-Me.x[0])*.5-W.r)/te.w,Pe=(te.h*(Me.y[1]-Me.y[0])*.5-W.r)/te.h;k.autoMargin(N,"pie."+$.uid+".automargin",{xl:Me.x[0]-ge,xr:Me.x[1]+ge,yb:Me.y[0]-Pe,yt:Me.y[1]+Pe,l:Math.max(W.cx-W.r-xe.left,0),r:Math.max(xe.right-(W.cx+W.r),0),b:Math.max(xe.bottom-(W.cy+W.r),0),t:Math.max(W.cy-W.r-xe.top,0),pad:5})}})});setTimeout(function(){J.selectAll("tspan").each(function(){var X=A.select(this);X.attr("dy")&&X.attr("dy",X.attr("dy"))})},0)},formatSliceLabel:P,transformInsideText:y,determineInsideTextFont:g,positionTitleOutside:L,prerenderTitles:h,layoutAreas:R,attachFxHandlers:x,computeTransform:U}},68357:function(ee,D,e){"use strict";var A=e(39898),k=e(63463),l=e(72597).resizeText;ee.exports=function(T){var b=T._fullLayout._pielayer.selectAll(".trace");l(T,b,"pie"),b.each(function(d){var a=d[0].trace,t=A.select(this);t.style({opacity:a.opacity}),t.selectAll("path.surface").each(function(i){A.select(this).call(k,i,a,T)})})}},63463:function(ee,D,e){"use strict";var A=e(7901),k=e(53581).castOption,l=e(22209);ee.exports=function(T,b,d,a){var t=d.marker.line,i=k(t.color,b.pts)||A.defaultLine,r=k(t.width,b.pts)||0;T.call(l,b,d,a).style("stroke-width",r).call(A.stroke,i)}},10959:function(ee,D,e){"use strict";var A=e(82196);ee.exports={x:A.x,y:A.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:A.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(ee,D,e){"use strict";var A=e(9330).gl_pointcloud2d,k=e(78614),l=e(71739).findExtremes,T=e(34603);function b(a,t){this.scene=a,this.uid=t,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=A(a.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var d=b.prototype;d.handlePick=function(a){var t=this.idToIndex[a.pointId];return{trace:this,dataCoord:a.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*t],this.pickXYData[2*t+1]]:[this.pickXData[t],this.pickYData[t]],textLabel:Array.isArray(this.textLabels)?this.textLabels[t]:this.textLabels,color:this.color,name:this.name,pointIndex:t,hoverinfo:this.hoverinfo}},d.update=function(a){this.index=a.index,this.textLabels=a.text,this.name=a.name,this.hoverinfo=a.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(a),this.color=T(a,{})},d.updateFast=function(a){var t,i,r,n,o,s,u=this.xData=this.pickXData=a.x,p=this.yData=this.pickYData=a.y,c=this.pickXYData=a.xy,g=a.indices,h=this.bounds;if(c){if(r=c,t=c.length>>>1,a.xbounds&&a.ybounds)h[0]=a.xbounds[0],h[2]=a.xbounds[1],h[1]=a.ybounds[0],h[3]=a.ybounds[1];else for(s=0;s<t;s++)o=r[2*s+1],(n=r[2*s])<h[0]&&(h[0]=n),n>h[2]&&(h[2]=n),o<h[1]&&(h[1]=o),o>h[3]&&(h[3]=o);if(g)i=g;else for(i=new Int32Array(t),s=0;s<t;s++)i[s]=s}else for(t=u.length,r=new Float32Array(2*t),i=new Int32Array(t),s=0;s<t;s++)n=u[s],o=p[s],i[s]=s,r[2*s]=n,r[2*s+1]=o,n<h[0]&&(h[0]=n),n>h[2]&&(h[2]=n),o<h[1]&&(h[1]=o),o>h[3]&&(h[3]=o);this.idToIndex=i,this.pointcloudOptions.idToIndex=i,this.pointcloudOptions.positions=r;var y=k(a.marker.color),v=k(a.marker.border.color),m=a.opacity*a.marker.opacity;y[3]*=m,this.pointcloudOptions.color=y;var _=a.marker.blend;null===_&&(_=u.length<100||p.length<100),this.pointcloudOptions.blend=_,v[3]*=m,this.pointcloudOptions.borderColor=v;var f=a.marker.sizemin,S=Math.max(a.marker.sizemax,a.marker.sizemin);this.pointcloudOptions.sizeMin=f,this.pointcloudOptions.sizeMax=S,this.pointcloudOptions.areaRatio=a.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var w=this.scene.xaxis,E=this.scene.yaxis,L=S/2||.5;a._extremes[w._id]=l(w,[h[0],h[2]],{ppad:L}),a._extremes[E._id]=l(E,[h[1],h[3]],{ppad:L})},d.dispose=function(){this.pointcloud.dispose()},ee.exports=function(a,t){var i=new b(a,t.uid);return i.update(t),i}},33876:function(ee,D,e){"use strict";var A=e(71828),k=e(10959);ee.exports=function(l,T,b){function d(a,t){return A.coerce(l,T,k,a,t)}d("x"),d("y"),d("xbounds"),d("ybounds"),l.xy&&l.xy instanceof Float32Array&&(T.xy=l.xy),l.indices&&l.indices instanceof Int32Array&&(T.indices=l.indices),d("text"),d("marker.color",b),d("marker.opacity"),d("marker.blend"),d("marker.sizemin"),d("marker.sizemax"),d("marker.border.color",b),d("marker.border.arearatio"),T._length=null}},20593:function(ee,D,e){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),ee.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(ee,D,e){"use strict";var A=e(41940),k=e(9012),l=e(22399),T=e(77914),b=e(27670).Y,d=e(5386).fF,a=e(50693),t=e(44467).templatedArray,i=e(12663).descriptionOnlyNumbers,r=e(1426).extendFlat,n=e(30962).overrideAll;(ee.exports=n({hoverinfo:r({},k.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:T.hoverlabel,domain:b({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:i("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:A({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:l.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:T.hoverlabel,hovertemplate:d({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:l.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:T.hoverlabel,hovertemplate:d({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:r(a().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(ee,D,e){"use strict";var A=e(30962).overrideAll,k=e(27659).a0,l=e(60436),T=e(528),b=e(6964),d=e(28569),a=e(47322).prepSelect,t=e(71828),i=e(73972),r="sankey";function n(o,s){var u=o._fullData[s],p=o._fullLayout,c=p.dragmode,g=u._bgRect;if(g&&"pan"!==c&&"zoom"!==c){b(g,"pan"===p.dragmode?"move":"crosshair");var h={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},y={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},v={gd:o,element:g.node(),plotinfo:{id:s,xaxis:h,yaxis:y,fillRangeItems:t.noop},subplot:s,xaxes:[h],yaxes:[y],doneFnCompleted:function(m){var _,f=o._fullData[s],S=f.node.groups.slice(),w=[];function E(R){for(var q=f._sankey.graph.nodes,P=0;P<q.length;P++)if(q[P].pointNumber===R)return q[P]}for(var L=0;L<m.length;L++){var C=E(m[L].pointNumber);if(C)if(C.group){for(var O=0;O<C.childrenNodes.length;O++)w.push(C.childrenNodes[O].pointNumber);S[C.pointNumber-f.node._count]=!1}else w.push(C.pointNumber)}_=S.filter(Boolean).concat([w]),i.call("_guiRestyle",o,{"node.groups":[_]},s)},prepFn:function(m,_,f){a(m,_,f,v,c)}};d.init(v)}}D.name=r,D.baseLayoutAttrOverrides=A({hoverlabel:T.hoverlabel},"plot","nested"),D.plot=function(o){var s=k(o.calcdata,r)[0];l(o,s),D.updateFx(o)},D.clean=function(o,s,u,p){var c=p._has&&p._has(r),x=s._has&&s._has(r);c&&!x&&(p._paperdiv.selectAll(".sankey").remove(),p._paperdiv.selectAll(".bgsankey").remove())},D.updateFx=function(o){for(var s=0;s<o._fullData.length;s++)n(o,s)}},92930:function(ee,D,e){"use strict";var A=e(68664),k=e(71828),l=e(28984).wrap,T=k.isArrayOrTypedArray,b=k.isIndex,d=e(21081);ee.exports=function(a,t){var i=function(r){var n,o=r.node,s=r.link,u=[],p=T(s.color),c=T(s.customdata),x={},g={},h=s.colorscales.length;for(n=0;n<h;n++){var y=s.colorscales[n],v=d.extractScale(y,{cLetter:"c"}),m=d.makeColorScaleFunc(v);g[y.label]=m}var _=0;for(n=0;n<s.value.length;n++)s.source[n]>_&&(_=s.source[n]),s.target[n]>_&&(_=s.target[n]);var f,S=_+1;r.node._count=S;var w=r.node.groups,E={};for(n=0;n<w.length;n++){var L=w[n];for(f=0;f<L.length;f++){var C=L[f],O=S+n;E.hasOwnProperty(C)?k.warn("Node "+C+" is already part of a group."):E[C]=O}}var R={source:[],target:[]};for(n=0;n<s.value.length;n++){var q=s.value[n],P=s.source[n],U=s.target[n];if(q>0&&b(P,S)&&b(U,S)&&(!E.hasOwnProperty(P)||!E.hasOwnProperty(U)||E[P]!==E[U])){E.hasOwnProperty(U)&&(U=E[U]),E.hasOwnProperty(P)&&(P=E[P]),x[P=+P]=x[U=+U]=!0;var N="";s.label&&s.label[n]&&(N=s.label[n]);var F=null;N&&g.hasOwnProperty(N)&&(F=g[N]),u.push({pointNumber:n,label:N,color:p?s.color[n]:s.color,customdata:c?s.customdata[n]:s.customdata,concentrationscale:F,source:P,target:U,value:+q}),R.source.push(P),R.target.push(U)}}var j=S+w.length,G=T(o.color),te=T(o.customdata),J=[];for(n=0;n<j;n++)x[n]&&J.push({group:n>S-1,childrenNodes:[],pointNumber:n,label:o.label[n],color:G?o.color[n]:o.color,customdata:te?o.customdata[n]:o.customdata});var Y=!1;return function(W,$,ne){for(var re=k.init2dArray(W,0),oe=0;oe<Math.min($.length,ne.length);oe++)if(k.isIndex($[oe],W)&&k.isIndex(ne[oe],W)){if($[oe]===ne[oe])return!0;re[$[oe]].push(ne[oe])}return A(re).components.some(function(ue){return ue.length>1})}(j,R.source,R.target)&&(Y=!0),{circular:Y,links:u,nodes:J,groups:w,groupLookup:E}}(t);return l({circular:i.circular,_nodes:i.nodes,_links:i.links,_groups:i.groups,_groupLookup:i.groupLookup})}},85247:function(ee){"use strict";ee.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(ee,D,e){"use strict";var A=e(71828),k=e(39953),l=e(7901),T=e(84267),b=e(27670).c,d=e(38048),a=e(44467),t=e(85501);function i(r,n){function o(s,u){return A.coerce(r,n,k.link.colorscales,s,u)}o("label"),o("cmin"),o("cmax"),o("colorscale")}ee.exports=function(r,n,o,s){function u(S,w){return A.coerce(r,n,k,S,w)}var p=A.extendDeep(s.hoverlabel,r.hoverlabel),c=r.node,x=a.newContainer(n,"node");function g(S,w){return A.coerce(c,x,k.node,S,w)}g("label"),g("groups"),g("x"),g("y"),g("pad"),g("thickness"),g("line.color"),g("line.width"),g("hoverinfo",r.hoverinfo),d(c,x,g,p),g("hovertemplate");var h=s.colorway;g("color",x.label.map(function(S,w){return l.addOpacity(h[w%h.length],.8)})),g("customdata");var y=r.link||{},v=a.newContainer(n,"link");function m(S,w){return A.coerce(y,v,k.link,S,w)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",r.hoverinfo),d(y,v,m,p),m("hovertemplate");var _,f=T(s.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";m("color",A.repeat(f,v.value.length)),m("customdata"),t(y,v,{name:"colorscales",handleItemDefaults:i}),b(n,s,u),u("orientation"),u("valueformat"),u("valuesuffix"),x.x.length&&x.y.length&&(_="freeform"),u("arrangement",_),A.coerceFont(u,"textfont",A.extendFlat({},s.font)),n._length=null}},29396:function(ee,D,e){"use strict";ee.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=k.numberFormat,T=e(3393),b=e(30211),d=e(7901),a=e(85247).cn,t=k._;function i(y){return""!==y}function r(y,v){return y.filter(function(m){return m.key===v.traceId})}function n(y,v){A.select(y).select("path").style("fill-opacity",v),A.select(y).select("rect").style("fill-opacity",v)}function o(y){A.select(y).select("text.name").style("fill","black")}function s(y){return function(v){return-1!==y.node.sourceLinks.indexOf(v.link)||-1!==y.node.targetLinks.indexOf(v.link)}}function u(y){return function(v){return-1!==v.node.sourceLinks.indexOf(y.link)||-1!==v.node.targetLinks.indexOf(y.link)}}function p(y,v,m){v&&m&&r(m,v).selectAll("."+a.sankeyLink).filter(s(v)).call(x.bind(0,v,m,!1))}function c(y,v,m){v&&m&&r(m,v).selectAll("."+a.sankeyLink).filter(s(v)).call(g.bind(0,v,m,!1))}function x(y,v,m,_){var f=_.datum().link.label;_.style("fill-opacity",function(S){if(!S.link.concentrationscale)return.4}),f&&r(v,y).selectAll("."+a.sankeyLink).filter(function(S){return S.link.label===f}).style("fill-opacity",function(S){if(!S.link.concentrationscale)return.4}),m&&r(v,y).selectAll("."+a.sankeyNode).filter(u(y)).call(p)}function g(y,v,m,_){var f=_.datum().link.label;_.style("fill-opacity",function(S){return S.tinyColorAlpha}),f&&r(v,y).selectAll("."+a.sankeyLink).filter(function(S){return S.link.label===f}).style("fill-opacity",function(S){return S.tinyColorAlpha}),m&&r(v,y).selectAll(a.sankeyNode).filter(u(y)).call(c)}function h(y,v){var _=k.nestedProperty(y.hoverlabel||{},v).get();return!Array.isArray(_)&&_}ee.exports=function(y,v){for(var m=y._fullLayout,_=m._paper,f=m._size,S=0;S<y._fullData.length;S++)if(y._fullData[S].visible&&y._fullData[S].type===a.sankey&&!y._fullData[S]._viewInitial){var w=y._fullData[S].node;y._fullData[S]._viewInitial={node:{groups:w.groups.slice(),x:w.x.slice(),y:w.y.slice()}}}var E=t(y,"source:")+" ",L=t(y,"target:")+" ",C=t(y,"concentration:")+" ",O=t(y,"incoming flow count:")+" ",R=t(y,"outgoing flow count:")+" ";T(y,_,v,{width:f.w,height:f.h,margin:{t:f.t,r:f.r,b:f.b,l:f.l}},{linkEvents:{hover:function(q,P,U){!1!==y._fullLayout.hovermode&&(A.select(q).call(x.bind(0,P,U,!0)),"skip"!==P.link.trace.link.hoverinfo&&(P.link.fullData=P.link.trace,y.emit("plotly_hover",{event:A.event,points:[P.link]})))},follow:function(q,P){if(!1!==y._fullLayout.hovermode){var U=P.link.trace.link;if("none"!==U.hoverinfo&&"skip"!==U.hoverinfo){for(var N=[],F=0,j=0;j<P.flow.links.length;j++){var G=P.flow.links[j];if("closest"!==y._fullLayout.hovermode||P.link.pointNumber===G.pointNumber){P.link.pointNumber===G.pointNumber&&(F=j),G.fullData=G.trace,U=P.link.trace.link;var te=X(G),J={valueLabel:l(P.valueFormat)(G.value)+P.valueSuffix};N.push({x:te[0],y:te[1],name:J.valueLabel,text:[G.label||"",E+G.source.label,L+G.target.label,G.concentrationscale?C+l("%0.2f")(G.flow.labelConcentration):""].filter(i).join("<br>"),color:h(U,"bgcolor")||d.addOpacity(G.color,1),borderColor:h(U,"bordercolor"),fontFamily:h(U,"font.family"),fontSize:h(U,"font.size"),fontColor:h(U,"font.color"),nameLength:h(U,"namelength"),textAlign:h(U,"align"),idealAlign:A.event.x<te[0]?"right":"left",hovertemplate:U.hovertemplate,hovertemplateLabels:J,eventData:[G]})}}b.loneHover(N,{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:y,anchorIndex:F}).each(function(){P.link.concentrationscale||n(this,.65),o(this)})}}function X(Y){var W,$;Y.circular?(W=(Y.circularPathData.leftInnerExtent+Y.circularPathData.rightInnerExtent)/2,$=Y.circularPathData.verticalFullExtent):(W=(Y.source.x1+Y.target.x0)/2,$=(Y.y0+Y.y1)/2);var ne=[W,$];return"v"===Y.trace.orientation&&ne.reverse(),ne[0]+=P.parent.translateX,ne[1]+=P.parent.translateY,ne}},unhover:function(q,P,U){!1!==y._fullLayout.hovermode&&(A.select(q).call(g.bind(0,P,U,!0)),"skip"!==P.link.trace.link.hoverinfo&&(P.link.fullData=P.link.trace,y.emit("plotly_unhover",{event:A.event,points:[P.link]})),b.loneUnhover(m._hoverlayer.node()))},select:function(q,P){var U=P.link;U.originalEvent=A.event,y._hoverdata=[U],b.click(y,{target:!0})}},nodeEvents:{hover:function(q,P,U){!1!==y._fullLayout.hovermode&&(A.select(q).call(p,P,U),"skip"!==P.node.trace.node.hoverinfo&&(P.node.fullData=P.node.trace,y.emit("plotly_hover",{event:A.event,points:[P.node]})))},follow:function(q,P){if(!1!==y._fullLayout.hovermode){var U=P.node.trace.node;if("none"!==U.hoverinfo&&"skip"!==U.hoverinfo){var N=A.select(q).select("."+a.nodeRect),F=y._fullLayout._paperdiv.node().getBoundingClientRect(),j=N.node().getBoundingClientRect(),G=j.left-2-F.left,te=j.right+2-F.left,J=j.top+j.height/4-F.top,X={valueLabel:l(P.valueFormat)(P.node.value)+P.valueSuffix};P.node.fullData=P.node.trace,y._fullLayout._calcInverseTransform(y);var Y=y._fullLayout._invScaleX,$=b.loneHover({x0:Y*G,x1:Y*te,y:y._fullLayout._invScaleY*J,name:l(P.valueFormat)(P.node.value)+P.valueSuffix,text:[P.node.label,O+P.node.targetLinks.length,R+P.node.sourceLinks.length].filter(i).join("<br>"),color:h(U,"bgcolor")||P.tinyColorHue,borderColor:h(U,"bordercolor"),fontFamily:h(U,"font.family"),fontSize:h(U,"font.size"),fontColor:h(U,"font.color"),nameLength:h(U,"namelength"),textAlign:h(U,"align"),idealAlign:"left",hovertemplate:U.hovertemplate,hovertemplateLabels:X,eventData:[P.node]},{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:y});n($,.85),o($)}}},unhover:function(q,P,U){!1!==y._fullLayout.hovermode&&(A.select(q).call(c,P,U),"skip"!==P.node.trace.node.hoverinfo&&(P.node.fullData=P.node.trace,y.emit("plotly_unhover",{event:A.event,points:[P.node]})),b.loneUnhover(m._hoverlayer.node()))},select:function(q,P,U){var N=P.node;N.originalEvent=A.event,y._hoverdata=[N],A.select(q).call(c,P,U),b.click(y,{target:!0})}}})}},3393:function(ee,D,e){"use strict";var A=e(49887),k=e(81684).k4,l=e(39898),T=e(30838),b=e(86781),d=e(85247),a=e(84267),t=e(7901),i=e(91424),r=e(71828),n=r.strTranslate,o=r.strRotate,s=e(28984),u=s.keyFun,p=s.repeat,c=s.unwrap,x=e(63893),g=e(73972),h=e(18783),y=h.CAP_SHIFT,v=h.LINE_SPACING;function m(j,G,te){var J,X=c(G),Y=X.trace,W=Y.domain,$="h"===Y.orientation,ne=Y.node.pad,re=Y.node.thickness,oe=j.width*(W.x[1]-W.x[0]),ue=j.height*(W.y[1]-W.y[0]),xe=X._nodes,Me=X._links,me=X.circular;(J=me?b.sankeyCircular().circularLinkGap(0):T.sankey()).iterations(d.sankeyIterations).size($?[oe,ue]:[ue,oe]).nodeWidth(re).nodePadding(ne).nodeId(function(be){return be.pointNumber}).nodes(xe).links(Me);var pe,ge,Pe,_e=J();for(var we in J.nodePadding()<ne&&r.warn("node.pad was reduced to ",J.nodePadding()," to fit within the figure."),X._groupLookup){var se,ae=parseInt(X._groupLookup[we]);for(pe=0;pe<_e.nodes.length;pe++)if(_e.nodes[pe].pointNumber===ae){se=_e.nodes[pe];break}if(se){var fe={pointNumber:parseInt(we),x0:se.x0,x1:se.x1,y0:se.y0,y1:se.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};_e.nodes.unshift(fe),se.childrenNodes.unshift(fe)}}if(function(){for(pe=0;pe<_e.nodes.length;pe++){var be,Ie,Fe=_e.nodes[pe],ce={};for(ge=0;ge<Fe.targetLinks.length;ge++)be=(Ie=Fe.targetLinks[ge]).source.pointNumber+":"+Ie.target.pointNumber,ce.hasOwnProperty(be)||(ce[be]=[]),ce[be].push(Ie);var Te=Object.keys(ce);for(ge=0;ge<Te.length;ge++){var ve=ce[be=Te[ge]],Ce=0,Re={};for(Pe=0;Pe<ve.length;Pe++)Re[(Ie=ve[Pe]).label]||(Re[Ie.label]=0),Re[Ie.label]+=Ie.value,Ce+=Ie.value;for(Pe=0;Pe<ve.length;Pe++)(Ie=ve[Pe]).flow={value:Ce,labelConcentration:Re[Ie.label]/Ce,concentration:Ie.value/Ce,links:ve},Ie.concentrationscale&&(Ie.color=a(Ie.concentrationscale(Ie.flow.labelConcentration)))}var Oe=0;for(ge=0;ge<Fe.sourceLinks.length;ge++)Oe+=Fe.sourceLinks[ge].value;for(ge=0;ge<Fe.sourceLinks.length;ge++)(Ie=Fe.sourceLinks[ge]).concentrationOut=Ie.value/Oe;var je=0;for(ge=0;ge<Fe.targetLinks.length;ge++)je+=Fe.targetLinks[ge].value;for(ge=0;ge<Fe.targetLinks.length;ge++)(Ie=Fe.targetLinks[ge]).concenrationIn=Ie.value/je}}(),Y.node.x.length&&Y.node.y.length){for(pe=0;pe<Math.min(Y.node.x.length,Y.node.y.length,_e.nodes.length);pe++)if(Y.node.x[pe]&&Y.node.y[pe]){var Ee=[Y.node.x[pe]*oe,Y.node.y[pe]*ue];_e.nodes[pe].x0=Ee[0]-re/2,_e.nodes[pe].x1=Ee[0]+re/2;var ke=_e.nodes[pe].y1-_e.nodes[pe].y0;_e.nodes[pe].y0=Ee[1]-ke/2,_e.nodes[pe].y1=Ee[1]+ke/2}"snap"===Y.arrangement&&function(be){var Ie,Fe,ce=be.map(function(Oe,je){return{x0:Oe.x0,index:je}}).sort(function(Oe,je){return Oe.x0-je.x0}),Te=[],ve=-1,Ce=-1/0;for(pe=0;pe<ce.length;pe++){var Re=be[ce[pe].index];Re.x0>Ce+re&&(ve+=1,Ie=Re.x0),Ce=Re.x0,Te[ve]||(Te[ve]=[]),Te[ve].push(Re),Re.x0+=Fe=Ie-Re.x0,Re.x1+=Fe}return Te}(xe=_e.nodes).forEach(function(be){var Ie,Fe,ce,Te=0,ve=be.length;for(be.sort(function(Ce,Re){return Ce.y0-Re.y0}),ce=0;ce<ve;++ce)(Ie=be[ce]).y0>=Te||(Fe=Te-Ie.y0)>1e-6&&(Ie.y0+=Fe,Ie.y1+=Fe),Te=Ie.y1+ne}),J.update(_e)}return{circular:me,key:te,trace:Y,guid:r.randstr(),horizontal:$,width:oe,height:ue,nodePad:Y.node.pad,nodeLineColor:Y.node.line.color,nodeLineWidth:Y.node.line.width,linkLineColor:Y.link.line.color,linkLineWidth:Y.link.line.width,linkArrowLength:Y.link.arrowlen,valueFormat:Y.valueformat,valueSuffix:Y.valuesuffix,textFont:Y.textfont,translateX:W.x[0]*j.width+j.margin.l,translateY:j.height-W.y[1]*j.height+j.margin.t,dragParallel:$?ue:oe,dragPerpendicular:$?oe:ue,arrangement:Y.arrangement,sankey:J,graph:_e,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function _(j,G,te){var J=a(G.color),X=G.source.label+"|"+G.target.label+"__"+te;return G.trace=j.trace,G.curveNumber=j.trace.index,{circular:j.circular,key:X,traceId:j.key,pointNumber:G.pointNumber,link:G,tinyColorHue:t.tinyRGB(J),tinyColorAlpha:J.getAlpha(),linkPath:f,linkLineColor:j.linkLineColor,linkLineWidth:j.linkLineWidth,linkArrowLength:j.linkArrowLength,valueFormat:j.valueFormat,valueSuffix:j.valueSuffix,sankey:j.sankey,parent:j,interactionState:j.interactionState,flow:G.flow}}function f(){return function(j){var ge,Pe,_e,we,G=j.linkArrowLength;if(j.link.circular)return Pe=G,_e=(ge=j.link).width/2,we=ge.circularPathData,"top"===ge.circularLinkType?"M "+(we.targetX-Pe)+" "+(we.targetY+_e)+" L"+(we.rightInnerExtent-Pe)+" "+(we.targetY+_e)+"A"+(we.rightLargeArcRadius+_e)+" "+(we.rightSmallArcRadius+_e)+" 0 0 1 "+(we.rightFullExtent-_e-Pe)+" "+(we.targetY-we.rightSmallArcRadius)+"L"+(we.rightFullExtent-_e-Pe)+" "+we.verticalRightInnerExtent+"A"+(we.rightLargeArcRadius+_e)+" "+(we.rightLargeArcRadius+_e)+" 0 0 1 "+(we.rightInnerExtent-Pe)+" "+(we.verticalFullExtent-_e)+"L"+we.leftInnerExtent+" "+(we.verticalFullExtent-_e)+"A"+(we.leftLargeArcRadius+_e)+" "+(we.leftLargeArcRadius+_e)+" 0 0 1 "+(we.leftFullExtent+_e)+" "+we.verticalLeftInnerExtent+"L"+(we.leftFullExtent+_e)+" "+(we.sourceY-we.leftSmallArcRadius)+"A"+(we.leftLargeArcRadius+_e)+" "+(we.leftSmallArcRadius+_e)+" 0 0 1 "+we.leftInnerExtent+" "+(we.sourceY+_e)+"L"+we.sourceX+" "+(we.sourceY+_e)+"L"+we.sourceX+" "+(we.sourceY-_e)+"L"+we.leftInnerExtent+" "+(we.sourceY-_e)+"A"+(we.leftLargeArcRadius-_e)+" "+(we.leftSmallArcRadius-_e)+" 0 0 0 "+(we.leftFullExtent-_e)+" "+(we.sourceY-we.leftSmallArcRadius)+"L"+(we.leftFullExtent-_e)+" "+we.verticalLeftInnerExtent+"A"+(we.leftLargeArcRadius-_e)+" "+(we.leftLargeArcRadius-_e)+" 0 0 0 "+we.leftInnerExtent+" "+(we.verticalFullExtent+_e)+"L"+(we.rightInnerExtent-Pe)+" "+(we.verticalFullExtent+_e)+"A"+(we.rightLargeArcRadius-_e)+" "+(we.rightLargeArcRadius-_e)+" 0 0 0 "+(we.rightFullExtent+_e-Pe)+" "+we.verticalRightInnerExtent+"L"+(we.rightFullExtent+_e-Pe)+" "+(we.targetY-we.rightSmallArcRadius)+"A"+(we.rightLargeArcRadius-_e)+" "+(we.rightSmallArcRadius-_e)+" 0 0 0 "+(we.rightInnerExtent-Pe)+" "+(we.targetY-_e)+"L"+(we.targetX-Pe)+" "+(we.targetY-_e)+(Pe>0?"L"+we.targetX+" "+we.targetY:"")+"Z":"M "+(we.targetX-Pe)+" "+(we.targetY-_e)+" L"+(we.rightInnerExtent-Pe)+" "+(we.targetY-_e)+"A"+(we.rightLargeArcRadius+_e)+" "+(we.rightSmallArcRadius+_e)+" 0 0 0 "+(we.rightFullExtent-_e-Pe)+" "+(we.targetY+we.rightSmallArcRadius)+"L"+(we.rightFullExtent-_e-Pe)+" "+we.verticalRightInnerExtent+"A"+(we.rightLargeArcRadius+_e)+" "+(we.rightLargeArcRadius+_e)+" 0 0 0 "+(we.rightInnerExtent-Pe)+" "+(we.verticalFullExtent+_e)+"L"+we.leftInnerExtent+" "+(we.verticalFullExtent+_e)+"A"+(we.leftLargeArcRadius+_e)+" "+(we.leftLargeArcRadius+_e)+" 0 0 0 "+(we.leftFullExtent+_e)+" "+we.verticalLeftInnerExtent+"L"+(we.leftFullExtent+_e)+" "+(we.sourceY+we.leftSmallArcRadius)+"A"+(we.leftLargeArcRadius+_e)+" "+(we.leftSmallArcRadius+_e)+" 0 0 0 "+we.leftInnerExtent+" "+(we.sourceY-_e)+"L"+we.sourceX+" "+(we.sourceY-_e)+"L"+we.sourceX+" "+(we.sourceY+_e)+"L"+we.leftInnerExtent+" "+(we.sourceY+_e)+"A"+(we.leftLargeArcRadius-_e)+" "+(we.leftSmallArcRadius-_e)+" 0 0 1 "+(we.leftFullExtent-_e)+" "+(we.sourceY+we.leftSmallArcRadius)+"L"+(we.leftFullExtent-_e)+" "+we.verticalLeftInnerExtent+"A"+(we.leftLargeArcRadius-_e)+" "+(we.leftLargeArcRadius-_e)+" 0 0 1 "+we.leftInnerExtent+" "+(we.verticalFullExtent-_e)+"L"+(we.rightInnerExtent-Pe)+" "+(we.verticalFullExtent-_e)+"A"+(we.rightLargeArcRadius-_e)+" "+(we.rightLargeArcRadius-_e)+" 0 0 1 "+(we.rightFullExtent+_e-Pe)+" "+we.verticalRightInnerExtent+"L"+(we.rightFullExtent+_e-Pe)+" "+(we.targetY+we.rightSmallArcRadius)+"A"+(we.rightLargeArcRadius-_e)+" "+(we.rightSmallArcRadius-_e)+" 0 0 1 "+(we.rightInnerExtent-Pe)+" "+(we.targetY+_e)+"L"+(we.targetX-Pe)+" "+(we.targetY+_e)+(Pe>0?"L"+we.targetX+" "+we.targetY:"")+"Z";var te=Math.abs((j.link.target.x0-j.link.source.x1)/2);G>te&&(G=te);var J=j.link.source.x1,X=j.link.target.x0-G,Y=k(J,X),W=Y(.5),$=Y(.5),ne=j.link.y0-j.link.width/2,re=j.link.y0+j.link.width/2,oe=j.link.y1-j.link.width/2,ue=j.link.y1+j.link.width/2,pe=G>0?"L"+(X+G)+","+(oe+j.link.width/2):"";return"M"+J+","+ne+"C"+W+","+ne+" "+$+","+oe+" "+X+","+oe+(pe+="L"+X+","+ue)+"C"+$+","+ue+" "+W+","+re+" "+J+","+re+"Z"}}function S(j,G){var te=a(G.color),J=d.nodePadAcross,X=j.nodePad/2;G.dx=G.x1-G.x0,G.dy=G.y1-G.y0;var Y=G.dx,W=Math.max(.5,G.dy),$="node_"+G.pointNumber;return G.group&&($=r.randstr()),G.trace=j.trace,G.curveNumber=j.trace.index,{index:G.pointNumber,key:$,partOfGroup:G.partOfGroup||!1,group:G.group,traceId:j.key,trace:j.trace,node:G,nodePad:j.nodePad,nodeLineColor:j.nodeLineColor,nodeLineWidth:j.nodeLineWidth,textFont:j.textFont,size:j.horizontal?j.height:j.width,visibleWidth:Math.ceil(Y),visibleHeight:W,zoneX:-J,zoneY:-X,zoneWidth:Y+2*J,zoneHeight:W+2*X,labelY:j.horizontal?G.dy/2+1:G.dx/2+1,left:1===G.originalLayer,sizeAcross:j.width,forceLayouts:j.forceLayouts,horizontal:j.horizontal,darkBackground:te.getBrightness()<=128,tinyColorHue:t.tinyRGB(te),tinyColorAlpha:te.getAlpha(),valueFormat:j.valueFormat,valueSuffix:j.valueSuffix,sankey:j.sankey,graph:j.graph,arrangement:j.arrangement,uniqueNodeLabelPathId:[j.guid,j.key,$].join("_"),interactionState:j.interactionState,figure:j}}function w(j){j.attr("transform",function(G){return n(G.node.x0.toFixed(3),G.node.y0.toFixed(3))})}function E(j){j.call(w)}function L(j,G){j.call(E),G.attr("d",f())}function C(j){j.attr("width",function(G){return G.node.x1-G.node.x0}).attr("height",function(G){return G.visibleHeight})}function O(j){return j.link.width>1||j.linkLineWidth>0}function R(j){return n(j.translateX,j.translateY)+(j.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function q(j,G,te){j.on(".basic",null).on("mouseover.basic",function(J){J.interactionState.dragInProgress||J.partOfGroup||(te.hover(this,J,G),J.interactionState.hovered=[this,J])}).on("mousemove.basic",function(J){J.interactionState.dragInProgress||J.partOfGroup||(te.follow(this,J),J.interactionState.hovered=[this,J])}).on("mouseout.basic",function(J){J.interactionState.dragInProgress||J.partOfGroup||(te.unhover(this,J,G),J.interactionState.hovered=!1)}).on("click.basic",function(J){J.interactionState.hovered&&(te.unhover(this,J,G),J.interactionState.hovered=!1),J.interactionState.dragInProgress||J.partOfGroup||te.select(this,J,G)})}function P(j,G,te,J){var X=l.behavior.drag().origin(function(Y){return{x:Y.node.x0+Y.visibleWidth/2,y:Y.node.y0+Y.visibleHeight/2}}).on("dragstart",function(Y){if("fixed"!==Y.arrangement&&(r.ensureSingle(J._fullLayout._infolayer,"g","dragcover",function($){J._fullLayout._dragCover=$}),r.raiseToTop(this),Y.interactionState.dragInProgress=Y.node,N(Y.node),Y.interactionState.hovered&&(te.nodeEvents.unhover.apply(0,Y.interactionState.hovered),Y.interactionState.hovered=!1),"snap"===Y.arrangement)){var W=Y.traceId+"|"+Y.key;Y.forceLayouts[W]?Y.forceLayouts[W].alpha(1):function($,ne,re,oe){!function(xe){for(var Me=0;Me<xe.length;Me++)xe[Me].y=(xe[Me].y0+xe[Me].y1)/2,xe[Me].x=(xe[Me].x0+xe[Me].x1)/2}(re.graph.nodes);var Me,me,pe,ue=re.graph.nodes.filter(function(xe){return xe.originalX===re.node.originalX}).filter(function(xe){return!xe.partOfGroup});re.forceLayouts[ne]=A.forceSimulation(ue).alphaDecay(0).force("collide",A.forceCollide().radius(function(xe){return xe.dy/2+re.nodePad/2}).strength(1).iterations(d.forceIterations)).force("constrain",(Me=ne,me=ue,pe=re,function(){for(var ge=0,Pe=0;Pe<me.length;Pe++){var _e=me[Pe];_e===pe.interactionState.dragInProgress?(_e.x=_e.lastDraggedX,_e.y=_e.lastDraggedY):(_e.vx=(_e.originalX-_e.x)/d.forceTicksPerFrame,_e.y=Math.min(pe.size-_e.dy/2,Math.max(_e.dy/2,_e.y))),ge=Math.max(ge,Math.abs(_e.vx),Math.abs(_e.vy))}!pe.interactionState.dragInProgress&&ge<.1&&pe.forceLayouts[Me].alpha()>0&&pe.forceLayouts[Me].alpha(0)})).stop()}(0,W,Y),$=j,ne=G,re=Y,oe=W,ue=J,window.requestAnimationFrame(function xe(){var Me;for(Me=0;Me<d.forceTicksPerFrame;Me++)re.forceLayouts[oe].tick();if(function(pe){for(var ge=0;ge<pe.length;ge++)pe[ge].y0=pe[ge].y-pe[ge].dy/2,pe[ge].y1=pe[ge].y0+pe[ge].dy,pe[ge].x0=pe[ge].x-pe[ge].dx/2,pe[ge].x1=pe[ge].x0+pe[ge].dx}(re.graph.nodes),re.sankey.update(re.graph),L($.filter(F(re)),ne),re.forceLayouts[oe].alpha()>0)window.requestAnimationFrame(xe);else{var me=re.node.originalX;re.node.x0=me-re.visibleWidth/2,re.node.x1=me+re.visibleWidth/2,U(re,ue)}})}var $,ne,re,oe,ue}).on("drag",function(Y){if("fixed"!==Y.arrangement){var W=l.event.x,$=l.event.y;"snap"===Y.arrangement?(Y.node.x0=W-Y.visibleWidth/2,Y.node.x1=W+Y.visibleWidth/2,Y.node.y0=$-Y.visibleHeight/2,Y.node.y1=$+Y.visibleHeight/2):("freeform"===Y.arrangement&&(Y.node.x0=W-Y.visibleWidth/2,Y.node.x1=W+Y.visibleWidth/2),$=Math.max(0,Math.min(Y.size-Y.visibleHeight/2,$)),Y.node.y0=$-Y.visibleHeight/2,Y.node.y1=$+Y.visibleHeight/2),N(Y.node),"snap"!==Y.arrangement&&(Y.sankey.update(Y.graph),L(j.filter(F(Y)),G))}}).on("dragend",function(Y){if("fixed"!==Y.arrangement){Y.interactionState.dragInProgress=!1;for(var W=0;W<Y.node.childrenNodes.length;W++)Y.node.childrenNodes[W].x=Y.node.x,Y.node.childrenNodes[W].y=Y.node.y;"snap"!==Y.arrangement&&U(Y,J)}});j.on(".drag",null).call(X)}function U(j,G){for(var te=[],J=[],X=0;X<j.graph.nodes.length;X++){var W=(j.graph.nodes[X].y0+j.graph.nodes[X].y1)/2;te.push((j.graph.nodes[X].x0+j.graph.nodes[X].x1)/2/j.figure.width),J.push(W/j.figure.height)}g.call("_guiRestyle",G,{"node.x":[te],"node.y":[J]},j.trace.index).then(function(){G._fullLayout._dragCover&&G._fullLayout._dragCover.remove()})}function N(j){j.lastDraggedX=j.x0+j.dx/2,j.lastDraggedY=j.y0+j.dy/2}function F(j){return function(G){return G.node.originalX===j.node.originalX}}ee.exports=function(j,G,te,J,X){var Y=j._context.staticPlot,W=!1;r.ensureSingle(j._fullLayout._infolayer,"g","first-render",function(){W=!0});var $=j._fullLayout._dragCover,ne=te.filter(function(ge){return c(ge).trace.visible}).map(m.bind(null,J)),re=G.selectAll("."+d.cn.sankey).data(ne,u);re.exit().remove(),re.enter().append("g").classed(d.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Y?"none":"auto").attr("transform",R),re.each(function(ge,Pe){j._fullData[Pe]._sankey=ge;var _e="bgsankey-"+ge.trace.uid+"-"+Pe;r.ensureSingle(j._fullLayout._draggers,"rect",_e),j._fullData[Pe]._bgRect=l.select("."+_e),j._fullData[Pe]._bgRect.style("pointer-events",Y?"none":"all").attr("width",ge.width).attr("height",ge.height).attr("x",ge.translateX).attr("y",ge.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),re.transition().ease(d.ease).duration(d.duration).attr("transform",R);var oe=re.selectAll("."+d.cn.sankeyLinks).data(p,u);oe.enter().append("g").classed(d.cn.sankeyLinks,!0).style("fill","none");var ue=oe.selectAll("."+d.cn.sankeyLink).data(function(ge){return ge.graph.links.filter(function(Pe){return Pe.value}).map(_.bind(null,ge))},u);ue.enter().append("path").classed(d.cn.sankeyLink,!0).call(q,re,X.linkEvents),ue.style("stroke",function(ge){return O(ge)?t.tinyRGB(a(ge.linkLineColor)):ge.tinyColorHue}).style("stroke-opacity",function(ge){return O(ge)?t.opacity(ge.linkLineColor):ge.tinyColorAlpha}).style("fill",function(ge){return ge.tinyColorHue}).style("fill-opacity",function(ge){return ge.tinyColorAlpha}).style("stroke-width",function(ge){return O(ge)?ge.linkLineWidth:1}).attr("d",f()),ue.style("opacity",function(){return j._context.staticPlot||W||$?1:0}).transition().ease(d.ease).duration(d.duration).style("opacity",1),ue.exit().transition().ease(d.ease).duration(d.duration).style("opacity",0).remove();var xe=re.selectAll("."+d.cn.sankeyNodeSet).data(p,u);xe.enter().append("g").classed(d.cn.sankeyNodeSet,!0),xe.style("cursor",function(ge){switch(ge.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Me=xe.selectAll("."+d.cn.sankeyNode).data(function(ge){var Pe=ge.graph.nodes;return function(_e){var we,se=[];for(we=0;we<_e.length;we++)_e[we].originalX=(_e[we].x0+_e[we].x1)/2,_e[we].originalY=(_e[we].y0+_e[we].y1)/2,-1===se.indexOf(_e[we].originalX)&&se.push(_e[we].originalX);for(se.sort(function(ae,fe){return ae-fe}),we=0;we<_e.length;we++)_e[we].originalLayerIndex=se.indexOf(_e[we].originalX),_e[we].originalLayer=_e[we].originalLayerIndex/(se.length-1)}(Pe),Pe.map(S.bind(null,ge))},u);Me.enter().append("g").classed(d.cn.sankeyNode,!0).call(w).style("opacity",function(ge){return!j._context.staticPlot&&!W||ge.partOfGroup?0:1}),Me.call(q,re,X.nodeEvents).call(P,ue,X,j),Me.transition().ease(d.ease).duration(d.duration).call(w).style("opacity",function(ge){return ge.partOfGroup?0:1}),Me.exit().transition().ease(d.ease).duration(d.duration).style("opacity",0).remove();var me=Me.selectAll("."+d.cn.nodeRect).data(p);me.enter().append("rect").classed(d.cn.nodeRect,!0).call(C),me.style("stroke-width",function(ge){return ge.nodeLineWidth}).style("stroke",function(ge){return t.tinyRGB(a(ge.nodeLineColor))}).style("stroke-opacity",function(ge){return t.opacity(ge.nodeLineColor)}).style("fill",function(ge){return ge.tinyColorHue}).style("fill-opacity",function(ge){return ge.tinyColorAlpha}),me.transition().ease(d.ease).duration(d.duration).call(C);var pe=Me.selectAll("."+d.cn.nodeLabel).data(p);pe.enter().append("text").classed(d.cn.nodeLabel,!0).style("cursor","default"),pe.attr("data-notex",1).text(function(ge){return ge.node.label}).each(function(ge){var Pe=l.select(this);i.font(Pe,ge.textFont),x.convertToTspans(Pe,j)}).style("text-shadow",x.makeTextShadow(j._fullLayout.paper_bgcolor)).attr("text-anchor",function(ge){return ge.horizontal&&ge.left?"end":"start"}).attr("transform",function(ge){var Pe=l.select(this),_e=x.lineCount(Pe),se=ge.nodeLineWidth/2+3,ae=((ge.horizontal?ge.visibleHeight:ge.visibleWidth)-ge.textFont.size*((_e-1)*v-y))/2;ge.horizontal&&(ge.left?se=-se:se+=ge.visibleWidth);var fe=ge.horizontal?"":"scale(-1,1)"+o(90);return n(ge.horizontal?se:ae,ge.horizontal?ae:se)+fe}),pe.transition().ease(d.ease).duration(d.duration)}},84564:function(ee){"use strict";ee.exports=function(D,e){for(var A=[],k=D.cd[0].trace,l=k._sankey.graph.nodes,T=0;T<l.length;T++){var b=l[T];if(!b.partOfGroup){var d=[(b.x0+b.x1)/2,(b.y0+b.y1)/2];"v"===k.orientation&&d.reverse(),e&&e.contains(d,!1,T,D)&&A.push({pointNumber:b.pointNumber})}}return A}},75225:function(ee,D,e){"use strict";var A=e(71828);ee.exports=function(k,l){for(var T=0;T<k.length;T++)k[T].i=T;A.mergeArray(l.text,k,"tx"),A.mergeArray(l.texttemplate,k,"txt"),A.mergeArray(l.hovertext,k,"htx"),A.mergeArray(l.customdata,k,"data"),A.mergeArray(l.textposition,k,"tp"),l.textfont&&(A.mergeArrayCastPositive(l.textfont.size,k,"ts"),A.mergeArray(l.textfont.color,k,"tc"),A.mergeArray(l.textfont.family,k,"tf"));var b=l.marker;if(b){A.mergeArrayCastPositive(b.size,k,"ms"),A.mergeArrayCastPositive(b.opacity,k,"mo"),A.mergeArray(b.symbol,k,"mx"),A.mergeArray(b.angle,k,"ma"),A.mergeArray(b.standoff,k,"mf"),A.mergeArray(b.color,k,"mc");var d=b.line;b.line&&(A.mergeArray(d.color,k,"mlc"),A.mergeArrayCastPositive(d.width,k,"mlw"));var a=b.gradient;a&&"none"!==a.type&&(A.mergeArray(a.type,k,"mgt"),A.mergeArray(a.color,k,"mgc"))}}},82196:function(ee,D,e){"use strict";var A=e(12663).axisHoverFormat,k=e(5386).si,l=e(5386).fF,T=e(50693),b=e(41940),d=e(79952).P,a=e(79952).u,t=e(91424),i=e(47581),r=e(1426).extendFlat;ee.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:A("x"),yhoverformat:A("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:k({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:l({},{keys:i.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:r({},d,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:a,marker:r({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:r({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},T("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},T("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:b({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(ee,D,e){"use strict";var A=e(92770),k=e(71828),l=e(89298),T=e(42973),b=e(50606).BADNUM,d=e(34098),a=e(36922),t=e(75225),i=e(66279);function r(p,c,x,g,h,y,v){var m=c._length,_=p._fullLayout,f=x._id,S=g._id,w=_._firstScatter[s(c)]===c.uid,E=(u(c,_,x,g)||{}).orientation,L=c.fill;x._minDtick=0,g._minDtick=0;var C={padded:!0},O={padded:!0};v&&(C.ppad=O.ppad=v);var R=m<2||h[0]!==h[m-1]||y[0]!==y[m-1];R&&("tozerox"===L||"tonextx"===L&&(w||"h"===E))?C.tozero=!0:(c.error_y||{}).visible||"tonexty"!==L&&"tozeroy"!==L&&(d.hasMarkers(c)||d.hasText(c))||(C.padded=!1,C.ppad=0),R&&("tozeroy"===L||"tonexty"===L&&(w||"v"===E))?O.tozero=!0:"tonextx"!==L&&"tozerox"!==L||(O.padded=!1),f&&(c._extremes[f]=l.findExtremes(x,h,C)),S&&(c._extremes[S]=l.findExtremes(g,y,O))}function n(p,c){if(d.hasMarkers(p)){var x,g=p.marker,h=1.6*(p.marker.sizeref||1);if(x="area"===p.marker.sizemode?function(f){return Math.max(Math.sqrt((f||0)/h),3)}:function(f){return Math.max((f||0)/h,3)},k.isArrayOrTypedArray(g.size)){var y={type:"linear"};l.setConvert(y);for(var v=y.makeCalcdata(p.marker,"size"),m=new Array(c),_=0;_<c;_++)m[_]=x(v[_]);return m}return x(g.size)}}function o(p,c){var x=s(c),g=p._firstScatter;g[x]||(g[x]=c.uid)}function s(p){var c=p.stackgroup;return p.xaxis+p.yaxis+p.type+(c?"-"+c:"")}function u(p,c,x,g){var h=p.stackgroup;if(h){var y=c._scatterStackOpts[x._id+g._id][h],v="v"===y.orientation?g:x;return"linear"===v.type||"log"===v.type?y:void 0}}ee.exports={calc:function(p,c){var x,g,h,y,v,m,_=p._fullLayout,f=c._xA=l.getFromId(p,c.xaxis||"x","x"),S=c._yA=l.getFromId(p,c.yaxis||"y","y"),w=f.makeCalcdata(c,"x"),E=S.makeCalcdata(c,"y"),L=T(c,f,"x",w),C=T(c,S,"y",E),O=L.vals,R=C.vals,q=c._length,P=new Array(q),U=c.ids,N=u(c,_,f,S),F=!1;o(_,c);var j,G="x",te="y";N?(k.pushUnique(N.traceIndices,c._expandedIndex),(x="v"===N.orientation)?(te="s",j="x"):(G="s",j="y"),v="interpolate"===N.stackgaps):r(p,c,f,S,O,R,n(c,q));var J=!!c.xperiodalignment,X=!!c.yperiodalignment;for(g=0;g<q;g++){var Y=P[g]={},W=A(O[g]),$=A(R[g]);W&&$?(Y[G]=O[g],Y[te]=R[g],J&&(Y.orig_x=w[g],Y.xEnd=L.ends[g],Y.xStart=L.starts[g]),X&&(Y.orig_y=E[g],Y.yEnd=C.ends[g],Y.yStart=C.starts[g])):N&&(x?W:$)?(Y[j]=x?O[g]:R[g],Y.gap=!0,v?(Y.s=b,F=!0):Y.s=0):Y[G]=Y[te]=b,U&&(Y.id=String(U[g]))}if(t(P,c),a(p,c),i(P,c),N){for(g=0;g<P.length;)P[g][j]===b?P.splice(g,1):g++;if(k.sort(P,function(ue,xe){return ue[j]-xe[j]||ue.i-xe.i}),F){for(g=0;g<P.length-1&&P[g].gap;)g++;for((m=P[g].s)||(m=P[g].s=0),h=0;h<g;h++)P[h].s=m;for(y=P.length-1;y>g&&P[y].gap;)y--;for(m=P[y].s,h=P.length-1;h>y;h--)P[h].s=m;for(;g<y;)if(P[++g].gap){for(h=g+1;P[h].gap;)h++;for(var ne=P[g-1][j],re=P[g-1].s,oe=(P[h].s-re)/(P[h][j]-ne);g<h;)P[g].s=re+(P[g][j]-ne)*oe,g++}}}return P},calcMarkerSize:n,calcAxisExpansion:r,setFirstScatter:o,getStackOpts:u}},66279:function(ee,D,e){"use strict";var A=e(71828);ee.exports=function(k,l){A.isArrayOrTypedArray(l.selectedpoints)&&A.tagSelected(k,l)}},36922:function(ee,D,e){"use strict";var A=e(52075).hasColorscale,k=e(78803),l=e(34098);ee.exports=function(T,b){l.hasLines(b)&&A(b,"line")&&k(T,b,{vals:b.line.color,containerStr:"line",cLetter:"c"}),l.hasMarkers(b)&&(A(b,"marker")&&k(T,b,{vals:b.marker.color,containerStr:"marker",cLetter:"c"}),A(b,"marker.line")&&k(T,b,{vals:b.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(ee){"use strict";ee.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(ee,D,e){"use strict";var A=e(47761),k=e(11661).setGroupPositions;function l(T,b,d,a,t,i,r){t[a]=!0;var s,u,c,x,g,n={i:null,gap:!0,s:0};if(n[r]=d,T.splice(b,0,n),b&&d===T[b-1][r]){var o=T[b-1];n.s=o.s,n.i=o.i,n.gap=o.gap}else i&&(n.s=(c=r,x=(s=T)[(u=b)-1],(g=s[u+1])?x?x.s+(g.s-x.s)*(d-x[c])/(g[c]-x[c]):g.s:x.s));b||(T[0].t=T[1].t,T[0].trace=T[1].trace,delete T[1].t,delete T[1].trace)}ee.exports=function(T,b){"group"===T._fullLayout.scattermode&&function(j,G){for(var te=G.xaxis,J=G.yaxis,X=j._fullLayout,Y=j._fullData,W=j.calcdata,$=[],ne=[],re=0;re<Y.length;re++){var oe=Y[re];!0===oe.visible&&"scatter"===oe.type&&oe.xaxis===te._id&&oe.yaxis===J._id&&("h"===oe.orientation?$.push(W[re]):"v"===oe.orientation&&ne.push(W[re]))}var ue={mode:X.scattermode,gap:X.scattergap};k(j,te,J,ne,ue),k(j,J,te,$,ue)}(T,b);var d=b.xaxis,a=b.yaxis,i=T._fullLayout._scatterStackOpts[d._id+a._id];if(i){var r,n,o,s,u,p,c,x,g,h,y,v,m,_,f,S=T.calcdata;for(var w in i){var E=(h=i[w]).traceIndices;if(E.length){for(y="interpolate"===h.stackgaps,v=h.groupnorm,"v"===h.orientation?(m="x",_="y"):(m="y",_="x"),f=new Array(E.length),r=0;r<f.length;r++)f[r]=!1;p=S[E[0]];var L=new Array(p.length);for(r=0;r<p.length;r++)L[r]=p[r][m];for(r=1;r<E.length;r++){for(u=S[E[r]],n=o=0;n<u.length;n++){for(c=u[n][m];c>L[o]&&o<L.length;o++)l(u,n,L[o],r,f,y,m),n++;if(c!==L[o]){for(s=0;s<r;s++)l(S[E[s]],o,c,s,f,y,m);L.splice(o,0,c)}o++}for(;o<L.length;o++)l(u,n,L[o],r,f,y,m),n++}var C=L.length;for(n=0;n<p.length;n++){for(x=p[n][_]=p[n].s,r=1;r<E.length;r++)(u=S[E[r]])[0].trace._rawLength=u[0].trace._length,u[0].trace._length=C,u[n][_]=x+=u[n].s;if(v)for(g=("fraction"===v?x:x/100)||1,r=0;r<E.length;r++){var O=S[E[r]][n];O[_]/=g,O.sNorm=O.s/g}}for(r=0;r<E.length;r++){var R=(u=S[E[r]])[0].trace,q=A.calcMarkerSize(R,R._rawLength),P=Array.isArray(q);if(q&&f[r]||P){var U=q;for(q=new Array(C),n=0;n<C;n++)q[n]=u[n].gap?0:P?U[u[n].i]:U}var N=new Array(C),F=new Array(C);for(n=0;n<C;n++)N[n]=u[n].x,F[n]=u[n].y;A.calcAxisExpansion(T,R,d,a,N,F,q),u[0].t.orientation=h.orientation}}}}}},34936:function(ee,D,e){"use strict";var A=e(71828),k=e(26125),l=e(82196);ee.exports=function(T,b){var a,t;function i(u){return A.coerce(a._input,a,l,u)}if("group"===b.scattermode)for(t=0;t<T.length;t++)"scatter"===(a=T[t]).type&&k(a._input,a,b,i);for(t=0;t<T.length;t++){var r=T[t];if("scatter"===r.type){var n=r.fill;if("none"!==n&&"toself"!==n&&(r.opacity=void 0,"tonexty"===n||"tonextx"===n))for(var o=t-1;o>=0;o--){var s=T[o];if("scatter"===s.type&&s.xaxis===r.xaxis&&s.yaxis===r.yaxis){s.opacity=void 0;break}}}}}},17438:function(ee,D,e){"use strict";var A=e(71828),k=e(73972),l=e(82196),T=e(47581),b=e(34098),d=e(67513),a=e(73927),t=e(565),i=e(49508),r=e(11058),n=e(94039),o=e(82410),s=e(28908),u=e(71828).coercePattern;ee.exports=function(p,c,x,g){function h(E,L){return A.coerce(p,c,l,E,L)}var y=d(p,c,g,h);if(y||(c.visible=!1),c.visible){a(p,c,g,h),h("xhoverformat"),h("yhoverformat");var v=t(p,c,g,h);"group"===g.scattermode&&void 0===c.orientation&&h("orientation","v");var m=!v&&y<T.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("mode",m),b.hasLines(c)&&(r(p,c,x,g,h,{backoff:!0}),n(p,c,h),h("connectgaps"),h("line.simplify")),b.hasMarkers(c)&&i(p,c,x,g,h,{gradient:!0}),b.hasText(c)&&(h("texttemplate"),o(p,c,g,h));var _=[];(b.hasMarkers(c)||b.hasText(c))&&(h("cliponaxis"),h("marker.maxdisplayed"),_.push("points")),h("fill",v?v.fillDflt:"none"),"none"!==c.fill&&(s(p,c,x,h),b.hasLines(c)||n(p,c,h),u(h,"fillpattern",c.fillcolor,!1));var f=(c.line||{}).color,S=(c.marker||{}).color;"tonext"!==c.fill&&"toself"!==c.fill||_.push("fills"),h("hoveron",_.join("+")||"points"),"fills"!==c.hoveron&&h("hovertemplate");var w=k.getComponentMethod("errorbars","supplyDefaults");w(p,c,f||S||x,{axis:"y"}),w(p,c,f||S||x,{axis:"x",inherit:"y"}),A.coerceSelectionMarkerOpacity(c,h)}}},28908:function(ee,D,e){"use strict";var A=e(7901),k=e(71828).isArrayOrTypedArray;ee.exports=function(l,T,b,d){var a=!1;if(T.marker){var t=T.marker.color,i=(T.marker.line||{}).color;t&&!k(t)?a=t:i&&!k(i)&&(a=i)}d("fillcolor",A.addOpacity((T.line||{}).color||a||b,.5))}},8225:function(ee,D,e){"use strict";var A=e(89298);ee.exports=function(k,l,T){var b={},d={_fullLayout:T},a=A.getFromTrace(d,l,"x"),t=A.getFromTrace(d,l,"y"),i=k.orig_x;void 0===i&&(i=k.x);var r=k.orig_y;return void 0===r&&(r=k.y),b.xLabel=A.tickText(a,a.c2l(i),!0).text,b.yLabel=A.tickText(t,t.c2l(r),!0).text,b}},34603:function(ee,D,e){"use strict";var A=e(7901),k=e(34098);ee.exports=function(l,T){var b,d;if("lines"===l.mode)return(b=l.line.color)&&A.opacity(b)?b:l.fillcolor;if("none"===l.mode)return l.fill?l.fillcolor:"";var a=T.mcc||(l.marker||{}).color,t=T.mlcc||((l.marker||{}).line||{}).color;return(d=a&&A.opacity(a)?a:t&&A.opacity(t)&&(T.mlw||((l.marker||{}).line||{}).width)?t:"")?A.opacity(d)<.3?A.addOpacity(d,.3):d:(b=(l.line||{}).color)&&A.opacity(b)&&k.hasLines(l)&&l.line.width?b:l.fillcolor}},26125:function(ee,D,e){"use strict";var A=e(99082).getAxisGroup;ee.exports=function(k,l,T,b){var d=l.orientation,t=A(T,l[{v:"x",h:"y"}[d]+"axis"])+d,i=T._alignmentOpts||{},r=b("alignmentgroup"),n=i[t];n||(n=i[t]={});var o=n[r];o?o.traces.push(l):o=n[r]={traces:[l],alignmentIndex:Object.keys(n).length,offsetGroups:{}};var s=b("offsetgroup"),u=o.offsetGroups,p=u[s];s&&(p||(p=u[s]={offsetIndex:Object.keys(u).length}),l._offsetIndex=p.offsetIndex)}},33720:function(ee,D,e){"use strict";var A=e(71828),k=e(30211),l=e(73972),T=e(34603),b=e(7901),d=A.fillText;ee.exports=function(a,t,i,r){var n=a.cd,o=n[0].trace,s=a.xa,u=a.ya,p=s.c2p(t),c=u.c2p(i),x=[p,c],g=o.hoveron||"",h=-1!==o.mode.indexOf("markers")?3:.5,y=!!o.xperiodalignment,v=!!o.yperiodalignment;if(-1!==g.indexOf("points")){var m=function(Me){var me=Math.max(h,Me.mrc||0),pe=s.c2p(Me.x)-p,ge=u.c2p(Me.y)-c;return Math.max(Math.sqrt(pe*pe+ge*ge)-me,1-h/me)},_=k.getDistanceFunction(r,function(Me){if(y){var me=s.c2p(Me.xStart),pe=s.c2p(Me.xEnd);return p>=Math.min(me,pe)&&p<=Math.max(me,pe)?0:1/0}var ge=Math.max(3,Me.mrc||0),Pe=1-1/ge,_e=Math.abs(s.c2p(Me.x)-p);return _e<ge?Pe*_e/ge:_e-ge+Pe},function(Me){if(v){var me=u.c2p(Me.yStart),pe=u.c2p(Me.yEnd);return c>=Math.min(me,pe)&&c<=Math.max(me,pe)?0:1/0}var ge=Math.max(3,Me.mrc||0),Pe=1-1/ge,_e=Math.abs(u.c2p(Me.y)-c);return _e<ge?Pe*_e/ge:_e-ge+Pe},m);if(k.getClosest(n,_,a),!1!==a.index){var f=n[a.index],S=s.c2p(f.x,!0),w=u.c2p(f.y,!0),E=f.mrc||1;a.index=f.i;var L=n[0].t.orientation,C=L&&(f.sNorm||f.s),O="h"===L?C:void 0!==f.orig_x?f.orig_x:f.x,R="v"===L?C:void 0!==f.orig_y?f.orig_y:f.y;return A.extendFlat(a,{color:T(o,f),x0:S-E,x1:S+E,xLabelVal:O,y0:w-E,y1:w+E,yLabelVal:R,spikeDistance:m(f),hovertemplate:o.hovertemplate}),d(f,o,a),l.getComponentMethod("errorbars","hoverInfo")(f,o,a),[a]}}if(-1!==g.indexOf("fills")&&o._polygons){var q,P,U,N,F,j,te,J,X=o._polygons,Y=[],W=!1,$=1/0,ne=-1/0,re=1/0,oe=-1/0;for(q=0;q<X.length;q++)(U=X[q]).contains(x)&&(W=!W,Y.push(U),re=Math.min(re,U.ymin),oe=Math.max(oe,U.ymax));if(W){var ue=((re=Math.max(re,0))+(oe=Math.min(oe,u._length)))/2;for(q=0;q<Y.length;q++)for(N=Y[q].pts,P=1;P<N.length;P++)(te=N[P-1][1])>ue!=(J=N[P][1])>=ue&&(j=N[P-1][0],J-te&&(F=j+(N[P][0]-j)*(ue-te)/(J-te),$=Math.min($,F),ne=Math.max(ne,F)));$=Math.max($,0),ne=Math.min(ne,s._length);var xe=b.defaultLine;return b.opacity(o.fillcolor)?xe=o.fillcolor:b.opacity((o.line||{}).color)&&(xe=o.line.color),A.extendFlat(a,{distance:a.maxHoverDistance,x0:$,x1:ne,y0:ue,y1:ue,color:xe,hovertemplate:!1}),delete a.index,a.text=o.text&&!Array.isArray(o.text)?String(o.text):o.name,[a]}}}},67368:function(ee,D,e){"use strict";var A=e(34098);ee.exports={hasLines:A.hasLines,hasMarkers:A.hasMarkers,hasText:A.hasText,isBubble:A.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(ee){"use strict";ee.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(ee,D,e){"use strict";var A=e(71828),k=e(21479);ee.exports=function(l,T){"group"===T.scattermode&&A.coerce(l,T,k,"scattergap","group"===T.barmode?T.bargap:.2)}},11058:function(ee,D,e){"use strict";var A=e(71828).isArrayOrTypedArray,k=e(52075).hasColorscale,l=e(1586);ee.exports=function(T,b,d,a,t,i){i||(i={});var r=(T.marker||{}).color;t("line.color",d),k(T,"line")?l(T,b,a,t,{prefix:"line.",cLetter:"c"}):t("line.color",!A(r)&&r||d),t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},34621:function(ee,D,e){"use strict";var A=e(91424),k=e(50606),l=k.BADNUM,T=k.LOG_CLIP,b=T+.5,d=T-.5,a=e(71828),t=a.segmentsIntersect,i=a.constrain,r=e(47581);ee.exports=function(n,o){var s,u,p,c,x,g,h,y,v,m,_,f,S,w,E,L,C,O,R=o.trace||{},q=o.xaxis,P=o.yaxis,U="log"===q.type,N="log"===P.type,F=q._length,j=P._length,G=o.backoff,te=R.marker,J=o.connectGaps,X=o.baseTolerance,Y=o.shape,W="linear"===Y,$=R.fill&&"none"!==R.fill,ne=[],re=r.minTolerance,oe=n.length,ue=new Array(oe),xe=0;function Me(kt){var Ze=n[kt];if(!Ze)return!1;var Xe=o.linearized?q.l2p(Ze.x):q.c2p(Ze.x),He=o.linearized?P.l2p(Ze.y):P.c2p(Ze.y);if(Xe===l){if(U&&(Xe=q.c2p(Ze.x,!0)),Xe===l)return!1;N&&He===l&&(Xe*=Math.abs(q._m*j*(q._m>0?b:d)/(P._m*F*(P._m>0?b:d)))),Xe*=1e3}if(He===l){if(N&&(He=P.c2p(Ze.y,!0)),He===l)return!1;He*=1e3}return[Xe,He]}function me(kt,Ze,Xe,He){var We=Xe-kt,rt=He-Ze,nt=.5-kt,ze=.5-Ze,Be=We*We+rt*rt,tt=We*nt+rt*ze;if(tt>0&&tt<Be){var et=nt*rt-ze*We;if(et*et<Be)return!0}}function pe(kt,Ze){var Xe=kt[0]/F,He=kt[1]/j,We=Math.max(0,-Xe,Xe-1,-He,He-1);return We&&void 0!==C&&me(Xe,He,C,O)&&(We=0),We&&Ze&&me(Xe,He,Ze[0]/F,Ze[1]/j)&&(We=0),(1+r.toleranceGrowth*We)*X}function ge(kt,Ze){var Xe=kt[0]-Ze[0],He=kt[1]-Ze[1];return Math.sqrt(Xe*Xe+He*He)}var Pe,_e,we,se,ae,fe,Ee,ke=r.maxScreensAway,be=-F*ke,Ie=F*(1+ke),Fe=-j*ke,ce=j*(1+ke),Te=[[be,Fe,Ie,Fe],[Ie,Fe,Ie,ce],[Ie,ce,be,ce],[be,ce,be,Fe]];function ve(kt){if(kt[0]<be||kt[0]>Ie||kt[1]<Fe||kt[1]>ce)return[i(kt[0],be,Ie),i(kt[1],Fe,ce)]}function Ce(kt,Ze){return kt[0]===Ze[0]&&(kt[0]===be||kt[0]===Ie)||kt[1]===Ze[1]&&(kt[1]===Fe||kt[1]===ce)||void 0}function Re(kt,Ze,Xe){return function(He,We){var rt=ve(He),nt=ve(We),ze=[];if(rt&&nt&&Ce(rt,nt))return ze;rt&&ze.push(rt),nt&&ze.push(nt);var Be=2*a.constrain((He[kt]+We[kt])/2,Ze,Xe)-((rt||He)[kt]+(nt||We)[kt]);return Be&&((rt&&nt?Be>0==rt[kt]>nt[kt]?rt:nt:rt||nt)[kt]+=Be),ze}}function Oe(kt){var Ze=kt[0],Xe=kt[1],He=Ze===ue[xe-1][0],We=Xe===ue[xe-1][1];if(!He||!We)if(xe>1){var rt=Ze===ue[xe-2][0],nt=Xe===ue[xe-2][1];He&&(Ze===be||Ze===Ie)&&rt?nt?xe--:ue[xe-1]=kt:We&&(Xe===Fe||Xe===ce)&&nt?rt?xe--:ue[xe-1]=kt:ue[xe++]=kt}else ue[xe++]=kt}function je(kt){ue[xe-1][0]!==kt[0]&&ue[xe-1][1]!==kt[1]&&Oe([we,se]),Oe(kt),ae=null,we=se=0}"linear"===Y||"spline"===Y?Ee=function(kt,Ze){for(var Xe=[],He=0,We=0;We<4;We++){var rt=Te[We],nt=t(kt[0],kt[1],Ze[0],Ze[1],rt[0],rt[1],rt[2],rt[3]);nt&&(!He||Math.abs(nt.x-Xe[0][0])>1||Math.abs(nt.y-Xe[0][1])>1)&&(nt=[nt.x,nt.y],He&&ge(nt,kt)<ge(Xe[0],kt)?Xe.unshift(nt):Xe.push(nt),He++)}return Xe}:"hv"===Y||"vh"===Y?Ee=function(kt,Ze){var Xe=[],He=ve(kt),We=ve(Ze);return He&&We&&Ce(He,We)||(He&&Xe.push(He),We&&Xe.push(We)),Xe}:"hvh"===Y?Ee=Re(0,be,Ie):"vhv"===Y&&(Ee=Re(1,Fe,ce));var qe=a.isArrayOrTypedArray(te);function Je(kt){if(kt&&G&&(kt.i=s,kt.d=n,kt.trace=R,kt.marker=qe?te[kt.i]:te,kt.backoff=G),C=kt[0]/F,O=kt[1]/j,_e=kt[1]<Fe?Fe:kt[1]>ce?ce:0,(Pe=kt[0]<be?be:kt[0]>Ie?Ie:0)||_e){if(xe)if(ae){var Ze=Ee(ae,kt);Ze.length>1&&(je(Ze[0]),ue[xe++]=Ze[1])}else fe=Ee(ue[xe-1],kt)[0],ue[xe++]=fe;else ue[xe++]=[Pe||kt[0],_e||kt[1]];var Xe=ue[xe-1];Pe&&_e&&(Xe[0]!==Pe||Xe[1]!==_e)?(ae&&(we!==Pe&&se!==_e?Oe(we&&se?(rt=(We=kt)[0]-(He=ae)[0],nt=(We[1]-He[1])/rt,(He[1]*We[0]-We[1]*He[0])/rt>0?[nt>0?be:Ie,ce]:[nt>0?Ie:be,Fe]):[we||Pe,se||_e]):we&&se&&Oe([we,se])),Oe([Pe,_e])):we-Pe&&se-_e&&Oe([Pe||we,_e||se]),ae=kt,we=Pe,se=_e}else ae&&je(Ee(ae,kt)[0]),ue[xe++]=kt;var He,We,rt,nt}for(s=0;s<oe;s++)if(u=Me(s)){for(xe=0,ae=null,Je(u),s++;s<oe;s++){if(!(c=Me(s))){if(J)continue;break}if(W&&o.simplify){var it=Me(s+1);if(m=ge(c,u),$&&(0===xe||xe===oe-1)||!(m<pe(c,it)*re)){for(y=[(c[0]-u[0])/m,(c[1]-u[1])/m],x=u,_=m,f=w=E=0,h=!1,p=c,s++;s<n.length;s++){if(g=it,it=Me(s+1),!g){if(J)continue;break}if(L=(v=[g[0]-u[0],g[1]-u[1]])[0]*y[1]-v[1]*y[0],w=Math.min(w,L),(E=Math.max(E,L))-w>pe(g,it))break;p=g,(S=v[0]*y[0]+v[1]*y[1])>_?(_=S,c=g,h=!1):S<f&&(f=S,x=g,h=!0)}if(h?(Je(c),p!==x&&Je(x)):(x!==u&&Je(x),p!==c&&Je(c)),Je(p),s>=n.length||!g)break;Je(g),u=g}}else Je(c)}ae&&Oe([we||ae[0],se||ae[1]]),ne.push(ue.slice(0,xe))}var Qe=Y.slice(Y.length-1);if(G&&"h"!==Qe&&"v"!==Qe){for(var dt=!1,yt=-1,mt=[],at=0;at<ne.length;at++)for(var st=0;st<ne[at].length-1;st++){var Tt=ne[at][st],At=ne[at][st+1],Pt=A.applyBackoff(At,Tt);Pt[0]===At[0]&&Pt[1]===At[1]||(dt=!0),mt[yt+1]||(mt[++yt]=[Tt,[Pt[0],Pt[1]]])}return dt?mt:ne}return ne}},94039:function(ee){"use strict";ee.exports=function(D,e,A){"spline"===A("line.shape")&&A("line.smoothing")}},68687:function(ee){"use strict";var D={tonextx:1,tonexty:1,tonext:1};ee.exports=function(e,A,k){var l,T,b,d,a,t={},i=!1,r=-1,n=0,o=-1;for(T=0;T<k.length;T++)(b=(l=k[T][0].trace).stackgroup||"")?b in t?a=t[b]:(a=t[b]=n,n++):l.fill in D&&o>=0?a=o:(a=o=n,n++),a<r&&(i=!0),l._groupIndex=r=a;var s=k.slice();i&&s.sort(function(p,c){var x=p[0].trace,g=c[0].trace;return x._groupIndex-g._groupIndex||x.index-g.index});var u={};for(T=0;T<s.length;T++)b=(l=s[T][0].trace).stackgroup||"",!0===l.visible?(l._nexttrace=null,l.fill in D&&(l._prevtrace=(d=u[b])||null,d&&(d._nexttrace=l)),l._ownfill=l.fill&&("tozero"===l.fill.substr(0,6)||"toself"===l.fill||"to"===l.fill.substr(0,2)&&!l._prevtrace),u[b]=l):l._prevtrace=l._nexttrace=l._ownfill=null;return s}},39984:function(ee,D,e){"use strict";var A=e(92770);ee.exports=function(k,l){l||(l=2);var T=k.marker,b=T.sizeref||1,d=T.sizemin||0,a="area"===T.sizemode?function(t){return Math.sqrt(t/b)}:function(t){return t/b};return function(t){var i=a(t/l);return A(i)&&i>0?Math.max(i,d):0}}},4898:function(ee){"use strict";ee.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(ee,D,e){"use strict";var A=e(7901),k=e(52075).hasColorscale,l=e(1586),T=e(34098);ee.exports=function(b,d,a,t,i,r){var n=T.isBubble(b),o=(b.line||{}).color;r=r||{},o&&(a=o),i("marker.symbol"),i("marker.opacity",n?.7:1),i("marker.size"),r.noAngle||(i("marker.angle"),r.noAngleRef||i("marker.angleref"),r.noStandOff||i("marker.standoff")),i("marker.color",a),k(b,"marker")&&l(b,d,t,i,{prefix:"marker.",cLetter:"c"}),r.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),r.noLine||(i("marker.line.color",o&&!Array.isArray(o)&&d.marker.color!==o?o:n?A.background:A.defaultLine),k(b,"marker.line")&&l(b,d,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",n?1:0)),n&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),r.gradient&&"none"!==i("marker.gradient.type")&&i("marker.gradient.color")}},73927:function(ee,D,e){"use strict";var A=e(71828).dateTick0,k=e(50606).ONEWEEK;function l(T,b){return A(b,T%k==0?1:0)}ee.exports=function(T,b,d,a,t){if(t||(t={x:!0,y:!0}),t.x){var i=a("xperiod");i&&(a("xperiod0",l(i,b.xcalendar)),a("xperiodalignment"))}if(t.y){var r=a("yperiod");r&&(a("yperiod0",l(r,b.ycalendar)),a("yperiodalignment"))}}},32663:function(ee,D,e){"use strict";var A=e(39898),k=e(73972),l=e(71828),T=l.ensureSingle,b=l.identity,d=e(91424),a=e(34098),t=e(34621),i=e(68687),r=e(61082).tester;function n(o,s,u,p,c,x,g){var h,y=o._context.staticPlot;!function(Ee,ke,be,Ie,Fe){var ce=be.xaxis,Te=be.yaxis,ve=A.extent(l.simpleMap(ce.range,ce.r2c)),Ce=A.extent(l.simpleMap(Te.range,Te.r2c)),Re=Ie[0].trace;if(a.hasMarkers(Re)){var Oe=Re.marker.maxdisplayed;if(0!==Oe){var je=Ie.filter(function(Qe){return Qe.x>=ve[0]&&Qe.x<=ve[1]&&Qe.y>=Ce[0]&&Qe.y<=Ce[1]}),qe=Math.ceil(je.length/Oe),Je=0;Fe.forEach(function(Qe,dt){var yt=Qe[0].trace;a.hasMarkers(yt)&&yt.marker.maxdisplayed>0&&dt<ke&&Je++});var it=Math.round(Je*qe/3+Math.floor(Je/3)*qe/7.1);Ie.forEach(function(Qe){delete Qe.vis}),je.forEach(function(Qe,dt){0===Math.round((dt+it)%qe)&&(Qe.vis=!0)})}}}(0,s,u,p,c);var v=!!g&&g.duration>0;function m(Ee){return v?Ee.transition():Ee}var _=u.xaxis,f=u.yaxis,S=p[0].trace,w=S.line,E=A.select(x),L=T(E,"g","errorbars"),C=T(E,"g","lines"),O=T(E,"g","points"),R=T(E,"g","text");if(k.getComponentMethod("errorbars","plot")(o,L,u,g),!0===S.visible){var q,P;m(E).style("opacity",S.opacity);var U=S.fill.charAt(S.fill.length-1);"x"!==U&&"y"!==U&&(U=""),p[0][u.isRangePlot?"nodeRangePlot3":"node3"]=E;var N,F,j="",G=[],te=S._prevtrace;te&&(j=te._prevRevpath||"",P=te._nextFill,G=te._polygons);var J,X,Y,W,$,ne,re,oe="",ue="",xe=[],Me=l.noop;if(q=S._ownFill,a.hasLines(S)||"none"!==S.fill){for(P&&P.datum(p),-1!==["hv","vh","hvh","vhv"].indexOf(w.shape)?(J=d.steps(w.shape),X=d.steps(w.shape.split("").reverse().join(""))):J=X="spline"===w.shape?function(Ee){var ke=Ee[Ee.length-1];return Ee.length>1&&Ee[0][0]===ke[0]&&Ee[0][1]===ke[1]?d.smoothclosed(Ee.slice(1),w.smoothing):d.smoothopen(Ee,w.smoothing)}:function(Ee){return"M"+Ee.join("L")},Y=function(Ee){return X(Ee.reverse())},xe=t(p,{xaxis:_,yaxis:f,trace:S,connectGaps:S.connectgaps,baseTolerance:Math.max(w.width||1,3)/4,shape:w.shape,backoff:w.backoff,simplify:w.simplify,fill:S.fill}),re=S._polygons=new Array(xe.length),h=0;h<xe.length;h++)S._polygons[h]=r(xe[h]);xe.length&&(W=xe[0][0],ne=($=xe[xe.length-1])[$.length-1]),Me=function(Ee){return function(ke){if(N=J(ke),F=Y(ke),oe?U?(oe+="L"+N.substr(1),ue=F+"L"+ue.substr(1)):(oe+="Z"+N,ue=F+"Z"+ue):(oe=N,ue=F),a.hasLines(S)){var be=A.select(this);if(be.datum(p),Ee)m(be.style("opacity",0).attr("d",N).call(d.lineGroupStyle)).style("opacity",1);else{var Ie=m(be);Ie.attr("d",N),d.singleLineStyle(p,Ie)}}}}}var me=C.selectAll(".js-line").data(xe);m(me.exit()).style("opacity",0).remove(),me.each(Me(!1)),me.enter().append("path").classed("js-line",!0).style("vector-effect",y?"none":"non-scaling-stroke").call(d.lineGroupStyle).each(Me(!0)),d.setClipUrl(me,u.layerClipId,o),xe.length?(q?(q.datum(p),W&&ne&&(U?("y"===U?W[1]=ne[1]=f.c2p(0,!0):"x"===U&&(W[0]=ne[0]=_.c2p(0,!0)),m(q).attr("d","M"+ne+"L"+W+"L"+oe.substr(1)).call(d.singleFillStyle,o)):m(q).attr("d",oe+"Z").call(d.singleFillStyle,o))):P&&("tonext"===S.fill.substr(0,6)&&oe&&j?("tonext"===S.fill?m(P).attr("d",oe+"Z"+j+"Z").call(d.singleFillStyle,o):m(P).attr("d",oe+"L"+j.substr(1)+"Z").call(d.singleFillStyle,o),S._polygons=S._polygons.concat(G)):(ge(P),S._polygons=null)),S._prevRevpath=ue,S._prevPolygons=re):(q?ge(q):P&&ge(P),S._polygons=S._prevRevpath=S._prevPolygons=null),O.datum(p),R.datum(p),function(Ee,ke,be){var Ie,Fe=be[0].trace,ce=a.hasMarkers(Fe),Te=a.hasText(Fe),ve=function ae(Ee){if(Ee.ids)return se}(Fe),Ce=fe,Re=fe;if(ce||Te){var Oe=b,je=Fe.stackgroup,qe=je&&"infer zero"===o._fullLayout._scatterStackOpts[_._id+f._id][je].stackgaps;Fe.marker.maxdisplayed||Fe._needsCull?Oe=qe?_e:Pe:je&&!qe&&(Oe=we),ce&&(Ce=Oe),Te&&(Re=Oe)}var Je,it=(Ie=Ee.selectAll("path.point").data(Ce,ve)).enter().append("path").classed("point",!0);v&&it.call(d.pointStyle,Fe,o).call(d.translatePoints,_,f).style("opacity",0).transition().style("opacity",1),Ie.order(),ce&&(Je=d.makePointStyleFns(Fe)),Ie.each(function(Qe){var dt=A.select(this),yt=m(dt);d.translatePoint(Qe,yt,_,f)?(d.singlePointStyle(Qe,yt,Fe,Je,o),u.layerClipId&&d.hideOutsideRangePoint(Qe,yt,_,f,Fe.xcalendar,Fe.ycalendar),Fe.customdata&&dt.classed("plotly-customdata",null!=Qe.data)):yt.remove()}),v?Ie.exit().transition().style("opacity",0).remove():Ie.exit().remove(),(Ie=ke.selectAll("g").data(Re,ve)).enter().append("g").classed("textpoint",!0).append("text"),Ie.order(),Ie.each(function(Qe){var dt=A.select(this),yt=m(dt.select("text"));d.translatePoint(Qe,yt,_,f)?u.layerClipId&&d.hideOutsideRangePoint(Qe,dt,_,f,Fe.xcalendar,Fe.ycalendar):dt.remove()}),Ie.selectAll("text").call(d.textPointStyle,Fe,o).each(function(Qe){var dt=_.c2p(Qe.x),yt=f.c2p(Qe.y);A.select(this).selectAll("tspan.line").each(function(){m(A.select(this)).attr({x:dt,y:yt})})}),Ie.exit().remove()}(O,R,p);var pe=!1===S.cliponaxis?null:u.layerClipId;d.setClipUrl(O,pe,o),d.setClipUrl(R,pe,o)}function ge(Ee){m(Ee).attr("d","M0,0Z")}function Pe(Ee){return Ee.filter(function(ke){return!ke.gap&&ke.vis})}function _e(Ee){return Ee.filter(function(ke){return ke.vis})}function we(Ee){return Ee.filter(function(ke){return!ke.gap})}function se(Ee){return Ee.id}function fe(){return!1}}ee.exports=function(o,s,u,p,c,x){var g,h,_,S,y=!c,v=!!c&&c.duration>0,m=i(o,s,u);(g=p.selectAll("g.trace").data(m,function(_){return _[0].trace.uid})).enter().append("g").attr("class",function(_){return"trace scatter trace"+_[0].trace.uid}).style("stroke-miterlimit",2),g.order(),_=o,S=s,g.each(function(w){var E=T(A.select(this),"g","fills");d.setClipUrl(E,S.layerClipId,_);var L=w[0].trace,C=[];L._ownfill&&C.push("_ownFill"),L._nexttrace&&C.push("_nextFill");var O=E.selectAll("g").data(C,b);O.enter().append("g"),O.exit().each(function(R){L[R]=null}).remove(),O.order().each(function(R){L[R]=T(A.select(this),"path","js-fill")})}),v?(x&&(h=x()),A.transition().duration(c.duration).ease(c.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()}).each(function(){p.selectAll("g.trace").each(function(_,f){n(o,f,s,_,m,this,c)})})):g.each(function(_,f){n(o,f,s,_,m,this,c)}),y&&g.exit().remove(),p.selectAll("path:not([d])").remove()}},98002:function(ee,D,e){"use strict";var A=e(34098);ee.exports=function(k,l){var T,b,d,a,t=k.cd,i=k.xaxis,r=k.yaxis,n=[],o=t[0].trace;if(!A.hasMarkers(o)&&!A.hasText(o))return[];if(!1===l)for(T=0;T<t.length;T++)t[T].selected=0;else for(T=0;T<t.length;T++)d=i.c2p((b=t[T]).x),a=r.c2p(b.y),null!==b.i&&l.contains([d,a],!1,T,k)?(n.push({pointNumber:b.i,x:i.c2d(b.x),y:r.c2d(b.y)}),b.selected=1):b.selected=0;return n}},565:function(ee){"use strict";var D=["orientation","groupnorm","stackgaps"];ee.exports=function(e,A,k,l){var T=k._scatterStackOpts,b=l("stackgroup");if(b){var d=A.xaxis+A.yaxis,a=T[d];a||(a=T[d]={});var t=a[b],i=!1;t?t.traces.push(A):(t=a[b]={traceIndices:[],traces:[A]},i=!0);for(var r={orientation:A.x&&!A.y?"h":"v"},n=0;n<D.length;n++){var o=D[n],s=o+"Found";if(!t[s]){var u=void 0!==e[o],p="orientation"===o;if((u||i)&&(t[o]=l(o,r[o]),p&&(t.fillDflt="h"===t[o]?"tonextx":"tonexty"),u&&(t[s]=!0,!i&&(delete t.traces[0][o],p))))for(var c=0;c<t.traces.length-1;c++){var x=t.traces[c];x._input.fill!==x.fill&&(x.fill=t.fillDflt)}}}return t}}},16296:function(ee,D,e){"use strict";var A=e(39898),k=e(91424),l=e(73972);function T(d,a,t){k.pointStyle(d.selectAll("path.point"),a,t)}function b(d,a,t){k.textPointStyle(d.selectAll("text"),a,t)}ee.exports={style:function(d){var a=A.select(d).selectAll("g.trace.scatter");a.style("opacity",function(t){return t[0].trace.opacity}),a.selectAll("g.points").each(function(t){T(A.select(this),t.trace||t[0].trace,d)}),a.selectAll("g.text").each(function(t){b(A.select(this),t.trace||t[0].trace,d)}),a.selectAll("g.trace path.js-line").call(k.lineGroupStyle),a.selectAll("g.trace path.js-fill").call(k.fillGroupStyle,d),l.getComponentMethod("errorbars","style")(a)},stylePoints:T,styleText:b,styleOnSelect:function(d,a,t){var i=a[0].trace;i.selectedpoints?(k.selectedPointStyle(t.selectAll("path.point"),i),k.selectedTextStyle(t.selectAll("text"),i)):(T(t,i,d),b(t,i,d))}}},34098:function(ee,D,e){"use strict";var A=e(71828);ee.exports={hasLines:function(k){return k.visible&&k.mode&&-1!==k.mode.indexOf("lines")},hasMarkers:function(k){return k.visible&&(k.mode&&-1!==k.mode.indexOf("markers")||"splom"===k.type)},hasText:function(k){return k.visible&&k.mode&&-1!==k.mode.indexOf("text")},isBubble:function(k){return A.isPlainObject(k.marker)&&A.isArrayOrTypedArray(k.marker.size)}}},82410:function(ee,D,e){"use strict";var A=e(71828);ee.exports=function(k,l,T,b,d){d=d||{},b("textposition"),A.coerceFont(b,"textfont",d.font||T.font),d.noSelect||(b("selected.textfont.color"),b("unselected.textfont.color"))}},67513:function(ee,D,e){"use strict";var A=e(71828),k=e(73972);ee.exports=function(l,T,b,d){var a,t=d("x"),i=d("y");if(k.getComponentMethod("calendars","handleTraceDefaults")(l,T,["x","y"],b),t){var r=A.minRowLength(t);i?a=Math.min(r,A.minRowLength(i)):(a=r,d("y0"),d("dy"))}else{if(!i)return 0;a=A.minRowLength(i),d("x0"),d("dx")}return T._length=a,a}},44542:function(ee,D,e){"use strict";var A=e(82196),k=e(50693),l=e(12663).axisHoverFormat,T=e(5386).fF,b=e(5386).si,d=e(9012),a=e(29659),t=e(87381),i=e(1426).extendFlat,r=e(30962).overrideAll,n=e(78607),s=A.marker,u=s.line,p=i({width:A.line.width,dash:{valType:"enumerated",values:n(a),dflt:"solid"}},k("line")),c=ee.exports=r({x:A.x,y:A.y,z:{valType:"data_array"},text:i({},A.text,{}),texttemplate:b({},{}),hovertext:i({},A.hovertext,{}),hovertemplate:T(),xhoverformat:l("x"),yhoverformat:l("y"),zhoverformat:l("z"),mode:i({},A.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:A.connectgaps,line:p,marker:i({symbol:{valType:"enumerated",values:n(t),dflt:"circle",arrayOk:!0},size:i({},s.size,{dflt:8}),sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:i({},s.opacity,{arrayOk:!1}),colorbar:s.colorbar,line:i({width:i({},u.width,{arrayOk:!1})},k("marker.line"))},k("marker")),textposition:i({},A.textposition,{dflt:"top center"}),textfont:{color:A.textfont.color,size:A.textfont.size,family:i({},A.textfont.family,{arrayOk:!1})},opacity:d.opacity,hoverinfo:i({},d.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},36563:function(ee,D,e){"use strict";var A=e(75225),k=e(36922);ee.exports=function(l,T){var b=[{x:!1,y:!1,trace:T,t:{}}];return A(b,T),k(l,T),b}},67336:function(ee,D,e){"use strict";var A=e(73972);function k(l,T,b,d){if(!T||!T.visible)return null;for(var a=A.getComponentMethod("errorbars","makeComputeError")(T),t=new Array(l.length),i=0;i<l.length;i++){var r=a(+l[i],i);if("log"===d.type){var n=d.c2l(l[i]),o=l[i]-r[0],s=l[i]+r[1];if(t[i]=[(d.c2l(o,!0)-n)*b,(d.c2l(s,!0)-n)*b],o>0){var u=d.c2l(o);d._lowerLogErrorBound||(d._lowerLogErrorBound=u),d._lowerErrorBound=Math.min(d._lowerLogErrorBound,u)}}else t[i]=[-r[0]*b,r[1]*b]}return t}ee.exports=function(l,T,b){var d=[k(l.x,l.error_x,T[0],b.xaxis),k(l.y,l.error_y,T[1],b.yaxis),k(l.z,l.error_z,T[2],b.zaxis)],a=function(s){for(var u=0;u<s.length;u++)if(s[u])return s[u].length;return 0}(d);if(0===a)return null;for(var t=new Array(a),i=0;i<a;i++){for(var r=[[0,0,0],[0,0,0]],n=0;n<3;n++)if(d[n])for(var o=0;o<2;o++)r[o][n]=d[n][i][o];t[i]=r}return t}},58925:function(ee,D,e){"use strict";var A=e(9330).gl_line3d,k=e(9330).gl_scatter3d,l=e(9330).gl_error3d,T=e(9330).gl_mesh3d,b=e(9330).delaunay_triangulate,d=e(71828),a=e(78614),t=e(81697).formatColor,i=e(39984),r=e(29659),n=e(87381),o=e(89298),s=e(23469).appendArrayPointValue,u=e(67336);function p(f,S){this.scene=f,this.uid=S,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=p.prototype;function x(f){return null==f?0:f.indexOf("left")>-1?-1:f.indexOf("right")>-1?1:0}function g(f){return null==f?0:f.indexOf("top")>-1?-1:f.indexOf("bottom")>-1?1:0}function h(f,S){return S(4*f)}function y(f){return n[f]}function v(f,S,w,E,L){var C=null;if(d.isArrayOrTypedArray(f)){C=[];for(var O=0;O<S;O++)C[O]=void 0===f[O]?E:w(f[O],L)}else C=w(f,d.identity);return C}function m(f){if(d.isArrayOrTypedArray(f)){var S=f[0];return d.isArrayOrTypedArray(S)&&(f=S),"rgb("+f.slice(0,3).map(function(w){return Math.round(255*w)})+")"}return null}function _(f){return d.isArrayOrTypedArray(f)?4===f.length&&"number"==typeof f[0]?m(f):f.map(m):null}c.handlePick=function(f){if(f.object&&(f.object===this.linePlot||f.object===this.delaunayMesh||f.object===this.textMarkers||f.object===this.scatterPlot)){var S=f.index=f.data.index;return f.object.highlight&&f.object.highlight(null),this.scatterPlot&&(f.object=this.scatterPlot,this.scatterPlot.highlight(f.data)),f.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[S]||0===this.textLabels[S])&&(f.textLabel=this.textLabels[S]):f.textLabel=this.textLabels),f.traceCoordinate=[this.data.x[S],this.data.y[S],this.data.z[S]],!0}},c.update=function(f){var S,w,E,L,C=this.scene.glplot.gl,O=r.solid;this.data=f;var R=function(U,N){var F,j,G,te,J,X,Y=[],W=U.fullSceneLayout,$=U.dataScale,ne=W.xaxis,re=W.yaxis,oe=W.zaxis,ue=N.marker,xe=N.line,Me=N.x||[],me=N.y||[],pe=N.z||[],ge=Me.length,Pe=N.xcalendar,_e=N.ycalendar,we=N.zcalendar;for(J=0;J<ge;J++)F=ne.d2l(Me[J],0,Pe)*$[0],j=re.d2l(me[J],0,_e)*$[1],G=oe.d2l(pe[J],0,we)*$[2],Y[J]=[F,j,G];if(Array.isArray(N.text))X=N.text;else if(void 0!==N.text)for(X=new Array(ge),J=0;J<ge;J++)X[J]=N.text;function se(je,qe){var Je=W[je];return o.tickText(Je,Je.d2l(qe),!0).text}var ae=N.texttemplate;if(ae){var fe=U.fullLayout._d3locale,Ee=Array.isArray(ae),ke=Ee?Math.min(ae.length,ge):ge,be=Ee?function(je){return ae[je]}:function(){return ae};for(X=new Array(ke),J=0;J<ke;J++){var Ie={x:Me[J],y:me[J],z:pe[J]},Fe={xLabel:se("xaxis",Me[J]),yLabel:se("yaxis",me[J]),zLabel:se("zaxis",pe[J])},ce={};s(ce,N,J);var Te=N._meta||{};X[J]=d.texttemplateString(be(J),Fe,fe,ce,Ie,Te)}}if(te={position:Y,mode:N.mode,text:X},"line"in N&&(te.lineColor=t(xe,1,ge),te.lineWidth=xe.width,te.lineDashes=xe.dash),"marker"in N){var ve=i(N);te.scatterColor=t(ue,1,ge),te.scatterSize=v(ue.size,ge,h,20,ve),te.scatterMarker=v(ue.symbol,ge,y,"\u25cf"),te.scatterLineWidth=ue.line.width,te.scatterLineColor=t(ue.line,1,ge),te.scatterAngle=0}"textposition"in N&&(te.textOffset=function(je){var qe=[0,0];if(Array.isArray(je))for(var Je=0;Je<je.length;Je++)qe[Je]=[0,0],je[Je]&&(qe[Je][0]=x(je[Je]),qe[Je][1]=g(je[Je]));else qe[0]=x(je),qe[1]=g(je);return qe}(N.textposition),te.textColor=t(N.textfont,1,ge),te.textSize=v(N.textfont.size,ge,d.identity,12),te.textFont=N.textfont.family,te.textAngle=0);var Ce=["x","y","z"];for(te.project=[!1,!1,!1],te.projectScale=[1,1,1],te.projectOpacity=[1,1,1],J=0;J<3;++J){var Re=N.projection[Ce[J]];(te.project[J]=Re.show)&&(te.projectOpacity[J]=Re.opacity,te.projectScale[J]=Re.scale)}te.errorBounds=u(N,$,W);var Oe=function(je){for(var qe=[0,0,0],Je=[[0,0,0],[0,0,0],[0,0,0]],it=[1,1,1],Qe=0;Qe<3;Qe++){var dt=je[Qe];dt&&!1!==dt.copy_zstyle&&!1!==je[2].visible&&(dt=je[2]),dt&&dt.visible&&(qe[Qe]=dt.width/2,Je[Qe]=a(dt.color),it[Qe]=dt.thickness)}return{capSize:qe,color:Je,lineWidth:it}}([N.error_x,N.error_y,N.error_z]);return te.errorColor=Oe.color,te.errorLineWidth=Oe.lineWidth,te.errorCapSize=Oe.capSize,te.delaunayAxis=N.surfaceaxis,te.delaunayColor=a(N.surfacecolor),te}(this.scene,f);"mode"in R&&(this.mode=R.mode),"lineDashes"in R&&R.lineDashes in r&&(O=r[R.lineDashes]),this.color=_(R.scatterColor)||_(R.lineColor),this.dataPoints=R.position,S={gl:this.scene.glplot.gl,position:R.position,color:R.lineColor,lineWidth:R.lineWidth||1,dashes:O[0],dashScale:O[1],opacity:f.opacity,connectGaps:f.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(S):(this.linePlot=A(S),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var q=f.opacity;if(f.marker&&void 0!==f.marker.opacity&&(q*=f.marker.opacity),w={gl:this.scene.glplot.gl,position:R.position,color:R.scatterColor,size:R.scatterSize,glyph:R.scatterMarker,opacity:q,orthographic:!0,lineWidth:R.scatterLineWidth,lineColor:R.scatterLineColor,project:R.project,projectScale:R.projectScale,projectOpacity:R.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(w):(this.scatterPlot=k(w),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),L={gl:this.scene.glplot.gl,position:R.position,glyph:R.text,color:R.textColor,size:R.textSize,angle:R.textAngle,alignment:R.textOffset,font:R.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:f.opacity},this.textLabels=f.hovertext||f.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(L):(this.textMarkers=k(L),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),E={gl:this.scene.glplot.gl,position:R.position,color:R.errorColor,error:R.errorBounds,lineWidth:R.errorLineWidth,capSize:R.errorCapSize,opacity:f.opacity},this.errorBars?R.errorBounds?this.errorBars.update(E):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):R.errorBounds&&(this.errorBars=l(E),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),R.delaunayAxis>=0){var P=function(U,N,F){var j,G=(F+1)%3,te=(F+2)%3,J=[],X=[];for(j=0;j<U.length;++j){var Y=U[j];!isNaN(Y[G])&&isFinite(Y[G])&&!isNaN(Y[te])&&isFinite(Y[te])&&(J.push([Y[G],Y[te]]),X.push(j))}var W=b(J);for(j=0;j<W.length;++j)for(var $=W[j],ne=0;ne<$.length;++ne)$[ne]=X[$[ne]];return{positions:U,cells:W,meshColor:N}}(R.position,R.delaunayColor,R.delaunayAxis);P.opacity=f.opacity,this.delaunayMesh?this.delaunayMesh.update(P):(P.gl=C,this.delaunayMesh=T(P),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},ee.exports=function(f,S){var w=new p(f,S.uid);return w.update(S),w}},21428:function(ee,D,e){"use strict";var A=e(73972),k=e(71828),l=e(34098),T=e(49508),b=e(11058),d=e(82410),a=e(44542);ee.exports=function(t,i,r,n){function o(y,v){return k.coerce(t,i,a,y,v)}var y,v,m,_,f,S,w,E;if(y=t,v=i,_=n,f=0,S=(m=o)("x"),w=m("y"),E=m("z"),A.getComponentMethod("calendars","handleTraceDefaults")(y,v,["x","y","z"],_),S&&w&&E&&(f=Math.min(S.length,w.length,E.length),v._length=v._xlength=v._ylength=v._zlength=f),f){o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),o("mode"),l.hasLines(i)&&(o("connectgaps"),b(t,i,r,n,o)),l.hasMarkers(i)&&T(t,i,r,n,o,{noSelect:!0,noAngle:!0}),l.hasText(i)&&(o("texttemplate"),d(t,i,n,o,{noSelect:!0}));var u=(i.line||{}).color,p=(i.marker||{}).color;o("surfaceaxis")>=0&&o("surfacecolor",u||p);for(var c=["x","y","z"],x=0;x<3;++x){var g="projection."+c[x];o(g+".show")&&(o(g+".opacity"),o(g+".scale"))}var h=A.getComponentMethod("errorbars","supplyDefaults");h(t,i,u||p||r,{axis:"z"}),h(t,i,u||p||r,{axis:"y",inherit:"z"}),h(t,i,u||p||r,{axis:"x",inherit:"z"})}else i.visible=!1}},13551:function(ee,D,e){"use strict";ee.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(ee,D,e){"use strict";var A=e(82196),k=e(9012),l=e(5386).fF,T=e(5386).si,b=e(50693),d=e(1426).extendFlat,a=A.marker,t=A.line,i=a.line;ee.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:d({},A.mode,{dflt:"markers"}),text:d({},A.text,{}),texttemplate:T({editType:"plot"},{keys:["a","b","text"]}),hovertext:d({},A.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:d({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:A.connectgaps,fill:d({},A.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:A.fillcolor,marker:d({symbol:a.symbol,opacity:a.opacity,maxdisplayed:a.maxdisplayed,angle:a.angle,angleref:a.angleref,standoff:a.standoff,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,line:d({width:i.width,editType:"calc"},b("marker.line")),gradient:a.gradient,editType:"calc"},b("marker")),textfont:A.textfont,textposition:A.textposition,selected:A.selected,unselected:A.unselected,hoverinfo:d({},k.hoverinfo,{flags:["a","b","text","name"]}),hoveron:A.hoveron,hovertemplate:l()}},34618:function(ee,D,e){"use strict";var A=e(92770),k=e(36922),l=e(75225),T=e(66279),b=e(47761).calcMarkerSize,d=e(22882);ee.exports=function(a,t){var i=t._carpetTrace=d(a,t);if(i&&i.visible&&"legendonly"!==i.visible){var r;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var n,o,s=t._length,u=new Array(s),p=!1;for(r=0;r<s;r++)if(o=t.b[r],A(n=t.a[r])&&A(o)){var c=i.ab2xy(+n,+o,!0),x=i.isVisible(+n,+o);x||(p=!0),u[r]={x:c[0],y:c[1],a:n,b:o,vis:x}}else u[r]={x:!1,y:!1};return t._needsCull=p,u[0].carpet=i,u[0].trace=t,b(t,s),k(a,t),l(u,t),T(u,t),u}}},98965:function(ee,D,e){"use strict";var A=e(71828),k=e(47581),l=e(34098),T=e(49508),b=e(11058),d=e(94039),a=e(82410),t=e(28908),i=e(97001);ee.exports=function(r,n,o,s){function u(h,y){return A.coerce(r,n,i,h,y)}u("carpet"),n.xaxis="x",n.yaxis="y";var p=u("a"),c=u("b"),x=Math.min(p.length,c.length);if(x){n._length=x,u("text"),u("texttemplate"),u("hovertext"),u("mode",x<k.PTS_LINESONLY?"lines+markers":"lines"),l.hasLines(n)&&(b(r,n,o,s,u,{backoff:!0}),d(r,n,u),u("connectgaps")),l.hasMarkers(n)&&T(r,n,o,s,u,{gradient:!0}),l.hasText(n)&&a(r,n,s,u);var g=[];(l.hasMarkers(n)||l.hasText(n))&&(u("marker.maxdisplayed"),g.push("points")),u("fill"),"none"!==n.fill&&(t(r,n,o,u),l.hasLines(n)||d(r,n,u)),"tonext"!==n.fill&&"toself"!==n.fill||g.push("fills"),"fills"!==u("hoveron",g.join("+")||"points")&&u("hovertemplate"),A.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},16165:function(ee){"use strict";ee.exports=function(D,e,A,k,l){var T=k[l];return D.a=T.a,D.b=T.b,D.y=T.y,D}},48953:function(ee){"use strict";ee.exports=function(D,e){var A={},k=e._carpet,l=k.ab2ij([D.a,D.b]),T=Math.floor(l[0]),b=l[0]-T,d=Math.floor(l[1]),t=k.evalxy([],T,d,b,l[1]-d);return A.yLabel=t[1].toFixed(3),A}},22931:function(ee,D,e){"use strict";var A=e(33720),k=e(71828).fillText;ee.exports=function(l,T,b,d){var a=A(l,T,b,d);if(a&&!1!==a[0].index){var t=a[0];if(void 0===t.index){var r=l.xa._length,n=r*(1-t.y0/l.ya._length)/2,o=r-n;return t.x0=Math.max(Math.min(t.x0,o),n),t.x1=Math.max(Math.min(t.x1,o),n),a}var s=t.cd[t.index];t.a=s.a,t.b=s.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var u=t.trace,p=u._carpet,c=u._module.formatLabels(s,u);t.yLabel=c.yLabel,delete t.text;var x=[];if(!u.hovertemplate){var g=(s.hi||u.hoverinfo).split("+");-1!==g.indexOf("all")&&(g=["a","b","text"]),-1!==g.indexOf("a")&&h(p.aaxis,s.a),-1!==g.indexOf("b")&&h(p.baxis,s.b),x.push("y: "+t.yLabel),-1!==g.indexOf("text")&&k(s,u,x),t.extraText=x.join("<br>")}return a}function h(y,v){var m;m=y.labelprefix&&y.labelprefix.length>0?y.labelprefix.replace(/ = $/,""):y._hovertitle,x.push(m+": "+v.toFixed(3)+y.labelsuffix)}}},46858:function(ee,D,e){"use strict";ee.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(ee,D,e){"use strict";var A=e(32663),k=e(89298),l=e(91424);ee.exports=function(T,b,d,a){var t,i,r,n=d[0][0].carpet,o=k.getFromId(T,n.xaxis||"x"),s=k.getFromId(T,n.yaxis||"y"),u={xaxis:o,yaxis:s,plot:b.plot};for(t=0;t<d.length;t++)(i=d[t][0].trace)._xA=o,i._yA=s;for(A(T,u,d,a),t=0;t<d.length;t++)r=a.selectAll("g.trace"+(i=d[t][0].trace).uid+" .js-line"),l.setClipUrl(r,d[t][0].carpet._clipPathId,T)}},19316:function(ee,D,e){"use strict";var A=e(5386).fF,k=e(5386).si,l=e(82196),T=e(9012),b=e(50693),d=e(79952).P,a=e(1426).extendFlat,t=e(30962).overrideAll,i=l.marker,r=l.line,n=i.line;ee.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:a({},l.mode,{dflt:"markers"}),text:a({},l.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:a({},l.hovertext,{}),textfont:l.textfont,textposition:l.textposition,line:{color:r.color,width:r.width,dash:d},connectgaps:l.connectgaps,marker:a({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:a({},i.angleref,{values:["previous","up","north"]}),standoff:i.standoff,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,colorbar:i.colorbar,line:a({width:n.width},b("marker.line")),gradient:i.gradient},b("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:l.fillcolor,selected:l.selected,unselected:l.unselected,hoverinfo:a({},T.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:A()},"calc","nested")},84622:function(ee,D,e){"use strict";var A=e(92770),k=e(50606).BADNUM,l=e(36922),T=e(75225),b=e(66279),d=e(71828)._;function a(t){return t&&"string"==typeof t}ee.exports=function(t,i){var r,n=Array.isArray(i.locations),o=n?i.locations.length:i._length,s=new Array(o);r=i.geojson?function(h){return a(h)||A(h)}:a;for(var u=0;u<o;u++){var p=s[u]={};if(n){var c=i.locations[u];p.loc=r(c)?c:null}else{var x=i.lon[u],g=i.lat[u];p.lonlat=A(x)&&A(g)?[+x,+g]:[k,k]}}return T(s,i),l(t,i),b(s,i),o&&(s[0].t={labels:{lat:d(t,"lat:")+" ",lon:d(t,"lon:")+" "}}),s}},10659:function(ee,D,e){"use strict";var A=e(71828),k=e(34098),l=e(49508),T=e(11058),b=e(82410),d=e(28908),a=e(19316);ee.exports=function(t,i,r,n){function o(h,y){return A.coerce(t,i,a,h,y)}var s,u=o("locations");if(u&&u.length){var p,c=o("geojson");("string"==typeof c&&""!==c||A.isPlainObject(c))&&(p="geojson-id"),"geojson-id"===o("locationmode",p)&&o("featureidkey"),s=u.length}else{var x=o("lon")||[],g=o("lat")||[];s=Math.min(x.length,g.length)}s?(i._length=s,o("text"),o("hovertext"),o("hovertemplate"),o("mode"),k.hasLines(i)&&(T(t,i,r,n,o),o("connectgaps")),k.hasMarkers(i)&&l(t,i,r,n,o,{gradient:!0}),k.hasText(i)&&(o("texttemplate"),b(t,i,n,o)),o("fill"),"none"!==i.fill&&d(t,i,r,o),A.coerceSelectionMarkerOpacity(i,o)):i.visible=!1}},84084:function(ee){"use strict";ee.exports=function(D,e,A,k,l){D.lon=e.lon,D.lat=e.lat,D.location=e.loc?e.loc:null;var T=k[l];return T.fIn&&T.fIn.properties&&(D.properties=T.fIn.properties),D}},82719:function(ee,D,e){"use strict";var A=e(89298);ee.exports=function(k,l,T){var b={},d=T[l.geo]._subplot.mockAxis,a=k.lonlat;return b.lonLabel=A.tickText(d,d.c2l(a[0]),!0).text,b.latLabel=A.tickText(d,d.c2l(a[1]),!0).text,b}},14977:function(ee,D,e){"use strict";var A=e(30211),k=e(50606).BADNUM,l=e(34603),T=e(71828).fillText,b=e(19316);ee.exports=function(d,a,t){var i=d.cd,r=i[0].trace,n=d.xa,o=d.ya,s=d.subplot,u=s.projection.isLonLatOverEdges,p=s.project;if(A.getClosest(i,function(m){var _=m.lonlat;if(_[0]===k||u(_))return 1/0;var f=p(_),S=p([a,t]),w=Math.abs(f[0]-S[0]),E=Math.abs(f[1]-S[1]),L=Math.max(3,m.mrc||0);return Math.max(Math.sqrt(w*w+E*E)-L,1-3/L)},d),!1!==d.index){var c=i[d.index],x=c.lonlat,g=[n.c2p(x),o.c2p(x)],h=c.mrc||1;d.x0=g[0]-h,d.x1=g[0]+h,d.y0=g[1]-h,d.y1=g[1]+h,d.loc=c.loc,d.lon=x[0],d.lat=x[1];var y={};y[r.geo]={_subplot:s};var v=r._module.formatLabels(c,r,y);return d.lonLabel=v.lonLabel,d.latLabel=v.latLabel,d.color=l(r,c),d.extraText=function(m,_,f,S){if(!m.hovertemplate){var w=_.hi||m.hoverinfo,E="all"===w?b.hoverinfo.flags:w.split("+"),L=-1!==E.indexOf("location")&&Array.isArray(m.locations),C=-1!==E.indexOf("lon"),O=-1!==E.indexOf("lat"),R=-1!==E.indexOf("text"),q=[];return L?q.push(_.loc):C&&O?q.push("("+P(f.latLabel)+", "+P(f.lonLabel)+")"):C?q.push(S.lon+P(f.lonLabel)):O&&q.push(S.lat+P(f.latLabel)),R&&T(_,m,q),q.join("<br>")}function P(U){return U+"\xb0"}}(r,c,d,i[0].t.labels),d.hovertemplate=r.hovertemplate,[d]}}},17988:function(ee,D,e){"use strict";ee.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(90973).getTopojsonFeatures,T=e(18214),b=e(41327),d=e(71739).findExtremes,a=e(50606).BADNUM,t=e(47761).calcMarkerSize,i=e(34098),r=e(33095);ee.exports={calcGeoJSON:function(n,o){var s,u,p=n[0].trace,c=o[p.geo],x=c._subplot,g=p._length;if(Array.isArray(p.locations)){var h=p.locationmode,y="geojson-id"===h?b.extractTraceFeature(n):l(p,x.topojson);for(s=0;s<g;s++){u=n[s];var v="geojson-id"===h?u.fOut:b.locationToFeature(h,u.loc,y);u.lonlat=v?v.properties.ct:[a,a]}}var m,_,f={padded:!0};if("geojson"===c.fitbounds&&"geojson-id"===p.locationmode){var S=b.computeBbox(b.getTraceGeojson(p));m=[S[0],S[2]],_=[S[1],S[3]]}else{for(m=new Array(g),_=new Array(g),s=0;s<g;s++)m[s]=(u=n[s]).lonlat[0],_[s]=u.lonlat[1];f.ppad=t(p,g)}p._extremes.lon=d(c.lonaxis._ax,m,f),p._extremes.lat=d(c.lataxis._ax,_,f)},plot:function(n,o,s){var u=o.layers.frontplot.select(".scatterlayer"),p=k.makeTraceGroups(u,s,"trace scattergeo");function c(x,g){x.lonlat[0]===a&&A.select(g).remove()}p.selectAll("*").remove(),p.each(function(x){var g=A.select(this),h=x[0].trace;if(i.hasLines(h)||"none"!==h.fill){var y=T.calcTraceToLineCoords(x),v="none"!==h.fill?T.makePolygon(y):T.makeLine(y);g.selectAll("path.js-line").data([{geojson:v,trace:h}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}i.hasMarkers(h)&&g.selectAll("path.point").data(k.identity).enter().append("path").classed("point",!0).each(function(m){c(m,this)}),i.hasText(h)&&g.selectAll("g").data(k.identity).enter().append("g").append("text").each(function(m){c(m,this)}),r(n,x)})}}},20548:function(ee,D,e){"use strict";var A=e(34098),k=e(50606).BADNUM;ee.exports=function(l,T){var b,d,a,t,i,r=l.cd,n=l.xaxis,o=l.yaxis,s=[],u=r[0].trace;if(!A.hasMarkers(u)&&!A.hasText(u))return[];if(!1===T)for(i=0;i<r.length;i++)r[i].selected=0;else for(i=0;i<r.length;i++)(d=(b=r[i]).lonlat)[0]!==k&&(a=n.c2p(d),t=o.c2p(d),T.contains([a,t],null,i,l)?(s.push({pointNumber:i,lon:d[0],lat:d[1]}),b.selected=1):b.selected=0);return s}},33095:function(ee,D,e){"use strict";var A=e(39898),k=e(91424),l=e(7901),T=e(16296),b=T.stylePoints,d=T.styleText;ee.exports=function(a,t){var i,r,n,o;t&&(i=a,n=(r=t)[0].trace,(o=r[0].node3).style("opacity",r[0].trace.opacity),b(o,n,i),d(o,n,i),o.selectAll("path.js-line").style("fill","none").each(function(s){var u=A.select(this),p=s.trace,c=p.line||{};u.call(l.stroke,c.color).call(k.dashLine,c.dash||"",c.width||0),"none"!==p.fill&&u.call(l.fill,p.fillcolor)}))}},42341:function(ee,D,e){"use strict";var A=e(9012),k=e(82196),l=e(12663).axisHoverFormat,T=e(50693),b=e(78607),d=e(1426).extendFlat,a=e(30962).overrideAll,t=e(78232).DASHES,i=k.line,r=k.marker,n=r.line,o=ee.exports=a({x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:l("x"),yhoverformat:l("y"),text:k.text,hovertext:k.hovertext,textposition:k.textposition,textfont:k.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:i.color,width:i.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:b(t),dflt:"solid"}},marker:d({},T("marker"),{symbol:r.symbol,angle:r.angle,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:d({},T("marker.line"),{width:n.width})}),connectgaps:k.connectgaps,fill:d({},k.fill,{dflt:"none"}),fillcolor:k.fillcolor,selected:{marker:k.selected.marker,textfont:k.selected.textfont},unselected:{marker:k.unselected.marker,textfont:k.unselected.textfont},opacity:A.opacity},"calc","nested");o.x.editType=o.y.editType=o.x0.editType=o.y0.editType="calc+clearAxisTypes",o.hovertemplate=k.hovertemplate,o.texttemplate=k.texttemplate},72156:function(ee,D,e){"use strict";var A=e(20794);ee.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:A.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(ee,D,e){"use strict";var A=e(88294),k=e(71828),l=e(41675),T=e(71739).findExtremes,b=e(42973),d=e(47761),a=d.calcMarkerSize,t=d.calcAxisExpansion,i=d.setFirstScatter,r=e(36922),n=e(19635),o=e(38967),s=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;function p(c,x,g){var h=c._extremes[x._id],y=T(x,g._bnds,{padded:!0});h.min=h.min.concat(y.min),h.max=h.max.concat(y.max)}ee.exports=function(c,x){var g,h=c._fullLayout,y=x._xA=l.getFromId(c,x.xaxis,"x"),v=x._yA=l.getFromId(c,x.yaxis,"y"),m=h._plots[x.xaxis+x.yaxis],_=x._length,f=_>=u,S=2*_,w={},E=y.makeCalcdata(x,"x"),L=v.makeCalcdata(x,"y"),C=b(x,y,"x",E),O=b(x,v,"y",L),R=C.vals,q=O.vals;x._x=R,x._y=q,x.xperiodalignment&&(x._origX=E,x._xStarts=C.starts,x._xEnds=C.ends),x.yperiodalignment&&(x._origY=L,x._yStarts=O.starts,x._yEnds=O.ends);var P=new Array(S),U=new Array(_);for(g=0;g<_;g++)P[2*g]=R[g]===s?NaN:R[g],P[2*g+1]=q[g]===s?NaN:q[g],U[g]=g;if("log"===y.type)for(g=0;g<S;g+=2)P[g]=y.c2l(P[g]);if("log"===v.type)for(g=1;g<S;g+=2)P[g]=v.c2l(P[g]);f&&"log"!==y.type&&"log"!==v.type?w.tree=A(P):w.ids=U,r(c,x);var N,F=function(G,te,J,X,Y,W){var $=n.style(G,J);if($.marker&&($.marker.positions=X),$.line&&X.length>1&&k.extendFlat($.line,n.linePositions(G,J,X)),$.errorX||$.errorY){var ne=n.errorBarPositions(G,J,X,Y,W);$.errorX&&k.extendFlat($.errorX,ne.x),$.errorY&&k.extendFlat($.errorY,ne.y)}return $.text&&(k.extendFlat($.text,{positions:X},n.textPosition(G,J,$.text,$.marker)),k.extendFlat($.textSel,{positions:X},n.textPosition(G,J,$.text,$.markerSel)),k.extendFlat($.textUnsel,{positions:X},n.textPosition(G,J,$.text,$.markerUnsel))),$}(c,0,x,P,R,q),j=o(c,m);return i(h,x),f?F.marker&&(N=F.marker.sizeAvg||Math.max(F.marker.size,3)):N=a(x,_),t(c,x,y,v,R,q,N),F.errorX&&p(x,y,F.errorX),F.errorY&&p(x,v,F.errorY),F.fill&&!j.fill2d&&(j.fill2d=!0),F.marker&&!j.scatter2d&&(j.scatter2d=!0),F.line&&!j.line2d&&(j.line2d=!0),!F.errorX&&!F.errorY||j.error2d||(j.error2d=!0),F.text&&!j.glText&&(j.glText=!0),F.marker&&(F.marker.snap=_),j.lineOptions.push(F.line),j.errorXOptions.push(F.errorX),j.errorYOptions.push(F.errorY),j.fillOptions.push(F.fill),j.markerOptions.push(F.marker),j.markerSelectedOptions.push(F.markerSel),j.markerUnselectedOptions.push(F.markerUnsel),j.textOptions.push(F.text),j.textSelectedOptions.push(F.textSel),j.textUnselectedOptions.push(F.textUnsel),j.selectBatch.push([]),j.unselectBatch.push([]),w._scene=j,w.index=j.count,w.x=R,w.y=q,w.positions=P,j.count++,[{x:!1,y:!1,t:w,trace:x}]}},78232:function(ee){"use strict";ee.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(ee,D,e){"use strict";var A=e(92770),k=e(82019),l=e(25075),T=e(73972),b=e(71828),d=e(91424),a=e(41675),t=e(81697).formatColor,i=e(34098),r=e(39984),n=e(68645),o=e(78232),s=e(37822).DESELECTDIM,u={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},p=e(23469).appendArrayPointValue;function c(E,L){var C,O=E._fullLayout,R=L._length,q=L.textfont,P=L.textposition,U=Array.isArray(P)?P:[P],N=q.color,F=q.size,j=q.family,G={},te=E._context.plotGlPixelRatio,J=L.texttemplate;if(J){G.text=[];var X=O._d3locale,Y=Array.isArray(J),W=Y?Math.min(J.length,R):R,$=Y?function(me){return J[me]}:function(){return J};for(C=0;C<W;C++){var ne={i:C},re=L._module.formatLabels(ne,L,O),oe={};p(oe,L,C);var ue=L._meta||{};G.text.push(b.texttemplateString($(C),re,X,oe,ne,ue))}}else G.text=Array.isArray(L.text)&&L.text.length<R?L.text.slice():L.text;if(Array.isArray(G.text))for(C=G.text.length;C<R;C++)G.text[C]="";for(G.opacity=L.opacity,G.font={},G.align=[],G.baseline=[],C=0;C<U.length;C++){var xe=U[C].split(/\s+/);switch(xe[1]){case"left":G.align.push("right");break;case"right":G.align.push("left");break;default:G.align.push(xe[1])}switch(xe[0]){case"top":G.baseline.push("bottom");break;case"bottom":G.baseline.push("top");break;default:G.baseline.push(xe[0])}}if(Array.isArray(N))for(G.color=new Array(R),C=0;C<R;C++)G.color[C]=N[C];else G.color=N;if(b.isArrayOrTypedArray(F)||Array.isArray(j))for(G.font=new Array(R),C=0;C<R;C++){var Me=G.font[C]={};Me.size=(b.isTypedArray(F)?F[C]:Array.isArray(F)?A(F[C])?F[C]:0:F)*te,Me.family=Array.isArray(j)?j[C]:j}else G.font={size:F*te,family:j};return G}function x(E,L){var C,O,R=L._length,q=L.marker,P={},U=b.isArrayOrTypedArray(q.symbol),N=b.isArrayOrTypedArray(q.angle),F=b.isArrayOrTypedArray(q.color),j=b.isArrayOrTypedArray(q.line.color),G=b.isArrayOrTypedArray(q.opacity),te=b.isArrayOrTypedArray(q.size),J=b.isArrayOrTypedArray(q.line.width);if(U||(O=n.isOpenSymbol(q.symbol)),U||F||j||G||N){P.symbols=new Array(R),P.angles=new Array(R),P.colors=new Array(R),P.borderColors=new Array(R);var X=q.symbol,Y=q.angle,W=t(q,q.opacity,R),$=t(q.line,q.opacity,R);if(!Array.isArray($[0])){var ne=$;for($=Array(R),C=0;C<R;C++)$[C]=ne}if(!Array.isArray(W[0])){var re=W;for(W=Array(R),C=0;C<R;C++)W[C]=re}if(!Array.isArray(X)){var oe=X;for(X=Array(R),C=0;C<R;C++)X[C]=oe}if(!Array.isArray(Y)){var ue=Y;for(Y=Array(R),C=0;C<R;C++)Y[C]=ue}for(P.symbols=X,P.angles=Y,P.colors=W,P.borderColors=$,C=0;C<R;C++)U&&(O=n.isOpenSymbol(q.symbol[C])),O&&($[C]=W[C].slice(),W[C]=W[C].slice(),W[C][3]=0);for(P.opacity=L.opacity,P.markers=new Array(R),C=0;C<R;C++)P.markers[C]=w({mx:P.symbols[C],ma:P.angles[C]},L)}else O?(P.color=l(q.color,"uint8"),P.color[3]=0,P.borderColor=l(q.color,"uint8")):(P.color=l(q.color,"uint8"),P.borderColor=l(q.line.color,"uint8")),P.opacity=L.opacity*q.opacity,P.marker=w({mx:q.symbol,ma:q.angle},L);var xe,Me=r(L,1);if(te||J){var me,pe=P.sizes=new Array(R),ge=P.borderSizes=new Array(R),Pe=0;if(te){for(C=0;C<R;C++)pe[C]=Me(q.size[C]),Pe+=pe[C];me=Pe/R}else for(xe=Me(q.size),C=0;C<R;C++)pe[C]=xe;if(J)for(C=0;C<R;C++)ge[C]=q.line.width[C];else for(xe=q.line.width,C=0;C<R;C++)ge[C]=xe;P.sizeAvg=me}else P.size=Me(q&&q.size||10),P.borderSizes=Me(q.line.width);return P}function g(E,L,C){var R={};return C&&(C.marker&&C.marker.symbol?R=x(0,b.extendFlat({},L.marker,C.marker)):C.marker&&(C.marker.size&&(R.size=C.marker.size),C.marker.color&&(R.colors=C.marker.color),void 0!==C.marker.opacity&&(R.opacity=C.marker.opacity))),R}function h(E,L,C){var O={};if(!C)return O;if(C.textfont){var R={opacity:1,text:L.text,texttemplate:L.texttemplate,textposition:L.textposition,textfont:b.extendFlat({},L.textfont)};C.textfont&&b.extendFlat(R.textfont,C.textfont),O=c(E,R)}return O}function y(E,L,C){var O={capSize:2*L.width*C,lineWidth:L.thickness*C,color:L.color};return L.copy_ystyle&&(O=E.error_y),O}var v=o.SYMBOL_SDF_SIZE,m=o.SYMBOL_SIZE,_=o.SYMBOL_STROKE,f={},S=d.symbolFuncs[0](.05*m);function w(E,L){var C,O,R=E.mx;if("circle"===R)return null;var q=d.symbolNumber(R),P=d.symbolFuncs[q%100],U=!!d.symbolNoDot[q%100],N=!!d.symbolNoFill[q%100],F=n.isDotSymbol(R);if(E.ma&&(R+="_"+E.ma),f[R])return f[R];var j=d.getMarkerAngle(E,L);return C=F&&!U?P(1.1*m,j)+S:P(m,j),O=k(C,{w:v,h:v,viewBox:[-m,-m,m,m],stroke:N?_:-_}),f[R]=O,O||null}ee.exports={style:function(E,L){var C,O={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},R=E._context.plotGlPixelRatio;if(!0!==L.visible)return O;if(i.hasText(L)&&(O.text=c(E,L),O.textSel=h(E,L,L.selected),O.textUnsel=h(E,L,L.unselected)),i.hasMarkers(L)&&(O.marker=x(0,L),O.markerSel=g(0,L,L.selected),O.markerUnsel=g(0,L,L.unselected),!L.unselected&&b.isArrayOrTypedArray(L.marker.opacity))){var q=L.marker.opacity;for(O.markerUnsel.opacity=new Array(q.length),C=0;C<q.length;C++)O.markerUnsel.opacity[C]=s*q[C]}if(i.hasLines(L)){O.line={overlay:!0,thickness:L.line.width*R,color:L.line.color,opacity:L.opacity};var P=(o.DASHES[L.line.dash]||[1]).slice();for(C=0;C<P.length;++C)P[C]*=L.line.width*R;O.line.dashes=P}return L.error_x&&L.error_x.visible&&(O.errorX=y(L,L.error_x,R)),L.error_y&&L.error_y.visible&&(O.errorY=y(L,L.error_y,R)),L.fill&&"none"!==L.fill&&(O.fill={closed:!0,fill:L.fillcolor,thickness:0}),O},markerStyle:x,markerSelection:g,linePositions:function(E,L,C){var O,R,q=C.length,P=q/2;if(i.hasLines(L)&&P)if("hv"===L.line.shape){for(O=[],R=0;R<P-1;R++)isNaN(C[2*R])||isNaN(C[2*R+1])?O.push(NaN,NaN,NaN,NaN):(O.push(C[2*R],C[2*R+1]),isNaN(C[2*R+2])||isNaN(C[2*R+3])?O.push(NaN,NaN):O.push(C[2*R+2],C[2*R+1]));O.push(C[q-2],C[q-1])}else if("hvh"===L.line.shape){for(O=[],R=0;R<P-1;R++)if(isNaN(C[2*R])||isNaN(C[2*R+1])||isNaN(C[2*R+2])||isNaN(C[2*R+3]))isNaN(C[2*R])||isNaN(C[2*R+1])?O.push(NaN,NaN):O.push(C[2*R],C[2*R+1]),O.push(NaN,NaN);else{var U=(C[2*R]+C[2*R+2])/2;O.push(C[2*R],C[2*R+1],U,C[2*R+1],U,C[2*R+3])}O.push(C[q-2],C[q-1])}else if("vhv"===L.line.shape){for(O=[],R=0;R<P-1;R++)if(isNaN(C[2*R])||isNaN(C[2*R+1])||isNaN(C[2*R+2])||isNaN(C[2*R+3]))isNaN(C[2*R])||isNaN(C[2*R+1])?O.push(NaN,NaN):O.push(C[2*R],C[2*R+1]),O.push(NaN,NaN);else{var N=(C[2*R+1]+C[2*R+3])/2;O.push(C[2*R],C[2*R+1],C[2*R],N,C[2*R+2],N)}O.push(C[q-2],C[q-1])}else if("vh"===L.line.shape){for(O=[],R=0;R<P-1;R++)isNaN(C[2*R])||isNaN(C[2*R+1])?O.push(NaN,NaN,NaN,NaN):(O.push(C[2*R],C[2*R+1]),isNaN(C[2*R+2])||isNaN(C[2*R+3])?O.push(NaN,NaN):O.push(C[2*R],C[2*R+3]));O.push(C[q-2],C[q-1])}else O=C;var F=!1;for(R=0;R<O.length;R++)if(isNaN(O[R])){F=!0;break}var j=F||O.length>o.TOO_MANY_POINTS||i.hasMarkers(L)?"rect":"round";if(F&&L.connectgaps){var G=O[0],te=O[1];for(R=0;R<O.length;R+=2)isNaN(O[R])||isNaN(O[R+1])?(O[R]=G,O[R+1]=te):(G=O[R],te=O[R+1])}return{join:j,positions:O}},errorBarPositions:function(E,L,C,O,R){var q=T.getComponentMethod("errorbars","makeComputeError"),P=a.getFromId(E,L.xaxis,"x"),U=a.getFromId(E,L.yaxis,"y"),N=C.length/2,F={};function j(G,te){var J=te._id.charAt(0),X=L["error_"+J];if(X&&X.visible&&("linear"===te.type||"log"===te.type)){for(var Y=q(X),W={x:0,y:1}[J],$={x:[0,1,2,3],y:[2,3,0,1]}[J],ne=new Float64Array(4*N),re=1/0,oe=-1/0,ue=0,xe=0;ue<N;ue++,xe+=4){var Me=G[ue];if(A(Me)){var me=C[2*ue+W],pe=Y(Me,ue),ge=pe[0],Pe=pe[1];if(A(ge)&&A(Pe)){var we=Me+Pe;ne[xe+$[0]]=me-te.c2l(Me-ge),ne[xe+$[1]]=te.c2l(we)-me,ne[xe+$[2]]=0,ne[xe+$[3]]=0,re=Math.min(re,Me-ge),oe=Math.max(oe,Me+Pe)}}}F[J]={positions:C,errors:ne,_bnds:[re,oe]}}}return j(O,P),j(R,U),F},textPosition:function(E,L,C,O){var R,q=L._length,P={};if(i.hasMarkers(L)){var U=C.font,N=C.align,F=C.baseline;for(P.offset=new Array(q),R=0;R<q;R++){var j=O.sizes?O.sizes[R]:O.size,G=Array.isArray(U)?U[R].size:U.size,te=Array.isArray(N)?N.length>1?N[R]:N[0]:N,J=Array.isArray(F)?F.length>1?F[R]:F[0]:F,Y=u[J],W=j?j/.8+1:0;P.offset[R]=[u[te]*W/G,(-Y*W-.5*Y)/G]}}return P}}},47148:function(ee,D,e){"use strict";var A=e(71828),k=e(73972),l=e(68645),T=e(42341),b=e(47581),d=e(34098),a=e(67513),t=e(73927),i=e(49508),r=e(11058),n=e(28908),o=e(82410);ee.exports=function(s,u,p,c){function x(S,w){return A.coerce(s,u,T,S,w)}var g=!!s.marker&&l.isOpenSymbol(s.marker.symbol),h=d.isBubble(s),y=a(s,u,c,x);if(y){t(s,u,c,x),x("xhoverformat"),x("yhoverformat");var v=y<b.PTS_LINESONLY?"lines+markers":"lines";x("text"),x("hovertext"),x("hovertemplate"),x("mode",v),d.hasLines(u)&&(x("connectgaps"),r(s,u,p,c,x),x("line.shape")),d.hasMarkers(u)&&(i(s,u,p,c,x,{noAngleRef:!0,noStandOff:!0}),x("marker.line.width",g||h?1:0)),d.hasText(u)&&(x("texttemplate"),o(s,u,c,x));var m=(u.line||{}).color,_=(u.marker||{}).color;x("fill"),"none"!==u.fill&&n(s,u,p,x);var f=k.getComponentMethod("errorbars","supplyDefaults");f(s,u,m||_||p,{axis:"y"}),f(s,u,m||_||p,{axis:"x",inherit:"y"}),A.coerceSelectionMarkerOpacity(u,x)}else u.visible=!1}},5345:function(ee,D,e){"use strict";var A=e(71828),k=e(7901),l=e(37822).DESELECTDIM;ee.exports={styleTextSelection:function(T){var b,d,a=T[0],t=a.trace,i=a.t,r=i._scene,n=i.index,o=r.selectBatch[n],s=r.unselectBatch[n],u=r.textOptions[n],p=r.textSelectedOptions[n]||{},c=r.textUnselectedOptions[n]||{},x=A.extendFlat({},u);if(o.length||s.length){var g=p.color,h=c.color,y=u.color,v=Array.isArray(y);for(x.color=new Array(t._length),b=0;b<o.length;b++)x.color[d=o[b]]=g||(v?y[d]:y);for(b=0;b<s.length;b++){d=s[b];var m=v?y[d]:y;x.color[d]=h||(g?m:k.addOpacity(m,l))}}r.glText[n].update(x)}}},68101:function(ee,D,e){"use strict";var A=e(8225);ee.exports=function(k,l,T){var b=k.i;return"x"in k||(k.x=l._x[b]),"y"in k||(k.y=l._y[b]),A(k,l,T)}},68645:function(ee,D,e){"use strict";var A=e(78232);D.isOpenSymbol=function(k){return"string"==typeof k?A.OPEN_RE.test(k):k%200>100},D.isDotSymbol=function(k){return"string"==typeof k?A.DOT_RE.test(k):k>200}},20794:function(ee,D,e){"use strict";var A=e(73972),k=e(71828),l=e(34603);function T(b,d,a,t){var i=b.xa,r=b.ya,n=b.distance,o=b.dxy,s=b.index,u={pointNumber:s,x:d[s],y:a[s]};u.tx=Array.isArray(t.text)?t.text[s]:t.text,u.htx=Array.isArray(t.hovertext)?t.hovertext[s]:t.hovertext,u.data=Array.isArray(t.customdata)?t.customdata[s]:t.customdata,u.tp=Array.isArray(t.textposition)?t.textposition[s]:t.textposition;var p=t.textfont;p&&(u.ts=k.isArrayOrTypedArray(p.size)?p.size[s]:p.size,u.tc=Array.isArray(p.color)?p.color[s]:p.color,u.tf=Array.isArray(p.family)?p.family[s]:p.family);var c=t.marker;c&&(u.ms=k.isArrayOrTypedArray(c.size)?c.size[s]:c.size,u.mo=k.isArrayOrTypedArray(c.opacity)?c.opacity[s]:c.opacity,u.mx=k.isArrayOrTypedArray(c.symbol)?c.symbol[s]:c.symbol,u.ma=k.isArrayOrTypedArray(c.angle)?c.angle[s]:c.angle,u.mc=k.isArrayOrTypedArray(c.color)?c.color[s]:c.color);var x=c&&c.line;x&&(u.mlc=Array.isArray(x.color)?x.color[s]:x.color,u.mlw=k.isArrayOrTypedArray(x.width)?x.width[s]:x.width);var g=c&&c.gradient;g&&"none"!==g.type&&(u.mgt=Array.isArray(g.type)?g.type[s]:g.type,u.mgc=Array.isArray(g.color)?g.color[s]:g.color);var h=i.c2p(u.x,!0),y=r.c2p(u.y,!0),v=u.mrc||1,m=t.hoverlabel;m&&(u.hbg=Array.isArray(m.bgcolor)?m.bgcolor[s]:m.bgcolor,u.hbc=Array.isArray(m.bordercolor)?m.bordercolor[s]:m.bordercolor,u.hts=k.isArrayOrTypedArray(m.font.size)?m.font.size[s]:m.font.size,u.htc=Array.isArray(m.font.color)?m.font.color[s]:m.font.color,u.htf=Array.isArray(m.font.family)?m.font.family[s]:m.font.family,u.hnl=k.isArrayOrTypedArray(m.namelength)?m.namelength[s]:m.namelength);var _=t.hoverinfo;_&&(u.hi=Array.isArray(_)?_[s]:_);var f=t.hovertemplate;f&&(u.ht=Array.isArray(f)?f[s]:f);var S={};S[b.index]=u;var w=t._origX,E=t._origY,L=k.extendFlat({},b,{color:l(t,u),x0:h-v,x1:h+v,xLabelVal:w?w[s]:u.x,y0:y-v,y1:y+v,yLabelVal:E?E[s]:u.y,cd:S,distance:n,spikeDistance:o,hovertemplate:u.ht});return u.htx?L.text=u.htx:u.tx?L.text=u.tx:t.text&&(L.text=t.text),k.fillText(u,t,L),A.getComponentMethod("errorbars","hoverInfo")(u,t,L),L}ee.exports={hoverPoints:function(b,d,a,t){var i,r,n,o,s,u,p,c,x,g,h=b.cd,y=h[0].t,v=h[0].trace,m=b.xa,_=b.ya,f=y.x,S=y.y,w=m.c2p(d),E=_.c2p(a),L=b.distance;if(y.tree){var C=m.p2c(w-L),O=m.p2c(w+L),R=_.p2c(E-L),q=_.p2c(E+L);i="x"===t?y.tree.range(Math.min(C,O),Math.min(_._rl[0],_._rl[1]),Math.max(C,O),Math.max(_._rl[0],_._rl[1])):y.tree.range(Math.min(C,O),Math.min(R,q),Math.max(C,O),Math.max(R,q))}else i=y.ids;var P=L;if("x"===t){var U=!!v.xperiodalignment,N=!!v.yperiodalignment;for(u=0;u<i.length;u++){if(o=f[r=i[u]],p=Math.abs(m.c2p(o)-w),U){var F=m.c2p(v._xStarts[r]),j=m.c2p(v._xEnds[r]);p=w>=Math.min(F,j)&&w<=Math.max(F,j)?0:1/0}if(p<P){if(P=p,c=_.c2p(s=S[r])-E,N){var G=_.c2p(v._yStarts[r]),te=_.c2p(v._yEnds[r]);c=E>=Math.min(G,te)&&E<=Math.max(G,te)?0:1/0}g=Math.sqrt(p*p+c*c),n=i[u]}}}else for(u=i.length-1;u>-1;u--)o=f[r=i[u]],s=S[r],p=m.c2p(o)-w,c=_.c2p(s)-E,(x=Math.sqrt(p*p+c*c))<P&&(P=g=x,n=r);return b.index=n,b.distance=P,b.dxy=g,void 0===n?[b]:[T(b,f,S,v)]},calcHover:T}},68868:function(ee,D,e){"use strict";var A=e(72156);A.plot=e(26787),ee.exports=A},26787:function(ee,D,e){"use strict";var A=e(11870),k=e(46075),l=e(3593),T=e(42505),b=e(71828),d=e(64505).selectMode,a=e(79749),t=e(34098),i=e(68687),r=e(5345).styleTextSelection,n={};function o(s,u,p,c){var x=s._size,f=x.w*c,S=x.h*c;return[x.l*c+u.domain[0]*f,x.b*c+p.domain[0]*S,s.width*c-x.r*c-(1-u.domain[1])*f,s.height*c-x.t*c-(1-p.domain[1])*S]}(ee.exports=function(s,u,p){if(p.length){var c,x,g=s._fullLayout,h=u._scene,y=u.xaxis,v=u.yaxis;if(h)if(a(s,["ANGLE_instanced_arrays","OES_element_index_uint"],n)){var m=h.count,_=g._glcanvas.data()[0].regl;if(i(s,u,p),h.dirty){if(!0===h.error2d&&(h.error2d=l(_)),!0===h.line2d&&(h.line2d=k(_)),!0===h.scatter2d&&(h.scatter2d=A(_)),!0===h.fill2d&&(h.fill2d=k(_)),!0===h.glText)for(h.glText=new Array(m),c=0;c<m;c++)h.glText[c]=new T(_);if(h.glText){if(m>h.glText.length){var f=m-h.glText.length;for(c=0;c<f;c++)h.glText.push(new T(_))}else m<h.glText.length&&h.glText.splice(m,h.glText.length-m).forEach(function(ne){ne.destroy()});for(c=0;c<m;c++)h.glText[c].update(h.textOptions[c])}if(h.line2d&&(h.line2d.update(h.lineOptions),h.lineOptions=h.lineOptions.map(function(ne){if(ne&&ne.positions){for(var re=ne.positions,oe=0;oe<re.length&&(isNaN(re[oe])||isNaN(re[oe+1]));)oe+=2;for(var ue=re.length-2;ue>oe&&(isNaN(re[ue])||isNaN(re[ue+1]));)ue-=2;ne.positions=re.slice(oe,ue+2)}return ne}),h.line2d.update(h.lineOptions)),h.error2d){var w=(h.errorXOptions||[]).concat(h.errorYOptions||[]);h.error2d.update(w)}h.scatter2d&&h.scatter2d.update(h.markerOptions),h.fillOrder=b.repeat(null,m),h.fill2d&&(h.fillOptions=h.fillOptions.map(function(ne,re){var oe=p[re];if(ne&&oe&&oe[0]&&oe[0].trace){var ue,xe,Me=oe[0],me=Me.trace,pe=Me.t,ge=h.lineOptions[re],Pe=[];me._ownfill&&Pe.push(re),me._nexttrace&&Pe.push(re+1),Pe.length&&(h.fillOrder[re]=Pe);var _e,we,se=[],ae=ge&&ge.positions||pe.positions;if("tozeroy"===me.fill){for(_e=0;_e<ae.length&&isNaN(ae[_e+1]);)_e+=2;for(we=ae.length-2;we>_e&&isNaN(ae[we+1]);)we-=2;0!==ae[_e+1]&&(se=[ae[_e],0]),se=se.concat(ae.slice(_e,we+2)),0!==ae[we+1]&&(se=se.concat([ae[we],0]))}else if("tozerox"===me.fill){for(_e=0;_e<ae.length&&isNaN(ae[_e]);)_e+=2;for(we=ae.length-2;we>_e&&isNaN(ae[we]);)we-=2;0!==ae[_e]&&(se=[0,ae[_e+1]]),se=se.concat(ae.slice(_e,we+2)),0!==ae[we]&&(se=se.concat([0,ae[we+1]]))}else if("toself"===me.fill||"tonext"===me.fill){for(se=[],ue=0,ne.splitNull=!0,xe=0;xe<ae.length;xe+=2)(isNaN(ae[xe])||isNaN(ae[xe+1]))&&((se=se.concat(ae.slice(ue,xe))).push(ae[ue],ae[ue+1]),se.push(null,null),ue=xe+2);se=se.concat(ae.slice(ue)),ue&&se.push(ae[ue],ae[ue+1])}else{var fe=me._nexttrace;if(fe){var Ee=h.lineOptions[re+1];if(Ee){var ke=Ee.positions;if("tonexty"===me.fill){for(se=ae.slice(),re=Math.floor(ke.length/2);re--;){var be=ke[2*re],Ie=ke[2*re+1];isNaN(be)||isNaN(Ie)||se.push(be,Ie)}ne.fill=fe.fillcolor}}}}if(me._prevtrace&&"tonext"===me._prevtrace.fill){var Fe=h.lineOptions[re-1].positions,ce=se.length/2,Te=[ue=ce];for(xe=0;xe<Fe.length;xe+=2)(isNaN(Fe[xe])||isNaN(Fe[xe+1]))&&(Te.push(xe/2+ce+1),ue=xe+2);se=se.concat(Fe),ne.hole=Te}return ne.fillmode=me.fill,ne.opacity=me.opacity,ne.positions=se,ne}}),h.fill2d.update(h.fillOptions))}var L=d(g.dragmode),C=g.clickmode.indexOf("select")>-1;for(c=0;c<m;c++){var O=p[c][0],R=O.trace,q=O.t,P=q.index,U=R._length,N=q.x,F=q.y;if(R.selectedpoints||L||C){if(L||(L=!0),R.selectedpoints){var j=h.selectBatch[P]=b.selIndices2selPoints(R),G={};for(x=0;x<j.length;x++)G[j[x]]=1;var te=[];for(x=0;x<U;x++)G[x]||te.push(x);h.unselectBatch[P]=te}var J=q.xpx=new Array(U),X=q.ypx=new Array(U);for(x=0;x<U;x++)J[x]=y.c2p(N[x]),X[x]=v.c2p(F[x])}else q.xpx=q.ypx=null}if(L){if(h.select2d||(h.select2d=A(g._glcanvas.data()[1].regl)),h.scatter2d){var Y=new Array(m);for(c=0;c<m;c++)Y[c]=h.selectBatch[c].length||h.unselectBatch[c].length?h.markerUnselectedOptions[c]:{};h.scatter2d.update(Y)}h.select2d&&(h.select2d.update(h.markerOptions),h.select2d.update(h.markerSelectedOptions)),h.glText&&p.forEach(function(ne){t.hasText(((ne||[])[0]||{}).trace||{})&&r(ne)})}else h.scatter2d&&h.scatter2d.update(h.markerOptions);var W={viewport:o(g,y,v,s._context.plotGlPixelRatio),range:[(y._rl||y.range)[0],(v._rl||v.range)[0],(y._rl||y.range)[1],(v._rl||v.range)[1]]},$=b.repeat(W,h.count);h.fill2d&&h.fill2d.update($),h.line2d&&h.line2d.update($),h.error2d&&h.error2d.update($.concat($)),h.scatter2d&&h.scatter2d.update($),h.select2d&&h.select2d.update($),h.glText&&h.glText.forEach(function(ne){ne.update(W)})}else h.init()}}).reglPrecompiled=n},38967:function(ee,D,e){"use strict";var A=e(71828);ee.exports=function(k,l){var T=l._scene,b={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},d={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return l._scene||((T=l._scene={}).init=function(){A.extendFlat(T,d,b)},T.init(),T.update=function(a){var t=A.repeat(a,T.count);if(T.fill2d&&T.fill2d.update(t),T.scatter2d&&T.scatter2d.update(t),T.line2d&&T.line2d.update(t),T.error2d&&T.error2d.update(t.concat(t)),T.select2d&&T.select2d.update(t),T.glText)for(var i=0;i<T.count;i++)T.glText[i].update(a)},T.draw=function(){for(var a=T.count,t=T.fill2d,i=T.error2d,r=T.line2d,n=T.scatter2d,o=T.glText,s=T.select2d,u=T.selectBatch,p=T.unselectBatch,c=0;c<a;c++){if(t&&T.fillOrder[c]&&t.draw(T.fillOrder[c]),r&&T.lineOptions[c]&&r.draw(c),i&&(T.errorXOptions[c]&&i.draw(c),T.errorYOptions[c]&&i.draw(c+a)),n&&T.markerOptions[c])if(p[c].length){var x=A.repeat([],T.count);x[c]=p[c],n.draw(x)}else u[c].length||n.draw(c);o[c]&&T.textOptions[c]&&o[c].render()}s&&s.draw(u),T.dirty=!1},T.destroy=function(){T.fill2d&&T.fill2d.destroy&&T.fill2d.destroy(),T.scatter2d&&T.scatter2d.destroy&&T.scatter2d.destroy(),T.error2d&&T.error2d.destroy&&T.error2d.destroy(),T.line2d&&T.line2d.destroy&&T.line2d.destroy(),T.select2d&&T.select2d.destroy&&T.select2d.destroy(),T.glText&&T.glText.forEach(function(a){a.destroy&&a.destroy()}),T.lineOptions=null,T.fillOptions=null,T.markerOptions=null,T.markerSelectedOptions=null,T.markerUnselectedOptions=null,T.errorXOptions=null,T.errorYOptions=null,T.textOptions=null,T.textSelectedOptions=null,T.textUnselectedOptions=null,T.selectBatch=null,T.unselectBatch=null,l._scene=null}),T.dirty||A.extendFlat(T,b),T}},58147:function(ee,D,e){"use strict";var A=e(34098),k=e(5345).styleTextSelection;ee.exports=function(l,T){var b=l.cd,d=l.xaxis,a=l.yaxis,t=[],i=b[0].trace,r=b[0].t,n=i._length,o=r.x,s=r.y,u=r._scene,p=r.index;if(!u)return t;var c=A.hasText(i),x=A.hasMarkers(i);if(!0!==i.visible||!x&&!c)return t;var h=[],y=[];if(!1!==T&&!T.degenerate)for(var v=0;v<n;v++)T.contains([r.xpx[v],r.ypx[v]],!1,v,l)?(h.push(v),t.push({pointNumber:v,x:d.c2d(o[v]),y:a.c2d(s[v])})):y.push(v);if(x){var m=u.scatter2d;if(h.length||y.length){if(!u.selectBatch[p].length&&!u.unselectBatch[p].length){var _=new Array(u.count);_[p]=u.markerUnselectedOptions[p],m.update.apply(m,_)}}else{var f=new Array(u.count);f[p]=u.markerOptions[p],m.update.apply(m,f)}}return u.selectBatch[p]=h,u.unselectBatch[p]=y,c&&k(b),t}},99181:function(ee,D,e){"use strict";var A=e(5386).fF,k=e(5386).si,l=e(19316),T=e(82196),b=e(23585),d=e(9012),a=e(50693),t=e(1426).extendFlat,i=e(30962).overrideAll,r=e(23585),n=l.line,o=l.marker;ee.exports=i({lon:l.lon,lat:l.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},r.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},o.opacity,{dflt:1})},mode:t({},T.mode,{dflt:"markers"}),text:t({},T.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},T.hovertext,{}),line:{color:n.color,width:n.width},connectgaps:T.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:o.opacity,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode},a("marker")),fill:l.fill,fillcolor:T.fillcolor,textfont:b.layers.symbol.textfont,textposition:b.layers.symbol.textposition,below:{valType:"string"},selected:{marker:T.selected.marker},unselected:{marker:T.unselected.marker},hoverinfo:t({},d.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:A()},"calc","nested")},15790:function(ee,D,e){"use strict";var A=e(92770),k=e(71828),l=e(50606).BADNUM,T=e(18214),b=e(21081),d=e(91424),a=e(39984),t=e(34098),i=e(13056),r=e(23469).appendArrayPointValue,n=e(63893).NEWLINES,o=e(63893).BR_TAG_ALL;function s(g){return{type:g,geojson:T.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(g,h){return k.isArrayOrTypedArray(g)?h?function(y){return A(g[y])?+g[y]:0}:function(y){return g[y]}:g?function(){return g}:p}function p(){return""}function c(g){return g[0]===l}function x(g,h){var y;if(k.isArrayOrTypedArray(g)&&k.isArrayOrTypedArray(h)){y=["step",["get","point_count"],g[0]];for(var v=1;v<g.length;v++)y.push(h[v-1],g[v])}else y=g;return y}ee.exports=function(g,h){var y,v=h[0].trace,m=!0===v.visible&&0!==v._length,_="none"!==v.fill,f=t.hasLines(v),S=t.hasMarkers(v),w=t.hasText(v),E=S&&"circle"===v.marker.symbol,L=S&&"circle"!==v.marker.symbol,C=v.cluster&&v.cluster.enabled,O=s("fill"),R=s("line"),q=s("circle"),P=s("symbol"),U={fill:O,line:R,circle:q,symbol:P};if(!m)return U;if((_||f)&&(y=T.calcTraceToLineCoords(h)),_&&(O.geojson=T.makePolygon(y),O.layout.visibility="visible",k.extendFlat(O.paint,{"fill-color":v.fillcolor})),f&&(R.geojson=T.makeLine(y),R.layout.visibility="visible",k.extendFlat(R.paint,{"line-width":v.line.width,"line-color":v.line.color,"line-opacity":v.opacity})),E){var N=function(G){var te,J,X,Y,W=G[0].trace,$=W.marker,ne=W.selectedpoints,re=k.isArrayOrTypedArray($.color),oe=k.isArrayOrTypedArray($.size),ue=k.isArrayOrTypedArray($.opacity);function xe(se){return W.opacity*se}re&&(J=b.hasColorscale(W,"marker")?b.makeColorScaleFuncFromTrace($):k.identity),oe&&(X=a(W)),ue&&(Y=function(se){return xe(A(se)?+k.constrain(se,0,1):0)});var Me,me,pe=[];for(te=0;te<G.length;te++){var ge=G[te],Pe=ge.lonlat;if(!c(Pe)){var _e={};J&&(_e.mcc=ge.mcc=J(ge.mc)),X&&(_e.mrc=ge.mrc=X(ge.ms)),Y&&(_e.mo=Y(ge.mo)),ne&&(_e.selected=ge.selected||0),pe.push({type:"Feature",id:te+1,geometry:{type:"Point",coordinates:Pe},properties:_e})}}if(ne)for(Me=d.makeSelectedPointStyleFns(W),te=0;te<pe.length;te++){var we=pe[te].properties;Me.selectedOpacityFn&&(we.mo=xe(Me.selectedOpacityFn(we))),Me.selectedColorFn&&(we.mcc=Me.selectedColorFn(we)),Me.selectedSizeFn&&(we.mrc=Me.selectedSizeFn(we))}return{geojson:{type:"FeatureCollection",features:pe},mcc:re||Me&&Me.selectedColorFn?{type:"identity",property:"mcc"}:$.color,mrc:oe||Me&&Me.selectedSizeFn?{type:"identity",property:"mrc"}:(me=$.size,me/2),mo:ue||Me&&Me.selectedOpacityFn?{type:"identity",property:"mo"}:xe($.opacity)}}(h);q.geojson=N.geojson,q.layout.visibility="visible",C&&(q.filter=["!",["has","point_count"]],U.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":x(v.cluster.color,v.cluster.step),"circle-radius":x(v.cluster.size,v.cluster.step),"circle-opacity":x(v.cluster.opacity,v.cluster.step)}},U.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),k.extendFlat(q.paint,{"circle-color":N.mcc,"circle-radius":N.mrc,"circle-opacity":N.mo})}if(E&&C&&(q.filter=["!",["has","point_count"]]),(L||w)&&(P.geojson=function(G,te){for(var J=te._fullLayout,X=G[0].trace,Y=X.marker||{},W=Y.symbol,$=Y.angle,ne="circle"!==W?u(W):p,re="auto"!==$?u($,!0):p,oe=t.hasText(X)?u(X.text):p,ue=[],xe=0;xe<G.length;xe++){var Me=G[xe];if(!c(Me.lonlat)){var me,pe=X.texttemplate;if(pe){var ge=Array.isArray(pe)?pe[xe]||"":pe,Pe=X._module.formatLabels(Me,X,J),_e={};r(_e,X,Me.i),me=k.texttemplateString(ge,Pe,J._d3locale,_e,Me,X._meta||{})}else me=oe(xe);me&&(me=me.replace(n,"").replace(o,"\n")),ue.push({type:"Feature",geometry:{type:"Point",coordinates:Me.lonlat},properties:{symbol:ne(xe),angle:re(xe),text:me}})}}return{type:"FeatureCollection",features:ue}}(h,g),k.extendFlat(P.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),L&&(k.extendFlat(P.layout,{"icon-size":v.marker.size/10}),"angle"in v.marker&&"auto"!==v.marker.angle&&k.extendFlat(P.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),P.layout["icon-allow-overlap"]=v.marker.allowoverlap,k.extendFlat(P.paint,{"icon-opacity":v.opacity*v.marker.opacity,"icon-color":v.marker.color})),w)){var j=i(v.textposition,(v.marker||{}).size);k.extendFlat(P.layout,{"text-size":v.textfont.size,"text-anchor":j.anchor,"text-offset":j.offset,"text-font":v.textfont.family.split(", ")}),k.extendFlat(P.paint,{"text-color":v.textfont.color,"text-opacity":v.opacity})}return U}},76645:function(ee,D,e){"use strict";var A=e(71828),k=e(34098),l=e(49508),T=e(11058),b=e(82410),d=e(28908),a=e(99181),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];ee.exports=function(i,r,n,o){function s(m,_){return A.coerce(i,r,a,m,_)}function u(m,_){return A.coerce2(i,r,a,m,_)}var _,f,S,w,E;if(_=r,S=(f=s)("lon")||[],w=f("lat")||[],E=Math.min(S.length,w.length),_._length=E,E){if(s("text"),s("texttemplate"),s("hovertext"),s("hovertemplate"),s("mode"),s("below"),k.hasLines(r)&&(T(i,r,n,o,s,{noDash:!0}),s("connectgaps")),k.hasMarkers(r)){l(i,r,n,o,s,{noLine:!0,noAngle:!0}),s("marker.allowoverlap"),s("marker.angle");var c=r.marker;"circle"!==c.symbol&&(A.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),A.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}var x=u("cluster.maxzoom"),g=u("cluster.step"),h=u("cluster.color",r.marker&&r.marker.color||n),y=u("cluster.size"),v=u("cluster.opacity");s("cluster.enabled",!1!==x||!1!==g||!1!==h||!1!==y||!1!==v),k.hasText(r)&&b(i,r,o,s,{noSelect:!0,font:{family:-1!==t.indexOf(o.font.family)?o.font.family:"Open Sans Regular",size:o.font.size,color:o.font.color}}),s("fill"),"none"!==r.fill&&d(i,r,n,s),A.coerceSelectionMarkerOpacity(r,s)}else r.visible=!1}},53353:function(ee){"use strict";ee.exports=function(D,e){return D.lon=e.lon,D.lat=e.lat,D}},15636:function(ee,D,e){"use strict";var A=e(89298);ee.exports=function(k,l,T){var b={},d=T[l.subplot]._subplot.mockAxis,a=k.lonlat;return b.lonLabel=A.tickText(d,d.c2l(a[0]),!0).text,b.latLabel=A.tickText(d,d.c2l(a[1]),!0).text,b}},28178:function(ee,D,e){"use strict";var A=e(30211),k=e(71828),l=e(34603),T=k.fillText,b=e(50606).BADNUM,d=e(77734).traceLayerPrefix;function a(t,i,r){if(!t.hovertemplate){var n=(i.hi||t.hoverinfo).split("+"),o=-1!==n.indexOf("all"),s=-1!==n.indexOf("lon"),u=-1!==n.indexOf("lat"),p=i.lonlat,c=[];return o||s&&u?c.push("("+x(p[1])+", "+x(p[0])+")"):s?c.push(r.lon+x(p[0])):u&&c.push(r.lat+x(p[1])),(o||-1!==n.indexOf("text"))&&T(i,t,c),c.join("<br>")}function x(g){return g+"\xb0"}}ee.exports={hoverPoints:function(t,i,r){var n=t.cd,o=n[0].trace,s=t.xa,u=t.ya,p=t.subplot,c=[],g=o.cluster&&o.cluster.enabled;if(g){var h=p.map.queryRenderedFeatures(null,{layers:[d+o.uid+"-circle"]});c=h.map(function(O){return O.id})}var y=360*(i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360)),v=i-y;if(A.getClosest(n,function(O){var R=O.lonlat;if(R[0]===b||g&&-1===c.indexOf(O.i+1))return 1/0;var q=k.modHalf(R[0],360),P=R[1],U=p.project([q,P]),N=U.x-s.c2p([v,P]),F=U.y-u.c2p([q,r]),j=Math.max(3,O.mrc||0);return Math.max(Math.sqrt(N*N+F*F)-j,1-3/j)},t),!1!==t.index){var m=n[t.index],_=m.lonlat,f=[k.modHalf(_[0],360)+y,_[1]],S=s.c2p(f),w=u.c2p(f),E=m.mrc||1;t.x0=S-E,t.x1=S+E,t.y0=w-E,t.y1=w+E;var L={};L[o.subplot]={_subplot:p};var C=o._module.formatLabels(m,o,L);return t.lonLabel=C.lonLabel,t.latLabel=C.latLabel,t.color=l(o,m),t.extraText=a(o,m,n[0].t.labels),t.hovertemplate=o.hovertemplate,[t]}},getExtraText:a}},20467:function(ee,D,e){"use strict";ee.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(A,k){k&&k[0].trace._glTrace.update(k)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(ee,D,e){"use strict";var A=e(71828),k=e(15790),l=e(77734).traceLayerPrefix,T={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function b(a,t,i,r){this.type="scattermapbox",this.subplot=a,this.uid=t,this.clusterEnabled=i,this.isHidden=r,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:l+t+"-fill",line:l+t+"-line",circle:l+t+"-circle",symbol:l+t+"-symbol",cluster:l+t+"-cluster",clusterCount:l+t+"-cluster-count"},this.below=null}var d=b.prototype;d.addSource=function(a,t,i){var r={type:"geojson",data:t.geojson};i&&i.enabled&&A.extendFlat(r,{cluster:!0,clusterMaxZoom:i.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[a]);n?n.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[a],r)},d.setSourceData=function(a,t){this.subplot.map.getSource(this.sourceIds[a]).setData(t.geojson)},d.addLayer=function(a,t,i){var r={type:t.type,id:this.layerIds[a],source:this.sourceIds[a],layout:t.layout,paint:t.paint};t.filter&&(r.filter=t.filter);for(var n,o=this.layerIds[a],s=this.subplot.getMapLayers(),u=0;u<s.length;u++)if(s[u].id===o){n=!0;break}n?(this.subplot.setOptions(o,"setLayoutProperty",r.layout),"visible"===r.layout.visibility&&this.subplot.setOptions(o,"setPaintProperty",r.paint)):this.subplot.addLayer(r,i)},d.update=function(a){var t=a[0].trace,i=this.subplot,r=i.map,n=k(i.gd,a),o=i.belowLookup["trace-"+this.uid],s=!(!t.cluster||!t.cluster.enabled),u=!!this.clusterEnabled,p=this;function c(v){u?function(m){for(var _=T.cluster,f=_.length-1;f>=0;f--)r.removeLayer(p.layerIds[_[f]]);m||r.removeSource(p.sourceIds.circle)}(v):function(m){for(var _=T.nonCluster,f=_.length-1;f>=0;f--){var S=_[f];r.removeLayer(p.layerIds[S]),m||r.removeSource(p.sourceIds[S])}}(v)}function x(v){s?function(m){m||p.addSource("circle",n.circle,t.cluster);for(var _=T.cluster,f=0;f<_.length;f++){var S=_[f];p.addLayer(S,n[S],o)}}(v):function(m){for(var _=T.nonCluster,f=0;f<_.length;f++){var S=_[f],w=n[S];m||p.addSource(S,w),p.addLayer(S,w,o)}}(v)}var h=this.isHidden,y=!0!==t.visible;y?h||c():h?y||x():u!==s?(c(),x()):(this.below!==o&&(c(!0),x(!0)),function g(){for(var v=s?T.cluster:T.nonCluster,m=0;m<v.length;m++){var _=v[m],f=n[_];f&&(i.setOptions(p.layerIds[_],"setLayoutProperty",f.layout),"visible"===f.layout.visibility&&("cluster"!==_&&p.setSourceData(_,f),i.setOptions(p.layerIds[_],"setPaintProperty",f.paint)))}}()),this.clusterEnabled=s,this.isHidden=y,this.below=o,a[0].trace._glTrace=this},d.dispose=function(){for(var a=this.subplot.map,t=this.clusterEnabled?T.cluster:T.nonCluster,i=t.length-1;i>=0;i--){var r=t[i];a.removeLayer(this.layerIds[r]),a.removeSource(this.sourceIds[r])}},ee.exports=function(a,t){var i,r,n,o=t[0].trace,s=o.cluster&&o.cluster.enabled,p=new b(a,o.uid,s,!0!==o.visible),c=k(a.gd,t),x=p.below=a.belowLookup["trace-"+o.uid];if(s)for(p.addSource("circle",c.circle,o.cluster),i=0;i<T.cluster.length;i++)n=c[r=T.cluster[i]],p.addLayer(r,n,x);else for(i=0;i<T.nonCluster.length;i++)n=c[r=T.nonCluster[i]],p.addSource(r,n,o.cluster),p.addLayer(r,n,x);return t[0].trace._glTrace=p,p}},86387:function(ee,D,e){"use strict";var A=e(71828),k=e(34098),l=e(50606).BADNUM;ee.exports=function(T,b){var d,a=T.cd,t=T.xaxis,i=T.yaxis,r=[];if(!k.hasMarkers(a[0].trace))return[];if(!1===b)for(d=0;d<a.length;d++)a[d].selected=0;else for(d=0;d<a.length;d++){var o=a[d],s=o.lonlat;if(s[0]!==l){var u=[A.modHalf(s[0],360),s[1]],p=[t.c2p(u),i.c2p(u)];b.contains(p,null,d,T)?(r.push({pointNumber:d,lon:s[0],lat:s[1]}),o.selected=1):o.selected=0}}return r}},81245:function(ee,D,e){"use strict";var A=e(5386).fF,k=e(5386).si,l=e(1426).extendFlat,T=e(82196),b=e(9012),d=T.line;ee.exports={mode:T.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:T.text,texttemplate:k({editType:"plot"},{keys:["r","theta","text"]}),hovertext:T.hovertext,line:{color:d.color,width:d.width,dash:d.dash,backoff:d.backoff,shape:l({},d.shape,{values:["linear","spline"]}),smoothing:d.smoothing,editType:"calc"},connectgaps:T.connectgaps,marker:T.marker,cliponaxis:l({},T.cliponaxis,{dflt:!1}),textposition:T.textposition,textfont:T.textfont,fill:l({},T.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:T.fillcolor,hoverinfo:l({},b.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:T.hoveron,hovertemplate:A(),selected:T.selected,unselected:T.unselected}},26442:function(ee,D,e){"use strict";var A=e(92770),k=e(50606).BADNUM,l=e(89298),T=e(36922),b=e(75225),d=e(66279),a=e(47761).calcMarkerSize;ee.exports=function(t,i){for(var r=t._fullLayout,n=i.subplot,o=r[n].radialaxis,s=r[n].angularaxis,u=o.makeCalcdata(i,"r"),p=s.makeCalcdata(i,"theta"),c=i._length,x=new Array(c),g=0;g<c;g++){var h=u[g],y=p[g],v=x[g]={};A(h)&&A(y)?(v.r=h,v.theta=y):v.r=k}var m=a(i,c);return i._extremes.x=l.findExtremes(o,u,{ppad:m}),T(t,i),b(x,i),d(x,i),x}},22184:function(ee,D,e){"use strict";var A=e(71828),k=e(34098),l=e(49508),T=e(11058),b=e(94039),d=e(82410),a=e(28908),t=e(47581).PTS_LINESONLY,i=e(81245);function r(n,o,s,u){var p,c=u("r"),x=u("theta");if(c)x?p=Math.min(c.length,x.length):(p=c.length,u("theta0"),u("dtheta"));else{if(!x)return 0;p=o.theta.length,u("r0"),u("dr")}return o._length=p,p}ee.exports={handleRThetaDefaults:r,supplyDefaults:function(n,o,s,u){function p(g,h){return A.coerce(n,o,i,g,h)}var c=r(0,o,0,p);if(c){p("thetaunit"),p("mode",c<t?"lines+markers":"lines"),p("text"),p("hovertext"),"fills"!==o.hoveron&&p("hovertemplate"),k.hasLines(o)&&(T(n,o,s,u,p,{backoff:!0}),b(n,o,p),p("connectgaps")),k.hasMarkers(o)&&l(n,o,s,u,p,{gradient:!0}),k.hasText(o)&&(p("texttemplate"),d(n,o,u,p));var x=[];(k.hasMarkers(o)||k.hasText(o))&&(p("cliponaxis"),p("marker.maxdisplayed"),x.push("points")),p("fill"),"none"!==o.fill&&(a(n,o,s,p),k.hasLines(o)||b(n,o,p)),"tonext"!==o.fill&&"toself"!==o.fill||x.push("fills"),p("hoveron",x.join("+")||"points"),A.coerceSelectionMarkerOpacity(o,p)}else o.visible=!1}}},98608:function(ee,D,e){"use strict";var A=e(71828),k=e(89298);ee.exports=function(l,T,b){var d,a,t={},i=b[T.subplot]._subplot;i?(d=i.radialAxis,a=i.angularAxis):(d=(i=b[T.subplot]).radialaxis,a=i.angularaxis);var r=d.c2l(l.r);t.rLabel=k.tickText(d,r,!0).text;var n="degrees"===a.thetaunit?A.rad2deg(l.theta):l.theta;return t.thetaLabel=k.tickText(a,n,!0).text,t}},59150:function(ee,D,e){"use strict";var A=e(33720);function k(l,T,b,d){var a=b.radialAxis,t=b.angularAxis;a._hovertitle="r",t._hovertitle="\u03b8";var i={};i[T.subplot]={_subplot:b};var r=T._module.formatLabels(l,T,i);d.rLabel=r.rLabel,d.thetaLabel=r.thetaLabel;var o=[];function s(p,c){o.push(p._hovertitle+": "+c)}if(!T.hovertemplate){var u=(l.hi||T.hoverinfo).split("+");-1!==u.indexOf("all")&&(u=["r","theta","text"]),-1!==u.indexOf("r")&&s(a,d.rLabel),-1!==u.indexOf("theta")&&s(t,d.thetaLabel),-1!==u.indexOf("text")&&d.text&&(o.push(d.text),delete d.text),d.extraText=o.join("<br>")}}ee.exports={hoverPoints:function(l,T,b,d){var a=A(l,T,b,d);if(a&&!1!==a[0].index){var t=a[0];if(void 0===t.index)return a;var i=l.subplot,r=t.cd[t.index],n=t.trace;if(i.isPtInside(r))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(r,n,i,t),t.hovertemplate=n.hovertemplate,a}},makeHoverPointText:k}},91271:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(ee,D,e){"use strict";var A=e(32663),k=e(50606).BADNUM;ee.exports=function(l,T,b){for(var d=T.layers.frontplot.select("g.scatterlayer"),a=T.xaxis,t=T.yaxis,i={xaxis:a,yaxis:t,plot:T.framework,layerClipId:T._hasClipOnAxisFalse?T.clipIds.forTraces:null},r=T.radialAxis,n=T.angularAxis,o=0;o<b.length;o++)for(var s=b[o],u=0;u<s.length;u++){0===u&&(s[0].trace._xA=a,s[0].trace._yA=t);var p=s[u],c=p.r;if(c===k)p.x=p.y=k;else{var x=r.c2g(c),g=n.c2g(p.theta);p.x=x*Math.cos(g),p.y=x*Math.sin(g)}}A(l,i,b,d)}},53286:function(ee,D,e){"use strict";var A=e(81245),k=e(42341),l=e(5386).si;ee.exports={mode:A.mode,r:A.r,theta:A.theta,r0:A.r0,dr:A.dr,theta0:A.theta0,dtheta:A.dtheta,thetaunit:A.thetaunit,text:A.text,texttemplate:l({editType:"plot"},{keys:["r","theta","text"]}),hovertext:A.hovertext,hovertemplate:A.hovertemplate,line:k.line,connectgaps:k.connectgaps,marker:k.marker,fill:k.fill,fillcolor:k.fillcolor,textposition:k.textposition,textfont:k.textfont,hoverinfo:A.hoverinfo,selected:A.selected,unselected:A.unselected}},65746:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(ee,D,e){"use strict";var A=e(36922),k=e(47761).calcMarkerSize,l=e(19635),T=e(89298),b=e(78232).TOO_MANY_POINTS;ee.exports=function(d,a){var t=d._fullLayout,i=a.subplot,r=t[i].radialaxis,n=t[i].angularaxis,o=a._r=r.makeCalcdata(a,"r"),s=a._theta=n.makeCalcdata(a,"theta"),u=a._length,p={};u<o.length&&(o=o.slice(0,u)),u<s.length&&(s=s.slice(0,u)),p.r=o,p.theta=s,A(d,a);var c,x=p.opts=l.style(d,a);return u<b?c=k(a,u):x.marker&&(c=2*(x.marker.sizeAvg||Math.max(x.marker.size,3))),a._extremes.x=T.findExtremes(r,o,{ppad:c}),[{x:!1,y:!1,t:p,trace:a}]}},75485:function(ee,D,e){"use strict";var A=e(71828),k=e(34098),l=e(22184).handleRThetaDefaults,T=e(49508),b=e(11058),d=e(82410),a=e(28908),t=e(47581).PTS_LINESONLY,i=e(53286);ee.exports=function(r,n,o,s){function u(c,x){return A.coerce(r,n,i,c,x)}var p=l(r,n,s,u);p?(u("thetaunit"),u("mode",p<t?"lines+markers":"lines"),u("text"),u("hovertext"),"fills"!==n.hoveron&&u("hovertemplate"),k.hasLines(n)&&(b(r,n,o,s,u),u("connectgaps")),k.hasMarkers(n)&&T(r,n,o,s,u,{noAngleRef:!0,noStandOff:!0}),k.hasText(n)&&(u("texttemplate"),d(r,n,s,u)),u("fill"),"none"!==n.fill&&a(r,n,o,u),A.coerceSelectionMarkerOpacity(n,u)):n.visible=!1}},46255:function(ee,D,e){"use strict";var A=e(98608);ee.exports=function(k,l,T){var b=k.i;return"r"in k||(k.r=l._r[b]),"theta"in k||(k.theta=l._theta[b]),A(k,l,T)}},29347:function(ee,D,e){"use strict";var A=e(20794),k=e(59150).makeHoverPointText;ee.exports={hoverPoints:function(l,T,b,d){var a=l.cd[0].t,t=a.r,i=a.theta,r=A.hoverPoints(l,T,b,d);if(r&&!1!==r[0].index){var n=r[0];if(void 0===n.index)return r;var o=l.subplot,s=n.cd[n.index],u=n.trace;if(s.r=t[n.index],s.theta=i[n.index],o.isPtInside(s))return n.xLabelVal=void 0,n.yLabelVal=void 0,k(s,u,o,n),r}}}},21461:function(ee,D,e){"use strict";var A=e(65746);A.plot=e(49741),ee.exports=A},49741:function(ee,D,e){"use strict";var A=e(88294),k=e(92770),l=e(26787),T=e(38967),b=e(19635),d=e(71828),a=e(78232).TOO_MANY_POINTS;ee.exports=function(t,i,r){if(r.length){var n=i.radialAxis,o=i.angularAxis,s=T(t,i);return r.forEach(function(u){if(u&&u[0]&&u[0].trace){var p,c=u[0],x=c.trace,g=c.t,h=x._length,y=g.r,v=g.theta,m=g.opts,_=y.slice(),f=v.slice();for(p=0;p<y.length;p++)i.isPtInside({r:y[p],theta:v[p]})||(_[p]=NaN,f[p]=NaN);var S=new Array(2*h),w=Array(h),E=Array(h);for(p=0;p<h;p++){var L,C,O=_[p];if(k(O)){var R=n.c2g(O),q=o.c2g(f[p],x.thetaunit);L=R*Math.cos(q),C=R*Math.sin(q)}else L=C=NaN;w[p]=S[2*p]=L,E[p]=S[2*p+1]=C}g.tree=A(S),m.marker&&h>=a&&(m.marker.cluster=g.tree),m.marker&&(m.markerSel.positions=m.markerUnsel.positions=m.marker.positions=S),m.line&&S.length>1&&d.extendFlat(m.line,b.linePositions(t,x,S)),m.text&&(d.extendFlat(m.text,{positions:S},b.textPosition(t,x,m.text,m.marker)),d.extendFlat(m.textSel,{positions:S},b.textPosition(t,x,m.text,m.markerSel)),d.extendFlat(m.textUnsel,{positions:S},b.textPosition(t,x,m.text,m.markerUnsel))),m.fill&&!s.fill2d&&(s.fill2d=!0),m.marker&&!s.scatter2d&&(s.scatter2d=!0),m.line&&!s.line2d&&(s.line2d=!0),m.text&&!s.glText&&(s.glText=!0),s.lineOptions.push(m.line),s.fillOptions.push(m.fill),s.markerOptions.push(m.marker),s.markerSelectedOptions.push(m.markerSel),s.markerUnselectedOptions.push(m.markerUnsel),s.textOptions.push(m.text),s.textSelectedOptions.push(m.textSel),s.textUnselectedOptions.push(m.textUnsel),s.selectBatch.push([]),s.unselectBatch.push([]),g.x=w,g.y=E,g.rawx=w,g.rawy=E,g.r=y,g.theta=v,g.positions=S,g._scene=s,g.index=s.count,s.count++}}),l(t,i,r)}},ee.exports.reglPrecompiled={}},48300:function(ee,D,e){"use strict";var A=e(5386).fF,k=e(5386).si,l=e(1426).extendFlat,T=e(82196),b=e(9012),d=T.line;ee.exports={mode:T.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:T.text,texttemplate:k({editType:"plot"},{keys:["real","imag","text"]}),hovertext:T.hovertext,line:{color:d.color,width:d.width,dash:d.dash,backoff:d.backoff,shape:l({},d.shape,{values:["linear","spline"]}),smoothing:d.smoothing,editType:"calc"},connectgaps:T.connectgaps,marker:T.marker,cliponaxis:l({},T.cliponaxis,{dflt:!1}),textposition:T.textposition,textfont:T.textfont,fill:l({},T.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:T.fillcolor,hoverinfo:l({},b.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:T.hoveron,hovertemplate:A(),selected:T.selected,unselected:T.unselected}},30621:function(ee,D,e){"use strict";var A=e(92770),k=e(50606).BADNUM,l=e(36922),T=e(75225),b=e(66279),d=e(47761).calcMarkerSize;ee.exports=function(a,t){for(var i=a._fullLayout,r=t.subplot,o=i[r].imaginaryaxis,s=i[r].realaxis.makeCalcdata(t,"real"),u=o.makeCalcdata(t,"imag"),p=t._length,c=new Array(p),x=0;x<p;x++){var g=s[x],h=u[x],y=c[x]={};A(g)&&A(h)?(y.real=g,y.imag=h):y.real=k}return d(t,p),l(a,t),T(c,t),b(c,t),c}},65269:function(ee,D,e){"use strict";var A=e(71828),k=e(34098),l=e(49508),T=e(11058),b=e(94039),d=e(82410),a=e(28908),t=e(47581).PTS_LINESONLY,i=e(48300);ee.exports=function(r,n,o,s){function u(x,g){return A.coerce(r,n,i,x,g)}var g,y,v,m,_,p=(g=n,m=(y=u)("real"),_=y("imag"),m&&_&&(v=Math.min(m.length,_.length)),g._length=v,v);if(p){u("mode",p<t?"lines+markers":"lines"),u("text"),u("hovertext"),"fills"!==n.hoveron&&u("hovertemplate"),k.hasLines(n)&&(T(r,n,o,s,u,{backoff:!0}),b(r,n,u),u("connectgaps")),k.hasMarkers(n)&&l(r,n,o,s,u,{gradient:!0}),k.hasText(n)&&(u("texttemplate"),d(r,n,s,u));var c=[];(k.hasMarkers(n)||k.hasText(n))&&(u("cliponaxis"),u("marker.maxdisplayed"),c.push("points")),u("fill"),"none"!==n.fill&&(a(r,n,o,u),k.hasLines(n)||b(r,n,u)),"tonext"!==n.fill&&"toself"!==n.fill||c.push("fills"),u("hoveron",c.join("+")||"points"),A.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},62047:function(ee,D,e){"use strict";var A=e(89298);ee.exports=function(k,l,T){var b={},d=T[l.subplot]._subplot;return b.realLabel=A.tickText(d.radialAxis,k.real,!0).text,b.imagLabel=A.tickText(d.angularAxis,k.imag,!0).text,b}},11350:function(ee,D,e){"use strict";var A=e(33720);function k(l,T,b,d){var a=b.radialAxis,t=b.angularAxis;a._hovertitle="real",t._hovertitle="imag";var i={};i[T.subplot]={_subplot:b};var r=T._module.formatLabels(l,T,i);d.realLabel=r.realLabel,d.imagLabel=r.imagLabel;var o=[];function s(p,c){o.push(p._hovertitle+": "+c)}if(!T.hovertemplate){var u=(l.hi||T.hoverinfo).split("+");-1!==u.indexOf("all")&&(u=["real","imag","text"]),-1!==u.indexOf("real")&&s(a,d.realLabel),-1!==u.indexOf("imag")&&s(t,d.imagLabel),-1!==u.indexOf("text")&&d.text&&(o.push(d.text),delete d.text),d.extraText=o.join("<br>")}}ee.exports={hoverPoints:function(l,T,b,d){var a=A(l,T,b,d);if(a&&!1!==a[0].index){var t=a[0];if(void 0===t.index)return a;var i=l.subplot,r=t.cd[t.index],n=t.trace;if(i.isPtInside(r))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(r,n,i,t),t.hovertemplate=n.hovertemplate,a}},makeHoverPointText:k}},85956:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(ee,D,e){"use strict";var A=e(32663),k=e(50606).BADNUM,l=e(23893).smith;ee.exports=function(T,b,d){for(var a=b.layers.frontplot.select("g.scatterlayer"),t=b.xaxis,i=b.yaxis,r={xaxis:t,yaxis:i,plot:b.framework,layerClipId:b._hasClipOnAxisFalse?b.clipIds.forTraces:null},n=0;n<d.length;n++)for(var o=d[n],s=0;s<o.length;s++){0===s&&(o[0].trace._xA=t,o[0].trace._yA=i);var u=o[s],p=u.real;if(p===k)u.x=u.y=k;else{var c=l([p,u.imag]);u.x=c[0],u.y=c[1]}}A(T,r,d,a)}},50413:function(ee,D,e){"use strict";var A=e(5386).fF,k=e(5386).si,l=e(82196),T=e(9012),b=e(50693),d=e(79952).P,a=e(1426).extendFlat,t=l.marker,i=l.line,r=t.line;ee.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:a({},l.mode,{dflt:"markers"}),text:a({},l.text,{}),texttemplate:k({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:a({},l.hovertext,{}),line:{color:i.color,width:i.width,dash:d,backoff:i.backoff,shape:a({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:l.connectgaps,cliponaxis:l.cliponaxis,fill:a({},l.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:l.fillcolor,marker:a({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:a({width:r.width,editType:"calc"},b("marker.line")),gradient:t.gradient,editType:"calc"},b("marker")),textfont:l.textfont,textposition:l.textposition,selected:l.selected,unselected:l.unselected,hoverinfo:a({},T.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:l.hoveron,hovertemplate:A()}},54337:function(ee,D,e){"use strict";var A=e(92770),k=e(36922),l=e(75225),T=e(66279),b=e(47761).calcMarkerSize,d=["a","b","c"],a={a:["b","c"],b:["a","c"],c:["a","b"]};ee.exports=function(t,i){var r,n,o,s,u,p,c=t._fullLayout[i.subplot].sum,x=i.sum||c,g={a:i.a,b:i.b,c:i.c};for(r=0;r<d.length;r++)if(!g[o=d[r]]){for(u=g[a[o][0]],p=g[a[o][1]],s=new Array(u.length),n=0;n<u.length;n++)s[n]=x-u[n]-p[n];g[o]=s}var h,y,v,m,S=i._length,w=new Array(S);for(r=0;r<S;r++)y=g.b[r],v=g.c[r],A(h=g.a[r])&&A(y)&&A(v)?(1!=(m=c/((h=+h)+(y=+y)+(v=+v)))&&(h*=m,y*=m,v*=m),w[r]={x:v-y,y:h,a:h,b:y,c:v}):w[r]={x:!1,y:!1};return b(i,S),k(t,i),l(w,i),T(w,i),w}},46008:function(ee,D,e){"use strict";var A=e(71828),k=e(47581),l=e(34098),T=e(49508),b=e(11058),d=e(94039),a=e(82410),t=e(28908),i=e(50413);ee.exports=function(r,n,o,s){function u(y,v){return A.coerce(r,n,i,y,v)}var p,c=u("a"),x=u("b"),g=u("c");if(c?(p=c.length,x?(p=Math.min(p,x.length),g&&(p=Math.min(p,g.length))):p=g?Math.min(p,g.length):0):x&&g&&(p=Math.min(x.length,g.length)),p){n._length=p,u("sum"),u("text"),u("hovertext"),"fills"!==n.hoveron&&u("hovertemplate"),u("mode",p<k.PTS_LINESONLY?"lines+markers":"lines"),l.hasLines(n)&&(b(r,n,o,s,u,{backoff:!0}),d(r,n,u),u("connectgaps")),l.hasMarkers(n)&&T(r,n,o,s,u,{gradient:!0}),l.hasText(n)&&(u("texttemplate"),a(r,n,s,u));var h=[];(l.hasMarkers(n)||l.hasText(n))&&(u("cliponaxis"),u("marker.maxdisplayed"),h.push("points")),u("fill"),"none"!==n.fill&&(t(r,n,o,u),l.hasLines(n)||d(r,n,u)),"tonext"!==n.fill&&"toself"!==n.fill||h.push("fills"),u("hoveron",h.join("+")||"points"),A.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},4524:function(ee){"use strict";ee.exports=function(D,e,A,k,l){if(e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),k[l]){var T=k[l];D.a=T.a,D.b=T.b,D.c=T.c}else D.a=e.a,D.b=e.b,D.c=e.c;return D}},93645:function(ee,D,e){"use strict";var A=e(89298);ee.exports=function(k,l,T){var b={},d=T[l.subplot]._subplot;return b.aLabel=A.tickText(d.aaxis,k.a,!0).text,b.bLabel=A.tickText(d.baxis,k.b,!0).text,b.cLabel=A.tickText(d.caxis,k.c,!0).text,b}},47250:function(ee,D,e){"use strict";var A=e(33720);ee.exports=function(k,l,T,b){var d=A(k,l,T,b);if(d&&!1!==d[0].index){var a=d[0];if(void 0===a.index){var i=k.xa._length,r=i*(1-a.y0/k.ya._length)/2,n=i-r;return a.x0=Math.max(Math.min(a.x0,n),r),a.x1=Math.max(Math.min(a.x1,n),r),d}var o=a.cd[a.index],s=a.trace,u=a.subplot;a.a=o.a,a.b=o.b,a.c=o.c,a.xLabelVal=void 0,a.yLabelVal=void 0;var p={};p[s.subplot]={_subplot:u};var c=s._module.formatLabels(o,s,p);a.aLabel=c.aLabel,a.bLabel=c.bLabel,a.cLabel=c.cLabel;var g=[];if(!s.hovertemplate){var h=(o.hi||s.hoverinfo).split("+");-1!==h.indexOf("all")&&(h=["a","b","c"]),-1!==h.indexOf("a")&&y(u.aaxis,a.aLabel),-1!==h.indexOf("b")&&y(u.baxis,a.bLabel),-1!==h.indexOf("c")&&y(u.caxis,a.cLabel)}return a.extraText=g.join("<br>"),a.hovertemplate=s.hovertemplate,d}function y(v,m){g.push(v._hovertitle+": "+m)}}},52979:function(ee,D,e){"use strict";ee.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(ee,D,e){"use strict";var A=e(32663);ee.exports=function(k,l,T){var b=l.plotContainer;b.select(".scatterlayer").selectAll("*").remove();for(var d=l.xaxis,a=l.yaxis,t={xaxis:d,yaxis:a,plot:b,layerClipId:l._hasClipOnAxisFalse?l.clipIdRelative:null},i=l.layers.frontplot.select("g.scatterlayer"),r=0;r<T.length;r++){var n=T[r];n.length&&(n[0].trace._xA=d,n[0].trace._yA=a)}A(k,t,T,i)}},46880:function(ee,D,e){"use strict";var A=e(82196),k=e(50693),l=e(12663).axisHoverFormat,T=e(5386).fF,b=e(42341),d=e(85555).idRegex,a=e(44467).templatedArray,t=e(1426).extendFlat,i=A.marker,r=i.line,n=t(k("marker.line",{editTypeOverride:"calc"}),{width:t({},r.width,{editType:"calc"}),editType:"calc"}),o=t(k("marker"),{symbol:i.symbol,angle:i.angle,size:t({},i.size,{editType:"markerSize"}),sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:i.opacity,colorbar:i.colorbar,line:n,editType:"calc"});function s(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:d[u],editType:"plot"}}}o.color.editType=o.cmin.editType=o.cmax.editType="style",ee.exports={dimensions:a("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},b.text,{}),hovertext:t({},b.hovertext,{}),hovertemplate:T(),xhoverformat:l("x"),yhoverformat:l("y"),marker:o,xaxes:s("x"),yaxes:s("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:b.selected.marker,editType:"calc"},unselected:{marker:b.unselected.marker,editType:"calc"},opacity:b.opacity}},65017:function(ee,D,e){"use strict";var A=e(73972),k=e(83312);ee.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},A.register(k)},16947:function(ee,D,e){"use strict";var A=e(46075),k=e(73972),l=e(79749),T=e(27659).a0,b=e(93612),d=e(41675).getFromId,a=e(89298).shouldShowZeroLine,t="splom",i={};function r(o,s,u){for(var c=s._visibleDims,x=u.viewOpts.ranges=new Array(u.matrixOptions.data.length),g=0;g<c.length;g++){var h=c[g],y=x[g]=new Array(4),v=d(o,s._diag[h][0]);v&&(y[0]=v.r2l(v.range[0]),y[2]=v.r2l(v.range[1]));var m=d(o,s._diag[h][1]);m&&(y[1]=m.r2l(m.range[0]),y[3]=m.r2l(m.range[1]))}u.selectBatch.length||u.unselectBatch.length?u.matrix.update({ranges:x},{ranges:x}):u.matrix.update({ranges:x})}function n(o){var s=o._fullLayout,u=s._glcanvas.data()[0].regl,p=s._splomGrid;p||(p=s._splomGrid=A(u)),p.update(function(c){var x,g=c._context.plotGlPixelRatio,h=c._fullLayout,y=h._size,v=[0,0,h.width*g,h.height*g],m={};function _(G,te,J,X,Y,W){J*=g,X*=g,Y*=g,W*=g;var $=te[G+"color"],ne=te[G+"width"],re=String($+ne);re in m?m[re].data.push(NaN,NaN,J,X,Y,W):m[re]={data:[J,X,Y,W],join:"rect",thickness:ne*g,color:$,viewport:v,range:v,overlay:!1}}for(x in h._splomSubplots){var f,S,w=h._plots[x],E=w.xaxis,L=w.yaxis,C=E._gridVals,O=L._gridVals,R=E._offset,q=E._length,P=L._length,U=y.b+L.domain[0]*y.h,N=-L._m,F=-N*L.r2l(L.range[0],L.calendar);if(E.showgrid)for(x=0;x<C.length;x++)f=R+E.l2p(C[x].x),_("grid",E,f,U,f,U+P);if(L.showgrid)for(x=0;x<O.length;x++)_("grid",L,R,S=U+F+N*O[x].x,R+q,S);a(c,E,L)&&(f=R+E.l2p(0),_("zeroline",E,f,U,f,U+P)),a(c,L,E)&&_("zeroline",L,R,S=U+F+0,R+q,S)}var j=[];for(x in m)j.push(m[x]);return j}(o))}ee.exports={name:t,attr:b.attr,attrRegex:b.attrRegex,layoutAttributes:b.layoutAttributes,supplyLayoutDefaults:b.supplyLayoutDefaults,drawFramework:b.drawFramework,plot:function(o){var s=o._fullLayout,u=k.getModule(t),p=T(o.calcdata,u)[0];l(o,["ANGLE_instanced_arrays","OES_element_index_uint"],i)&&(s._hasOnlyLargeSploms&&n(o),u.plot(o,{},p))},drag:function(o){var s=o.calcdata,u=o._fullLayout;u._hasOnlyLargeSploms&&n(o);for(var p=0;p<s.length;p++){var c=s[p][0].trace,x=u._splomScenes[c.uid];"splom"===c.type&&x&&x.matrix&&r(o,c,x)}},updateGrid:n,clean:function(o,s,u,p){var c,x={};if(p._splomScenes){for(c=0;c<o.length;c++){var g=o[c];"splom"===g.type&&(x[g.uid]=1)}for(c=0;c<u.length;c++){var h=u[c];if(!x[h.uid]){var y=p._splomScenes[h.uid];y&&y.destroy&&y.destroy(),p._splomScenes[h.uid]=null,delete p._splomScenes[h.uid]}}}0===Object.keys(p._splomScenes||{}).length&&delete p._splomScenes,p._splomGrid&&!s._hasOnlyLargeSploms&&p._hasOnlyLargeSploms&&(p._splomGrid.destroy(),p._splomGrid=null,delete p._splomGrid),b.clean(o,s,u,p)},updateFx:b.updateFx,toSVG:b.toSVG,reglPrecompiled:i}},87625:function(ee,D,e){"use strict";var A=e(71828),k=e(41675),l=e(47761).calcMarkerSize,T=e(47761).calcAxisExpansion,b=e(36922),d=e(19635).markerSelection,a=e(19635).markerStyle,t=e(10164),i=e(50606).BADNUM,r=e(78232).TOO_MANY_POINTS;ee.exports=function(n,o){var s,u,p,c,x,g,h=o.dimensions,y=o._length,v={},m=v.cdata=[],_=v.data=[],f=o._visibleDims=[];function S(E,L){for(var C=E.makeCalcdata({v:L.values,vcalendar:o.calendar},"v"),O=0;O<C.length;O++)C[O]=C[O]===i?NaN:C[O];m.push(C),_.push("log"===E.type?A.simpleMap(C,E.c2l):C)}for(s=0;s<h.length;s++)if((p=h[s]).visible){if(c=k.getFromId(n,o._diag[s][0]),x=k.getFromId(n,o._diag[s][1]),c&&x&&c.type!==x.type){A.log("Skipping splom dimension "+s+" with conflicting axis types");continue}c?(S(c,p),x&&"category"===x.type&&(x._categories=c._categories.slice())):S(x,p),f.push(s)}for(b(n,o),A.extendFlat(v,a(n,o)),g=m.length*y>r?v.sizeAvg||Math.max(v.size,3):l(o,y),u=0;u<f.length;u++)p=h[s=f[u]],c=k.getFromId(n,o._diag[s][0])||{},x=k.getFromId(n,o._diag[s][1])||{},T(n,o,c,x,m[u],m[u],g);var w=t(n,o);return w.matrix||(w.matrix=!0),w.matrixOptions=v,w.selectedOptions=d(n,o,o.selected),w.unselectedOptions=d(n,o,o.unselected),[{x:!1,y:!1,t:{},trace:o}]}},25784:function(ee,D,e){"use strict";var A=e(71828),k=e(85501),l=e(46880),T=e(34098),b=e(49508),d=e(94397),a=e(68645).isOpenSymbol;function t(i,r){function n(s,u){return A.coerce(i,r,l.dimensions,s,u)}n("label");var o=n("values");o&&o.length?n("visible"):r.visible=!1,n("axis.type"),n("axis.matches")}ee.exports=function(i,r,n,o){function s(y,v){return A.coerce(i,r,l,y,v)}var u=k(i,r,{name:"dimensions",handleItemDefaults:t}),p=s("diagonal.visible"),c=s("showupperhalf"),x=s("showlowerhalf");if(d(r,u,"values")&&(p||c||x)){s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),b(i,r,n,o,s,{noAngleRef:!0,noStandOff:!0});var g=a(r.marker.symbol),h=T.isBubble(r);s("marker.line.width",g||h?1:0),function(y,v,m,_){var f,S,w=v.dimensions,E=w.length,L=v.showupperhalf,C=v.showlowerhalf,O=v.diagonal.visible,R=new Array(E),q=new Array(E);for(f=0;f<E;f++){var P=f?f+1:"";R[f]="x"+P,q[f]="y"+P}var U=_("xaxes",R),N=_("yaxes",q),F=v._diag=new Array(E);v._xaxes={},v._yaxes={};var j=[],G=[];function te(ue,xe,Me,me){if(ue){var pe=ue.charAt(0),ge=m._splomAxes[pe];if(v["_"+pe+"axes"][ue]=1,me.push(ue),!(ue in ge)){var Pe=ge[ue]={};Me&&(Pe.label=Me.label||"",Me.visible&&Me.axis&&(Me.axis.type&&(Pe.type=Me.axis.type),Me.axis.matches&&(Pe.matches=xe)))}}}var J=!O&&!C,X=!O&&!L;for(v._axesDim={},f=0;f<E;f++){var Y=w[f],W=0===f,$=f===E-1,ne=W&&J||$&&X?void 0:U[f],re=W&&X||$&&J?void 0:N[f];te(ne,re,Y,j),te(re,ne,Y,G),F[f]=[ne,re],v._axesDim[ne]=f,v._axesDim[re]=f}for(f=0;f<j.length;f++)for(S=0;S<G.length;S++){var oe=j[f]+G[S];f>S&&L||f<S&&C?m._splomSubplots[oe]=1:f!==S||!O&&C&&L||(m._splomSubplots[oe]=1)}(!C||!O&&L&&C)&&(m._splomGridDflt.xside="bottom",m._splomGridDflt.yside="left")}(0,r,o,s),A.coerceSelectionMarkerOpacity(r,s)}else r.visible=!1}},28801:function(ee,D,e){"use strict";var A=e(71828),k=e(36922),l=e(19635).markerStyle;ee.exports=function(T,b){var d=b.trace,a=T._fullLayout._splomScenes[d.uid];if(a){k(T,d),A.extendFlat(a.matrixOptions,l(T,d));var t=A.extendFlat({},a.matrixOptions,a.viewOpts);a.matrix.update(t,null)}}},35948:function(ee,D){"use strict";D.getDimIndex=function(e,A){for(var k=A._id,l={x:0,y:1}[k.charAt(0)],T=e._visibleDims,b=0;b<T.length;b++)if(e._diag[T[b]][l]===k)return b;return!1}},8567:function(ee,D,e){"use strict";var A=e(35948),k=e(20794).calcHover;ee.exports={hoverPoints:function(l,T,b){var d=l.cd[0].trace,a=l.scene.matrixOptions.cdata,t=l.xa,i=l.ya,r=t.c2p(T),n=i.c2p(b),o=l.distance,s=A.getDimIndex(d,t),u=A.getDimIndex(d,i);if(!1===s||!1===u)return[l];for(var p,c,x=a[s],g=a[u],h=o,y=0;y<x.length;y++){var m=g[y],_=t.c2p(x[y])-r,f=i.c2p(m)-n,S=Math.sqrt(_*_+f*f);S<h&&(h=c=S,p=y)}return l.index=p,l.distance=h,l.dxy=c,void 0===p?[l]:[k(l,x,g,d)]}}},6419:function(ee,D,e){"use strict";var A=e(65017);A.basePlotModule=e(16947),ee.exports=A},79410:function(ee,D,e){"use strict";var A=e(60487),k=e(71828),l=e(41675),T=e(64505).selectMode;function b(d,a){var t,i,r,n,o,s=d._fullLayout,u=s._size,p=a.trace,c=a.t,x=s._splomScenes[p.uid],g=x.matrixOptions,h=g.cdata,y=s._glcanvas.data()[0].regl,v=s.dragmode;if(0!==h.length){g.lower=p.showupperhalf,g.upper=p.showlowerhalf,g.diagonal=p.diagonal.visible;var m=p._visibleDims,_=h.length,f=x.viewOpts={};for(f.ranges=new Array(_),f.domains=new Array(_),o=0;o<m.length;o++){r=m[o];var S=f.ranges[o]=new Array(4),w=f.domains[o]=new Array(4);(t=l.getFromId(d,p._diag[r][0]))&&(S[0]=t._rl[0],S[2]=t._rl[1],w[0]=t.domain[0],w[2]=t.domain[1]),(i=l.getFromId(d,p._diag[r][1]))&&(S[1]=i._rl[0],S[3]=i._rl[1],w[1]=i.domain[0],w[3]=i.domain[1])}var E=d._context.plotGlPixelRatio,L=u.l*E,C=u.b*E;f.viewport=[L,C,u.w*E+L,u.h*E+C],!0===x.matrix&&(x.matrix=A(y));var q=s.clickmode.indexOf("select")>-1,P=!0;if(T(v)||p.selectedpoints||q){var U=p._length;if(p.selectedpoints){x.selectBatch=p.selectedpoints;var N=p.selectedpoints,F={};for(r=0;r<N.length;r++)F[N[r]]=!0;var j=[];for(r=0;r<U;r++)F[r]||j.push(r);x.unselectBatch=j}var G=c.xpx=new Array(_),te=c.ypx=new Array(_);for(o=0;o<m.length;o++){if(t=l.getFromId(d,p._diag[r=m[o]][0]))for(G[o]=new Array(U),n=0;n<U;n++)G[o][n]=t.c2p(h[o][n]);if(i=l.getFromId(d,p._diag[r][1]))for(te[o]=new Array(U),n=0;n<U;n++)te[o][n]=i.c2p(h[o][n])}if(x.selectBatch.length||x.unselectBatch.length){var J=k.extendFlat({},g,x.unselectedOptions,f),X=k.extendFlat({},g,x.selectedOptions,f);x.matrix.update(J,X),P=!1}}else c.xpx=c.ypx=null;if(P){var Y=k.extendFlat({},g,f);x.matrix.update(Y,null)}}}ee.exports=function(d,a,t){if(t.length)for(var i=0;i<t.length;i++)b(d,t[i][0])}},10164:function(ee,D,e){"use strict";var A=e(71828);ee.exports=function(k,l){var T=k._fullLayout,b=l.uid,d=T._splomScenes;d||(d=T._splomScenes={});var a={dirty:!0,selectBatch:[],unselectBatch:[]},t=d[l.uid];return t||((t=d[b]=A.extendFlat({},a,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){t.matrix&&t.matrix.draw&&(t.selectBatch.length||t.unselectBatch.length?t.matrix.draw(t.unselectBatch,t.selectBatch):t.matrix.draw()),t.dirty=!1},t.destroy=function(){t.matrix&&t.matrix.destroy&&t.matrix.destroy(),t.matrixOptions=null,t.selectBatch=null,t.unselectBatch=null,t=null}),t.dirty||A.extendFlat(t,a),t}},8689:function(ee,D,e){"use strict";var A=e(71828),k=A.pushUnique,l=e(34098),T=e(35948);ee.exports=function(b,d){var a=b.cd,t=a[0].trace,i=a[0].t,r=b.scene,n=r.matrixOptions.cdata,o=b.xaxis,s=b.yaxis,u=[];if(!r)return u;var p=!l.hasMarkers(t)&&!l.hasText(t);if(!0!==t.visible||p)return u;var c=T.getDimIndex(t,o),x=T.getDimIndex(t,s);if(!1===c||!1===x)return u;var g=i.xpx[c],h=i.ypx[x],y=n[c],v=n[x],m=(b.scene.selectBatch||[]).slice(),_=[];if(!1!==d&&!d.degenerate)for(var f=0;f<y.length;f++)d.contains([g[f],h[f]],null,f,b)?(u.push({pointNumber:f,x:y[f],y:v[f]}),k(m,f)):-1!==m.indexOf(f)?k(m,f):_.push(f);var S=r.matrixOptions;return m.length||_.length?r.selectBatch.length||r.unselectBatch.length||r.matrix.update(r.unselectedOptions,A.extendFlat({},S,r.selectedOptions,r.viewOpts)):r.matrix.update(S,null),r.selectBatch=m,r.unselectBatch=_,u}},21850:function(ee,D,e){"use strict";var A=e(50693),k=e(12663).axisHoverFormat,l=e(5386).fF,T=e(2418),b=e(9012),d=e(1426).extendFlat,a={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:l({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:d({},b.showlegend,{dflt:!1})};d(a,A("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){a[t]=T[t]}),a.hoverinfo=d({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),a.transforms=void 0,ee.exports=a},88489:function(ee,D,e){"use strict";var A=e(71828),k=e(78803);function l(d){var a,t,i,r,n,o,s,u,p,c,x,g,h=d._x,y=d._y,v=d._z,m=d._len,_=-1/0,f=1/0,S=-1/0,w=1/0,E=-1/0,L=1/0,C="";for(m&&(s=h[0],p=y[0],x=v[0]),m>1&&(u=h[m-1],c=y[m-1],g=v[m-1]),a=0;a<m;a++)_=Math.max(_,h[a]),f=Math.min(f,h[a]),S=Math.max(S,y[a]),w=Math.min(w,y[a]),E=Math.max(E,v[a]),L=Math.min(L,v[a]),r||h[a]===s||(r=!0,C+="x"),n||y[a]===p||(n=!0,C+="y"),o||v[a]===x||(o=!0,C+="z");r||(C+="x"),n||(C+="y"),o||(C+="z");var O=T(d._x),R=T(d._y),q=T(d._z);C=(C=(C=C.replace("x",(s>u?"-":"+")+"x")).replace("y",(p>c?"-":"+")+"y")).replace("z",(x>g?"-":"+")+"z");var P=function(){m=0,O=[],R=[],q=[]};(!m||m<O.length*R.length*q.length)&&P();var U=function(pe){return"x"===pe?h:"y"===pe?y:v},N=function(pe){return"x"===pe?O:"y"===pe?R:q},F=function(pe){return pe[m-1]<pe[0]?-1:1},j=U(C[1]),G=U(C[3]),te=U(C[5]),J=N(C[1]).length,X=N(C[3]).length,Y=N(C[5]).length,W=!1,$=function(pe,ge,Pe){return J*(X*pe+ge)+Pe},ne=F(U(C[1])),re=F(U(C[3])),oe=F(U(C[5]));for(a=0;a<Y-1;a++){for(t=0;t<X-1;t++){for(i=0;i<J-1;i++){var ue=$(a,t,i),xe=$(a,t,i+1),Me=$(a,t+1,i),me=$(a+1,t,i);if(j[ue]*ne<j[xe]*ne&&G[ue]*re<G[Me]*re&&te[ue]*oe<te[me]*oe||(W=!0),W)break}if(W)break}if(W)break}return W&&(A.warn("Encountered arbitrary coordinates! Unable to input data grid."),P()),{xMin:f,yMin:w,zMin:L,xMax:_,yMax:S,zMax:E,Xs:O,Ys:R,Zs:q,len:m,fill:C}}function T(d){return A.distinctVals(d).vals}function b(d,a){if(void 0===a&&(a=d.length),A.isTypedArray(d))return d.subarray(0,a);for(var t=[],i=0;i<a;i++)t[i]=+d[i];return t}ee.exports={calc:function(d,a){a._len=Math.min(a.u.length,a.v.length,a.w.length,a.x.length,a.y.length,a.z.length),a._u=b(a.u,a._len),a._v=b(a.v,a._len),a._w=b(a.w,a._len),a._x=b(a.x,a._len),a._y=b(a.y,a._len),a._z=b(a.z,a._len);var t=l(a);a._gridFill=t.fill,a._Xs=t.Xs,a._Ys=t.Ys,a._Zs=t.Zs,a._len=t.len;var i,r,n,o=0;a.starts&&(i=b(a.starts.x||[]),r=b(a.starts.y||[]),n=b(a.starts.z||[]),o=Math.min(i.length,r.length,n.length)),a._startsX=i||[],a._startsY=r||[],a._startsZ=n||[];var s,u=0,p=1/0;for(s=0;s<a._len;s++){var c=a._u[s],x=a._v[s],g=a._w[s],h=Math.sqrt(c*c+x*x+g*g);u=Math.max(u,h),p=Math.min(p,h)}for(k(d,a,{vals:[p,u],containerStr:"",cLetter:"c"}),s=0;s<o;s++){var y=i[s];t.xMax=Math.max(t.xMax,y),t.xMin=Math.min(t.xMin,y);var v=r[s];t.yMax=Math.max(t.yMax,v),t.yMin=Math.min(t.yMin,v);var m=n[s];t.zMax=Math.max(t.zMax,m),t.zMin=Math.min(t.zMin,m)}a._slen=o,a._normMax=u,a._xbnds=[t.xMin,t.xMax],a._ybnds=[t.yMin,t.yMax],a._zbnds=[t.zMin,t.zMax]},filter:b,processGrid:l}},90154:function(ee,D,e){"use strict";var A=e(9330).gl_streamtube3d,k=A.createTubeMesh,l=e(71828),T=e(81697).parseColorScale,b=e(21081).extractOpts,d=e(90060),a={xaxis:0,yaxis:1,zaxis:2};function t(s,u){this.scene=s,this.uid=u,this.mesh=null,this.data=null}var i=t.prototype;function r(s){var u=s.length;return u>2?s.slice(1,u-1):2===u?[(s[0]+s[1])/2]:s}function n(s){var u=s.length;return 1===u?[.5,.5]:[s[1]-s[0],s[u-1]-s[u-2]]}function o(s,u){var p=s.fullSceneLayout,c=s.dataScale,x=u._len,g={};function h(J,X){var Y=p[X],W=c[a[X]];return l.simpleMap(J,function($){return Y.d2l($)*W})}if(g.vectors=d(h(u._u,"xaxis"),h(u._v,"yaxis"),h(u._w,"zaxis"),x),!x)return{positions:[],cells:[]};var y=h(u._Xs,"xaxis"),v=h(u._Ys,"yaxis"),m=h(u._Zs,"zaxis");if(g.meshgrid=[y,v,m],g.gridFill=u._gridFill,u._slen)g.startingPositions=d(h(u._startsX,"xaxis"),h(u._startsY,"yaxis"),h(u._startsZ,"zaxis"));else{for(var _=v[0],f=r(y),S=r(m),w=new Array(f.length*S.length),E=0,L=0;L<f.length;L++)for(var C=0;C<S.length;C++)w[E++]=[f[L],_,S[C]];g.startingPositions=w}g.colormap=T(u),g.tubeSize=u.sizeref,g.maxLength=u.maxdisplayed;var O=h(u._xbnds,"xaxis"),R=h(u._ybnds,"yaxis"),q=h(u._zbnds,"zaxis"),P=n(y),U=n(v),N=n(m),j=A(g,[[O[0]-P[0],R[0]-U[0],q[0]-N[0]],[O[1]+P[1],R[1]+U[1],q[1]+N[1]]]),G=b(u);j.vertexIntensityBounds=[G.min/u._normMax,G.max/u._normMax];var te=u.lightposition;return j.lightPosition=[te.x,te.y,te.z],j.ambient=u.lighting.ambient,j.diffuse=u.lighting.diffuse,j.specular=u.lighting.specular,j.roughness=u.lighting.roughness,j.fresnel=u.lighting.fresnel,j.opacity=u.opacity,u._pad=j.tubeScale*u.sizeref*2,j}i.handlePick=function(s){var u=this.scene.fullSceneLayout,p=this.scene.dataScale;function c(h,y){var m=p[a[y]];return u[y].l2c(h)/m}if(s.object===this.mesh){var x=s.data.position,g=s.data.velocity;return s.traceCoordinate=[c(x[0],"xaxis"),c(x[1],"yaxis"),c(x[2],"zaxis"),c(g[0],"xaxis"),c(g[1],"yaxis"),c(g[2],"zaxis"),s.data.intensity*this.data._normMax,s.data.divergence],s.textLabel=this.data.hovertext||this.data.text,!0}},i.update=function(s){this.data=s;var u=o(this.scene,s);this.mesh.update(u)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ee.exports=function(s,u){var p=s.glplot.gl,c=o(s,u),x=k(p,c),g=new t(s,u.uid);return g.mesh=x,g.data=u,x._trace=g,s.glplot.add(x),g}},22459:function(ee,D,e){"use strict";var A=e(71828),k=e(1586),l=e(21850);ee.exports=function(T,b,d,a){function t(p,c){return A.coerce(T,b,l,p,c)}var i=t("u"),r=t("v"),n=t("w"),o=t("x"),s=t("y"),u=t("z");i&&i.length&&r&&r.length&&n&&n.length&&o&&o.length&&s&&s.length&&u&&u.length?(t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(T,b,a,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null):b.visible=!1}},61510:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(A,k){return A.tubex=A.x,A.tubey=A.y,A.tubez=A.z,A.tubeu=k.traceCoordinate[3],A.tubev=k.traceCoordinate[4],A.tubew=k.traceCoordinate[5],A.norm=k.traceCoordinate[6],A.divergence=k.traceCoordinate[7],delete A.x,delete A.y,delete A.z,A},meta:{}}},57564:function(ee,D,e){"use strict";var A=e(9012),k=e(5386).fF,l=e(5386).si,T=e(50693),b=e(27670).Y,d=e(34e3),a=e(7055),t=e(1426).extendFlat,i=e(79952).u;ee.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},d.marker.line.color,{dflt:null}),width:t({},d.marker.line.width,{dflt:1}),editType:"calc"},pattern:i,editType:"calc"},T("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:d.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:l({editType:"plot"},{keys:a.eventDataKeys.concat(["label","value"])}),hovertext:d.hovertext,hoverinfo:t({},A.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:k({},{keys:a.eventDataKeys}),textfont:d.textfont,insidetextorientation:d.insidetextorientation,insidetextfont:d.insidetextfont,outsidetextfont:t({},d.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:d.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:b({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(ee,D,e){"use strict";var A=e(74875);D.name="sunburst",D.plot=function(k,l,T,b){A.plotBasePlot(D.name,k,l,T,b)},D.clean=function(k,l,T,b){A.cleanBasePlot(D.name,k,l,T,b)}},52147:function(ee,D,e){"use strict";var A=e(674),k=e(92770),l=e(71828),T=e(21081).makeColorScaleFuncFromTrace,b=e(32354).makePullColorFn,d=e(32354).generateExtendedColors,a=e(21081).calc,t=e(50606).ALMOST_EQUAL,i={},r={},n={};function o(s,u,p){var c=0,x=s.children;if(x){for(var g=x.length,h=0;h<g;h++)c+=o(x[h],u,p);p.branches&&c++}else p.leaves&&c++;return s.value=s.data.data.value=c,u._values||(u._values=[]),u._values[s.data.data.i]=c,c}D.calc=function(s,u){var p,c,x,g,h,y,v=s._fullLayout,m=u.ids,_=l.isArrayOrTypedArray(m),f=u.labels,S=u.parents,w=u.values,E=l.isArrayOrTypedArray(w),L=[],C={},O={},R=function(oe){return oe||"number"==typeof oe},q=function(oe){return!E||k(w[oe])&&w[oe]>=0};_?(p=Math.min(m.length,S.length),c=function(oe){return R(m[oe])&&q(oe)},x=function(oe){return String(m[oe])}):(p=Math.min(f.length,S.length),c=function(oe){return R(f[oe])&&q(oe)},x=function(oe){return String(f[oe])}),E&&(p=Math.min(p,w.length));for(var P=0;P<p;P++)if(c(P)){var U=x(P),N=R(S[P])?String(S[P]):"",F={i:P,id:U,pid:N,label:R(f[P])?String(f[P]):""};E&&(F.v=+w[P]),L.push(F),h=U,C[g=N]?C[g].push(h):C[g]=[h],O[h]=1}if(C[""]){if(C[""].length>1){for(var j=l.randstr(),G=0;G<L.length;G++)""===L[G].pid&&(L[G].pid=j);L.unshift({hasMultipleRoots:!0,id:j,pid:"",label:""})}}else{var te,J=[];for(te in C)O[te]||J.push(te);if(1!==J.length)return l.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",J.join(", ")].join(" "));L.unshift({hasImpliedRoot:!0,id:te=J[0],pid:"",label:te})}try{y=A.stratify().id(function(oe){return oe.id}).parentId(function(oe){return oe.pid})(L)}catch(oe){return l.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",oe.message].join(" "))}var X=A.hierarchy(y),Y=!1;if(E)switch(u.branchvalues){case"remainder":X.sum(function(oe){return oe.data.v});break;case"total":X.each(function(oe){var ue=oe.data.data,xe=ue.v;if(oe.children){var Me=oe.children.reduce(function(me,pe){return me+pe.data.data.v},0);if((ue.hasImpliedRoot||ue.hasMultipleRoots)&&(xe=Me),xe<Me*t)return Y=!0,l.warn(["Total value for node",oe.data.data.id,"of",u.name,"is smaller than the sum of its children.","\nparent value =",xe,"\nchildren sum =",Me].join(" "))}oe.value=xe})}else o(X,u,{branches:-1!==u.count.indexOf("branches"),leaves:-1!==u.count.indexOf("leaves")});if(!Y){var W,$;u.sort&&X.sort(function(oe,ue){return ue.value-oe.value});var ne=u.marker.colors||[];return u._hasColorscale?(!!ne.length||(ne=E?u.values:u._values),a(s,u,{vals:ne,containerStr:"marker",cLetter:"c"}),$=T(u.marker)):W=b(v["_"+u.type+"colormap"]),X.each(function(oe){var ue=oe.data.data;ue.color=u._hasColorscale?$(ne[ue.i]):W(ne[ue.i],ue.id)}),L[0].hierarchy=X,L}},D._runCrossTraceCalc=function(s,u){var p=u._fullLayout,c=u.calcdata,x=p[s+"colorway"],g=p["_"+s+"colormap"];p["extend"+s+"colors"]&&(x=d(x,"icicle"===s?n:"treemap"===s?r:i));var h,y=0;function v(f){var S=f.data.data,w=S.id;!1===S.color&&(g[w]?S.color=g[w]:f.parent?f.parent.parent?S.color=f.parent.data.data.color:(g[w]=S.color=x[y%x.length],y++):S.color=h)}for(var m=0;m<c.length;m++){var _=c[m][0];_.trace.type===s&&_.hierarchy&&(h=_.trace.root.color,_.hierarchy.each(v))}},D.crossTraceCalc=function(s){return D._runCrossTraceCalc("sunburst",s)}},7055:function(ee){"use strict";ee.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(ee,D,e){"use strict";var A=e(71828),k=e(57564),l=e(27670).c,T=e(90769).handleText,b=e(37434).handleMarkerDefaults,d=e(21081),a=d.hasColorscale,t=d.handleDefaults;ee.exports=function(i,r,n,o){function s(h,y){return A.coerce(i,r,k,h,y)}var u=s("labels"),p=s("parents");if(u&&u.length&&p&&p.length){var c=s("values");s(c&&c.length?"branchvalues":"count"),s("level"),s("maxdepth"),b(i,r,o,s);var x=r._hasColorscale=a(i,"marker","colors")||(i.marker||{}).coloraxis;x&&t(i,r,o,s,{prefix:"marker.",cLetter:"c"}),s("leaf.opacity",x?1:.7);var g=s("text");s("texttemplate"),r.texttemplate||s("textinfo",Array.isArray(g)?"text+label":"label"),s("hovertext"),s("hovertemplate"),T(i,r,o,s,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),s("insidetextorientation"),s("sort"),s("rotation"),s("root.color"),l(r,o,s),r._length=null}else r.visible=!1}},43467:function(ee,D,e){"use strict";var A=e(91424),k=e(7901);ee.exports=function(l,T,b,d,a){var t=T.data.data,r=a||t.color;if(t.i>=0){T.i=t.i;var n=b.marker;n.pattern&&n.colors&&n.pattern.shape||(n.color=r,T.color=r),A.pointStyle(l,b,d,T)}else k.fill(l,r)}},83523:function(ee,D,e){"use strict";var A=e(39898),k=e(73972),l=e(23469).appendArrayPointValue,T=e(30211),b=e(71828),d=e(11086),a=e(2791),t=e(53581).formatPieValue;function i(r,n,o){for(var s=r.data.data,u={curveNumber:n.index,pointNumber:s.i,data:n._input,fullData:n},p=0;p<o.length;p++){var c=o[p];c in r&&(u[c]=r[c])}return"parentString"in r&&!a.isHierarchyRoot(r)&&(u.parent=r.parentString),l(u,n,s.i),u}ee.exports=function(r,n,o,s,u){var p=s[0],c=p.trace,x=p.hierarchy,g="sunburst"===c.type,h="treemap"===c.type||"icicle"===c.type;"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1),r.on("mouseover",function(y){var v=o._fullLayout;if(!o._dragging&&!1!==v.hovermode){var m,_=o._fullData[c.index],f=y.data.data,S=f.i,w=a.isHierarchyRoot(y),E=a.getParent(x,y),L=a.getValue(y),C=function(ne){return b.castOption(_,S,ne)},O=C("hovertemplate"),R=T.castHoverinfo(_,v,S),q=v.separators;if(O||R&&"none"!==R&&"skip"!==R){var P,U;g&&(P=p.cx+y.pxmid[0]*(1-y.rInscribed),U=p.cy+y.pxmid[1]*(1-y.rInscribed)),h&&(P=y._hoverX,U=y._hoverY);var N,F={},j=[],G=[],te=function(ne){return-1!==j.indexOf(ne)};R&&(j="all"===R?_._module.attributes.hoverinfo.flags:R.split("+")),F.label=f.label,te("label")&&F.label&&G.push(F.label),f.hasOwnProperty("v")&&(F.value=f.v,F.valueLabel=t(F.value,q),te("value")&&G.push(F.valueLabel)),F.currentPath=y.currentPath=a.getPath(y.data),te("current path")&&!w&&G.push(F.currentPath);var J=[],X=function(){-1===J.indexOf(N)&&(G.push(N),J.push(N))};F.percentParent=y.percentParent=L/a.getValue(E),F.parent=y.parentString=a.getPtLabel(E),te("percent parent")&&(N=a.formatPercent(F.percentParent,q)+" of "+F.parent,X()),F.percentEntry=y.percentEntry=L/a.getValue(n),F.entry=y.entry=a.getPtLabel(n),!te("percent entry")||w||y.onPathbar||(N=a.formatPercent(F.percentEntry,q)+" of "+F.entry,X()),F.percentRoot=y.percentRoot=L/a.getValue(x),F.root=y.root=a.getPtLabel(x),te("percent root")&&!w&&(N=a.formatPercent(F.percentRoot,q)+" of "+F.root,X()),F.text=C("hovertext")||C("text"),te("text")&&b.isValidTextValue(N=F.text)&&G.push(N),m=[i(y,_,u.eventDataKeys)];var Y={trace:_,y:U,_x0:y._x0,_x1:y._x1,_y0:y._y0,_y1:y._y1,text:G.join("<br>"),name:O||te("name")?_.name:void 0,color:C("hoverlabel.bgcolor")||f.color,borderColor:C("hoverlabel.bordercolor"),fontFamily:C("hoverlabel.font.family"),fontSize:C("hoverlabel.font.size"),fontColor:C("hoverlabel.font.color"),nameLength:C("hoverlabel.namelength"),textAlign:C("hoverlabel.align"),hovertemplate:O,hovertemplateLabels:F,eventData:m};g&&(Y.x0=P-y.rInscribed*y.rpx1,Y.x1=P+y.rInscribed*y.rpx1,Y.idealAlign=y.pxmid[0]<0?"left":"right"),h&&(Y.x=P,Y.idealAlign=P<0?"left":"right");var W=[];T.loneHover(Y,{container:v._hoverlayer.node(),outerContainer:v._paper.node(),gd:o,inOut_bbox:W}),m[0].bbox=W[0],c._hasHoverLabel=!0}if(h){var $=r.select("path.surface");u.styleOne($,y,_,o,{hovered:!0})}c._hasHoverEvent=!0,o.emit("plotly_hover",{points:m||[i(y,_,u.eventDataKeys)],event:A.event})}}),r.on("mouseout",function(y){var v=o._fullLayout,m=o._fullData[c.index],_=A.select(this).datum();if(c._hasHoverEvent&&(y.originalEvent=A.event,o.emit("plotly_unhover",{points:[i(_,m,u.eventDataKeys)],event:A.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(T.loneUnhover(v._hoverlayer.node()),c._hasHoverLabel=!1),h){var f=r.select("path.surface");u.styleOne(f,_,m,o,{hovered:!1})}}),r.on("click",function(y){var v=o._fullLayout,m=o._fullData[c.index],_=g&&(a.isHierarchyRoot(y)||a.isLeaf(y)),f=a.getPtId(y),S=a.isEntry(y)?a.findEntryWithChild(x,f):a.findEntryWithLevel(x,f),w=a.getPtId(S),E={points:[i(y,m,u.eventDataKeys)],event:A.event};_||(E.nextLevel=w);var L=d.triggerHandler(o,"plotly_"+c.type+"click",E);if(!1!==L&&v.hovermode&&(o._hoverdata=[i(y,m,u.eventDataKeys)],T.click(o,A.event)),!_&&!1!==L&&!o._dragging&&!o._transitioning){k.call("_storeDirectGUIEdit",m,v._tracePreGUI[m.uid],{level:m.level});var C={data:[{level:w}],traces:[c.index]},O={frame:{redraw:!1,duration:u.transitionTime},transition:{duration:u.transitionTime,easing:u.transitionEasing},mode:"immediate",fromcurrent:!0};T.loneUnhover(v._hoverlayer.node()),k.call("animate",o,C,O)}})}},2791:function(ee,D,e){"use strict";var A=e(71828),k=e(7901),l=e(6964),T=e(53581);function b(d){return d.data.data.pid}D.findEntryWithLevel=function(d,a){var t;return a&&d.eachAfter(function(i){if(D.getPtId(i)===a)return t=i.copy()}),t||d},D.findEntryWithChild=function(d,a){var t;return d.eachAfter(function(i){for(var r=i.children||[],n=0;n<r.length;n++)if(D.getPtId(r[n])===a)return t=i.copy()}),t||d},D.isEntry=function(d){return!d.parent},D.isLeaf=function(d){return!d.children},D.getPtId=function(d){return d.data.data.id},D.getPtLabel=function(d){return d.data.data.label},D.getValue=function(d){return d.value},D.isHierarchyRoot=function(d){return""===b(d)},D.setSliceCursor=function(d,a,t){var i=t.isTransitioning;if(!i){var r=d.datum();i=t.hideOnRoot&&D.isHierarchyRoot(r)||t.hideOnLeaves&&D.isLeaf(r)}l(d,i?null:"pointer")},D.getInsideTextFontKey=function(d,a,t,i,r){var o=t.data.data.i;return A.castOption(a,o,((r||{}).onPathbar?"pathbar.textfont":"insidetextfont")+"."+d)||A.castOption(a,o,"textfont."+d)||i.size},D.getOutsideTextFontKey=function(d,a,t,i){var r=t.data.data.i;return A.castOption(a,r,"outsidetextfont."+d)||A.castOption(a,r,"textfont."+d)||i.size},D.isOutsideText=function(d,a){return!d._hasColorscale&&D.isHierarchyRoot(a)},D.determineTextFont=function(d,a,t,i){return D.isOutsideText(d,a)?{color:D.getOutsideTextFontKey("color",r=d,n=a,o=t),family:D.getOutsideTextFontKey("family",r,n,o),size:D.getOutsideTextFontKey("size",r,n,o)}:function(r,n,o,s){var p=n.data.data,c=p.i,x=A.castOption(r,c,((s||{}).onPathbar?"pathbar.textfont":"insidetextfont")+".color");return!x&&r._input.textfont&&(x=A.castOption(r._input,c,"textfont.color")),{color:x||k.contrast(p.color),family:D.getInsideTextFontKey("family",r,n,o,s),size:D.getInsideTextFontKey("size",r,n,o,s)}}(d,a,t,i);var r,n,o},D.hasTransition=function(d){return!!(d&&d.duration>0)},D.getMaxDepth=function(d){return d.maxdepth>=0?d.maxdepth:1/0},D.isHeader=function(d,a){return!(D.isLeaf(d)||d.depth===a._maxDepth-1)},D.getParent=function(d,a){return D.findEntryWithLevel(d,b(a))},D.listPath=function(d,a){var t=d.parent;if(!t)return[];var i=a?[t.data[a]]:[t];return D.listPath(t,a).concat(i)},D.getPath=function(d){return D.listPath(d,"label").join("/")+"/"},D.formatValue=T.formatPieValue,D.formatPercent=function(d,a){var t=A.formatPercent(d,0);return"0%"===t&&(t=T.formatPiePercent(d,a)),t}},87619:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(ee){"use strict";ee.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(ee,D,e){"use strict";var A=e(71828),k=e(2654);ee.exports=function(l,T){function b(d,a){return A.coerce(l,T,k,d,a)}b("sunburstcolorway",T.colorway),b("extendsunburstcolors")}},24714:function(ee,D,e){"use strict";var A=e(39898),k=e(674),l=e(81684).sX,T=e(91424),b=e(71828),d=e(63893),a=e(72597),t=a.recordMinTextSize,i=a.clearMinTextSize,r=e(14575),n=e(53581).getRotationAngle,o=r.computeTransform,s=r.transformInsideText,u=e(29969).styleOne,p=e(16688).resizeText,c=e(83523),x=e(7055),g=e(2791);function h(v,m,_,f){var S=v._context.staticPlot,w=v._fullLayout,E=!w.uniformtext.mode&&g.hasTransition(f),L=A.select(_).selectAll("g.slice"),C=m[0],O=C.trace,q=g.findEntryWithLevel(C.hierarchy,O.level),P=g.getMaxDepth(O),U=w._size,N=O.domain,j=U.h*(N.y[1]-N.y[0]),G=.5*Math.min(U.w*(N.x[1]-N.x[0]),j),te=C.cx=U.l+U.w*(N.x[1]+N.x[0])/2,J=C.cy=U.t+U.h*(1-N.y[0])-j/2;if(!q)return L.remove();var X=null,Y={};E&&L.each(function(ae){Y[g.getPtId(ae)]={rpx0:ae.rpx0,rpx1:ae.rpx1,x0:ae.x0,x1:ae.x1,transform:ae.transform},!X&&g.isEntry(ae)&&(X=ae)});var ae,W=(ae=q,k.partition().size([2*Math.PI,ae.height+1])(ae)).descendants(),$=q.height+1,ne=0,re=P;C.hasMultipleRoots&&g.isHierarchyRoot(q)&&(W=W.slice(1),$-=1,ne=1,re+=1),W=W.filter(function(ae){return ae.y1<=re});var oe=n(O.rotation);oe&&W.forEach(function(ae){ae.x0+=oe,ae.x1+=oe});var ue=Math.min($,P),xe=function(ae){return(ae-ne)/ue*G},Me=function(ae,fe){return[ae*Math.cos(fe),-ae*Math.sin(fe)]},me=function(ae){return b.pathAnnulus(ae.rpx0,ae.rpx1,ae.x0,ae.x1,te,J)},pe=function(ae){return te+y(ae)[0]*(ae.transform.rCenter||0)+(ae.transform.x||0)},ge=function(ae){return J+y(ae)[1]*(ae.transform.rCenter||0)+(ae.transform.y||0)};(L=L.data(W,g.getPtId)).enter().append("g").classed("slice",!0),E?L.exit().transition().each(function(){var ae=A.select(this);ae.select("path.surface").transition().attrTween("d",function(fe){var Ee=function(ke){var be,Ie=g.getPtId(ke),Fe=Y[Ie],ce=Y[g.getPtId(q)];if(ce){var Te=(ke.x1>ce.x1?2*Math.PI:0)+oe;be=ke.rpx1<ce.rpx1?{x0:ke.x0,x1:ke.x1,rpx0:0,rpx1:0}:{x0:Te,x1:Te,rpx0:ke.rpx0,rpx1:ke.rpx1}}else{var ve,Ce=g.getPtId(ke.parent);L.each(function(Je){if(g.getPtId(Je)===Ce)return ve=Je});var Re,Oe=ve.children;Oe.forEach(function(Je,it){if(g.getPtId(Je)===Ie)return Re=it});var je=Oe.length,qe=l(ve.x0,ve.x1);be={rpx0:G,rpx1:G,x0:qe(Re/je),x1:qe((Re+1)/je)}}return l(Fe,be)}(fe);return function(ke){return me(Ee(ke))}}),ae.select("g.slicetext").attr("opacity",0)}).remove():L.exit().remove(),L.order();var Pe=null;if(E&&X){var _e=g.getPtId(X);L.each(function(ae){null===Pe&&g.getPtId(ae)===_e&&(Pe=ae.x1)})}var we=L;function se(ae){var fe=ae.parent,Ee=Y[g.getPtId(fe)],ke={};if(Ee){var be=fe.children,Ie=be.indexOf(ae),Fe=be.length,ce=l(Ee.x0,Ee.x1);ke.x0=ce(Ie/Fe),ke.x1=ce(Ie/Fe)}else ke.x0=ke.x1=0;return ke}E&&(we=we.transition().each("end",function(){var ae=A.select(this);g.setSliceCursor(ae,v,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),we.each(function(ae){var Te,fe=A.select(this),Ee=b.ensureSingle(fe,"path","surface",function(Te){Te.style("pointer-events",S?"none":"all")});ae.rpx0=xe(ae.y0),ae.rpx1=xe(ae.y1),ae.xmid=(ae.x0+ae.x1)/2,ae.pxmid=Me(ae.rpx1,ae.xmid),ae.midangle=-(ae.xmid-Math.PI/2),ae.startangle=-(ae.x0-Math.PI/2),ae.stopangle=-(ae.x1-Math.PI/2),ae.halfangle=.5*Math.min(b.angleDelta(ae.x0,ae.x1)||Math.PI,Math.PI),ae.ring=1-ae.rpx0/ae.rpx1,ae.rInscribed=0===(Te=ae).rpx0&&b.isFullCircle([Te.x0,Te.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(Te.halfangle)),Te.ring/2)),E?Ee.transition().attrTween("d",function(Te){var ve=function(Ce){var Re,Oe=Y[g.getPtId(Ce)],je={x0:Ce.x0,x1:Ce.x1,rpx0:Ce.rpx0,rpx1:Ce.rpx1};if(Oe)Re=Oe;else if(X)if(Ce.parent)if(Pe){var qe=(Ce.x1>Pe?2*Math.PI:0)+oe;Re={x0:qe,x1:qe}}else b.extendFlat(Re={rpx0:G,rpx1:G},se(Ce));else Re={rpx0:0,rpx1:0};else Re={x0:oe,x1:oe};return l(Re,je)}(Te);return function(Ce){return me(ve(Ce))}}):Ee.attr("d",me),fe.call(c,q,v,m,{eventDataKeys:x.eventDataKeys,transitionTime:x.CLICK_TRANSITION_TIME,transitionEasing:x.CLICK_TRANSITION_EASING}).call(g.setSliceCursor,v,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:v._transitioning}),Ee.call(u,ae,O,v);var ke=b.ensureSingle(fe,"g","slicetext"),be=b.ensureSingle(ke,"text","",function(Te){Te.attr("data-notex",1)}),Ie=b.ensureUniformFontSize(v,g.determineTextFont(O,ae,w.font));be.text(D.formatSliceLabel(ae,q,O,m,w)).classed("slicetext",!0).attr("text-anchor","middle").call(T.font,Ie).call(d.convertToTspans,v);var Fe=T.bBox(be.node());ae.transform=s(Fe,ae,C),ae.transform.targetX=pe(ae),ae.transform.targetY=ge(ae);var ce=function(Te,ve){var Ce=Te.transform;return o(Ce,ve),Ce.fontSize=Ie.size,t(O.type,Ce,w),b.getTextTransform(Ce)};E?be.transition().attrTween("transform",function(Te){var ve=function(Ce){var Re,Oe=Y[g.getPtId(Ce)],je=Ce.transform;if(Oe)Re=Oe;else if(Re={rpx1:Ce.rpx1,transform:{textPosAngle:je.textPosAngle,scale:0,rotate:je.rotate,rCenter:je.rCenter,x:je.x,y:je.y}},X)if(Ce.parent)if(Pe){var qe=Ce.x1>Pe?2*Math.PI:0;Re.x0=Re.x1=qe}else b.extendFlat(Re,se(Ce));else Re.x0=Re.x1=oe;else Re.x0=Re.x1=oe;var Je=l(Re.transform.textPosAngle,Ce.transform.textPosAngle),it=l(Re.rpx1,Ce.rpx1),Qe=l(Re.x0,Ce.x0),dt=l(Re.x1,Ce.x1),yt=l(Re.transform.scale,je.scale),mt=l(Re.transform.rotate,je.rotate),at=0===je.rCenter?3:0===Re.transform.rCenter?1/3:1,st=l(Re.transform.rCenter,je.rCenter);return function(Tt){var At=it(Tt),Pt=Qe(Tt),kt=dt(Tt),Ze=st(Math.pow(Tt,at)),Xe={pxmid:Me(At,(Pt+kt)/2),rpx1:At,transform:{textPosAngle:Je(Tt),rCenter:Ze,x:je.x,y:je.y}};return t(O.type,je,w),{transform:{targetX:pe(Xe),targetY:ge(Xe),scale:yt(Tt),rotate:mt(Tt),rCenter:Ze}}}}(Te);return function(Ce){return ce(ve(Ce),Fe)}}):be.attr("transform",ce(ae,Fe))})}function y(v){return _=v.transform.textPosAngle,[(m=v.rpx1)*Math.sin(_),-m*Math.cos(_)];var m,_}D.plot=function(v,m,_,f){var S,w,E=v._fullLayout,L=E._sunburstlayer,C=!_,O=!E.uniformtext.mode&&g.hasTransition(_);i("sunburst",E),(S=L.selectAll("g.trace.sunburst").data(m,function(R){return R[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),S.order(),O?(f&&(w=f()),A.transition().duration(_.duration).ease(_.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()}).each(function(){L.selectAll("g.trace").each(function(R){h(v,R,this,_)})})):(S.each(function(R){h(v,R,this,_)}),E.uniformtext.mode&&p(v,E._sunburstlayer.selectAll(".trace"),"sunburst")),C&&S.exit().remove()},D.formatSliceLabel=function(v,m,_,f,S){var w=_.texttemplate,E=_.textinfo;if(!(w||E&&"none"!==E))return"";var L=S.separators,O=v.data.data,R=f[0].hierarchy,q=g.isHierarchyRoot(v),P=g.getParent(R,v),U=g.getValue(v);if(!w){var N,F=E.split("+"),j=function(re){return-1!==F.indexOf(re)},G=[];if(j("label")&&O.label&&G.push(O.label),O.hasOwnProperty("v")&&j("value")&&G.push(g.formatValue(O.v,L)),!q){j("current path")&&G.push(g.getPath(v.data));var te=0;j("percent parent")&&te++,j("percent entry")&&te++,j("percent root")&&te++;var J=te>1;if(te){var X,Y=function(re){N=g.formatPercent(X,L),J&&(N+=" of "+re),G.push(N)};j("percent parent")&&!q&&(X=U/g.getValue(P),Y("parent")),j("percent entry")&&(X=U/g.getValue(m),Y("entry")),j("percent root")&&(X=U/g.getValue(R),Y("root"))}}return j("text")&&(N=b.castOption(_,O.i,"text"),b.isValidTextValue(N)&&G.push(N)),G.join("<br>")}var W=b.castOption(_,O.i,"texttemplate");if(!W)return"";var $={};O.label&&($.label=O.label),O.hasOwnProperty("v")&&($.value=O.v,$.valueLabel=g.formatValue(O.v,L)),$.currentPath=g.getPath(v.data),q||($.percentParent=U/g.getValue(P),$.percentParentLabel=g.formatPercent($.percentParent,L),$.parent=g.getPtLabel(P)),$.percentEntry=U/g.getValue(m),$.percentEntryLabel=g.formatPercent($.percentEntry,L),$.entry=g.getPtLabel(m),$.percentRoot=U/g.getValue(R),$.percentRootLabel=g.formatPercent($.percentRoot,L),$.root=g.getPtLabel(R),O.hasOwnProperty("color")&&($.color=O.color);var ne=b.castOption(_,O.i,"text");return(b.isValidTextValue(ne)||""===ne)&&($.text=ne),$.customdata=b.castOption(_,O.i,"customdata"),b.texttemplateString(W,$,S._d3locale,$,_._meta||{})}},29969:function(ee,D,e){"use strict";var A=e(39898),k=e(7901),l=e(71828),T=e(72597).resizeText,b=e(43467);function d(a,t,i,r){var o=!t.children,s=t.data.data.i,u=l.castOption(i,s,"marker.line.color")||k.defaultLine,p=l.castOption(i,s,"marker.line.width")||0;a.call(b,t,i,r).style("stroke-width",p).call(k.stroke,u).style("opacity",o?i.leaf.opacity:null)}ee.exports={style:function(a){var t=a._fullLayout._sunburstlayer.selectAll(".trace");T(a,t,"sunburst"),t.each(function(i){var r=A.select(this),n=i[0].trace;r.style("opacity",n.opacity),r.selectAll("path.surface").each(function(o){A.select(this).call(d,o,n,a)})})},styleOne:d}},54532:function(ee,D,e){"use strict";var A=e(7901),k=e(50693),l=e(12663).axisHoverFormat,T=e(5386).fF,b=e(9012),d=e(1426).extendFlat,a=e(30962).overrideAll;function t(r){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:A.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:A.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=ee.exports=a(d({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:T(),xhoverformat:l("x"),yhoverformat:l("y"),zhoverformat:l("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},k("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:d({},k.zauto,{}),zmin:d({},k.zmin,{}),zmax:d({},k.zmax,{})},hoverinfo:d({},b.hoverinfo),showlegend:d({},b.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},18396:function(ee,D,e){"use strict";var A=e(78803);ee.exports=function(k,l){A(k,l,l.surfacecolor?{vals:l.surfacecolor,containerStr:"",cLetter:"c"}:{vals:l.z,containerStr:"",cLetter:"c"})}},43768:function(ee,D,e){"use strict";var A=e(9330).gl_surface3d,k=e(9330).ndarray,l=e(9330).ndarray_linear_interpolate.d2,T=e(824),b=e(43907),d=e(71828).isArrayOrTypedArray,a=e(81697).parseColorScale,t=e(78614),i=e(21081).extractOpts;function r(_,f,S){this.scene=_,this.uid=S,this.surface=f,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=r.prototype;n.getXat=function(_,f,S,w){var E=d(this.data.x)?d(this.data.x[0])?this.data.x[f][_]:this.data.x[_]:_;return void 0===S?E:w.d2l(E,0,S)},n.getYat=function(_,f,S,w){var E=d(this.data.y)?d(this.data.y[0])?this.data.y[f][_]:this.data.y[f]:f;return void 0===S?E:w.d2l(E,0,S)},n.getZat=function(_,f,S,w){var E=this.data.z[f][_];return null===E&&this.data.connectgaps&&this.data._interpolatedZ&&(E=this.data._interpolatedZ[f][_]),void 0===S?E:w.d2l(E,0,S)},n.handlePick=function(_){if(_.object===this.surface){var S=(_.data.index[1]-1)/this.dataScaleY-1,w=Math.max(Math.min(Math.round((_.data.index[0]-1)/this.dataScaleX-1),this.data.z[0].length-1),0),E=Math.max(Math.min(Math.round(S),this.data._ylength-1),0);_.index=[w,E],_.traceCoordinate=[this.getXat(w,E),this.getYat(w,E),this.getZat(w,E)],_.dataCoordinate=[this.getXat(w,E,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(w,E,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(w,E,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var L=0;L<3;L++)null!=_.dataCoordinate[L]&&(_.dataCoordinate[L]*=this.scene.dataScale[L]);var C=this.data.hovertext||this.data.text;return _.textLabel=Array.isArray(C)&&C[E]&&void 0!==C[E][w]?C[E][w]:C||"",_.data.dataCoordinate=_.dataCoordinate.slice(),this.surface.highlight(_.data),this.scene.glplot.spikes.position=_.dataCoordinate,!0}};var o=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function s(_,f){if(_<f)return 0;for(var S=0;0===Math.floor(_%f);)_/=f,S++;return S}function u(_){for(var f=[],S=0;S<o.length;S++)f.push(s(_,o[S]));return f}function p(_){for(var f=u(_),S=_,w=0;w<o.length;w++)if(f[w]>0){S=o[w];break}return S}function c(_,f){if(!(_<1||f<1)){for(var S=u(_),w=u(f),E=1,L=0;L<o.length;L++)E*=Math.pow(o[L],Math.max(S[L],w[L]));return E}}n.calcXnums=function(_){var f,S=[];for(f=1;f<_;f++){var w=this.getXat(f-1,0),E=this.getXat(f,0);S[f-1]=E!==w&&null!=w&&null!=E?Math.abs(E-w):0}var L=0;for(f=1;f<_;f++)L+=S[f-1];for(f=1;f<_;f++)S[f-1]=0===S[f-1]?1:Math.round(L/S[f-1]);return S},n.calcYnums=function(_){var f,S=[];for(f=1;f<_;f++){var w=this.getYat(0,f-1),E=this.getYat(0,f);S[f-1]=E!==w&&null!=w&&null!=E?Math.abs(E-w):0}var L=0;for(f=1;f<_;f++)L+=S[f-1];for(f=1;f<_;f++)S[f-1]=0===S[f-1]?1:Math.round(L/S[f-1]);return S};var x=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],g=x[9],h=x[13];function y(_,f,S){var w=S[8]+S[2]*f[0]+S[5]*f[1];return _[0]=(S[6]+S[0]*f[0]+S[3]*f[1])/w,_[1]=(S[7]+S[1]*f[0]+S[4]*f[1])/w,_}function v(_,f,S){return function(w,E,L,C){for(var O=[0,0],R=w.shape[0],q=w.shape[1],P=0;P<R;P++)for(var U=0;U<q;U++)L(O,[P,U],C),w.set(P,U,l(E,O[0],O[1]))}(_,f,y,S),_}function m(_,f){for(var S=!1,w=0;w<_.length;w++)if(f===_[w]){S=!0;break}!1===S&&_.push(f)}n.estimateScale=function(_,f){for(var S=1+function(E){if(0!==E.length){for(var L=1,C=0;C<E.length;C++)L=c(L,E[C]);return L}}(0===f?this.calcXnums(_):this.calcYnums(_));S<g;)S*=2;for(;S>h;)S--,S/=p(S),++S<g&&(S=h);var w=Math.round(S/_);return w>1?w:1},n.refineCoords=function(_){for(var f=this.dataScaleX,S=this.dataScaleY,w=_[0].shape[0],E=_[0].shape[1],L=0|Math.floor(_[0].shape[0]*f+1),C=0|Math.floor(_[0].shape[1]*S+1),O=1+w+1,R=1+E+1,q=k(new Float32Array(O*R),[O,R]),P=[1/f,0,0,0,1/S,0,0,0,1],U=0;U<_.length;++U){this.surface.padField(q,_[U]);var N=k(new Float32Array(L*C),[L,C]);v(N,q,P),_[U]=N}},n.setContourLevels=function(){var _,f,w=[[],[],[]],E=[!1,!1,!1],L=!1;for(_=0;_<3;++_)if(this.showContour[_]&&(L=!0,this.contourSize[_]>0&&null!==this.contourStart[_]&&null!==this.contourEnd[_]&&this.contourEnd[_]>this.contourStart[_]))for(E[_]=!0,f=this.contourStart[_];f<this.contourEnd[_];f+=this.contourSize[_])m(w[_],f*this.scene.dataScale[_]);if(L){var C=[[],[],[]];for(_=0;_<3;++_)this.showContour[_]&&(C[_]=E[_]?w[_]:this.scene.contourLevels[_]);this.surface.update({levels:C})}},n.update=function(_){var f,S,w,E,L=this.scene,C=L.fullSceneLayout,O=this.surface,R=a(_),q=L.dataScale,P=_.z[0].length,U=_._ylength,N=L.contourLevels;this.data=_;var F=[];for(f=0;f<3;f++)for(F[f]=[],S=0;S<P;S++)F[f][S]=[];for(S=0;S<P;S++)for(w=0;w<U;w++)F[0][S][w]=this.getXat(S,w,_.xcalendar,C.xaxis),F[1][S][w]=this.getYat(S,w,_.ycalendar,C.yaxis),F[2][S][w]=this.getZat(S,w,_.zcalendar,C.zaxis);if(_.connectgaps)for(_._emptypoints=b(F[2]),T(F[2],_._emptypoints),_._interpolatedZ=[],S=0;S<P;S++)for(_._interpolatedZ[S]=[],w=0;w<U;w++)_._interpolatedZ[S][w]=F[2][S][w];for(f=0;f<3;f++)for(S=0;S<P;S++)for(w=0;w<U;w++)null==(E=F[f][S][w])?F[f][S][w]=NaN:E=F[f][S][w]*=q[f];for(f=0;f<3;f++)for(S=0;S<P;S++)for(w=0;w<U;w++)null!=(E=F[f][S][w])&&(this.minValues[f]>E&&(this.minValues[f]=E),this.maxValues[f]<E&&(this.maxValues[f]=E));for(f=0;f<3;f++)this.objectOffset[f]=.5*(this.minValues[f]+this.maxValues[f]);for(f=0;f<3;f++)for(S=0;S<P;S++)for(w=0;w<U;w++)null!=(E=F[f][S][w])&&(F[f][S][w]-=this.objectOffset[f]);var j=[k(new Float32Array(P*U),[P,U]),k(new Float32Array(P*U),[P,U]),k(new Float32Array(P*U),[P,U])];for(f=0;f<3;f++)for(S=0;S<P;S++)for(w=0;w<U;w++)j[f].set(S,w,F[f][S][w]);F=[];var G={colormap:R,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!_.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:_.opacityscale,opacity:_.opacity},te=i(_);if(G.intensityBounds=[te.min,te.max],_.surfacecolor){var J=k(new Float32Array(P*U),[P,U]);for(S=0;S<P;S++)for(w=0;w<U;w++)J.set(S,w,_.surfacecolor[w][S]);j.push(J)}else G.intensityBounds[0]*=q[2],G.intensityBounds[1]*=q[2];(h<j[0].shape[0]||h<j[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(j[0].shape[0],0),this.dataScaleY=this.estimateScale(j[0].shape[1],1),1===this.dataScaleX&&1===this.dataScaleY||this.refineCoords(j)),_.surfacecolor&&(G.intensity=j.pop());var $,ne,re,X=[!0,!0,!0],Y=["x","y","z"];for(f=0;f<3;++f){var W=_.contours[Y[f]];X[f]=W.highlight,G.showContour[f]=W.show||W.highlight,G.showContour[f]&&(G.contourProject[f]=[W.project.x,W.project.y,W.project.z],W.show?(this.showContour[f]=!0,G.levels[f]=N[f],O.highlightColor[f]=G.contourColor[f]=t(W.color),O.highlightTint[f]=G.contourTint[f]=W.usecolormap?0:1,G.contourWidth[f]=W.width,this.contourStart[f]=W.start,this.contourEnd[f]=W.end,this.contourSize[f]=W.size):(this.showContour[f]=!1,this.contourStart[f]=null,this.contourEnd[f]=null,this.contourSize[f]=0),W.highlight&&(G.dynamicColor[f]=t(W.highlightcolor),G.dynamicWidth[f]=W.highlightwidth))}(ne=($=R)[0].rgb)[0]===(re=$[$.length-1].rgb)[0]&&ne[1]===re[1]&&ne[2]===re[2]&&ne[3]===re[3]&&(G.vertexColor=!0),G.objectOffset=this.objectOffset,G.coords=j,O.update(G),O.visible=_.visible,O.enableDynamic=X,O.enableHighlight=X,O.snapToData=!0,"lighting"in _&&(O.ambientLight=_.lighting.ambient,O.diffuseLight=_.lighting.diffuse,O.specularLight=_.lighting.specular,O.roughness=_.lighting.roughness,O.fresnel=_.lighting.fresnel),"lightposition"in _&&(O.lightPosition=[_.lightposition.x,_.lightposition.y,_.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},ee.exports=function(_,f){var w=A({gl:_.glplot.gl}),E=new r(_,w,f.uid);return w._trace=E,E.update(f),_.glplot.add(w),E}},91831:function(ee,D,e){"use strict";var A=e(73972),k=e(71828),l=e(1586),T=e(54532);function b(a,t,i,r){var n=r("opacityscale");"max"===n?t.opacityscale=[[0,.1],[1,1]]:"min"===n?t.opacityscale=[[0,1],[1,.1]]:"extremes"===n?t.opacityscale=function(o,s){for(var u=[],p=0;p<32;p++){var c=p/31,x=.1+.9*(1-Math.pow(Math.sin(1*c*Math.PI),2));u.push([c,Math.max(0,Math.min(1,x))])}return u}():function(o){var s=0;if(!Array.isArray(o)||o.length<2||!o[0]||!o[o.length-1]||0!=+o[0][0]||1!=+o[o.length-1][0])return!1;for(var u=0;u<o.length;u++){var p=o[u];if(2!==p.length||+p[0]<s)return!1;s=+p[0]}return!0}(n)||(t.opacityscale=void 0)}function d(a,t,i){t in a&&!(i in a)&&(a[i]=a[t])}ee.exports={supplyDefaults:function(a,t,i,r){var n,o;function s(m,_){return k.coerce(a,t,T,m,_)}var u=s("x"),p=s("y"),c=s("z");if(!c||!c.length||u&&u.length<1||p&&p.length<1)t.visible=!1;else{t._xlength=Array.isArray(u)&&k.isArrayOrTypedArray(u[0])?c.length:c[0].length,t._ylength=c.length,A.getComponentMethod("calendars","handleTraceDefaults")(a,t,["x","y","z"],r),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(m){s(m)});var x=s("surfacecolor"),g=["x","y","z"];for(n=0;n<3;++n){var h="contours."+g[n],y=s(h+".show"),v=s(h+".highlight");if(y||v)for(o=0;o<3;++o)s(h+".project."+g[o]);y&&(s(h+".color"),s(h+".width"),s(h+".usecolormap")),v&&(s(h+".highlightcolor"),s(h+".highlightwidth")),s(h+".start"),s(h+".end"),s(h+".size")}x||(d(a,"zmin","cmin"),d(a,"zmax","cmax"),d(a,"zauto","cauto")),l(a,t,r,s,{prefix:"",cLetter:"c"}),b(0,t,0,s),t._length=null}},opacityscaleDefaults:b}},93601:function(ee,D,e){"use strict";ee.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(ee,D,e){"use strict";var A=e(50215),k=e(1426).extendFlat,l=e(30962).overrideAll,T=e(41940),b=e(27670).Y,d=e(12663).descriptionOnlyNumbers;(ee.exports=l({domain:b({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:d("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:k({},A.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},T({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:d("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:k({},A.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},T({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(ee,D,e){"use strict";var A=e(27659).a0,k=e(36736),l="table";D.name=l,D.plot=function(T){var b=A(T.calcdata,l)[0];b.length&&k(T,b)},D.clean=function(T,b,d,a){var t=a._has&&a._has(l),i=b._has&&b._has(l);t&&!i&&a._paperdiv.selectAll(".table").remove()}},76333:function(ee,D,e){"use strict";var A=e(28984).wrap;ee.exports=function(){return A({})}},49850:function(ee){"use strict";ee.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(ee,D,e){"use strict";var A=e(49850),k=e(1426).extendFlat,l=e(92770);function T(n){if(Array.isArray(n)){for(var o=0,s=0;s<n.length;s++)o=Math.max(o,T(n[s]));return o}return n}function b(n,o){return n+o}function d(n){var o,s=n.slice(),u=1/0,p=0;for(o=0;o<s.length;o++)Array.isArray(s[o])||(s[o]=[s[o]]),u=Math.min(u,s[o].length),p=Math.max(p,s[o].length);if(u!==p)for(o=0;o<s.length;o++){var c=p-s[o].length;c&&(s[o]=s[o].concat(a(c)))}return s}function a(n){for(var o=new Array(n),s=0;s<n;s++)o[s]="";return o}function t(n){return n.calcdata.columns.reduce(function(o,s){return s.xIndex<n.xIndex?o+s.columnWidth:o},0)}function i(n,o){return Object.keys(n).map(function(s){return k({},n[s],{auxiliaryBlocks:o})})}function r(n,o){for(var s,u={},p=0,c=0,x={firstRowIndex:null,lastRowIndex:null,rows:[]},g=0,h=0,y=0;y<n.length;y++)x.rows.push({rowIndex:y,rowHeight:s=n[y]}),((c+=s)>=o||y===n.length-1)&&(u[p]=x,x.key=h++,x.firstRowIndex=g,x.lastRowIndex=y,x={firstRowIndex:null,lastRowIndex:null,rows:[]},p+=c,g=y+1,c=0);return u}ee.exports=function(n,o){var s=d(o.cells.values),u=function(q){return q.slice(o.header.values.length,q.length)},p=d(o.header.values);p.length&&!p[0].length&&(p[0]=[""],p=d(p));var c=p.concat(u(s).map(function(){return a((p[0]||[""]).length)})),x=o.domain,g=Math.floor(n._fullLayout._size.w*(x.x[1]-x.x[0])),h=Math.floor(n._fullLayout._size.h*(x.y[1]-x.y[0])),y=o.header.values.length?c[0].map(function(){return o.header.height}):[A.emptyHeaderHeight],v=s.length?s[0].map(function(){return o.cells.height}):[],m=y.reduce(b,0),_=r(v,h-m+A.uplift),f=i(r(y,m),[]),S=i(_,f),w={},E=o._fullInput.columnorder.concat(u(s.map(function(q,P){return P}))),L=c.map(function(q,P){var U=Array.isArray(o.columnwidth)?o.columnwidth[Math.min(P,o.columnwidth.length-1)]:o.columnwidth;return l(U)?Number(U):1}),C=L.reduce(b,0);L=L.map(function(q){return q/C*g});var O=Math.max(T(o.header.line.width),T(o.cells.line.width)),R={key:o.uid+n._context.staticPlot,translateX:x.x[0]*n._fullLayout._size.w,translateY:n._fullLayout._size.h*(1-x.y[1]),size:n._fullLayout._size,width:g,maxLineWidth:O,height:h,columnOrder:E,groupHeight:h,rowBlocks:S,headerRowBlocks:f,scrollY:0,cells:k({},o.cells,{values:s}),headerCells:k({},o.header,{values:c}),gdColumns:c.map(function(q){return q[0]}),gdColumnsOriginalOrder:c.map(function(q){return q[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:c.map(function(q,P){return w[q]=(w[q]||0)+1,{key:q+"__"+w[q],label:q,specIndex:P,xIndex:E[P],xScale:t,x:void 0,calcdata:void 0,columnWidth:L[P]}})};return R.columns.forEach(function(q){q.calcdata=R,q.x=t(q)}),R}},56269:function(ee,D,e){"use strict";var A=e(1426).extendFlat;D.splitToPanels=function(k){var l=[0,0],T=A({},k,{key:"header",type:"header",page:0,prevPages:l,currentRepaint:[null,null],dragHandle:!0,values:k.calcdata.headerCells.values[k.specIndex],rowBlocks:k.calcdata.headerRowBlocks,calcdata:A({},k.calcdata,{cells:k.calcdata.headerCells})});return[A({},k,{key:"cells1",type:"cells",page:0,prevPages:l,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),A({},k,{key:"cells2",type:"cells",page:1,prevPages:l,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),T]},D.splitToCells=function(k){var T,b,d,l=[d=(b=(T=k).rowBlocks[T.page])?b.rows[0].rowIndex:0,b?d+b.rows.length:0];return(k.values||[]).slice(l[0],l[1]).map(function(T,b){return{keyWithinBlock:b+("string"==typeof T&&T.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:l[0]+b,column:k,calcdata:k.calcdata,page:k.page,rowBlocks:k.rowBlocks,value:T}})}},39754:function(ee,D,e){"use strict";var A=e(71828),k=e(44464),l=e(27670).c;ee.exports=function(T,b,d,a){function t(i,r){return A.coerce(T,b,k,i,r)}l(b,a,t),t("columnwidth"),t("header.values"),t("header.format"),t("header.align"),t("header.prefix"),t("header.suffix"),t("header.height"),t("header.line.width"),t("header.line.color"),t("header.fill.color"),A.coerceFont(t,"header.font",A.extendFlat({},a.font)),function(i,r){for(var o=i.header.values.length,s=(i.columnorder||[]).slice(0,o),u=s.slice().sort(function(x,g){return x-g}),p=s.map(function(x){return u.indexOf(x)}),c=p.length;c<o;c++)p.push(c);r("columnorder",p)}(b,t),t("cells.values"),t("cells.format"),t("cells.align"),t("cells.prefix"),t("cells.suffix"),t("cells.height"),t("cells.line.width"),t("cells.line.color"),t("cells.fill.color"),A.coerceFont(t,"cells.font",A.extendFlat({},a.font)),b._length=null}},96595:function(ee,D,e){"use strict";ee.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(ee,D,e){"use strict";var A=e(49850),k=e(39898),l=e(71828).numberFormat,T=e(28984),b=e(91424),d=e(63893),a=e(71828).raiseToTop,t=e(71828).strTranslate,i=e(71828).cancelTransition,r=e(51018),n=e(56269),o=e(7901);function s(j){return Math.ceil(j.calcdata.maxLineWidth/2)}function u(j,G){return"clip"+j._fullLayout._uid+"_scrollAreaBottomClip_"+G.key}function p(j,G){return"clip"+j._fullLayout._uid+"_columnBoundaryClippath_"+G.calcdata.key+"_"+G.specIndex}function c(j){return[].concat.apply([],j.map(function(G){return G})).map(function(G){return G.__data__})}function x(j,G,te){var J=j.selectAll("."+A.cn.scrollbarKit).data(T.repeat,T.keyFun);J.enter().append("g").classed(A.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),J.each(function(ne){var ue,re=ne.scrollbarState;re.totalHeight=P(ue=ne.rowBlocks,ue.length-1)+(ue.length?U(ue[ue.length-1],1/0):1),re.scrollableAreaHeight=ne.groupHeight-S(ne),re.currentlyVisibleHeight=Math.min(re.totalHeight,re.scrollableAreaHeight),re.ratio=re.currentlyVisibleHeight/re.totalHeight,re.barLength=Math.max(re.ratio*re.currentlyVisibleHeight,A.goldenRatio*A.scrollbarWidth),re.barWiggleRoom=re.currentlyVisibleHeight-re.barLength,re.wiggleRoom=Math.max(0,re.totalHeight-re.scrollableAreaHeight),re.topY=0===re.barWiggleRoom?0:ne.scrollY/re.wiggleRoom*re.barWiggleRoom,re.bottomY=re.topY+re.barLength,re.dragMultiplier=re.wiggleRoom/re.barWiggleRoom}).attr("transform",function(ne){return t(ne.width+A.scrollbarWidth/2+A.scrollbarOffset,S(ne))});var X=J.selectAll("."+A.cn.scrollbar).data(T.repeat,T.keyFun);X.enter().append("g").classed(A.cn.scrollbar,!0);var Y=X.selectAll("."+A.cn.scrollbarSlider).data(T.repeat,T.keyFun);Y.enter().append("g").classed(A.cn.scrollbarSlider,!0),Y.attr("transform",function(ne){return t(0,ne.scrollbarState.topY||0)});var W=Y.selectAll("."+A.cn.scrollbarGlyph).data(T.repeat,T.keyFun);W.enter().append("line").classed(A.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",A.scrollbarWidth).attr("stroke-linecap","round").attr("y1",A.scrollbarWidth/2),W.attr("y2",function(ne){return ne.scrollbarState.barLength-A.scrollbarWidth/2}).attr("stroke-opacity",function(ne){return ne.columnDragInProgress||!ne.scrollbarState.barWiggleRoom||te?0:.4}),W.transition().delay(0).duration(0),W.transition().delay(A.scrollbarHideDelay).duration(A.scrollbarHideDuration).attr("stroke-opacity",0);var $=X.selectAll("."+A.cn.scrollbarCaptureZone).data(T.repeat,T.keyFun);$.enter().append("line").classed(A.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",A.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ne){var re=k.event.y,oe=this.getBoundingClientRect(),ue=ne.scrollbarState,xe=re-oe.top,Me=k.scale.linear().domain([0,ue.scrollableAreaHeight]).range([0,ue.totalHeight]).clamp(!0);ue.topY<=xe&&xe<=ue.bottomY||E(G,j,null,Me(xe-ue.barLength/2))(ne)}).call(k.behavior.drag().origin(function(ne){return k.event.stopPropagation(),ne.scrollbarState.scrollbarScrollInProgress=!0,ne}).on("drag",E(G,j)).on("dragend",function(){})),$.attr("y2",function(ne){return ne.scrollbarState.scrollableAreaHeight}),G._context.staticPlot&&(W.remove(),$.remove())}function g(j,G,te,J){var oe,Y=function(re){var oe=re.selectAll("."+A.cn.columnCell).data(n.splitToCells,function(ue){return ue.keyWithinBlock});return oe.enter().append("g").classed(A.cn.columnCell,!0),oe.exit().remove(),oe}(((oe=te.selectAll("."+A.cn.columnCells).data(T.repeat,T.keyFun)).enter().append("g").classed(A.cn.columnCells,!0),oe.exit().remove(),oe));Y.each(function(oe,ue){var xe=oe.calcdata.cells.font,Me=oe.column.specIndex,me={size:v(xe.size,Me,ue),color:v(xe.color,Me,ue),family:v(xe.family,Me,ue)};oe.rowNumber=oe.key,oe.align=v(oe.calcdata.cells.align,Me,ue),oe.cellBorderWidth=v(oe.calcdata.cells.line.width,Me,ue),oe.font=me});var W=function(re){var oe=re.selectAll("."+A.cn.cellRect).data(T.repeat,function(ue){return ue.keyWithinBlock});return oe.enter().append("rect").classed(A.cn.cellRect,!0),oe}(Y);!function(re){re.attr("width",function(oe){return oe.column.columnWidth}).attr("stroke-width",function(oe){return oe.cellBorderWidth}).each(function(oe){var ue=k.select(this);o.stroke(ue,v(oe.calcdata.cells.line.color,oe.column.specIndex,oe.rowNumber)),o.fill(ue,v(oe.calcdata.cells.fill.color,oe.column.specIndex,oe.rowNumber))})}(W);var $=function(re){var oe=re.selectAll("."+A.cn.cellTextHolder).data(T.repeat,function(ue){return ue.keyWithinBlock});return oe.enter().append("g").classed(A.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),oe}(Y),ne=function(re){var oe=re.selectAll("."+A.cn.cellText).data(T.repeat,function(ue){return ue.keyWithinBlock});return oe.enter().append("text").classed(A.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){k.event.stopPropagation()}),oe}($);(function(re){re.each(function(oe){b.font(k.select(this),oe.font)})})(ne),h(ne,G,J,j),q(Y)}function h(j,G,te,J){j.text(function(X){var Y=X.column.specIndex,W=X.rowNumber,$=X.value,ne="string"==typeof $,re=ne&&$.match(/<br>/i),oe=!ne||re;X.mayHaveMarkup=ne&&$.match(/[<&>]/);var ue,xe="string"==typeof(ue=$)&&ue.match(A.latexCheck);X.latex=xe;var Me,me,pe=xe?"":v(X.calcdata.cells.prefix,Y,W)||"",ge=xe?"":v(X.calcdata.cells.suffix,Y,W)||"",Pe=xe?null:v(X.calcdata.cells.format,Y,W)||null,_e=pe+(Pe?l(Pe)(X.value):X.value)+ge;if(X.wrappingNeeded=!X.wrapped&&!oe&&!xe&&(Me=y(_e)),X.cellHeightMayIncrease=re||xe||X.mayHaveMarkup||(void 0===Me?y(_e):Me),X.needsConvertToTspans=X.mayHaveMarkup||X.wrappingNeeded||X.latex,X.wrappingNeeded){var we=(" "===A.wrapSplitCharacter?_e.replace(/<a href=/gi,"<a_href="):_e).split(A.wrapSplitCharacter),se=" "===A.wrapSplitCharacter?we.map(function(ae){return ae.replace(/<a_href=/gi,"<a href=")}):we;X.fragments=se.map(function(ae){return{text:ae,width:null}}),X.fragments.push({fragment:A.wrapSpacer,width:null}),me=se.join(A.lineBreaker)+A.lineBreaker+A.wrapSpacer}else delete X.fragments,me=_e;return me}).attr("dy",function(X){return X.needsConvertToTspans?0:"0.75em"}).each(function(X){var Y=this,W=k.select(Y);X.needsConvertToTspans?d.convertToTspans(W,J,(X.wrappingNeeded?C:O)(te,Y,G,J,X)):k.select(Y.parentNode).attr("transform",function(ne){return t(R(ne),A.cellPad)}).attr("text-anchor",function(ne){return{left:"start",center:"middle",right:"end"}[ne.align]})})}function y(j){return-1!==j.indexOf(A.wrapSplitCharacter)}function v(j,G,te){if(Array.isArray(j)){var J=j[Math.min(G,j.length-1)];return Array.isArray(J)?J[Math.min(te,J.length-1)]:J}return j}function m(j,G,te){j.transition().ease(A.releaseTransitionEase).duration(A.releaseTransitionDuration).attr("transform",t(G.x,te))}function _(j){return"cells"===j.type}function f(j){return"header"===j.type}function S(j){return(j.rowBlocks.length?j.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(G,te){return G+U(te,1/0)},0)}function w(j,G,te){var J=c(G)[0];if(void 0!==J){var X=J.rowBlocks,Y=J.calcdata,W=P(X,X.length),$=J.calcdata.groupHeight-S(J),ne=Y.scrollY=Math.max(0,Math.min(W-$,Y.scrollY)),re=function(oe,ue,xe){for(var Me=[],me=0,pe=0;pe<oe.length;pe++){for(var ge=oe[pe],Pe=ge.rows,_e=0,we=0;we<Pe.length;we++)_e+=Pe[we].rowHeight;ge.allRowsHeight=_e,ue<me+_e&&ue+xe>me&&Me.push(pe),me+=_e}return Me}(X,ne,$);1===re.length&&(re[0]===X.length-1?re.unshift(re[0]-1):re.push(re[0]+1)),re[0]%2&&re.reverse(),G.each(function(oe,ue){oe.page=re[ue],oe.scrollY=ne}),G.attr("transform",function(oe){var ue=P(oe.rowBlocks,oe.page)-oe.scrollY;return t(0,ue)}),j&&(L(j,te,G,re,J.prevPages,J,0),L(j,te,G,re,J.prevPages,J,1),x(te,j))}}function E(j,G,te,J){return function(X){var Y=X.calcdata?X.calcdata:X,W=G.filter(function(oe){return Y.key===oe.key}),ne=Y.scrollY;Y.scrollY=void 0===J?Y.scrollY+(te||Y.scrollbarState.dragMultiplier)*k.event.dy:J;var re=W.selectAll("."+A.cn.yColumn).selectAll("."+A.cn.columnBlock).filter(_);return w(j,re,W),Y.scrollY===ne}}function L(j,G,te,J,X,Y,W){J[W]!==X[W]&&(clearTimeout(Y.currentRepaint[W]),Y.currentRepaint[W]=setTimeout(function(){var $=te.filter(function(ne,re){return re===W&&J[re]!==X[re]});g(j,G,$,te),X[W]=J[W]}))}function C(j,G,te,J){return function(){var X=k.select(G.parentNode);X.each(function(Y){var W=Y.fragments;X.selectAll("tspan.line").each(function(me,pe){W[pe].width=this.getComputedTextLength()});var $,ne,re=W[W.length-1].width,oe=W.slice(0,-1),ue=[],xe=0,Me=Y.column.columnWidth-2*A.cellPad;for(Y.value="";oe.length;)xe+(ne=($=oe.shift()).width+re)>Me&&(Y.value+=ue.join(A.wrapSpacer)+A.lineBreaker,ue=[],xe=0),ue.push($.text),xe+=ne;xe&&(Y.value+=ue.join(A.wrapSpacer)),Y.wrapped=!0}),X.selectAll("tspan.line").remove(),h(X.select("."+A.cn.cellText),te,j,J),k.select(G.parentNode.parentNode).call(q)}}function O(j,G,te,J,X){return function(){if(!X.settledY){var Y=k.select(G.parentNode),W=F(X),$=X.key-W.firstRowIndex,ne=W.rows[$].rowHeight,re=X.cellHeightMayIncrease?G.parentNode.getBoundingClientRect().height+2*A.cellPad:ne,oe=Math.max(re,ne);oe-W.rows[$].rowHeight&&(W.rows[$].rowHeight=oe,j.selectAll("."+A.cn.columnCell).call(q),w(null,j.filter(_),0),x(te,J,!0)),Y.attr("transform",function(){var xe=this.parentNode.getBoundingClientRect(),Me=k.select(this.parentNode).select("."+A.cn.cellRect).node().getBoundingClientRect(),me=this.transform.baseVal.consolidate(),pe=Me.top-xe.top+(me?me.matrix.f:A.cellPad);return t(R(X,k.select(this.parentNode).select("."+A.cn.cellTextHolder).node().getBoundingClientRect().width),pe)}),X.settledY=!0}}}function R(j,G){switch(j.align){case"left":default:return A.cellPad;case"right":return j.column.columnWidth-(G||0)-A.cellPad;case"center":return(j.column.columnWidth-(G||0))/2}}function q(j){j.attr("transform",function(G){var te=G.rowBlocks[0].auxiliaryBlocks.reduce(function(X,Y){return X+U(Y,1/0)},0),J=U(F(G),G.key);return t(0,J+te)}).selectAll("."+A.cn.cellRect).attr("height",function(G){return(te=F(G),J=G.key,te.rows[J-te.firstRowIndex]).rowHeight;var te,J})}function P(j,G){for(var te=0,J=G-1;J>=0;J--)te+=N(j[J]);return te}function U(j,G){for(var te=0,J=0;J<j.rows.length&&j.rows[J].rowIndex<G;J++)te+=j.rows[J].rowHeight;return te}function N(j){var G=j.allRowsHeight;if(void 0!==G)return G;for(var te=0,J=0;J<j.rows.length;J++)te+=j.rows[J].rowHeight;return j.allRowsHeight=te,te}function F(j){return j.rowBlocks[j.page]}ee.exports=function(j,G){var te=!j._context.staticPlot,J=j._fullLayout._paper.selectAll("."+A.cn.table).data(G.map(function(ge){var Pe=T.unwrap(ge).trace;return r(j,Pe)}),T.keyFun);J.exit().remove(),J.enter().append("g").classed(A.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),J.attr("width",function(ge){return ge.width+ge.size.l+ge.size.r}).attr("height",function(ge){return ge.height+ge.size.t+ge.size.b}).attr("transform",function(ge){return t(ge.translateX,ge.translateY)});var X=J.selectAll("."+A.cn.tableControlView).data(T.repeat,T.keyFun),Y=X.enter().append("g").classed(A.cn.tableControlView,!0).style("box-sizing","content-box");if(te){var W="onwheel"in document?"wheel":"mousewheel";Y.on("mousemove",function(ge){X.filter(function(Pe){return ge===Pe}).call(x,j)}).on(W,function(ge){ge.scrollbarState.wheeling||(ge.scrollbarState.wheeling=!0,E(j,X,null,ge.scrollY+k.event.deltaY)(ge)||(k.event.stopPropagation(),k.event.preventDefault()),ge.scrollbarState.wheeling=!1)}).call(x,j,!0)}X.attr("transform",function(ge){return t(ge.size.l,ge.size.t)});var $=X.selectAll("."+A.cn.scrollBackground).data(T.repeat,T.keyFun);$.enter().append("rect").classed(A.cn.scrollBackground,!0).attr("fill","none"),$.attr("width",function(ge){return ge.width}).attr("height",function(ge){return ge.height}),X.each(function(ge){b.setClipUrl(k.select(this),u(j,ge),j)});var ne=X.selectAll("."+A.cn.yColumn).data(function(ge){return ge.columns},T.keyFun);ne.enter().append("g").classed(A.cn.yColumn,!0),ne.exit().remove(),ne.attr("transform",function(ge){return t(ge.x,0)}),te&&ne.call(k.behavior.drag().origin(function(ge){return m(k.select(this),ge,-A.uplift),a(this),ge.calcdata.columnDragInProgress=!0,x(X.filter(function(Pe){return ge.calcdata.key===Pe.key}),j),ge}).on("drag",function(ge){var Pe=k.select(this),_e=function(we){return(ge===we?k.event.x:we.x)+we.columnWidth/2};ge.x=Math.max(-A.overdrag,Math.min(ge.calcdata.width+A.overdrag-ge.columnWidth,k.event.x)),c(ne).filter(function(we){return we.calcdata.key===ge.calcdata.key}).sort(function(we,se){return _e(we)-_e(se)}).forEach(function(we,se){we.xIndex=se,we.x=ge===we?we.x:we.xScale(we)}),ne.filter(function(we){return ge!==we}).transition().ease(A.transitionEase).duration(A.transitionDuration).attr("transform",function(we){return t(we.x,0)}),Pe.call(i).attr("transform",t(ge.x,-A.uplift))}).on("dragend",function(ge){var we,se,ae,fe,Pe=k.select(this),_e=ge.calcdata;ge.x=ge.xScale(ge),ge.calcdata.columnDragInProgress=!1,m(Pe,ge,0),we=j,se=_e,ae=_e.columns.map(function(we){return we.xIndex}),fe=se.gdColumnsOriginalOrder,se.gdColumns.sort(function(Ee,ke){return ae[fe.indexOf(Ee)]-ae[fe.indexOf(ke)]}),se.columnorder=ae,we.emit("plotly_restyle")})),ne.each(function(ge){b.setClipUrl(k.select(this),p(j,ge),j)});var re=ne.selectAll("."+A.cn.columnBlock).data(n.splitToPanels,T.keyFun);re.enter().append("g").classed(A.cn.columnBlock,!0).attr("id",function(ge){return ge.key}),re.style("cursor",function(ge){return ge.dragHandle?"ew-resize":ge.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var oe=re.filter(f),ue=re.filter(_);te&&ue.call(k.behavior.drag().origin(function(ge){return k.event.stopPropagation(),ge}).on("drag",E(j,X,-1)).on("dragend",function(){})),g(j,X,oe,re),g(j,X,ue,re);var xe=X.selectAll("."+A.cn.scrollAreaClip).data(T.repeat,T.keyFun);xe.enter().append("clipPath").classed(A.cn.scrollAreaClip,!0).attr("id",function(ge){return u(j,ge)});var Me=xe.selectAll("."+A.cn.scrollAreaClipRect).data(T.repeat,T.keyFun);Me.enter().append("rect").classed(A.cn.scrollAreaClipRect,!0).attr("x",-A.overdrag).attr("y",-A.uplift).attr("fill","none"),Me.attr("width",function(ge){return ge.width+2*A.overdrag}).attr("height",function(ge){return ge.height+A.uplift}),ne.selectAll("."+A.cn.columnBoundary).data(T.repeat,T.keyFun).enter().append("g").classed(A.cn.columnBoundary,!0);var me=ne.selectAll("."+A.cn.columnBoundaryClippath).data(T.repeat,T.keyFun);me.enter().append("clipPath").classed(A.cn.columnBoundaryClippath,!0),me.attr("id",function(ge){return p(j,ge)});var pe=me.selectAll("."+A.cn.columnBoundaryRect).data(T.repeat,T.keyFun);pe.enter().append("rect").classed(A.cn.columnBoundaryRect,!0).attr("fill","none"),pe.attr("width",function(ge){return ge.columnWidth+2*s(ge)}).attr("height",function(ge){return ge.calcdata.height+2*s(ge)+A.uplift}).attr("x",function(ge){return-s(ge)}).attr("y",function(ge){return-s(ge)}),w(null,ue,X)}},45802:function(ee,D,e){"use strict";var A=e(5386).fF,k=e(5386).si,l=e(50693),T=e(27670).Y,b=e(34e3),d=e(57564),a=e(43473),t=e(1426).extendFlat,i=e(79952).u;ee.exports={labels:d.labels,parents:d.parents,values:d.values,branchvalues:d.branchvalues,count:d.count,level:d.level,maxdepth:d.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:d.marker.colors,pattern:i,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:d.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},l("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},b.textfont,{}),editType:"calc"},text:b.text,textinfo:d.textinfo,texttemplate:k({editType:"plot"},{keys:a.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:d.hoverinfo,hovertemplate:A({},{keys:a.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:t({},b.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:b.sort,root:d.root,domain:T({name:"treemap",trace:!0,editType:"calc"})}},78018:function(ee,D,e){"use strict";var A=e(74875);D.name="treemap",D.plot=function(k,l,T,b){A.plotBasePlot(D.name,k,l,T,b)},D.clean=function(k,l,T,b){A.cleanBasePlot(D.name,k,l,T,b)}},65039:function(ee,D,e){"use strict";var A=e(52147);D.y=function(k,l){return A.calc(k,l)},D.T=function(k){return A._runCrossTraceCalc("treemap",k)}},43473:function(ee){"use strict";ee.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(ee,D,e){"use strict";var A=e(71828),k=e(45802),l=e(7901),T=e(27670).c,b=e(90769).handleText,d=e(97313).TEXTPAD,a=e(37434).handleMarkerDefaults,t=e(21081),i=t.hasColorscale,r=t.handleDefaults;ee.exports=function(n,o,s,u){function p(_,f){return A.coerce(n,o,k,_,f)}var c=p("labels"),x=p("parents");if(c&&c.length&&x&&x.length){var g=p("values");p(g&&g.length?"branchvalues":"count"),p("level"),p("maxdepth"),"squarify"===p("tiling.packing")&&p("tiling.squarifyratio"),p("tiling.flip"),p("tiling.pad");var h=p("text");p("texttemplate"),o.texttemplate||p("textinfo",Array.isArray(h)?"text+label":"label"),p("hovertext"),p("hovertemplate");var y=p("pathbar.visible");b(n,o,u,p,"auto",{hasPathbar:y,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),p("textposition");var v=-1!==o.textposition.indexOf("bottom");a(n,o,u,p),(o._hasColorscale=i(n,"marker","colors")||(n.marker||{}).coloraxis)?r(n,o,u,p,{prefix:"marker.",cLetter:"c"}):p("marker.depthfade",!(o.marker.colors||[]).length);var m=2*o.textfont.size;p("marker.pad.t",v?m/4:m),p("marker.pad.l",m/4),p("marker.pad.r",m/4),p("marker.pad.b",v?m:m/4),p("marker.cornerradius"),o._hovered={marker:{line:{width:2,color:l.contrast(u.paper_bgcolor)}}},y&&(p("pathbar.thickness",o.pathbar.textfont.size+2*d),p("pathbar.side"),p("pathbar.edgeshape")),p("sort"),p("root.color"),T(o,u,p),o._length=null}else o.visible=!1}},80694:function(ee,D,e){"use strict";var A=e(39898),k=e(2791),l=e(72597).clearMinTextSize,T=e(16688).resizeText,b=e(46650);ee.exports=function(d,a,t,i,r){var n,o,s=r.type,u=r.drawDescendants,p=d._fullLayout,c=p["_"+s+"layer"],x=!t;l(s,p),(n=c.selectAll("g.trace."+s).data(a,function(g){return g[0].trace.uid})).enter().append("g").classed("trace",!0).classed(s,!0),n.order(),!p.uniformtext.mode&&k.hasTransition(t)?(i&&(o=i()),A.transition().duration(t.duration).ease(t.easing).each("end",function(){o&&o()}).each("interrupt",function(){o&&o()}).each(function(){c.selectAll("g.trace").each(function(g){b(d,g,this,t,u)})})):(n.each(function(g){b(d,g,this,t,u)}),p.uniformtext.mode&&T(d,c.selectAll(".trace"),s)),x&&n.exit().remove()}},66209:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(91424),T=e(63893),b=e(37210),d=e(96362).styleOne,a=e(43473),t=e(2791),i=e(83523),r=!0;ee.exports=function(n,o,s,u,p){var c=p.barDifY,x=p.width,g=p.height,h=p.viewX,y=p.viewY,v=p.pathSlice,m=p.toMoveInsideSlice,_=p.strTransform,f=p.hasTransition,S=p.handleSlicesExit,w=p.makeUpdateSliceInterpolator,E=p.makeUpdateTextInterpolator,L={},C=n._context.staticPlot,O=n._fullLayout,R=o[0],q=R.trace,P=R.hierarchy,U=x/q._entryDepth,N=t.listPath(s.data,"id"),F=b(P.copy(),[x,g],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(F=F.filter(function(G){var te=N.indexOf(G.data.id);return-1!==te&&(G.x0=U*te,G.x1=U*(te+1),G.y0=c,G.y1=c+g,G.onPathbar=!0,!0)})).reverse(),(u=u.data(F,t.getPtId)).enter().append("g").classed("pathbar",!0),S(u,r,L,[x,g],v),u.order();var j=u;f&&(j=j.transition().each("end",function(){var G=A.select(this);t.setSliceCursor(G,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),j.each(function(G){G._x0=h(G.x0),G._x1=h(G.x1),G._y0=y(G.y0),G._y1=y(G.y1),G._hoverX=h(G.x1-Math.min(x,g)/2),G._hoverY=y(G.y1-g/2);var te=A.select(this),J=k.ensureSingle(te,"path","surface",function($){$.style("pointer-events",C?"none":"all")});f?J.transition().attrTween("d",function($){var ne=w($,r,L,[x,g]);return function(re){return v(ne(re))}}):J.attr("d",v),te.call(i,s,n,o,{styleOne:d,eventDataKeys:a.eventDataKeys,transitionTime:a.CLICK_TRANSITION_TIME,transitionEasing:a.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:n._transitioning}),J.call(d,G,q,n,{hovered:!1}),G._text=(t.getPtLabel(G)||"").split("<br>").join(" ")||"";var X=k.ensureSingle(te,"g","slicetext"),Y=k.ensureSingle(X,"text","",function($){$.attr("data-notex",1)}),W=k.ensureUniformFontSize(n,t.determineTextFont(q,G,O.font,{onPathbar:!0}));Y.text(G._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(l.font,W).call(T.convertToTspans,n),G.textBB=l.bBox(Y.node()),G.transform=m(G,{fontSize:W.size,onPathbar:!0}),G.transform.fontSize=W.size,f?Y.transition().attrTween("transform",function($){var ne=E($,r,L,[x,g]);return function(re){return _(ne(re))}}):Y.attr("transform",_(G))})}},52583:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(91424),T=e(63893),b=e(37210),d=e(96362).styleOne,a=e(43473),t=e(2791),i=e(83523),r=e(24714).formatSliceLabel,n=!1;ee.exports=function(o,s,u,p,c){var x=c.width,g=c.height,h=c.viewX,y=c.viewY,v=c.pathSlice,m=c.toMoveInsideSlice,_=c.strTransform,f=c.hasTransition,S=c.handleSlicesExit,w=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,L=c.prevEntry,C=o._context.staticPlot,O=o._fullLayout,R=s[0].trace,q=-1!==R.textposition.indexOf("left"),P=-1!==R.textposition.indexOf("right"),U=-1!==R.textposition.indexOf("bottom"),N=!U&&!R.marker.pad.t||U&&!R.marker.pad.b,F=b(u,[x,g],{packing:R.tiling.packing,squarifyratio:R.tiling.squarifyratio,flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1,pad:{inner:R.tiling.pad,top:R.marker.pad.t,left:R.marker.pad.l,right:R.marker.pad.r,bottom:R.marker.pad.b}}).descendants(),j=1/0,G=-1/0;F.forEach(function(W){var $=W.depth;$>=R._maxDepth?(W.x0=W.x1=(W.x0+W.x1)/2,W.y0=W.y1=(W.y0+W.y1)/2):(j=Math.min(j,$),G=Math.max(G,$))}),p=p.data(F,t.getPtId),R._maxVisibleLayers=isFinite(G)?G-j+1:0,p.enter().append("g").classed("slice",!0),S(p,n,{},[x,g],v),p.order();var te=null;if(f&&L){var J=t.getPtId(L);p.each(function(W){null===te&&t.getPtId(W)===J&&(te={x0:W.x0,x1:W.x1,y0:W.y0,y1:W.y1})})}var X=function(){return te||{x0:0,x1:x,y0:0,y1:g}},Y=p;return f&&(Y=Y.transition().each("end",function(){var W=A.select(this);t.setSliceCursor(W,o,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(W){var $=t.isHeader(W,R);W._x0=h(W.x0),W._x1=h(W.x1),W._y0=y(W.y0),W._y1=y(W.y1),W._hoverX=h(W.x1-R.marker.pad.r),W._hoverY=y(U?W.y1-R.marker.pad.b/2:W.y0+R.marker.pad.t/2);var ne=A.select(this),re=k.ensureSingle(ne,"path","surface",function(Me){Me.style("pointer-events",C?"none":"all")});f?re.transition().attrTween("d",function(Me){var me=w(Me,n,X(),[x,g]);return function(pe){return v(me(pe))}}):re.attr("d",v),ne.call(i,u,o,s,{styleOne:d,eventDataKeys:a.eventDataKeys,transitionTime:a.CLICK_TRANSITION_TIME,transitionEasing:a.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,o,{isTransitioning:o._transitioning}),re.call(d,W,R,o,{hovered:!1}),W._text=W.x0===W.x1||W.y0===W.y1?"":$?N?"":t.getPtLabel(W)||"":r(W,u,R,s,O)||"";var oe=k.ensureSingle(ne,"g","slicetext"),ue=k.ensureSingle(oe,"text","",function(Me){Me.attr("data-notex",1)}),xe=k.ensureUniformFontSize(o,t.determineTextFont(R,W,O.font));ue.text(W._text||" ").classed("slicetext",!0).attr("text-anchor",P?"end":q||$?"start":"middle").call(l.font,xe).call(T.convertToTspans,o),W.textBB=l.bBox(ue.node()),W.transform=m(W,{fontSize:xe.size,isHeader:$}),W.transform.fontSize=xe.size,f?ue.transition().attrTween("transform",function(Me){var me=E(Me,n,X(),[x,g]);return function(pe){return _(me(pe))}}):ue.attr("transform",_(W))}),te}},14102:function(ee){"use strict";ee.exports=function D(e,A,k){var l;k.swapXY&&(l=e.x0,e.x0=e.y0,e.y0=l,l=e.x1,e.x1=e.y1,e.y1=l),k.flipX&&(l=e.x0,e.x0=A[0]-e.x1,e.x1=A[0]-l),k.flipY&&(l=e.y0,e.y0=A[1]-e.y1,e.y1=A[1]-l);var T=e.children;if(T)for(var b=0;b<T.length;b++)D(T[b],A,k)}},70954:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(ee){"use strict";ee.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(ee,D,e){"use strict";var A=e(71828),k=e(55479);ee.exports=function(l,T){function b(d,a){return A.coerce(l,T,k,d,a)}b("treemapcolorway",T.colorway),b("extendtreemapcolors")}},37210:function(ee,D,e){"use strict";var A=e(674),k=e(14102);ee.exports=function(l,T,b){var d,a=b.flipX,t=b.flipY,i="dice-slice"===b.packing,r=b.pad[t?"bottom":"top"],n=b.pad[a?"right":"left"],o=b.pad[a?"left":"right"],s=b.pad[t?"top":"bottom"];i&&(d=n,n=r,r=d,d=o,o=s,s=d);var u=A.treemap().tile(function(p,c){switch(p){case"squarify":return A.treemapSquarify.ratio(c);case"binary":return A.treemapBinary;case"dice":return A.treemapDice;case"slice":return A.treemapSlice;default:return A.treemapSliceDice}}(b.packing,b.squarifyratio)).paddingInner(b.pad.inner).paddingLeft(n).paddingRight(o).paddingTop(r).paddingBottom(s).size(i?[T[1],T[0]]:T)(l);return(i||a||t)&&k(u,T,{swapXY:i,flipX:a,flipY:t}),u}},5893:function(ee,D,e){"use strict";var A=e(80694),k=e(52583);ee.exports=function(l,T,b,d){return A(l,T,b,d,{type:"treemap",drawDescendants:k})}},46650:function(ee,D,e){"use strict";var A=e(39898),k=e(81684).sX,l=e(2791),T=e(71828),b=e(97313).TEXTPAD,d=e(17295).toMoveInsideBar,a=e(72597).recordMinTextSize,t=e(43473),i=e(66209);function r(n){return l.isHierarchyRoot(n)?"":l.getPtId(n)}ee.exports=function(n,o,s,u,p){var c=n._fullLayout,x=o[0],g=x.trace,h="icicle"===g.type,y=x.hierarchy,v=l.findEntryWithLevel(y,g.level),m=A.select(s),_=m.selectAll("g.pathbar"),f=m.selectAll("g.slice");if(!v)return _.remove(),void f.remove();var S=l.isHierarchyRoot(v),w=!c.uniformtext.mode&&l.hasTransition(u),E=l.getMaxDepth(g),L=c._size,C=g.domain,O=L.w*(C.x[1]-C.x[0]),R=L.h*(C.y[1]-C.y[0]),q=O,P=g.pathbar.thickness,U=g.marker.line.width+t.gapWithPathbar,N=g.pathbar.visible?g.pathbar.side.indexOf("bottom")>-1?R+U:-(P+U):0,F={x0:q,x1:q,y0:N,y1:N+P},j=function(ve,Ce,Re){var Oe=g.tiling.pad,je=function(Qe){return Qe-Oe<=Ce.x0},qe=function(Qe){return Qe+Oe>=Ce.x1},Je=function(Qe){return Qe-Oe<=Ce.y0},it=function(Qe){return Qe+Oe>=Ce.y1};return ve.x0===Ce.x0&&ve.x1===Ce.x1&&ve.y0===Ce.y0&&ve.y1===Ce.y1?{x0:ve.x0,x1:ve.x1,y0:ve.y0,y1:ve.y1}:{x0:je(ve.x0-Oe)?0:qe(ve.x0-Oe)?Re[0]:ve.x0,x1:je(ve.x1+Oe)?0:qe(ve.x1+Oe)?Re[0]:ve.x1,y0:Je(ve.y0-Oe)?0:it(ve.y0-Oe)?Re[1]:ve.y0,y1:Je(ve.y1+Oe)?0:it(ve.y1+Oe)?Re[1]:ve.y1}},G=null,te={},J={},X=null,Y=function(ve,Ce){return Ce?te[r(ve)]:J[r(ve)]};x.hasMultipleRoots&&S&&E++,g._maxDepth=E,g._backgroundColor=c.paper_bgcolor,g._entryDepth=v.data.depth,g._atRootLevel=S;var W=-O/2+L.l+L.w*(C.x[1]+C.x[0])/2,$=-R/2+L.t+L.h*(1-(C.y[1]+C.y[0])/2),ne=function(ve){return W+ve},re=function(ve){return $+ve},oe=re(0),ue=ne(0),xe=function(ve){return ue+ve},Me=function(ve){return oe+ve};function me(ve,Ce){return ve+","+Ce}var pe=xe(0),ge=function(ve){ve.x=Math.max(pe,ve.x)},Pe=g.pathbar.edgeshape,_e=g[h?"tiling":"marker"].pad,we=function(ve){return-1!==g.textposition.indexOf(ve)},se=we("top"),ae=we("left"),fe=we("right"),Ee=we("bottom"),ke=function(ve,Ce){var Re=ve.x0,Oe=ve.x1,je=ve.y0,qe=ve.y1,Je=ve.textBB,it=se||Ce.isHeader&&!Ee?"start":Ee?"end":"middle",Qe=we("right"),dt=we("left")||Ce.onPathbar?-1:Qe?1:0;if(Ce.isHeader){if((Re+=(h?_e:_e.l)-b)>=(Oe-=(h?_e:_e.r)-b)){var yt=(Re+Oe)/2;Re=yt,Oe=yt}var mt;Ee?je<(mt=qe-(h?_e:_e.b))&&mt<qe&&(je=mt):je<(mt=je+(h?_e:_e.t))&&mt<qe&&(qe=mt)}var at=d(Re,Oe,je,qe,Je,{isHorizontal:!1,constrained:!0,angle:0,anchor:it,leftToRight:dt});return at.fontSize=Ce.fontSize,at.targetX=ne(at.targetX),at.targetY=re(at.targetY),isNaN(at.targetX)||isNaN(at.targetY)?{}:(Re!==Oe&&je!==qe&&a(g.type,at,c),{scale:at.scale,rotate:at.rotate,textX:at.textX,textY:at.textY,anchorX:at.anchorX,anchorY:at.anchorY,targetX:at.targetX,targetY:at.targetY})},be=function(ve,Ce){for(var Re,Oe=0,je=ve;!Re&&Oe<E;)Oe++,(je=je.parent)?Re=Y(je,Ce):Oe=E;return Re||{}},Ie=function(ve,Ce,Re,Oe,je){var qe,Je=Y(ve,Ce);if(Je)qe=Je;else if(Ce)qe=F;else if(G)if(ve.parent){var it=X||Re;it&&!Ce?qe=j(ve,it,Oe):T.extendFlat(qe={},be(ve,Ce))}else qe=T.extendFlat({},ve),h&&("h"===je.orientation?je.flipX?qe.x0=ve.x1:qe.x1=0:je.flipY?qe.y0=ve.y1:qe.y1=0);else qe={};return k(qe,{x0:ve.x0,x1:ve.x1,y0:ve.y0,y1:ve.y1})},Fe=function(ve,Ce,Re,Oe){var Qe,yt,mt,je=Y(ve,Ce),qe={},Je=(Qe=ve,yt=Re,mt=Oe,Ce?te[r(y)]||F:Qe.data.depth-v.data.depth<E?j(Qe,J[g.level]||yt,mt):{});T.extendFlat(qe,{transform:ke({x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1,textBB:ve.textBB,_text:ve._text},{isHeader:l.isHeader(ve,g)})}),je?qe=je:ve.parent&&T.extendFlat(qe,be(ve,Ce));var it=ve.transform;return ve.x0!==ve.x1&&ve.y0!==ve.y1&&a(g.type,it,c),k(qe,{transform:{scale:it.scale,rotate:it.rotate,textX:it.textX,textY:it.textY,anchorX:it.anchorX,anchorY:it.anchorY,targetX:it.targetX,targetY:it.targetY}})},ce=function(ve,Ce,Re,Oe,je){var qe=Oe[0],Je=Oe[1];w?ve.exit().transition().each(function(){var it=A.select(this);it.select("path.surface").transition().attrTween("d",function(Qe){var dt=function(yt,mt,at,st){var Tt,At=Y(yt,mt);if(mt)Tt=F;else{var Pt=Y(v,mt);Tt=Pt?j(yt,Pt,st):{}}return k(At,Tt)}(Qe,Ce,0,[qe,Je]);return function(yt){return je(dt(yt))}}),it.select("g.slicetext").attr("opacity",0)}).remove():ve.exit().remove()},Te=function(ve){var Ce=ve.transform;return ve.x0!==ve.x1&&ve.y0!==ve.y1&&a(g.type,Ce,c),T.getTextTransform({textX:Ce.textX,textY:Ce.textY,anchorX:Ce.anchorX,anchorY:Ce.anchorY,targetX:Ce.targetX,targetY:Ce.targetY,scale:Ce.scale,rotate:Ce.rotate})};w&&(_.each(function(ve){te[r(ve)]={x0:ve.x0,x1:ve.x1,y0:ve.y0,y1:ve.y1},ve.transform&&(te[r(ve)].transform={textX:ve.transform.textX,textY:ve.transform.textY,anchorX:ve.transform.anchorX,anchorY:ve.transform.anchorY,targetX:ve.transform.targetX,targetY:ve.transform.targetY,scale:ve.transform.scale,rotate:ve.transform.rotate})}),f.each(function(ve){J[r(ve)]={x0:ve.x0,x1:ve.x1,y0:ve.y0,y1:ve.y1},ve.transform&&(J[r(ve)].transform={textX:ve.transform.textX,textY:ve.transform.textY,anchorX:ve.transform.anchorX,anchorY:ve.transform.anchorY,targetX:ve.transform.targetX,targetY:ve.transform.targetY,scale:ve.transform.scale,rotate:ve.transform.rotate}),!G&&l.isEntry(ve)&&(G=ve)})),X=p(n,o,v,f,{width:O,height:R,viewX:ne,viewY:re,pathSlice:function(ve){var Ce=ne(ve.x0),Re=ne(ve.x1),Oe=re(ve.y0),je=re(ve.y1),qe=Re-Ce,Je=je-Oe;if(!qe||!Je)return"";var Qe=Math.min(g.marker.cornerradius||0,qe/2,Je/2);Qe&&ve.data&&ve.data.data&&ve.data.data.label&&(se&&(Qe=Math.min(Qe,_e.t)),ae&&(Qe=Math.min(Qe,_e.l)),fe&&(Qe=Math.min(Qe,_e.r)),Ee&&(Qe=Math.min(Qe,_e.b)));var dt=function(yt,mt){return Qe?"a"+me(Qe,Qe)+" 0 0 1 "+me(yt,mt):""};return"M"+me(Ce,Oe+Qe)+dt(Qe,-Qe)+"L"+me(Re-Qe,Oe)+dt(Qe,Qe)+"L"+me(Re,je-Qe)+dt(-Qe,Qe)+"L"+me(Ce+Qe,je)+dt(-Qe,-Qe)+"Z"},toMoveInsideSlice:ke,prevEntry:G,makeUpdateSliceInterpolator:Ie,makeUpdateTextInterpolator:Fe,handleSlicesExit:ce,hasTransition:w,strTransform:Te}),g.pathbar.visible?i(n,o,v,_,{barDifY:N,width:q,height:P,viewX:xe,viewY:Me,pathSlice:function(ve){var Ce=xe(Math.max(Math.min(ve.x0,ve.x0),0)),Re=xe(Math.min(Math.max(ve.x1,ve.x1),q)),Oe=Me(ve.y0),je=Me(ve.y1),qe=P/2,Je={},it={};Je.x=Ce,it.x=Re,Je.y=it.y=(Oe+je)/2;var Qe={x:Ce,y:Oe},dt={x:Re,y:Oe},yt={x:Re,y:je},mt={x:Ce,y:je};return">"===Pe?(Qe.x-=qe,dt.x-=qe,yt.x-=qe,mt.x-=qe):"/"===Pe?(yt.x-=qe,mt.x-=qe,Je.x-=qe/2,it.x-=qe/2):"\\"===Pe?(Qe.x-=qe,dt.x-=qe,Je.x-=qe/2,it.x-=qe/2):"<"===Pe&&(Je.x-=qe,it.x-=qe),ge(Qe),ge(mt),ge(Je),ge(dt),ge(yt),ge(it),"M"+me(Qe.x,Qe.y)+"L"+me(dt.x,dt.y)+"L"+me(it.x,it.y)+"L"+me(yt.x,yt.y)+"L"+me(mt.x,mt.y)+"L"+me(Je.x,Je.y)+"Z"},toMoveInsideSlice:ke,makeUpdateSliceInterpolator:Ie,makeUpdateTextInterpolator:Fe,handleSlicesExit:ce,hasTransition:w,strTransform:Te}):_.remove()}},96362:function(ee,D,e){"use strict";var A=e(39898),k=e(7901),l=e(71828),T=e(2791),b=e(72597).resizeText,d=e(43467);function a(t,i,r,n,o){var s,u,p=(o||{}).hovered,c=i.data.data,x=c.i,g=c.color,h=T.isHierarchyRoot(i),y=1;if(p)s=r._hovered.marker.line.color,u=r._hovered.marker.line.width;else if(h&&g===r.root.color)y=100,s="rgba(0,0,0,0)",u=0;else if(s=l.castOption(r,x,"marker.line.color")||k.defaultLine,u=l.castOption(r,x,"marker.line.width")||0,!r._hasColorscale&&!i.onPathbar){var v=r.marker.depthfade;if(v){var m,_=k.combine(k.addOpacity(r._backgroundColor,.75),g);if(!0===v){var f=T.getMaxDepth(r);m=isFinite(f)?T.isLeaf(i)?0:r._maxVisibleLayers-(i.data.depth-r._entryDepth):i.data.height+1}else m=i.data.depth-r._entryDepth,r._atRootLevel||m++;if(m>0)for(var S=0;S<m;S++)g=k.combine(k.addOpacity(_,.5*S/m),g)}}t.call(d,i,r,n,g).style("stroke-width",u).call(k.stroke,s).style("opacity",y)}ee.exports={style:function(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");b(t,i,"treemap"),i.each(function(r){var n=A.select(this),o=r[0].trace;n.style("opacity",o.opacity),n.selectAll("path.surface").each(function(s){A.select(this).call(a,s,o,t,{hovered:!1})})})},styleOne:a}},68875:function(ee,D,e){"use strict";var A=e(53522),k=e(1426).extendFlat,l=e(12663).axisHoverFormat;ee.exports={y:A.y,x:A.x,x0:A.x0,y0:A.y0,xhoverformat:l("x"),yhoverformat:l("y"),name:k({},A.name,{}),orientation:k({},A.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:A.fillcolor,points:k({},A.boxpoints,{}),jitter:k({},A.jitter,{}),pointpos:k({},A.pointpos,{}),width:k({},A.width,{}),marker:A.marker,text:A.text,hovertext:A.hovertext,hovertemplate:A.hovertemplate,quartilemethod:A.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,selected:A.selected,unselected:A.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(ee,D,e){"use strict";var A=e(71828),k=e(89298),l=e(48518),T=e(60168),b=e(50606).BADNUM;function d(t,i,r){var n=i.max-i.min;if(!n)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,n/1e4);var u,o=r.length,s=A.stdev(r,o-1,i.mean);return Math.max((u=o,1.059*Math.min(s,(i.q3-i.q1)/1.349)*Math.pow(u,-.2)),n/100)}function a(t,i,r,n){var o,s=t.spanmode,u=t.span||[],c=[i.min-2*n,i.max+2*n];function x(h){var y=u[h],v="multicategory"===r.type?r.r2c(y):r.d2c(y,0,t[i.valLetter+"calendar"]);return v===b?c[h]:v}var g={type:"linear",range:o="soft"===s?c:"hard"===s?[i.min,i.max]:[x(0),x(1)]};return k.setConvert(g),g.cleanRange(),o}ee.exports=function(t,i){var r=l(t,i);if(r[0].t.empty)return r;for(var n=t._fullLayout,o=k.getFromId(t,i["h"===i.orientation?"xaxis":"yaxis"]),s=1/0,u=-1/0,p=0,c=0,x=0;x<r.length;x++){var g=r[x],h=g.pts.map(T.extractVal),y=g.bandwidth=d(i,g,h),v=g.span=a(i,g,o,y);if(g.min===g.max&&0===y)v=g.span=[g.min,g.max],g.density=[{v:1,t:v[0]}],g.bandwidth=y,p=Math.max(p,1);else{var m=v[1]-v[0],_=Math.ceil(m/(y/3)),f=m/_;if(!isFinite(f)||!isFinite(_))return A.error("Something went wrong with computing the violin span"),r[0].t.empty=!0,r;var S=T.makeKDE(g,i,h);g.density=new Array(_);for(var w=0,E=v[0];E<v[1]+f/2;w++,E+=f){var L=S(E);g.density[w]={v:L,t:E},p=Math.max(p,L)}}c=Math.max(c,h.length),s=Math.min(s,v[0]),u=Math.max(u,v[1])}var C=k.findExtremes(o,[s,u],{padded:!0});if(i._extremes[o._id]=C,i.width)r[0].t.maxKDE=p;else{var O=n._violinScaleGroupStats,R=i.scalegroup,q=O[R];q?(q.maxKDE=Math.max(q.maxKDE,p),q.maxCount=Math.max(q.maxCount,c)):O[R]={maxKDE:p,maxCount:c}}return r[0].t.labels.kde=A._(t,"kde:"),r}},86403:function(ee,D,e){"use strict";var A=e(37188).setPositionOffset,k=["v","h"];ee.exports=function(l,T){for(var b=l.calcdata,d=T.xaxis,a=T.yaxis,t=0;t<k.length;t++){for(var i=k[t],r="h"===i?a:d,n=[],o=0;o<b.length;o++){var s=b[o],p=s[0].trace;!0!==p.visible||"violin"!==p.type||s[0].t.empty||p.orientation!==i||p.xaxis!==d._id||p.yaxis!==a._id||n.push(o)}A("violin",l,n,r)}}},15899:function(ee,D,e){"use strict";var A=e(71828),k=e(7901),l=e(36411),T=e(68875);ee.exports=function(b,d,a,t){function i(m,_){return A.coerce(b,d,T,m,_)}function r(m,_){return A.coerce2(b,d,T,m,_)}if(l.handleSampleDefaults(b,d,i,t),!1!==d.visible){i("bandwidth"),i("side"),i("width")||(i("scalegroup",d.name),i("scalemode"));var n,o=i("span");Array.isArray(o)&&(n="manual"),i("spanmode",n);var s=i("line.color",(b.marker||{}).color||a),u=i("line.width"),p=i("fillcolor",k.addOpacity(d.line.color,.5));l.handlePointsDefaults(b,d,i,{prefix:""});var c=r("box.width"),x=r("box.fillcolor",p),g=r("box.line.color",s),h=r("box.line.width",u);i("box.visible",!!(c||x||g||h))||(d.box={visible:!1});var y=r("meanline.color",s),v=r("meanline.width",u);i("meanline.visible",!(!y&&!v))||(d.meanline={visible:!1}),i("quartilemethod")}}},60168:function(ee,D,e){"use strict";var A=e(71828),k=function(l){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*l*l)};D.makeKDE=function(l,T,b){var d=b.length,a=k,t=l.bandwidth,i=1/(d*t);return function(r){for(var n=0,o=0;o<d;o++)n+=a((r-b[o])/t);return i*n}},D.getPositionOnKdePath=function(l,T,b){var d,a;"h"===T.orientation?(d="y",a="x"):(d="x",a="y");var t=A.findPointOnPath(l.path,b,a,{pathLength:l.pathLength}),i=l.posCenterPx,r=t[d];return[r,"both"===T.side?2*i-r:i]},D.getKdeValue=function(l,T,b){var d=l.pts.map(D.extractVal);return D.makeKDE(l,T,d)(b)/l.posDensityScale},D.extractVal=function(l){return l.v}},57634:function(ee,D,e){"use strict";var A=e(7901),k=e(71828),l=e(89298),T=e(41868),b=e(60168);ee.exports=function(d,a,t,i,r){r||(r={});var n,o,s=r.hoverLayer,u=d.cd,p=u[0].trace,c=p.hoveron,x=-1!==c.indexOf("violins"),g=-1!==c.indexOf("kde"),h=[];if(x||g){var y=T.hoverOnBoxes(d,a,t,i);if(g&&y.length>0){var v,m,_,f,S,w=d.xa,E=d.ya;"h"===p.orientation?(S=a,v="y",_=E,m="x",f=w):(S=t,v="x",_=w,m="y",f=E);var L=u[d.index];if(S>=L.span[0]&&S<=L.span[1]){var C=k.extendFlat({},d),O=f.c2p(S,!0),R=b.getKdeValue(L,p,S),q=b.getPositionOnKdePath(L,p,O),P=_._offset,U=_._length;C[v+"0"]=q[0],C[v+"1"]=q[1],C[m+"0"]=C[m+"1"]=O,C[m+"Label"]=m+": "+l.hoverLabelText(f,S,p[m+"hoverformat"])+", "+u[0].t.labels.kde+" "+R.toFixed(3);for(var N=0,F=0;F<y.length;F++)if("med"===y[F].attr){N=F;break}C.spikeDistance=y[N].spikeDistance;var j=v+"Spike";C[j]=y[N][j],y[N].spikeDistance=void 0,y[N][j]=void 0,C.hovertemplate=!1,h.push(C),(o={})[v+"1"]=k.constrain(P+q[0],P,P+U),o[v+"2"]=k.constrain(P+q[1],P,P+U),o[m+"1"]=o[m+"2"]=f._offset+O}}x&&(h=h.concat(y))}-1!==c.indexOf("points")&&(n=T.hoverOnPoints(d,a,t));var G=s.selectAll(".violinline-"+p.uid).data(o?[0]:[]);return G.enter().append("line").classed("violinline-"+p.uid,!0).attr("stroke-width",1.5),G.exit().remove(),G.attr(o).call(A.stroke,d.color),"closest"===i?n?[n]:h:(n&&h.push(n),h)}},47462:function(ee,D,e){"use strict";ee.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(ee,D,e){"use strict";var A=e(40094),k=e(71828).extendFlat;ee.exports={violinmode:k({},A.boxmode,{}),violingap:k({},A.boxgap,{}),violingroupgap:k({},A.boxgroupgap,{})}},33598:function(ee,D,e){"use strict";var A=e(71828),k=e(9228),l=e(4199);ee.exports=function(T,b,d){l._supply(T,b,d,function(a,t){return A.coerce(T,b,k,a,t)},"violin")}},28443:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(91424),T=e(86047),b=e(34621),d=e(60168);ee.exports=function(a,t,i,r){var n=a._context.staticPlot,o=a._fullLayout,s=t.xaxis,u=t.yaxis;function p(c,x){var g=b(c,{xaxis:s,yaxis:u,trace:x,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return l.smoothopen(g[0],1)}k.makeTraceGroups(r,i,"trace violins").each(function(c){var x=A.select(this),g=c[0],h=g.t,y=g.trace;if(!0!==y.visible||h.empty)x.remove();else{var v=h.bPos,m=h.bdPos,_=t[h.valLetter+"axis"],f=t[h.posLetter+"axis"],S="both"===y.side,w=S||"positive"===y.side,E=S||"negative"===y.side,L=x.selectAll("path.violin").data(k.identity);L.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","violin"),L.exit().remove(),L.each(function(F){var j,G,te,J,X,Y,W,$,ne=A.select(this),re=F.density,oe=re.length,ue=f.c2l(F.pos+v,!0),xe=f.l2p(ue);if(y.width)j=h.maxKDE/m;else{var Me=o._violinScaleGroupStats[y.scalegroup];j="count"===y.scalemode?Me.maxKDE/m*(Me.maxCount/F.pts.length):Me.maxKDE/m}if(w){for(W=new Array(oe),X=0;X<oe;X++)($=W[X]={})[h.posLetter]=ue+re[X].v/j,$[h.valLetter]=_.c2l(re[X].t,!0);G=p(W,y)}if(E){for(W=new Array(oe),Y=0,X=oe-1;Y<oe;Y++,X--)($=W[Y]={})[h.posLetter]=ue-re[X].v/j,$[h.valLetter]=_.c2l(re[X].t,!0);te=p(W,y)}if(S)J=G+"L"+te.substr(1)+"Z";else{var me=[xe,_.c2p(re[0].t)],pe=[xe,_.c2p(re[oe-1].t)];"h"===y.orientation&&(me.reverse(),pe.reverse()),J=w?"M"+me+"L"+G.substr(1)+"L"+pe:"M"+pe+"L"+te.substr(1)+"L"+me}ne.attr("d",J),F.posCenterPx=xe,F.posDensityScale=j*m,F.path=ne.node(),F.pathLength=F.path.getTotalLength()/(S?2:1)});var C,O,R,q=y.box,P=q.width,U=(q.line||{}).width;S?(C=m*P,O=0):w?(C=[0,m*P/2],O=U*{x:1,y:-1}[h.posLetter]):(C=[m*P/2,0],O=U*{x:-1,y:1}[h.posLetter]),T.plotBoxAndWhiskers(x,{pos:f,val:_},y,{bPos:v,bdPos:C,bPosPxOffset:O}),T.plotBoxMean(x,{pos:f,val:_},y,{bPos:v,bdPos:C,bPosPxOffset:O}),!y.box.visible&&y.meanline.visible&&(R=k.identity);var N=x.selectAll("path.meanline").data(R||[]);N.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",n?"none":"non-scaling-stroke"),N.exit().remove(),N.each(function(F){var j=_.c2p(F.mean,!0),G=d.getPositionOnKdePath(F,y,j);A.select(this).attr("d","h"===y.orientation?"M"+j+","+G[0]+"V"+G[1]:"M"+G[0]+","+j+"H"+G[1])}),T.plotPoints(x,{x:s,y:u},y,h)}})}},31847:function(ee,D,e){"use strict";var A=e(39898),k=e(7901),l=e(16296).stylePoints;ee.exports=function(T){var b=A.select(T).selectAll("g.trace.violins");b.style("opacity",function(d){return d[0].trace.opacity}),b.each(function(d){var a=d[0].trace,t=A.select(this),i=a.box||{},r=i.line||{},n=a.meanline||{},o=n.width;t.selectAll("path.violin").style("stroke-width",a.line.width+"px").call(k.stroke,a.line.color).call(k.fill,a.fillcolor),t.selectAll("path.box").style("stroke-width",r.width+"px").call(k.stroke,r.color).call(k.fill,i.fillcolor);var s={"stroke-width":o+"px","stroke-dasharray":2*o+"px,"+o+"px"};t.selectAll("path.mean").style(s).call(k.stroke,n.color),t.selectAll("path.meanline").style(s).call(k.stroke,n.color),l(t,a,T)})}},16336:function(ee,D,e){"use strict";var A=e(50693),k=e(16249),l=e(54532),T=e(9012),b=e(1426).extendFlat,d=e(30962).overrideAll,a=ee.exports=d(b({x:k.x,y:k.y,z:k.z,value:k.value,isomin:k.isomin,isomax:k.isomax,surface:k.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:k.slices,caps:k.caps,text:k.text,hovertext:k.hovertext,xhoverformat:k.xhoverformat,yhoverformat:k.yhoverformat,zhoverformat:k.zhoverformat,valuehoverformat:k.valuehoverformat,hovertemplate:k.hovertemplate},A("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:k.colorbar,opacity:k.opacity,opacityscale:l.opacityscale,lightposition:k.lightposition,lighting:k.lighting,flatshading:k.flatshading,contour:k.contour,hoverinfo:b({},T.hoverinfo),showlegend:b({},T.showlegend,{dflt:!1})}),"calc","nested");a.x.editType=a.y.editType=a.z.editType=a.value.editType="calc+clearAxisTypes",a.transforms=void 0},64809:function(ee,D,e){"use strict";var A=e(9330).gl_mesh3d,k=e(81697).parseColorScale,l=e(78614),T=e(21081).extractOpts,b=e(90060),d=e(22674).findNearestOnAxis,a=e(22674).generateIsoMeshes;function t(r,n,o){this.scene=r,this.uid=o,this.mesh=n,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(r){if(r.object===this.mesh){var n=r.data.index,s=this.data._meshY[n],u=this.data._meshZ[n],p=this.data._Ys.length,c=this.data._Zs.length,x=d(this.data._meshX[n],this.data._Xs).id,g=d(s,this.data._Ys).id,h=d(u,this.data._Zs).id,y=r.index=h+c*g+c*p*x;r.traceCoordinate=[this.data._meshX[y],this.data._meshY[y],this.data._meshZ[y],this.data._value[y]];var v=this.data.hovertext||this.data.text;return Array.isArray(v)&&void 0!==v[y]?r.textLabel=v[y]:v&&(r.textLabel=v),!0}},i.update=function(r){var n=this.scene,o=n.fullSceneLayout;function s(c,x,g,h){return x.map(function(y){return c.d2l(y,0,h)*g})}this.data=a(r);var u={positions:b(s(o.xaxis,r._meshX,n.dataScale[0],r.xcalendar),s(o.yaxis,r._meshY,n.dataScale[1],r.ycalendar),s(o.zaxis,r._meshZ,n.dataScale[2],r.zcalendar)),cells:b(r._meshI,r._meshJ,r._meshK),lightPosition:[r.lightposition.x,r.lightposition.y,r.lightposition.z],ambient:r.lighting.ambient,diffuse:r.lighting.diffuse,specular:r.lighting.specular,roughness:r.lighting.roughness,fresnel:r.lighting.fresnel,vertexNormalsEpsilon:r.lighting.vertexnormalsepsilon,faceNormalsEpsilon:r.lighting.facenormalsepsilon,opacity:r.opacity,opacityscale:r.opacityscale,contourEnable:r.contour.show,contourColor:l(r.contour.color).slice(0,3),contourWidth:r.contour.width,useFacetNormals:r.flatshading},p=T(r);u.vertexIntensity=r._meshIntensity,u.vertexIntensityBounds=[p.min,p.max],u.colormap=k(r),this.mesh.update(u)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ee.exports=function(r,n){var s=A({gl:r.glplot.gl}),u=new t(r,s,n.uid);return s._trace=u,u.update(n),r.glplot.add(s),u}},47651:function(ee,D,e){"use strict";var A=e(71828),k=e(16336),l=e(82738).supplyIsoDefaults,T=e(91831).opacityscaleDefaults;ee.exports=function(b,d,a,t){function i(r,n){return A.coerce(b,d,k,r,n)}l(b,d,a,t,i),T(b,d,t,i)}},17659:function(ee,D,e){"use strict";ee.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(ee,D,e){"use strict";var A=e(1486),k=e(82196).line,l=e(9012),T=e(12663).axisHoverFormat,b=e(5386).fF,d=e(5386).si,a=e(48334),t=e(1426).extendFlat,i=e(7901);function r(n){return{marker:{color:t({},A.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},A.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},A.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}ee.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:T("x"),yhoverformat:T("y"),hovertext:A.hovertext,hovertemplate:b({},{keys:a.eventDataKeys}),hoverinfo:t({},l.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:d({editType:"plot"},{keys:a.eventDataKeys.concat(["label"])}),text:A.text,textposition:A.textposition,insidetextanchor:A.insidetextanchor,textangle:A.textangle,textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:A.outsidetextfont,constraintext:A.constraintext,cliponaxis:A.cliponaxis,orientation:A.orientation,offset:A.offset,width:A.width,increasing:r(),decreasing:r(),totals:r(),connector:{line:{color:t({},k.color,{dflt:i.defaultLine}),width:t({},k.width,{editType:"plot"}),dash:k.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup}},52752:function(ee,D,e){"use strict";var A=e(89298),k=e(42973),l=e(71828).mergeArray,T=e(66279),b=e(50606).BADNUM;function d(t){return"a"===t||"absolute"===t}function a(t){return"t"===t||"total"===t}ee.exports=function(t,i){var r,n,o,s,u,p,c=A.getFromId(t,i.xaxis||"x"),x=A.getFromId(t,i.yaxis||"y");"h"===i.orientation?(r=c.makeCalcdata(i,"x"),o=x.makeCalcdata(i,"y"),s=k(i,x,"y",o),u=!!i.yperiodalignment,p="y"):(r=x.makeCalcdata(i,"y"),o=c.makeCalcdata(i,"x"),s=k(i,c,"x",o),u=!!i.xperiodalignment,p="x"),n=s.vals;for(var g,h=Math.min(n.length,r.length),y=new Array(h),v=0,m=!1,_=0;_<h;_++){var f=r[_]||0,S=!1;(r[_]!==b||a(i.measure[_])||d(i.measure[_]))&&_+1<h&&(r[_+1]!==b||a(i.measure[_+1])||d(i.measure[_+1]))&&(S=!0);var w=y[_]={i:_,p:n[_],s:f,rawS:f,cNext:S};d(i.measure[_])?(v=w.s,w.isSum=!0,w.dir="totals",w.s=v):a(i.measure[_])?(w.isSum=!0,w.dir="totals",w.s=v):(w.isSum=!1,w.dir=w.rawS<0?"decreasing":"increasing",w.s=v+(g=w.s),v+=g),"totals"===w.dir&&(m=!0),u&&(y[_].orig_p=o[_],y[_][p+"End"]=s.ends[_],y[_][p+"Start"]=s.starts[_]),i.ids&&(w.id=String(i.ids[_])),w.v=(i.base||0)+v}return y.length&&(y[0].hasTotals=m),l(i.text,y,"tx"),l(i.hovertext,y,"htx"),T(y,i),y}},48334:function(ee){"use strict";ee.exports={eventDataKeys:["initial","delta","final"]}},70766:function(ee,D,e){"use strict";var A=e(11661).setGroupPositions;ee.exports=function(k,l){var T,b,d=k._fullLayout,a=k._fullData,t=k.calcdata,i=l.xaxis,r=l.yaxis,n=[],o=[],s=[];for(b=0;b<a.length;b++){var u=a[b];!0===u.visible&&u.xaxis===i._id&&u.yaxis===r._id&&"waterfall"===u.type&&(T=t[b],"h"===u.orientation?s.push(T):o.push(T),n.push(T))}var p={mode:d.waterfallmode,norm:d.waterfallnorm,gap:d.waterfallgap,groupgap:d.waterfallgroupgap};for(A(k,i,r,o,p),A(k,r,i,s,p),b=0;b<n.length;b++){T=n[b];for(var c=0;c<T.length;c++){var x=T[c];!1===x.isSum&&(x.s0+=0===c?0:T[c-1].s),c+1<T.length&&(T[c].nextP0=T[c+1].p0,T[c].nextS0=T[c+1].s0)}}}},83266:function(ee,D,e){"use strict";var A=e(71828),k=e(26125),l=e(90769).handleText,T=e(67513),b=e(73927),d=e(43037),a=e(7901),t=e(22372),i=t.INCREASING.COLOR,r=t.DECREASING.COLOR;function n(o,s,u){o(s+".marker.color",u),o(s+".marker.line.color",a.defaultLine),o(s+".marker.line.width")}ee.exports={supplyDefaults:function(o,s,u,p){function c(g,h){return A.coerce(o,s,d,g,h)}if(T(o,s,p,c)){b(o,s,p,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",s.x&&!s.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var x=c("textposition");l(o,s,p,c,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==s.textposition&&(c("texttemplate"),s.texttemplate||c("textinfo")),n(c,"increasing",i),n(c,"decreasing",r),n(c,"totals","#4499FF"),c("connector.visible")&&(c("connector.mode"),c("connector.line.width")&&(c("connector.line.color"),c("connector.line.dash")))}else s.visible=!1},crossTraceDefaults:function(o,s){var u,p;function c(g){return A.coerce(p._input,p,d,g)}if("group"===s.waterfallmode)for(var x=0;x<o.length;x++)u=(p=o[x])._input,k(u,p,s,c)}}},58593:function(ee){"use strict";ee.exports=function(D,e){return D.x="xVal"in e?e.xVal:e.x,D.y="yVal"in e?e.yVal:e.y,"initial"in e&&(D.initial=e.initial),"delta"in e&&(D.delta=e.delta),"final"in e&&(D.final=e.final),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),D}},61326:function(ee,D,e){"use strict";var A=e(89298).hoverLabelText,k=e(7901).opacity,l=e(95423).hoverOnBars,T=e(22372),b=T.INCREASING.SYMBOL,d=T.DECREASING.SYMBOL;ee.exports=function(a,t,i,r,n){var C,O,R,q,o=l(a,t,i,r,n);if(o){var s=o.cd,u=s[0].trace,p="h"===u.orientation,c=p?"x":"y",x=p?a.xa:a.ya,g=s[o.index],h=g.isSum?g.b+g.s:g.rawS;o.initial=g.b+g.s-h,o.delta=h,o.final=o.initial+o.delta;var y=w(Math.abs(o.delta));o.deltaLabel=h<0?"("+y+")":y,o.finalLabel=w(o.final),o.initialLabel=w(o.initial);var v=g.hi||u.hoverinfo,m=[];if(v&&"none"!==v&&"skip"!==v){var _="all"===v,f=v.split("+"),S=function(E){return _||-1!==f.indexOf(E)};g.isSum||(!S("final")||S(p?"x":"y")||m.push(o.finalLabel),S("delta")&&m.push(h<0?o.deltaLabel+" "+d:o.deltaLabel+" "+b),S("initial")&&m.push("Initial: "+o.initialLabel))}return m.length&&(o.extraText=m.join("<br>")),o.color=(R=(C=u[g.dir].marker).line.color,q=C.line.width,k(O=C.color)?O:k(R)&&q?R:void 0),[o]}function w(E){return A(x,E,u[c+"hoverformat"])}}},19990:function(ee,D,e){"use strict";ee.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(ee){"use strict";ee.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(ee,D,e){"use strict";var A=e(71828),k=e(13494);ee.exports=function(l,T,b){var d=!1;function a(r,n){return A.coerce(l,T,k,r,n)}for(var t=0;t<b.length;t++){var i=b[t];if(i.visible&&"waterfall"===i.type){d=!0;break}}d&&(a("waterfallmode"),a("waterfallgap",.2),a("waterfallgroupgap"))}},30436:function(ee,D,e){"use strict";var A=e(39898),k=e(71828),l=e(91424),T=e(50606).BADNUM,b=e(17295),d=e(72597).clearMinTextSize;ee.exports=function(a,t,i,r){var o,s,c,x,n=a._fullLayout;d("waterfall",n),b.plot(a,t,i,r,{mode:n.waterfallmode,norm:n.waterfallmode,gap:n.waterfallgap,groupgap:n.waterfallgroupgap}),o=a,c=(s=t).xaxis,x=s.yaxis,k.makeTraceGroups(r,i,"trace bars").each(function(g){var h=A.select(this),y=g[0].trace,v=k.ensureSingle(h,"g","lines");if(y.connector&&y.connector.visible){var m="h"===y.orientation,_=y.connector.mode,f=v.selectAll("g.line").data(k.identity);f.enter().append("g").classed("line",!0),f.exit().remove();var S=f.size();f.each(function(w,E){if(E===S-1||w.cNext){var L=(P=c,U=x,j=[],te=(N=m)?U:P,(F=[])[0]=(G=N?P:U).c2p((q=w).s0,!0),j[0]=te.c2p(q.p0,!0),F[1]=G.c2p(q.s1,!0),j[1]=te.c2p(q.p1,!0),F[2]=G.c2p(q.nextS0,!0),j[2]=te.c2p(q.nextP0,!0),N?[F,j]:[j,F]),C=L[0],O=L[1],R="";C[0]!==T&&O[0]!==T&&C[1]!==T&&O[1]!==T&&("spanning"===_&&!w.isSum&&E>0&&(R+=m?"M"+C[0]+","+O[1]+"V"+O[0]:"M"+C[1]+","+O[0]+"H"+C[0]),"between"!==_&&(w.isSum||E<S-1)&&(R+=m?"M"+C[1]+","+O[0]+"V"+O[1]:"M"+C[0]+","+O[1]+"H"+C[1]),C[2]!==T&&O[2]!==T&&(R+=m?"M"+C[1]+","+O[1]+"V"+O[2]:"M"+C[1]+","+O[1]+"H"+C[2])),""===R&&(R="M0,0Z"),k.ensureSingle(A.select(this),"path").attr("d",R).call(l.setClipUrl,s.layerClipId,o)}var q,P,U,N,F,j,G,te})}else v.remove()})}},55750:function(ee,D,e){"use strict";var A=e(39898),k=e(91424),l=e(7901),T=e(37822).DESELECTDIM,b=e(16688),d=e(72597).resizeText,a=b.styleTextPoints;ee.exports={style:function(t,i,r){var n=r||A.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");d(t,n,"waterfall"),n.style("opacity",function(o){return o[0].trace.opacity}),n.each(function(o){var s=A.select(this),u=o[0].trace;s.selectAll(".point > path").each(function(p){if(!p.isBlank){var c=u[p.dir].marker;A.select(this).call(l.fill,c.color).call(l.stroke,c.line.color).call(k.dashLine,c.line.dash,c.line.width).style("opacity",u.selectedpoints&&!p.selected?T:1)}}),a(s,u,t),s.selectAll(".lines").each(function(){var p=u.connector.line;k.lineGroupStyle(A.select(this).selectAll("path"),p.width,p.color,p.dash)})})}}},82887:function(ee,D,e){"use strict";var A=e(89298),k=e(71828),l=e(86281),T=e(79344).p,b=e(50606).BADNUM;D.moduleType="transform",D.name="aggregate";var d=D.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},a=d.aggregations;function t(o,s,u,p){if(p.enabled){for(var c=p.target,x=k.nestedProperty(s,c),g=x.get(),h=function(m,_){var S=_.d2c,w=_.c2d;switch(m.func){case"count":return i;case"first":return r;case"last":return n;case"sum":return function(E,L){for(var C=0,O=0;O<L.length;O++){var R=S(E[L[O]]);R!==b&&(C+=R)}return w(C)};case"avg":return function(E,L){for(var C=0,O=0,R=0;R<L.length;R++){var q=S(E[L[R]]);q!==b&&(C+=q,O++)}return O?w(C/O):b};case"min":return function(E,L){for(var C=1/0,O=0;O<L.length;O++){var R=S(E[L[O]]);R!==b&&(C=Math.min(C,R))}return C===1/0?b:w(C)};case"max":return function(E,L){for(var C=-1/0,O=0;O<L.length;O++){var R=S(E[L[O]]);R!==b&&(C=Math.max(C,R))}return C===-1/0?b:w(C)};case"range":return function(E,L){for(var C=1/0,O=-1/0,R=0;R<L.length;R++){var q=S(E[L[R]]);q!==b&&(C=Math.min(C,q),O=Math.max(O,q))}return O===-1/0||C===1/0?b:w(O-C)};case"change":return function(E,L){var C=S(E[L[0]]),O=S(E[L[L.length-1]]);return C===b||O===b?b:w(O-C)};case"median":return function(E,L){for(var C=[],O=0;O<L.length;O++){var R=S(E[L[O]]);R!==b&&C.push(R)}if(!C.length)return b;C.sort(k.sorterAsc);var q=(C.length-1)/2;return w((C[Math.floor(q)]+C[Math.ceil(q)])/2)};case"mode":return function(E,L){for(var C={},O=0,R=b,q=0;q<L.length;q++){var P=S(E[L[q]]);if(P!==b){var U=C[P]=(C[P]||0)+1;U>O&&(O=U,R=P)}}return O?w(R):b};case"rms":return function(E,L){for(var C=0,O=0,R=0;R<L.length;R++){var q=S(E[L[R]]);q!==b&&(C+=q*q,O++)}return O?w(Math.sqrt(C/O)):b};case"stddev":return function(E,L){var C,O=0,R=0,q=1,P=b;for(C=0;C<L.length&&P===b;C++)P=S(E[L[C]]);if(P===b)return b;for(;C<L.length;C++){var U=S(E[L[C]]);if(U!==b){var N=U-P;O+=N,R+=N*N,q++}}var F="sample"===m.funcmode?q-1:q;return F?Math.sqrt((R-O*O/q)/F):0}}}(p,A.getDataConversions(o,s,c,g)),y=new Array(u.length),v=0;v<u.length;v++)y[v]=h(g,u[v]);x.set(y),"count"===p.func&&k.pushUnique(s._arrayAttrs,c)}}function i(o,s){return s.length}function r(o,s){return o[s[0]]}function n(o,s){return o[s[s.length-1]]}D.supplyDefaults=function(o,s){var u,p={};function c(w,E){return k.coerce(o,p,d,w,E)}if(!c("enabled"))return p;var x=l.findArrayAttributes(s),g={};for(u=0;u<x.length;u++)g[x[u]]=1;var h=c("groups");if(!Array.isArray(h)){if(!g[h])return p.enabled=!1,p;g[h]=0}var y,v=o.aggregations||[],m=p.aggregations=new Array(v.length);function _(w,E){return k.coerce(v[u],y,a,w,E)}for(u=0;u<v.length;u++){y={_index:u};var f=_("target"),S=_("func");_("enabled")&&f&&(g[f]||"count"===S&&void 0===g[f])?("stddev"===S&&_("funcmode"),g[f]=0,m[u]=y):m[u]={enabled:!1,_index:u}}for(u=0;u<x.length;u++)g[x[u]]&&m.push({target:x[u],func:a.func.dflt,enabled:!0,_index:-1});return p},D.calcTransform=function(o,s,u){if(u.enabled){var p=u.groups,c=k.getTargetArray(s,{target:p});if(c){var x,g,h,v={},m={},_=[],f=T(s.transforms,u),S=c.length;for(s._length&&(S=Math.min(S,s._length)),x=0;x<S;x++)void 0===(h=v[g=c[x]])?(v[g]=_.length,_.push([x]),m[v[g]]=f(x)):(_[h].push(x),m[v[g]]=(m[v[g]]||[]).concat(f(x)));u._indexToPoints=m;var w=u.aggregations;for(x=0;x<w.length;x++)t(o,s,_,w[x]);"string"==typeof p&&t(o,s,_,{target:p,func:"first",enabled:!0}),s._length=_.length}}}},14382:function(ee,D,e){"use strict";var A=e(71828),k=e(73972),l=e(89298),T=e(79344).p,b=e(74808),d=b.COMPARISON_OPS,a=b.INTERVAL_OPS,t=b.SET_OPS;D.moduleType="transform",D.name="filter",D.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(d).concat(a).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},D.supplyDefaults=function(i){var r={};function n(u,p){return A.coerce(i,r,D.attributes,u,p)}if(n("enabled")){var o=n("target");if(A.isArrayOrTypedArray(o)&&0===o.length)return r.enabled=!1,r;n("preservegaps"),n("operation"),n("value");var s=k.getComponentMethod("calendars","handleDefaults");s(i,r,"valuecalendar",null),s(i,r,"targetcalendar",null)}return r},D.calcTransform=function(i,r,n){if(n.enabled){var o=A.getTargetArray(r,n);if(o){var s=n.target,u=o.length;r._length&&(u=Math.min(u,r._length));var p=n.targetcalendar,c=r._arrayAttrs,x=n.preservegaps;if("string"==typeof s){var g=A.nestedProperty(r,s+"calendar").get();g&&(p=g)}var h,y,v=function(L,C,O){var R=L.operation,q=L.value,P=Array.isArray(q);function U(G){return-1!==G.indexOf(R)}var N,F=function(G){return C(G,0,L.valuecalendar)},j=function(G){return C(G,0,O)};switch(U(d)?N=F(P?q[0]:q):U(a)?N=P?[F(q[0]),F(q[1])]:[F(q),F(q)]:U(t)&&(N=P?q.map(F):[F(q)]),R){case"=":return function(G){return j(G)===N};case"!=":return function(G){return j(G)!==N};case"<":return function(G){return j(G)<N};case"<=":return function(G){return j(G)<=N};case">":return function(G){return j(G)>N};case">=":return function(G){return j(G)>=N};case"[]":return function(G){var te=j(G);return te>=N[0]&&te<=N[1]};case"()":return function(G){var te=j(G);return te>N[0]&&te<N[1]};case"[)":return function(G){var te=j(G);return te>=N[0]&&te<N[1]};case"(]":return function(G){var te=j(G);return te>N[0]&&te<=N[1]};case"][":return function(G){var te=j(G);return te<=N[0]||te>=N[1]};case")(":return function(G){var te=j(G);return te<N[0]||te>N[1]};case"](":return function(G){var te=j(G);return te<=N[0]||te>N[1]};case")[":return function(G){var te=j(G);return te<N[0]||te>=N[1]};case"{}":return function(G){return-1!==N.indexOf(j(G))};case"}{":return function(G){return-1===N.indexOf(j(G))}}}(n,l.getDataToCoordFunc(i,r,s,o),p),m={},_={},f=0;x?(h=function(L){m[L.astr]=A.extendDeep([],L.get()),L.set(new Array(u))},y=function(L,C){var O=m[L.astr][C];L.get()[C]=O}):(h=function(L){m[L.astr]=A.extendDeep([],L.get()),L.set([])},y=function(L,C){var O=m[L.astr][C];L.get().push(O)}),E(h);for(var S=T(r.transforms,n),w=0;w<u;w++)v(o[w])?(E(y,w),_[f++]=S(w)):x&&f++;n._indexToPoints=_,r._length=f}}function E(L,C){for(var O=0;O<c.length;O++)L(A.nestedProperty(r,c[O]),C)}}},43102:function(ee,D,e){"use strict";var A=e(71828),k=e(86281),l=e(74875),T=e(79344).p;function b(d,a){var t,i,r,n,o,s,u,p,c,x,g=a.transform,h=a.transformIndex,y=d.transforms[h].groups,v=T(d.transforms,g);if(!A.isArrayOrTypedArray(y)||0===y.length)return[d];var m=A.filterUnique(y),_=new Array(m.length),f=y.length,S=k.findArrayAttributes(d),w=g.styles||[],E={};for(t=0;t<w.length;t++)E[w[t].target]=w[t].value;g.styles&&(x=A.keyedContainer(g,"styles","target","value.name"));var L={},C={};for(t=0;t<m.length;t++){L[s=m[t]]=t,C[s]=0,(u=_[t]=A.extendDeepNoArrays({},d))._group=s,u.transforms[h]._indexToPoints={};var O=null;for(x&&(O=x.get(s)),u.name=O||""===O?O:A.templateString(g.nameformat,{trace:d.name,group:s}),p=u.transforms,u.transforms=[],i=0;i<p.length;i++)u.transforms[i]=A.extendDeepNoArrays({},p[i]);for(i=0;i<S.length;i++)A.nestedProperty(u,S[i]).set([])}for(r=0;r<S.length;r++){for(n=S[r],i=0,c=[];i<m.length;i++)c[i]=A.nestedProperty(_[i],n).get();for(o=A.nestedProperty(d,n).get(),i=0;i<f;i++)c[L[y[i]]].push(o[i])}for(i=0;i<f;i++)(u=_[L[y[i]]]).transforms[h]._indexToPoints[C[y[i]]]=v(i),C[y[i]]++;for(t=0;t<m.length;t++)s=m[t],l.clearExpandedTraceDefaultColors(u=_[t]),u=A.extendDeepNoArrays(u,E[s]||{});return _}D.moduleType="transform",D.name="groupby",D.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},D.supplyDefaults=function(d,a,t){var i,r={};function n(c,x){return A.coerce(d,r,D.attributes,c,x)}if(!n("enabled"))return r;n("groups"),n("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var o=d.styles,s=r.styles=[];if(o)for(i=0;i<o.length;i++){var u=s[i]={};A.coerce(o[i],s[i],D.attributes.styles,"target");var p=A.coerce(o[i],s[i],D.attributes.styles,"value");A.isPlainObject(p)?u.value=A.extendDeep({},p):p&&delete u.value}return r},D.transform=function(d,a){var t,i,r,n=[];for(i=0;i<d.length;i++)for(t=b(d[i],a),r=0;r<t.length;r++)n.push(t[r]);return n}},79344:function(ee,D){"use strict";D.p=function(e,A){for(var k,l,T=0;T<e.length&&(k=e[T])!==A;T++)k._indexToPoints&&!1!==k.enabled&&(l=k._indexToPoints);return l?function(d){return l[d]}:function(d){return[d]}}},32275:function(ee,D,e){"use strict";var A=e(71828),k=e(89298),l=e(79344).p,T=e(50606).BADNUM;D.moduleType="transform",D.name="sort",D.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},D.supplyDefaults=function(b){var d={};function a(t,i){return A.coerce(b,d,D.attributes,t,i)}return a("enabled")&&(a("target"),a("order")),d},D.calcTransform=function(b,d,a){if(a.enabled){var t=A.getTargetArray(d,a);if(t){var i=a.target,r=t.length;d._length&&(r=Math.min(r,d._length));var n,o,s=d._arrayAttrs,u=function(y,v,m,_){var f,S=new Array(_),w=new Array(_);for(f=0;f<_;f++)S[f]={v:v[f],i:f};for(S.sort(function(E,L){switch(E.order){case"ascending":return function(C,O){var R=L(C.v),q=L(O.v);return R===T?1:q===T?-1:R-q};case"descending":return function(C,O){var R=L(C.v),q=L(O.v);return R===T?1:q===T?-1:q-R}}}(y,m)),f=0;f<_;f++)w[f]=S[f].i;return w}(a,t,k.getDataToCoordFunc(b,d,i,t),r),p=l(d.transforms,a),c={};for(n=0;n<s.length;n++){var x=A.nestedProperty(d,s[n]),g=x.get(),h=new Array(r);for(o=0;o<r;o++)h[o]=g[u[o]];x.set(h)}for(o=0;o<r;o++)c[o]=p(u[o]);a._indexToPoints=c,d._length=r}}}},11506:function(ee,D){"use strict";D.version="2.26.2"},9330:function(ee,D,e){var A,k=e(90386);A=function(){return function(){var l={7386:function(d,a,t){d.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(d,a,t){"use strict";function r(ce,Te){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ve,Ce){return ve.__proto__=Ce,ve})(ce,Te)}function n(ce){if(void 0===ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function o(ce){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Te){return Te.__proto__||Object.getPrototypeOf(Te)})(ce)}function s(ce){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Te){return typeof Te}:function(Te){return Te&&"function"==typeof Symbol&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te})(ce)}var u=t(3910),p=t(3187),c="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;a.lW=h,a.h2=50;var x=2147483647;function g(ce){if(ce>x)throw new RangeError('The value "'+ce+'" is invalid for option "size"');var Te=new Uint8Array(ce);return Object.setPrototypeOf(Te,h.prototype),Te}function h(ce,Te,ve){if("number"==typeof ce){if("string"==typeof Te)throw new TypeError('The "string" argument must be of type string. Received type number');return m(ce)}return y(ce,Te,ve)}function y(ce,Te,ve){if("string"==typeof ce)return function(Oe,je){if("string"==typeof je&&""!==je||(je="utf8"),!h.isEncoding(je))throw new TypeError("Unknown encoding: "+je);var qe=0|w(Oe,je),Je=g(qe),it=Je.write(Oe,je);return it!==qe&&(Je=Je.slice(0,it)),Je}(ce,Te);if(ArrayBuffer.isView(ce))return function(Oe){if(Ee(Oe,Uint8Array)){var je=new Uint8Array(Oe);return f(je.buffer,je.byteOffset,je.byteLength)}return _(Oe)}(ce);if(null==ce)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(ce));if(Ee(ce,ArrayBuffer)||ce&&Ee(ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ee(ce,SharedArrayBuffer)||ce&&Ee(ce.buffer,SharedArrayBuffer)))return f(ce,Te,ve);if("number"==typeof ce)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ce=ce.valueOf&&ce.valueOf();if(null!=Ce&&Ce!==ce)return h.from(Ce,Te,ve);var Re=function(Oe){if(h.isBuffer(Oe)){var je=0|S(Oe.length),qe=g(je);return 0===qe.length||Oe.copy(qe,0,0,je),qe}return void 0!==Oe.length?"number"!=typeof Oe.length||ke(Oe.length)?g(0):_(Oe):"Buffer"===Oe.type&&Array.isArray(Oe.data)?_(Oe.data):void 0}(ce);if(Re)return Re;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ce[Symbol.toPrimitive])return h.from(ce[Symbol.toPrimitive]("string"),Te,ve);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(ce))}function v(ce){if("number"!=typeof ce)throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function m(ce){return v(ce),g(ce<0?0:0|S(ce))}function _(ce){for(var Te=ce.length<0?0:0|S(ce.length),ve=g(Te),Ce=0;Ce<Te;Ce+=1)ve[Ce]=255&ce[Ce];return ve}function f(ce,Te,ve){if(Te<0||ce.byteLength<Te)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<Te+(ve||0))throw new RangeError('"length" is outside of buffer bounds');var Ce;return Ce=void 0===Te&&void 0===ve?new Uint8Array(ce):void 0===ve?new Uint8Array(ce,Te):new Uint8Array(ce,Te,ve),Object.setPrototypeOf(Ce,h.prototype),Ce}function S(ce){if(ce>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|ce}function w(ce,Te){if(h.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||Ee(ce,ArrayBuffer))return ce.byteLength;if("string"!=typeof ce)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+s(ce));var ve=ce.length,Ce=arguments.length>2&&!0===arguments[2];if(!Ce&&0===ve)return 0;for(var Re=!1;;)switch(Te){case"ascii":case"latin1":case"binary":return ve;case"utf8":case"utf-8":return se(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ve;case"hex":return ve>>>1;case"base64":return ae(ce).length;default:if(Re)return Ce?-1:se(ce).length;Te=(""+Te).toLowerCase(),Re=!0}}function E(ce,Te,ve){var Ce=!1;if((void 0===Te||Te<0)&&(Te=0),Te>this.length||((void 0===ve||ve>this.length)&&(ve=this.length),ve<=0)||(ve>>>=0)<=(Te>>>=0))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return X(this,Te,ve);case"utf8":case"utf-8":return j(this,Te,ve);case"ascii":return te(this,Te,ve);case"latin1":case"binary":return J(this,Te,ve);case"base64":return F(this,Te,ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,Te,ve);default:if(Ce)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),Ce=!0}}function L(ce,Te,ve){var Ce=ce[Te];ce[Te]=ce[ve],ce[ve]=Ce}function C(ce,Te,ve,Ce,Re){if(0===ce.length)return-1;if("string"==typeof ve?(Ce=ve,ve=0):ve>2147483647?ve=2147483647:ve<-2147483648&&(ve=-2147483648),ke(ve=+ve)&&(ve=Re?0:ce.length-1),ve<0&&(ve=ce.length+ve),ve>=ce.length){if(Re)return-1;ve=ce.length-1}else if(ve<0){if(!Re)return-1;ve=0}if("string"==typeof Te&&(Te=h.from(Te,Ce)),h.isBuffer(Te))return 0===Te.length?-1:O(ce,Te,ve,Ce,Re);if("number"==typeof Te)return Te&=255,"function"==typeof Uint8Array.prototype.indexOf?Re?Uint8Array.prototype.indexOf.call(ce,Te,ve):Uint8Array.prototype.lastIndexOf.call(ce,Te,ve):O(ce,[Te],ve,Ce,Re);throw new TypeError("val must be string, number or Buffer")}function O(ce,Te,ve,Ce,Re){var Oe,je=1,qe=ce.length,Je=Te.length;if(void 0!==Ce&&("ucs2"===(Ce=String(Ce).toLowerCase())||"ucs-2"===Ce||"utf16le"===Ce||"utf-16le"===Ce)){if(ce.length<2||Te.length<2)return-1;je=2,qe/=2,Je/=2,ve/=2}function it(mt,at){return 1===je?mt[at]:mt.readUInt16BE(at*je)}if(Re){var Qe=-1;for(Oe=ve;Oe<qe;Oe++)if(it(ce,Oe)===it(Te,-1===Qe?0:Oe-Qe)){if(-1===Qe&&(Qe=Oe),Oe-Qe+1===Je)return Qe*je}else-1!==Qe&&(Oe-=Oe-Qe),Qe=-1}else for(ve+Je>qe&&(ve=qe-Je),Oe=ve;Oe>=0;Oe--){for(var dt=!0,yt=0;yt<Je;yt++)if(it(ce,Oe+yt)!==it(Te,yt)){dt=!1;break}if(dt)return Oe}return-1}function R(ce,Te,ve,Ce){ve=Number(ve)||0;var Re=ce.length-ve;Ce?(Ce=Number(Ce))>Re&&(Ce=Re):Ce=Re;var Oe,je=Te.length;for(Ce>je/2&&(Ce=je/2),Oe=0;Oe<Ce;++Oe){var qe=parseInt(Te.substr(2*Oe,2),16);if(ke(qe))return Oe;ce[ve+Oe]=qe}return Oe}function q(ce,Te,ve,Ce){return fe(se(Te,ce.length-ve),ce,ve,Ce)}function P(ce,Te,ve,Ce){return fe(function(Re){for(var Oe=[],je=0;je<Re.length;++je)Oe.push(255&Re.charCodeAt(je));return Oe}(Te),ce,ve,Ce)}function U(ce,Te,ve,Ce){return fe(ae(Te),ce,ve,Ce)}function N(ce,Te,ve,Ce){return fe(function(Re,Oe){for(var je,qe,it=[],Qe=0;Qe<Re.length&&!((Oe-=2)<0);++Qe)qe=(je=Re.charCodeAt(Qe))>>8,it.push(je%256),it.push(qe);return it}(Te,ce.length-ve),ce,ve,Ce)}function F(ce,Te,ve){return u.fromByteArray(0===Te&&ve===ce.length?ce:ce.slice(Te,ve))}function j(ce,Te,ve){ve=Math.min(ce.length,ve);for(var Ce=[],Re=Te;Re<ve;){var Oe=ce[Re],je=null,qe=Oe>239?4:Oe>223?3:Oe>191?2:1;if(Re+qe<=ve){var Je=void 0,it=void 0,Qe=void 0,dt=void 0;switch(qe){case 1:Oe<128&&(je=Oe);break;case 2:128==(192&(Je=ce[Re+1]))&&(dt=(31&Oe)<<6|63&Je)>127&&(je=dt);break;case 3:it=ce[Re+2],128==(192&(Je=ce[Re+1]))&&128==(192&it)&&(dt=(15&Oe)<<12|(63&Je)<<6|63&it)>2047&&(dt<55296||dt>57343)&&(je=dt);break;case 4:it=ce[Re+2],Qe=ce[Re+3],128==(192&(Je=ce[Re+1]))&&128==(192&it)&&128==(192&Qe)&&(dt=(15&Oe)<<18|(63&Je)<<12|(63&it)<<6|63&Qe)>65535&&dt<1114112&&(je=dt)}}null===je?(je=65533,qe=1):je>65535&&(Ce.push((je-=65536)>>>10&1023|55296),je=56320|1023&je),Ce.push(je),Re+=qe}return function(yt){var mt=yt.length;if(mt<=G)return String.fromCharCode.apply(String,yt);for(var at="",st=0;st<mt;)at+=String.fromCharCode.apply(String,yt.slice(st,st+=G));return at}(Ce)}(h.TYPED_ARRAY_SUPPORT=function(){try{var ce=new Uint8Array(1),Te={foo:function(){return 42}};return Object.setPrototypeOf(Te,Uint8Array.prototype),Object.setPrototypeOf(ce,Te),42===ce.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(ce,Te,ve){return y(ce,Te,ve)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(ce,Te,ve){return Re=Te,Oe=ve,v(Ce=ce),Ce<=0?g(Ce):void 0!==Re?"string"==typeof Oe?g(Ce).fill(Re,Oe):g(Ce).fill(Re):g(Ce);var Ce,Re,Oe},h.allocUnsafe=function(ce){return m(ce)},h.allocUnsafeSlow=function(ce){return m(ce)},h.isBuffer=function(ce){return null!=ce&&!0===ce._isBuffer&&ce!==h.prototype},h.compare=function(ce,Te){if(Ee(ce,Uint8Array)&&(ce=h.from(ce,ce.offset,ce.byteLength)),Ee(Te,Uint8Array)&&(Te=h.from(Te,Te.offset,Te.byteLength)),!h.isBuffer(ce)||!h.isBuffer(Te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ce===Te)return 0;for(var ve=ce.length,Ce=Te.length,Re=0,Oe=Math.min(ve,Ce);Re<Oe;++Re)if(ce[Re]!==Te[Re]){ve=ce[Re],Ce=Te[Re];break}return ve<Ce?-1:Ce<ve?1:0},h.isEncoding=function(ce){switch(String(ce).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(ce,Te){if(!Array.isArray(ce))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ce.length)return h.alloc(0);var ve;if(void 0===Te)for(Te=0,ve=0;ve<ce.length;++ve)Te+=ce[ve].length;var Ce=h.allocUnsafe(Te),Re=0;for(ve=0;ve<ce.length;++ve){var Oe=ce[ve];if(Ee(Oe,Uint8Array))Re+Oe.length>Ce.length?(h.isBuffer(Oe)||(Oe=h.from(Oe)),Oe.copy(Ce,Re)):Uint8Array.prototype.set.call(Ce,Oe,Re);else{if(!h.isBuffer(Oe))throw new TypeError('"list" argument must be an Array of Buffers');Oe.copy(Ce,Re)}Re+=Oe.length}return Ce},h.byteLength=w,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var ce=this.length;if(ce%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Te=0;Te<ce;Te+=2)L(this,Te,Te+1);return this},h.prototype.swap32=function(){var ce=this.length;if(ce%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Te=0;Te<ce;Te+=4)L(this,Te,Te+3),L(this,Te+1,Te+2);return this},h.prototype.swap64=function(){var ce=this.length;if(ce%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Te=0;Te<ce;Te+=8)L(this,Te,Te+7),L(this,Te+1,Te+6),L(this,Te+2,Te+5),L(this,Te+3,Te+4);return this},h.prototype.toString=function(){var ce=this.length;return 0===ce?"":0===arguments.length?j(this,0,ce):E.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(ce){if(!h.isBuffer(ce))throw new TypeError("Argument must be a Buffer");return this===ce||0===h.compare(this,ce)},h.prototype.inspect=function(){var ce="",Te=a.h2;return ce=this.toString("hex",0,Te).replace(/(.{2})/g,"$1 ").trim(),this.length>Te&&(ce+=" ... "),"<Buffer "+ce+">"},c&&(h.prototype[c]=h.prototype.inspect),h.prototype.compare=function(ce,Te,ve,Ce,Re){if(Ee(ce,Uint8Array)&&(ce=h.from(ce,ce.offset,ce.byteLength)),!h.isBuffer(ce))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+s(ce));if(void 0===Te&&(Te=0),void 0===ve&&(ve=ce?ce.length:0),void 0===Ce&&(Ce=0),void 0===Re&&(Re=this.length),Te<0||ve>ce.length||Ce<0||Re>this.length)throw new RangeError("out of range index");if(Ce>=Re&&Te>=ve)return 0;if(Ce>=Re)return-1;if(Te>=ve)return 1;if(this===ce)return 0;for(var Oe=(Re>>>=0)-(Ce>>>=0),je=(ve>>>=0)-(Te>>>=0),qe=Math.min(Oe,je),Je=this.slice(Ce,Re),it=ce.slice(Te,ve),Qe=0;Qe<qe;++Qe)if(Je[Qe]!==it[Qe]){Oe=Je[Qe],je=it[Qe];break}return Oe<je?-1:je<Oe?1:0},h.prototype.includes=function(ce,Te,ve){return-1!==this.indexOf(ce,Te,ve)},h.prototype.indexOf=function(ce,Te,ve){return C(this,ce,Te,ve,!0)},h.prototype.lastIndexOf=function(ce,Te,ve){return C(this,ce,Te,ve,!1)},h.prototype.write=function(ce,Te,ve,Ce){if(void 0===Te)Ce="utf8",ve=this.length,Te=0;else if(void 0===ve&&"string"==typeof Te)Ce=Te,ve=this.length,Te=0;else{if(!isFinite(Te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Te>>>=0,isFinite(ve)?(ve>>>=0,void 0===Ce&&(Ce="utf8")):(Ce=ve,ve=void 0)}var Re=this.length-Te;if((void 0===ve||ve>Re)&&(ve=Re),ce.length>0&&(ve<0||Te<0)||Te>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ce||(Ce="utf8");for(var Oe=!1;;)switch(Ce){case"hex":return R(this,ce,Te,ve);case"utf8":case"utf-8":return q(this,ce,Te,ve);case"ascii":case"latin1":case"binary":return P(this,ce,Te,ve);case"base64":return U(this,ce,Te,ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,ce,Te,ve);default:if(Oe)throw new TypeError("Unknown encoding: "+Ce);Ce=(""+Ce).toLowerCase(),Oe=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var G=4096;function te(ce,Te,ve){var Ce="";ve=Math.min(ce.length,ve);for(var Re=Te;Re<ve;++Re)Ce+=String.fromCharCode(127&ce[Re]);return Ce}function J(ce,Te,ve){var Ce="";ve=Math.min(ce.length,ve);for(var Re=Te;Re<ve;++Re)Ce+=String.fromCharCode(ce[Re]);return Ce}function X(ce,Te,ve){var Ce=ce.length;(!Te||Te<0)&&(Te=0),(!ve||ve<0||ve>Ce)&&(ve=Ce);for(var Re="",Oe=Te;Oe<ve;++Oe)Re+=be[ce[Oe]];return Re}function Y(ce,Te,ve){for(var Ce=ce.slice(Te,ve),Re="",Oe=0;Oe<Ce.length-1;Oe+=2)Re+=String.fromCharCode(Ce[Oe]+256*Ce[Oe+1]);return Re}function W(ce,Te,ve){if(ce%1!=0||ce<0)throw new RangeError("offset is not uint");if(ce+Te>ve)throw new RangeError("Trying to access beyond buffer length")}function $(ce,Te,ve,Ce,Re,Oe){if(!h.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(Te>Re||Te<Oe)throw new RangeError('"value" argument is out of bounds');if(ve+Ce>ce.length)throw new RangeError("Index out of range")}function ne(ce,Te,ve,Ce,Re){ge(Te,Ce,Re,ce,ve,7);var Oe=Number(Te&BigInt(4294967295));ce[ve++]=Oe,ce[ve++]=Oe>>=8,ce[ve++]=Oe>>=8,ce[ve++]=Oe>>=8;var je=Number(Te>>BigInt(32)&BigInt(4294967295));return ce[ve++]=je,ce[ve++]=je>>=8,ce[ve++]=je>>=8,ce[ve++]=je>>=8,ve}function re(ce,Te,ve,Ce,Re){ge(Te,Ce,Re,ce,ve,7);var Oe=Number(Te&BigInt(4294967295));ce[ve+7]=Oe,ce[ve+6]=Oe>>=8,ce[ve+5]=Oe>>=8,ce[ve+4]=Oe>>=8;var je=Number(Te>>BigInt(32)&BigInt(4294967295));return ce[ve+3]=je,ce[ve+2]=je>>=8,ce[ve+1]=je>>=8,ce[ve]=je>>=8,ve+8}function oe(ce,Te,ve,Ce,Re,Oe){if(ve+Ce>ce.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("Index out of range")}function ue(ce,Te,ve,Ce,Re){return Te=+Te,ve>>>=0,Re||oe(ce,0,ve,4),p.write(ce,Te,ve,Ce,23,4),ve+4}function xe(ce,Te,ve,Ce,Re){return Te=+Te,ve>>>=0,Re||oe(ce,0,ve,8),p.write(ce,Te,ve,Ce,52,8),ve+8}h.prototype.slice=function(ce,Te){var ve=this.length;(ce=~~ce)<0?(ce+=ve)<0&&(ce=0):ce>ve&&(ce=ve),(Te=void 0===Te?ve:~~Te)<0?(Te+=ve)<0&&(Te=0):Te>ve&&(Te=ve),Te<ce&&(Te=ce);var Ce=this.subarray(ce,Te);return Object.setPrototypeOf(Ce,h.prototype),Ce},h.prototype.readUintLE=h.prototype.readUIntLE=function(ce,Te,ve){ce>>>=0,Te>>>=0,ve||W(ce,Te,this.length);for(var Ce=this[ce],Re=1,Oe=0;++Oe<Te&&(Re*=256);)Ce+=this[ce+Oe]*Re;return Ce},h.prototype.readUintBE=h.prototype.readUIntBE=function(ce,Te,ve){ce>>>=0,Te>>>=0,ve||W(ce,Te,this.length);for(var Ce=this[ce+--Te],Re=1;Te>0&&(Re*=256);)Ce+=this[ce+--Te]*Re;return Ce},h.prototype.readUint8=h.prototype.readUInt8=function(ce,Te){return ce>>>=0,Te||W(ce,1,this.length),this[ce]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(ce,Te){return ce>>>=0,Te||W(ce,2,this.length),this[ce]|this[ce+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(ce,Te){return ce>>>=0,Te||W(ce,2,this.length),this[ce]<<8|this[ce+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(ce,Te){return ce>>>=0,Te||W(ce,4,this.length),(this[ce]|this[ce+1]<<8|this[ce+2]<<16)+16777216*this[ce+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(ce,Te){return ce>>>=0,Te||W(ce,4,this.length),16777216*this[ce]+(this[ce+1]<<16|this[ce+2]<<8|this[ce+3])},h.prototype.readBigUInt64LE=Ie(function(ce){Pe(ce>>>=0,"offset");var Te=this[ce],ve=this[ce+7];void 0!==Te&&void 0!==ve||_e(ce,this.length-8);var Ce=Te+this[++ce]*Math.pow(2,8)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,24),Re=this[++ce]+this[++ce]*Math.pow(2,8)+this[++ce]*Math.pow(2,16)+ve*Math.pow(2,24);return BigInt(Ce)+(BigInt(Re)<<BigInt(32))}),h.prototype.readBigUInt64BE=Ie(function(ce){Pe(ce>>>=0,"offset");var Te=this[ce],ve=this[ce+7];void 0!==Te&&void 0!==ve||_e(ce,this.length-8);var Ce=Te*Math.pow(2,24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+this[++ce],Re=this[++ce]*Math.pow(2,24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+ve;return(BigInt(Ce)<<BigInt(32))+BigInt(Re)}),h.prototype.readIntLE=function(ce,Te,ve){ce>>>=0,Te>>>=0,ve||W(ce,Te,this.length);for(var Ce=this[ce],Re=1,Oe=0;++Oe<Te&&(Re*=256);)Ce+=this[ce+Oe]*Re;return Ce>=(Re*=128)&&(Ce-=Math.pow(2,8*Te)),Ce},h.prototype.readIntBE=function(ce,Te,ve){ce>>>=0,Te>>>=0,ve||W(ce,Te,this.length);for(var Ce=Te,Re=1,Oe=this[ce+--Ce];Ce>0&&(Re*=256);)Oe+=this[ce+--Ce]*Re;return Oe>=(Re*=128)&&(Oe-=Math.pow(2,8*Te)),Oe},h.prototype.readInt8=function(ce,Te){return ce>>>=0,Te||W(ce,1,this.length),128&this[ce]?-1*(255-this[ce]+1):this[ce]},h.prototype.readInt16LE=function(ce,Te){ce>>>=0,Te||W(ce,2,this.length);var ve=this[ce]|this[ce+1]<<8;return 32768&ve?4294901760|ve:ve},h.prototype.readInt16BE=function(ce,Te){ce>>>=0,Te||W(ce,2,this.length);var ve=this[ce+1]|this[ce]<<8;return 32768&ve?4294901760|ve:ve},h.prototype.readInt32LE=function(ce,Te){return ce>>>=0,Te||W(ce,4,this.length),this[ce]|this[ce+1]<<8|this[ce+2]<<16|this[ce+3]<<24},h.prototype.readInt32BE=function(ce,Te){return ce>>>=0,Te||W(ce,4,this.length),this[ce]<<24|this[ce+1]<<16|this[ce+2]<<8|this[ce+3]},h.prototype.readBigInt64LE=Ie(function(ce){Pe(ce>>>=0,"offset");var Te=this[ce],ve=this[ce+7];void 0!==Te&&void 0!==ve||_e(ce,this.length-8);var Ce=this[ce+4]+this[ce+5]*Math.pow(2,8)+this[ce+6]*Math.pow(2,16)+(ve<<24);return(BigInt(Ce)<<BigInt(32))+BigInt(Te+this[++ce]*Math.pow(2,8)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,24))}),h.prototype.readBigInt64BE=Ie(function(ce){Pe(ce>>>=0,"offset");var Te=this[ce],ve=this[ce+7];void 0!==Te&&void 0!==ve||_e(ce,this.length-8);var Ce=(Te<<24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+this[++ce];return(BigInt(Ce)<<BigInt(32))+BigInt(this[++ce]*Math.pow(2,24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+ve)}),h.prototype.readFloatLE=function(ce,Te){return ce>>>=0,Te||W(ce,4,this.length),p.read(this,ce,!0,23,4)},h.prototype.readFloatBE=function(ce,Te){return ce>>>=0,Te||W(ce,4,this.length),p.read(this,ce,!1,23,4)},h.prototype.readDoubleLE=function(ce,Te){return ce>>>=0,Te||W(ce,8,this.length),p.read(this,ce,!0,52,8)},h.prototype.readDoubleBE=function(ce,Te){return ce>>>=0,Te||W(ce,8,this.length),p.read(this,ce,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(ce,Te,ve,Ce){ce=+ce,Te>>>=0,ve>>>=0,Ce||$(this,ce,Te,ve,Math.pow(2,8*ve)-1,0);var Re=1,Oe=0;for(this[Te]=255&ce;++Oe<ve&&(Re*=256);)this[Te+Oe]=ce/Re&255;return Te+ve},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(ce,Te,ve,Ce){ce=+ce,Te>>>=0,ve>>>=0,Ce||$(this,ce,Te,ve,Math.pow(2,8*ve)-1,0);var Re=ve-1,Oe=1;for(this[Te+Re]=255&ce;--Re>=0&&(Oe*=256);)this[Te+Re]=ce/Oe&255;return Te+ve},h.prototype.writeUint8=h.prototype.writeUInt8=function(ce,Te,ve){return ce=+ce,Te>>>=0,ve||$(this,ce,Te,1,255,0),this[Te]=255&ce,Te+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(ce,Te,ve){return ce=+ce,Te>>>=0,ve||$(this,ce,Te,2,65535,0),this[Te]=255&ce,this[Te+1]=ce>>>8,Te+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(ce,Te,ve){return ce=+ce,Te>>>=0,ve||$(this,ce,Te,2,65535,0),this[Te]=ce>>>8,this[Te+1]=255&ce,Te+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(ce,Te,ve){return ce=+ce,Te>>>=0,ve||$(this,ce,Te,4,4294967295,0),this[Te+3]=ce>>>24,this[Te+2]=ce>>>16,this[Te+1]=ce>>>8,this[Te]=255&ce,Te+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(ce,Te,ve){return ce=+ce,Te>>>=0,ve||$(this,ce,Te,4,4294967295,0),this[Te]=ce>>>24,this[Te+1]=ce>>>16,this[Te+2]=ce>>>8,this[Te+3]=255&ce,Te+4},h.prototype.writeBigUInt64LE=Ie(function(ce){return ne(this,ce,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Ie(function(ce){return re(this,ce,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(ce,Te,ve,Ce){if(ce=+ce,Te>>>=0,!Ce){var Re=Math.pow(2,8*ve-1);$(this,ce,Te,ve,Re-1,-Re)}var Oe=0,je=1,qe=0;for(this[Te]=255&ce;++Oe<ve&&(je*=256);)ce<0&&0===qe&&0!==this[Te+Oe-1]&&(qe=1),this[Te+Oe]=(ce/je>>0)-qe&255;return Te+ve},h.prototype.writeIntBE=function(ce,Te,ve,Ce){if(ce=+ce,Te>>>=0,!Ce){var Re=Math.pow(2,8*ve-1);$(this,ce,Te,ve,Re-1,-Re)}var Oe=ve-1,je=1,qe=0;for(this[Te+Oe]=255&ce;--Oe>=0&&(je*=256);)ce<0&&0===qe&&0!==this[Te+Oe+1]&&(qe=1),this[Te+Oe]=(ce/je>>0)-qe&255;return Te+ve},h.prototype.writeInt8=function(ce,Te,ve){return ce=+ce,Te>>>=0,ve||$(this,ce,Te,1,127,-128),ce<0&&(ce=255+ce+1),this[Te]=255&ce,Te+1},h.prototype.writeInt16LE=function(ce,Te,ve){return ce=+ce,Te>>>=0,ve||$(this,ce,Te,2,32767,-32768),this[Te]=255&ce,this[Te+1]=ce>>>8,Te+2},h.prototype.writeInt16BE=function(ce,Te,ve){return ce=+ce,Te>>>=0,ve||$(this,ce,Te,2,32767,-32768),this[Te]=ce>>>8,this[Te+1]=255&ce,Te+2},h.prototype.writeInt32LE=function(ce,Te,ve){return ce=+ce,Te>>>=0,ve||$(this,ce,Te,4,2147483647,-2147483648),this[Te]=255&ce,this[Te+1]=ce>>>8,this[Te+2]=ce>>>16,this[Te+3]=ce>>>24,Te+4},h.prototype.writeInt32BE=function(ce,Te,ve){return ce=+ce,Te>>>=0,ve||$(this,ce,Te,4,2147483647,-2147483648),ce<0&&(ce=4294967295+ce+1),this[Te]=ce>>>24,this[Te+1]=ce>>>16,this[Te+2]=ce>>>8,this[Te+3]=255&ce,Te+4},h.prototype.writeBigInt64LE=Ie(function(ce){return ne(this,ce,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Ie(function(ce){return re(this,ce,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeFloatLE=function(ce,Te,ve){return ue(this,ce,Te,!0,ve)},h.prototype.writeFloatBE=function(ce,Te,ve){return ue(this,ce,Te,!1,ve)},h.prototype.writeDoubleLE=function(ce,Te,ve){return xe(this,ce,Te,!0,ve)},h.prototype.writeDoubleBE=function(ce,Te,ve){return xe(this,ce,Te,!1,ve)},h.prototype.copy=function(ce,Te,ve,Ce){if(!h.isBuffer(ce))throw new TypeError("argument should be a Buffer");if(ve||(ve=0),Ce||0===Ce||(Ce=this.length),Te>=ce.length&&(Te=ce.length),Te||(Te=0),Ce>0&&Ce<ve&&(Ce=ve),Ce===ve||0===ce.length||0===this.length)return 0;if(Te<0)throw new RangeError("targetStart out of bounds");if(ve<0||ve>=this.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("sourceEnd out of bounds");Ce>this.length&&(Ce=this.length),ce.length-Te<Ce-ve&&(Ce=ce.length-Te+ve);var Re=Ce-ve;return this===ce&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Te,ve,Ce):Uint8Array.prototype.set.call(ce,this.subarray(ve,Ce),Te),Re},h.prototype.fill=function(ce,Te,ve,Ce){if("string"==typeof ce){if("string"==typeof Te?(Ce=Te,Te=0,ve=this.length):"string"==typeof ve&&(Ce=ve,ve=this.length),void 0!==Ce&&"string"!=typeof Ce)throw new TypeError("encoding must be a string");if("string"==typeof Ce&&!h.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);if(1===ce.length){var Re=ce.charCodeAt(0);("utf8"===Ce&&Re<128||"latin1"===Ce)&&(ce=Re)}}else"number"==typeof ce?ce&=255:"boolean"==typeof ce&&(ce=Number(ce));if(Te<0||this.length<Te||this.length<ve)throw new RangeError("Out of range index");if(ve<=Te)return this;var Oe;if(Te>>>=0,ve=void 0===ve?this.length:ve>>>0,ce||(ce=0),"number"==typeof ce)for(Oe=Te;Oe<ve;++Oe)this[Oe]=ce;else{var je=h.isBuffer(ce)?ce:h.from(ce,Ce),qe=je.length;if(0===qe)throw new TypeError('The value "'+ce+'" is invalid for argument "value"');for(Oe=0;Oe<ve-Te;++Oe)this[Oe+Te]=je[Oe%qe]}return this};var Me={};function me(ce,Te,ve){Me[ce]=function(Ce){!function(Qe,dt){if("function"!=typeof dt&&null!==dt)throw new TypeError("Super expression must either be null or a function");Qe.prototype=Object.create(dt&&dt.prototype,{constructor:{value:Qe,writable:!0,configurable:!0}}),Object.defineProperty(Qe,"prototype",{writable:!1}),dt&&r(Qe,dt)}(it,Ce);var Re,Oe,je,qe,Je=(je=it,qe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Qe,dt=o(je);if(qe){var yt=o(this).constructor;Qe=Reflect.construct(dt,arguments,yt)}else Qe=dt.apply(this,arguments);return function(mt,at){if(at&&("object"===s(at)||"function"==typeof at))return at;if(void 0!==at)throw new TypeError("Derived constructors may only return object or undefined");return n(mt)}(this,Qe)});function it(){var Qe;return function(dt,yt){if(!(dt instanceof yt))throw new TypeError("Cannot call a class as a function")}(this,it),Qe=Je.call(this),Object.defineProperty(n(Qe),"message",{value:Te.apply(n(Qe),arguments),writable:!0,configurable:!0}),Qe.name="".concat(Qe.name," [").concat(ce,"]"),delete Qe.name,Qe}return Re=it,(Oe=[{key:"code",get:function(){return ce},set:function(Qe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Qe,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ce,"]: ").concat(this.message)}}])&&function i(ce,Te){for(var ve=0;ve<Te.length;ve++){var Ce=Te[ve];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ce,Ce.key,Ce)}}(Re.prototype,Oe),Object.defineProperty(Re,"prototype",{writable:!1}),it}(ve)}function pe(ce){for(var Te="",ve=ce.length,Ce="-"===ce[0]?1:0;ve>=Ce+4;ve-=3)Te="_".concat(ce.slice(ve-3,ve)).concat(Te);return"".concat(ce.slice(0,ve)).concat(Te)}function ge(ce,Te,ve,Ce,Re,Oe){if(ce>ve||ce<Te){var je,qe="bigint"==typeof Te?"n":"";throw je=Oe>3?0===Te||Te===BigInt(0)?">= 0".concat(qe," and < 2").concat(qe," ** ").concat(8*(Oe+1)).concat(qe):">= -(2".concat(qe," ** ").concat(8*(Oe+1)-1).concat(qe,") and < 2 ** ")+"".concat(8*(Oe+1)-1).concat(qe):">= ".concat(Te).concat(qe," and <= ").concat(ve).concat(qe),new Me.ERR_OUT_OF_RANGE("value",je,ce)}var Je,it,Qe;Je=Ce,Qe=Oe,Pe(it=Re,"offset"),void 0!==Je[it]&&void 0!==Je[it+Qe]||_e(it,Je.length-(Qe+1))}function Pe(ce,Te){if("number"!=typeof ce)throw new Me.ERR_INVALID_ARG_TYPE(Te,"number",ce)}function _e(ce,Te,ve){throw Math.floor(ce)!==ce?(Pe(ce,ve),new Me.ERR_OUT_OF_RANGE(ve||"offset","an integer",ce)):Te<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE(ve||"offset",">= ".concat(ve?1:0," and <= ").concat(Te),ce)}me("ERR_BUFFER_OUT_OF_BOUNDS",function(ce){return ce?"".concat(ce," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function(ce,Te){return'The "'.concat(ce,'" argument must be of type number. Received type ').concat(s(Te))},TypeError),me("ERR_OUT_OF_RANGE",function(ce,Te,ve){var Ce='The value of "'.concat(ce,'" is out of range.'),Re=ve;return Number.isInteger(ve)&&Math.abs(ve)>Math.pow(2,32)?Re=pe(String(ve)):"bigint"==typeof ve&&(Re=String(ve),(ve>Math.pow(BigInt(2),BigInt(32))||ve<-Math.pow(BigInt(2),BigInt(32)))&&(Re=pe(Re)),Re+="n"),Ce+" It must be ".concat(Te,". Received ").concat(Re)},RangeError);var we=/[^+/0-9A-Za-z-_]/g;function se(ce,Te){var ve;Te=Te||1/0;for(var Ce=ce.length,Re=null,Oe=[],je=0;je<Ce;++je){if((ve=ce.charCodeAt(je))>55295&&ve<57344){if(!Re){if(ve>56319){(Te-=3)>-1&&Oe.push(239,191,189);continue}if(je+1===Ce){(Te-=3)>-1&&Oe.push(239,191,189);continue}Re=ve;continue}if(ve<56320){(Te-=3)>-1&&Oe.push(239,191,189),Re=ve;continue}ve=65536+(Re-55296<<10|ve-56320)}else Re&&(Te-=3)>-1&&Oe.push(239,191,189);if(Re=null,ve<128){if((Te-=1)<0)break;Oe.push(ve)}else if(ve<2048){if((Te-=2)<0)break;Oe.push(ve>>6|192,63&ve|128)}else if(ve<65536){if((Te-=3)<0)break;Oe.push(ve>>12|224,ve>>6&63|128,63&ve|128)}else{if(!(ve<1114112))throw new Error("Invalid code point");if((Te-=4)<0)break;Oe.push(ve>>18|240,ve>>12&63|128,ve>>6&63|128,63&ve|128)}}return Oe}function ae(ce){return u.toByteArray(function(Te){if((Te=(Te=Te.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;Te.length%4!=0;)Te+="=";return Te}(ce))}function fe(ce,Te,ve,Ce){var Re;for(Re=0;Re<Ce&&!(Re+ve>=Te.length||Re>=ce.length);++Re)Te[Re+ve]=ce[Re];return Re}function Ee(ce,Te){return ce instanceof Te||null!=ce&&null!=ce.constructor&&null!=ce.constructor.name&&ce.constructor.name===Te.name}function ke(ce){return ce!=ce}var be=function(){for(var ce="0123456789abcdef",Te=new Array(256),ve=0;ve<16;++ve)for(var Ce=16*ve,Re=0;Re<16;++Re)Te[Ce+Re]=ce[ve]+ce[Re];return Te}();function Ie(ce){return typeof BigInt>"u"?Fe:ce}function Fe(){throw new Error("BigInt not supported")}},2321:function(d){"use strict";d.exports=r,d.exports.isMobile=r,d.exports.default=r;var a=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,i=/android|ipad|playbook|silk/i;function r(n){n||(n={});var o=n.ua;if(o||typeof navigator>"u"||(o=navigator.userAgent),o&&o.headers&&"string"==typeof o.headers["user-agent"]&&(o=o.headers["user-agent"]),"string"!=typeof o)return!1;var s=a.test(o)&&!t.test(o)||!!n.tablet&&i.test(o);return!s&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==o.indexOf("Macintosh")&&-1!==o.indexOf("Safari")&&(s=!0),s}},3910:function(d,a){"use strict";a.byteLength=function(p){var c=s(p),g=c[1];return 3*(c[0]+g)/4-g},a.toByteArray=function(p){var c,x,w,g=s(p),h=g[0],y=g[1],v=new r(3*(h+(w=y))/4-w),m=0,_=y>0?h-4:h;for(x=0;x<_;x+=4)c=i[p.charCodeAt(x)]<<18|i[p.charCodeAt(x+1)]<<12|i[p.charCodeAt(x+2)]<<6|i[p.charCodeAt(x+3)],v[m++]=c>>16&255,v[m++]=c>>8&255,v[m++]=255&c;return 2===y&&(c=i[p.charCodeAt(x)]<<2|i[p.charCodeAt(x+1)]>>4,v[m++]=255&c),1===y&&(c=i[p.charCodeAt(x)]<<10|i[p.charCodeAt(x+1)]<<4|i[p.charCodeAt(x+2)]>>2,v[m++]=c>>8&255,v[m++]=255&c),v},a.fromByteArray=function(p){for(var c,x=p.length,g=x%3,h=[],y=16383,v=0,m=x-g;v<m;v+=y)h.push(u(p,v,v+y>m?m:v+y));return 1===g?h.push(t[(c=p[x-1])>>2]+t[c<<4&63]+"=="):2===g&&h.push(t[(c=(p[x-2]<<8)+p[x-1])>>10]+t[c>>4&63]+t[c<<2&63]+"="),h.join("")};for(var t=[],i=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)t[o]=n[o],i[n.charCodeAt(o)]=o;function s(p){var c=p.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=p.indexOf("=");return-1===x&&(x=c),[x,x===c?0:4-x%4]}function u(p,c,x){for(var h,y=[],v=c;v<x;v+=3)y.push(t[(h=(p[v]<<16&16711680)+(p[v+1]<<8&65280)+(255&p[v+2]))>>18&63]+t[h>>12&63]+t[h>>6&63]+t[63&h]);return y.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},3187:function(d,a){a.read=function(t,i,r,n,o){var s,u,p=8*o-n-1,c=(1<<p)-1,x=c>>1,g=-7,h=r?o-1:0,y=r?-1:1,v=t[i+h];for(h+=y,s=v&(1<<-g)-1,v>>=-g,g+=p;g>0;s=256*s+t[i+h],h+=y,g-=8);for(u=s&(1<<-g)-1,s>>=-g,g+=n;g>0;u=256*u+t[i+h],h+=y,g-=8);if(0===s)s=1-x;else{if(s===c)return u?NaN:1/0*(v?-1:1);u+=Math.pow(2,n),s-=x}return(v?-1:1)*u*Math.pow(2,s-n)},a.write=function(t,i,r,n,o,s){var u,p,c,x=8*s-o-1,g=(1<<x)-1,h=g>>1,y=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:s-1,m=n?1:-1,_=i<0||0===i&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(p=isNaN(i)?1:0,u=g):(u=Math.floor(Math.log(i)/Math.LN2),i*(c=Math.pow(2,-u))<1&&(u--,c*=2),(i+=u+h>=1?y/c:y*Math.pow(2,1-h))*c>=2&&(u++,c/=2),u+h>=g?(p=0,u=g):u+h>=1?(p=(i*c-1)*Math.pow(2,o),u+=h):(p=i*Math.pow(2,h-1)*Math.pow(2,o),u=0));o>=8;t[r+v]=255&p,v+=m,p/=256,o-=8);for(u=u<<o|p,x+=o;x>0;t[r+v]=255&u,v+=m,u/=256,x-=8);t[r+v-m]|=128*_}},1152:function(d,a,t){"use strict";d.exports=function(u){var p=(u=u||{}).eye||[0,0,1],c=u.center||[0,0,0],x=u.up||[0,1,0],g=u.distanceLimits||[0,1/0],h=u.mode||"turntable",y=i(),v=r(),m=n();return y.setDistanceLimits(g[0],g[1]),y.lookAt(0,p,c,x),v.setDistanceLimits(g[0],g[1]),v.lookAt(0,p,c,x),m.setDistanceLimits(g[0],g[1]),m.lookAt(0,p,c,x),new o({turntable:y,orbit:v,matrix:m},h)};var i=t(3440),r=t(7774),n=t(9298);function o(u,p){this._controllerNames=Object.keys(u),this._controllerList=this._controllerNames.map(function(c){return u[c]}),this._mode=p,this._active=u[p],this._active||(this._mode="turntable",this._active=u.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=o.prototype;s.flush=function(u){for(var p=this._controllerList,c=0;c<p.length;++c)p[c].flush(u)},s.idle=function(u){for(var p=this._controllerList,c=0;c<p.length;++c)p[c].idle(u)},s.lookAt=function(u,p,c,x){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].lookAt(u,p,c,x)},s.rotate=function(u,p,c,x){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].rotate(u,p,c,x)},s.pan=function(u,p,c,x){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].pan(u,p,c,x)},s.translate=function(u,p,c,x){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].translate(u,p,c,x)},s.setMatrix=function(u,p){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setMatrix(u,p)},s.setDistanceLimits=function(u,p){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setDistanceLimits(u,p)},s.setDistance=function(u,p){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setDistance(u,p)},s.recalcMatrix=function(u){this._active.recalcMatrix(u)},s.getDistance=function(u){return this._active.getDistance(u)},s.getDistanceLimits=function(u){return this._active.getDistanceLimits(u)},s.lastT=function(){return this._active.lastT()},s.setMode=function(u){if(u!==this._mode){var p=this._controllerNames.indexOf(u);if(!(p<0)){var c=this._active,x=this._controllerList[p],g=Math.max(c.lastT(),x.lastT());c.recalcMatrix(g),x.setMatrix(g,c.computedMatrix),this._active=x,this._mode=u,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode}},8126:function(d,a,t){"use strict";var i=typeof WeakMap>"u"?t(5346):WeakMap,r=t(5827),n=t(2944),o=new i;d.exports=function(s){var u=o.get(s),p=u&&(u._triangleBuffer.handle||u._triangleBuffer.buffer);if(!p||!s.isBuffer(p)){var c=r(s,new Float32Array([-1,-1,-1,4,4,-1]));(u=n(s,[{buffer:c,type:s.FLOAT,size:2}]))._triangleBuffer=c,o.set(s,u)}u.bind(),s.drawArrays(s.TRIANGLES,0,3),u.unbind()}},8008:function(d,a,t){var i=t(4930);d.exports=function(r,n,o){n="number"==typeof n?n:1,o=o||": ";var s=r.split(/\r?\n/),u=String(s.length+n-1).length;return s.map(function(p,c){var x=c+n,g=String(x).length;return i(x,u-g)+o+p}).join("\n")}},2153:function(d,a,t){"use strict";d.exports=function(n){var o=n.length;if(0===o)return[];if(1===o)return[0];for(var s=n[0].length,u=[n[0]],p=[0],c=1;c<o;++c)if(u.push(n[c]),r(u,s)){if(p.push(c),p.length===s+1)return p}else u.pop();return p};var i=t(417);function r(n,o){for(var s=new Array(o+1),u=0;u<n.length;++u)s[u]=n[u];for(u=0;u<=n.length;++u){for(var p=n.length;p<=o;++p){for(var c=new Array(o),x=0;x<o;++x)c[x]=Math.pow(p+1-u,x);s[p]=c}if(i.apply(void 0,s))return!0}return!1}},4653:function(d,a,t){"use strict";d.exports=function(n,o){return i(o).filter(function(s){for(var u=new Array(s.length),p=0;p<s.length;++p)u[p]=o[s[p]];return r(u)*n<1})};var i=t(4419),r=t(1778)},2350:function(d,a,t){d.exports=function(n,o){return r(i(n,o))};var i=t(4653),r=t(8691)},7896:function(d){d.exports=function(a){return atob(a)}},957:function(d,a,t){"use strict";d.exports=function(n,o){for(var s=o.length,u=new Array(s+1),p=0;p<s;++p){for(var c=new Array(s+1),x=0;x<=s;++x)c[x]=n[x][p];u[p]=c}for(u[s]=new Array(s+1),p=0;p<=s;++p)u[s][p]=1;var g=new Array(s+1);for(p=0;p<s;++p)g[p]=o[p];g[s]=1;var h=i(u,g),y=r(h[s+1]);0===y&&(y=1);var v=new Array(s+1);for(p=0;p<=s;++p)v[p]=r(h[p])/y;return v};var i=t(6606);function r(n){for(var o=0,s=0;s<n.length;++s)o+=n[s];return o}},1539:function(d,a,t){"use strict";var i=t(8524);d.exports=function(r,n){return i(r[0].mul(n[1]).add(n[0].mul(r[1])),r[1].mul(n[1]))}},8846:function(d){"use strict";d.exports=function(a,t){return a[0].mul(t[1]).cmp(t[0].mul(a[1]))}},9189:function(d,a,t){"use strict";var i=t(8524);d.exports=function(r,n){return i(r[0].mul(n[1]),r[1].mul(n[0]))}},5125:function(d,a,t){"use strict";var i=t(234),r=t(3218),n=t(5514),o=t(2813),s=t(8524),u=t(9189);d.exports=function p(c,x){if(i(c))return x?u(c,p(x)):[c[0].clone(),c[1].clone()];var g,h,y=0;if(r(c))g=c.clone();else if("string"==typeof c)g=o(c);else{if(0===c)return[n(0),n(1)];if(c===Math.floor(c))g=n(c);else{for(;c!==Math.floor(c);)c*=Math.pow(2,256),y-=256;g=n(c)}}if(i(x))g.mul(x[1]),h=x[0].clone();else if(r(x))h=x.clone();else if("string"==typeof x)h=o(x);else if(x)if(x===Math.floor(x))h=n(x);else{for(;x!==Math.floor(x);)x*=Math.pow(2,256),y+=256;h=n(x)}else h=n(1);return y>0?g=g.ushln(y):y<0&&(h=h.ushln(-y)),s(g,h)}},234:function(d,a,t){"use strict";var i=t(3218);d.exports=function(r){return Array.isArray(r)&&2===r.length&&i(r[0])&&i(r[1])}},4275:function(d,a,t){"use strict";var i=t(1928);d.exports=function(r){return r.cmp(new i(0))}},9958:function(d,a,t){"use strict";var i=t(4275);d.exports=function(r){var n=r.length,o=r.words,s=0;if(1===n)s=o[0];else if(2===n)s=o[0]+67108864*o[1];else for(var u=0;u<n;u++)s+=o[u]*Math.pow(67108864,u);return i(r)*s}},1112:function(d,a,t){"use strict";var i=t(8362),r=t(2288).countTrailingZeros;d.exports=function(n){var o=r(i.lo(n));if(o<32)return o;var s=r(i.hi(n));return s>20?52:s+32}},3218:function(d,a,t){"use strict";t(1928),d.exports=function(i){return i&&"object"==typeof i&&!!i.words}},5514:function(d,a,t){"use strict";var i=t(1928),r=t(8362);d.exports=function(n){var o=r.exponent(n);return o<52?new i(n):new i(n*Math.pow(2,52-o)).ushln(o-52)}},8524:function(d,a,t){"use strict";var i=t(5514),r=t(4275);d.exports=function(n,o){var s=r(n),u=r(o);if(0===s)return[i(0),i(1)];if(0===u)return[i(0),i(0)];u<0&&(n=n.neg(),o=o.neg());var p=n.gcd(o);return p.cmpn(1)?[n.div(p),o.div(p)]:[n,o]}},2813:function(d,a,t){"use strict";var i=t(1928);d.exports=function(r){return new i(r)}},3962:function(d,a,t){"use strict";var i=t(8524);d.exports=function(r,n){return i(r[0].mul(n[0]),r[1].mul(n[1]))}},4951:function(d,a,t){"use strict";var i=t(4275);d.exports=function(r){return i(r[0])*i(r[1])}},4354:function(d,a,t){"use strict";var i=t(8524);d.exports=function(r,n){return i(r[0].mul(n[1]).sub(r[1].mul(n[0])),r[1].mul(n[1]))}},7999:function(d,a,t){"use strict";var i=t(9958),r=t(1112);d.exports=function(n){var o=n[0],s=n[1];if(0===o.cmpn(0))return 0;var u=o.abs().divmod(s.abs()),c=i(u.div),x=u.mod,g=o.negative!==s.negative?-1:1;if(0===x.cmpn(0))return g*c;if(c){var h=r(c)+4;return g*(c+(v=i(x.ushln(h).divRound(s)))*Math.pow(2,-h))}var y=s.bitLength()-x.bitLength()+53,v=i(x.ushln(y).divRound(s));return y<1023?g*v*Math.pow(2,-y):g*(v*=Math.pow(2,-1023))*Math.pow(2,1023-y)}},5070:function(d){"use strict";function a(s,u,p,c,x){for(var g=x+1;c<=x;){var h=c+x>>>1,y=s[h];(void 0!==p?p(y,u):y-u)>=0?(g=h,x=h-1):c=h+1}return g}function t(s,u,p,c,x){for(var g=x+1;c<=x;){var h=c+x>>>1,y=s[h];(void 0!==p?p(y,u):y-u)>0?(g=h,x=h-1):c=h+1}return g}function i(s,u,p,c,x){for(var g=c-1;c<=x;){var h=c+x>>>1,y=s[h];(void 0!==p?p(y,u):y-u)<0?(g=h,c=h+1):x=h-1}return g}function r(s,u,p,c,x){for(var g=c-1;c<=x;){var h=c+x>>>1,y=s[h];(void 0!==p?p(y,u):y-u)<=0?(g=h,c=h+1):x=h-1}return g}function n(s,u,p,c,x){for(;c<=x;){var g=c+x>>>1,h=s[g],y=void 0!==p?p(h,u):h-u;if(0===y)return g;y<=0?c=g+1:x=g-1}return-1}function o(s,u,p,c,x,g){return"function"==typeof p?g(s,u,p,void 0===c?0:0|c,void 0===x?s.length-1:0|x):g(s,u,void 0,void 0===p?0:0|p,void 0===c?s.length-1:0|c)}d.exports={ge:function(s,u,p,c,x){return o(s,u,p,c,x,a)},gt:function(s,u,p,c,x){return o(s,u,p,c,x,t)},lt:function(s,u,p,c,x){return o(s,u,p,c,x,i)},le:function(s,u,p,c,x){return o(s,u,p,c,x,r)},eq:function(s,u,p,c,x){return o(s,u,p,c,x,n)}}},2288:function(d,a){"use strict";function t(r){var n=32;return(r&=-r)&&n--,65535&r&&(n-=16),16711935&r&&(n-=8),252645135&r&&(n-=4),858993459&r&&(n-=2),1431655765&r&&(n-=1),n}a.INT_BITS=32,a.INT_MAX=2147483647,a.INT_MIN=-2147483648,a.sign=function(r){return(r>0)-(r<0)},a.abs=function(r){var n=r>>31;return(r^n)-n},a.min=function(r,n){return n^(r^n)&-(r<n)},a.max=function(r,n){return r^(r^n)&-(r<n)},a.isPow2=function(r){return!(r&r-1||!r)},a.log2=function(r){var n,o;return n=(r>65535)<<4,n|=o=((r>>>=n)>255)<<3,n|=o=((r>>>=o)>15)<<2,(n|=o=((r>>>=o)>3)<<1)|(r>>>=o)>>1},a.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},a.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},a.countTrailingZeros=t,a.nextPow2=function(r){return r+=0===r,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,1+((r|=r>>>8)|r>>>16)},a.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},a.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var i=new Array(256);(function(r){for(var n=0;n<256;++n){var o=n,s=n,u=7;for(o>>>=1;o;o>>>=1)s<<=1,s|=1&o,--u;r[n]=s<<u&255}})(i),a.reverse=function(r){return i[255&r]<<24|i[r>>>8&255]<<16|i[r>>>16&255]<<8|i[r>>>24&255]},a.interleave2=function(r,n){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},a.deinterleave2=function(r,n){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>n&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},a.interleave3=function(r,n,o){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<2},a.deinterleave3=function(r,n){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>n&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},a.nextCombination=function(r){var n=r|r-1;return n+1|(~n&-~n)-1>>>t(r)+1}},1928:function(d,a,t){!function(i,r){"use strict";function n(P,U){if(!P)throw new Error(U||"Assertion failed")}function o(P,U){P.super_=U;var N=function(){};N.prototype=U.prototype,P.prototype=new N,P.prototype.constructor=P}function s(P,U,N){if(s.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,null!==P&&("le"!==U&&"be"!==U||(N=U,U=10),this._init(P||0,U||10,N||"be"))}var u;"object"==typeof i?i.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{u=typeof window<"u"&&void 0!==window.Buffer?window.Buffer:t(6601).Buffer}catch{}function p(P,U){var N=P.charCodeAt(U);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function c(P,U,N){var F=p(P,N);return N-1>=U&&(F|=p(P,N-1)<<4),F}function x(P,U,N,F){for(var j=0,G=Math.min(P.length,N),te=U;te<G;te++){var J=P.charCodeAt(te)-48;j*=F,j+=J>=49?J-49+10:J>=17?J-17+10:J}return j}s.isBN=function(P){return P instanceof s||null!==P&&"object"==typeof P&&P.constructor.wordSize===s.wordSize&&Array.isArray(P.words)},s.max=function(P,U){return P.cmp(U)>0?P:U},s.min=function(P,U){return P.cmp(U)<0?P:U},s.prototype._init=function(P,U,N){if("number"==typeof P)return this._initNumber(P,U,N);if("object"==typeof P)return this._initArray(P,U,N);"hex"===U&&(U=16),n(U===(0|U)&&U>=2&&U<=36);var F=0;"-"===(P=P.toString().replace(/\s+/g,""))[0]&&(F++,this.negative=1),F<P.length&&(16===U?this._parseHex(P,F,N):(this._parseBase(P,U,F),"le"===N&&this._initArray(this.toArray(),U,N)))},s.prototype._initNumber=function(P,U,N){P<0&&(this.negative=1,P=-P),P<67108864?(this.words=[67108863&P],this.length=1):P<4503599627370496?(this.words=[67108863&P,P/67108864&67108863],this.length=2):(n(P<9007199254740992),this.words=[67108863&P,P/67108864&67108863,1],this.length=3),"le"===N&&this._initArray(this.toArray(),U,N)},s.prototype._initArray=function(P,U,N){if(n("number"==typeof P.length),P.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(P.length/3),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var j,G,te=0;if("be"===N)for(F=P.length-1,j=0;F>=0;F-=3)this.words[j]|=(G=P[F]|P[F-1]<<8|P[F-2]<<16)<<te&67108863,this.words[j+1]=G>>>26-te&67108863,(te+=24)>=26&&(te-=26,j++);else if("le"===N)for(F=0,j=0;F<P.length;F+=3)this.words[j]|=(G=P[F]|P[F+1]<<8|P[F+2]<<16)<<te&67108863,this.words[j+1]=G>>>26-te&67108863,(te+=24)>=26&&(te-=26,j++);return this.strip()},s.prototype._parseHex=function(P,U,N){this.length=Math.ceil((P.length-U)/6),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var j,G=0,te=0;if("be"===N)for(F=P.length-1;F>=U;F-=2)j=c(P,U,F)<<G,this.words[te]|=67108863&j,G>=18?(G-=18,this.words[te+=1]|=j>>>26):G+=8;else for(F=(P.length-U)%2==0?U+1:U;F<P.length;F+=2)j=c(P,U,F)<<G,this.words[te]|=67108863&j,G>=18?(G-=18,this.words[te+=1]|=j>>>26):G+=8;this.strip()},s.prototype._parseBase=function(P,U,N){this.words=[0],this.length=1;for(var F=0,j=1;j<=67108863;j*=U)F++;F--,j=j/U|0;for(var G=P.length-N,te=G%F,J=Math.min(G,G-te)+N,X=0,Y=N;Y<J;Y+=F)X=x(P,Y,Y+F,U),this.imuln(j),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X);if(0!==te){var W=1;for(X=x(P,Y,P.length,U),Y=0;Y<te;Y++)W*=U;this.imuln(W),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X)}this.strip()},s.prototype.copy=function(P){P.words=new Array(this.length);for(var U=0;U<this.length;U++)P.words[U]=this.words[U];P.length=this.length,P.negative=this.negative,P.red=this.red},s.prototype.clone=function(){var P=new s(null);return this.copy(P),P},s.prototype._expand=function(P){for(;this.length<P;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(P,U,N){N.negative=U.negative^P.negative;var F=P.length+U.length|0;N.length=F,F=F-1|0;var j=0|P.words[0],G=0|U.words[0],te=j*G,X=te/67108864|0;N.words[0]=67108863&te;for(var Y=1;Y<F;Y++){for(var W=X>>>26,$=67108863&X,ne=Math.min(Y,U.length-1),re=Math.max(0,Y-P.length+1);re<=ne;re++)W+=(te=(j=0|P.words[Y-re|0])*(G=0|U.words[re])+$)/67108864|0,$=67108863&te;N.words[Y]=0|$,X=0|W}return 0!==X?N.words[Y]=0|X:N.length--,N.strip()}s.prototype.toString=function(P,U){var N;if(U=0|U||1,16===(P=P||10)||"hex"===P){N="";for(var F=0,j=0,G=0;G<this.length;G++){var te=this.words[G],J=(16777215&(te<<F|j)).toString(16);N=0!=(j=te>>>24-F&16777215)||G!==this.length-1?g[6-J.length]+J+N:J+N,(F+=2)>=26&&(F-=26,G--)}for(0!==j&&(N=j.toString(16)+N);N.length%U!=0;)N="0"+N;return 0!==this.negative&&(N="-"+N),N}if(P===(0|P)&&P>=2&&P<=36){var X=h[P],Y=y[P];N="";var W=this.clone();for(W.negative=0;!W.isZero();){var $=W.modn(Y).toString(P);N=(W=W.idivn(Y)).isZero()?$+N:g[X-$.length]+$+N}for(this.isZero()&&(N="0"+N);N.length%U!=0;)N="0"+N;return 0!==this.negative&&(N="-"+N),N}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var P=this.words[0];return 2===this.length?P+=67108864*this.words[1]:3===this.length&&1===this.words[2]?P+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-P:P},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(P,U){return n(void 0!==u),this.toArrayLike(u,P,U)},s.prototype.toArray=function(P,U){return this.toArrayLike(Array,P,U)},s.prototype.toArrayLike=function(P,U,N){var F=this.byteLength(),j=N||Math.max(1,F);n(F<=j,"byte array longer than desired length"),n(j>0,"Requested array length <= 0"),this.strip();var G,te,J="le"===U,X=new P(j),Y=this.clone();if(J){for(te=0;!Y.isZero();te++)G=Y.andln(255),Y.iushrn(8),X[te]=G;for(;te<j;te++)X[te]=0}else{for(te=0;te<j-F;te++)X[te]=0;for(te=0;!Y.isZero();te++)G=Y.andln(255),Y.iushrn(8),X[j-te-1]=G}return X},s.prototype._countBits=Math.clz32?function(P){return 32-Math.clz32(P)}:function(P){var U=P,N=0;return U>=4096&&(N+=13,U>>>=13),U>=64&&(N+=7,U>>>=7),U>=8&&(N+=4,U>>>=4),U>=2&&(N+=2,U>>>=2),N+U},s.prototype._zeroBits=function(P){if(0===P)return 26;var U=P,N=0;return!(8191&U)&&(N+=13,U>>>=13),!(127&U)&&(N+=7,U>>>=7),!(15&U)&&(N+=4,U>>>=4),!(3&U)&&(N+=2,U>>>=2),!(1&U)&&N++,N},s.prototype.bitLength=function(){var U=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+U},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var P=0,U=0;U<this.length;U++){var N=this._zeroBits(this.words[U]);if(P+=N,26!==N)break}return P},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(P){return 0!==this.negative?this.abs().inotn(P).iaddn(1):this.clone()},s.prototype.fromTwos=function(P){return this.testn(P-1)?this.notn(P).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(P){for(;this.length<P.length;)this.words[this.length++]=0;for(var U=0;U<P.length;U++)this.words[U]=this.words[U]|P.words[U];return this.strip()},s.prototype.ior=function(P){return n(0==(this.negative|P.negative)),this.iuor(P)},s.prototype.or=function(P){return this.length>P.length?this.clone().ior(P):P.clone().ior(this)},s.prototype.uor=function(P){return this.length>P.length?this.clone().iuor(P):P.clone().iuor(this)},s.prototype.iuand=function(P){var U;U=this.length>P.length?P:this;for(var N=0;N<U.length;N++)this.words[N]=this.words[N]&P.words[N];return this.length=U.length,this.strip()},s.prototype.iand=function(P){return n(0==(this.negative|P.negative)),this.iuand(P)},s.prototype.and=function(P){return this.length>P.length?this.clone().iand(P):P.clone().iand(this)},s.prototype.uand=function(P){return this.length>P.length?this.clone().iuand(P):P.clone().iuand(this)},s.prototype.iuxor=function(P){var U,N;this.length>P.length?(U=this,N=P):(U=P,N=this);for(var F=0;F<N.length;F++)this.words[F]=U.words[F]^N.words[F];if(this!==U)for(;F<U.length;F++)this.words[F]=U.words[F];return this.length=U.length,this.strip()},s.prototype.ixor=function(P){return n(0==(this.negative|P.negative)),this.iuxor(P)},s.prototype.xor=function(P){return this.length>P.length?this.clone().ixor(P):P.clone().ixor(this)},s.prototype.uxor=function(P){return this.length>P.length?this.clone().iuxor(P):P.clone().iuxor(this)},s.prototype.inotn=function(P){n("number"==typeof P&&P>=0);var U=0|Math.ceil(P/26),N=P%26;this._expand(U),N>0&&U--;for(var F=0;F<U;F++)this.words[F]=67108863&~this.words[F];return N>0&&(this.words[F]=~this.words[F]&67108863>>26-N),this.strip()},s.prototype.notn=function(P){return this.clone().inotn(P)},s.prototype.setn=function(P,U){n("number"==typeof P&&P>=0);var N=P/26|0,F=P%26;return this._expand(N+1),this.words[N]=U?this.words[N]|1<<F:this.words[N]&~(1<<F),this.strip()},s.prototype.iadd=function(P){var U,N,F;if(0!==this.negative&&0===P.negative)return this.negative=0,U=this.isub(P),this.negative^=1,this._normSign();if(0===this.negative&&0!==P.negative)return P.negative=0,U=this.isub(P),P.negative=1,U._normSign();this.length>P.length?(N=this,F=P):(N=P,F=this);for(var j=0,G=0;G<F.length;G++)this.words[G]=67108863&(U=(0|N.words[G])+(0|F.words[G])+j),j=U>>>26;for(;0!==j&&G<N.length;G++)this.words[G]=67108863&(U=(0|N.words[G])+j),j=U>>>26;if(this.length=N.length,0!==j)this.words[this.length]=j,this.length++;else if(N!==this)for(;G<N.length;G++)this.words[G]=N.words[G];return this},s.prototype.add=function(P){var U;return 0!==P.negative&&0===this.negative?(P.negative=0,U=this.sub(P),P.negative^=1,U):0===P.negative&&0!==this.negative?(this.negative=0,U=P.sub(this),this.negative=1,U):this.length>P.length?this.clone().iadd(P):P.clone().iadd(this)},s.prototype.isub=function(P){if(0!==P.negative){P.negative=0;var U=this.iadd(P);return P.negative=1,U._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(P),this.negative=1,this._normSign();var N,F,j=this.cmp(P);if(0===j)return this.negative=0,this.length=1,this.words[0]=0,this;j>0?(N=this,F=P):(N=P,F=this);for(var G=0,te=0;te<F.length;te++)G=(U=(0|N.words[te])-(0|F.words[te])+G)>>26,this.words[te]=67108863&U;for(;0!==G&&te<N.length;te++)G=(U=(0|N.words[te])+G)>>26,this.words[te]=67108863&U;if(0===G&&te<N.length&&N!==this)for(;te<N.length;te++)this.words[te]=N.words[te];return this.length=Math.max(this.length,te),N!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(P){return this.clone().isub(P)};var m=function(P,U,N){var F,j,G,te=P.words,J=U.words,X=N.words,Y=0,W=0|te[0],$=8191&W,ne=W>>>13,re=0|te[1],oe=8191&re,ue=re>>>13,xe=0|te[2],Me=8191&xe,me=xe>>>13,pe=0|te[3],ge=8191&pe,Pe=pe>>>13,_e=0|te[4],we=8191&_e,se=_e>>>13,ae=0|te[5],fe=8191&ae,Ee=ae>>>13,ke=0|te[6],be=8191&ke,Ie=ke>>>13,Fe=0|te[7],ce=8191&Fe,Te=Fe>>>13,ve=0|te[8],Ce=8191&ve,Re=ve>>>13,Oe=0|te[9],je=8191&Oe,qe=Oe>>>13,Je=0|J[0],it=8191&Je,Qe=Je>>>13,dt=0|J[1],yt=8191&dt,mt=dt>>>13,at=0|J[2],st=8191&at,Tt=at>>>13,At=0|J[3],Pt=8191&At,kt=At>>>13,Ze=0|J[4],Xe=8191&Ze,He=Ze>>>13,We=0|J[5],rt=8191&We,nt=We>>>13,ze=0|J[6],Be=8191&ze,tt=ze>>>13,et=0|J[7],gt=8191&et,pt=et>>>13,vt=0|J[8],ut=8191&vt,wt=vt>>>13,ct=0|J[9],ft=8191&ct,bt=ct>>>13;N.negative=P.negative^U.negative,N.length=19;var It=(Y+(F=Math.imul($,it))|0)+((8191&(j=(j=Math.imul($,Qe))+Math.imul(ne,it)|0))<<13)|0;Y=((G=Math.imul(ne,Qe))+(j>>>13)|0)+(It>>>26)|0,It&=67108863,F=Math.imul(oe,it),j=(j=Math.imul(oe,Qe))+Math.imul(ue,it)|0,G=Math.imul(ue,Qe);var Dt=(Y+(F=F+Math.imul($,yt)|0)|0)+((8191&(j=(j=j+Math.imul($,mt)|0)+Math.imul(ne,yt)|0))<<13)|0;Y=((G=G+Math.imul(ne,mt)|0)+(j>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,F=Math.imul(Me,it),j=(j=Math.imul(Me,Qe))+Math.imul(me,it)|0,G=Math.imul(me,Qe),F=F+Math.imul(oe,yt)|0,j=(j=j+Math.imul(oe,mt)|0)+Math.imul(ue,yt)|0,G=G+Math.imul(ue,mt)|0;var Nt=(Y+(F=F+Math.imul($,st)|0)|0)+((8191&(j=(j=j+Math.imul($,Tt)|0)+Math.imul(ne,st)|0))<<13)|0;Y=((G=G+Math.imul(ne,Tt)|0)+(j>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,F=Math.imul(ge,it),j=(j=Math.imul(ge,Qe))+Math.imul(Pe,it)|0,G=Math.imul(Pe,Qe),F=F+Math.imul(Me,yt)|0,j=(j=j+Math.imul(Me,mt)|0)+Math.imul(me,yt)|0,G=G+Math.imul(me,mt)|0,F=F+Math.imul(oe,st)|0,j=(j=j+Math.imul(oe,Tt)|0)+Math.imul(ue,st)|0,G=G+Math.imul(ue,Tt)|0;var $t=(Y+(F=F+Math.imul($,Pt)|0)|0)+((8191&(j=(j=j+Math.imul($,kt)|0)+Math.imul(ne,Pt)|0))<<13)|0;Y=((G=G+Math.imul(ne,kt)|0)+(j>>>13)|0)+($t>>>26)|0,$t&=67108863,F=Math.imul(we,it),j=(j=Math.imul(we,Qe))+Math.imul(se,it)|0,G=Math.imul(se,Qe),F=F+Math.imul(ge,yt)|0,j=(j=j+Math.imul(ge,mt)|0)+Math.imul(Pe,yt)|0,G=G+Math.imul(Pe,mt)|0,F=F+Math.imul(Me,st)|0,j=(j=j+Math.imul(Me,Tt)|0)+Math.imul(me,st)|0,G=G+Math.imul(me,Tt)|0,F=F+Math.imul(oe,Pt)|0,j=(j=j+Math.imul(oe,kt)|0)+Math.imul(ue,Pt)|0,G=G+Math.imul(ue,kt)|0;var jt=(Y+(F=F+Math.imul($,Xe)|0)|0)+((8191&(j=(j=j+Math.imul($,He)|0)+Math.imul(ne,Xe)|0))<<13)|0;Y=((G=G+Math.imul(ne,He)|0)+(j>>>13)|0)+(jt>>>26)|0,jt&=67108863,F=Math.imul(fe,it),j=(j=Math.imul(fe,Qe))+Math.imul(Ee,it)|0,G=Math.imul(Ee,Qe),F=F+Math.imul(we,yt)|0,j=(j=j+Math.imul(we,mt)|0)+Math.imul(se,yt)|0,G=G+Math.imul(se,mt)|0,F=F+Math.imul(ge,st)|0,j=(j=j+Math.imul(ge,Tt)|0)+Math.imul(Pe,st)|0,G=G+Math.imul(Pe,Tt)|0,F=F+Math.imul(Me,Pt)|0,j=(j=j+Math.imul(Me,kt)|0)+Math.imul(me,Pt)|0,G=G+Math.imul(me,kt)|0,F=F+Math.imul(oe,Xe)|0,j=(j=j+Math.imul(oe,He)|0)+Math.imul(ue,Xe)|0,G=G+Math.imul(ue,He)|0;var Yt=(Y+(F=F+Math.imul($,rt)|0)|0)+((8191&(j=(j=j+Math.imul($,nt)|0)+Math.imul(ne,rt)|0))<<13)|0;Y=((G=G+Math.imul(ne,nt)|0)+(j>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,F=Math.imul(be,it),j=(j=Math.imul(be,Qe))+Math.imul(Ie,it)|0,G=Math.imul(Ie,Qe),F=F+Math.imul(fe,yt)|0,j=(j=j+Math.imul(fe,mt)|0)+Math.imul(Ee,yt)|0,G=G+Math.imul(Ee,mt)|0,F=F+Math.imul(we,st)|0,j=(j=j+Math.imul(we,Tt)|0)+Math.imul(se,st)|0,G=G+Math.imul(se,Tt)|0,F=F+Math.imul(ge,Pt)|0,j=(j=j+Math.imul(ge,kt)|0)+Math.imul(Pe,Pt)|0,G=G+Math.imul(Pe,kt)|0,F=F+Math.imul(Me,Xe)|0,j=(j=j+Math.imul(Me,He)|0)+Math.imul(me,Xe)|0,G=G+Math.imul(me,He)|0,F=F+Math.imul(oe,rt)|0,j=(j=j+Math.imul(oe,nt)|0)+Math.imul(ue,rt)|0,G=G+Math.imul(ue,nt)|0;var Gt=(Y+(F=F+Math.imul($,Be)|0)|0)+((8191&(j=(j=j+Math.imul($,tt)|0)+Math.imul(ne,Be)|0))<<13)|0;Y=((G=G+Math.imul(ne,tt)|0)+(j>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,F=Math.imul(ce,it),j=(j=Math.imul(ce,Qe))+Math.imul(Te,it)|0,G=Math.imul(Te,Qe),F=F+Math.imul(be,yt)|0,j=(j=j+Math.imul(be,mt)|0)+Math.imul(Ie,yt)|0,G=G+Math.imul(Ie,mt)|0,F=F+Math.imul(fe,st)|0,j=(j=j+Math.imul(fe,Tt)|0)+Math.imul(Ee,st)|0,G=G+Math.imul(Ee,Tt)|0,F=F+Math.imul(we,Pt)|0,j=(j=j+Math.imul(we,kt)|0)+Math.imul(se,Pt)|0,G=G+Math.imul(se,kt)|0,F=F+Math.imul(ge,Xe)|0,j=(j=j+Math.imul(ge,He)|0)+Math.imul(Pe,Xe)|0,G=G+Math.imul(Pe,He)|0,F=F+Math.imul(Me,rt)|0,j=(j=j+Math.imul(Me,nt)|0)+Math.imul(me,rt)|0,G=G+Math.imul(me,nt)|0,F=F+Math.imul(oe,Be)|0,j=(j=j+Math.imul(oe,tt)|0)+Math.imul(ue,Be)|0,G=G+Math.imul(ue,tt)|0;var hn=(Y+(F=F+Math.imul($,gt)|0)|0)+((8191&(j=(j=j+Math.imul($,pt)|0)+Math.imul(ne,gt)|0))<<13)|0;Y=((G=G+Math.imul(ne,pt)|0)+(j>>>13)|0)+(hn>>>26)|0,hn&=67108863,F=Math.imul(Ce,it),j=(j=Math.imul(Ce,Qe))+Math.imul(Re,it)|0,G=Math.imul(Re,Qe),F=F+Math.imul(ce,yt)|0,j=(j=j+Math.imul(ce,mt)|0)+Math.imul(Te,yt)|0,G=G+Math.imul(Te,mt)|0,F=F+Math.imul(be,st)|0,j=(j=j+Math.imul(be,Tt)|0)+Math.imul(Ie,st)|0,G=G+Math.imul(Ie,Tt)|0,F=F+Math.imul(fe,Pt)|0,j=(j=j+Math.imul(fe,kt)|0)+Math.imul(Ee,Pt)|0,G=G+Math.imul(Ee,kt)|0,F=F+Math.imul(we,Xe)|0,j=(j=j+Math.imul(we,He)|0)+Math.imul(se,Xe)|0,G=G+Math.imul(se,He)|0,F=F+Math.imul(ge,rt)|0,j=(j=j+Math.imul(ge,nt)|0)+Math.imul(Pe,rt)|0,G=G+Math.imul(Pe,nt)|0,F=F+Math.imul(Me,Be)|0,j=(j=j+Math.imul(Me,tt)|0)+Math.imul(me,Be)|0,G=G+Math.imul(me,tt)|0,F=F+Math.imul(oe,gt)|0,j=(j=j+Math.imul(oe,pt)|0)+Math.imul(ue,gt)|0,G=G+Math.imul(ue,pt)|0;var yn=(Y+(F=F+Math.imul($,ut)|0)|0)+((8191&(j=(j=j+Math.imul($,wt)|0)+Math.imul(ne,ut)|0))<<13)|0;Y=((G=G+Math.imul(ne,wt)|0)+(j>>>13)|0)+(yn>>>26)|0,yn&=67108863,F=Math.imul(je,it),j=(j=Math.imul(je,Qe))+Math.imul(qe,it)|0,G=Math.imul(qe,Qe),F=F+Math.imul(Ce,yt)|0,j=(j=j+Math.imul(Ce,mt)|0)+Math.imul(Re,yt)|0,G=G+Math.imul(Re,mt)|0,F=F+Math.imul(ce,st)|0,j=(j=j+Math.imul(ce,Tt)|0)+Math.imul(Te,st)|0,G=G+Math.imul(Te,Tt)|0,F=F+Math.imul(be,Pt)|0,j=(j=j+Math.imul(be,kt)|0)+Math.imul(Ie,Pt)|0,G=G+Math.imul(Ie,kt)|0,F=F+Math.imul(fe,Xe)|0,j=(j=j+Math.imul(fe,He)|0)+Math.imul(Ee,Xe)|0,G=G+Math.imul(Ee,He)|0,F=F+Math.imul(we,rt)|0,j=(j=j+Math.imul(we,nt)|0)+Math.imul(se,rt)|0,G=G+Math.imul(se,nt)|0,F=F+Math.imul(ge,Be)|0,j=(j=j+Math.imul(ge,tt)|0)+Math.imul(Pe,Be)|0,G=G+Math.imul(Pe,tt)|0,F=F+Math.imul(Me,gt)|0,j=(j=j+Math.imul(Me,pt)|0)+Math.imul(me,gt)|0,G=G+Math.imul(me,pt)|0,F=F+Math.imul(oe,ut)|0,j=(j=j+Math.imul(oe,wt)|0)+Math.imul(ue,ut)|0,G=G+Math.imul(ue,wt)|0;var on=(Y+(F=F+Math.imul($,ft)|0)|0)+((8191&(j=(j=j+Math.imul($,bt)|0)+Math.imul(ne,ft)|0))<<13)|0;Y=((G=G+Math.imul(ne,bt)|0)+(j>>>13)|0)+(on>>>26)|0,on&=67108863,F=Math.imul(je,yt),j=(j=Math.imul(je,mt))+Math.imul(qe,yt)|0,G=Math.imul(qe,mt),F=F+Math.imul(Ce,st)|0,j=(j=j+Math.imul(Ce,Tt)|0)+Math.imul(Re,st)|0,G=G+Math.imul(Re,Tt)|0,F=F+Math.imul(ce,Pt)|0,j=(j=j+Math.imul(ce,kt)|0)+Math.imul(Te,Pt)|0,G=G+Math.imul(Te,kt)|0,F=F+Math.imul(be,Xe)|0,j=(j=j+Math.imul(be,He)|0)+Math.imul(Ie,Xe)|0,G=G+Math.imul(Ie,He)|0,F=F+Math.imul(fe,rt)|0,j=(j=j+Math.imul(fe,nt)|0)+Math.imul(Ee,rt)|0,G=G+Math.imul(Ee,nt)|0,F=F+Math.imul(we,Be)|0,j=(j=j+Math.imul(we,tt)|0)+Math.imul(se,Be)|0,G=G+Math.imul(se,tt)|0,F=F+Math.imul(ge,gt)|0,j=(j=j+Math.imul(ge,pt)|0)+Math.imul(Pe,gt)|0,G=G+Math.imul(Pe,pt)|0,F=F+Math.imul(Me,ut)|0,j=(j=j+Math.imul(Me,wt)|0)+Math.imul(me,ut)|0,G=G+Math.imul(me,wt)|0;var Ut=(Y+(F=F+Math.imul(oe,ft)|0)|0)+((8191&(j=(j=j+Math.imul(oe,bt)|0)+Math.imul(ue,ft)|0))<<13)|0;Y=((G=G+Math.imul(ue,bt)|0)+(j>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,F=Math.imul(je,st),j=(j=Math.imul(je,Tt))+Math.imul(qe,st)|0,G=Math.imul(qe,Tt),F=F+Math.imul(Ce,Pt)|0,j=(j=j+Math.imul(Ce,kt)|0)+Math.imul(Re,Pt)|0,G=G+Math.imul(Re,kt)|0,F=F+Math.imul(ce,Xe)|0,j=(j=j+Math.imul(ce,He)|0)+Math.imul(Te,Xe)|0,G=G+Math.imul(Te,He)|0,F=F+Math.imul(be,rt)|0,j=(j=j+Math.imul(be,nt)|0)+Math.imul(Ie,rt)|0,G=G+Math.imul(Ie,nt)|0,F=F+Math.imul(fe,Be)|0,j=(j=j+Math.imul(fe,tt)|0)+Math.imul(Ee,Be)|0,G=G+Math.imul(Ee,tt)|0,F=F+Math.imul(we,gt)|0,j=(j=j+Math.imul(we,pt)|0)+Math.imul(se,gt)|0,G=G+Math.imul(se,pt)|0,F=F+Math.imul(ge,ut)|0,j=(j=j+Math.imul(ge,wt)|0)+Math.imul(Pe,ut)|0,G=G+Math.imul(Pe,wt)|0;var nn=(Y+(F=F+Math.imul(Me,ft)|0)|0)+((8191&(j=(j=j+Math.imul(Me,bt)|0)+Math.imul(me,ft)|0))<<13)|0;Y=((G=G+Math.imul(me,bt)|0)+(j>>>13)|0)+(nn>>>26)|0,nn&=67108863,F=Math.imul(je,Pt),j=(j=Math.imul(je,kt))+Math.imul(qe,Pt)|0,G=Math.imul(qe,kt),F=F+Math.imul(Ce,Xe)|0,j=(j=j+Math.imul(Ce,He)|0)+Math.imul(Re,Xe)|0,G=G+Math.imul(Re,He)|0,F=F+Math.imul(ce,rt)|0,j=(j=j+Math.imul(ce,nt)|0)+Math.imul(Te,rt)|0,G=G+Math.imul(Te,nt)|0,F=F+Math.imul(be,Be)|0,j=(j=j+Math.imul(be,tt)|0)+Math.imul(Ie,Be)|0,G=G+Math.imul(Ie,tt)|0,F=F+Math.imul(fe,gt)|0,j=(j=j+Math.imul(fe,pt)|0)+Math.imul(Ee,gt)|0,G=G+Math.imul(Ee,pt)|0,F=F+Math.imul(we,ut)|0,j=(j=j+Math.imul(we,wt)|0)+Math.imul(se,ut)|0,G=G+Math.imul(se,wt)|0;var Xt=(Y+(F=F+Math.imul(ge,ft)|0)|0)+((8191&(j=(j=j+Math.imul(ge,bt)|0)+Math.imul(Pe,ft)|0))<<13)|0;Y=((G=G+Math.imul(Pe,bt)|0)+(j>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,F=Math.imul(je,Xe),j=(j=Math.imul(je,He))+Math.imul(qe,Xe)|0,G=Math.imul(qe,He),F=F+Math.imul(Ce,rt)|0,j=(j=j+Math.imul(Ce,nt)|0)+Math.imul(Re,rt)|0,G=G+Math.imul(Re,nt)|0,F=F+Math.imul(ce,Be)|0,j=(j=j+Math.imul(ce,tt)|0)+Math.imul(Te,Be)|0,G=G+Math.imul(Te,tt)|0,F=F+Math.imul(be,gt)|0,j=(j=j+Math.imul(be,pt)|0)+Math.imul(Ie,gt)|0,G=G+Math.imul(Ie,pt)|0,F=F+Math.imul(fe,ut)|0,j=(j=j+Math.imul(fe,wt)|0)+Math.imul(Ee,ut)|0,G=G+Math.imul(Ee,wt)|0;var rn=(Y+(F=F+Math.imul(we,ft)|0)|0)+((8191&(j=(j=j+Math.imul(we,bt)|0)+Math.imul(se,ft)|0))<<13)|0;Y=((G=G+Math.imul(se,bt)|0)+(j>>>13)|0)+(rn>>>26)|0,rn&=67108863,F=Math.imul(je,rt),j=(j=Math.imul(je,nt))+Math.imul(qe,rt)|0,G=Math.imul(qe,nt),F=F+Math.imul(Ce,Be)|0,j=(j=j+Math.imul(Ce,tt)|0)+Math.imul(Re,Be)|0,G=G+Math.imul(Re,tt)|0,F=F+Math.imul(ce,gt)|0,j=(j=j+Math.imul(ce,pt)|0)+Math.imul(Te,gt)|0,G=G+Math.imul(Te,pt)|0,F=F+Math.imul(be,ut)|0,j=(j=j+Math.imul(be,wt)|0)+Math.imul(Ie,ut)|0,G=G+Math.imul(Ie,wt)|0;var fn=(Y+(F=F+Math.imul(fe,ft)|0)|0)+((8191&(j=(j=j+Math.imul(fe,bt)|0)+Math.imul(Ee,ft)|0))<<13)|0;Y=((G=G+Math.imul(Ee,bt)|0)+(j>>>13)|0)+(fn>>>26)|0,fn&=67108863,F=Math.imul(je,Be),j=(j=Math.imul(je,tt))+Math.imul(qe,Be)|0,G=Math.imul(qe,tt),F=F+Math.imul(Ce,gt)|0,j=(j=j+Math.imul(Ce,pt)|0)+Math.imul(Re,gt)|0,G=G+Math.imul(Re,pt)|0,F=F+Math.imul(ce,ut)|0,j=(j=j+Math.imul(ce,wt)|0)+Math.imul(Te,ut)|0,G=G+Math.imul(Te,wt)|0;var gn=(Y+(F=F+Math.imul(be,ft)|0)|0)+((8191&(j=(j=j+Math.imul(be,bt)|0)+Math.imul(Ie,ft)|0))<<13)|0;Y=((G=G+Math.imul(Ie,bt)|0)+(j>>>13)|0)+(gn>>>26)|0,gn&=67108863,F=Math.imul(je,gt),j=(j=Math.imul(je,pt))+Math.imul(qe,gt)|0,G=Math.imul(qe,pt),F=F+Math.imul(Ce,ut)|0,j=(j=j+Math.imul(Ce,wt)|0)+Math.imul(Re,ut)|0,G=G+Math.imul(Re,wt)|0;var An=(Y+(F=F+Math.imul(ce,ft)|0)|0)+((8191&(j=(j=j+Math.imul(ce,bt)|0)+Math.imul(Te,ft)|0))<<13)|0;Y=((G=G+Math.imul(Te,bt)|0)+(j>>>13)|0)+(An>>>26)|0,An&=67108863,F=Math.imul(je,ut),j=(j=Math.imul(je,wt))+Math.imul(qe,ut)|0,G=Math.imul(qe,wt);var En=(Y+(F=F+Math.imul(Ce,ft)|0)|0)+((8191&(j=(j=j+Math.imul(Ce,bt)|0)+Math.imul(Re,ft)|0))<<13)|0;Y=((G=G+Math.imul(Re,bt)|0)+(j>>>13)|0)+(En>>>26)|0,En&=67108863;var bn=(Y+(F=Math.imul(je,ft))|0)+((8191&(j=(j=Math.imul(je,bt))+Math.imul(qe,ft)|0))<<13)|0;return Y=((G=Math.imul(qe,bt))+(j>>>13)|0)+(bn>>>26)|0,bn&=67108863,X[0]=It,X[1]=Dt,X[2]=Nt,X[3]=$t,X[4]=jt,X[5]=Yt,X[6]=Gt,X[7]=hn,X[8]=yn,X[9]=on,X[10]=Ut,X[11]=nn,X[12]=Xt,X[13]=rn,X[14]=fn,X[15]=gn,X[16]=An,X[17]=En,X[18]=bn,0!==Y&&(X[19]=Y,N.length++),N};function _(P,U,N){return(new f).mulp(P,U,N)}function f(P,U){this.x=P,this.y=U}Math.imul||(m=v),s.prototype.mulTo=function(P,U){var F=this.length+P.length;return 10===this.length&&10===P.length?m(this,P,U):F<63?v(this,P,U):F<1024?function(j,G,te){te.negative=G.negative^j.negative,te.length=j.length+G.length;for(var J=0,X=0,Y=0;Y<te.length-1;Y++){var W=X;X=0;for(var $=67108863&J,ne=Math.min(Y,G.length-1),re=Math.max(0,Y-j.length+1);re<=ne;re++){var ue=(0|j.words[Y-re])*(0|G.words[re]),xe=67108863&ue;$=67108863&(xe=xe+$|0),X+=(W=(W=W+(ue/67108864|0)|0)+(xe>>>26)|0)>>>26,W&=67108863}te.words[Y]=$,J=W,W=X}return 0!==J?te.words[Y]=J:te.length--,te.strip()}(this,P,U):_(this,P,U)},f.prototype.makeRBT=function(P){for(var U=new Array(P),N=s.prototype._countBits(P)-1,F=0;F<P;F++)U[F]=this.revBin(F,N,P);return U},f.prototype.revBin=function(P,U,N){if(0===P||P===N-1)return P;for(var F=0,j=0;j<U;j++)F|=(1&P)<<U-j-1,P>>=1;return F},f.prototype.permute=function(P,U,N,F,j,G){for(var te=0;te<G;te++)F[te]=U[P[te]],j[te]=N[P[te]]},f.prototype.transform=function(P,U,N,F,j,G){this.permute(G,P,U,N,F,j);for(var te=1;te<j;te<<=1)for(var J=te<<1,X=Math.cos(2*Math.PI/J),Y=Math.sin(2*Math.PI/J),W=0;W<j;W+=J)for(var $=X,ne=Y,re=0;re<te;re++){var oe=N[W+re],ue=F[W+re],xe=N[W+re+te],Me=F[W+re+te],me=$*xe-ne*Me;Me=$*Me+ne*xe,N[W+re]=oe+(xe=me),F[W+re]=ue+Me,N[W+re+te]=oe-xe,F[W+re+te]=ue-Me,re!==J&&(me=X*$-Y*ne,ne=X*ne+Y*$,$=me)}},f.prototype.guessLen13b=function(P,U){var N=1|Math.max(U,P),F=1&N,j=0;for(N=N/2|0;N;N>>>=1)j++;return 1<<j+1+F},f.prototype.conjugate=function(P,U,N){if(!(N<=1))for(var F=0;F<N/2;F++){var j=P[F];P[F]=P[N-F-1],P[N-F-1]=j,j=U[F],U[F]=-U[N-F-1],U[N-F-1]=-j}},f.prototype.normalize13b=function(P,U){for(var N=0,F=0;F<U/2;F++){var j=8192*Math.round(P[2*F+1]/U)+Math.round(P[2*F]/U)+N;P[F]=67108863&j,N=j<67108864?0:j/67108864|0}return P},f.prototype.convert13b=function(P,U,N,F){for(var j=0,G=0;G<U;G++)N[2*G]=8191&(j+=0|P[G]),N[2*G+1]=8191&(j>>>=13),j>>>=13;for(G=2*U;G<F;++G)N[G]=0;n(0===j),n(0==(-8192&j))},f.prototype.stub=function(P){for(var U=new Array(P),N=0;N<P;N++)U[N]=0;return U},f.prototype.mulp=function(P,U,N){var F=2*this.guessLen13b(P.length,U.length),j=this.makeRBT(F),G=this.stub(F),te=new Array(F),J=new Array(F),X=new Array(F),Y=new Array(F),W=new Array(F),$=new Array(F),ne=N.words;ne.length=F,this.convert13b(P.words,P.length,te,F),this.convert13b(U.words,U.length,Y,F),this.transform(te,G,J,X,F,j),this.transform(Y,G,W,$,F,j);for(var re=0;re<F;re++){var oe=J[re]*W[re]-X[re]*$[re];X[re]=J[re]*$[re]+X[re]*W[re],J[re]=oe}return this.conjugate(J,X,F),this.transform(J,X,ne,G,F,j),this.conjugate(ne,G,F),this.normalize13b(ne,F),N.negative=P.negative^U.negative,N.length=P.length+U.length,N.strip()},s.prototype.mul=function(P){var U=new s(null);return U.words=new Array(this.length+P.length),this.mulTo(P,U)},s.prototype.mulf=function(P){var U=new s(null);return U.words=new Array(this.length+P.length),_(this,P,U)},s.prototype.imul=function(P){return this.clone().mulTo(P,this)},s.prototype.imuln=function(P){n("number"==typeof P),n(P<67108864);for(var U=0,N=0;N<this.length;N++){var F=(0|this.words[N])*P,j=(67108863&F)+(67108863&U);U>>=26,U+=F/67108864|0,U+=j>>>26,this.words[N]=67108863&j}return 0!==U&&(this.words[N]=U,this.length++),this},s.prototype.muln=function(P){return this.clone().imuln(P)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(P){var U=function(G){for(var te=new Array(G.bitLength()),J=0;J<te.length;J++){var Y=J%26;te[J]=(G.words[J/26|0]&1<<Y)>>>Y}return te}(P);if(0===U.length)return new s(1);for(var N=this,F=0;F<U.length&&0===U[F];F++,N=N.sqr());if(++F<U.length)for(var j=N.sqr();F<U.length;F++,j=j.sqr())0!==U[F]&&(N=N.mul(j));return N},s.prototype.iushln=function(P){n("number"==typeof P&&P>=0);var U,N=P%26,F=(P-N)/26,j=67108863>>>26-N<<26-N;if(0!==N){var G=0;for(U=0;U<this.length;U++){var te=this.words[U]&j;this.words[U]=(0|this.words[U])-te<<N|G,G=te>>>26-N}G&&(this.words[U]=G,this.length++)}if(0!==F){for(U=this.length-1;U>=0;U--)this.words[U+F]=this.words[U];for(U=0;U<F;U++)this.words[U]=0;this.length+=F}return this.strip()},s.prototype.ishln=function(P){return n(0===this.negative),this.iushln(P)},s.prototype.iushrn=function(P,U,N){var F;n("number"==typeof P&&P>=0),F=U?(U-U%26)/26:0;var j=P%26,G=Math.min((P-j)/26,this.length),te=67108863^67108863>>>j<<j,J=N;if(F-=G,F=Math.max(0,F),J){for(var X=0;X<G;X++)J.words[X]=this.words[X];J.length=G}if(0!==G)if(this.length>G)for(this.length-=G,X=0;X<this.length;X++)this.words[X]=this.words[X+G];else this.words[0]=0,this.length=1;var Y=0;for(X=this.length-1;X>=0&&(0!==Y||X>=F);X--){var W=0|this.words[X];this.words[X]=Y<<26-j|W>>>j,Y=W&te}return J&&0!==Y&&(J.words[J.length++]=Y),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(P,U,N){return n(0===this.negative),this.iushrn(P,U,N)},s.prototype.shln=function(P){return this.clone().ishln(P)},s.prototype.ushln=function(P){return this.clone().iushln(P)},s.prototype.shrn=function(P){return this.clone().ishrn(P)},s.prototype.ushrn=function(P){return this.clone().iushrn(P)},s.prototype.testn=function(P){n("number"==typeof P&&P>=0);var U=P%26,N=(P-U)/26;return!(this.length<=N||!(this.words[N]&1<<U))},s.prototype.imaskn=function(P){n("number"==typeof P&&P>=0);var U=P%26,N=(P-U)/26;return n(0===this.negative,"imaskn works only with positive numbers"),this.length<=N?this:(0!==U&&N++,this.length=Math.min(N,this.length),0!==U&&(this.words[this.length-1]&=67108863^67108863>>>U<<U),this.strip())},s.prototype.maskn=function(P){return this.clone().imaskn(P)},s.prototype.iaddn=function(P){return n("number"==typeof P),n(P<67108864),P<0?this.isubn(-P):0!==this.negative?1===this.length&&(0|this.words[0])<P?(this.words[0]=P-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(P),this.negative=1,this):this._iaddn(P)},s.prototype._iaddn=function(P){this.words[0]+=P;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)this.words[U]-=67108864,U===this.length-1?this.words[U+1]=1:this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},s.prototype.isubn=function(P){if(n("number"==typeof P),n(P<67108864),P<0)return this.iaddn(-P);if(0!==this.negative)return this.negative=0,this.iaddn(P),this.negative=1,this;if(this.words[0]-=P,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},s.prototype.addn=function(P){return this.clone().iaddn(P)},s.prototype.subn=function(P){return this.clone().isubn(P)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(P,U,N){var F,j;this._expand(P.length+N);var te=0;for(F=0;F<P.length;F++){j=(0|this.words[F+N])+te;var J=(0|P.words[F])*U;te=((j-=67108863&J)>>26)-(J/67108864|0),this.words[F+N]=67108863&j}for(;F<this.length-N;F++)te=(j=(0|this.words[F+N])+te)>>26,this.words[F+N]=67108863&j;if(0===te)return this.strip();for(n(-1===te),te=0,F=0;F<this.length;F++)te=(j=-(0|this.words[F])+te)>>26,this.words[F]=67108863&j;return this.negative=1,this.strip()},s.prototype._wordDiv=function(P,U){var N,F=this.clone(),j=P,G=0|j.words[j.length-1];0!=(N=26-this._countBits(G))&&(j=j.ushln(N),F.iushln(N),G=0|j.words[j.length-1]);var te,J=F.length-j.length;if("mod"!==U){(te=new s(null)).length=J+1,te.words=new Array(te.length);for(var X=0;X<te.length;X++)te.words[X]=0}var Y=F.clone()._ishlnsubmul(j,1,J);0===Y.negative&&(F=Y,te&&(te.words[J]=1));for(var W=J-1;W>=0;W--){var $=67108864*(0|F.words[j.length+W])+(0|F.words[j.length+W-1]);for($=Math.min($/G|0,67108863),F._ishlnsubmul(j,$,W);0!==F.negative;)$--,F.negative=0,F._ishlnsubmul(j,1,W),F.isZero()||(F.negative^=1);te&&(te.words[W]=$)}return te&&te.strip(),F.strip(),"div"!==U&&0!==N&&F.iushrn(N),{div:te||null,mod:F}},s.prototype.divmod=function(P,U,N){return n(!P.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===P.negative?(G=this.neg().divmod(P,U),"mod"!==U&&(F=G.div.neg()),"div"!==U&&(j=G.mod.neg(),N&&0!==j.negative&&j.iadd(P)),{div:F,mod:j}):0===this.negative&&0!==P.negative?(G=this.divmod(P.neg(),U),"mod"!==U&&(F=G.div.neg()),{div:F,mod:G.mod}):this.negative&P.negative?(G=this.neg().divmod(P.neg(),U),"div"!==U&&(j=G.mod.neg(),N&&0!==j.negative&&j.isub(P)),{div:G.div,mod:j}):P.length>this.length||this.cmp(P)<0?{div:new s(0),mod:this}:1===P.length?"div"===U?{div:this.divn(P.words[0]),mod:null}:"mod"===U?{div:null,mod:new s(this.modn(P.words[0]))}:{div:this.divn(P.words[0]),mod:new s(this.modn(P.words[0]))}:this._wordDiv(P,U);var F,j,G},s.prototype.div=function(P){return this.divmod(P,"div",!1).div},s.prototype.mod=function(P){return this.divmod(P,"mod",!1).mod},s.prototype.umod=function(P){return this.divmod(P,"mod",!0).mod},s.prototype.divRound=function(P){var U=this.divmod(P);if(U.mod.isZero())return U.div;var N=0!==U.div.negative?U.mod.isub(P):U.mod,F=P.ushrn(1),j=P.andln(1),G=N.cmp(F);return G<0||1===j&&0===G?U.div:0!==U.div.negative?U.div.isubn(1):U.div.iaddn(1)},s.prototype.modn=function(P){n(P<=67108863);for(var U=67108864%P,N=0,F=this.length-1;F>=0;F--)N=(U*N+(0|this.words[F]))%P;return N},s.prototype.idivn=function(P){n(P<=67108863);for(var U=0,N=this.length-1;N>=0;N--){var F=(0|this.words[N])+67108864*U;this.words[N]=F/P|0,U=F%P}return this.strip()},s.prototype.divn=function(P){return this.clone().idivn(P)},s.prototype.egcd=function(P){n(0===P.negative),n(!P.isZero());var U=this,N=P.clone();U=0!==U.negative?U.umod(P):U.clone();for(var F=new s(1),j=new s(0),G=new s(0),te=new s(1),J=0;U.isEven()&&N.isEven();)U.iushrn(1),N.iushrn(1),++J;for(var X=N.clone(),Y=U.clone();!U.isZero();){for(var W=0,$=1;!(U.words[0]&$)&&W<26;++W,$<<=1);if(W>0)for(U.iushrn(W);W-- >0;)(F.isOdd()||j.isOdd())&&(F.iadd(X),j.isub(Y)),F.iushrn(1),j.iushrn(1);for(var ne=0,re=1;!(N.words[0]&re)&&ne<26;++ne,re<<=1);if(ne>0)for(N.iushrn(ne);ne-- >0;)(G.isOdd()||te.isOdd())&&(G.iadd(X),te.isub(Y)),G.iushrn(1),te.iushrn(1);U.cmp(N)>=0?(U.isub(N),F.isub(G),j.isub(te)):(N.isub(U),G.isub(F),te.isub(j))}return{a:G,b:te,gcd:N.iushln(J)}},s.prototype._invmp=function(P){n(0===P.negative),n(!P.isZero());var U=this,N=P.clone();U=0!==U.negative?U.umod(P):U.clone();for(var F,j=new s(1),G=new s(0),te=N.clone();U.cmpn(1)>0&&N.cmpn(1)>0;){for(var J=0,X=1;!(U.words[0]&X)&&J<26;++J,X<<=1);if(J>0)for(U.iushrn(J);J-- >0;)j.isOdd()&&j.iadd(te),j.iushrn(1);for(var Y=0,W=1;!(N.words[0]&W)&&Y<26;++Y,W<<=1);if(Y>0)for(N.iushrn(Y);Y-- >0;)G.isOdd()&&G.iadd(te),G.iushrn(1);U.cmp(N)>=0?(U.isub(N),j.isub(G)):(N.isub(U),G.isub(j))}return(F=0===U.cmpn(1)?j:G).cmpn(0)<0&&F.iadd(P),F},s.prototype.gcd=function(P){if(this.isZero())return P.abs();if(P.isZero())return this.abs();var U=this.clone(),N=P.clone();U.negative=0,N.negative=0;for(var F=0;U.isEven()&&N.isEven();F++)U.iushrn(1),N.iushrn(1);for(;;){for(;U.isEven();)U.iushrn(1);for(;N.isEven();)N.iushrn(1);var j=U.cmp(N);if(j<0){var G=U;U=N,N=G}else if(0===j||0===N.cmpn(1))break;U.isub(N)}return N.iushln(F)},s.prototype.invm=function(P){return this.egcd(P).a.umod(P)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(P){return this.words[0]&P},s.prototype.bincn=function(P){n("number"==typeof P);var U=P%26,N=(P-U)/26,F=1<<U;if(this.length<=N)return this._expand(N+1),this.words[N]|=F,this;for(var j=F,G=N;0!==j&&G<this.length;G++){var te=0|this.words[G];j=(te+=j)>>>26,this.words[G]=te&=67108863}return 0!==j&&(this.words[G]=j,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(P){var U,N=P<0;if(0!==this.negative&&!N)return-1;if(0===this.negative&&N)return 1;if(this.strip(),this.length>1)U=1;else{N&&(P=-P),n(P<=67108863,"Number is too big");var F=0|this.words[0];U=F===P?0:F<P?-1:1}return 0!==this.negative?0|-U:U},s.prototype.cmp=function(P){if(0!==this.negative&&0===P.negative)return-1;if(0===this.negative&&0!==P.negative)return 1;var U=this.ucmp(P);return 0!==this.negative?0|-U:U},s.prototype.ucmp=function(P){if(this.length>P.length)return 1;if(this.length<P.length)return-1;for(var U=0,N=this.length-1;N>=0;N--){var F=0|this.words[N],j=0|P.words[N];if(F!==j){F<j?U=-1:F>j&&(U=1);break}}return U},s.prototype.gtn=function(P){return 1===this.cmpn(P)},s.prototype.gt=function(P){return 1===this.cmp(P)},s.prototype.gten=function(P){return this.cmpn(P)>=0},s.prototype.gte=function(P){return this.cmp(P)>=0},s.prototype.ltn=function(P){return-1===this.cmpn(P)},s.prototype.lt=function(P){return-1===this.cmp(P)},s.prototype.lten=function(P){return this.cmpn(P)<=0},s.prototype.lte=function(P){return this.cmp(P)<=0},s.prototype.eqn=function(P){return 0===this.cmpn(P)},s.prototype.eq=function(P){return 0===this.cmp(P)},s.red=function(P){return new R(P)},s.prototype.toRed=function(P){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),P.convertTo(this)._forceRed(P)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(P){return this.red=P,this},s.prototype.forceRed=function(P){return n(!this.red,"Already a number in reduction context"),this._forceRed(P)},s.prototype.redAdd=function(P){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,P)},s.prototype.redIAdd=function(P){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,P)},s.prototype.redSub=function(P){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,P)},s.prototype.redISub=function(P){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,P)},s.prototype.redShl=function(P){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,P)},s.prototype.redMul=function(P){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.mul(this,P)},s.prototype.redIMul=function(P){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.imul(this,P)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(P){return n(this.red&&!P.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,P)};var S={k256:null,p224:null,p192:null,p25519:null};function w(P,U){this.name=P,this.p=new s(U,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function L(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function C(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(P){if("string"==typeof P){var U=s._prime(P);this.m=U.p,this.prime=U}else n(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}function q(P){R.call(this,P),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var P=new s(null);return P.words=new Array(Math.ceil(this.n/13)),P},w.prototype.ireduce=function(P){var U,N=P;do{this.split(N,this.tmp),U=(N=(N=this.imulK(N)).iadd(this.tmp)).bitLength()}while(U>this.n);var F=U<this.n?-1:N.ucmp(this.p);return 0===F?(N.words[0]=0,N.length=1):F>0?N.isub(this.p):void 0!==N.strip?N.strip():N._strip(),N},w.prototype.split=function(P,U){P.iushrn(this.n,0,U)},w.prototype.imulK=function(P){return P.imul(this.k)},o(E,w),E.prototype.split=function(P,U){for(var N=4194303,F=Math.min(P.length,9),j=0;j<F;j++)U.words[j]=P.words[j];if(U.length=F,P.length<=9)return P.words[0]=0,void(P.length=1);var G=P.words[9];for(U.words[U.length++]=G&N,j=10;j<P.length;j++){var te=0|P.words[j];P.words[j-10]=(te&N)<<4|G>>>22,G=te}P.words[j-10]=G>>>=22,P.length-=0===G&&P.length>10?10:9},E.prototype.imulK=function(P){P.words[P.length]=0,P.words[P.length+1]=0,P.length+=2;for(var U=0,N=0;N<P.length;N++){var F=0|P.words[N];P.words[N]=67108863&(U+=977*F),U=64*F+(U/67108864|0)}return 0===P.words[P.length-1]&&(P.length--,0===P.words[P.length-1]&&P.length--),P},o(L,w),o(C,w),o(O,w),O.prototype.imulK=function(P){for(var U=0,N=0;N<P.length;N++){var F=19*(0|P.words[N])+U,j=67108863&F;F>>>=26,P.words[N]=j,U=F}return 0!==U&&(P.words[P.length++]=U),P},s._prime=function(P){if(S[P])return S[P];var U;if("k256"===P)U=new E;else if("p224"===P)U=new L;else if("p192"===P)U=new C;else{if("p25519"!==P)throw new Error("Unknown prime "+P);U=new O}return S[P]=U,U},R.prototype._verify1=function(P){n(0===P.negative,"red works only with positives"),n(P.red,"red works only with red numbers")},R.prototype._verify2=function(P,U){n(0==(P.negative|U.negative),"red works only with positives"),n(P.red&&P.red===U.red,"red works only with red numbers")},R.prototype.imod=function(P){return this.prime?this.prime.ireduce(P)._forceRed(this):P.umod(this.m)._forceRed(this)},R.prototype.neg=function(P){return P.isZero()?P.clone():this.m.sub(P)._forceRed(this)},R.prototype.add=function(P,U){this._verify2(P,U);var N=P.add(U);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},R.prototype.iadd=function(P,U){this._verify2(P,U);var N=P.iadd(U);return N.cmp(this.m)>=0&&N.isub(this.m),N},R.prototype.sub=function(P,U){this._verify2(P,U);var N=P.sub(U);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},R.prototype.isub=function(P,U){this._verify2(P,U);var N=P.isub(U);return N.cmpn(0)<0&&N.iadd(this.m),N},R.prototype.shl=function(P,U){return this._verify1(P),this.imod(P.ushln(U))},R.prototype.imul=function(P,U){return this._verify2(P,U),this.imod(P.imul(U))},R.prototype.mul=function(P,U){return this._verify2(P,U),this.imod(P.mul(U))},R.prototype.isqr=function(P){return this.imul(P,P.clone())},R.prototype.sqr=function(P){return this.mul(P,P)},R.prototype.sqrt=function(P){if(P.isZero())return P.clone();var U=this.m.andln(3);if(n(U%2==1),3===U){var N=this.m.add(new s(1)).iushrn(2);return this.pow(P,N)}for(var F=this.m.subn(1),j=0;!F.isZero()&&0===F.andln(1);)j++,F.iushrn(1);n(!F.isZero());var G=new s(1).toRed(this),te=G.redNeg(),J=this.m.subn(1).iushrn(1),X=this.m.bitLength();for(X=new s(2*X*X).toRed(this);0!==this.pow(X,J).cmp(te);)X.redIAdd(te);for(var Y=this.pow(X,F),W=this.pow(P,F.addn(1).iushrn(1)),$=this.pow(P,F),ne=j;0!==$.cmp(G);){for(var re=$,oe=0;0!==re.cmp(G);oe++)re=re.redSqr();n(oe<ne);var ue=this.pow(Y,new s(1).iushln(ne-oe-1));W=W.redMul(ue),Y=ue.redSqr(),$=$.redMul(Y),ne=oe}return W},R.prototype.invm=function(P){var U=P._invmp(this.m);return 0!==U.negative?(U.negative=0,this.imod(U).redNeg()):this.imod(U)},R.prototype.pow=function(P,U){if(U.isZero())return new s(1).toRed(this);if(0===U.cmpn(1))return P.clone();var N=new Array(16);N[0]=new s(1).toRed(this),N[1]=P;for(var F=2;F<N.length;F++)N[F]=this.mul(N[F-1],P);var j=N[0],G=0,te=0,J=U.bitLength()%26;for(0===J&&(J=26),F=U.length-1;F>=0;F--){for(var X=U.words[F],Y=J-1;Y>=0;Y--){var W=X>>Y&1;j!==N[0]&&(j=this.sqr(j)),0!==W||0!==G?(G<<=1,G|=W,(4==++te||0===F&&0===Y)&&(j=this.mul(j,N[G]),te=0,G=0)):te=0}J=26}return j},R.prototype.convertTo=function(P){var U=P.umod(this.m);return U===P?U.clone():U},R.prototype.convertFrom=function(P){var U=P.clone();return U.red=null,U},s.mont=function(P){return new q(P)},o(q,R),q.prototype.convertTo=function(P){return this.imod(P.ushln(this.shift))},q.prototype.convertFrom=function(P){var U=this.imod(P.mul(this.rinv));return U.red=null,U},q.prototype.imul=function(P,U){if(P.isZero()||U.isZero())return P.words[0]=0,P.length=1,P;var N=P.imul(U),F=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=N.isub(F).iushrn(this.shift),G=j;return j.cmp(this.m)>=0?G=j.isub(this.m):j.cmpn(0)<0&&(G=j.iadd(this.m)),G._forceRed(this)},q.prototype.mul=function(P,U){if(P.isZero()||U.isZero())return new s(0)._forceRed(this);var N=P.mul(U),F=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=N.isub(F).iushrn(this.shift),G=j;return j.cmp(this.m)>=0?G=j.isub(this.m):j.cmpn(0)<0&&(G=j.iadd(this.m)),G._forceRed(this)},q.prototype.invm=function(P){return this.imod(P._invmp(this.m).mul(this.r2))._forceRed(this)}}(d=t.nmd(d),this)},2692:function(d){"use strict";d.exports=function(a){var t,i,r,n=a.length,o=0;for(t=0;t<n;++t)o+=a[t].length;var s=new Array(o),u=0;for(t=0;t<n;++t){var p=a[t],c=p.length;for(i=0;i<c;++i){var x=s[u++]=new Array(c-1),g=0;for(r=0;r<c;++r)r!==i&&(x[g++]=p[r]);if(1&i){var h=x[1];x[1]=x[0],x[0]=h}}}return s}},2569:function(d,a,t){"use strict";d.exports=function(x,g,h){switch(arguments.length){case 1:return i=[],p(y=x,y,c,!0),i;case 2:return"function"==typeof g?p(x,x,g,!0):(i=[],p(x,g,c,!1),i);case 3:return p(x,g,h,!1);default:throw new Error("box-intersect: Invalid arguments")}var y};var i,r=t(5306),n=t(1390),o=t(2337);function s(x,g){for(var h=0;h<x;++h)if(!(g[h]<=g[h+x]))return!0;return!1}function u(x,g,h,y){for(var v=0,m=0,_=0,f=x.length;_<f;++_){var S=x[_];if(!s(g,S)){for(var w=0;w<2*g;++w)h[v++]=S[w];y[m++]=_}}return m}function p(x,g,h,y){var v=x.length,m=g.length;if(!(v<=0||m<=0)){var _=x[0].length>>>1;if(!(_<=0)){var f,S=r.mallocDouble(2*_*v),w=r.mallocInt32(v);if((v=u(x,_,S,w))>0){if(1===_&&y)n.init(v),f=n.sweepComplete(_,h,0,v,S,w,0,v,S,w);else{var E=r.mallocDouble(2*_*m),L=r.mallocInt32(m);(m=u(g,_,E,L))>0&&(n.init(v+m),f=1===_?n.sweepBipartite(_,h,0,v,S,w,0,m,E,L):o(_,h,y,v,S,w,m,E,L),r.free(E),r.free(L))}r.free(S),r.free(w)}return f}}}function c(x,g){i.push([x,g])}},7333:function(d,a){"use strict";function t(i){return i?function(r,n,o,s,u,p,c,x,g,h,y){return u-s>g-x?function(v,m,_,f,S,w,E,L,C,O,R){for(var q=2*v,P=f,U=q*f;P<S;++P,U+=q){var N=w[m+U],F=w[m+U+v],j=E[P];e:for(var G=L,te=q*L;G<C;++G,te+=q){var Y=R[G];if(!(O[m+te+v]<N||F<O[m+te])){for(var W=m+1;W<v;++W)if(w[W+v+U]<O[W+te]||O[W+v+te]<w[W+U])continue e;var ue=_(j,Y);if(void 0!==ue)return ue}}}}(r,n,o,s,u,p,c,x,g,h,y):function(v,m,_,f,S,w,E,L,C,O,R){for(var q=2*v,P=L,U=q*L;P<C;++P,U+=q){var N=O[m+U],F=O[m+U+v],j=R[P];e:for(var G=f,te=q*f;G<S;++G,te+=q){var Y=E[G];if(!(F<w[m+te]||w[m+te+v]<N)){for(var W=m+1;W<v;++W)if(w[W+v+te]<O[W+U]||O[W+v+U]<w[W+te])continue e;var ue=_(Y,j);if(void 0!==ue)return ue}}}}(r,n,o,s,u,p,c,x,g,h,y)}:function(r,n,o,s,u,p,c,x,g,h,y,v){return p-u>h-g?s?function(m,_,f,S,w,E,L,C,O,R,q){for(var P=2*m,U=S,N=P*S;U<w;++U,N+=P){var F=E[_+N],j=E[_+N+m],G=L[U];e:for(var te=C,J=P*C;te<O;++te,J+=P){var X=R[_+J],Y=q[te];if(!(X<=F||j<X)){for(var W=_+1;W<m;++W)if(E[W+m+N]<R[W+J]||R[W+m+J]<E[W+N])continue e;var ue=f(Y,G);if(void 0!==ue)return ue}}}}(r,n,o,u,p,c,x,g,h,y,v):function(m,_,f,S,w,E,L,C,O,R,q){for(var P=2*m,U=S,N=P*S;U<w;++U,N+=P){var F=E[_+N],j=E[_+N+m],G=L[U];e:for(var te=C,J=P*C;te<O;++te,J+=P){var X=R[_+J],Y=q[te];if(!(X<F||j<X)){for(var W=_+1;W<m;++W)if(E[W+m+N]<R[W+J]||R[W+m+J]<E[W+N])continue e;var ue=f(G,Y);if(void 0!==ue)return ue}}}}(r,n,o,u,p,c,x,g,h,y,v):s?function(m,_,f,S,w,E,L,C,O,R,q){for(var P=2*m,U=C,N=P*C;U<O;++U,N+=P){var F=R[_+N],j=q[U];e:for(var G=S,te=P*S;G<w;++G,te+=P){var Y=L[G];if(!(F<=E[_+te]||E[_+te+m]<F)){for(var W=_+1;W<m;++W)if(E[W+m+te]<R[W+N]||R[W+m+N]<E[W+te])continue e;var ue=f(j,Y);if(void 0!==ue)return ue}}}}(r,n,o,u,p,c,x,g,h,y,v):function(m,_,f,S,w,E,L,C,O,R,q){for(var P=2*m,U=C,N=P*C;U<O;++U,N+=P){var F=R[_+N],j=q[U];e:for(var G=S,te=P*S;G<w;++G,te+=P){var Y=L[G];if(!(F<E[_+te]||E[_+te+m]<F)){for(var W=_+1;W<m;++W)if(E[W+m+te]<R[W+N]||R[W+m+N]<E[W+te])continue e;var ue=f(Y,j);if(void 0!==ue)return ue}}}}(r,n,o,u,p,c,x,g,h,y,v)}}a.partial=t(!1),a.full=t(!0)},2337:function(d,a,t){"use strict";d.exports=function(P,U,N,F,j,G,te,J,X){!function(Re,Oe){var je=8*r.log2(Oe+1)*(Re+1)|0,qe=r.nextPow2(w*je);L.length<qe&&(i.free(L),L=i.mallocInt32(qe));var Je=r.nextPow2(E*je);C.length<Je&&(i.free(C),C=i.mallocDouble(Je))}(P,F+te);var Y,W=0,$=2*P;for(O(W++,0,0,F,0,te,N?16:0,-1/0,1/0),N||O(W++,0,0,te,0,F,1,-1/0,1/0);W>0;){var ne=(W-=1)*w,re=L[ne],oe=L[ne+1],ue=L[ne+2],xe=L[ne+3],Me=L[ne+4],me=L[ne+5],pe=W*E,ge=C[pe],Pe=C[pe+1],_e=1&me,we=!!(16&me),se=j,ae=G,fe=J,Ee=X;if(_e&&(se=J,ae=X,fe=j,Ee=G),!(2&me&&oe>=(ue=m(P,re,oe,ue,se,ae,Pe))||4&me&&(oe=_(P,re,oe,ue,se,ae,ge))>=ue)){var ke=ue-oe,be=Me-xe;if(we){if(P*ke*(ke+be)<h){if(void 0!==(Y=u.scanComplete(P,re,U,oe,ue,se,ae,xe,Me,fe,Ee)))return Y;continue}}else{if(P*Math.min(ke,be)<x){if(void 0!==(Y=o(P,re,U,_e,oe,ue,se,ae,xe,Me,fe,Ee)))return Y;continue}if(P*ke*be<g){if(void 0!==(Y=u.scanBipartite(P,re,U,_e,oe,ue,se,ae,xe,Me,fe,Ee)))return Y;continue}}var Ie=y(P,re,oe,ue,se,ae,ge,Pe);if(oe<Ie)if(P*(Ie-oe)<x){if(void 0!==(Y=s(P,re+1,U,oe,Ie,se,ae,xe,Me,fe,Ee)))return Y}else if(re===P-2){if(void 0!==(Y=_e?u.sweepBipartite(P,U,xe,Me,fe,Ee,oe,Ie,se,ae):u.sweepBipartite(P,U,oe,Ie,se,ae,xe,Me,fe,Ee)))return Y}else O(W++,re+1,oe,Ie,xe,Me,_e,-1/0,1/0),O(W++,re+1,xe,Me,oe,Ie,1^_e,-1/0,1/0);if(Ie<ue){var Fe=p(P,re,xe,Me,fe,Ee),ce=fe[$*Fe+re],Te=v(P,re,Fe,Me,fe,Ee,ce);if(Te<Me&&O(W++,re,Ie,ue,Te,Me,(4|_e)+(we?16:0),ce,Pe),xe<Fe&&O(W++,re,Ie,ue,xe,Fe,(2|_e)+(we?16:0),ge,ce),Fe+1===Te){if(void 0!==(Y=we?q(P,re,U,Ie,ue,se,ae,Fe,fe,Ee[Fe]):R(P,re,U,_e,Ie,ue,se,ae,Fe,fe,Ee[Fe])))return Y}else if(Fe<Te){var ve;if(we){if(Ie<(ve=f(P,re,Ie,ue,se,ae,ce))){var Ce=v(P,re,Ie,ve,se,ae,ce);if(re===P-2){if(Ie<Ce&&void 0!==(Y=u.sweepComplete(P,U,Ie,Ce,se,ae,Fe,Te,fe,Ee))||Ce<ve&&void 0!==(Y=u.sweepBipartite(P,U,Ce,ve,se,ae,Fe,Te,fe,Ee)))return Y}else Ie<Ce&&O(W++,re+1,Ie,Ce,Fe,Te,16,-1/0,1/0),Ce<ve&&(O(W++,re+1,Ce,ve,Fe,Te,0,-1/0,1/0),O(W++,re+1,Fe,Te,Ce,ve,1,-1/0,1/0))}}else Ie<(ve=_e?S(P,re,Ie,ue,se,ae,ce):f(P,re,Ie,ue,se,ae,ce))&&(re===P-2?Y=_e?u.sweepBipartite(P,U,Fe,Te,fe,Ee,Ie,ve,se,ae):u.sweepBipartite(P,U,Ie,ve,se,ae,Fe,Te,fe,Ee):(O(W++,re+1,Ie,ve,Fe,Te,_e,-1/0,1/0),O(W++,re+1,Fe,Te,Ie,ve,1^_e,-1/0,1/0)))}}}}};var i=t(5306),r=t(2288),n=t(7333),o=n.partial,s=n.full,u=t(1390),p=t(2464),c=t(122),x=128,g=1<<22,h=1<<22,y=c("!(lo>=p0)&&!(p1>=hi)"),v=c("lo===p0"),m=c("lo<p0"),_=c("hi<=p0"),f=c("lo<=p0&&p0<=hi"),S=c("lo<p0&&p0<=hi"),w=6,E=2,L=i.mallocInt32(1024),C=i.mallocDouble(1024);function O(P,U,N,F,j,G,te,J,X){var Y=w*P;L[Y]=U,L[Y+1]=N,L[Y+2]=F,L[Y+3]=j,L[Y+4]=G,L[Y+5]=te;var W=E*P;C[W]=J,C[W+1]=X}function R(P,U,N,F,j,G,te,J,X,Y,W){var $=2*P,ne=X*$,re=Y[ne+U];e:for(var oe=j,ue=j*$;oe<G;++oe,ue+=$){var xe=te[ue+U],Me=te[ue+U+P];if(!(re<xe||Me<re||F&&re===xe)){for(var me,pe=J[oe],ge=U+1;ge<P;++ge)if(xe=te[ue+ge],(Me=te[ue+ge+P])<Y[ne+ge]||Y[ne+ge+P]<xe)continue e;if(void 0!==(me=F?N(W,pe):N(pe,W)))return me}}}function q(P,U,N,F,j,G,te,J,X,Y){var W=2*P,$=J*W,ne=X[$+U];e:for(var re=F,oe=F*W;re<j;++re,oe+=W){var ue=te[re];if(ue!==Y){var xe=G[oe+U],Me=G[oe+U+P];if(!(ne<xe||Me<ne)){for(var me=U+1;me<P;++me)if(xe=G[oe+me],(Me=G[oe+me+P])<X[$+me]||X[$+me+P]<xe)continue e;var Pe=N(ue,Y);if(void 0!==Pe)return Pe}}}}},2464:function(d,a,t){"use strict";d.exports=function(o,s,u,p,c,x){if(p<=u+1)return u;for(var g=u,h=p,y=p+u>>>1,v=2*o,m=y,_=c[v*y+s];g<h;){if(h-g<r){n(o,s,g,h,c,x),_=c[v*y+s];break}var f=h-g,S=Math.random()*f+g|0,w=c[v*S+s],E=Math.random()*f+g|0,L=c[v*E+s],C=Math.random()*f+g|0,O=c[v*C+s];w<=L?O>=L?(m=E,_=L):w>=O?(m=S,_=w):(m=C,_=O):L>=O?(m=E,_=L):O>=w?(m=S,_=w):(m=C,_=O);for(var R=v*(h-1),q=v*m,P=0;P<v;++P,++R,++q){var U=c[R];c[R]=c[q],c[q]=U}var N=x[h-1];for(x[h-1]=x[m],x[m]=N,R=v*(h-1),q=v*(m=i(o,s,g,h-1,c,x,_)),P=0;P<v;++P,++R,++q)U=c[R],c[R]=c[q],c[q]=U;if(N=x[h-1],x[h-1]=x[m],x[m]=N,y<m){for(h=m-1;g<h&&c[v*(h-1)+s]===_;)h-=1;h+=1}else{if(!(m<y))break;for(g=m+1;g<h&&c[v*g+s]===_;)g+=1}}return i(o,s,u,y,c,x,c[v*y+s])};var i=t(122)("lo<p0"),r=8;function n(o,s,u,p,c,x){for(var g=2*o,h=g*(u+1)+s,y=u+1;y<p;++y,h+=g)for(var v=c[h],m=y,_=g*(y-1);m>u&&c[_+s]>v;--m,_-=g){for(var f=_,S=_+g,w=0;w<g;++w,++f,++S){var E=c[f];c[f]=c[S],c[S]=E}var L=x[m];x[m]=x[m-1],x[m-1]=L}}},122:function(d){"use strict";d.exports=function(t){return a[t]};var a={"lo===p0":function(t,i,r,n,o,s,u){for(var p=2*t,c=p*r,x=c,g=r,h=i,y=r;n>y;++y,c+=p)if(o[c+h]===u)if(g===y)g+=1,x+=p;else{for(var v=0;p>v;++v){var m=o[c+v];o[c+v]=o[x],o[x++]=m}var _=s[y];s[y]=s[g],s[g++]=_}return g},"lo<p0":function(t,i,r,n,o,s,u){for(var p=2*t,c=p*r,x=c,g=r,h=i,y=r;n>y;++y,c+=p)if(o[c+h]<u)if(g===y)g+=1,x+=p;else{for(var v=0;p>v;++v){var m=o[c+v];o[c+v]=o[x],o[x++]=m}var _=s[y];s[y]=s[g],s[g++]=_}return g},"lo<=p0":function(t,i,r,n,o,s,u){for(var p=2*t,c=p*r,x=c,g=r,h=t+i,y=r;n>y;++y,c+=p)if(o[c+h]<=u)if(g===y)g+=1,x+=p;else{for(var v=0;p>v;++v){var m=o[c+v];o[c+v]=o[x],o[x++]=m}var _=s[y];s[y]=s[g],s[g++]=_}return g},"hi<=p0":function(t,i,r,n,o,s,u){for(var p=2*t,c=p*r,x=c,g=r,h=t+i,y=r;n>y;++y,c+=p)if(o[c+h]<=u)if(g===y)g+=1,x+=p;else{for(var v=0;p>v;++v){var m=o[c+v];o[c+v]=o[x],o[x++]=m}var _=s[y];s[y]=s[g],s[g++]=_}return g},"lo<p0&&p0<=hi":function(t,i,r,n,o,s,u){for(var p=2*t,c=p*r,x=c,g=r,h=i,y=t+i,v=r;n>v;++v,c+=p)if(o[c+h]<u&&u<=o[c+y])if(g===v)g+=1,x+=p;else{for(var f=0;p>f;++f){var S=o[c+f];o[c+f]=o[x],o[x++]=S}var w=s[v];s[v]=s[g],s[g++]=w}return g},"lo<=p0&&p0<=hi":function(t,i,r,n,o,s,u){for(var p=2*t,c=p*r,x=c,g=r,h=i,y=t+i,v=r;n>v;++v,c+=p)if(o[c+h]<=u&&u<=o[c+y])if(g===v)g+=1,x+=p;else{for(var f=0;p>f;++f){var S=o[c+f];o[c+f]=o[x],o[x++]=S}var w=s[v];s[v]=s[g],s[g++]=w}return g},"!(lo>=p0)&&!(p1>=hi)":function(t,i,r,n,o,s,u,p){for(var c=2*t,x=c*r,g=x,h=r,y=i,v=t+i,m=r;n>m;++m,x+=c)if(!(o[x+y]>=u||p>=o[x+v]))if(h===m)h+=1,g+=c;else{for(var S=0;c>S;++S){var w=o[x+S];o[x+S]=o[g],o[g++]=w}var E=s[m];s[m]=s[h],s[h++]=E}return h}}},309:function(d){"use strict";d.exports=function(c,x){x<=4*a?t(0,x-1,c):p(0,x-1,c)};var a=32;function t(c,x,g){for(var h=2*(c+1),y=c+1;y<=x;++y){for(var v=g[h++],m=g[h++],_=y,f=h-2;_-- >c;){var S=g[f-2],w=g[f-1];if(S<v||S===v&&w<m)break;g[f]=S,g[f+1]=w,f-=2}g[f]=v,g[f+1]=m}}function i(c,x,g){var h=g[c*=2],y=g[c+1];g[c]=g[x*=2],g[c+1]=g[x+1],g[x]=h,g[x+1]=y}function r(c,x,g){g[c*=2]=g[x*=2],g[c+1]=g[x+1]}function n(c,x,g,h){g*=2;var y=h[c*=2],v=h[c+1];h[c]=h[x*=2],h[c+1]=h[x+1],h[x]=h[g],h[x+1]=h[g+1],h[g]=y,h[g+1]=v}function o(c,x,g,h,y){y[c*=2]=y[x*=2],y[x]=g,y[c+1]=y[x+1],y[x+1]=h}function s(c,x,g){var h=g[c*=2],y=g[x*=2];return!(h<y)&&(h!==y||g[c+1]>g[x+1])}function u(c,x,g,h){var y=h[c*=2];return y<x||y===x&&h[c+1]<g}function p(c,x,g){var h=(x-c+1)/6|0,y=c+h,v=x-h,m=c+x>>1,_=m-h,f=m+h,S=y,w=_,E=m,L=f,C=v,O=c+1,R=x-1,q=0;s(S,w,g)&&(q=S,S=w,w=q),s(L,C,g)&&(q=L,L=C,C=q),s(S,E,g)&&(q=S,S=E,E=q),s(w,E,g)&&(q=w,w=E,E=q),s(S,L,g)&&(q=S,S=L,L=q),s(E,L,g)&&(q=E,E=L,L=q),s(w,C,g)&&(q=w,w=C,C=q),s(w,E,g)&&(q=w,w=E,E=q),s(L,C,g)&&(q=L,L=C,C=q);for(var P=g[2*w],U=g[2*w+1],N=g[2*L],F=g[2*L+1],j=2*S,G=2*E,te=2*C,J=2*y,X=2*m,Y=2*v,W=0;W<2;++W){var ne=g[G+W],re=g[te+W];g[J+W]=g[j+W],g[X+W]=ne,g[Y+W]=re}r(_,c,g),r(f,x,g);for(var oe=O;oe<=R;++oe)if(u(oe,P,U,g))oe!==O&&i(oe,O,g),++O;else if(!u(oe,N,F,g))for(;;){if(u(R,N,F,g)){u(R,P,U,g)?(n(oe,O,R,g),++O,--R):(i(oe,R,g),--R);break}if(--R<oe)break}o(c,O-1,P,U,g),o(x,R+1,N,F,g),O-2-c<=a?t(c,O-2,g):p(c,O-2,g),x-(R+2)<=a?t(R+2,x,g):p(R+2,x,g),R-O<=a?t(O,R,g):p(O,R,g)}},1390:function(d,a,t){"use strict";d.exports={init:function(_){var f=r.nextPow2(_);u.length<f&&(i.free(u),u=i.mallocInt32(f)),p.length<f&&(i.free(p),p=i.mallocInt32(f)),c.length<f&&(i.free(c),c=i.mallocInt32(f)),x.length<f&&(i.free(x),x=i.mallocInt32(f)),g.length<f&&(i.free(g),g=i.mallocInt32(f)),h.length<f&&(i.free(h),h=i.mallocInt32(f));var S=8*f;y.length<S&&(i.free(y),y=i.mallocDouble(S))},sweepBipartite:function(_,f,S,w,E,L,C,O,R,q){for(var P=0,U=2*_,N=_-1,F=U-1,j=S;j<w;++j){var G=L[j],te=U*j;y[P++]=E[te+N],y[P++]=-(G+1),y[P++]=E[te+F],y[P++]=G}for(j=C;j<O;++j){G=q[j]+o;var J=U*j;y[P++]=R[J+N],y[P++]=-G,y[P++]=R[J+F],y[P++]=G}var X=P>>>1;n(y,X);var Y=0,W=0;for(j=0;j<X;++j){var $=0|y[2*j+1];if($>=o)v(c,x,W--,$=$-o|0);else if($>=0)v(u,p,Y--,$);else if($<=-o){$=-$-o|0;for(var ne=0;ne<Y;++ne)if(void 0!==(re=f(u[ne],$)))return re;m(c,x,W++,$)}else{for($=-$-1|0,ne=0;ne<W;++ne){var re;if(void 0!==(re=f($,c[ne])))return re}m(u,p,Y++,$)}}},sweepComplete:function(_,f,S,w,E,L,C,O,R,q){for(var P=0,U=2*_,N=_-1,F=U-1,j=S;j<w;++j){var G=L[j]+1<<1,te=U*j;y[P++]=E[te+N],y[P++]=-G,y[P++]=E[te+F],y[P++]=G}for(j=C;j<O;++j){G=q[j]+1<<1;var J=U*j;y[P++]=R[J+N],y[P++]=1|-G,y[P++]=R[J+F],y[P++]=1|G}var X=P>>>1;n(y,X);var Y=0,W=0,$=0;for(j=0;j<X;++j){var ne=0|y[2*j+1],re=1&ne;if(j<X-1&&ne>>1==y[2*j+3]>>1&&(re=2,j+=1),ne<0){for(var oe=-(ne>>1)-1,ue=0;ue<$;++ue)if(void 0!==(xe=f(g[ue],oe)))return xe;if(0!==re)for(ue=0;ue<Y;++ue)if(void 0!==(xe=f(u[ue],oe)))return xe;if(1!==re)for(ue=0;ue<W;++ue){var xe;if(void 0!==(xe=f(c[ue],oe)))return xe}0===re?m(u,p,Y++,oe):1===re?m(c,x,W++,oe):2===re&&m(g,h,$++,oe)}else oe=(ne>>1)-1,0===re?v(u,p,Y--,oe):1===re?v(c,x,W--,oe):2===re&&v(g,h,$--,oe)}},scanBipartite:function(_,f,S,w,E,L,C,O,R,q,P,U){var N=0,F=2*_,j=f,G=f+_,te=1,J=1;w?J=o:te=o;for(var X=E;X<L;++X){var Y=X+te,W=F*X;y[N++]=C[W+j],y[N++]=-Y,y[N++]=C[W+G],y[N++]=Y}for(X=R;X<q;++X)Y=X+J,y[N++]=P[F*X+j],y[N++]=-Y;var ne=N>>>1;n(y,ne);var re=0;for(X=0;X<ne;++X){var oe=0|y[2*X+1];if(oe<0){var ue=!1;if((Y=-oe)>=o?(ue=!w,Y-=o):(ue=!!w,Y-=1),ue)m(u,p,re++,Y);else{var xe=U[Y],Me=F*Y,me=P[Me+f+1],pe=P[Me+f+1+_];e:for(var ge=0;ge<re;++ge){var Pe=u[ge],_e=F*Pe;if(!(pe<C[_e+f+1]||C[_e+f+1+_]<me)){for(var we=f+2;we<_;++we)if(P[Me+we+_]<C[_e+we]||C[_e+we+_]<P[Me+we])continue e;var se,ae=O[Pe];if(void 0!==(se=w?S(xe,ae):S(ae,xe)))return se}}}}else v(u,p,re--,oe-te)}},scanComplete:function(_,f,S,w,E,L,C,O,R,q,P){for(var U=0,N=2*_,F=f,j=f+_,G=w;G<E;++G){var te=G+o,J=N*G;y[U++]=L[J+F],y[U++]=-te,y[U++]=L[J+j],y[U++]=te}for(G=O;G<R;++G)te=G+1,y[U++]=q[N*G+F],y[U++]=-te;var Y=U>>>1;n(y,Y);var W=0;for(G=0;G<Y;++G){var $=0|y[2*G+1];if($<0)if((te=-$)>=o)u[W++]=te-o;else{var ne=P[te-=1],re=N*te,oe=q[re+f+1],ue=q[re+f+1+_];e:for(var xe=0;xe<W;++xe){var Me=u[xe],me=C[Me];if(me===ne)break;var pe=N*Me;if(!(ue<L[pe+f+1]||L[pe+f+1+_]<oe)){for(var ge=f+2;ge<_;++ge)if(q[re+ge+_]<L[pe+ge]||L[pe+ge+_]<q[re+ge])continue e;var Pe=S(me,ne);if(void 0!==Pe)return Pe}}}else{for(te=$-o,xe=W-1;xe>=0;--xe)if(u[xe]===te){for(ge=xe+1;ge<W;++ge)u[ge-1]=u[ge];break}--W}}}};var i=t(5306),r=t(2288),n=t(309),o=1<<28,s=1024,u=i.mallocInt32(s),p=i.mallocInt32(s),c=i.mallocInt32(s),x=i.mallocInt32(s),g=i.mallocInt32(s),h=i.mallocInt32(s),y=i.mallocDouble(8192);function v(_,f,S,w){var E=f[w],L=_[S-1];_[E]=L,f[L]=E}function m(_,f,S,w){_[S]=w,f[w]=S}},7761:function(d,a,t){"use strict";var i=t(9971),r=t(743),n=t(2161),o=t(7098);function s(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function u(c,x){return c[0]-x[0]||c[1]-x[1]}function p(c,x,g){return x in c?c[x]:g}d.exports=function(c,x,g){Array.isArray(x)?(g=g||{},x=x||[]):(g=x||{},x=[]);var h=!!p(g,"delaunay",!0),y=!!p(g,"interior",!0),v=!!p(g,"exterior",!0),m=!!p(g,"infinity",!1);if(!y&&!v||0===c.length)return[];var _=i(c,x);if(h||y!==v||m){for(var f=r(c.length,x.map(s).sort(u)),S=0;S<_.length;++S){var w=_[S];f.addTriangle(w[0],w[1],w[2])}return h&&n(c,f),v?y?m?o(f,0,m):f.cells():o(f,1,m):o(f,-1)}return _}},2161:function(d,a,t){"use strict";var i=t(2227)[4];function r(n,o,s,u,p,c){var x=o.opposite(u,p);if(!(x<0)){if(p<u){var g=u;u=p,p=g,g=c,c=x,x=g}o.isConstraint(u,p)||i(n[u],n[p],n[c],n[x])<0&&s.push(u,p)}}t(5070),d.exports=function(n,o){for(var s=[],u=n.length,p=o.stars,c=0;c<u;++c)for(var x=p[c],g=1;g<x.length;g+=2)if(!((m=x[g])<c||o.isConstraint(c,m))){for(var h=x[g-1],y=-1,v=1;v<x.length;v+=2)if(x[v-1]===m){y=x[v];break}y<0||i(n[c],n[m],n[h],n[y])<0&&s.push(c,m)}for(;s.length>0;){for(var m=s.pop(),_=(h=-1,y=-1,x=p[c=s.pop()],1);_<x.length;_+=2){var f=x[_-1],S=x[_];f===m?y=S:S===m&&(h=f)}h<0||y<0||i(n[c],n[m],n[h],n[y])>=0||(o.flip(c,m),r(n,o,s,h,c,y),r(n,o,s,c,y,h),r(n,o,s,y,m,h),r(n,o,s,m,h,y))}}},7098:function(d,a,t){"use strict";var i,r=t(5070);function n(s,u,p,c,x,g,h){this.cells=s,this.neighbor=u,this.flags=c,this.constraint=p,this.active=x,this.next=g,this.boundary=h}function o(s,u){return s[0]-u[0]||s[1]-u[1]||s[2]-u[2]}d.exports=function(s,u,p){var c=function(C,O){for(var R=C.cells(),q=R.length,P=0;P<q;++P){var U=($=R[P])[0],N=$[1],F=$[2];N<F?N<U&&($[0]=N,$[1]=F,$[2]=U):F<U&&($[0]=F,$[1]=U,$[2]=N)}R.sort(o);var j=new Array(q);for(P=0;P<j.length;++P)j[P]=0;var G=[],te=[],J=new Array(3*q),X=new Array(3*q),Y=null;O&&(Y=[]);var W=new n(R,J,X,j,G,te,Y);for(P=0;P<q;++P)for(var $=R[P],ne=0;ne<3;++ne){var re=J[3*P+ne]=W.locate(N=$[(ne+1)%3],U=$[ne],C.opposite(N,U)),oe=X[3*P+ne]=C.isConstraint(U,N);re<0&&(oe?te.push(P):(G.push(P),j[P]=1),O&&Y.push([N,U,-1]))}return W}(s,p);if(0===u)return p?c.cells.concat(c.boundary):c.cells;for(var x=1,g=c.active,h=c.next,y=c.flags,v=c.cells,m=c.constraint,_=c.neighbor;g.length>0||h.length>0;){for(;g.length>0;){var f=g.pop();if(y[f]!==-x){y[f]=x;for(var S=0;S<3;++S){var w=_[3*f+S];w>=0&&0===y[w]&&(m[3*f+S]?h.push(w):(g.push(w),y[w]=x))}}}var E=h;h=g,g=E,h.length=0,x=-x}var L=function(C,O,R){for(var q=0,P=0;P<C.length;++P)O[P]===R&&(C[q++]=C[P]);return C.length=q,C}(v,y,u);return p?L.concat(c.boundary):L},n.prototype.locate=(i=[0,0,0],function(s,u,p){var c=s,x=u,g=p;return u<p?u<s&&(c=u,x=p,g=s):p<s&&(c=p,x=s,g=u),c<0?-1:(i[0]=c,i[1]=x,i[2]=g,r.eq(this.cells,i,o))})},9971:function(d,a,t){"use strict";var i=t(5070),r=t(417)[3];function n(h,y,v,m,_){this.a=h,this.b=y,this.idx=v,this.lowerIds=m,this.upperIds=_}function o(h,y,v,m){this.a=h,this.b=y,this.type=v,this.idx=m}function s(h,y){var v=h.a[0]-y.a[0]||h.a[1]-y.a[1]||h.type-y.type;return v||(0!==h.type&&(v=r(h.a,h.b,y.b))?v:h.idx-y.idx)}function u(h,y){return r(h.a,h.b,y)}function p(h,y,v,m,_){for(var f=i.lt(y,m,u),S=i.gt(y,m,u),w=f;w<S;++w){for(var E=y[w],L=E.lowerIds,C=L.length;C>1&&r(v[L[C-2]],v[L[C-1]],m)>0;)h.push([L[C-1],L[C-2],_]),C-=1;L.length=C,L.push(_);var O=E.upperIds;for(C=O.length;C>1&&r(v[O[C-2]],v[O[C-1]],m)<0;)h.push([O[C-2],O[C-1],_]),C-=1;O.length=C,O.push(_)}}function c(h,y){var v;return(v=h.a[0]<y.a[0]?r(h.a,h.b,y.a):r(y.b,y.a,h.a))?v:(v=y.b[0]<h.b[0]?r(h.a,h.b,y.b):r(y.b,y.a,h.b))||h.idx-y.idx}function x(h,y,v){var m=i.le(h,v,c),_=h[m],f=_.upperIds,S=f[f.length-1];_.upperIds=[S],h.splice(m+1,0,new n(v.a,v.b,v.idx,[S],f))}function g(h,y,v){var m=v.a;v.a=v.b,v.b=m;var _=i.eq(h,v,c);h[_-1].upperIds=h[_].upperIds,h.splice(_,1)}d.exports=function(h,y){for(var v=h.length,m=y.length,_=[],f=0;f<v;++f)_.push(new o(h[f],null,0,f));for(f=0;f<m;++f){var S=y[f],w=h[S[0]],E=h[S[1]];w[0]<E[0]?_.push(new o(w,E,2,f),new o(E,w,1,f)):w[0]>E[0]&&_.push(new o(E,w,2,f),new o(w,E,1,f))}_.sort(s);for(var L=_[0].a[0]-(1+Math.abs(_[0].a[0]))*Math.pow(2,-52),C=[new n([L,1],[L,0],-1,[],[],[],[])],O=[],R=(f=0,_.length);f<R;++f){var q=_[f],P=q.type;0===P?p(O,C,h,q.a,q.idx):2===P?x(C,0,q):g(C,0,q)}return O}},743:function(d,a,t){"use strict";var i=t(5070);function r(s,u){this.stars=s,this.edges=u}d.exports=function(s,u){for(var p=new Array(s),c=0;c<s;++c)p[c]=[];return new r(p,u)};var n=r.prototype;function o(s,u,p){for(var c=1,x=s.length;c<x;c+=2)if(s[c-1]===u&&s[c]===p)return s[c-1]=s[x-2],s[c]=s[x-1],void(s.length=x-2)}n.isConstraint=function(){var s=[0,0];function u(p,c){return p[0]-c[0]||p[1]-c[1]}return function(p,c){return s[0]=Math.min(p,c),s[1]=Math.max(p,c),i.eq(this.edges,s,u)>=0}}(),n.removeTriangle=function(s,u,p){var c=this.stars;o(c[s],u,p),o(c[u],p,s),o(c[p],s,u)},n.addTriangle=function(s,u,p){var c=this.stars;c[s].push(u,p),c[u].push(p,s),c[p].push(s,u)},n.opposite=function(s,u){for(var p=this.stars[u],c=1,x=p.length;c<x;c+=2)if(p[c]===s)return p[c-1];return-1},n.flip=function(s,u){var p=this.opposite(s,u),c=this.opposite(u,s);this.removeTriangle(s,u,p),this.removeTriangle(u,s,c),this.addTriangle(s,c,p),this.addTriangle(u,p,c)},n.edges=function(){for(var s=this.stars,u=[],p=0,c=s.length;p<c;++p)for(var x=s[p],g=0,h=x.length;g<h;g+=2)u.push([x[g],x[g+1]]);return u},n.cells=function(){for(var s=this.stars,u=[],p=0,c=s.length;p<c;++p)for(var x=s[p],g=0,h=x.length;g<h;g+=2){var y=x[g],v=x[g+1];p<Math.min(y,v)&&u.push([p,y,v])}return u}},9887:function(d){"use strict";d.exports=function(a){for(var t=1,i=1;i<a.length;++i)for(var r=0;r<i;++r)if(a[i]<a[r])t=-t;else if(a[r]===a[i])return 0;return t}},9243:function(d,a,t){"use strict";var i=t(3094),r=t(6606);function n(u,p){for(var c=0,x=u.length,g=0;g<x;++g)c+=u[g]*p[g];return c}function o(u){var p=u.length;if(0===p)return[];var c=i([u.length+1,u.length+1],1),x=i([u.length+1],1);c[p][p]=0;for(var g=0;g<p;++g){for(var h=0;h<=g;++h)c[h][g]=c[g][h]=2*n(u[g],u[h]);x[g]=n(u[g],u[g])}var y=r(c,x),v=0,m=y[p+1];for(g=0;g<m.length;++g)v+=m[g];var _=new Array(p);for(g=0;g<p;++g){m=y[g];var f=0;for(h=0;h<m.length;++h)f+=m[h];_[g]=f/v}return _}function s(u){if(0===u.length)return[];for(var p=u[0].length,c=i([p]),x=o(u),g=0;g<u.length;++g)for(var h=0;h<p;++h)c[h]+=u[g][h]*x[g];return c}s.barycenetric=o,d.exports=s},1778:function(d,a,t){d.exports=function(r){for(var n=i(r),o=0,s=0;s<r.length;++s)for(var u=r[s],p=0;p<n.length;++p)o+=Math.pow(u[p]-n[p],2);return Math.sqrt(o/r.length)};var i=t(9243)},197:function(d,a,t){"use strict";d.exports=function(S,w,E){var L,P,N,F;if(E){L=w;for(var C=new Array(w.length),O=0;O<w.length;++O){var R=w[O];C[O]=[R[0],R[1],E[O]]}w=C}for(var q=(N=!!E,void 0,_(w,F=y(P=S,[],h(P)),N),!!F);f(S,w,!!E);)q=!0;if(E&&q)for(L.length=0,E.length=0,O=0;O<w.length;++O)L.push([(R=w[O])[0],R[1]]),E.push(R[2]);return q};var i=t(1731),r=t(2569),n=t(4434),o=t(5125),s=t(8846),u=t(7999),p=t(2826),c=t(8551),x=t(5528);function g(S){var w=u(S);return[c(w,-1/0),c(w,1/0)]}function h(S){for(var w=new Array(S.length),E=0;E<S.length;++E){var L=S[E];w[E]=[c(L[0],-1/0),c(L[1],-1/0),c(L[0],1/0),c(L[1],1/0)]}return w}function y(S,w,E){for(var L=w.length,C=new i(L),O=[],R=0;R<w.length;++R){var q=w[R],P=g(q[0]),U=g(q[1]);O.push([c(P[0],-1/0),c(U[0],-1/0),c(P[1],1/0),c(U[1],1/0)])}r(O,function(te,J){C.link(te,J)});var N=!0,F=new Array(L);for(R=0;R<L;++R)(G=C.find(R))!==R&&(N=!1,S[G]=[Math.min(S[R][0],S[G][0]),Math.min(S[R][1],S[G][1])]);if(N)return null;var j=0;for(R=0;R<L;++R){var G;(G=C.find(R))===R?(F[R]=j,S[j++]=S[R]):F[R]=-1}for(S.length=j,R=0;R<L;++R)F[R]<0&&(F[R]=F[C.find(R)]);return F}function v(S,w){return S[0]-w[0]||S[1]-w[1]}function m(S,w){return S[0]-w[0]||S[1]-w[1]||(S[2]<w[2]?-1:S[2]>w[2]?1:0)}function _(S,w,E){if(0!==S.length){if(w)for(var L=0;L<S.length;++L){var C=w[(R=S[L])[0]],O=w[R[1]];R[0]=Math.min(C,O),R[1]=Math.max(C,O)}else for(L=0;L<S.length;++L){var R;C=(R=S[L])[0],O=R[1],R[0]=Math.min(C,O),R[1]=Math.max(C,O)}S.sort(E?m:v);var q=1;for(L=1;L<S.length;++L){var P=S[L-1],U=S[L];(U[0]!==P[0]||U[1]!==P[1]||E&&U[2]!==P[2])&&(S[q++]=U)}S.length=q}}function f(S,w,E){var P,U,F,L=function(P,U){for(var N=new Array(U.length),F=0;F<U.length;++F){var j=U[F],G=P[j[0]],te=P[j[1]];N[F]=[c(Math.min(G[0],te[0]),-1/0),c(Math.min(G[1],te[1]),-1/0),c(Math.max(G[0],te[0]),1/0),c(Math.max(G[1],te[1]),1/0)]}return N}(S,w),C=(P=S,U=w,F=[],r(L,function(j,G){var te=U[j],J=U[G];te[0]!==J[0]&&te[0]!==J[1]&&te[1]!==J[0]&&te[1]!==J[1]&&n(P[te[0]],P[te[1]],P[J[0]],P[J[1]])&&F.push([j,G])}),F),O=function(P,U,N,F){var j=[];return r(N,F,function(G,te){var J=U[G];if(J[0]!==te&&J[1]!==te){var X=P[te];n(P[J[0]],P[J[1]],X,X)&&j.push([G,te])}}),j}(S,w,L,h(S)),R=function(P,U,N,F,j){var G,te,J=P.map(function(se){return[o(se[0]),o(se[1])]});for(G=0;G<N.length;++G){var X=N[G],Y=X[1],W=U[te=X[0]],$=U[Y],ne=x(p(P[W[0]]),p(P[W[1]]),p(P[$[0]]),p(P[$[1]]));if(ne){var re=P.length;P.push([u(ne[0]),u(ne[1])]),J.push(ne),F.push([te,re],[Y,re])}}for(F.sort(function(se,ae){if(se[0]!==ae[0])return se[0]-ae[0];var fe=J[se[1]],Ee=J[ae[1]];return s(fe[0],Ee[0])||s(fe[1],Ee[1])}),G=F.length-1;G>=0;--G){var oe=U[te=(_e=F[G])[0]],ue=oe[0],xe=oe[1],Me=P[ue],me=P[xe];if((Me[0]-me[0]||Me[1]-me[1])<0){var pe=ue;ue=xe,xe=pe}oe[0]=ue;var ge,Pe=oe[1]=_e[1];for(j&&(ge=oe[2]);G>0&&F[G-1][0]===te;){var _e,we=(_e=F[--G])[1];U.push(j?[Pe,we,ge]:[Pe,we]),Pe=we}U.push(j?[Pe,xe,ge]:[Pe,xe])}return J}(S,w,C,O,E),q=y(S,R);return _(w,q,E),!!q||C.length>0||O.length>0}},5528:function(d,a,t){"use strict";d.exports=function(x,g,h,y){var v=s(g,x),m=s(y,h),_=c(v,m);if(0===o(_))return null;var f=c(m,s(x,h)),S=r(f,_),w=p(v,S);return u(x,w)};var i=t(3962),r=t(9189),n=t(4354),o=t(4951),s=t(6695),u=t(7584),p=t(4469);function c(x,g){return n(i(x[0],g[1]),i(x[1],g[0]))}},5692:function(d){d.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(d,a,t){"use strict";var i=t(5692),r=t(3578);function n(u){return[u[0]/255,u[1]/255,u[2]/255,u[3]]}function o(u){for(var p,c="#",x=0;x<3;++x)c+=("00"+(p=(p=u[x]).toString(16))).substr(p.length);return c}function s(u){return"rgba("+u.join(",")+")"}d.exports=function(u){var p,c,x,g,h,y,v,m,_,f;if(u||(u={}),m=(u.nshades||72)-1,v=u.format||"hex",(y=u.colormap)||(y="jet"),"string"==typeof y){if(y=y.toLowerCase(),!i[y])throw Error(y+" not a supported colorscale");h=i[y]}else{if(!Array.isArray(y))throw Error("unsupported colormap option",y);h=y.slice()}if(h.length>m+1)throw new Error(y+" map requires nshades to be at least size "+h.length);_=Array.isArray(u.alpha)?2!==u.alpha.length?[1,1]:u.alpha.slice():"number"==typeof u.alpha?[u.alpha,u.alpha]:[1,1],p=h.map(function(C){return Math.round(C.index*m)}),_[0]=Math.min(Math.max(_[0],0),1),_[1]=Math.min(Math.max(_[1],0),1);var S=h.map(function(C,O){var R=h[O].index,q=h[O].rgb.slice();return 4===q.length&&q[3]>=0&&q[3]<=1||(q[3]=_[0]+(_[1]-_[0])*R),q}),w=[];for(f=0;f<p.length-1;++f){g=p[f+1]-p[f],c=S[f],x=S[f+1];for(var E=0;E<g;E++){var L=E/g;w.push([Math.round(r(c[0],x[0],L)),Math.round(r(c[1],x[1],L)),Math.round(r(c[2],x[2],L)),r(c[3],x[3],L)])}}return w.push(h[h.length-1].rgb.concat(_[1])),"hex"===v?w=w.map(o):"rgbaString"===v?w=w.map(s):"float"===v&&(w=w.map(n)),w}},9398:function(d,a,t){"use strict";d.exports=function(p,c,x,g){var h=i(c,x,g);if(0===h){var y=r(i(p,c,x)),v=r(i(p,c,g));if(y===v){if(0===y){var m=u(p,c,x);return m===u(p,c,g)?0:m?1:-1}return 0}return 0===v?y>0||u(p,c,g)?-1:1:0===y?v>0||u(p,c,x)?1:-1:r(v-y)}var _=i(p,c,x);return _>0?h>0&&i(p,c,g)>0?1:-1:_<0?h>0||i(p,c,g)>0?1:-1:i(p,c,g)>0||u(p,c,x)?1:-1};var i=t(417),r=t(7538),n=t(87),o=t(2019),s=t(9662);function u(p,c,x){var g=n(p[0],-c[0]),h=n(p[1],-c[1]),y=n(x[0],-c[0]),v=n(x[1],-c[1]),m=s(o(g,y),o(h,v));return m[m.length-1]>=0}},7538:function(d){"use strict";d.exports=function(a){return a<0?-1:a>0?1:0}},9209:function(d){d.exports=function(i,r){var n=i.length,o=i.length-r.length;if(o)return o;switch(n){case 0:return 0;case 1:return i[0]-r[0];case 2:return i[0]+i[1]-r[0]-r[1]||a(i[0],i[1])-a(r[0],r[1]);case 3:var s=i[0]+i[1],u=r[0]+r[1];if(o=s+i[2]-(u+r[2]))return o;var p=a(i[0],i[1]),c=a(r[0],r[1]);return a(p,i[2])-a(c,r[2])||a(p+i[2],s)-a(c+r[2],u);case 4:var x=i[0],g=i[1],h=i[2],y=i[3],v=r[0],m=r[1],_=r[2],f=r[3];return x+g+h+y-(v+m+_+f)||a(x,g,h,y)-a(v,m,_,f,v)||a(x+g,x+h,x+y,g+h,g+y,h+y)-a(v+m,v+_,v+f,m+_,m+f,_+f)||a(x+g+h,x+g+y,x+h+y,g+h+y)-a(v+m+_,v+m+f,v+_+f,m+_+f);default:for(var S=i.slice().sort(t),w=r.slice().sort(t),E=0;E<n;++E)if(o=S[E]-w[E])return o;return 0}};var a=Math.min;function t(i,r){return i-r}},1284:function(d,a,t){"use strict";var i=t(9209),r=t(9887);d.exports=function(n,o){return i(n,o)||r(n)-r(o)}},5537:function(d,a,t){"use strict";var i=t(8950),r=t(8722),n=t(3332);d.exports=function(o){var s=o.length;if(0===s)return[];if(1===s)return[[0]];var u=o[0].length;return 0===u?[]:1===u?i(o):2===u?r(o):n(o,u)}},8950:function(d){"use strict";d.exports=function(a){for(var t=0,i=0,r=1;r<a.length;++r)a[r][0]<a[t][0]&&(t=r),a[r][0]>a[i][0]&&(i=r);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},8722:function(d,a,t){"use strict";d.exports=function(r){var n=i(r),o=n.length;if(o<=2)return[];for(var s=new Array(o),u=n[o-1],p=0;p<o;++p){var c=n[p];s[p]=[u,c],u=c}return s};var i=t(3266)},3332:function(d,a,t){"use strict";d.exports=function(n,o){try{return i(n,!0)}catch{var s=r(n);if(s.length<=o)return[];var u=function(c,x){for(var g=c.length,h=new Array(g),y=0;y<x.length;++y)h[y]=c[x[y]];var v=x.length;for(y=0;y<g;++y)x.indexOf(y)<0&&(h[v++]=c[y]);return h}(n,s);return function(c,x){for(var g=c.length,h=x.length,y=0;y<g;++y)for(var v=c[y],m=0;m<v.length;++m){var _=v[m];if(_<h)v[m]=x[_];else{_-=h;for(var f=0;f<h;++f)_>=x[f]&&(_+=1);v[m]=_}}return c}(i(u,!0),s)}};var i=t(2183),r=t(2153)},9680:function(d){"use strict";d.exports=function(a,t,i,r,n,o){var s=n-1,u=n*n,p=s*s,c=(1+2*n)*p,x=n*p,g=u*(3-2*n),h=u*s;if(a.length){o||(o=new Array(a.length));for(var y=a.length-1;y>=0;--y)o[y]=c*a[y]+x*t[y]+g*i[y]+h*r[y];return o}return c*a+x*t+g*i+h*r},d.exports.derivative=function(a,t,i,r,n,o){var s=6*n*n-6*n,u=3*n*n-4*n+1,p=-6*n*n+6*n,c=3*n*n-2*n;if(a.length){o||(o=new Array(a.length));for(var x=a.length-1;x>=0;--x)o[x]=s*a[x]+u*t[x]+p*i[x]+c*r[x];return o}return s*a+u*t+p*i[x]+c*r}},4419:function(d,a,t){"use strict";var i=t(2183),r=t(1215);function n(s,u){this.point=s,this.index=u}function o(s,u){for(var p=s.point,c=u.point,x=p.length,g=0;g<x;++g){var h=c[g]-p[g];if(h)return h}return 0}d.exports=function(s,u){var p=s.length;if(0===p)return[];var c=s[0].length;if(c<1)return[];if(1===c)return function(R,q,P){if(1===R)return P?[[-1,0]]:[];var U=q.map(function(te,J){return[te[0],J]});U.sort(function(te,J){return te[0]-J[0]});for(var N=new Array(R-1),F=1;F<R;++F)N[F-1]=[U[F-1][1],U[F][1]];return P&&N.push([-1,N[0][1]],[N[R-1][1],-1]),N}(p,s,u);for(var x=new Array(p),g=1,h=0;h<p;++h){for(var y=s[h],v=new Array(c+1),m=0,_=0;_<c;++_){var f=y[_];v[_]=f,m+=f*f}v[c]=m,x[h]=new n(v,h),g=Math.max(m,g)}r(x,o),p=x.length;var S=new Array(p+c+1),w=new Array(p+c+1),E=(c+1)*(c+1)*g,L=new Array(c+1);for(h=0;h<=c;++h)L[h]=0;for(L[c]=E,S[0]=L.slice(),w[0]=-1,h=0;h<=c;++h)(v=L.slice())[h]=1,S[h+1]=v,w[h+1]=-1;for(h=0;h<p;++h){var C=x[h];S[h+c+1]=C.point,w[h+c+1]=C.index}var O=i(S,!1);if(O=O.filter(u?function(R){for(var q=0,P=0;P<=c;++P){var U=w[R[P]];if(U<0&&++q>=2)return!1;R[P]=U}return!0}:function(R){for(var q=0;q<=c;++q){var P=w[R[q]];if(P<0)return!1;R[q]=P}return!0}),1&c)for(h=0;h<O.length;++h)v=(C=O[h])[0],C[0]=C[1],C[1]=v;return O}},8362:function(d){var a=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),i=new Uint32Array(t.buffer);t[0]=1,a=!0,1072693248===i[1]?(d.exports=function(n){return t[0]=n,[i[0],i[1]]},d.exports.pack=function(n,o){return i[0]=n,i[1]=o,t[0]},d.exports.lo=function(n){return t[0]=n,i[0]},d.exports.hi=function(n){return t[0]=n,i[1]}):1072693248===i[0]?(d.exports=function(n){return t[0]=n,[i[1],i[0]]},d.exports.pack=function(n,o){return i[1]=n,i[0]=o,t[0]},d.exports.lo=function(n){return t[0]=n,i[1]},d.exports.hi=function(n){return t[0]=n,i[0]}):a=!1}if(!a){var r=new Buffer(8);d.exports=function(n){return r.writeDoubleLE(n,0,!0),[r.readUInt32LE(0,!0),r.readUInt32LE(4,!0)]},d.exports.pack=function(n,o){return r.writeUInt32LE(n,0,!0),r.writeUInt32LE(o,4,!0),r.readDoubleLE(0,!0)},d.exports.lo=function(n){return r.writeDoubleLE(n,0,!0),r.readUInt32LE(0,!0)},d.exports.hi=function(n){return r.writeDoubleLE(n,0,!0),r.readUInt32LE(4,!0)}}d.exports.sign=function(n){return d.exports.hi(n)>>>31},d.exports.exponent=function(n){return(d.exports.hi(n)<<1>>>21)-1023},d.exports.fraction=function(n){var o=d.exports.lo(n),s=d.exports.hi(n),u=1048575&s;return 2146435072&s&&(u+=1048576),[o,u]},d.exports.denormalized=function(n){return!(2146435072&d.exports.hi(n))}},3094:function(d){"use strict";function a(t,i,r){var n=0|t[r];if(n<=0)return[];var o,s=new Array(n);if(r===t.length-1)for(o=0;o<n;++o)s[o]=i;else for(o=0;o<n;++o)s[o]=a(t,i,r+1);return s}d.exports=function(t,i){switch(void 0===i&&(i=0),typeof t){case"number":if(t>0)return function(r,n){var o,s;for(o=new Array(r),s=0;s<r;++s)o[s]=n;return o}(0|t,i);break;case"object":if("number"==typeof t.length)return a(t,i,0)}return[]}},8348:function(d,a,t){"use strict";d.exports=function(r,n){var o=r.length;if("number"!=typeof n){n=0;for(var s=0;s<o;++s){var u=r[s];n=Math.max(n,u[0],u[1])}n=1+(0|n)}n|=0;var p=new Array(n);for(s=0;s<n;++s)p[s]=[];for(s=0;s<o;++s)p[(u=r[s])[0]].push(u[1]),p[u[1]].push(u[0]);for(var c=0;c<n;++c)i(p[c],function(x,g){return x-g});return p};var i=t(1215)},5795:function(d){"use strict";d.exports=function(a,t,i){var r=t||0,n=i||1;return[[a[12]+a[0],a[13]+a[1],a[14]+a[2],a[15]+a[3]],[a[12]-a[0],a[13]-a[1],a[14]-a[2],a[15]-a[3]],[a[12]+a[4],a[13]+a[5],a[14]+a[6],a[15]+a[7]],[a[12]-a[4],a[13]-a[5],a[14]-a[6],a[15]-a[7]],[r*a[12]+a[8],r*a[13]+a[9],r*a[14]+a[10],r*a[15]+a[11]],[n*a[12]-a[8],n*a[13]-a[9],n*a[14]-a[10],n*a[15]-a[11]]]}},8444:function(d,a,t){"use strict";d.exports=function(p,c,x){switch(arguments.length){case 0:return new o([0],[0],0);case 1:return"number"==typeof p?new o(g=u(p),g,0):new o(p,u(p.length),0);case 2:var g;if("number"==typeof c)return new o(p,g=u(p.length),+c);x=0;case 3:if(p.length!==c.length)throw new Error("state and velocity lengths must match");return new o(p,c,x)}};var i=t(9680),r=t(5070);function n(p,c,x){return Math.min(c,Math.max(p,x))}function o(p,c,x){this.dimension=p.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var g=0;g<this.dimension;++g)this.bounds[0][g]=-1/0,this.bounds[1][g]=1/0;this._state=p.slice().reverse(),this._velocity=c.slice().reverse(),this._time=[x],this._scratch=[p.slice(),p.slice(),p.slice(),p.slice(),p.slice()]}var s=o.prototype;function u(p){for(var c=new Array(p),x=0;x<p;++x)c[x]=0;return c}s.flush=function(p){var c=r.gt(this._time,p)-1;c<=0||(this._time.splice(0,c),this._state.splice(0,c*this.dimension),this._velocity.splice(0,c*this.dimension))},s.curve=function(p){var c=this._time,x=c.length,g=r.le(c,p),h=this._scratch[0],y=this._state,v=this._velocity,m=this.dimension,_=this.bounds;if(g<0)for(var f=m-1,S=0;S<m;++S,--f)h[S]=y[f];else if(g>=x-1){f=y.length-1;var w=p-c[x-1];for(S=0;S<m;++S,--f)h[S]=y[f]+w*v[f]}else{f=m*(g+1)-1;var E=c[g],L=c[g+1]-E||1,C=this._scratch[1],O=this._scratch[2],R=this._scratch[3],q=this._scratch[4],P=!0;for(S=0;S<m;++S,--f)C[S]=y[f],R[S]=v[f]*L,O[S]=y[f+m],q[S]=v[f+m]*L,P=P&&C[S]===O[S]&&R[S]===q[S]&&0===R[S];if(P)for(S=0;S<m;++S)h[S]=C[S];else i(C,R,O,q,(p-E)/L,h)}var U=_[0],N=_[1];for(S=0;S<m;++S)h[S]=n(U[S],N[S],h[S]);return h},s.dcurve=function(p){var c=this._time,x=c.length,g=r.le(c,p),h=this._scratch[0],y=this._state,v=this._velocity,m=this.dimension;if(g>=x-1)for(var _=y.length-1,f=0;f<m;++f,--_)h[f]=v[_];else{_=m*(g+1)-1;var S=c[g],w=c[g+1]-S||1,E=this._scratch[1],L=this._scratch[2],C=this._scratch[3],O=this._scratch[4],R=!0;for(f=0;f<m;++f,--_)E[f]=y[_],C[f]=v[_]*w,L[f]=y[_+m],O[f]=v[_+m]*w,R=R&&E[f]===L[f]&&C[f]===O[f]&&0===C[f];if(R)for(f=0;f<m;++f)h[f]=0;else for(i.derivative(E,C,L,O,(p-S)/w,h),f=0;f<m;++f)h[f]/=w}return h},s.lastT=function(){var p=this._time;return p[p.length-1]},s.stable=function(){for(var p=this._velocity,c=p.length,x=this.dimension-1;x>=0;--x)if(p[--c])return!1;return!0},s.jump=function(p){var c=this.lastT(),x=this.dimension;if(!(p<c||arguments.length!==x+1)){var g=this._state,h=this._velocity,y=g.length-this.dimension,v=this.bounds,m=v[0],_=v[1];this._time.push(c,p);for(var f=0;f<2;++f)for(var S=0;S<x;++S)g.push(g[y++]),h.push(0);for(this._time.push(p),S=x;S>0;--S)g.push(n(m[S-1],_[S-1],arguments[S])),h.push(0)}},s.push=function(p){var c=this.lastT(),x=this.dimension;if(!(p<c||arguments.length!==x+1)){var g=this._state,h=this._velocity,y=g.length-this.dimension,v=p-c,m=this.bounds,_=m[0],f=m[1],S=v>1e-6?1/v:0;this._time.push(p);for(var w=x;w>0;--w){var E=n(_[w-1],f[w-1],arguments[w]);g.push(E),h.push((E-g[y++])*S)}}},s.set=function(p){var c=this.dimension;if(!(p<this.lastT()||arguments.length!==c+1)){var x=this._state,g=this._velocity,h=this.bounds,y=h[0],v=h[1];this._time.push(p);for(var m=c;m>0;--m)x.push(n(y[m-1],v[m-1],arguments[m])),g.push(0)}},s.move=function(p){var c=this.lastT(),x=this.dimension;if(!(p<=c||arguments.length!==x+1)){var g=this._state,h=this._velocity,y=g.length-this.dimension,v=this.bounds,m=v[0],_=v[1],f=p-c,S=f>1e-6?1/f:0;this._time.push(p);for(var w=x;w>0;--w){var E=arguments[w];g.push(n(m[w-1],_[w-1],g[y++]+E)),h.push(E*S)}}},s.idle=function(p){var c=this.lastT();if(!(p<c)){var x=this.dimension,g=this._state,h=this._velocity,y=g.length-x,v=this.bounds,m=v[0],_=v[1],f=p-c;this._time.push(p);for(var S=x-1;S>=0;--S)g.push(n(m[S],_[S],g[y]+f*h[y])),h.push(0),y+=1}}},7080:function(d){"use strict";function a(y,v,m,_,f,S){this._color=y,this.key=v,this.value=m,this.left=_,this.right=f,this._count=S}function t(y){return new a(y._color,y.key,y.value,y.left,y.right,y._count)}function i(y,v){return new a(y,v.key,v.value,v.left,v.right,v._count)}function r(y){y._count=1+(y.left?y.left._count:0)+(y.right?y.right._count:0)}function n(y,v){this._compare=y,this.root=v}d.exports=function(y){return new n(y||h,null)};var o=n.prototype;function s(y,v){var m;return v.left&&(m=s(y,v.left))?m:(m=y(v.key,v.value))||(v.right?s(y,v.right):void 0)}function u(y,v,m,_){var f;return v(y,_.key)<=0&&(_.left&&(f=u(y,v,m,_.left))||(f=m(_.key,_.value)))?f:_.right?u(y,v,m,_.right):void 0}function p(y,v,m,_,f){var S,w=m(y,f.key),E=m(v,f.key);return w<=0&&(f.left&&(S=p(y,v,m,_,f.left))||E>0&&(S=_(f.key,f.value)))?S:E>0&&f.right?p(y,v,m,_,f.right):void 0}function c(y,v){this.tree=y,this._stack=v}Object.defineProperty(o,"keys",{get:function(){var y=[];return this.forEach(function(v,m){y.push(v)}),y}}),Object.defineProperty(o,"values",{get:function(){var y=[];return this.forEach(function(v,m){y.push(m)}),y}}),Object.defineProperty(o,"length",{get:function(){return this.root?this.root._count:0}}),o.insert=function(y,v){for(var m=this._compare,_=this.root,f=[],S=[];_;){var w=m(y,_.key);f.push(_),S.push(w),_=w<=0?_.left:_.right}f.push(new a(0,y,v,null,null,1));for(var E=f.length-2;E>=0;--E)_=f[E],f[E]=S[E]<=0?new a(_._color,_.key,_.value,f[E+1],_.right,_._count+1):new a(_._color,_.key,_.value,_.left,f[E+1],_._count+1);for(E=f.length-1;E>1;--E){var L=f[E-1];if(_=f[E],1===L._color||1===_._color)break;var C=f[E-2];if(C.left===L)if(L.left===_){if(!(O=C.right)||0!==O._color){C._color=0,C.left=L.right,L._color=1,L.right=C,f[E-2]=L,f[E-1]=_,r(C),r(L),E>=3&&((R=f[E-3]).left===C?R.left=L:R.right=L);break}L._color=1,C.right=i(1,O),C._color=0,E-=1}else{if(!(O=C.right)||0!==O._color){L.right=_.left,C._color=0,C.left=_.right,_._color=1,_.left=L,_.right=C,f[E-2]=_,f[E-1]=L,r(C),r(L),r(_),E>=3&&((R=f[E-3]).left===C?R.left=_:R.right=_);break}L._color=1,C.right=i(1,O),C._color=0,E-=1}else if(L.right===_){if(!(O=C.left)||0!==O._color){C._color=0,C.right=L.left,L._color=1,L.left=C,f[E-2]=L,f[E-1]=_,r(C),r(L),E>=3&&((R=f[E-3]).right===C?R.right=L:R.left=L);break}L._color=1,C.left=i(1,O),C._color=0,E-=1}else{var O;if(!(O=C.left)||0!==O._color){var R;L.left=_.right,C._color=0,C.right=_.left,_._color=1,_.right=L,_.left=C,f[E-2]=_,f[E-1]=L,r(C),r(L),r(_),E>=3&&((R=f[E-3]).right===C?R.right=_:R.left=_);break}L._color=1,C.left=i(1,O),C._color=0,E-=1}}return f[0]._color=1,new n(m,f[0])},o.forEach=function(y,v,m){if(this.root)switch(arguments.length){case 1:return s(y,this.root);case 2:return u(v,this._compare,y,this.root);case 3:return this._compare(v,m)>=0?void 0:p(v,m,this._compare,y,this.root)}},Object.defineProperty(o,"begin",{get:function(){for(var y=[],v=this.root;v;)y.push(v),v=v.left;return new c(this,y)}}),Object.defineProperty(o,"end",{get:function(){for(var y=[],v=this.root;v;)y.push(v),v=v.right;return new c(this,y)}}),o.at=function(y){if(y<0)return new c(this,[]);for(var v=this.root,m=[];;){if(m.push(v),v.left){if(y<v.left._count){v=v.left;continue}y-=v.left._count}if(!y)return new c(this,m);if(y-=1,!v.right||y>=v.right._count)break;v=v.right}return new c(this,[])},o.ge=function(y){for(var v=this._compare,m=this.root,_=[],f=0;m;){var S=v(y,m.key);_.push(m),S<=0&&(f=_.length),m=S<=0?m.left:m.right}return _.length=f,new c(this,_)},o.gt=function(y){for(var v=this._compare,m=this.root,_=[],f=0;m;){var S=v(y,m.key);_.push(m),S<0&&(f=_.length),m=S<0?m.left:m.right}return _.length=f,new c(this,_)},o.lt=function(y){for(var v=this._compare,m=this.root,_=[],f=0;m;){var S=v(y,m.key);_.push(m),S>0&&(f=_.length),m=S<=0?m.left:m.right}return _.length=f,new c(this,_)},o.le=function(y){for(var v=this._compare,m=this.root,_=[],f=0;m;){var S=v(y,m.key);_.push(m),S>=0&&(f=_.length),m=S<0?m.left:m.right}return _.length=f,new c(this,_)},o.find=function(y){for(var v=this._compare,m=this.root,_=[];m;){var f=v(y,m.key);if(_.push(m),0===f)return new c(this,_);m=f<=0?m.left:m.right}return new c(this,[])},o.remove=function(y){var v=this.find(y);return v?v.remove():this},o.get=function(y){for(var v=this._compare,m=this.root;m;){var _=v(y,m.key);if(0===_)return m.value;m=_<=0?m.left:m.right}};var x=c.prototype;function g(y,v){y.key=v.key,y.value=v.value,y.left=v.left,y.right=v.right,y._color=v._color,y._count=v._count}function h(y,v){return y<v?-1:y>v?1:0}Object.defineProperty(x,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(x,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),x.clone=function(){return new c(this.tree,this._stack.slice())},x.remove=function(){var y=this._stack;if(0===y.length)return this.tree;var v=new Array(y.length),m=y[y.length-1];v[v.length-1]=new a(m._color,m.key,m.value,m.left,m.right,m._count);for(var _=y.length-2;_>=0;--_)v[_]=(m=y[_]).left===y[_+1]?new a(m._color,m.key,m.value,v[_+1],m.right,m._count):new a(m._color,m.key,m.value,m.left,v[_+1],m._count);if((m=v[v.length-1]).left&&m.right){var f=v.length;for(m=m.left;m.right;)v.push(m),m=m.right;var S=v[f-1];for(v.push(new a(m._color,S.key,S.value,m.left,m.right,m._count)),v[f-1].key=m.key,v[f-1].value=m.value,_=v.length-2;_>=f;--_)v[_]=new a((m=v[_])._color,m.key,m.value,m.left,v[_+1],m._count);v[f-1].left=v[f]}if(0===(m=v[v.length-1])._color){var w=v[v.length-2];for(w.left===m?w.left=null:w.right===m&&(w.right=null),v.pop(),_=0;_<v.length;++_)v[_]._count--;return new n(this.tree._compare,v[0])}if(m.left||m.right){for(m.left?g(m,m.left):m.right&&g(m,m.right),m._color=1,_=0;_<v.length-1;++_)v[_]._count--;return new n(this.tree._compare,v[0])}if(1===v.length)return new n(this.tree._compare,null);for(_=0;_<v.length;++_)v[_]._count--;var E=v[v.length-2];return function(L){for(var C,O,R,q,P=L.length-1;P>=0;--P){if(C=L[P],0===P)return void(C._color=1);if((O=L[P-1]).left===C){if((R=O.right).right&&0===R.right._color)return q=(R=O.right=t(R)).right=t(R.right),O.right=R.left,R.left=O,R.right=q,R._color=O._color,C._color=1,O._color=1,q._color=1,r(O),r(R),P>1&&((U=L[P-2]).left===O?U.left=R:U.right=R),void(L[P-1]=R);if(R.left&&0===R.left._color)return q=(R=O.right=t(R)).left=t(R.left),O.right=q.left,R.left=q.right,q.left=O,q.right=R,q._color=O._color,O._color=1,R._color=1,C._color=1,r(O),r(R),r(q),P>1&&((U=L[P-2]).left===O?U.left=q:U.right=q),void(L[P-1]=q);if(1===R._color){if(0===O._color)return O._color=1,void(O.right=i(0,R));O.right=i(0,R);continue}R=t(R),O.right=R.left,R.left=O,R._color=O._color,O._color=0,r(O),r(R),P>1&&((U=L[P-2]).left===O?U.left=R:U.right=R),L[P-1]=R,L[P]=O,P+1<L.length?L[P+1]=C:L.push(C),P+=2}else{if((R=O.left).left&&0===R.left._color)return q=(R=O.left=t(R)).left=t(R.left),O.left=R.right,R.right=O,R.left=q,R._color=O._color,C._color=1,O._color=1,q._color=1,r(O),r(R),P>1&&((U=L[P-2]).right===O?U.right=R:U.left=R),void(L[P-1]=R);if(R.right&&0===R.right._color)return q=(R=O.left=t(R)).right=t(R.right),O.left=q.right,R.right=q.left,q.right=O,q.left=R,q._color=O._color,O._color=1,R._color=1,C._color=1,r(O),r(R),r(q),P>1&&((U=L[P-2]).right===O?U.right=q:U.left=q),void(L[P-1]=q);if(1===R._color){if(0===O._color)return O._color=1,void(O.left=i(0,R));O.left=i(0,R);continue}var U;R=t(R),O.left=R.right,R.right=O,R._color=O._color,O._color=0,r(O),r(R),P>1&&((U=L[P-2]).right===O?U.right=R:U.left=R),L[P-1]=R,L[P]=O,P+1<L.length?L[P+1]=C:L.push(C),P+=2}}}(v),E.left===m?E.left=null:E.right=null,new n(this.tree._compare,v[0])},Object.defineProperty(x,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(x,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(x,"index",{get:function(){var y=0,v=this._stack;if(0===v.length){var m=this.tree.root;return m?m._count:0}v[v.length-1].left&&(y=v[v.length-1].left._count);for(var _=v.length-2;_>=0;--_)v[_+1]===v[_].right&&(++y,v[_].left&&(y+=v[_].left._count));return y},enumerable:!0}),x.next=function(){var y=this._stack;if(0!==y.length){var v=y[y.length-1];if(v.right)for(v=v.right;v;)y.push(v),v=v.left;else for(y.pop();y.length>0&&y[y.length-1].right===v;)v=y[y.length-1],y.pop()}},Object.defineProperty(x,"hasNext",{get:function(){var y=this._stack;if(0===y.length)return!1;if(y[y.length-1].right)return!0;for(var v=y.length-1;v>0;--v)if(y[v-1].left===y[v])return!0;return!1}}),x.update=function(y){var v=this._stack;if(0===v.length)throw new Error("Can't update empty node!");var m=new Array(v.length),_=v[v.length-1];m[m.length-1]=new a(_._color,_.key,y,_.left,_.right,_._count);for(var f=v.length-2;f>=0;--f)m[f]=(_=v[f]).left===v[f+1]?new a(_._color,_.key,_.value,m[f+1],_.right,_._count):new a(_._color,_.key,_.value,_.left,m[f+1],_._count);return new n(this.tree._compare,m[0])},x.prev=function(){var y=this._stack;if(0!==y.length){var v=y[y.length-1];if(v.left)for(v=v.left;v;)y.push(v),v=v.right;else for(y.pop();y.length>0&&y[y.length-1].left===v;)v=y[y.length-1],y.pop()}},Object.defineProperty(x,"hasPrev",{get:function(){var y=this._stack;if(0===y.length)return!1;if(y[y.length-1].left)return!0;for(var v=y.length-1;v>0;--v)if(y[v-1].right===y[v])return!0;return!1}})},7453:function(d,a,t){"use strict";d.exports=function(w,E){var L=new c(w);return L.update(E),L};var i=t(9557),r=t(1681),n=t(1011),o=t(2864),s=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function p(w,E){return w[0]=E[0],w[1]=E[1],w[2]=E[2],w}function c(w){this.gl=w,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(w)}var x=c.prototype;function g(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}x.update=function(w){function E(te,J,X){if(X in w){var Y,W=w[X],$=this[X];this[X]=Y=(te?Array.isArray(W)&&Array.isArray(W[0]):Array.isArray(W))?[J(W[0]),J(W[1]),J(W[2])]:[J(W),J(W),J(W)];for(var ne=0;ne<3;++ne)if(Y[ne]!==$[ne])return!0}return!1}w=w||{};var L,C=E.bind(this,!1,Number),O=E.bind(this,!1,Boolean),R=E.bind(this,!1,String),q=E.bind(this,!0,function(te){if(Array.isArray(te)){if(3===te.length)return[+te[0],+te[1],+te[2],1];if(4===te.length)return[+te[0],+te[1],+te[2],+te[3]]}return[0,0,0,1]}),P=!1,U=!1;if("bounds"in w)for(var N=w.bounds,F=0;F<2;++F)for(var j=0;j<3;++j)N[F][j]!==this.bounds[F][j]&&(U=!0),this.bounds[F][j]=N[F][j];if("ticks"in w)for(L=w.ticks,P=!0,this.autoTicks=!1,F=0;F<3;++F)this.tickSpacing[F]=0;else C("tickSpacing")&&(this.autoTicks=!0,U=!0);if(this._firstInit&&("ticks"in w||"tickSpacing"in w||(this.autoTicks=!0),U=!0,P=!0,this._firstInit=!1),U&&this.autoTicks&&(L=s.create(this.bounds,this.tickSpacing),P=!0),P){for(F=0;F<3;++F)L[F].sort(function(te,J){return te.x-J.x});s.equal(L,this.ticks)?P=!1:this.ticks=L}O("tickEnable"),R("tickFont")&&(P=!0),C("tickSize"),C("tickAngle"),C("tickPad"),q("tickColor");var G=R("labels");R("labelFont")&&(G=!0),O("labelEnable"),C("labelSize"),C("labelPad"),q("labelColor"),O("lineEnable"),O("lineMirror"),C("lineWidth"),q("lineColor"),O("lineTickEnable"),O("lineTickMirror"),C("lineTickLength"),C("lineTickWidth"),q("lineTickColor"),O("gridEnable"),C("gridWidth"),q("gridColor"),O("zeroEnable"),q("zeroLineColor"),C("zeroLineWidth"),O("backgroundEnable"),q("backgroundColor"),this._text?this._text&&(G||P)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=i(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&P&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=r(this.gl,this.bounds,this.ticks))};var h=[new g,new g,new g];function y(w,E,L,C,O){for(var R=w.primalOffset,q=w.primalMinor,P=w.mirrorOffset,U=w.mirrorMinor,N=C[E],F=0;F<3;++F)if(E!==F){var j=R,G=P,te=q,J=U;N&1<<F&&(j=P,G=R,te=U,J=q),j[F]=L[0][F],G[F]=L[1][F],O[F]>0?(te[F]=-1,J[F]=0):(te[F]=0,J[F]=1)}}var v=[0,0,0],m={model:u,view:u,projection:u,_ortho:!1};x.isOpaque=function(){return!0},x.isTransparent=function(){return!1},x.drawTransparent=function(w){};var _=[0,0,0],f=[0,0,0],S=[0,0,0];x.draw=function(w){for(var E=this.gl,L=(w=w||m).model||u,C=w.view||u,O=w.projection||u,R=this.bounds,q=w._ortho||!1,P=o(L,C,O,R,q),U=P.cubeEdges,N=P.axis,J=(q?2:1)*this.pixelRatio*(O[3]*C[12]+O[7]*C[13]+O[11]*C[14]+O[15]*C[15])/E.drawingBufferHeight,X=0;X<3;++X)this.lastCubeProps.cubeEdges[X]=U[X],this.lastCubeProps.axis[X]=N[X];var Y=h;for(X=0;X<3;++X)y(h[X],X,this.bounds,U,N);E=this.gl;var W,$,ne,ke,be,Ie,Fe,ce,Te,ve,Ce,Re,re=v;for(X=0;X<3;++X)re[X]=this.backgroundEnable[X]?N[X]:0;for(this._background.draw(L,C,O,R,re,this.backgroundColor),this._lines.bind(L,C,O,this),X=0;X<3;++X){var oe=[0,0,0];oe[X]=N[X]>0?R[1][X]:R[0][X];for(var ue=0;ue<2;++ue){var xe=(X+1+ue)%3,Me=(X+1+(1^ue))%3;this.gridEnable[xe]&&this._lines.drawGrid(xe,Me,this.bounds,oe,this.gridColor[xe],this.gridWidth[xe]*this.pixelRatio)}for(ue=0;ue<2;++ue)xe=(X+1+ue)%3,this.zeroEnable[Me=(X+1+(1^ue))%3]&&Math.min(R[0][Me],R[1][Me])<=0&&Math.max(R[0][Me],R[1][Me])>=0&&this._lines.drawZero(xe,Me,this.bounds,oe,this.zeroLineColor[Me],this.zeroLineWidth[Me]*this.pixelRatio)}for(X=0;X<3;++X){this.lineEnable[X]&&this._lines.drawAxisLine(X,this.bounds,Y[X].primalOffset,this.lineColor[X],this.lineWidth[X]*this.pixelRatio),this.lineMirror[X]&&this._lines.drawAxisLine(X,this.bounds,Y[X].mirrorOffset,this.lineColor[X],this.lineWidth[X]*this.pixelRatio);var me=p(_,Y[X].primalMinor),pe=p(f,Y[X].mirrorMinor),ge=this.lineTickLength;for(ue=0;ue<3;++ue){var Pe=J/L[5*ue];me[ue]*=ge[ue]*Pe,pe[ue]*=ge[ue]*Pe}this.lineTickEnable[X]&&this._lines.drawAxisTicks(X,Y[X].primalOffset,me,this.lineTickColor[X],this.lineTickWidth[X]*this.pixelRatio),this.lineTickMirror[X]&&this._lines.drawAxisTicks(X,Y[X].mirrorOffset,pe,this.lineTickColor[X],this.lineTickWidth[X]*this.pixelRatio)}function _e(ke){(ne=[0,0,0])[ke]=1}for(this._lines.unbind(),this._text.bind(L,C,O,this.pixelRatio),X=0;X<3;++X){var se=Y[X].primalMinor,ae=Y[X].mirrorMinor,fe=p(S,Y[X].primalOffset);for(ue=0;ue<3;++ue)this.lineTickEnable[X]&&(fe[ue]+=J*se[ue]*Math.max(this.lineTickLength[ue],0)/L[5*ue]);var Ee=[0,0,0];if(Ee[X]=1,this.tickEnable[X]){for(-3600===this.tickAngle[X]?(this.tickAngle[X]=0,this.tickAlign[X]="auto"):this.tickAlign[X]=-1,W[0]="auto"===(W=[this.tickAlign[X],.5,$=1])[0]?0:parseInt(""+W[0]),ne=[0,0,0],Fe=void 0,ce=void 0,Te=void 0,ve=void 0,Ce=void 0,Re=void 0,ve=(be=se)[ce=((ke=X)+2)%3],Ce=(Ie=ae)[Fe=(ke+1)%3],Re=Ie[ce],(Te=be[Fe])>0&&Re>0||Te>0&&Re<0||Te<0&&Re>0||Te<0&&Re<0?_e(Fe):(ve>0&&Ce>0||ve>0&&Ce<0||ve<0&&Ce>0||ve<0&&Ce<0)&&_e(ce),ue=0;ue<3;++ue)fe[ue]+=J*se[ue]*this.tickPad[ue]/L[5*ue];this._text.drawTicks(X,this.tickSize[X],this.tickAngle[X],fe,this.tickColor[X],Ee,ne,W)}if(this.labelEnable[X]){for($=0,ne=[0,0,0],this.labels[X].length>4&&(_e(X),$=1),W[0]="auto"===(W=[this.labelAlign[X],.5,$])[0]?0:parseInt(""+W[0]),ue=0;ue<3;++ue)fe[ue]+=J*se[ue]*this.labelPad[ue]/L[5*ue];fe[X]+=.5*(R[0][X]+R[1][X]),this._text.drawLabel(X,this.labelSize[X],this.labelAngle[X],fe,this.labelColor[X],[0,0,0],ne,W)}}this._text.unbind()},x.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(d,a,t){"use strict";d.exports=function(u){for(var p=[],c=[],x=0,g=0;g<3;++g)for(var h=(g+1)%3,y=(g+2)%3,v=[0,0,0],m=[0,0,0],_=-1;_<=1;_+=2){c.push(x,x+2,x+1,x+1,x+2,x+3),v[g]=_,m[g]=_;for(var f=-1;f<=1;f+=2){v[h]=f;for(var S=-1;S<=1;S+=2)v[y]=S,p.push(v[0],v[1],v[2],m[0],m[1],m[2]),x+=1}var w=h;h=y,y=w}var E=i(u,new Float32Array(p)),L=i(u,new Uint16Array(c),u.ELEMENT_ARRAY_BUFFER),C=r(u,[{buffer:E,type:u.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:u.FLOAT,size:3,offset:12,stride:24}],L),O=n(u);return O.attributes.position.location=0,O.attributes.normal.location=1,new o(u,E,C,O)};var i=t(5827),r=t(2944),n=t(1943).bg;function o(u,p,c,x){this.gl=u,this.buffer=p,this.vao=c,this.shader=x}var s=o.prototype;s.draw=function(u,p,c,x,g,h){for(var y=!1,v=0;v<3;++v)y=y||g[v];if(y){var m=this.gl;m.enable(m.POLYGON_OFFSET_FILL),m.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:u,view:p,projection:c,bounds:x,enable:g,colors:h},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),m.disable(m.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(d,a,t){"use strict";d.exports=function(f,S,w,E,L){r(s,S,f),r(s,w,s);for(var C=0,O=0;O<2;++O){c[2]=E[O][2];for(var R=0;R<2;++R){c[1]=E[R][1];for(var q=0;q<2;++q)c[0]=E[q][0],g(u[C],c,s),C+=1}}var P=-1;for(O=0;O<8;++O){for(var U=u[O][3],N=0;N<3;++N)p[O][N]=u[O][N]/U;L&&(p[O][2]*=-1),U<0&&(P<0||p[O][2]<p[P][2])&&(P=O)}if(P<0){P=0;for(var F=0;F<3;++F){for(var j=(F+2)%3,G=(F+1)%3,te=-1,J=-1,X=0;X<2;++X){var Y=($=X<<F)+(X<<j)+(1-X<<G),W=$+(1-X<<j)+(X<<G);o(p[$],p[Y],p[W],x)<0||(X?te=1:J=1)}if(te<0||J<0)J>te&&(P|=1<<F);else{for(X=0;X<2;++X){Y=($=X<<F)+(X<<j)+(1-X<<G);var $,ne=y([u[$],u[Y],u[W=$+(1-X<<j)+(X<<G)],u[$+(1<<j)+(1<<G)]]);X?te=ne:J=ne}J>te&&(P|=1<<F)}}}var re=7^P,oe=-1;for(O=0;O<8;++O)O!==P&&O!==re&&(oe<0||p[oe][1]>p[O][1])&&(oe=O);var ue=-1;for(O=0;O<3;++O)(Me=oe^1<<O)!==P&&Me!==re&&(ue<0&&(ue=Me),(G=p[Me])[0]<p[ue][0]&&(ue=Me));var xe=-1;for(O=0;O<3;++O){var Me;(Me=oe^1<<O)!==P&&Me!==re&&Me!==ue&&(xe<0&&(xe=Me),(G=p[Me])[0]>p[xe][0]&&(xe=Me))}var me=v;me[0]=me[1]=me[2]=0,me[i.log2(ue^oe)]=oe&ue,me[i.log2(oe^xe)]=oe&xe;var pe=7^xe;pe===P||pe===re?me[i.log2(xe^(pe=7^ue))]=pe&xe:me[i.log2(ue^pe)]=pe&ue;var ge=m,Pe=P;for(F=0;F<3;++F)ge[F]=Pe&1<<F?-1:1;return _};var i=t(2288),r=t(104),n=t(4670),o=t(417),s=new Array(16),u=new Array(8),p=new Array(8),c=new Array(3),x=[0,0,0];function g(f,S,w){for(var E=0;E<4;++E){f[E]=w[12+E];for(var L=0;L<3;++L)f[E]+=S[L]*w[4*L+E]}}!function(){for(var f=0;f<8;++f)u[f]=[1,1,1,1],p[f]=[1,1,1]}();var h=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function y(f){for(var S=0;S<h.length;++S)if((f=n.positive(f,h[S])).length<3)return 0;var w=f[0],E=w[0]/w[3],L=w[1]/w[3],C=0;for(S=1;S+1<f.length;++S){var O=f[S],R=f[S+1];C+=Math.abs((O[0]/O[3]-E)*(R[1]/R[3]-L)-(O[1]/O[3]-L)*(R[0]/R[3]-E))}return C}var v=[1,1,1],m=[0,0,0],_={cubeEdges:v,axis:m}},1681:function(d,a,t){"use strict";d.exports=function(v,m,_){var f=[],S=[0,0,0],w=[0,0,0],E=[0,0,0],L=[0,0,0];f.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var C=0;C<3;++C){for(var O=f.length/3|0,R=0;R<_[C].length;++R){var q=+_[C][R].x;f.push(q,0,1,q,1,1,q,0,-1,q,0,-1,q,1,1,q,1,-1)}var P=f.length/3|0;S[C]=O,w[C]=P-O,O=f.length/3|0;for(var U=0;U<_[C].length;++U)f.push(q=+_[C][U].x,0,1,q,1,1,q,0,-1,q,0,-1,q,1,1,q,1,-1);P=f.length/3|0,E[C]=O,L[C]=P-O}var N=i(v,new Float32Array(f)),F=r(v,[{buffer:N,type:v.FLOAT,size:3,stride:0,offset:0}]),j=n(v);return j.attributes.position.location=0,new h(v,N,F,j,w,S,L,E)};var i=t(5827),r=t(2944),n=t(1943).j,o=[0,0,0],s=[0,0,0],u=[0,0,0],p=[0,0,0],c=[1,1];function x(v){return v[0]=v[1]=v[2]=0,v}function g(v,m){return v[0]=m[0],v[1]=m[1],v[2]=m[2],v}function h(v,m,_,f,S,w,E,L){this.gl=v,this.vertBuffer=m,this.vao=_,this.shader=f,this.tickCount=S,this.tickOffset=w,this.gridCount=E,this.gridOffset=L}var y=h.prototype;y.bind=function(v,m,_){this.shader.bind(),this.shader.uniforms.model=v,this.shader.uniforms.view=m,this.shader.uniforms.projection=_,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},y.unbind=function(){this.vao.unbind()},y.drawAxisLine=function(v,m,_,f,S){var w=x(s);this.shader.uniforms.majorAxis=s,w[v]=m[1][v]-m[0][v],this.shader.uniforms.minorAxis=w;var E,L=g(p,_);L[v]+=m[0][v],this.shader.uniforms.offset=L,this.shader.uniforms.lineWidth=S,this.shader.uniforms.color=f,(E=x(u))[(v+2)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6),(E=x(u))[(v+1)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6)},y.drawAxisTicks=function(v,m,_,f,S){if(this.tickCount[v]){var w=x(o);w[v]=1,this.shader.uniforms.majorAxis=w,this.shader.uniforms.offset=m,this.shader.uniforms.minorAxis=_,this.shader.uniforms.color=f,this.shader.uniforms.lineWidth=S;var E=x(u);E[v]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[v],this.tickOffset[v])}},y.drawGrid=function(v,m,_,f,S,w){if(this.gridCount[v]){var E=x(s);E[m]=_[1][m]-_[0][m],this.shader.uniforms.minorAxis=E;var L=g(p,f);L[m]+=_[0][m],this.shader.uniforms.offset=L;var C=x(o);C[v]=1,this.shader.uniforms.majorAxis=C;var O=x(u);O[v]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=w,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,this.gridCount[v],this.gridOffset[v])}},y.drawZero=function(v,m,_,f,S,w){var E=x(s);this.shader.uniforms.majorAxis=E,E[v]=_[1][v]-_[0][v],this.shader.uniforms.minorAxis=E;var L=g(p,f);L[v]+=_[0][v],this.shader.uniforms.offset=L;var C=x(u);C[m]=1,this.shader.uniforms.screenAxis=C,this.shader.uniforms.lineWidth=w,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,6)},y.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(d,a,t){"use strict";var i=t(6832),r=t(5158),n=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);a.j=function(x){return r(x,n,o,null,[{name:"position",type:"vec3"}])};var s=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),u=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);a.f=function(x){return r(x,s,u,null,[{name:"position",type:"vec3"}])};var p=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),c=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);a.bg=function(x){return r(x,p,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(d,a,t){"use strict";d.exports=function(g,h,y,v,m,_){var f=i(g),S=r(g,[{buffer:f,size:3}]),w=o(g);w.attributes.position.location=0;var E=new p(g,w,f,S);return E.update(h,y,v,m,_),E};var i=t(5827),r=t(2944),n=t(875),o=t(1943).f,s=window||k.global||{},u=s.__TEXT_CACHE||{};function p(g,h,y,v){this.gl=g,this.shader=h,this.buffer=y,this.vao=v,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}s.__TEXT_CACHE={};var c=p.prototype,x=[0,0];c.bind=function(g,h,y,v){this.vao.bind(),this.shader.bind();var m=this.shader.uniforms;m.model=g,m.view=h,m.projection=y,m.pixelScale=v,x[0]=this.gl.drawingBufferWidth,x[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=x},c.unbind=function(){this.vao.unbind()},c.update=function(g,h,y,v,m){var _=[];function f(q,P,U,N,F,j){var G=u[U];G||(G=u[U]={});var te=G[P];te||(te=G[P]=function(ue,xe){try{return n(ue,xe)}catch(Me){return console.warn('error vectorizing text:"'+ue+'" error:',Me),{cells:[],positions:[]}}}(P,{triangles:!0,font:U,textAlign:"center",textBaseline:"middle",lineSpacing:F,styletags:j}));for(var J=(N||12)/12,X=te.positions,Y=te.cells,W=0,$=Y.length;W<$;++W)for(var ne=Y[W],re=2;re>=0;--re){var oe=X[ne[re]];_.push(J*oe[0],-J*oe[1],q)}}for(var S=[0,0,0],w=[0,0,0],E=[0,0,0],L=[0,0,0],C={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},O=0;O<3;++O){E[O]=_.length/3|0,f(.5*(g[0][O]+g[1][O]),h[O],y[O],12,1.25,C),L[O]=(_.length/3|0)-E[O],S[O]=_.length/3|0;for(var R=0;R<v[O].length;++R)v[O][R].text&&f(v[O][R].x,v[O][R].text,v[O][R].font||m,v[O][R].fontSize||12,1.25,C);w[O]=(_.length/3|0)-S[O]}this.buffer.update(_),this.tickOffset=S,this.tickCount=w,this.labelOffset=E,this.labelCount=L},c.drawTicks=function(g,h,y,v,m,_,f,S){this.tickCount[g]&&(this.shader.uniforms.axis=_,this.shader.uniforms.color=m,this.shader.uniforms.angle=y,this.shader.uniforms.scale=h,this.shader.uniforms.offset=v,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[g],this.tickOffset[g]))},c.drawLabel=function(g,h,y,v,m,_,f,S){this.labelCount[g]&&(this.shader.uniforms.axis=_,this.shader.uniforms.color=m,this.shader.uniforms.angle=y,this.shader.uniforms.scale=h,this.shader.uniforms.offset=v,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[g],this.labelOffset[g]))},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(d,a){"use strict";function t(i,r){var n=i+"",o=n.indexOf("."),s=0;o>=0&&(s=n.length-o-1);var u=Math.pow(10,s),p=Math.round(i*r*u),c=p+"";if(c.indexOf("e")>=0)return c;var x=p/u,g=p%u;p<0?(x=0|-Math.ceil(x),g=0|-g):(x=0|Math.floor(x),g|=0);var h=""+x;if(p<0&&(h="-"+h),s){for(var y=""+g;y.length<s;)y="0"+y;return h+"."+y}return h}a.create=function(i,r){for(var n=[],o=0;o<3;++o){for(var s=[],u=0;u*r[o]<=i[1][o];++u)s.push({x:u*r[o],text:t(r[o],u)});for(u=-1;u*r[o]>=i[0][o];--u)s.push({x:u*r[o],text:t(r[o],u)});n.push(s)}return n},a.equal=function(i,r){for(var n=0;n<3;++n){if(i[n].length!==r[n].length)return!1;for(var o=0;o<i[n].length;++o){var s=i[n][o],u=r[n][o];if(s.x!==u.x||s.text!==u.text||s.font!==u.font||s.fontColor!==u.fontColor||s.fontSize!==u.fontSize||s.dx!==u.dx||s.dy!==u.dy)return!1}}return!0}},2771:function(d,a,t){"use strict";d.exports=function(_,f,S,w,E){var L=f.model||p,C=f.view||p,O=f.projection||p,R=f._ortho||!1,q=_.bounds,P=(E=E||n(L,C,O,q,R)).axis;o(c,C,L),o(c,O,c);for(var U=v,N=0;N<3;++N)U[N].lo=1/0,U[N].hi=-1/0,U[N].pixelsPerDataUnit=1/0;var F=i(s(c,c));s(c,c);for(var j=0;j<3;++j){var G=(j+1)%3,te=(j+2)%3,J=m;e:for(N=0;N<2;++N){var X=[];if(P[j]<0!=!!N){J[j]=q[N][j];for(var Y=0;Y<2;++Y){J[G]=q[Y^N][G];for(var W=0;W<2;++W)J[te]=q[W^Y^N][te],X.push(J.slice())}var $=R?5:4;for(Y=$;Y===$;++Y){if(0===X.length)continue e;X=r.positive(X,F[Y])}for(Y=0;Y<X.length;++Y){var ne=y(m,c,te=X[Y],S,w);for(W=0;W<3;++W)U[W].lo=Math.min(U[W].lo,te[W]),U[W].hi=Math.max(U[W].hi,te[W]),W!==j&&(U[W].pixelsPerDataUnit=Math.min(U[W].pixelsPerDataUnit,Math.abs(ne[W])))}}}}return U};var i=t(5795),r=t(4670),n=t(2864),o=t(104),s=t(2142),u=t(6342),p=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function x(_,f,S){this.lo=_,this.hi=f,this.pixelsPerDataUnit=S}var g=[0,0,0,1],h=[0,0,0,1];function y(_,f,S,w,E){for(var L=0;L<3;++L){for(var C=g,O=h,R=0;R<3;++R)O[R]=C[R]=S[R];O[3]=C[3]=1,O[L]+=1,u(O,O,f),O[3]<0&&(_[L]=1/0),C[L]-=1,u(C,C,f),C[3]<0&&(_[L]=1/0);var q=(C[0]/C[3]-O[0]/O[3])*w,P=(C[1]/C[3]-O[1]/O[3])*E;_[L]=.25*Math.sqrt(q*q+P*P)}return _}var v=[new x(1/0,-1/0,1/0),new x(1/0,-1/0,1/0),new x(1/0,-1/0,1/0)],m=[0,0,0]},5827:function(d,a,t){"use strict";var i=t(5306),r=t(7498),n=t(5050),o=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(x,g,h,y,v){this.gl=x,this.type=g,this.handle=h,this.length=y,this.usage=v}var u=s.prototype;function p(x,g,h,y,v,m){var _=v.length*v.BYTES_PER_ELEMENT;if(m<0)return x.bufferData(g,v,y),_;if(_+m>h)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return x.bufferSubData(g,m,v),h}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(x,g){if("number"!=typeof g&&(g=-1),this.bind(),"object"==typeof x&&void 0!==x.shape){var h=x.dtype;if(o.indexOf(h)<0&&(h="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(h=gl.getExtension("OES_element_index_uint")&&"uint16"!==h?"uint32":"uint16"),h===x.dtype&&function(_,f){for(var S=1,w=f.length-1;w>=0;--w){if(f[w]!==S)return!1;S*=_[w]}return!0}(x.shape,x.stride))this.length=p(this.gl,this.type,this.length,this.usage,0===x.offset&&x.data.length===x.shape[0]?x.data:x.data.subarray(x.offset,x.shape[0]),g);else{var y=i.malloc(x.size,h),v=n(y,x.shape);r.assign(v,x),this.length=p(this.gl,this.type,this.length,this.usage,g<0?y:y.subarray(0,x.size),g),i.free(y)}}else if(Array.isArray(x)){var m;m=function c(x,g){for(var h=i.malloc(x.length,g),y=x.length,v=0;v<y;++v)h[v]=x[v];return h}(x,this.type===this.gl.ELEMENT_ARRAY_BUFFER?"uint16":"float32"),this.length=p(this.gl,this.type,this.length,this.usage,g<0?m:m.subarray(0,x.length),g),i.free(m)}else if("object"==typeof x&&"number"==typeof x.length)this.length=p(this.gl,this.type,this.length,this.usage,x,g);else{if("number"!=typeof x&&void 0!==x)throw new Error("gl-buffer: Invalid data type");if(g>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(x|=0)<=0&&(x=1),this.gl.bufferData(this.type,0|x,this.usage),this.length=x}},d.exports=function(x,g,h,y){if(y=y||x.DYNAMIC_DRAW,(h=h||x.ARRAY_BUFFER)!==x.ARRAY_BUFFER&&h!==x.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(y!==x.DYNAMIC_DRAW&&y!==x.STATIC_DRAW&&y!==x.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var v=x.createBuffer(),m=new s(x,h,v,0,y);return m.update(g),m}},1140:function(d,a,t){"use strict";var i=t(2858);d.exports=function(n,o){var s=n.positions,u=n.vectors,p={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(0===n.positions.length)return o&&(o[0]=[0,0,0],o[1]=[0,0,0]),p;for(var c=0,x=1/0,g=-1/0,h=1/0,y=-1/0,v=1/0,m=-1/0,_=null,f=null,S=[],w=1/0,E=!1,L=0;L<s.length;L++){var C=s[L];x=Math.min(C[0],x),g=Math.max(C[0],g),h=Math.min(C[1],h),y=Math.max(C[1],y),v=Math.min(C[2],v),m=Math.max(C[2],m);var O=u[L];if(i.length(O)>c&&(c=i.length(O)),L){var R=2*i.distance(_,C)/(i.length(f)+i.length(O));R?(w=Math.min(w,R),E=!1):E=!0}E||(_=C,f=O),S.push(O)}var P=[g,y,m];o&&(o[0]=[x,h,v],o[1]=P),0===c&&(c=1);var U=1/c;isFinite(w)||(w=1),p.vectorScale=w;var N=n.coneSize||.5;n.absoluteConeSize&&(N=n.absoluteConeSize*U),p.coneScale=N,L=0;for(var F=0;L<s.length;L++)for(var j=(C=s[L])[0],G=C[1],te=C[2],J=S[L],X=i.length(J)*U,Y=0;Y<8;Y++){p.positions.push([j,G,te,F++]),p.positions.push([j,G,te,F++]),p.positions.push([j,G,te,F++]),p.positions.push([j,G,te,F++]),p.positions.push([j,G,te,F++]),p.positions.push([j,G,te,F++]),p.vectors.push(J),p.vectors.push(J),p.vectors.push(J),p.vectors.push(J),p.vectors.push(J),p.vectors.push(J),p.vertexIntensity.push(X,X,X),p.vertexIntensity.push(X,X,X);var W=p.positions.length;p.cells.push([W-6,W-5,W-4],[W-3,W-2,W-1])}return p};var r=t(7234);d.exports.createMesh=t(5028),d.exports.createConeMesh=function(n,o){return d.exports.createMesh(n,o,{shaders:r,traceType:"cone"})}},5028:function(d,a,t){"use strict";var i=t(5158),r=t(5827),n=t(2944),o=t(8931),s=t(104),u=t(7437),p=t(5050),c=t(9156),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(y,v,m,_,f,S,w,E,L,C,O){this.gl=y,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=v,this.dirty=!0,this.triShader=m,this.pickShader=_,this.trianglePositions=f,this.triangleVectors=S,this.triangleColors=E,this.triangleUVs=L,this.triangleIds=w,this.triangleVAO=C,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=O,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=x,this._view=x,this._projection=x,this._resolution=[1,1]}var h=g.prototype;h.isOpaque=function(){return this.opacity>=1},h.isTransparent=function(){return this.opacity<1},h.pickSlots=1,h.setPickBase=function(y){this.pickId=y},h.update=function(y){y=y||{};var v=this.gl;this.dirty=!0,"lightPosition"in y&&(this.lightPosition=y.lightPosition),"opacity"in y&&(this.opacity=y.opacity),"ambient"in y&&(this.ambientLight=y.ambient),"diffuse"in y&&(this.diffuseLight=y.diffuse),"specular"in y&&(this.specularLight=y.specular),"roughness"in y&&(this.roughness=y.roughness),"fresnel"in y&&(this.fresnel=y.fresnel),void 0!==y.tubeScale&&(this.tubeScale=y.tubeScale),void 0!==y.vectorScale&&(this.vectorScale=y.vectorScale),void 0!==y.coneScale&&(this.coneScale=y.coneScale),void 0!==y.coneOffset&&(this.coneOffset=y.coneOffset),y.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=v.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=v.LINEAR,this.texture.setPixels(function(ne){for(var re=c({colormap:ne,nshades:256,format:"rgba"}),oe=new Uint8Array(1024),ue=0;ue<256;++ue){for(var xe=re[ue],Me=0;Me<3;++Me)oe[4*ue+Me]=xe[Me];oe[4*ue+3]=255*xe[3]}return p(oe,[256,256,4],[4,0,1])}(y.colormap)),this.texture.generateMipmap());var m=y.cells,_=y.positions,f=y.vectors;if(_&&m&&f){var S=[],w=[],E=[],L=[],C=[];this.cells=m,this.positions=_,this.vectors=f;var O=y.meshColor||[1,1,1,1],R=y.vertexIntensity,q=1/0,P=-1/0;if(R)if(y.vertexIntensityBounds)q=+y.vertexIntensityBounds[0],P=+y.vertexIntensityBounds[1];else for(var U=0;U<R.length;++U){var N=R[U];q=Math.min(q,N),P=Math.max(P,N)}else for(U=0;U<_.length;++U)N=_[U][2],q=Math.min(q,N),P=Math.max(P,N);for(this.intensity=R||function(ne){for(var re=ne.length,oe=new Array(re),ue=0;ue<re;++ue)oe[ue]=ne[ue][2];return oe}(_),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],U=0;U<_.length;++U)for(var F=_[U],j=0;j<3;++j)!isNaN(F[j])&&isFinite(F[j])&&(this.bounds[0][j]=Math.min(this.bounds[0][j],F[j]),this.bounds[1][j]=Math.max(this.bounds[1][j],F[j]));var G=0;e:for(U=0;U<m.length;++U){var te=m[U];if(3===te.length){for(j=0;j<3;++j){F=_[X=te[j]];for(var J=0;J<3;++J)if(isNaN(F[J])||!isFinite(F[J]))continue e}for(j=0;j<3;++j){var X;F=_[X=te[2-j]],S.push(F[0],F[1],F[2],F[3]);var Y=f[X];w.push(Y[0],Y[1],Y[2],Y[3]||0);var W;E.push(O[0],O[1],O[2],3===O.length?1:O[3]),L.push((W=R?[(R[X]-q)/(P-q),0]:[(F[2]-q)/(P-q),0])[0],W[1]),C.push(U)}G+=1}}this.triangleCount=G,this.trianglePositions.update(S),this.triangleVectors.update(w),this.triangleColors.update(E),this.triangleUVs.update(L),this.triangleIds.update(new Uint32Array(C))}},h.drawTransparent=h.draw=function(y){for(var v=this.gl,m=(y=y||{}).model||x,_=y.view||x,f=y.projection||x,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],w=0;w<3;++w)S[0][w]=Math.max(S[0][w],this.clipBounds[0][w]),S[1][w]=Math.min(S[1][w],this.clipBounds[1][w]);var E={model:m,view:_,projection:f,inverseModel:x.slice(),clipBounds:S,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};E.inverseModel=u(E.inverseModel,E.model),v.disable(v.CULL_FACE),this.texture.bind(0);var L=new Array(16);for(s(L,E.view,E.model),s(L,E.projection,L),u(L,L),w=0;w<3;++w)E.eyePosition[w]=L[12+w]/L[15];var C=L[15];for(w=0;w<3;++w)C+=this.lightPosition[w]*L[4*w+3];for(w=0;w<3;++w){for(var O=L[12+w],R=0;R<3;++R)O+=L[4*R+w]*this.lightPosition[R];E.lightPosition[w]=O/C}if(this.triangleCount>0){var q=this.triShader;q.bind(),q.uniforms=E,this.triangleVAO.bind(),v.drawArrays(v.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},h.drawPick=function(y){for(var v=this.gl,m=(y=y||{}).model||x,_=y.view||x,f=y.projection||x,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],w=0;w<3;++w)S[0][w]=Math.max(S[0][w],this.clipBounds[0][w]),S[1][w]=Math.min(S[1][w],this.clipBounds[1][w]);this._model=[].slice.call(m),this._view=[].slice.call(_),this._projection=[].slice.call(f),this._resolution=[v.drawingBufferWidth,v.drawingBufferHeight];var E={model:m,view:_,projection:f,clipBounds:S,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},L=this.pickShader;L.bind(),L.uniforms=E,this.triangleCount>0&&(this.triangleVAO.bind(),v.drawArrays(v.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},h.pick=function(y){if(!y||y.id!==this.pickId)return null;var v=y.value[0]+256*y.value[1]+65536*y.value[2],m=this.cells[v],_=this.positions[m[1]].slice(0,3),f={position:_,dataCoordinate:_,index:Math.floor(m[1]/48)};return"cone"===this.traceType?f.index=Math.floor(m[1]/48):"streamtube"===this.traceType&&(f.intensity=this.intensity[m[1]],f.velocity=this.vectors[m[1]].slice(0,3),f.divergence=this.vectors[m[1]][3],f.index=v),f},h.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},d.exports=function(y,v,m){var _=m.shaders;1===arguments.length&&(y=(v=y).gl);var U,N,f=((N=i(y,(U=_).meshShader.vertex,U.meshShader.fragment,null,U.meshShader.attributes)).attributes.position.location=0,N.attributes.color.location=2,N.attributes.uv.location=3,N.attributes.vector.location=4,N),S=function(P,U){var N=i(P,U.pickShader.vertex,U.pickShader.fragment,null,U.pickShader.attributes);return N.attributes.position.location=0,N.attributes.id.location=1,N.attributes.vector.location=4,N}(y,_),w=o(y,p(new Uint8Array([255,255,255,255]),[1,1,4]));w.generateMipmap(),w.minFilter=y.LINEAR_MIPMAP_LINEAR,w.magFilter=y.LINEAR;var E=r(y),L=r(y),C=r(y),O=r(y),R=r(y),q=new g(y,w,f,S,E,L,R,C,O,n(y,[{buffer:E,type:y.FLOAT,size:4},{buffer:R,type:y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:C,type:y.FLOAT,size:4},{buffer:O,type:y.FLOAT,size:2},{buffer:L,type:y.FLOAT,size:4}]),m.traceType||"cone");return q.update(v),q}},7234:function(d,a,t){var i=t(6832),r=i(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),n=i(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),o=i(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);a.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},a.pickShader={vertex:o,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(d){d.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(d,a,t){var i=t(1950);d.exports=function(r){return i[r]}},3110:function(d,a,t){"use strict";d.exports=function(g){var h=g.gl,y=i(h),v=r(h,[{buffer:y,type:h.FLOAT,size:3,offset:0,stride:40},{buffer:y,type:h.FLOAT,size:4,offset:12,stride:40},{buffer:y,type:h.FLOAT,size:3,offset:28,stride:40}]),m=n(h);m.attributes.position.location=0,m.attributes.color.location=1,m.attributes.offset.location=2;var _=new s(h,y,v,m);return _.update(g),_};var i=t(5827),r=t(2944),n=t(7667),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(g,h,y,v){this.gl=g,this.shader=v,this.buffer=h,this.vao=y,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=s.prototype;function p(g,h){for(var y=0;y<3;++y)g[0][y]=Math.min(g[0][y],h[y]),g[1][y]=Math.max(g[1][y],h[y])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(g){var h=this.gl,y=this.shader.uniforms;this.shader.bind();var v=y.view=g.view||o,m=y.projection=g.projection||o;y.model=g.model||o,y.clipBounds=this.clipBounds,y.opacity=this.opacity;var E=(g._ortho?2:1)*this.pixelRatio*(m[3]*v[12]+m[7]*v[13]+m[11]*v[14]+m[15]*v[15])/h.drawingBufferHeight;this.vao.bind();for(var L=0;L<3;++L)h.lineWidth(this.lineWidth[L]*this.pixelRatio),y.capSize=this.capSize[L]*E,this.lineCount[L]&&h.drawArrays(h.LINES,this.lineOffset[L],this.lineCount[L]);this.vao.unbind()};var c=function(){for(var g=new Array(3),h=0;h<3;++h){for(var y=[],v=1;v<=2;++v)for(var m=-1;m<=1;m+=2){var _=[0,0,0];_[(v+h)%3]=m,y.push(_)}g[h]=y}return g}();function x(g,h,y,v){for(var m=c[v],_=0;_<m.length;++_){var f=m[_];g.push(h[0],h[1],h[2],y[0],y[1],y[2],y[3],f[0],f[1],f[2])}return m.length}u.update=function(g){"lineWidth"in(g=g||{})&&(this.lineWidth=g.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in g&&(this.capSize=g.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in g&&(this.opacity=+g.opacity,this.opacity<1&&(this.hasAlpha=!0));var h=g.color||[[0,0,0],[0,0,0],[0,0,0]],y=g.position,v=g.error;if(Array.isArray(h[0])||(h=[h,h,h]),y&&v){var m=[],_=y.length,f=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var S=0;S<3;++S){this.lineOffset[S]=f;e:for(var w=0;w<_;++w){for(var E=y[w],L=0;L<3;++L)if(isNaN(E[L])||!isFinite(E[L]))continue e;var C,O=v[w],R=h[S];Array.isArray(R[0])&&(R=h[w]),3===R.length?R=[R[0],R[1],R[2],1]:4===R.length&&(R=[R[0],R[1],R[2],R[3]],!this.hasAlpha&&R[3]<1&&(this.hasAlpha=!0)),isNaN(O[0][S])||isNaN(O[1][S])||(O[0][S]<0&&((C=E.slice())[S]+=O[0][S],m.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,C[0],C[1],C[2],R[0],R[1],R[2],R[3],0,0,0),p(this.bounds,C),f+=2+x(m,C,R,S)),O[1][S]>0&&((C=E.slice())[S]+=O[1][S],m.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,C[0],C[1],C[2],R[0],R[1],R[2],R[3],0,0,0),p(this.bounds,C),f+=2+x(m,C,R,S)))}this.lineCount[S]=f-this.lineOffset[S]}this.buffer.update(m)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(d,a,t){"use strict";var i=t(6832),r=t(5158),n=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);d.exports=function(s){return r(s,n,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(d,a,t){"use strict";var i=t(8931);d.exports=function(_,f,S,w){r||(r=_.FRAMEBUFFER_UNSUPPORTED,n=_.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,o=_.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=_.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var E=_.getExtension("WEBGL_draw_buffers");if(!u&&E&&function(U,N){var F=U.getParameter(N.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(F+1);for(var j=0;j<=F;++j){for(var G=new Array(F),te=0;te<j;++te)G[te]=U.COLOR_ATTACHMENT0+te;for(te=j;te<F;++te)G[te]=U.NONE;u[j]=G}}(_,E),Array.isArray(f)&&(w=S,S=0|f[1],f=0|f[0]),"number"!=typeof f)throw new Error("gl-fbo: Missing shape parameter");var L=_.getParameter(_.MAX_RENDERBUFFER_SIZE);if(f<0||f>L||S<0||S>L)throw new Error("gl-fbo: Parameters are too large for FBO");var C=1;if("color"in(w=w||{})){if((C=Math.max(0|w.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(C>1){if(!E)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(C>_.getParameter(E.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+C+" draw buffers")}}var O=_.UNSIGNED_BYTE,R=_.getExtension("OES_texture_float");if(w.float&&C>0){if(!R)throw new Error("gl-fbo: Context does not support floating point textures");O=_.FLOAT}else w.preferFloat&&C>0&&R&&(O=_.FLOAT);var q=!0;"depth"in w&&(q=!!w.depth);var P=!1;return"stencil"in w&&(P=!!w.stencil),new y(_,f,S,O,C,q,P,E)};var r,n,o,s,u=null;function p(_){return[_.getParameter(_.FRAMEBUFFER_BINDING),_.getParameter(_.RENDERBUFFER_BINDING),_.getParameter(_.TEXTURE_BINDING_2D)]}function c(_,f){_.bindFramebuffer(_.FRAMEBUFFER,f[0]),_.bindRenderbuffer(_.RENDERBUFFER,f[1]),_.bindTexture(_.TEXTURE_2D,f[2])}function x(_){switch(_){case r:throw new Error("gl-fbo: Framebuffer unsupported");case n:throw new Error("gl-fbo: Framebuffer incomplete attachment");case o:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function g(_,f,S,w,E,L){if(!w)return null;var C=i(_,f,S,E,w);return C.magFilter=_.NEAREST,C.minFilter=_.NEAREST,C.mipSamples=1,C.bind(),_.framebufferTexture2D(_.FRAMEBUFFER,L,_.TEXTURE_2D,C.handle,0),C}function h(_,f,S,w,E){var L=_.createRenderbuffer();return _.bindRenderbuffer(_.RENDERBUFFER,L),_.renderbufferStorage(_.RENDERBUFFER,w,f,S),_.framebufferRenderbuffer(_.FRAMEBUFFER,E,_.RENDERBUFFER,L),L}function y(_,f,S,w,E,L,C,O){this.gl=_,this._shape=[0|f,0|S],this._destroyed=!1,this._ext=O,this.color=new Array(E);for(var R=0;R<E;++R)this.color[R]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=w,this._useDepth=L,this._useStencil=C;var q=this,P=[0|f,0|S];Object.defineProperties(P,{0:{get:function(){return q._shape[0]},set:function(U){return q.width=U}},1:{get:function(){return q._shape[1]},set:function(U){return q.height=U}}}),this._shapeVector=P,function(U){var N=p(U.gl),F=U.gl,j=U.handle=F.createFramebuffer(),G=U._shape[0],te=U._shape[1],J=U.color.length,X=U._ext,Y=U._useStencil,W=U._useDepth,$=U._colorType;F.bindFramebuffer(F.FRAMEBUFFER,j);for(var ne=0;ne<J;++ne)U.color[ne]=g(F,G,te,$,F.RGBA,F.COLOR_ATTACHMENT0+ne);0===J?(U._color_rb=h(F,G,te,F.RGBA4,F.COLOR_ATTACHMENT0),X&&X.drawBuffersWEBGL(u[0])):J>1&&X.drawBuffersWEBGL(u[J]);var re=F.getExtension("WEBGL_depth_texture");re?Y?U.depth=g(F,G,te,re.UNSIGNED_INT_24_8_WEBGL,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):W&&(U.depth=g(F,G,te,F.UNSIGNED_SHORT,F.DEPTH_COMPONENT,F.DEPTH_ATTACHMENT)):W&&Y?U._depth_rb=h(F,G,te,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):W?U._depth_rb=h(F,G,te,F.DEPTH_COMPONENT16,F.DEPTH_ATTACHMENT):Y&&(U._depth_rb=h(F,G,te,F.STENCIL_INDEX,F.STENCIL_ATTACHMENT));var oe=F.checkFramebufferStatus(F.FRAMEBUFFER);if(oe!==F.FRAMEBUFFER_COMPLETE){for(U._destroyed=!0,F.bindFramebuffer(F.FRAMEBUFFER,null),F.deleteFramebuffer(U.handle),U.handle=null,U.depth&&(U.depth.dispose(),U.depth=null),U._depth_rb&&(F.deleteRenderbuffer(U._depth_rb),U._depth_rb=null),ne=0;ne<U.color.length;++ne)U.color[ne].dispose(),U.color[ne]=null;U._color_rb&&(F.deleteRenderbuffer(U._color_rb),U._color_rb=null),c(F,N),x(oe)}c(F,N)}(this)}var v=y.prototype;function m(_,f,S){if(_._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(_._shape[0]!==f||_._shape[1]!==S){var w=_.gl,E=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(f<0||f>E||S<0||S>E)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");_._shape[0]=f,_._shape[1]=S;for(var L=p(w),C=0;C<_.color.length;++C)_.color[C].shape=_._shape;_._color_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,_._color_rb),w.renderbufferStorage(w.RENDERBUFFER,w.RGBA4,_._shape[0],_._shape[1])),_.depth&&(_.depth.shape=_._shape),_._depth_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,_._depth_rb),_._useDepth&&_._useStencil?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_STENCIL,_._shape[0],_._shape[1]):_._useDepth?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_COMPONENT16,_._shape[0],_._shape[1]):_._useStencil&&w.renderbufferStorage(w.RENDERBUFFER,w.STENCIL_INDEX,_._shape[0],_._shape[1])),w.bindFramebuffer(w.FRAMEBUFFER,_.handle);var O=w.checkFramebufferStatus(w.FRAMEBUFFER);O!==w.FRAMEBUFFER_COMPLETE&&(_.dispose(),c(w,L),x(O)),c(w,L)}}Object.defineProperties(v,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(_){if(Array.isArray(_)||(_=[0|_,0|_]),2!==_.length)throw new Error("gl-fbo: Shape vector must be length 2");var f=0|_[0],S=0|_[1];return m(this,f,S),[f,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(_){return m(this,_|=0,this._shape[1]),_},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(_){return m(this,this._shape[0],_|=0),_},enumerable:!1}}),v.bind=function(){if(!this._destroyed){var _=this.gl;_.bindFramebuffer(_.FRAMEBUFFER,this.handle),_.viewport(0,0,this._shape[0],this._shape[1])}},v.dispose=function(){if(!this._destroyed){this._destroyed=!0;var _=this.gl;_.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(_.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var f=0;f<this.color.length;++f)this.color[f].dispose(),this.color[f]=null;this._color_rb&&(_.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(d,a,t){var i=t(8974).sprintf,r=t(6603),n=t(9365),o=t(8008);d.exports=function(s,u,p){"use strict";var c=n(u)||"of unknown name (see npm glsl-shader-name)",x="unknown type";void 0!==p&&(x=p===r.FRAGMENT_SHADER?"fragment":"vertex");for(var g=i("Error compiling %s shader %s:\n",x,c),h=i("%s%s",g,s),y=s.split("\n"),v={},m=0;m<y.length;m++){var _=y[m];if(""!==_&&"\0"!==_){var f=parseInt(_.split(":")[2]);if(isNaN(f))throw new Error(i("Could not parse error: %s",_));v[f]=_}}var S=o(u).split("\n");for(m=0;m<S.length;m++)if((v[m+3]||v[m+2]||v[m+1])&&(g+=S[m]+"\n",v[m+1])){var w=v[m+1];w=w.substr(w.split(":",3).join(":").length+1).trim(),g+=i("^^^ %s\n\n",w)}return{long:g.trim(),short:h.trim()}}},6386:function(d,a,t){"use strict";d.exports=function(h,y){var v=h.gl,m=new p(h,o(v,u.vertex,u.fragment),o(v,u.pickVertex,u.pickFragment),s(v),s(v),s(v),s(v));return m.update(y),h.addObject(m),m};var i=t(5070),r=t(9560),n=t(5306),o=t(5158),s=t(5827),u=t(1292);function p(h,y,v,m,_,f,S){this.plot=h,this.shader=y,this.pickShader=v,this.positionBuffer=m,this.weightBuffer=_,this.colorBuffer=f,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c,h,y,x=p.prototype,g=[0,0,1,0,0,1,1,0,1,1,0,1];x.draw=(c=[1,0,0,0,1,0,0,0,1],function(){var h=this.plot,y=this.shader,v=this.bounds,m=this.numVertices;if(!(m<=0)){var _=h.gl,f=h.dataBox,w=v[3]-v[1],E=f[2]-f[0],L=f[3]-f[1];c[0]=2*(v[2]-v[0])/E,c[4]=2*w/L,c[6]=2*(v[0]-f[0])/E-1,c[7]=2*(v[1]-f[1])/L-1,y.bind();var C=y.uniforms;C.viewTransform=c,C.shape=this.shape;var O=y.attributes;this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(_.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),O.color.pointer(_.UNSIGNED_BYTE,!0),_.drawArrays(_.TRIANGLES,0,m)}}),x.drawPick=(h=[1,0,0,0,1,0,0,0,1],y=[0,0,0,0],function(v){var m=this.plot,_=this.pickShader,f=this.bounds,S=this.numVertices;if(!(S<=0)){var w=m.gl,E=m.dataBox,C=f[3]-f[1],O=E[2]-E[0],R=E[3]-E[1];h[0]=2*(f[2]-f[0])/O,h[4]=2*C/R,h[6]=2*(f[0]-E[0])/O-1,h[7]=2*(f[1]-E[1])/R-1;for(var q=0;q<4;++q)y[q]=v>>8*q&255;this.pickOffset=v,_.bind();var P=_.uniforms;P.viewTransform=h,P.pickOffset=y,P.shape=this.shape;var U=_.attributes;return this.positionBuffer.bind(),U.position.pointer(),this.weightBuffer.bind(),U.weight.pointer(w.UNSIGNED_BYTE,!1),this.idBuffer.bind(),U.pickId.pointer(w.UNSIGNED_BYTE,!1),w.drawArrays(w.TRIANGLES,0,S),v+this.shape[0]*this.shape[1]}}),x.pick=function(h,y,v){var m=this.pickOffset;if(v<m||v>=m+this.shape[0]*this.shape[1])return null;var f=v-m;return{object:this,pointId:f,dataCoord:[this.xData[f%this.shape[0]],this.yData[f/this.shape[0]|0]]}},x.update=function(h){var y=(h=h||{}).shape||[0,0],v=h.x||r(y[0]),m=h.y||r(y[1]),_=h.z||new Float32Array(y[0]*y[1]),f=!1!==h.zsmooth;this.xData=v,this.yData=m;var S,w,E,L,C=h.colorLevels||[0],O=h.colorValues||[0,0,0,1],R=C.length,q=this.bounds;f?(S=q[0]=v[0],w=q[1]=m[0],E=q[2]=v[v.length-1],L=q[3]=m[m.length-1]):(S=q[0]=v[0]+(v[1]-v[0])/2,w=q[1]=m[0]+(m[1]-m[0])/2,E=q[2]=v[v.length-1]+(v[v.length-1]-v[v.length-2])/2,L=q[3]=m[m.length-1]+(m[m.length-1]-m[m.length-2])/2);var P=1/(E-S),U=1/(L-w),N=y[0],F=y[1];this.shape=[N,F];var j=(f?(N-1)*(F-1):N*F)*(g.length>>>1);this.numVertices=j;for(var G=n.mallocUint8(4*j),te=n.mallocFloat32(2*j),J=n.mallocUint8(2*j),X=n.mallocUint32(j),Y=0,W=f?N-1:N,$=f?F-1:F,ne=0;ne<$;++ne){var re,oe;f?(re=U*(m[ne]-w),oe=U*(m[ne+1]-w)):(re=ne<F-1?U*(m[ne]-(m[ne+1]-m[ne])/2-w):U*(m[ne]-(m[ne]-m[ne-1])/2-w),oe=ne<F-1?U*(m[ne]+(m[ne+1]-m[ne])/2-w):U*(m[ne]+(m[ne]-m[ne-1])/2-w));for(var ue=0;ue<W;++ue){var xe,Me;f?(xe=P*(v[ue]-S),Me=P*(v[ue+1]-S)):(xe=ue<N-1?P*(v[ue]-(v[ue+1]-v[ue])/2-S):P*(v[ue]-(v[ue]-v[ue-1])/2-S),Me=ue<N-1?P*(v[ue]+(v[ue+1]-v[ue])/2-S):P*(v[ue]+(v[ue]-v[ue-1])/2-S));for(var me=0;me<g.length;me+=2){var pe,ge,Pe,_e,we=g[me],se=g[me+1],ae=_[f?(ne+se)*N+(ue+we):ne*N+ue],fe=i.le(C,ae);if(fe<0)pe=O[0],ge=O[1],Pe=O[2],_e=O[3];else if(fe===R-1)pe=O[4*R-4],ge=O[4*R-3],Pe=O[4*R-2],_e=O[4*R-1];else{var Ee=(ae-C[fe])/(C[fe+1]-C[fe]),ke=1-Ee,be=4*fe,Ie=4*(fe+1);pe=ke*O[be]+Ee*O[Ie],ge=ke*O[be+1]+Ee*O[Ie+1],Pe=ke*O[be+2]+Ee*O[Ie+2],_e=ke*O[be+3]+Ee*O[Ie+3]}G[4*Y]=255*pe,G[4*Y+1]=255*ge,G[4*Y+2]=255*Pe,G[4*Y+3]=255*_e,te[2*Y]=.5*xe+.5*Me,te[2*Y+1]=.5*re+.5*oe,J[2*Y]=we,J[2*Y+1]=se,X[Y]=ne*N+ue,Y+=1}}}this.positionBuffer.update(te),this.weightBuffer.update(J),this.colorBuffer.update(G),this.idBuffer.update(X),n.free(te),n.free(G),n.free(J),n.free(X)},x.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(d,a,t){"use strict";var i=t(6832);d.exports={fragment:i(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:i(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},248:function(d,a,t){var i=t(6832),r=t(5158),n=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];a.createShader=function(p){return r(p,n,o,null,u)},a.createPickShader=function(p){return r(p,n,s,null,u)}},6086:function(d,a,t){"use strict";d.exports=function(S){var w=S.gl||S.scene&&S.scene.gl,E=x(w);E.attributes.position.location=0,E.attributes.nextPosition.location=1,E.attributes.arcLength.location=2,E.attributes.lineWidth.location=3,E.attributes.color.location=4;var L=g(w);L.attributes.position.location=0,L.attributes.nextPosition.location=1,L.attributes.arcLength.location=2,L.attributes.lineWidth.location=3,L.attributes.color.location=4;for(var C=i(w),O=r(w,[{buffer:C,size:3,offset:0,stride:48},{buffer:C,size:3,offset:12,stride:48},{buffer:C,size:1,offset:24,stride:48},{buffer:C,size:1,offset:28,stride:48},{buffer:C,size:4,offset:32,stride:48}]),R=p(new Array(1024),[256,1,4]),q=0;q<1024;++q)R.data[q]=255;var P=n(w,R);P.wrap=w.REPEAT;var U=new _(w,E,L,C,O,P);return U.update(S),U};var i=t(5827),r=t(2944),n=t(8931),o=new Uint8Array(4),s=new Float32Array(o.buffer),u=t(5070),p=t(5050),c=t(248),x=c.createShader,g=c.createPickShader,h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function y(S,w){for(var E=0,L=0;L<3;++L){var C=S[L]-w[L];E+=C*C}return Math.sqrt(E)}function v(S){for(var w=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)w[0][E]=Math.max(S[0][E],w[0][E]),w[1][E]=Math.min(S[1][E],w[1][E]);return w}function m(S,w,E,L){this.arcLength=S,this.position=w,this.index=E,this.dataCoordinate=L}function _(S,w,E,L,C,O){this.gl=S,this.shader=w,this.pickShader=E,this.buffer=L,this.vao=C,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=O,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var f=_.prototype;f.isTransparent=function(){return this.hasAlpha},f.isOpaque=function(){return!this.hasAlpha},f.pickSlots=1,f.setPickBase=function(S){this.pickId=S},f.drawTransparent=f.draw=function(S){if(this.vertexCount){var w=this.gl,E=this.shader,L=this.vao;E.bind(),E.uniforms={model:S.model||h,view:S.view||h,projection:S.projection||h,clipBounds:v(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[w.drawingBufferWidth,w.drawingBufferHeight],pixelRatio:this.pixelRatio},L.bind(),L.draw(w.TRIANGLE_STRIP,this.vertexCount),L.unbind()}},f.drawPick=function(S){if(this.vertexCount){var w=this.gl,E=this.pickShader,L=this.vao;E.bind(),E.uniforms={model:S.model||h,view:S.view||h,projection:S.projection||h,pickId:this.pickId,clipBounds:v(this.clipBounds),screenShape:[w.drawingBufferWidth,w.drawingBufferHeight],pixelRatio:this.pixelRatio},L.bind(),L.draw(w.TRIANGLE_STRIP,this.vertexCount),L.unbind()}},f.update=function(S){var w,E;this.dirty=!0;var L=!!S.connectGaps;"dashScale"in S&&(this.dashScale=S.dashScale),this.hasAlpha=!1,"opacity"in S&&(this.opacity=+S.opacity,this.opacity<1&&(this.hasAlpha=!0));var C=[],O=[],R=[],q=0,P=0,U=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],N=S.position||S.positions;if(N){var F=S.color||S.colors||[0,0,0,1],j=S.lineWidth||1,G=!1;e:for(w=1;w<N.length;++w){var te,J,X,Y=N[w-1],W=N[w];for(O.push(q),R.push(Y.slice()),E=0;E<3;++E){if(isNaN(Y[E])||isNaN(W[E])||!isFinite(Y[E])||!isFinite(W[E])){if(!L&&C.length>0){for(var $=0;$<24;++$)C.push(C[C.length-12]);P+=2,G=!0}continue e}U[0][E]=Math.min(U[0][E],Y[E],W[E]),U[1][E]=Math.max(U[1][E],Y[E],W[E])}Array.isArray(F[0])?(te=F.length>w-1?F[w-1]:F.length>0?F[F.length-1]:[0,0,0,1],J=F.length>w?F[w]:F.length>0?F[F.length-1]:[0,0,0,1]):te=J=F,3===te.length&&(te=[te[0],te[1],te[2],1]),3===J.length&&(J=[J[0],J[1],J[2],1]),!this.hasAlpha&&te[3]<1&&(this.hasAlpha=!0),X=Array.isArray(j)?j.length>w-1?j[w-1]:j.length>0?j[j.length-1]:[0,0,0,1]:j;var ne=q;if(q+=y(Y,W),G){for(E=0;E<2;++E)C.push(Y[0],Y[1],Y[2],W[0],W[1],W[2],ne,X,te[0],te[1],te[2],te[3]);P+=2,G=!1}C.push(Y[0],Y[1],Y[2],W[0],W[1],W[2],ne,X,te[0],te[1],te[2],te[3],Y[0],Y[1],Y[2],W[0],W[1],W[2],ne,-X,te[0],te[1],te[2],te[3],W[0],W[1],W[2],Y[0],Y[1],Y[2],q,-X,J[0],J[1],J[2],J[3],W[0],W[1],W[2],Y[0],Y[1],Y[2],q,X,J[0],J[1],J[2],J[3]),P+=4}}if(this.buffer.update(C),O.push(q),R.push(N[N.length-1].slice()),this.bounds=U,this.vertexCount=P,this.points=R,this.arcLength=O,"dashes"in S){var re=S.dashes.slice();for(re.unshift(0),w=1;w<re.length;++w)re[w]=re[w-1]+re[w];var oe=p(new Array(1024),[256,1,4]);for(w=0;w<256;++w){for(E=0;E<4;++E)oe.set(w,0,E,0);1&u.le(re,re[re.length-1]*w/255)?oe.set(w,0,0,0):oe.set(w,0,0,255)}this.texture.setPixels(oe)}},f.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},f.pick=function(S){if(!S||S.id!==this.pickId)return null;var N,F,j,w=(N=S.value[0],F=S.value[1],j=S.value[2],o[0]=0,o[1]=j,o[2]=F,o[3]=N,s[0]),E=u.le(this.arcLength,w);if(E<0)return null;if(E===this.arcLength.length-1)return new m(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),E);for(var L=this.points[E],C=this.points[Math.min(E+1,this.points.length-1)],O=(w-this.arcLength[E])/(this.arcLength[E+1]-this.arcLength[E]),R=1-O,q=[0,0,0],P=0;P<3;++P)q[P]=R*L[P]+O*C[P];var U=Math.min(O<.5?E:E+1,this.points.length-1);return new m(w,q,U,this.points[U])}},7332:function(d){d.exports=function(a){var t=new Float32Array(16);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}},9823:function(d){d.exports=function(){var a=new Float32Array(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},7787:function(d){d.exports=function(a){var t=a[0],i=a[1],r=a[2],n=a[3],o=a[4],s=a[5],u=a[6],p=a[7],c=a[8],x=a[9],g=a[10],h=a[11],y=a[12],v=a[13],m=a[14],_=a[15];return(t*s-i*o)*(g*_-h*m)-(t*u-r*o)*(x*_-h*v)+(t*p-n*o)*(x*m-g*v)+(i*u-r*s)*(c*_-h*y)-(i*p-n*s)*(c*m-g*y)+(r*p-n*u)*(c*v-x*y)}},5950:function(d){d.exports=function(a,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=i+i,u=r+r,p=n+n,c=i*s,x=r*s,g=r*u,h=n*s,y=n*u,v=n*p,m=o*s,_=o*u,f=o*p;return a[0]=1-g-v,a[1]=x+f,a[2]=h-_,a[3]=0,a[4]=x-f,a[5]=1-c-v,a[6]=y+m,a[7]=0,a[8]=h+_,a[9]=y-m,a[10]=1-c-g,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},7280:function(d){d.exports=function(a,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],u=r+r,p=n+n,c=o+o,x=r*u,g=r*p,h=r*c,y=n*p,v=n*c,m=o*c,_=s*u,f=s*p,S=s*c;return a[0]=1-(y+m),a[1]=g+S,a[2]=h-f,a[3]=0,a[4]=g-S,a[5]=1-(x+m),a[6]=v+_,a[7]=0,a[8]=h+f,a[9]=v-_,a[10]=1-(x+y),a[11]=0,a[12]=i[0],a[13]=i[1],a[14]=i[2],a[15]=1,a}},9947:function(d){d.exports=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},7437:function(d){d.exports=function(a,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],u=t[5],p=t[6],c=t[7],x=t[8],g=t[9],h=t[10],y=t[11],v=t[12],m=t[13],_=t[14],f=t[15],S=i*u-r*s,w=i*p-n*s,E=i*c-o*s,L=r*p-n*u,C=r*c-o*u,O=n*c-o*p,R=x*m-g*v,q=x*_-h*v,P=x*f-y*v,U=g*_-h*m,N=g*f-y*m,F=h*f-y*_,j=S*F-w*N+E*U+L*P-C*q+O*R;return j?(a[0]=(u*F-p*N+c*U)*(j=1/j),a[1]=(n*N-r*F-o*U)*j,a[2]=(m*O-_*C+f*L)*j,a[3]=(h*C-g*O-y*L)*j,a[4]=(p*P-s*F-c*q)*j,a[5]=(i*F-n*P+o*q)*j,a[6]=(_*E-v*O-f*w)*j,a[7]=(x*O-h*E+y*w)*j,a[8]=(s*N-u*P+c*R)*j,a[9]=(r*P-i*N-o*R)*j,a[10]=(v*C-m*E+f*S)*j,a[11]=(g*E-x*C-y*S)*j,a[12]=(u*q-s*U-p*R)*j,a[13]=(i*U-r*q+n*R)*j,a[14]=(m*w-v*L-_*S)*j,a[15]=(x*L-g*w+h*S)*j,a):null}},3012:function(d,a,t){var i=t(9947);d.exports=function(r,n,o,s){var u,p,c,x,g,h,y,v,m,_,f=n[0],S=n[1],w=n[2],E=s[0],L=s[1],C=s[2],O=o[0],R=o[1],q=o[2];return Math.abs(f-O)<1e-6&&Math.abs(S-R)<1e-6&&Math.abs(w-q)<1e-6?i(r):(y=f-O,v=S-R,m=w-q,u=L*(m*=_=1/Math.sqrt(y*y+v*v+m*m))-C*(v*=_),p=C*(y*=_)-E*m,c=E*v-L*y,(_=Math.sqrt(u*u+p*p+c*c))?(u*=_=1/_,p*=_,c*=_):(u=0,p=0,c=0),x=v*c-m*p,g=m*u-y*c,h=y*p-v*u,(_=Math.sqrt(x*x+g*g+h*h))?(x*=_=1/_,g*=_,h*=_):(x=0,g=0,h=0),r[0]=u,r[1]=x,r[2]=y,r[3]=0,r[4]=p,r[5]=g,r[6]=v,r[7]=0,r[8]=c,r[9]=h,r[10]=m,r[11]=0,r[12]=-(u*f+p*S+c*w),r[13]=-(x*f+g*S+h*w),r[14]=-(y*f+v*S+m*w),r[15]=1,r)}},104:function(d){d.exports=function(a,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],u=t[4],p=t[5],c=t[6],x=t[7],g=t[8],h=t[9],y=t[10],v=t[11],m=t[12],_=t[13],f=t[14],S=t[15],w=i[0],E=i[1],L=i[2],C=i[3];return a[0]=w*r+E*u+L*g+C*m,a[1]=w*n+E*p+L*h+C*_,a[2]=w*o+E*c+L*y+C*f,a[3]=w*s+E*x+L*v+C*S,a[4]=(w=i[4])*r+(E=i[5])*u+(L=i[6])*g+(C=i[7])*m,a[5]=w*n+E*p+L*h+C*_,a[6]=w*o+E*c+L*y+C*f,a[7]=w*s+E*x+L*v+C*S,a[8]=(w=i[8])*r+(E=i[9])*u+(L=i[10])*g+(C=i[11])*m,a[9]=w*n+E*p+L*h+C*_,a[10]=w*o+E*c+L*y+C*f,a[11]=w*s+E*x+L*v+C*S,a[12]=(w=i[12])*r+(E=i[13])*u+(L=i[14])*g+(C=i[15])*m,a[13]=w*n+E*p+L*h+C*_,a[14]=w*o+E*c+L*y+C*f,a[15]=w*s+E*x+L*v+C*S,a}},5268:function(d){d.exports=function(a,t,i,r,n,o,s){var u=1/(t-i),p=1/(r-n),c=1/(o-s);return a[0]=-2*u,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*p,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*c,a[11]=0,a[12]=(t+i)*u,a[13]=(n+r)*p,a[14]=(s+o)*c,a[15]=1,a}},1120:function(d){d.exports=function(a,t,i,r,n){var o=1/Math.tan(t/2),s=1/(r-n);return a[0]=o/i,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(n+r)*s,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*n*r*s,a[15]=0,a}},4422:function(d){d.exports=function(a,t,i,r){var n,o,s,u,p,c,x,g,h,y,v,m,_,f,S,w,E,L,C,O,R,q,P,U,N=r[0],F=r[1],j=r[2],G=Math.sqrt(N*N+F*F+j*j);return Math.abs(G)<1e-6?null:(N*=G=1/G,F*=G,j*=G,n=Math.sin(i),s=1-(o=Math.cos(i)),p=t[1],c=t[2],x=t[3],h=t[5],y=t[6],v=t[7],_=t[9],f=t[10],S=t[11],C=N*F*s-j*n,O=F*F*s+o,R=j*F*s+N*n,q=N*j*s+F*n,P=F*j*s-N*n,U=j*j*s+o,a[0]=(u=t[0])*(w=N*N*s+o)+(g=t[4])*(E=F*N*s+j*n)+(m=t[8])*(L=j*N*s-F*n),a[1]=p*w+h*E+_*L,a[2]=c*w+y*E+f*L,a[3]=x*w+v*E+S*L,a[4]=u*C+g*O+m*R,a[5]=p*C+h*O+_*R,a[6]=c*C+y*O+f*R,a[7]=x*C+v*O+S*R,a[8]=u*q+g*P+m*U,a[9]=p*q+h*P+_*U,a[10]=c*q+y*P+f*U,a[11]=x*q+v*P+S*U,t!==a&&(a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a)}},6109:function(d){d.exports=function(a,t,i){var r=Math.sin(i),n=Math.cos(i),o=t[4],s=t[5],u=t[6],p=t[7],c=t[8],x=t[9],g=t[10],h=t[11];return t!==a&&(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a[4]=o*n+c*r,a[5]=s*n+x*r,a[6]=u*n+g*r,a[7]=p*n+h*r,a[8]=c*n-o*r,a[9]=x*n-s*r,a[10]=g*n-u*r,a[11]=h*n-p*r,a}},7115:function(d){d.exports=function(a,t,i){var r=Math.sin(i),n=Math.cos(i),o=t[0],s=t[1],u=t[2],p=t[3],c=t[8],x=t[9],g=t[10],h=t[11];return t!==a&&(a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a[0]=o*n-c*r,a[1]=s*n-x*r,a[2]=u*n-g*r,a[3]=p*n-h*r,a[8]=o*r+c*n,a[9]=s*r+x*n,a[10]=u*r+g*n,a[11]=p*r+h*n,a}},5240:function(d){d.exports=function(a,t,i){var r=Math.sin(i),n=Math.cos(i),o=t[0],s=t[1],u=t[2],p=t[3],c=t[4],x=t[5],g=t[6],h=t[7];return t!==a&&(a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a[0]=o*n+c*r,a[1]=s*n+x*r,a[2]=u*n+g*r,a[3]=p*n+h*r,a[4]=c*n-o*r,a[5]=x*n-s*r,a[6]=g*n-u*r,a[7]=h*n-p*r,a}},3668:function(d){d.exports=function(a,t,i){var r=i[0],n=i[1],o=i[2];return a[0]=t[0]*r,a[1]=t[1]*r,a[2]=t[2]*r,a[3]=t[3]*r,a[4]=t[4]*n,a[5]=t[5]*n,a[6]=t[6]*n,a[7]=t[7]*n,a[8]=t[8]*o,a[9]=t[9]*o,a[10]=t[10]*o,a[11]=t[11]*o,a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a}},998:function(d){d.exports=function(a,t,i){var r,n,o,s,u,p,c,x,g,h,y,v,m=i[0],_=i[1],f=i[2];return t===a?(a[12]=t[0]*m+t[4]*_+t[8]*f+t[12],a[13]=t[1]*m+t[5]*_+t[9]*f+t[13],a[14]=t[2]*m+t[6]*_+t[10]*f+t[14],a[15]=t[3]*m+t[7]*_+t[11]*f+t[15]):(n=t[1],o=t[2],s=t[3],u=t[4],p=t[5],c=t[6],x=t[7],g=t[8],h=t[9],y=t[10],v=t[11],a[0]=r=t[0],a[1]=n,a[2]=o,a[3]=s,a[4]=u,a[5]=p,a[6]=c,a[7]=x,a[8]=g,a[9]=h,a[10]=y,a[11]=v,a[12]=r*m+u*_+g*f+t[12],a[13]=n*m+p*_+h*f+t[13],a[14]=o*m+c*_+y*f+t[14],a[15]=s*m+x*_+v*f+t[15]),a}},2142:function(d){d.exports=function(a,t){if(a===t){var i=t[1],r=t[2],n=t[3],o=t[6],s=t[7],u=t[11];a[1]=t[4],a[2]=t[8],a[3]=t[12],a[4]=i,a[6]=t[9],a[7]=t[13],a[8]=r,a[9]=o,a[11]=t[14],a[12]=n,a[13]=s,a[14]=u}else a[0]=t[0],a[1]=t[4],a[2]=t[8],a[3]=t[12],a[4]=t[1],a[5]=t[5],a[6]=t[9],a[7]=t[13],a[8]=t[2],a[9]=t[6],a[10]=t[10],a[11]=t[14],a[12]=t[3],a[13]=t[7],a[14]=t[11],a[15]=t[15];return a}},4340:function(d,a,t){"use strict";var i=t(957),r=t(7309);function n(u,p){for(var c=[0,0,0,0],x=0;x<4;++x)for(var g=0;g<4;++g)c[g]+=u[4*x+g]*p[x];return c}function o(u,p,c,x,g){for(var h=n(x,n(c,n(p,[u[0],u[1],u[2],1]))),y=0;y<3;++y)h[y]/=h[3];return[.5*g[0]*(1+h[0]),.5*g[1]*(1-h[1])]}function s(u,p){for(var c=[0,0,0],x=0;x<u.length;++x)for(var g=u[x],h=p[x],y=0;y<3;++y)c[y]+=h*g[y];return c}d.exports=function(u,p,c,x,g,h){if(1===u.length)return[0,u[0].slice()];for(var y=new Array(u.length),v=0;v<u.length;++v)y[v]=o(u[v],c,x,g,h);var m=0,_=1/0;for(v=0;v<y.length;++v){for(var f=0,S=0;S<2;++S)f+=Math.pow(y[v][S]-p[S],2);f<_&&(_=f,m=v)}var w=function(L,C){if(2===L.length){for(var O=0,R=0,q=0;q<2;++q)O+=Math.pow(C[q]-L[0][q],2),R+=Math.pow(C[q]-L[1][q],2);return(O=Math.sqrt(O))+(R=Math.sqrt(R))<1e-6?[1,0]:[R/(O+R),O/(R+O)]}if(3===L.length){var P=[0,0];return r(L[0],L[1],L[2],C,P),i(L,P)}return[]}(y,p),E=0;for(v=0;v<3;++v){if(w[v]<-.001||w[v]>1.0001)return null;E+=w[v]}return Math.abs(E-1)>.001?null:[m,s(u,w),w]}},2056:function(d,a,t){var i=t(6832),r=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),n=i(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),u=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),p=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),c=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),x=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),g=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),h=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),y=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);a.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},a.wireShader={vertex:o,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},a.pointShader={vertex:u,fragment:p,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},a.pickShader={vertex:c,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},a.pointPickShader={vertex:g,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},a.contourShader={vertex:h,fragment:y,attributes:[{name:"position",type:"vec3"}]}},8116:function(d,a,t){"use strict";var i=t(5158),r=t(5827),n=t(2944),o=t(8931),s=t(115),u=t(104),p=t(7437),c=t(5050),x=t(9156),g=t(7212),h=t(5306),y=t(2056),v=t(4340),m=y.meshShader,_=y.wireShader,f=y.pointShader,S=y.pickShader,w=y.pointPickShader,E=y.contourShader,L=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function C(F,j,G,te,J,X,Y,W,$,ne,re,oe,ue,xe,Me,me,pe,ge,Pe,_e,we,se,ae,fe,Ee,ke,be){this.gl=F,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=j,this.dirty=!0,this.triShader=G,this.lineShader=te,this.pointShader=J,this.pickShader=X,this.pointPickShader=Y,this.contourShader=W,this.trianglePositions=$,this.triangleColors=re,this.triangleNormals=ue,this.triangleUVs=oe,this.triangleIds=ne,this.triangleVAO=xe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Me,this.edgeColors=pe,this.edgeUVs=ge,this.edgeIds=me,this.edgeVAO=Pe,this.edgeCount=0,this.pointPositions=_e,this.pointColors=se,this.pointUVs=ae,this.pointSizes=fe,this.pointIds=we,this.pointVAO=Ee,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=ke,this.contourVAO=be,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=L,this._view=L,this._projection=L,this._resolution=[1,1]}var O=C.prototype;function R(F,j){if(!j||!j.length)return 1;for(var G=0;G<j.length;++G){if(j.length<2)return 1;if(j[G][0]===F)return j[G][1];if(j[G][0]>F&&G>0){var te=(j[G][0]-F)/(j[G][0]-j[G-1][0]);return j[G][1]*(1-te)+te*j[G-1][1]}}return 1}O.isOpaque=function(){return!this.hasAlpha},O.isTransparent=function(){return this.hasAlpha},O.pickSlots=1,O.setPickBase=function(F){this.pickId=F},O.highlight=function(F){if(F&&this.contourEnable){for(var j=g(this.cells,this.intensity,F.intensity),G=j.cells,te=j.vertexIds,J=j.vertexWeights,X=G.length,Y=h.mallocFloat32(6*X),W=0,$=0;$<X;++$)for(var ne=G[$],re=0;re<2;++re){var oe=ne[0];2===ne.length&&(oe=ne[re]);for(var Me=J[oe],me=1-Me,pe=this.positions[te[oe][0]],ge=this.positions[te[oe][1]],Pe=0;Pe<3;++Pe)Y[W++]=Me*pe[Pe]+me*ge[Pe]}this.contourCount=W/3|0,this.contourPositions.update(Y.subarray(0,W)),h.free(Y)}else this.contourCount=0},O.update=function(F){F=F||{};var j=this.gl;this.dirty=!0,"contourEnable"in F&&(this.contourEnable=F.contourEnable),"contourColor"in F&&(this.contourColor=F.contourColor),"lineWidth"in F&&(this.lineWidth=F.lineWidth),"lightPosition"in F&&(this.lightPosition=F.lightPosition),this.hasAlpha=!1,"opacity"in F&&(this.opacity=F.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in F&&(this.opacityscale=F.opacityscale,this.hasAlpha=!0),"ambient"in F&&(this.ambientLight=F.ambient),"diffuse"in F&&(this.diffuseLight=F.diffuse),"specular"in F&&(this.specularLight=F.specular),"roughness"in F&&(this.roughness=F.roughness),"fresnel"in F&&(this.fresnel=F.fresnel),F.texture?(this.texture.dispose(),this.texture=o(j,F.texture)):F.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=j.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=j.LINEAR,this.texture.setPixels(function(At,Pt){for(var kt=x({colormap:At,nshades:256,format:"rgba"}),Ze=new Uint8Array(1024),Xe=0;Xe<256;++Xe){for(var He=kt[Xe],We=0;We<3;++We)Ze[4*Xe+We]=He[We];Ze[4*Xe+3]=Pt?255*R(Xe/255,Pt):255*He[3]}return c(Ze,[256,256,4],[4,0,1])}(F.colormap,this.opacityscale)),this.texture.generateMipmap());var G=F.cells,te=F.positions;if(te&&G){var J=[],X=[],Y=[],W=[],$=[],ne=[],re=[],oe=[],ue=[],xe=[],Me=[],me=[],pe=[],ge=[];this.cells=G,this.positions=te;var Pe=F.vertexNormals,_e=F.cellNormals,we=void 0===F.vertexNormalsEpsilon?1e-6:F.vertexNormalsEpsilon;F.useFacetNormals&&!_e&&(_e=s.faceNormals(G,te,void 0===F.faceNormalsEpsilon?1e-6:F.faceNormalsEpsilon)),_e||Pe||(Pe=s.vertexNormals(G,te,we));var ae=F.vertexColors,fe=F.cellColors,Ee=F.meshColor||[1,1,1,1],ke=F.vertexUVs,be=F.vertexIntensity,Ie=F.cellUVs,Fe=F.cellIntensity,ce=1/0,Te=-1/0;if(!ke&&!Ie)if(be)if(F.vertexIntensityBounds)ce=+F.vertexIntensityBounds[0],Te=+F.vertexIntensityBounds[1];else for(var ve=0;ve<be.length;++ve){var Ce=be[ve];ce=Math.min(ce,Ce),Te=Math.max(Te,Ce)}else if(Fe)if(F.cellIntensityBounds)ce=+F.cellIntensityBounds[0],Te=+F.cellIntensityBounds[1];else for(ve=0;ve<Fe.length;++ve)Ce=Fe[ve],ce=Math.min(ce,Ce),Te=Math.max(Te,Ce);else for(ve=0;ve<te.length;++ve)Ce=te[ve][2],ce=Math.min(ce,Ce),Te=Math.max(Te,Ce);this.intensity=be||Fe||function(At){for(var Pt=At.length,kt=new Array(Pt),Ze=0;Ze<Pt;++Ze)kt[Ze]=At[Ze][2];return kt}(te),this.pickVertex=!(Fe||fe);var Re=F.pointSizes,Oe=F.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],ve=0;ve<te.length;++ve)for(var je=te[ve],qe=0;qe<3;++qe)!isNaN(je[qe])&&isFinite(je[qe])&&(this.bounds[0][qe]=Math.min(this.bounds[0][qe],je[qe]),this.bounds[1][qe]=Math.max(this.bounds[1][qe],je[qe]));var Je=0,it=0,Qe=0;e:for(ve=0;ve<G.length;++ve){var dt=G[ve];switch(dt.length){case 1:for(je=te[mt=dt[0]],qe=0;qe<3;++qe)if(isNaN(je[qe])||!isFinite(je[qe]))continue e;xe.push(je[0],je[1],je[2]),at=ae?ae[mt]:fe?fe[ve]:Ee,this.opacityscale&&be?X.push(at[0],at[1],at[2],this.opacity*R((be[mt]-ce)/(Te-ce),this.opacityscale)):3===at.length?Me.push(at[0],at[1],at[2],this.opacity):(Me.push(at[0],at[1],at[2],at[3]*this.opacity),at[3]<1&&(this.hasAlpha=!0)),me.push((st=ke?ke[mt]:be?[(be[mt]-ce)/(Te-ce),0]:Ie?Ie[ve]:Fe?[(Fe[ve]-ce)/(Te-ce),0]:[(je[2]-ce)/(Te-ce),0])[0],st[1]),pe.push(Re?Re[mt]:Oe),ge.push(ve),Qe+=1;break;case 2:for(qe=0;qe<2;++qe){je=te[mt=dt[qe]];for(var yt=0;yt<3;++yt)if(isNaN(je[yt])||!isFinite(je[yt]))continue e}for(qe=0;qe<2;++qe)je=te[mt=dt[qe]],ne.push(je[0],je[1],je[2]),at=ae?ae[mt]:fe?fe[ve]:Ee,this.opacityscale&&be?X.push(at[0],at[1],at[2],this.opacity*R((be[mt]-ce)/(Te-ce),this.opacityscale)):3===at.length?re.push(at[0],at[1],at[2],this.opacity):(re.push(at[0],at[1],at[2],at[3]*this.opacity),at[3]<1&&(this.hasAlpha=!0)),oe.push((st=ke?ke[mt]:be?[(be[mt]-ce)/(Te-ce),0]:Ie?Ie[ve]:Fe?[(Fe[ve]-ce)/(Te-ce),0]:[(je[2]-ce)/(Te-ce),0])[0],st[1]),ue.push(ve);it+=1;break;case 3:for(qe=0;qe<3;++qe)for(je=te[mt=dt[qe]],yt=0;yt<3;++yt)if(isNaN(je[yt])||!isFinite(je[yt]))continue e;for(qe=0;qe<3;++qe){var mt,at,st,Tt;je=te[mt=dt[2-qe]],J.push(je[0],je[1],je[2]),(at=ae?ae[mt]:fe?fe[ve]:Ee)?this.opacityscale&&be?X.push(at[0],at[1],at[2],this.opacity*R((be[mt]-ce)/(Te-ce),this.opacityscale)):3===at.length?X.push(at[0],at[1],at[2],this.opacity):(X.push(at[0],at[1],at[2],at[3]*this.opacity),at[3]<1&&(this.hasAlpha=!0)):X.push(.5,.5,.5,1),W.push((st=ke?ke[mt]:be?[(be[mt]-ce)/(Te-ce),0]:Ie?Ie[ve]:Fe?[(Fe[ve]-ce)/(Te-ce),0]:[(je[2]-ce)/(Te-ce),0])[0],st[1]),Y.push((Tt=Pe?Pe[mt]:_e[ve])[0],Tt[1],Tt[2]),$.push(ve)}Je+=1}}this.pointCount=Qe,this.edgeCount=it,this.triangleCount=Je,this.pointPositions.update(xe),this.pointColors.update(Me),this.pointUVs.update(me),this.pointSizes.update(pe),this.pointIds.update(new Uint32Array(ge)),this.edgePositions.update(ne),this.edgeColors.update(re),this.edgeUVs.update(oe),this.edgeIds.update(new Uint32Array(ue)),this.trianglePositions.update(J),this.triangleColors.update(X),this.triangleUVs.update(W),this.triangleNormals.update(Y),this.triangleIds.update(new Uint32Array($))}},O.drawTransparent=O.draw=function(F){for(var j=this.gl,G=(F=F||{}).model||L,te=F.view||L,J=F.projection||L,X=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Y=0;Y<3;++Y)X[0][Y]=Math.max(X[0][Y],this.clipBounds[0][Y]),X[1][Y]=Math.min(X[1][Y],this.clipBounds[1][Y]);var W={model:G,view:te,projection:J,inverseModel:L.slice(),clipBounds:X,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};W.inverseModel=p(W.inverseModel,W.model),j.disable(j.CULL_FACE),this.texture.bind(0);var $=new Array(16);for(u($,W.view,W.model),u($,W.projection,$),p($,$),Y=0;Y<3;++Y)W.eyePosition[Y]=$[12+Y]/$[15];var ne,re=$[15];for(Y=0;Y<3;++Y)re+=this.lightPosition[Y]*$[4*Y+3];for(Y=0;Y<3;++Y){for(var oe=$[12+Y],ue=0;ue<3;++ue)oe+=$[4*ue+Y]*this.lightPosition[ue];W.lightPosition[Y]=oe/re}this.triangleCount>0&&((ne=this.triShader).bind(),ne.uniforms=W,this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((ne=this.lineShader).bind(),ne.uniforms=W,this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ne=this.pointShader).bind(),ne.uniforms=W,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((ne=this.contourShader).bind(),ne.uniforms=W,this.contourVAO.bind(),j.drawArrays(j.LINES,0,this.contourCount),this.contourVAO.unbind())},O.drawPick=function(F){for(var j=this.gl,G=(F=F||{}).model||L,te=F.view||L,J=F.projection||L,X=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Y=0;Y<3;++Y)X[0][Y]=Math.max(X[0][Y],this.clipBounds[0][Y]),X[1][Y]=Math.min(X[1][Y],this.clipBounds[1][Y]);this._model=[].slice.call(G),this._view=[].slice.call(te),this._projection=[].slice.call(J),this._resolution=[j.drawingBufferWidth,j.drawingBufferHeight];var W,$={model:G,view:te,projection:J,clipBounds:X,pickId:this.pickId/255};(W=this.pickShader).bind(),W.uniforms=$,this.triangleCount>0&&(this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((W=this.pointPickShader).bind(),W.uniforms=$,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind())},O.pick=function(F){if(!F||F.id!==this.pickId)return null;for(var j=F.value[0]+256*F.value[1]+65536*F.value[2],G=this.cells[j],te=this.positions,J=new Array(G.length),X=0;X<G.length;++X)J[X]=te[G[X]];var Y=F.coord[0],W=F.coord[1];if(!this.pickVertex){var $=this.positions[G[0]],ne=this.positions[G[1]],re=this.positions[G[2]];return{_cellCenter:!0,position:[Y,W],index:j,cell:G,cellId:j,intensity:this.intensity[j],dataCoordinate:[($[0]+ne[0]+re[0])/3,($[1]+ne[1]+re[1])/3,($[2]+ne[2]+re[2])/3]}}var ue=v(J,[Y*this.pixelRatio,this._resolution[1]-W*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!ue)return null;var xe=ue[2],Me=0;for(X=0;X<G.length;++X)Me+=xe[X]*this.intensity[G[X]];return{position:ue[1],index:G[ue[0]],cell:G,cellId:j,intensity:Me,dataCoordinate:this.positions[G[ue[0]]]}},O.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},d.exports=function(F,j){if(1===arguments.length&&(F=(j=F).gl),!(F.getExtension("OES_standard_derivatives")||F.getExtension("MOZ_OES_standard_derivatives")||F.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var ce,G=((ce=i(F,m.vertex,m.fragment)).attributes.position.location=0,ce.attributes.color.location=2,ce.attributes.uv.location=3,ce.attributes.normal.location=4,ce),te=function(Fe){var ce=i(Fe,_.vertex,_.fragment);return ce.attributes.position.location=0,ce.attributes.color.location=2,ce.attributes.uv.location=3,ce}(F),J=function q(F){var j=i(F,f.vertex,f.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.pointSize.location=4,j}(F),X=function P(F){var j=i(F,S.vertex,S.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j}(F),Y=function U(F){var j=i(F,w.vertex,w.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j.attributes.pointSize.location=4,j}(F),W=function N(F){var j=i(F,E.vertex,E.fragment);return j.attributes.position.location=0,j}(F),$=o(F,c(new Uint8Array([255,255,255,255]),[1,1,4]));$.generateMipmap(),$.minFilter=F.LINEAR_MIPMAP_LINEAR,$.magFilter=F.LINEAR;var ne=r(F),re=r(F),oe=r(F),ue=r(F),xe=r(F),Me=n(F,[{buffer:ne,type:F.FLOAT,size:3},{buffer:xe,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:re,type:F.FLOAT,size:4},{buffer:oe,type:F.FLOAT,size:2},{buffer:ue,type:F.FLOAT,size:3}]),me=r(F),pe=r(F),ge=r(F),Pe=r(F),_e=n(F,[{buffer:me,type:F.FLOAT,size:3},{buffer:Pe,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:pe,type:F.FLOAT,size:4},{buffer:ge,type:F.FLOAT,size:2}]),we=r(F),se=r(F),ae=r(F),fe=r(F),Ee=r(F),ke=n(F,[{buffer:we,type:F.FLOAT,size:3},{buffer:Ee,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:se,type:F.FLOAT,size:4},{buffer:ae,type:F.FLOAT,size:2},{buffer:fe,type:F.FLOAT,size:1}]),be=r(F),Ie=new C(F,$,G,te,J,X,Y,W,ne,xe,re,oe,ue,Me,me,Pe,pe,ge,_e,we,Ee,se,ae,fe,ke,be,n(F,[{buffer:be,type:F.FLOAT,size:3}]));return Ie.update(j),Ie}},4554:function(d,a,t){"use strict";d.exports=function(c){var x=c.gl;return new o(c,i(x,[0,0,0,1,1,0,1,1]),r(x,n.boxVert,n.lineFrag))};var i=t(5827),r=t(5158),n=t(2709);function o(c,x,g){this.plot=c,this.vbo=x,this.shader=g}var s,u,p=o.prototype;p.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},p.drawBox=(s=[0,0],u=[0,0],function(c,x,g,h,y){var m=this.shader,_=this.plot.gl;s[0]=c,s[1]=x,u[0]=g,u[1]=h,m.uniforms.lo=s,m.uniforms.hi=u,m.uniforms.color=y,_.drawArrays(_.TRIANGLE_STRIP,0,4)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(d,a,t){"use strict";d.exports=function(v){var m=v.gl;return new s(v,i(m),r(m,o.gridVert,o.gridFrag),r(m,o.tickVert,o.gridFrag))};var i=t(5827),r=t(5158),n=t(5070),o=t(2709);function s(v,m,_,f){this.plot=v,this.vbo=m,this.shader=_,this.tickShader=f,this.ticks=[[],[]]}function u(v,m){return v-m}var p,c,x,g,h,v,m,_,f,S,w,y=s.prototype;y.draw=(p=[0,0],c=[0,0],x=[0,0],function(){for(var v=this.plot,m=this.vbo,_=this.shader,f=this.ticks,S=v.gl,w=v._tickBounds,E=v.dataBox,L=v.viewBox,C=v.gridLineWidth,O=v.gridLineColor,R=v.gridLineEnable,q=v.pixelRatio,P=0;P<2;++P){var U=w[P],F=.5*(E[P+2]+E[P]),j=E[P+2]-E[P];c[P]=2*(w[P+2]-U)/j,p[P]=2*(U-F)/j}_.bind(),m.bind(),_.attributes.dataCoord.pointer(),_.uniforms.dataShift=p,_.uniforms.dataScale=c;var G=0;for(P=0;P<2;++P){x[0]=x[1]=0,x[P]=1,_.uniforms.dataAxis=x,_.uniforms.lineWidth=C[P]/(L[P+2]-L[P])*q,_.uniforms.color=O[P];var te=6*f[P].length;R[P]&&te&&S.drawArrays(S.TRIANGLES,G,te),G+=te}}),y.drawTickMarks=(v=[0,0],m=[0,0],_=[1,0],f=[0,1],S=[0,0],w=[0,0],function(){for(var E=this.plot,L=this.vbo,C=this.tickShader,O=this.ticks,R=E.gl,q=E._tickBounds,P=E.dataBox,U=E.viewBox,N=E.pixelRatio,F=E.screenBox,j=F[2]-F[0],G=F[3]-F[1],te=U[2]-U[0],J=U[3]-U[1],X=0;X<2;++X){var Y=q[X],$=.5*(P[X+2]+P[X]),ne=P[X+2]-P[X];m[X]=2*(q[X+2]-Y)/ne,v[X]=2*(Y-$)/ne}m[0]*=te/j,v[0]*=te/j,m[1]*=J/G,v[1]*=J/G,C.bind(),L.bind(),C.attributes.dataCoord.pointer();var re=C.uniforms;re.dataShift=v,re.dataScale=m;var oe=E.tickMarkLength,ue=E.tickMarkWidth,xe=E.tickMarkColor,Me=6*O[0].length,me=Math.min(n.ge(O[0],(P[0]-q[0])/(q[2]-q[0]),u),O[0].length),pe=Math.min(n.gt(O[0],(P[2]-q[0])/(q[2]-q[0]),u),O[0].length),ge=0+6*me,Pe=6*Math.max(0,pe-me),_e=Math.min(n.ge(O[1],(P[1]-q[1])/(q[3]-q[1]),u),O[1].length),we=Math.min(n.gt(O[1],(P[3]-q[1])/(q[3]-q[1]),u),O[1].length),se=Me+6*_e,ae=6*Math.max(0,we-_e);S[0]=2*(U[0]-oe[1])/j-1,S[1]=(U[3]+U[1])/G-1,w[0]=oe[1]*N/j,w[1]=ue[1]*N/G,ae&&(re.color=xe[1],re.tickScale=w,re.dataAxis=f,re.screenOffset=S,R.drawArrays(R.TRIANGLES,se,ae)),S[0]=(U[2]+U[0])/j-1,S[1]=2*(U[1]-oe[0])/G-1,w[0]=ue[0]*N/j,w[1]=oe[0]*N/G,Pe&&(re.color=xe[0],re.tickScale=w,re.dataAxis=_,re.screenOffset=S,R.drawArrays(R.TRIANGLES,ge,Pe)),S[0]=2*(U[2]+oe[3])/j-1,S[1]=(U[3]+U[1])/G-1,w[0]=oe[3]*N/j,w[1]=ue[3]*N/G,ae&&(re.color=xe[3],re.tickScale=w,re.dataAxis=f,re.screenOffset=S,R.drawArrays(R.TRIANGLES,se,ae)),S[0]=(U[2]+U[0])/j-1,S[1]=2*(U[3]+oe[2])/G-1,w[0]=ue[2]*N/j,w[1]=oe[2]*N/G,Pe&&(re.color=xe[2],re.tickScale=w,re.dataAxis=_,re.screenOffset=S,R.drawArrays(R.TRIANGLES,ge,Pe))}),y.update=(g=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1],function(v){for(var m=v.ticks,_=v.bounds,f=new Float32Array(18*(m[0].length+m[1].length)),S=0,w=[[],[]],E=0;E<2;++E)for(var L=w[E],C=m[E],O=_[E],R=_[E+2],q=0;q<C.length;++q){var P=(C[q].x-O)/(R-O);L.push(P);for(var U=0;U<6;++U)f[S++]=P,f[S++]=g[U],f[S++]=h[U]}this.ticks=w,this.vbo.update(f)}),y.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(d,a,t){"use strict";d.exports=function(c){var x=c.gl;return new o(c,i(x,[-1,-1,-1,1,1,-1,1,1]),r(x,n.lineVert,n.lineFrag))};var i=t(5827),r=t(5158),n=t(2709);function o(c,x,g){this.plot=c,this.vbo=x,this.shader=g}var s,u,p=o.prototype;p.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},p.drawLine=(s=[0,0],u=[0,0],function(c,x,g,h,y,v){var m=this.plot,_=this.shader,f=m.gl;s[0]=c,s[1]=x,u[0]=g,u[1]=h,_.uniforms.start=s,_.uniforms.end=u,_.uniforms.width=y*m.pixelRatio,_.uniforms.color=v,f.drawArrays(f.TRIANGLE_STRIP,0,4)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(d,a,t){"use strict";var i=t(6832),r=i(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);d.exports={lineVert:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:r,textVert:i(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:r,gridVert:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:r,boxVert:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},5613:function(d,a,t){"use strict";d.exports=function(m){var _=m.gl;return new u(m,i(_),r(_,s.textVert,s.textFrag))};var i=t(5827),r=t(5158),n=t(6946),o=t(5070),s=t(2709);function u(m,_,f){this.plot=m,this.vbo=_,this.shader=f,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var p,c,x,g,h,y,m,_,v=u.prototype;v.drawTicks=(p=[0,0],c=[0,0],x=[0,0],function(m){var _=this.plot,f=this.shader,S=this.tickX[m],w=this.tickOffset[m],E=_.gl,L=_.viewBox,C=_.dataBox,O=_.screenBox,R=_.pixelRatio,q=_.tickEnable,P=_.tickPad,U=_.tickColor,N=_.tickAngle,F=_.labelEnable,j=_.labelPad,G=_.labelColor,te=_.labelAngle,J=this.labelOffset[m],X=this.labelCount[m],Y=o.lt(S,C[m]),W=o.le(S,C[m+2]);p[0]=p[1]=0,p[m]=1,c[m]=(L[2+m]+L[m])/(O[2+m]-O[m])-1;var $=2/O[2+(1^m)]-O[1^m];c[1^m]=$*L[1^m]-1,q[m]&&(c[1^m]-=$*R*P[m],Y<W&&w[W]>w[Y]&&(f.uniforms.dataAxis=p,f.uniforms.screenOffset=c,f.uniforms.color=U[m],f.uniforms.angle=N[m],E.drawArrays(E.TRIANGLES,w[Y],w[W]-w[Y]))),F[m]&&X&&(c[1^m]-=$*R*j[m],f.uniforms.dataAxis=x,f.uniforms.screenOffset=c,f.uniforms.color=G[m],f.uniforms.angle=te[m],E.drawArrays(E.TRIANGLES,J,X)),c[1^m]=$*L[2+(1^m)]-1,q[m+2]&&(c[1^m]+=$*R*P[m+2],Y<W&&w[W]>w[Y]&&(f.uniforms.dataAxis=p,f.uniforms.screenOffset=c,f.uniforms.color=U[m+2],f.uniforms.angle=N[m+2],E.drawArrays(E.TRIANGLES,w[Y],w[W]-w[Y]))),F[m+2]&&X&&(c[1^m]+=$*R*j[m+2],f.uniforms.dataAxis=x,f.uniforms.screenOffset=c,f.uniforms.color=G[m+2],f.uniforms.angle=te[m+2],E.drawArrays(E.TRIANGLES,J,X))}),v.drawTitle=(m=[0,0],_=[0,0],function(){var f=this.plot,S=this.shader,w=f.gl,E=f.screenBox,L=f.titleCenter,C=f.titleAngle,O=f.titleColor,R=f.pixelRatio;if(this.titleCount){for(var q=0;q<2;++q)_[q]=2*(L[q]*R-E[q])/(E[2+q]-E[q])-1;S.bind(),S.uniforms.dataAxis=m,S.uniforms.screenOffset=_,S.uniforms.angle=C,S.uniforms.color=O,w.drawArrays(w.TRIANGLES,this.titleOffset,this.titleCount)}}),v.bind=(g=[0,0],h=[0,0],y=[0,0],function(){var m=this.plot,_=this.shader,f=m._tickBounds,S=m.dataBox,w=m.screenBox,E=m.viewBox;_.bind();for(var L=0;L<2;++L){var C=f[L],R=.5*(S[L+2]+S[L]),q=S[L+2]-S[L],U=E[L+2]-E[L],F=w[L+2]-w[L];h[L]=2*(f[L+2]-C)/q*U/F,g[L]=2*(C-R)/q*U/F}y[1]=2*m.pixelRatio/(w[3]-w[1]),y[0]=y[1]*(w[3]-w[1])/(w[2]-w[0]),_.uniforms.dataScale=h,_.uniforms.dataShift=g,_.uniforms.textScale=y,this.vbo.bind(),_.attributes.textCoordinate.pointer()}),v.update=function(m){var _,f,S,w,E,L=[],C=m.ticks,O=m.bounds;for(E=0;E<2;++E){var R=[Math.floor(L.length/3)],q=[-1/0],P=C[E];for(_=0;_<P.length;++_){var U=P[_],N=U.x,j=U.font||"sans-serif";w=U.fontSize||12;for(var G=1/(O[E+2]-O[E]),te=O[E],J=U.text.split("\n"),X=0;X<J.length;X++)for(S=n(j,J[X]).data,f=0;f<S.length;f+=2)L.push(S[f]*w,-S[f+1]*w-X*w*1.2,(N-te)*G);R.push(Math.floor(L.length/3)),q.push(N)}this.tickOffset[E]=R,this.tickX[E]=q}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(L.length/3),S=n(m.labelFont[E],m.labels[E],{textAlign:"center"}).data,w=m.labelSize[E],_=0;_<S.length;_+=2)L.push(S[_]*w,-S[_+1]*w,0);this.labelCount[E]=Math.floor(L.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(L.length/3),S=n(m.titleFont,m.title).data,w=m.titleSize,_=0;_<S.length;_+=2)L.push(S[_]*w,-S[_+1]*w,0);this.titleCount=Math.floor(L.length/3)-this.titleOffset,this.vbo.update(L)},v.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(d,a,t){"use strict";d.exports=function(g){var h=g.gl,y=new u(h,i(h,[h.drawingBufferWidth,h.drawingBufferHeight]));return y.grid=r(y),y.text=n(y),y.line=o(y),y.box=s(y),y.update(g),y};var i=t(2611),r=t(3016),n=t(5613),o=t(1154),s=t(4554);function u(g,h){this.gl=g,this.pickBuffer=h,this.screenBox=[0,0,g.drawingBufferWidth,g.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var p=u.prototype;function c(g){for(var h=g.slice(),y=0;y<h.length;++y)h[y]=h[y].slice();return h}function x(g,h){return g.x-h.x}p.setDirty=function(){this.dirty=this.pickDirty=!0},p.setOverlayDirty=function(){this.dirty=!0},p.nextDepthValue=function(){return this._depthCounter++/65536},p.draw=function(){var g=this.gl,h=this.screenBox,y=this.viewBox,v=this.dataBox,m=this.pixelRatio,_=this.grid,f=this.line,S=this.text,w=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,g.bindFramebuffer(g.FRAMEBUFFER,null),g.enable(g.SCISSOR_TEST),g.disable(g.DEPTH_TEST),g.depthFunc(g.LESS),g.depthMask(!1),g.enable(g.BLEND),g.blendEquation(g.FUNC_ADD,g.FUNC_ADD),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),this.borderColor){g.scissor(h[0],h[1],h[2]-h[0],h[3]-h[1]);var E=this.borderColor;g.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT)}g.scissor(y[0],y[1],y[2]-y[0],y[3]-y[1]),g.viewport(y[0],y[1],y[2]-y[0],y[3]-y[1]);var L=this.backgroundColor;g.clearColor(L[0]*L[3],L[1]*L[3],L[2]*L[3],L[3]),g.clear(g.COLOR_BUFFER_BIT),_.draw();var C=this.zeroLineEnable,O=this.zeroLineColor,R=this.zeroLineWidth;if(C[0]||C[1]){f.bind();for(var q=0;q<2;++q)if(C[q]&&v[q]<=0&&v[q+2]>=0){var P=h[q]-v[q]*(h[q+2]-h[q])/(v[q+2]-v[q]);0===q?f.drawLine(P,h[1],P,h[3],R[q],O[q]):f.drawLine(h[0],P,h[2],P,R[q],O[q])}}for(q=0;q<w.length;++q)w[q].draw();g.viewport(h[0],h[1],h[2]-h[0],h[3]-h[1]),g.scissor(h[0],h[1],h[2]-h[0],h[3]-h[1]),this.grid.drawTickMarks(),f.bind();var U=this.borderLineEnable,N=this.borderLineWidth,F=this.borderLineColor;for(U[1]&&f.drawLine(y[0],y[1]-.5*N[1]*m,y[0],y[3]+.5*N[3]*m,N[1],F[1]),U[0]&&f.drawLine(y[0]-.5*N[0]*m,y[1],y[2]+.5*N[2]*m,y[1],N[0],F[0]),U[3]&&f.drawLine(y[2],y[1]-.5*N[1]*m,y[2],y[3]+.5*N[3]*m,N[3],F[3]),U[2]&&f.drawLine(y[0]-.5*N[0]*m,y[3],y[2]+.5*N[2]*m,y[3],N[2],F[2]),S.bind(),q=0;q<2;++q)S.drawTicks(q);this.titleEnable&&S.drawTitle();var j=this.overlays;for(q=0;q<j.length;++q)j[q].draw();g.disable(g.SCISSOR_TEST),g.disable(g.BLEND),g.depthMask(!0)}},p.drawPick=function(){if(!this.static){var g=this.pickBuffer;this._pickTimeout=null,g.begin();for(var h=1,y=this.objects,v=0;v<y.length;++v)h=y[v].drawPick(h);g.end()}},p.pick=function(g,h){if(!this.static){var y=this.pixelRatio,v=this.pickPixelRatio,m=this.viewBox,_=0|Math.round((g-m[0]/y)*v),f=0|Math.round((h-m[1]/y)*v),S=this.pickBuffer.query(_,f,this.pickRadius);if(!S)return null;for(var w=S.id+(S.value[0]<<8)+(S.value[1]<<16)+(S.value[2]<<24),E=this.objects,L=0;L<E.length;++L){var C=E[L].pick(_,f,w);if(C)return C}return null}},p.setScreenBox=function(g){var h=this.screenBox,y=this.pixelRatio;h[0]=0|Math.round(g[0]*y),h[1]=0|Math.round(g[1]*y),h[2]=0|Math.round(g[2]*y),h[3]=0|Math.round(g[3]*y),this.setDirty()},p.setDataBox=function(g){var h=this.dataBox;(h[0]!==g[0]||h[1]!==g[1]||h[2]!==g[2]||h[3]!==g[3])&&(h[0]=g[0],h[1]=g[1],h[2]=g[2],h[3]=g[3],this.setDirty())},p.setViewBox=function(g){var h=this.pixelRatio,y=this.viewBox;y[0]=0|Math.round(g[0]*h),y[1]=0|Math.round(g[1]*h),y[2]=0|Math.round(g[2]*h),y[3]=0|Math.round(g[3]*h);var v=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((g[2]-g[0])*v),0|Math.round((g[3]-g[1])*v)],this.setDirty()},p.update=function(g){var h=this.gl;this.pixelRatio=(g=g||{}).pixelRatio||1;var y=this.pixelRatio;this.pickPixelRatio=Math.max(y,1),this.setScreenBox(g.screenBox||[0,0,h.drawingBufferWidth/y,h.drawingBufferHeight/y]),this.setViewBox(g.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/y,.125*(this.screenBox[3]-this.screenBox[1])/y,.875*(this.screenBox[2]-this.screenBox[0])/y,.875*(this.screenBox[3]-this.screenBox[1])/y]);var v=this.viewBox,m=(v[2]-v[0])/(v[3]-v[1]);this.setDataBox(g.dataBox||[-10,-10/m,10,10/m]),this.borderColor=!1!==g.borderColor&&(g.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(g.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(g.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(g.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(g.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(g.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(g.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(g.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(g.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(g.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(g.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(g.titleCenter||[.5*(v[0]+v[2])/y,(v[3]+120)/y]).slice(),this.titleEnable=!("titleEnable"in g)||!!g.titleEnable,this.titleAngle=g.titleAngle||0,this.titleColor=(g.titleColor||[0,0,0,1]).slice(),this.labelPad=(g.labelPad||[15,15,15,15]).slice(),this.labelAngle=(g.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(g.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(g.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(g.tickPad||[15,15,15,15]).slice(),this.tickAngle=(g.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(g.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(g.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(g.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(g.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(g.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var _=g.ticks||[[],[]],f=this._tickBounds;f[0]=f[1]=1/0,f[2]=f[3]=-1/0;for(var S=0;S<2;++S){var w=_[S].slice(0);0!==w.length&&(w.sort(x),f[S]=Math.min(f[S],w[0].x),f[S+2]=Math.max(f[S+2],w[w.length-1].x))}this.grid.update({bounds:f,ticks:_}),this.text.update({bounds:f,ticks:_,labels:g.labels||["x","y"],labelSize:g.labelSize||[12,12],labelFont:g.labelFont||["sans-serif","sans-serif"],title:g.title||"",titleSize:g.titleSize||18,titleFont:g.titleFont||"sans-serif"}),this.static=!!g.static,this.setDirty()},p.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var g=this.objects.length-1;g>=0;--g)this.objects[g].dispose();for(this.objects.length=0,g=this.overlays.length-1;g>=0;--g)this.overlays[g].dispose();this.overlays.length=0,this.gl=null},p.addObject=function(g){this.objects.indexOf(g)<0&&(this.objects.push(g),this.setDirty())},p.removeObject=function(g){for(var h=this.objects,y=0;y<h.length;++y)if(h[y]===g){h.splice(y,1),this.setDirty();break}},p.addOverlay=function(g){this.overlays.indexOf(g)<0&&(this.overlays.push(g),this.setOverlayDirty())},p.removeOverlay=function(g){for(var h=this.overlays,y=0;y<h.length;++y)if(h[y]===g){h.splice(y,1),this.setOverlayDirty();break}}},4296:function(d,a,t){"use strict";d.exports=function(p,c){p=p||document.body;var x=[.01,1/0];"distanceLimits"in(c=c||{})&&(x[0]=c.distanceLimits[0],x[1]=c.distanceLimits[1]),"zoomMin"in c&&(x[0]=c.zoomMin),"zoomMax"in c&&(x[1]=c.zoomMax);var g=r({center:c.center||[0,0,0],up:c.up||[0,1,0],eye:c.eye||[0,0,10],mode:c.mode||"orbit",distanceLimits:x}),h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y=0,v=p.clientWidth,m=p.clientHeight,_={keyBindingMode:"rotate",enableWheel:!0,view:g,element:p,delay:c.delay||16,rotateSpeed:c.rotateSpeed||1,zoomSpeed:c.zoomSpeed||1,translateSpeed:c.translateSpeed||1,flipX:!!c.flipX,flipY:!!c.flipY,modes:g.modes,_ortho:c._ortho||c.projection&&"orthographic"===c.projection.type||!1,tick:function(){var f=i(),S=this.delay,w=f-2*S;g.idle(f-S),g.recalcMatrix(w),g.flush(f-(100+2*S));for(var E=!0,L=g.computedMatrix,C=0;C<16;++C)E=E&&h[C]===L[C],h[C]=L[C];var O=p.clientWidth===v&&p.clientHeight===m;return v=p.clientWidth,m=p.clientHeight,E?!O:(y=Math.exp(g.computedRadius[0]),!0)},lookAt:function(f,S,w){g.lookAt(g.lastT(),f,S,w)},rotate:function(f,S,w){g.rotate(g.lastT(),f,S,w)},pan:function(f,S,w){g.pan(g.lastT(),f,S,w)},translate:function(f,S,w){g.translate(g.lastT(),f,S,w)}};return Object.defineProperties(_,{matrix:{get:function(){return g.computedMatrix},set:function(f){return g.setMatrix(g.lastT(),f),g.computedMatrix},enumerable:!0},mode:{get:function(){return g.getMode()},set:function(f){var S=g.computedUp.slice(),w=g.computedEye.slice(),E=g.computedCenter.slice();if(g.setMode(f),"turntable"===f){var L=i();g._active.lookAt(L,w,E,S),g._active.lookAt(L+500,w,E,[0,0,1]),g._active.flush(L)}return g.getMode()},enumerable:!0},center:{get:function(){return g.computedCenter},set:function(f){return g.lookAt(g.lastT(),null,f),g.computedCenter},enumerable:!0},eye:{get:function(){return g.computedEye},set:function(f){return g.lookAt(g.lastT(),f),g.computedEye},enumerable:!0},up:{get:function(){return g.computedUp},set:function(f){return g.lookAt(g.lastT(),null,null,f),g.computedUp},enumerable:!0},distance:{get:function(){return y},set:function(f){return g.setDistance(g.lastT(),f),f},enumerable:!0},distanceLimits:{get:function(){return g.getDistanceLimits(x)},set:function(f){return g.setDistanceLimits(f),f},enumerable:!0}}),p.addEventListener("contextmenu",function(f){return f.preventDefault(),!1}),_._lastX=-1,_._lastY=-1,_._lastMods={shift:!1,control:!1,alt:!1,meta:!1},_.enableMouseListeners=function(){function f(S,w,E,L){var C=_.keyBindingMode;if(!1!==C){var O="rotate"===C,R="pan"===C,q="zoom"===C,P=!!L.control,U=!!L.alt,N=!!L.shift,F=!!(1&S),j=!!(2&S),G=!!(4&S),te=1/p.clientHeight,J=te*(w-_._lastX),X=te*(E-_._lastY),Y=_.flipX?1:-1,W=_.flipY?1:-1,$=Math.PI*_.rotateSpeed,ne=i();if(-1!==_._lastX&&-1!==_._lastY&&((O&&F&&!P&&!U&&!N||F&&!P&&!U&&N)&&g.rotate(ne,Y*$*J,-W*$*X,0),(R&&F&&!P&&!U&&!N||j||F&&P&&!U&&!N)&&g.pan(ne,-_.translateSpeed*J*y,_.translateSpeed*X*y,0),q&&F&&!P&&!U&&!N||G||F&&!P&&U&&!N)){var re=-_.zoomSpeed*X/window.innerHeight*(ne-g.lastT())*100;g.pan(ne,0,0,y*(Math.exp(re)-1))}return _._lastX=w,_._lastY=E,_._lastMods=L,!0}}_.mouseListener=n(p,f),p.addEventListener("touchstart",function(S){var w=s(S.changedTouches[0],p);f(0,w[0],w[1],_._lastMods),f(1,w[0],w[1],_._lastMods)},!!u&&{passive:!0}),p.addEventListener("touchmove",function(S){var w=s(S.changedTouches[0],p);f(1,w[0],w[1],_._lastMods),S.preventDefault()},!!u&&{passive:!1}),p.addEventListener("touchend",function(S){f(0,_._lastX,_._lastY,_._lastMods)},!!u&&{passive:!0}),_.wheelListener=o(p,function(S,w){if(!1!==_.keyBindingMode&&_.enableWheel){var E=_.flipX?1:-1,L=_.flipY?1:-1,C=i();if(Math.abs(S)>Math.abs(w))g.rotate(C,0,0,-S*E*Math.PI*_.rotateSpeed/window.innerWidth);else if(!_._ortho){var O=-_.zoomSpeed*L*w/window.innerHeight*(C-g.lastT())/20;g.pan(C,0,0,y*(Math.exp(O)-1))}}},!0)},_.enableMouseListeners(),_};var i=t(8161),r=t(1152),n=t(6145),o=t(6475),s=t(2565),u=t(5233)},8245:function(d,a,t){var i=t(6832),r=t(5158),n=i(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),o=i(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);d.exports=function(s){return r(s,n,o,null,[{name:"position",type:"vec2"}])}},1059:function(d,a,t){"use strict";var i=t(4296),r=t(7453),n=t(2771),o=t(6496),s=t(2611),u=t(4234),p=t(8126),c=t(6145),x=t(1120),g=t(5268),h=t(8245),y=t(2321)({tablet:!0,featureDetect:!0});function v(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function m(f){var S=Math.round(Math.log(Math.abs(f))/Math.log(10));if(S<0){var w=Math.round(Math.pow(10,-S));return Math.ceil(f*w)/w}return S>0?(w=Math.round(Math.pow(10,S)),Math.ceil(f/w)*w):Math.ceil(f)}function _(f){return"boolean"!=typeof f||f}d.exports={createScene:function(f){(f=f||{}).camera=f.camera||{};var S=f.canvas;S||(S=document.createElement("canvas"),f.container?f.container.appendChild(S):document.body.appendChild(S));var w=f.gl;if(w||(f.glOptions&&(y=!!f.glOptions.preserveDrawingBuffer),w=function(Pe,_e){var we=null;try{(we=Pe.getContext("webgl",_e))||(we=Pe.getContext("experimental-webgl",_e))}catch{return null}return we}(S,f.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:y})),!w)throw new Error("webgl not supported");var E=f.bounds||[[-10,-10,-10],[10,10,10]],L=new v,C=u(w,w.drawingBufferWidth,w.drawingBufferHeight,{preferFloat:!y}),O=h(w),R=f.cameraObject&&!0===f.cameraObject._ortho||f.camera.projection&&"orthographic"===f.camera.projection.type||!1,q={eye:f.camera.eye||[2,0,0],center:f.camera.center||[0,0,0],up:f.camera.up||[0,1,0],zoomMin:f.camera.zoomMax||.1,zoomMax:f.camera.zoomMin||100,mode:f.camera.mode||"turntable",_ortho:R},P=f.axes||{},U=r(w,P);U.enable=!P.disable;var F=o(w,f.spikes||{}),j=[],G=[],te=[],J=[],X=!0,Y=!0,W={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},$=(Y=!0,[w.drawingBufferWidth,w.drawingBufferHeight]),ne=f.cameraObject||i(S,q),re={gl:w,contextLost:!1,pixelRatio:f.pixelRatio||1,canvas:S,selection:L,camera:ne,axes:U,axesPixels:null,spikes:F,bounds:E,objects:j,shape:$,aspect:f.aspectRatio||[1,1,1],pickRadius:f.pickRadius||10,zNear:f.zNear||.01,zFar:f.zFar||1e3,fovy:f.fovy||Math.PI/4,clearColor:f.clearColor||[0,0,0,0],autoResize:_(f.autoResize),autoBounds:_(f.autoBounds),autoScale:!!f.autoScale,autoCenter:_(f.autoCenter),clipToBounds:_(f.clipToBounds),snapToData:!!f.snapToData,onselect:f.onselect||null,onrender:f.onrender||null,onclick:f.onclick||null,cameraParams:W,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Pe){this.aspect[0]=Pe.x,this.aspect[1]=Pe.y,this.aspect[2]=Pe.z,Y=!0},setBounds:function(Pe,_e){this.bounds[0][Pe]=_e.min,this.bounds[1][Pe]=_e.max},setClearColor:function(Pe){this.clearColor=Pe},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},oe=[w.drawingBufferWidth/re.pixelRatio|0,w.drawingBufferHeight/re.pixelRatio|0];function ue(){if(!re._stopped&&re.autoResize){var Pe=S.parentNode,_e=1,we=1;Pe&&Pe!==document.body?(_e=Pe.clientWidth,we=Pe.clientHeight):(_e=window.innerWidth,we=window.innerHeight);var se=0|Math.ceil(_e*re.pixelRatio),ae=0|Math.ceil(we*re.pixelRatio);if(se!==S.width||ae!==S.height){S.width=se,S.height=ae;var fe=S.style;fe.position=fe.position||"absolute",fe.left="0px",fe.top="0px",fe.width=_e+"px",fe.height=we+"px",X=!0}}}function xe(){for(var Pe=j.length,_e=J.length,we=0;we<_e;++we)te[we]=0;e:for(we=0;we<Pe;++we){var se=j[we],ae=se.pickSlots;if(ae){for(var fe=0;fe<_e;++fe)if(te[fe]+ae<255){G[we]=fe,se.setPickBase(te[fe]+1),te[fe]+=ae;continue e}var Ee=s(w,$);G[we]=_e,J.push(Ee),te.push(ae),se.setPickBase(1),_e+=1}else G[we]=-1}for(;_e>0&&0===te[_e-1];)te.pop(),J.pop().dispose()}function Me(){if(re.contextLost)return!0;w.isContextLost()&&(re.contextLost=!0,re.mouseListener.enabled=!1,re.selection.object=null,re.oncontextloss&&re.oncontextloss())}re.autoResize&&ue(),window.addEventListener("resize",ue),re.update=function(Pe){re._stopped||(Pe=Pe||{},X=!0,Y=!0)},re.add=function(Pe){re._stopped||(Pe.axes=U,j.push(Pe),G.push(-1),X=!0,Y=!0,xe())},re.remove=function(Pe){if(!re._stopped){var _e=j.indexOf(Pe);_e<0||(j.splice(_e,1),G.pop(),X=!0,Y=!0,xe())}},re.dispose=function(){if(!re._stopped&&(re._stopped=!0,window.removeEventListener("resize",ue),S.removeEventListener("webglcontextlost",Me),re.mouseListener.enabled=!1,!re.contextLost)){U.dispose(),F.dispose();for(var Pe=0;Pe<j.length;++Pe)j[Pe].dispose();for(C.dispose(),Pe=0;Pe<J.length;++Pe)J[Pe].dispose();O.dispose(),w=null,U=null,F=null,j=[]}},re._mouseRotating=!1,re._prevButtons=0,re.enableMouseListeners=function(){re.mouseListener=c(S,function(Pe,_e,we){if(!re._stopped){var se=J.length,ae=j.length,fe=L.object;L.distance=1/0,L.mouse[0]=_e,L.mouse[1]=we,L.object=null,L.screen=null,L.dataCoordinate=L.dataPosition=null;var Ee=!1;if(Pe&&re._prevButtons)re._mouseRotating=!0;else{re._mouseRotating&&(Y=!0),re._mouseRotating=!1;for(var ke=0;ke<se;++ke){var be=J[ke].query(_e,oe[1]-we-1,re.pickRadius);if(be){if(be.distance>L.distance)continue;for(var Ie=0;Ie<ae;++Ie){var Fe=j[Ie];if(G[Ie]===ke){var ce=Fe.pick(be);ce&&(L.buttons=Pe,L.screen=be.coord,L.distance=be.distance,L.object=Fe,L.index=ce.distance,L.dataPosition=ce.position,L.dataCoordinate=ce.dataCoordinate,L.data=ce,Ee=!0)}}}}}fe&&fe!==L.object&&(fe.highlight&&fe.highlight(null),X=!0),L.object&&(L.object.highlight&&L.object.highlight(L.data),X=!0),(Ee=Ee||L.object!==fe)&&re.onselect&&re.onselect(L),1&Pe&&!(1&re._prevButtons)&&re.onclick&&re.onclick(L),re._prevButtons=Pe}})},S.addEventListener("webglcontextlost",Me);var me=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],pe=[me[0].slice(),me[1].slice()];function ge(){if(!Me()){ue();var Pe=re.camera.tick();W.view=re.camera.matrix,X=X||Pe,Y=Y||Pe,U.pixelRatio=re.pixelRatio,F.pixelRatio=re.pixelRatio;var _e=j.length,we=me[0],se=me[1];we[0]=we[1]=we[2]=1/0,se[0]=se[1]=se[2]=-1/0;for(var ae=0;ae<_e;++ae){(Oe=j[ae]).pixelRatio=re.pixelRatio,Oe.axes=re.axes,X=X||!!Oe.dirty,Y=Y||!!Oe.dirty;var fe=Oe.bounds;if(fe)for(var Ee=fe[0],ke=fe[1],be=0;be<3;++be)we[be]=Math.min(we[be],Ee[be]),se[be]=Math.max(se[be],ke[be])}var Ie=re.bounds;if(re.autoBounds)for(be=0;be<3;++be){if(se[be]<we[be])we[be]=-1,se[be]=1;else{we[be]===se[be]&&(we[be]-=1,se[be]+=1);var Fe=.05*(se[be]-we[be]);we[be]=we[be]-Fe,se[be]=se[be]+Fe}Ie[0][be]=we[be],Ie[1][be]=se[be]}var ce=!1;for(be=0;be<3;++be)ce=ce||pe[0][be]!==Ie[0][be]||pe[1][be]!==Ie[1][be],pe[0][be]=Ie[0][be],pe[1][be]=Ie[1][be];if(Y=Y||ce,X=X||ce){if(ce){var Te=[0,0,0];for(ae=0;ae<3;++ae)Te[ae]=m((Ie[1][ae]-Ie[0][ae])/10);U.update(U.autoTicks?{bounds:Ie,tickSpacing:Te}:{bounds:Ie})}var ve=w.drawingBufferWidth,Ce=w.drawingBufferHeight;for($[0]=ve,$[1]=Ce,oe[0]=0|Math.max(ve/re.pixelRatio,1),oe[1]=0|Math.max(Ce/re.pixelRatio,1),function(je,qe){var Je=je.bounds,it=je.cameraParams,Qe=it.projection,dt=it.model,at=je.zNear,st=je.zFar,Tt=je.fovy,At=je.gl.drawingBufferWidth/je.gl.drawingBufferHeight;qe?(g(Qe,-At,At,-1,1,at,st),it._ortho=!0):(x(Qe,Tt,At,at,st),it._ortho=!1);for(var Pt=0;Pt<16;++Pt)dt[Pt]=0;dt[15]=1;var kt=0;for(Pt=0;Pt<3;++Pt)kt=Math.max(kt,Je[1][Pt]-Je[0][Pt]);for(Pt=0;Pt<3;++Pt)dt[5*Pt]=je.autoScale?je.aspect[Pt]/(Je[1][Pt]-Je[0][Pt]):1/kt,je.autoCenter&&(dt[12+Pt]=.5*-dt[5*Pt]*(Je[0][Pt]+Je[1][Pt]))}(re,R),ae=0;ae<_e;++ae)(Oe=j[ae]).axesBounds=Ie,re.clipToBounds&&(Oe.clipBounds=Ie);L.object&&(F.position=re.snapToData?L.dataCoordinate:L.dataPosition,F.bounds=Ie),Y&&(Y=!1,function(){if(!Me()){w.colorMask(!0,!0,!0,!0),w.depthMask(!0),w.disable(w.BLEND),w.enable(w.DEPTH_TEST),w.depthFunc(w.LEQUAL);for(var je=j.length,qe=J.length,Je=0;Je<qe;++Je){var it=J[Je];it.shape=oe,it.begin();for(var Qe=0;Qe<je;++Qe)if(G[Qe]===Je){var dt=j[Qe];dt.drawPick&&(dt.pixelRatio=1,dt.drawPick(W))}it.end()}}}()),re.axesPixels=n(re.axes,W,ve,Ce),re.onrender&&re.onrender(),w.bindFramebuffer(w.FRAMEBUFFER,null),w.viewport(0,0,ve,Ce),re.clearRGBA(),w.depthMask(!0),w.colorMask(!0,!0,!0,!0),w.enable(w.DEPTH_TEST),w.depthFunc(w.LEQUAL),w.disable(w.BLEND),w.disable(w.CULL_FACE);var Re=!1;for(U.enable&&(Re=Re||U.isTransparent(),U.draw(W)),F.axes=U,L.object&&F.draw(W),w.disable(w.CULL_FACE),ae=0;ae<_e;++ae)(Oe=j[ae]).axes=U,Oe.pixelRatio=re.pixelRatio,Oe.isOpaque&&Oe.isOpaque()&&Oe.draw(W),Oe.isTransparent&&Oe.isTransparent()&&(Re=!0);if(Re){for(C.shape=$,C.bind(),w.clear(w.DEPTH_BUFFER_BIT),w.colorMask(!1,!1,!1,!1),w.depthMask(!0),w.depthFunc(w.LESS),U.enable&&U.isTransparent()&&U.drawTransparent(W),ae=0;ae<_e;++ae)(Oe=j[ae]).isOpaque&&Oe.isOpaque()&&Oe.draw(W);for(w.enable(w.BLEND),w.blendEquation(w.FUNC_ADD),w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA),w.colorMask(!0,!0,!0,!0),w.depthMask(!1),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT),U.isTransparent()&&U.drawTransparent(W),ae=0;ae<_e;++ae){var Oe;(Oe=j[ae]).isTransparent&&Oe.isTransparent()&&Oe.drawTransparent(W)}w.bindFramebuffer(w.FRAMEBUFFER,null),w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA),w.disable(w.DEPTH_TEST),O.bind(),C.color[0].bind(0),O.uniforms.accumBuffer=0,p(w),w.disable(w.BLEND)}for(X=!1,ae=0;ae<_e;++ae)j[ae].dirty=!1}}}return re.enableMouseListeners(),function Pe(){re._stopped||re.contextLost||(ge(),requestAnimationFrame(Pe))}(),re.redraw=function(){re._stopped||(X=!0,ge())},re},createCamera:i}},8023:function(d,a,t){var i=t(6832);a.pointVertex=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),a.pointFragment=i(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),a.pickVertex=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),a.pickFragment=i(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},8271:function(d,a,t){"use strict";var i=t(5158),r=t(5827),n=t(5306),o=t(8023);function s(x,g,h,y,v){this.plot=x,this.offsetBuffer=g,this.pickBuffer=h,this.shader=y,this.pickShader=v,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}d.exports=function(x,g){var h=x.gl,y=new s(x,r(h),r(h),i(h,o.pointVertex,o.pointFragment),i(h,o.pickVertex,o.pickFragment));return y.update(g),x.addObject(y),y};var u,p,c=s.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(x){var g;function h(w,E){return w in x?x[w]:E}x=x||{},this.sizeMin=h("sizeMin",.5),this.sizeMax=h("sizeMax",20),this.color=h("color",[1,0,0,1]).slice(),this.areaRatio=h("areaRatio",1),this.borderColor=h("borderColor",[0,0,0,1]).slice(),this.blend=h("blend",!1);var y=x.positions.length>>>1,v=x.positions instanceof Float32Array,m=x.idToIndex instanceof Int32Array&&x.idToIndex.length>=y,_=x.positions,f=v?_:n.mallocFloat32(_.length),S=m?x.idToIndex:n.mallocInt32(y);if(v||f.set(_),!m)for(f.set(_),g=0;g<y;g++)S[g]=g;this.points=_,this.offsetBuffer.update(f),this.pickBuffer.update(S),v||n.free(f),m||n.free(S),this.pointCount=y,this.pickOffset=0},c.unifiedDraw=(u=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0],function(x){var g=void 0!==x,h=g?this.pickShader:this.shader,y=this.plot.gl,v=this.plot.dataBox;if(0===this.pointCount)return x;var m=v[2]-v[0],_=v[3]-v[1],f=function(L,C){var O,R=0,q=L.length>>>1;for(O=0;O<q;O++){var P=L[2*O],U=L[2*O+1];P>=C[0]&&P<=C[2]&&U>=C[1]&&U<=C[3]&&R++}return R}(this.points,v),S=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(f,.33333)));u[0]=2/m,u[4]=2/_,u[6]=-2*v[0]/m-1,u[7]=-2*v[1]/_-1,this.offsetBuffer.bind(),h.bind(),h.attributes.position.pointer(),h.uniforms.matrix=u,h.uniforms.color=this.color,h.uniforms.borderColor=this.borderColor,h.uniforms.pointCloud=S<5,h.uniforms.pointSize=S,h.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),g&&(p[0]=255&x,p[1]=x>>8&255,p[2]=x>>16&255,p[3]=x>>24&255,this.pickBuffer.bind(),h.attributes.pickId.pointer(y.UNSIGNED_BYTE),h.uniforms.pickOffset=p,this.pickOffset=x);var w=y.getParameter(y.BLEND),E=y.getParameter(y.DITHER);return w&&!this.blend&&y.disable(y.BLEND),E&&y.disable(y.DITHER),y.drawArrays(y.POINTS,0,this.pointCount),w&&!this.blend&&y.enable(y.BLEND),E&&y.enable(y.DITHER),x+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(x,g,h){var y=this.pickOffset;if(h<y||h>=y+this.pointCount)return null;var m=h-y,_=this.points;return{object:this,pointId:m,dataCoord:[_[2*m],_[2*m+1]]}}},6093:function(d){d.exports=function(a,t,i,r){var n,o,s,u,p,c=t[0],x=t[1],g=t[2],h=t[3],y=i[0],v=i[1],m=i[2],_=i[3];return(o=c*y+x*v+g*m+h*_)<0&&(o=-o,y=-y,v=-v,m=-m,_=-_),1-o>1e-6?(n=Math.acos(o),s=Math.sin(n),u=Math.sin((1-r)*n)/s,p=Math.sin(r*n)/s):(u=1-r,p=r),a[0]=u*c+p*y,a[1]=u*x+p*v,a[2]=u*g+p*m,a[3]=u*h+p*_,a}},8240:function(d){"use strict";d.exports=function(a){return a||0===a?a.toString():""}},4123:function(d,a,t){"use strict";var i=t(875);d.exports=function(n,o,s){var u=r[o];if(u||(u=r[o]={}),n in u)return u[n];var p={textAlign:"center",textBaseline:"middle",lineHeight:1,font:o,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},c=i(n,p);p.triangles=!1;var x,g,h=i(n,p);if(s&&1!==s){for(x=0;x<c.positions.length;++x)for(g=0;g<c.positions[x].length;++g)c.positions[x][g]/=s;for(x=0;x<h.positions.length;++x)for(g=0;g<h.positions[x].length;++g)h.positions[x][g]/=s}var y=[[1/0,1/0],[-1/0,-1/0]],v=h.positions.length;for(x=0;x<v;++x){var m=h.positions[x];for(g=0;g<2;++g)y[0][g]=Math.min(y[0][g],m[g]),y[1][g]=Math.max(y[1][g],m[g])}return u[n]=[c,h,y]};var r={}},9282:function(d,a,t){var i=t(5158),r=t(6832),n=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),p=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],x={vertex:n,fragment:u,attributes:c},g={vertex:o,fragment:u,attributes:c},h={vertex:s,fragment:u,attributes:c},y={vertex:n,fragment:p,attributes:c},v={vertex:o,fragment:p,attributes:c},m={vertex:s,fragment:p,attributes:c};function _(f,S){var w=i(f,S),E=w.attributes;return E.position.location=0,E.color.location=1,E.glyph.location=2,E.id.location=3,w}a.createPerspective=function(f){return _(f,x)},a.createOrtho=function(f){return _(f,g)},a.createProject=function(f){return _(f,h)},a.createPickPerspective=function(f){return _(f,y)},a.createPickOrtho=function(f){return _(f,v)},a.createPickProject=function(f){return _(f,m)}},2182:function(d,a,t){"use strict";var i=t(3596),r=t(5827),n=t(2944),o=t(5306),s=t(104),u=t(9282),p=t(4123),c=t(8240),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(G,te){var J=G[0],X=G[1],Y=G[2],W=G[3];return G[0]=te[0]*J+te[4]*X+te[8]*Y+te[12]*W,G[1]=te[1]*J+te[5]*X+te[9]*Y+te[13]*W,G[2]=te[2]*J+te[6]*X+te[10]*Y+te[14]*W,G[3]=te[3]*J+te[7]*X+te[11]*Y+te[15]*W,G}function h(G,te,J,X){return g(X,X),g(X,X),g(X,X)}function y(G,te){this.index=G,this.dataCoordinate=this.position=te}function v(G){return!0===G||G>1?1:G}function m(G,te,J,X,Y,W,$,ne,re,oe,ue,xe){this.gl=G,this.pixelRatio=1,this.shader=te,this.orthoShader=J,this.projectShader=X,this.pointBuffer=Y,this.colorBuffer=W,this.glyphBuffer=$,this.idBuffer=ne,this.vao=re,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=oe,this.pickOrthoShader=ue,this.pickProjectShader=xe,this.points=[],this._selectResult=new y(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}d.exports=function(G){var te=G.gl,J=u.createPerspective(te),X=u.createOrtho(te),Y=u.createProject(te),W=u.createPickPerspective(te),$=u.createPickOrtho(te),ne=u.createPickProject(te),re=r(te),oe=r(te),ue=r(te),xe=r(te),Me=new m(te,J,X,Y,re,oe,ue,xe,n(te,[{buffer:re,size:3,type:te.FLOAT},{buffer:oe,size:4,type:te.FLOAT},{buffer:ue,size:2,type:te.FLOAT},{buffer:xe,size:4,type:te.UNSIGNED_BYTE,normalized:!0}]),W,$,ne);return Me.update(G),Me};var _=m.prototype;_.pickSlots=1,_.setPickBase=function(G){this.pickId=G},_.isTransparent=function(){if(this.hasAlpha)return!0;for(var G=0;G<3;++G)if(this.axesProject[G]&&this.projectHasAlpha)return!0;return!1},_.isOpaque=function(){if(!this.hasAlpha)return!0;for(var G=0;G<3;++G)if(this.axesProject[G]&&!this.projectHasAlpha)return!0;return!1};var f=[0,0],S=[0,0,0],w=[0,0,0],E=[0,0,0,1],L=[0,0,0,1],C=x.slice(),O=[0,0,0],R=[[0,0,0],[0,0,0]];function q(G){return G[0]=G[1]=G[2]=0,G}function P(G,te){return G[0]=te[0],G[1]=te[1],G[2]=te[2],G[3]=1,G}function U(G,te,J,X){return G[0]=te[0],G[1]=te[1],G[2]=te[2],G[J]=X,G}var N=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function F(G,te,J,X,Y,W,$){var ne=J.gl;if((W===J.projectHasAlpha||$)&&function(oe,ue,xe,Me){var me,pe=ue.axesProject,ge=ue.gl,Pe=oe.uniforms,_e=xe.model||x,we=xe.view||x,se=xe.projection||x,ae=ue.axesBounds,fe=function(Je){for(var it=R,Qe=0;Qe<2;++Qe)for(var dt=0;dt<3;++dt)it[Qe][dt]=Math.max(Math.min(Je[Qe][dt],1e8),-1e8);return it}(ue.clipBounds);me=ue.axes&&ue.axes.lastCubeProps?ue.axes.lastCubeProps.axis:[1,1,1],f[0]=2/ge.drawingBufferWidth,f[1]=2/ge.drawingBufferHeight,oe.bind(),Pe.view=we,Pe.projection=se,Pe.screenSize=f,Pe.highlightId=ue.highlightId,Pe.highlightScale=ue.highlightScale,Pe.clipBounds=fe,Pe.pickGroup=ue.pickId/255,Pe.pixelRatio=Me;for(var Ee=0;Ee<3;++Ee)if(pe[Ee]){Pe.scale=ue.projectScale[Ee],Pe.opacity=ue.projectOpacity[Ee];for(var ke=C,be=0;be<16;++be)ke[be]=0;for(be=0;be<4;++be)ke[5*be]=1;ke[5*Ee]=0,ke[12+Ee]=me[Ee]<0?ae[0][Ee]:ae[1][Ee],s(ke,_e,ke),Pe.model=ke;var Ie=(Ee+1)%3,Fe=(Ee+2)%3,ce=q(S),Te=q(w);ce[Ie]=1,Te[Fe]=1;var ve=h(0,0,0,P(E,ce)),Ce=h(0,0,0,P(L,Te));if(Math.abs(ve[1])>Math.abs(Ce[1])){var Re=ve;ve=Ce,Ce=Re,Re=ce,ce=Te,Te=Re;var Oe=Ie;Ie=Fe,Fe=Oe}ve[0]<0&&(ce[Ie]=-1),Ce[1]>0&&(Te[Fe]=-1);var je=0,qe=0;for(be=0;be<4;++be)je+=Math.pow(_e[4*Ie+be],2),qe+=Math.pow(_e[4*Fe+be],2);ce[Ie]/=Math.sqrt(je),Te[Fe]/=Math.sqrt(qe),Pe.axes[0]=ce,Pe.axes[1]=Te,Pe.fragClipBounds[0]=U(O,fe[0],Ee,-1e8),Pe.fragClipBounds[1]=U(O,fe[1],Ee,1e8),ue.vao.bind(),ue.vao.draw(ge.TRIANGLES,ue.vertexCount),ue.lineWidth>0&&(ge.lineWidth(ue.lineWidth*Me),ue.vao.draw(ge.LINES,ue.lineVertexCount,ue.vertexCount)),ue.vao.unbind()}}(te,J,X,Y),W===J.hasAlpha||$){G.bind();var re=G.uniforms;re.model=X.model||x,re.view=X.view||x,re.projection=X.projection||x,f[0]=2/ne.drawingBufferWidth,f[1]=2/ne.drawingBufferHeight,re.screenSize=f,re.highlightId=J.highlightId,re.highlightScale=J.highlightScale,re.fragClipBounds=N,re.clipBounds=J.axes.bounds,re.opacity=J.opacity,re.pickGroup=J.pickId/255,re.pixelRatio=Y,J.vao.bind(),J.vao.draw(ne.TRIANGLES,J.vertexCount),J.lineWidth>0&&(ne.lineWidth(J.lineWidth*Y),J.vao.draw(ne.LINES,J.lineVertexCount,J.vertexCount)),J.vao.unbind()}}function j(G,te,J,X){var Y;Y=Array.isArray(G)?te<G.length?G[te]:void 0:G,Y=c(Y);var W=!0;i(Y)&&(Y="\u25bc",W=!1);var $=p(Y,J,X);return{mesh:$[0],lines:$[1],bounds:$[2],visible:W}}_.draw=function(G){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,G,this.pixelRatio,!1,!1)},_.drawTransparent=function(G){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,G,this.pixelRatio,!0,!1)},_.drawPick=function(G){F(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,G,1,!0,!0)},_.pick=function(G){if(!G||G.id!==this.pickId)return null;var te=G.value[2]+(G.value[1]<<8)+(G.value[0]<<16);if(te>=this.pointCount||te<0)return null;var J=this.points[te],X=this._selectResult;X.index=te;for(var Y=0;Y<3;++Y)X.position[Y]=X.dataCoordinate[Y]=J[Y];return X},_.highlight=function(G){if(G){var te=G.index;this.highlightId=[(255&te)/255,(te>>8&255)/255,(te>>16&255)/255,0]}else this.highlightId=[1,1,1,1]},_.update=function(G){if("perspective"in(G=G||{})&&(this.useOrtho=!G.perspective),"orthographic"in G&&(this.useOrtho=!!G.orthographic),"lineWidth"in G&&(this.lineWidth=G.lineWidth),"project"in G)if(Array.isArray(G.project))this.axesProject=G.project;else{var te=!!G.project;this.axesProject=[te,te,te]}if("projectScale"in G)if(Array.isArray(G.projectScale))this.projectScale=G.projectScale.slice();else{var J=+G.projectScale;this.projectScale=[J,J,J]}if(this.projectHasAlpha=!1,"projectOpacity"in G){this.projectOpacity=Array.isArray(G.projectOpacity)?G.projectOpacity.slice():[J=+G.projectOpacity,J,J];for(var X=0;X<3;++X)this.projectOpacity[X]=v(this.projectOpacity[X]),this.projectOpacity[X]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in G&&(this.opacity=v(G.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var Y,W,$=G.position,ne=G.font||"normal",re=G.alignment||[0,0];if(2===re.length)Y=re[0],W=re[1];else for(Y=[],W=[],X=0;X<re.length;++X)Y[X]=re[X][0],W[X]=re[X][1];var oe=[1/0,1/0,1/0],ue=[-1/0,-1/0,-1/0],xe=G.glyph,Me=G.color,me=G.size,pe=G.angle,ge=G.lineColor,Pe=-1,_e=0,we=0,se=0;if($.length){se=$.length;e:for(X=0;X<se;++X){for(var ae=$[X],fe=0;fe<3;++fe)if(isNaN(ae[fe])||!isFinite(ae[fe]))continue e;var Ee=(it=j(xe,X,ne,this.pixelRatio)).mesh,ke=it.lines,be=it.bounds;_e+=3*Ee.cells.length,we+=2*ke.edges.length}}var Ie=_e+we,Fe=o.mallocFloat(3*Ie),ce=o.mallocFloat(4*Ie),Te=o.mallocFloat(2*Ie),ve=o.mallocUint32(Ie);if(Ie>0){var Ce=0,Re=_e,Oe=[0,0,0,1],je=[0,0,0,1],qe=Array.isArray(Me)&&Array.isArray(Me[0]),Je=Array.isArray(ge)&&Array.isArray(ge[0]);e:for(X=0;X<se;++X){for(Pe+=1,ae=$[X],fe=0;fe<3;++fe){if(isNaN(ae[fe])||!isFinite(ae[fe]))continue e;ue[fe]=Math.max(ue[fe],ae[fe]),oe[fe]=Math.min(oe[fe],ae[fe])}Ee=(it=j(xe,X,ne,this.pixelRatio)).mesh,ke=it.lines,be=it.bounds;var it,Qe=it.visible;if(Qe)if(Array.isArray(Me)){if(3===(dt=qe?X<Me.length?Me[X]:[0,0,0,0]:Me).length){for(fe=0;fe<3;++fe)Oe[fe]=dt[fe];Oe[3]=1}else if(4===dt.length){for(fe=0;fe<4;++fe)Oe[fe]=dt[fe];!this.hasAlpha&&dt[3]<1&&(this.hasAlpha=!0)}}else Oe[0]=Oe[1]=Oe[2]=0,Oe[3]=1;else Oe=[1,1,1,0];if(Qe)if(Array.isArray(ge)){var dt;if(3===(dt=Je?X<ge.length?ge[X]:[0,0,0,0]:ge).length){for(fe=0;fe<3;++fe)je[fe]=dt[fe];je[fe]=1}else if(4===dt.length){for(fe=0;fe<4;++fe)je[fe]=dt[fe];!this.hasAlpha&&dt[3]<1&&(this.hasAlpha=!0)}}else je[0]=je[1]=je[2]=0,je[3]=1;else je=[1,1,1,0];var yt=.5;Qe?Array.isArray(me)?yt=X<me.length?+me[X]:12:me?yt=+me:this.useOrtho&&(yt=12):yt=0;var mt=0;Array.isArray(pe)?mt=X<pe.length?+pe[X]:0:pe&&(mt=+pe);var at=Math.cos(mt),st=Math.sin(mt);for(ae=$[X],fe=0;fe<3;++fe)ue[fe]=Math.max(ue[fe],ae[fe]),oe[fe]=Math.min(oe[fe],ae[fe]);var Tt=Y,At=W;Tt=0,Array.isArray(Y)?Tt=X<Y.length?Y[X]:0:Y&&(Tt=Y),At=0,Array.isArray(W)?At=X<W.length?W[X]:0:W&&(At=W);var Pt=[Tt*=Tt>0?1-be[0][0]:Tt<0?1+be[1][0]:1,At*=At>0?1-be[0][1]:At<0?1+be[1][1]:1],kt=Ee.cells||[],Ze=Ee.positions||[];for(fe=0;fe<kt.length;++fe)for(var Xe=kt[fe],He=0;He<3;++He){for(var We=0;We<3;++We)Fe[3*Ce+We]=ae[We];for(We=0;We<4;++We)ce[4*Ce+We]=Oe[We];ve[Ce]=Pe;var rt=Ze[Xe[He]];Te[2*Ce]=yt*(at*rt[0]-st*rt[1]+Pt[0]),Te[2*Ce+1]=yt*(st*rt[0]+at*rt[1]+Pt[1]),Ce+=1}for(kt=ke.edges,Ze=ke.positions,fe=0;fe<kt.length;++fe)for(Xe=kt[fe],He=0;He<2;++He){for(We=0;We<3;++We)Fe[3*Re+We]=ae[We];for(We=0;We<4;++We)ce[4*Re+We]=je[We];ve[Re]=Pe,Te[2*Re]=yt*(at*(rt=Ze[Xe[He]])[0]-st*rt[1]+Pt[0]),Te[2*Re+1]=yt*(st*rt[0]+at*rt[1]+Pt[1]),Re+=1}}}this.bounds=[oe,ue],this.points=$,this.pointCount=$.length,this.vertexCount=_e,this.lineVertexCount=we,this.pointBuffer.update(Fe),this.colorBuffer.update(ce),this.glyphBuffer.update(Te),this.idBuffer.update(ve),o.free(Fe),o.free(ce),o.free(Te),o.free(ve)},_.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(d,a,t){"use strict";var i=t(6832);a.boxVertex=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),a.boxFragment=i(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},6623:function(d,a,t){"use strict";var i=t(5158),r=t(5827),n=t(1884);function o(u,p,c){this.plot=u,this.boxBuffer=p,this.boxShader=c,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}d.exports=function(u,p){var c=u.gl,x=new o(u,r(c,[0,0,0,1,1,0,1,1]),i(c,n.boxVertex,n.boxFragment));return x.update(p),u.addOverlay(x),x};var s=o.prototype;s.draw=function(){if(this.enabled){var u=this.plot,p=this.selectBox,c=this.borderWidth,x=this.innerColor,g=this.outerColor,h=this.borderColor,y=u.box,v=u.screenBox,m=u.dataBox,_=u.viewBox,f=u.pixelRatio,S=(p[0]-m[0])*(_[2]-_[0])/(m[2]-m[0])+_[0],w=(p[1]-m[1])*(_[3]-_[1])/(m[3]-m[1])+_[1],E=(p[2]-m[0])*(_[2]-_[0])/(m[2]-m[0])+_[0],L=(p[3]-m[1])*(_[3]-_[1])/(m[3]-m[1])+_[1];if(S=Math.max(S,_[0]),w=Math.max(w,_[1]),E=Math.min(E,_[2]),L=Math.min(L,_[3]),!(E<S||L<w)){y.bind();var C=v[2]-v[0],O=v[3]-v[1];if(this.outerFill&&(y.drawBox(0,0,C,w,g),y.drawBox(0,w,S,L,g),y.drawBox(0,L,C,O,g),y.drawBox(E,w,C,L,g)),this.innerFill&&y.drawBox(S,w,E,L,x),c>0){var R=c*f;y.drawBox(S-R,w-R,E+R,w+R,h),y.drawBox(S-R,L-R,E+R,L+R,h),y.drawBox(S-R,w-R,S+R,L+R,h),y.drawBox(E-R,w-R,E+R,L+R,h)}}}},s.update=function(u){this.innerFill=!!(u=u||{}).innerFill,this.outerFill=!!u.outerFill,this.innerColor=(u.innerColor||[0,0,0,.5]).slice(),this.outerColor=(u.outerColor||[0,0,0,.5]).slice(),this.borderColor=(u.borderColor||[0,0,0,1]).slice(),this.borderWidth=u.borderWidth||0,this.selectBox=(u.selectBox||this.selectBox).slice()},s.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(d,a,t){"use strict";d.exports=function(c,x){var g=x[0],h=x[1];return new u(c,i(c,g,h,{}),r.mallocUint8(g*h*4))};var i=t(4234),r=t(5306),n=t(5050),o=t(2288).nextPow2;function s(c,x,g,h,y){this.coord=[c,x],this.id=g,this.value=h,this.distance=y}function u(c,x,g){this.gl=c,this.fbo=x,this.buffer=g,this._readTimeout=null;var h=this;this._readCallback=function(){h.gl&&(x.bind(),c.readPixels(0,0,x.shape[0],x.shape[1],c.RGBA,c.UNSIGNED_BYTE,h.buffer),h._readTimeout=null)}}var p=u.prototype;Object.defineProperty(p,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var x=this.fbo.shape[0],g=this.fbo.shape[1];if(g*x*4>this.buffer.length){r.free(this.buffer);for(var h=this.buffer=r.mallocUint8(o(g*x*4)),y=0;y<g*x*4;++y)h[y]=255}return c}}}),p.begin=function(){var c=this.gl;c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},p.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},p.query=function(c,x,g){if(!this.gl)return null;var h=this.fbo.shape.slice();c|=0,x|=0,"number"!=typeof g&&(g=1);var y=0|Math.min(Math.max(c-g,0),h[0]),v=0|Math.min(Math.max(c+g,0),h[0]),m=0|Math.min(Math.max(x-g,0),h[1]),_=0|Math.min(Math.max(x+g,0),h[1]);if(v<=y||_<=m)return null;var f=[v-y,_-m],S=n(this.buffer,[f[0],f[1],4],[4,4*h[0],1],4*(y+h[0]*m)),w=function(C,O,R){for(var q=1e8,P=-1,U=-1,N=C.shape[0],F=C.shape[1],j=0;j<N;j++)for(var G=0;G<F;G++){var te=C.get(j,G,0),J=C.get(j,G,1),X=C.get(j,G,2),Y=C.get(j,G,3);if(te<255||J<255||X<255||Y<255){var W=O-j,$=R-G,ne=W*W+$*$;ne<q&&(q=ne,P=j,U=G)}}return[P,U,q]}(S.hi(f[0],f[1],1),g,g),E=w[0],L=w[1];return E<0||Math.pow(this.radius,2)<w[2]?null:new s(E+y|0,L+m|0,S.get(E,L,0),[S.get(E,L,1),S.get(E,L,2),S.get(E,L,3)],Math.sqrt(w[2]))},p.dispose=function(){this.gl&&(this.fbo.dispose(),r.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(d,a,t){"use strict";var i=t(9016),r=t(4280),n=t(3984),o=t(1628),s=t(2631),u=t(9068);function p(g){this.gl=g,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=p.prototype;function x(g,h){return g.name<h.name?-1:1}c.bind=function(){var g;this.program||this._relink();var h=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),y=this.gl.lastAttribCount;if(h>y)for(g=y;g<h;g++)this.gl.enableVertexAttribArray(g);else if(y>h)for(g=h;g<y;g++)this.gl.disableVertexAttribArray(g);this.gl.lastAttribCount=h,this.gl.useProgram(this.program)},c.dispose=function(){for(var g=this.gl.lastAttribCount,h=0;h<g;h++)this.gl.disableVertexAttribArray(h);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(g,h,y,v){if(!h||1===arguments.length){var m=g;g=m.vertex,h=m.fragment,y=m.uniforms,v=m.attributes}var _=this,f=_.gl,S=_._vref;_._vref=o.shader(f,f.VERTEX_SHADER,g),S&&S.dispose(),_.vertShader=_._vref.shader;var w=this._fref;if(_._fref=o.shader(f,f.FRAGMENT_SHADER,h),w&&w.dispose(),_.fragShader=_._fref.shader,!y||!v){var E=f.createProgram();if(f.attachShader(E,_.fragShader),f.attachShader(E,_.vertShader),f.linkProgram(E),!f.getProgramParameter(E,f.LINK_STATUS)){var L=f.getProgramInfoLog(E);throw new u(L,"Error linking program:"+L)}y=y||s.uniforms(f,E),v=v||s.attributes(f,E),f.deleteProgram(E)}(v=v.slice()).sort(x);var C,O=[],R=[],q=[];for(C=0;C<v.length;++C){var P=v[C];if(P.type.indexOf("mat")>=0){for(var U=0|P.type.charAt(P.type.length-1),N=new Array(U),F=0;F<U;++F)N[F]=q.length,R.push(P.name+"["+F+"]"),"number"==typeof P.location?q.push(P.location+F):Array.isArray(P.location)&&P.location.length===U&&"number"==typeof P.location[F]?q.push(0|P.location[F]):q.push(-1);O.push({name:P.name,type:P.type,locations:N})}else O.push({name:P.name,type:P.type,locations:[q.length]}),R.push(P.name),q.push("number"==typeof P.location?0|P.location:-1)}var j=0;for(C=0;C<q.length;++C)if(q[C]<0){for(;q.indexOf(j)>=0;)j+=1;q[C]=j}var G=new Array(y.length);function te(){_.program=o.program(f,_._vref,_._fref,R,q);for(var J=0;J<y.length;++J)G[J]=f.getUniformLocation(_.program,y[J].name)}te(),_._relink=te,_.types={uniforms:n(y),attributes:n(v)},_.attributes=r(f,_,O,q),Object.defineProperty(_,"uniforms",i(f,_,y,G))},d.exports=function(g,h,y,v,m){var _=new p(g);return _.update(h,y,v,m),_}},9068:function(d){function a(t,i,r){this.shortMessage=i||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(i||t||"")+(r?"\n"+r:""),this.stack=(new Error).stack}(a.prototype=new Error).name="GLError",a.prototype.constructor=a,d.exports=a},4280:function(d,a,t){"use strict";d.exports=function(p,c,x,g){for(var h={},y=0,v=x.length;y<v;++y){var m=x[y],_=m.name,f=m.type,S=m.locations;switch(f){case"bool":case"int":case"float":s(p,c,S[0],g,1,h,_);break;default:if(f.indexOf("vec")>=0){if((w=f.charCodeAt(f.length-1)-48)<2||w>4)throw new i("","Invalid data type for attribute "+_+": "+f);s(p,c,S[0],g,w,h,_)}else{if(!(f.indexOf("mat")>=0))throw new i("","Unknown data type for attribute "+_+": "+f);var w;if((w=f.charCodeAt(f.length-1)-48)<2||w>4)throw new i("","Invalid data type for attribute "+_+": "+f);u(p,c,S,g,w,h,_)}}}return h};var i=t(9068);function r(p,c,x,g,h,y){this._gl=p,this._wrapper=c,this._index=x,this._locations=g,this._dimension=h,this._constFunc=y}var n=r.prototype;n.pointer=function(p,c,x,g){var h=this,y=h._gl,v=h._locations[h._index];y.vertexAttribPointer(v,h._dimension,p||y.FLOAT,!!c,x||0,g||0),y.enableVertexAttribArray(v)},n.set=function(p,c,x,g){return this._constFunc(this._locations[this._index],p,c,x,g)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(p){return p!==this._locations[this._index]&&(this._locations[this._index]=0|p,this._wrapper.program=null),0|p}});var o=[function(p,c,x){return void 0===x.length?p.vertexAttrib1f(c,x):p.vertexAttrib1fv(c,x)},function(p,c,x,g){return void 0===x.length?p.vertexAttrib2f(c,x,g):p.vertexAttrib2fv(c,x)},function(p,c,x,g,h){return void 0===x.length?p.vertexAttrib3f(c,x,g,h):p.vertexAttrib3fv(c,x)},function(p,c,x,g,h,y){return void 0===x.length?p.vertexAttrib4f(c,x,g,h,y):p.vertexAttrib4fv(c,x)}];function s(p,c,x,g,h,y,v){var m=o[h],_=new r(p,c,x,g,h,m);Object.defineProperty(y,v,{set:function(f){return p.disableVertexAttribArray(g[x]),m(p,g[x],f),f},get:function(){return _},enumerable:!0})}function u(p,c,x,g,h,y,v){for(var m=new Array(h),_=new Array(h),f=0;f<h;++f)s(p,c,x[f],g,h,m,f),_[f]=m[f];Object.defineProperty(m,"location",{set:function(E){if(Array.isArray(E))for(var L=0;L<h;++L)_[L].location=E[L];else for(L=0;L<h;++L)_[L].location=E+L;return E},get:function(){for(var E=new Array(h),L=0;L<h;++L)E[L]=g[x[L]];return E},enumerable:!0}),m.pointer=function(E,L,C,O){E=E||p.FLOAT,L=!!L,C=C||h*h,O=O||0;for(var R=0;R<h;++R){var q=g[x[R]];p.vertexAttribPointer(q,h,E,L,C,O+R*h),p.enableVertexAttribArray(q)}};var S=new Array(h),w=p["vertexAttrib"+h+"fv"];Object.defineProperty(y,v,{set:function(E){for(var L=0;L<h;++L){var C=g[x[L]];if(p.disableVertexAttribArray(C),Array.isArray(E[0]))w.call(p,C,E[L]);else{for(var O=0;O<h;++O)S[O]=E[h*L+O];w.call(p,C,S)}}return E},get:function(){return m},enumerable:!0})}},9016:function(d,a,t){"use strict";var i=t(3984),r=t(9068);function n(s){return function(){return s}}function o(s,u){for(var p=new Array(s),c=0;c<s;++c)p[c]=u;return p}d.exports=function(s,u,p,c){function x(m){return function(_){for(var f=g("",m),S=0;S<f.length;++S){var w=f[S],E=w[0],L=w[1];if(c[L]){var C=_;if("string"==typeof E&&(0===E.indexOf(".")||0===E.indexOf("["))){var O=E;if(0===E.indexOf(".")&&(O=E.slice(1)),O.indexOf("]")===O.length-1){var R=O.indexOf("["),q=O.slice(0,R),P=O.slice(R+1,O.length-1);C=q?_[q][P]:_[P]}else C=_[O]}var U,N=p[L].type;switch(N){case"bool":case"int":case"sampler2D":case"samplerCube":s.uniform1i(c[L],C);break;case"float":s.uniform1f(c[L],C);break;default:var F=N.indexOf("vec");if(!(0<=F&&F<=1&&N.length===4+F)){if(0===N.indexOf("mat")&&4===N.length){if((U=N.charCodeAt(N.length-1)-48)<2||U>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+N);s["uniformMatrix"+U+"fv"](c[L],!1,C);break}throw new r("","Unknown uniform data type for "+name+": "+N)}if((U=N.charCodeAt(N.length-1)-48)<2||U>4)throw new r("","Invalid data type");switch(N.charAt(0)){case"b":case"i":s["uniform"+U+"iv"](c[L],C);break;case"v":s["uniform"+U+"fv"](c[L],C);break;default:throw new r("","Unrecognized data type for vector "+name+": "+N)}}}}}}function g(m,_){if("object"!=typeof _)return[[m,_]];var f=[];for(var S in _){var w=_[S],E=m;parseInt(S)+""===S?E+="["+S+"]":E+="."+S,"object"==typeof w?f.push.apply(f,g(E,w)):f.push([E,w])}return f}function h(m,_,f){if("object"==typeof f){var S=y(f);Object.defineProperty(m,_,{get:n(S),set:x(f),enumerable:!0,configurable:!1})}else c[f]?Object.defineProperty(m,_,{get:(w=f,function(E,L,C){return E.getUniform(L.program,C[w])}),set:x(f),enumerable:!0,configurable:!1}):m[_]=function(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var L=E.indexOf("vec");if(0<=L&&L<=1&&E.length===4+L){if((C=E.charCodeAt(E.length-1)-48)<2||C>4)throw new r("","Invalid data type");return"b"===E.charAt(0)?o(C,!1):o(C,0)}if(0===E.indexOf("mat")&&4===E.length){var C;if((C=E.charCodeAt(E.length-1)-48)<2||C>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+E);return o(C*C,0)}throw new r("","Unknown uniform data type for "+name+": "+E)}}(p[f].type);var w}function y(m){var _;if(Array.isArray(m)){_=new Array(m.length);for(var f=0;f<m.length;++f)h(_,f,m[f])}else for(var S in _={},m)h(_,S,m[S]);return _}var v=i(p,!0);return{get:n(y(v)),set:x(v),enumerable:!0,configurable:!0}}},3984:function(d){"use strict";d.exports=function(a,t){for(var i={},r=0;r<a.length;++r)for(var n=a[r].name.split("."),o=i,s=0;s<n.length;++s){var u=n[s].split("[");if(u.length>1){u[0]in o||(o[u[0]]=[]),o=o[u[0]];for(var p=1;p<u.length;++p){var c=parseInt(u[p]);p<u.length-1||s<n.length-1?(c in o||(o[c]=p<u.length-1?[]:{}),o=o[c]):o[c]=t?r:a[r].type}}else s<n.length-1?(u[0]in o||(o[u[0]]={}),o=o[u[0]]):o[u[0]]=t?r:a[r].type}return i}},2631:function(d,a){"use strict";a.uniforms=function(n,o){for(var s=n.getProgramParameter(o,n.ACTIVE_UNIFORMS),u=[],p=0;p<s;++p){var c=n.getActiveUniform(o,p);if(c){var x=r(n,c.type);if(c.size>1)for(var g=0;g<c.size;++g)u.push({name:c.name.replace("[0]","["+g+"]"),type:x});else u.push({name:c.name,type:x})}}return u},a.attributes=function(n,o){for(var s=n.getProgramParameter(o,n.ACTIVE_ATTRIBUTES),u=[],p=0;p<s;++p){var c=n.getActiveAttrib(o,p);c&&u.push({name:c.name,type:r(n,c.type)})}return u};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function r(n,o){if(!i){var s=Object.keys(t);i={};for(var u=0;u<s.length;++u){var p=s[u];i[n[p]]=t[p]}}return i[o]}},1628:function(d,a,t){"use strict";a.shader=function(x,g,h){return c(x).getShaderReference(g,h)},a.program=function(x,g,h,y,v){return c(x).getProgram(g,h,y,v)};var i=t(9068),r=t(3530),n=new(typeof WeakMap>"u"?t(4037):WeakMap),o=0;function s(x,g,h,y,v,m,_){this.id=x,this.src=g,this.type=h,this.shader=y,this.count=m,this.programs=[],this.cache=_}function u(x){this.gl=x,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0==--this.count){for(var x=this.cache,g=x.gl,h=this.programs,y=0,v=h.length;y<v;++y){var m=x.programs[h[y]];m&&(delete x.programs[y],g.deleteProgram(m))}g.deleteShader(this.shader),delete x.shaders[this.type===g.FRAGMENT_SHADER|0][this.src]}};var p=u.prototype;function c(x){var g=n.get(x);return g||(g=new u(x),n.set(x,g)),g}p.getShaderReference=function(x,g){var h=this.gl,y=this.shaders[x===h.FRAGMENT_SHADER|0],v=y[g];if(v&&h.isShader(v.shader))v.count+=1;else{var m=function(_,f,S){var w=_.createShader(f);if(_.shaderSource(w,S),_.compileShader(w),!_.getShaderParameter(w,_.COMPILE_STATUS)){var E=_.getShaderInfoLog(w);try{var L=r(E,S,f)}catch(C){throw console.warn("Failed to format compiler error: "+C),new i(E,"Error compiling shader:\n"+E)}throw new i(E,L.short,L.long)}return w}(h,x,g);v=y[g]=new s(o++,g,x,m,[],1,this)}return v},p.getProgram=function(x,g,h,y){var v=[x.id,g.id,h.join(":"),y.join(":")].join("@"),m=this.programs[v];return m&&this.gl.isProgram(m)||(this.programs[v]=m=function(_,f,S,w,E){var L=_.createProgram();_.attachShader(L,f),_.attachShader(L,S);for(var C=0;C<w.length;++C)_.bindAttribLocation(L,E[C],w[C]);if(_.linkProgram(L),!_.getProgramParameter(L,_.LINK_STATUS)){var O=_.getProgramInfoLog(L);throw new i(O,"Error linking program: "+O)}return L}(this.gl,x.shader,g.shader,h,y),x.programs.push(v),g.programs.push(v)),m}},3050:function(d){"use strict";function a(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}d.exports=function(i,r){var n=new a(i);return n.update(r),i.addOverlay(n),n};var t=a.prototype;t.update=function(i){this.enable=((i=i||{}).enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(r){return r.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var i=this.enable,r=this.width,n=this.color,o=this.center,s=this.plot,u=s.line,p=s.dataBox,c=s.viewBox;if(u.bind(),p[0]<=o[0]&&o[0]<=p[2]&&p[1]<=o[1]&&o[1]<=p[3]){var x=c[0]+(o[0]-p[0])/(p[2]-p[0])*(c[2]-c[0]),g=c[1]+(o[1]-p[1])/(p[3]-p[1])*(c[3]-c[1]);i[0]&&u.drawLine(x,g,c[0],g,r[0],n[0]),i[1]&&u.drawLine(x,g,x,c[1],r[1],n[1]),i[2]&&u.drawLine(x,g,c[2],g,r[2],n[2]),i[3]&&u.drawLine(x,g,x,c[3],r[3],n[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},3540:function(d,a,t){"use strict";var i=t(6832),r=t(5158),n=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),o=i(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);d.exports=function(s){return r(s,n,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(d,a,t){"use strict";var i=t(5827),r=t(2944),n=t(3540);d.exports=function(g,h){var y=[];function v(w,E,L,C,O,R){var q=[w,E,L,0,0,0,1];q[C+3]=1,q[C]=O,y.push.apply(y,q),q[6]=-1,y.push.apply(y,q),q[C]=R,y.push.apply(y,q),y.push.apply(y,q),q[6]=1,y.push.apply(y,q),q[C]=O,y.push.apply(y,q)}v(0,0,0,0,0,1),v(0,0,0,1,0,1),v(0,0,0,2,0,1),v(1,0,0,1,-1,1),v(1,0,0,2,-1,1),v(0,1,0,0,-1,1),v(0,1,0,2,-1,1),v(0,0,1,0,-1,1),v(0,0,1,1,-1,1);var m=i(g,y),_=r(g,[{type:g.FLOAT,buffer:m,size:3,offset:0,stride:28},{type:g.FLOAT,buffer:m,size:3,offset:12,stride:28},{type:g.FLOAT,buffer:m,size:1,offset:24,stride:28}]),f=n(g);f.attributes.position.location=0,f.attributes.color.location=1,f.attributes.weight.location=2;var S=new s(g,m,_,f);return S.update(h),S};var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(g,h,y,v){this.gl=g,this.buffer=h,this.vao=y,this.shader=v,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=s.prototype,p=[0,0,0],c=[0,0,0],x=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(g){},u.draw=function(g){var h=this.gl,y=this.vao,v=this.shader;y.bind(),v.bind();var m,_=g.model||o,f=g.view||o,S=g.projection||o;this.axes&&(m=this.axes.lastCubeProps.axis);for(var w=p,E=c,L=0;L<3;++L)m&&m[L]<0?(w[L]=this.bounds[0][L],E[L]=this.bounds[1][L]):(w[L]=this.bounds[1][L],E[L]=this.bounds[0][L]);for(x[0]=h.drawingBufferWidth,x[1]=h.drawingBufferHeight,v.uniforms.model=_,v.uniforms.view=f,v.uniforms.projection=S,v.uniforms.coordinates=[this.position,w,E],v.uniforms.colors=this.colors,v.uniforms.screenShape=x,L=0;L<3;++L)v.uniforms.lineWidth=this.lineWidth[L]*this.pixelRatio,this.enabled[L]&&(y.draw(h.TRIANGLES,6,6*L),this.drawSides[L]&&y.draw(h.TRIANGLES,12,18+12*L));y.unbind()},u.update=function(g){g&&("bounds"in g&&(this.bounds=g.bounds),"position"in g&&(this.position=g.position),"lineWidth"in g&&(this.lineWidth=g.lineWidth),"colors"in g&&(this.colors=g.colors),"enabled"in g&&(this.enabled=g.enabled),"drawSides"in g&&(this.drawSides=g.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(d,a,t){var i=t(6832),r=i(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),n=i(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),o=i(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);a.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},a.pickShader={vertex:o,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(d,a,t){"use strict";var i=t(2858),r=t(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],o=function(x,g){var h,y=x.length;for(h=0;h<y;h++){var v=x[h];if(v===g)return h;if(v>g)return h-1}return h},s=function(x,g,h){return x<g?g:x>h?h:x},u=function(x){var g=1/0;x.sort(function(m,_){return m-_});for(var h=x.length,y=1;y<h;y++){var v=Math.abs(x[y]-x[y-1]);v<g&&(g=v)}return g};d.exports=function(x,g){var h=x.startingPositions,y=x.maxLength||1e3,v=x.tubeSize||1,m=x.absoluteTubeSize,_=x.gridFill||"+x+y+z",f={};-1!==_.indexOf("-x")&&(f.reversedX=!0),-1!==_.indexOf("-y")&&(f.reversedY=!0),-1!==_.indexOf("-z")&&(f.reversedZ=!0),f.filled=n.indexOf(_.replace(/-/g,"").replace(/\+/g,""));var ge,Pe,_e,we,S=x.getVelocity||function(ge){return function(Pe,_e,we){var se=_e.vectors,ae=_e.meshgrid,fe=Pe[0],Ee=Pe[1],ke=Pe[2],be=ae[0].length,Ie=ae[1].length,Fe=ae[2].length,ce=o(ae[0],fe),Te=o(ae[1],Ee),ve=o(ae[2],ke),Ce=ce+1,Re=Te+1,Oe=ve+1;if(ce=s(ce,0,be-1),Ce=s(Ce,0,be-1),Te=s(Te,0,Ie-1),Re=s(Re,0,Ie-1),ve=s(ve,0,Fe-1),Oe=s(Oe,0,Fe-1),ce<0||Te<0||ve<0||Ce>be-1||Re>Ie-1||Oe>Fe-1)return i.create();var je,qe,Je,it,Qe,dt,yt=ae[0][ce],at=ae[1][Te],Tt=ae[2][ve],At=(fe-yt)/(ae[0][Ce]-yt),Pt=(Ee-at)/(ae[1][Re]-at),kt=(ke-Tt)/(ae[2][Oe]-Tt);switch(isFinite(At)||(At=.5),isFinite(Pt)||(Pt=.5),isFinite(kt)||(kt=.5),we.reversedX&&(ce=be-1-ce,Ce=be-1-Ce),we.reversedY&&(Te=Ie-1-Te,Re=Ie-1-Re),we.reversedZ&&(ve=Fe-1-ve,Oe=Fe-1-Oe),we.filled){case 5:Qe=ve,dt=Oe,Je=Te*Fe,it=Re*Fe,je=ce*Fe*Ie,qe=Ce*Fe*Ie;break;case 4:Qe=ve,dt=Oe,je=ce*Fe,qe=Ce*Fe,Je=Te*Fe*be,it=Re*Fe*be;break;case 3:Je=Te,it=Re,Qe=ve*Ie,dt=Oe*Ie,je=ce*Ie*Fe,qe=Ce*Ie*Fe;break;case 2:Je=Te,it=Re,je=ce*Ie,qe=Ce*Ie,Qe=ve*Ie*be,dt=Oe*Ie*be;break;case 1:je=ce,qe=Ce,Qe=ve*be,dt=Oe*be,Je=Te*be*Fe,it=Re*be*Fe;break;default:je=ce,qe=Ce,Je=Te*be,it=Re*be,Qe=ve*be*Ie,dt=Oe*be*Ie}var Ze=se[je+Je+Qe],Xe=se[je+Je+dt],He=se[je+it+Qe],We=se[je+it+dt],rt=se[qe+Je+Qe],nt=se[qe+Je+dt],ze=se[qe+it+Qe],Be=se[qe+it+dt],tt=i.create(),et=i.create(),gt=i.create(),pt=i.create();i.lerp(tt,Ze,rt,At),i.lerp(et,Xe,nt,At),i.lerp(gt,He,ze,At),i.lerp(pt,We,Be,At);var vt=i.create(),ut=i.create();i.lerp(vt,tt,gt,Pt),i.lerp(ut,et,pt,Pt);var wt=i.create();return i.lerp(wt,vt,ut,kt),wt}(ge,x,f)},w=x.getDivergence||function(ge,Pe){var _e=i.create(),we=1e-4;i.add(_e,ge,[we,0,0]);var se=S(_e);i.subtract(se,se,Pe),i.scale(se,se,1/we),i.add(_e,ge,[0,we,0]);var ae=S(_e);i.subtract(ae,ae,Pe),i.scale(ae,ae,1/we),i.add(_e,ge,[0,0,we]);var fe=S(_e);return i.subtract(fe,fe,Pe),i.scale(fe,fe,1/we),i.add(_e,se,ae),i.add(_e,_e,fe),_e},E=[],L=g[0][0],C=g[0][1],O=g[0][2],R=g[1][0],q=g[1][1],P=g[1][2],N=10*i.distance(g[0],g[1])/y,F=N*N,j=1,G=0,te=h.length;te>1&&(j=function(ge){for(var Pe=[],_e=[],we=[],se={},ae={},fe={},Ee=ge.length,ke=0;ke<Ee;ke++){var be=ge[ke],Ie=be[0],Fe=be[1],ce=be[2];se[Ie]||(Pe.push(Ie),se[Ie]=!0),ae[Fe]||(_e.push(Fe),ae[Fe]=!0),fe[ce]||(we.push(ce),fe[ce]=!0)}var Te=u(Pe),ve=u(_e),Ce=u(we),Re=Math.min(Te,ve,Ce);return isFinite(Re)?Re:1}(h));for(var J=0;J<te;J++){var X=i.create();i.copy(X,h[J]);var Y=[X],W=[],$=S(X),ne=X;W.push($);var re=[],oe=w(X,$),ue=i.length(oe);isFinite(ue)&&ue>G&&(G=ue),re.push(ue),E.push({points:Y,velocities:W,divergences:re});for(var xe=0;xe<100*y&&Y.length<y&&(Pe=void 0,_e=void 0,we=void 0,_e=(ge=X)[1],we=ge[2],!((Pe=ge[0])<L||Pe>R||_e<C||_e>q||we<O||we>P));){xe++;var Me=i.clone($),me=i.squaredLength(Me);if(0===me)break;me>F&&i.scale(Me,Me,N/Math.sqrt(me)),i.add(Me,Me,X),$=S(Me),i.squaredDistance(ne,Me)-F>-1e-4*F&&(Y.push(Me),ne=Me,W.push($),oe=w(Me,$),ue=i.length(oe),isFinite(ue)&&ue>G&&(G=ue),re.push(ue)),X=Me}}var pe=function(ge,Pe,_e,we){for(var se=0,ae=0;ae<ge.length;ae++)for(var fe=ge[ae].velocities,Ee=0;Ee<fe.length;Ee++)se=Math.max(se,i.length(fe[Ee]));var ke=ge.map(function(je){return function(qe,Je,it,Qe){for(var dt=qe.points,yt=qe.velocities,mt=qe.divergences,at=[],st=[],Tt=[],At=[],Pt=[],kt=[],Ze=0,Xe=0,He=r.create(),We=r.create(),rt=0;rt<dt.length;rt++){var nt=dt[rt],ze=yt[rt],Be=mt[rt];0===Je&&(Be=.05*it),Xe=i.length(ze)/Qe,He=r.create(),i.copy(He,ze),He[3]=Be;for(var tt=0;tt<8;tt++)Pt[tt]=[nt[0],nt[1],nt[2],tt];if(At.length>0)for(tt=0;tt<8;tt++){var et=(tt+1)%8;at.push(At[tt],Pt[tt],Pt[et],Pt[et],At[et],At[tt]),Tt.push(We,He,He,He,We,We),kt.push(Ze,Xe,Xe,Xe,Ze,Ze);var gt=at.length;st.push([gt-6,gt-5,gt-4],[gt-3,gt-2,gt-1])}var pt=At;At=Pt,Pt=pt;var vt=We;We=He,He=vt;var ut=Ze;Ze=Xe,Xe=ut}return{positions:at,cells:st,vectors:Tt,vertexIntensity:kt}}(je,_e,we,se)}),be=[],Ie=[],Fe=[],ce=[];for(ae=0;ae<ke.length;ae++){var Te=ke[ae],ve=be.length;for(be=be.concat(Te.positions),Fe=Fe.concat(Te.vectors),ce=ce.concat(Te.vertexIntensity),Ee=0;Ee<Te.cells.length;Ee++){var Ce=Te.cells[Ee],Re=[];Ie.push(Re);for(var Oe=0;Oe<Ce.length;Oe++)Re.push(Ce[Oe]+ve)}}return{positions:be,cells:Ie,vectors:Fe,vertexIntensity:ce,colormap:Pe}}(E,x.colormap,G,j);return m?pe.tubeScale=m:(0===G&&(G=1),pe.tubeScale=.5*v*j/G),pe};var p=t(9578),c=t(1140).createMesh;d.exports.createTubeMesh=function(x,g){return c(x,g,{shaders:p,traceType:"streamtube"})}},9054:function(d,a,t){var i=t(5158),r=t(6832),n=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);a.createShader=function(p){var c=i(p,n,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},a.createPickShader=function(p){var c=i(p,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},a.createContourShader=function(p){var c=i(p,s,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},a.createPickContourShader=function(p){var c=i(p,s,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},3754:function(d,a,t){"use strict";d.exports=function(oe){var ue=oe.gl,xe=f(ue),Me=w(ue),me=S(ue),pe=E(ue),ge=r(ue),Pe=n(ue,[{buffer:ge,size:4,stride:L,offset:0},{buffer:ge,size:3,stride:L,offset:16},{buffer:ge,size:3,stride:L,offset:28}]),_e=r(ue),we=n(ue,[{buffer:_e,size:4,stride:20,offset:0},{buffer:_e,size:1,stride:20,offset:16}]),se=r(ue),ae=n(ue,[{buffer:se,size:2,type:ue.FLOAT}]),fe=o(ue,1,P,ue.RGBA,ue.UNSIGNED_BYTE);fe.minFilter=ue.LINEAR,fe.magFilter=ue.LINEAR;var Ee=new U(ue,[0,0],[[0,0,0],[0,0,0]],xe,Me,ge,Pe,fe,me,pe,_e,we,se,ae,[0,0,0]),ke={levels:[[],[],[]]};for(var be in oe)ke[be]=oe[be];return ke.colormap=ke.colormap||"jet",Ee.update(ke),Ee};var i=t(2288),r=t(5827),n=t(2944),o=t(8931),s=t(5306),u=t(9156),p=t(7498),c=t(7382),x=t(5050),g=t(4162),h=t(104),y=t(7437),v=t(5070),m=t(9144),_=t(9054),f=_.createShader,S=_.createContourShader,w=_.createPickShader,E=_.createPickContourShader,L=40,C=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],O=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],R=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function q(oe,ue,xe,Me,me){this.position=oe,this.index=ue,this.uv=xe,this.level=Me,this.dataCoordinate=me}!function(){for(var oe=0;oe<3;++oe){var ue=R[oe],xe=(oe+2)%3;ue[(oe+1)%3+0]=1,ue[xe+3]=1,ue[oe+6]=1}}();var P=256;function U(oe,ue,xe,Me,me,pe,ge,Pe,_e,we,se,ae,fe,Ee,ke){this.gl=oe,this.shape=ue,this.bounds=xe,this.objectOffset=ke,this.intensityBounds=[],this._shader=Me,this._pickShader=me,this._coordinateBuffer=pe,this._vao=ge,this._colorMap=Pe,this._contourShader=_e,this._contourPickShader=we,this._contourBuffer=se,this._contourVAO=ae,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new q([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=fe,this._dynamicVAO=Ee,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[x(s.mallocFloat(1024),[0,0]),x(s.mallocFloat(1024),[0,0]),x(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var N=U.prototype;N.genColormap=function(oe,ue){var xe=!1,Me=c([u({colormap:oe,nshades:P,format:"rgba"}).map(function(me,pe){var ge=ue?function(Pe,_e){if(!_e||!_e.length)return 1;for(var we=0;we<_e.length;++we){if(_e.length<2)return 1;if(_e[we][0]===Pe)return _e[we][1];if(_e[we][0]>Pe&&we>0){var se=(_e[we][0]-Pe)/(_e[we][0]-_e[we-1][0]);return _e[we][1]*(1-se)+se*_e[we-1][1]}}return 1}(pe/255,ue):me[3];return ge<1&&(xe=!0),[me[0],me[1],me[2],255*ge]})]);return p.divseq(Me,255),this.hasAlphaScale=xe,Me},N.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},N.isOpaque=function(){return!this.isTransparent()},N.pickSlots=1,N.setPickBase=function(oe){this.pickId=oe};var F=[0,0,0],j={showSurface:!1,showContour:!1,projections:[C.slice(),C.slice(),C.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function G(oe,ue){var xe,Me,me,pe=ue.axes&&ue.axes.lastCubeProps.axis||F,ge=ue.showSurface,Pe=ue.showContour;for(xe=0;xe<3;++xe)for(ge=ge||ue.surfaceProject[xe],Me=0;Me<3;++Me)Pe=Pe||ue.contourProject[xe][Me];for(xe=0;xe<3;++xe){var _e=j.projections[xe];for(Me=0;Me<16;++Me)_e[Me]=0;for(Me=0;Me<4;++Me)_e[5*Me]=1;_e[5*xe]=0,_e[12+xe]=ue.axesBounds[+(pe[xe]>0)][xe],h(_e,oe.model,_e);var we=j.clipBounds[xe];for(me=0;me<2;++me)for(Me=0;Me<3;++Me)we[me][Me]=oe.clipBounds[me][Me];we[0][xe]=-1e8,we[1][xe]=1e8}return j.showSurface=ge,j.showContour=Pe,j}var te={model:C,view:C,projection:C,inverseModel:C.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},J=C.slice(),X=[1,0,0,0,1,0,0,0,1];function Y(oe,ue){oe=oe||{};var xe=this.gl;xe.disable(xe.CULL_FACE),this._colorMap.bind(0);var Me=te;Me.model=oe.model||C,Me.view=oe.view||C,Me.projection=oe.projection||C,Me.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],Me.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],Me.objectOffset=this.objectOffset,Me.contourColor=this.contourColor[0],Me.inverseModel=y(Me.inverseModel,Me.model);for(var me=0;me<2;++me)for(var pe=Me.clipBounds[me],ge=0;ge<3;++ge)pe[ge]=Math.min(Math.max(this.clipBounds[me][ge],-1e8),1e8);Me.kambient=this.ambientLight,Me.kdiffuse=this.diffuseLight,Me.kspecular=this.specularLight,Me.roughness=this.roughness,Me.fresnel=this.fresnel,Me.opacity=this.opacity,Me.height=0,Me.permutation=X,Me.vertexColor=this.vertexColor;var Pe=J;for(h(Pe,Me.view,Me.model),h(Pe,Me.projection,Pe),y(Pe,Pe),me=0;me<3;++me)Me.eyePosition[me]=Pe[12+me]/Pe[15];var _e=Pe[15];for(me=0;me<3;++me)_e+=this.lightPosition[me]*Pe[4*me+3];for(me=0;me<3;++me){var we=Pe[12+me];for(ge=0;ge<3;++ge)we+=Pe[4*ge+me]*this.lightPosition[ge];Me.lightPosition[me]=we/_e}var se=G(Me,this);if(se.showSurface){for(this._shader.bind(),this._shader.uniforms=Me,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(xe.TRIANGLES,this._vertexCount),me=0;me<3;++me)this.surfaceProject[me]&&this.vertexCount&&(this._shader.uniforms.model=se.projections[me],this._shader.uniforms.clipBounds=se.clipBounds[me],this._vao.draw(xe.TRIANGLES,this._vertexCount));this._vao.unbind()}if(se.showContour){var ae=this._contourShader;Me.kambient=1,Me.kdiffuse=0,Me.kspecular=0,Me.opacity=1,ae.bind(),ae.uniforms=Me;var fe=this._contourVAO;for(fe.bind(),me=0;me<3;++me)for(ae.uniforms.permutation=R[me],xe.lineWidth(this.contourWidth[me]*this.pixelRatio),ge=0;ge<this.contourLevels[me].length;++ge)ge===this.highlightLevel[me]?(ae.uniforms.contourColor=this.highlightColor[me],ae.uniforms.contourTint=this.highlightTint[me]):0!==ge&&ge-1!==this.highlightLevel[me]||(ae.uniforms.contourColor=this.contourColor[me],ae.uniforms.contourTint=this.contourTint[me]),this._contourCounts[me][ge]&&(ae.uniforms.height=this.contourLevels[me][ge],fe.draw(xe.LINES,this._contourCounts[me][ge],this._contourOffsets[me][ge]));for(me=0;me<3;++me)for(ae.uniforms.model=se.projections[me],ae.uniforms.clipBounds=se.clipBounds[me],ge=0;ge<3;++ge)if(this.contourProject[me][ge]){ae.uniforms.permutation=R[ge],xe.lineWidth(this.contourWidth[ge]*this.pixelRatio);for(var Ee=0;Ee<this.contourLevels[ge].length;++Ee)Ee===this.highlightLevel[ge]?(ae.uniforms.contourColor=this.highlightColor[ge],ae.uniforms.contourTint=this.highlightTint[ge]):0!==Ee&&Ee-1!==this.highlightLevel[ge]||(ae.uniforms.contourColor=this.contourColor[ge],ae.uniforms.contourTint=this.contourTint[ge]),this._contourCounts[ge][Ee]&&(ae.uniforms.height=this.contourLevels[ge][Ee],fe.draw(xe.LINES,this._contourCounts[ge][Ee],this._contourOffsets[ge][Ee]))}for(fe.unbind(),(fe=this._dynamicVAO).bind(),me=0;me<3;++me)if(0!==this._dynamicCounts[me])for(ae.uniforms.model=Me.model,ae.uniforms.clipBounds=Me.clipBounds,ae.uniforms.permutation=R[me],xe.lineWidth(this.dynamicWidth[me]*this.pixelRatio),ae.uniforms.contourColor=this.dynamicColor[me],ae.uniforms.contourTint=this.dynamicTint[me],ae.uniforms.height=this.dynamicLevel[me],fe.draw(xe.LINES,this._dynamicCounts[me],this._dynamicOffsets[me]),ge=0;ge<3;++ge)this.contourProject[ge][me]&&(ae.uniforms.model=se.projections[ge],ae.uniforms.clipBounds=se.clipBounds[ge],fe.draw(xe.LINES,this._dynamicCounts[me],this._dynamicOffsets[me]));fe.unbind()}}N.draw=function(oe){return Y.call(this,oe,!1)},N.drawTransparent=function(oe){return Y.call(this,oe,!0)};var W={model:C,view:C,projection:C,inverseModel:C,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function $(oe,ue){return Array.isArray(oe)?[ue(oe[0]),ue(oe[1]),ue(oe[2])]:[ue(oe),ue(oe),ue(oe)]}function ne(oe){return Array.isArray(oe)?3===oe.length?[oe[0],oe[1],oe[2],1]:[oe[0],oe[1],oe[2],oe[3]]:[0,0,0,1]}function re(oe){if(Array.isArray(oe)){if(Array.isArray(oe))return[ne(oe[0]),ne(oe[1]),ne(oe[2])];var ue=ne(oe);return[ue.slice(),ue.slice(),ue.slice()]}}N.drawPick=function(oe){oe=oe||{};var ue=this.gl;ue.disable(ue.CULL_FACE);var xe=W;xe.model=oe.model||C,xe.view=oe.view||C,xe.projection=oe.projection||C,xe.shape=this._field[2].shape,xe.pickId=this.pickId/255,xe.lowerBound=this.bounds[0],xe.upperBound=this.bounds[1],xe.objectOffset=this.objectOffset,xe.permutation=X;for(var Me=0;Me<2;++Me)for(var me=xe.clipBounds[Me],pe=0;pe<3;++pe)me[pe]=Math.min(Math.max(this.clipBounds[Me][pe],-1e8),1e8);var ge=G(xe,this);if(ge.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=xe,this._vao.bind(),this._vao.draw(ue.TRIANGLES,this._vertexCount),Me=0;Me<3;++Me)this.surfaceProject[Me]&&(this._pickShader.uniforms.model=ge.projections[Me],this._pickShader.uniforms.clipBounds=ge.clipBounds[Me],this._vao.draw(ue.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ge.showContour){var Pe=this._contourPickShader;Pe.bind(),Pe.uniforms=xe;var _e=this._contourVAO;for(_e.bind(),pe=0;pe<3;++pe)for(ue.lineWidth(this.contourWidth[pe]*this.pixelRatio),Pe.uniforms.permutation=R[pe],Me=0;Me<this.contourLevels[pe].length;++Me)this._contourCounts[pe][Me]&&(Pe.uniforms.height=this.contourLevels[pe][Me],_e.draw(ue.LINES,this._contourCounts[pe][Me],this._contourOffsets[pe][Me]));for(Me=0;Me<3;++Me)for(Pe.uniforms.model=ge.projections[Me],Pe.uniforms.clipBounds=ge.clipBounds[Me],pe=0;pe<3;++pe)if(this.contourProject[Me][pe]){Pe.uniforms.permutation=R[pe],ue.lineWidth(this.contourWidth[pe]*this.pixelRatio);for(var we=0;we<this.contourLevels[pe].length;++we)this._contourCounts[pe][we]&&(Pe.uniforms.height=this.contourLevels[pe][we],_e.draw(ue.LINES,this._contourCounts[pe][we],this._contourOffsets[pe][we]))}_e.unbind()}},N.pick=function(oe){if(!oe||oe.id!==this.pickId)return null;var ue=this._field[2].shape,xe=this._pickResult,Me=ue[0]*(oe.value[0]+(oe.value[2]>>4)/16)/255,me=Math.floor(Me),pe=Me-me,ge=ue[1]*(oe.value[1]+(15&oe.value[2])/16)/255,Pe=Math.floor(ge),_e=ge-Pe;me+=1,Pe+=1;var we=xe.position;we[0]=we[1]=we[2]=0;for(var se=0;se<2;++se)for(var ae=se?pe:1-pe,fe=0;fe<2;++fe)for(var Ee=me+se,ke=Pe+fe,be=ae*(fe?_e:1-_e),Ie=0;Ie<3;++Ie)we[Ie]+=this._field[Ie].get(Ee,ke)*be;for(var Fe=this._pickResult.level,ce=0;ce<3;++ce)if(Fe[ce]=v.le(this.contourLevels[ce],we[ce]),Fe[ce]<0)this.contourLevels[ce].length>0&&(Fe[ce]=0);else if(Fe[ce]<this.contourLevels[ce].length-1){var ve=this.contourLevels[ce][Fe[ce]+1];Math.abs(this.contourLevels[ce][Fe[ce]]-we[ce])>Math.abs(ve-we[ce])&&(Fe[ce]+=1)}for(xe.index[0]=pe<.5?me:me+1,xe.index[1]=_e<.5?Pe:Pe+1,xe.uv[0]=Me/ue[0],xe.uv[1]=ge/ue[1],Ie=0;Ie<3;++Ie)xe.dataCoordinate[Ie]=this._field[Ie].get(xe.index[0],xe.index[1]);return xe},N.padField=function(oe,ue){var xe=ue.shape.slice(),Me=oe.shape.slice();p.assign(oe.lo(1,1).hi(xe[0],xe[1]),ue),p.assign(oe.lo(1).hi(xe[0],1),ue.hi(xe[0],1)),p.assign(oe.lo(1,Me[1]-1).hi(xe[0],1),ue.lo(0,xe[1]-1).hi(xe[0],1)),p.assign(oe.lo(0,1).hi(1,xe[1]),ue.hi(1)),p.assign(oe.lo(Me[0]-1,1).hi(1,xe[1]),ue.lo(xe[0]-1)),oe.set(0,0,ue.get(0,0)),oe.set(0,Me[1]-1,ue.get(0,xe[1]-1)),oe.set(Me[0]-1,0,ue.get(xe[0]-1,0)),oe.set(Me[0]-1,Me[1]-1,ue.get(xe[0]-1,xe[1]-1))},N.update=function(oe){this.objectOffset=(oe=oe||{}).objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in oe&&(this.contourWidth=$(oe.contourWidth,Number)),"showContour"in oe&&(this.showContour=$(oe.showContour,Boolean)),"showSurface"in oe&&(this.showSurface=!!oe.showSurface),"contourTint"in oe&&(this.contourTint=$(oe.contourTint,Boolean)),"contourColor"in oe&&(this.contourColor=re(oe.contourColor)),"contourProject"in oe&&(this.contourProject=$(oe.contourProject,function(nn){return $(nn,Boolean)})),"surfaceProject"in oe&&(this.surfaceProject=oe.surfaceProject),"dynamicColor"in oe&&(this.dynamicColor=re(oe.dynamicColor)),"dynamicTint"in oe&&(this.dynamicTint=$(oe.dynamicTint,Number)),"dynamicWidth"in oe&&(this.dynamicWidth=$(oe.dynamicWidth,Number)),"opacity"in oe&&(this.opacity=oe.opacity),"opacityscale"in oe&&(this.opacityscale=oe.opacityscale),"colorBounds"in oe&&(this.colorBounds=oe.colorBounds),"vertexColor"in oe&&(this.vertexColor=oe.vertexColor?1:0),"colormap"in oe&&this._colorMap.setPixels(this.genColormap(oe.colormap,this.opacityscale));var ue=oe.field||oe.coords&&oe.coords[2]||null,xe=!1;if(ue||(ue=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in oe||"coords"in oe){var Me=(ue.shape[0]+2)*(ue.shape[1]+2);Me>this._field[2].data.length&&(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(i.nextPow2(Me))),this._field[2]=x(this._field[2].data,[ue.shape[0]+2,ue.shape[1]+2]),this.padField(this._field[2],ue),this.shape=ue.shape.slice();for(var me=this.shape,pe=0;pe<2;++pe)this._field[2].size>this._field[pe].data.length&&(s.freeFloat(this._field[pe].data),this._field[pe].data=s.mallocFloat(this._field[2].size)),this._field[pe]=x(this._field[pe].data,[me[0]+2,me[1]+2]);if(oe.coords){var ge=oe.coords;if(!Array.isArray(ge)||3!==ge.length)throw new Error("gl-surface: invalid coordinates for x/y");for(pe=0;pe<2;++pe){var Pe=ge[pe];for(fe=0;fe<2;++fe)if(Pe.shape[fe]!==me[fe])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[pe],Pe)}}else if(oe.ticks){var _e=oe.ticks;if(!Array.isArray(_e)||2!==_e.length)throw new Error("gl-surface: invalid ticks");for(pe=0;pe<2;++pe){var we=_e[pe];if((Array.isArray(we)||we.length)&&(we=x(we)),we.shape[0]!==me[pe])throw new Error("gl-surface: invalid tick length");var se=x(we.data,me);se.stride[pe]=we.stride[0],se.stride[1^pe]=0,this.padField(this._field[pe],se)}}else{for(pe=0;pe<2;++pe){var ae=[0,0];ae[pe]=1,this._field[pe]=x(this._field[pe].data,[me[0]+2,me[1]+2],ae,0)}this._field[0].set(0,0,0);for(var fe=0;fe<me[0];++fe)this._field[0].set(fe+1,0,fe);for(this._field[0].set(me[0]+1,0,me[0]-1),this._field[1].set(0,0,0),fe=0;fe<me[1];++fe)this._field[1].set(0,fe+1,fe);this._field[1].set(0,me[1]+1,me[1]-1)}var Ee=this._field,ke=x(s.mallocFloat(3*Ee[2].size*2),[3,me[0]+2,me[1]+2,2]);for(pe=0;pe<3;++pe)m(ke.pick(pe),Ee[pe],"mirror");var be=x(s.mallocFloat(3*Ee[2].size),[me[0]+2,me[1]+2,3]);for(pe=0;pe<me[0]+2;++pe)for(fe=0;fe<me[1]+2;++fe){var Ie=ke.get(0,pe,fe,0),Fe=ke.get(0,pe,fe,1),ce=ke.get(1,pe,fe,0),Te=ke.get(1,pe,fe,1),ve=ke.get(2,pe,fe,0),Ce=ke.get(2,pe,fe,1),Re=ce*Ce-Te*ve,Oe=ve*Fe-Ce*Ie,je=Ie*Te-Fe*ce,qe=Math.sqrt(Re*Re+Oe*Oe+je*je);qe<1e-8?(qe=Math.max(Math.abs(Re),Math.abs(Oe),Math.abs(je)))<1e-8?(je=1,Oe=Re=0,qe=1):qe=1/qe:qe=1/Math.sqrt(qe),be.set(pe,fe,0,Re*qe),be.set(pe,fe,1,Oe*qe),be.set(pe,fe,2,je*qe)}s.free(ke.data);var Je=[1/0,1/0,1/0],it=[-1/0,-1/0,-1/0],Qe=1/0,dt=-1/0,mt=s.mallocFloat(i.nextPow2((me[0]-1)*(me[1]-1)*6*10)),at=0,st=0;for(pe=0;pe<me[0]-1;++pe)e:for(fe=0;fe<me[1]-1;++fe){for(var Tt=0;Tt<2;++Tt)for(var At=0;At<2;++At)for(var Pt=0;Pt<3;++Pt){var kt=this._field[Pt].get(1+pe+Tt,1+fe+At);if(isNaN(kt)||!isFinite(kt))continue e}for(Pt=0;Pt<6;++Pt){var Ze=pe+O[Pt][0],Xe=fe+O[Pt][1],He=this._field[0].get(Ze+1,Xe+1),We=this._field[1].get(Ze+1,Xe+1);kt=this._field[2].get(Ze+1,Xe+1),Re=be.get(Ze+1,Xe+1,0),Oe=be.get(Ze+1,Xe+1,1),je=be.get(Ze+1,Xe+1,2),oe.intensity&&(rt=oe.intensity.get(Ze,Xe));var rt=oe.intensity?oe.intensity.get(Ze,Xe):kt+this.objectOffset[2];mt[at++]=Ze,mt[at++]=Xe,mt[at++]=He,mt[at++]=We,mt[at++]=kt,mt[at++]=0,mt[at++]=rt,mt[at++]=Re,mt[at++]=Oe,mt[at++]=je,Je[0]=Math.min(Je[0],He+this.objectOffset[0]),Je[1]=Math.min(Je[1],We+this.objectOffset[1]),Je[2]=Math.min(Je[2],kt+this.objectOffset[2]),Qe=Math.min(Qe,rt),it[0]=Math.max(it[0],He+this.objectOffset[0]),it[1]=Math.max(it[1],We+this.objectOffset[1]),it[2]=Math.max(it[2],kt+this.objectOffset[2]),dt=Math.max(dt,rt),st+=1}}for(oe.intensityBounds&&(Qe=+oe.intensityBounds[0],dt=+oe.intensityBounds[1]),pe=6;pe<at;pe+=10)mt[pe]=(mt[pe]-Qe)/(dt-Qe);this._vertexCount=st,this._coordinateBuffer.update(mt.subarray(0,at)),s.freeFloat(mt),s.free(be.data),this.bounds=[Je,it],this.intensity=oe.intensity||this._field[2],this.intensityBounds[0]===Qe&&this.intensityBounds[1]===dt||(xe=!0),this.intensityBounds=[Qe,dt]}if("levels"in oe){var nt=oe.levels;for(nt=Array.isArray(nt[0])?nt.slice():[[],[],nt],pe=0;pe<3;++pe)nt[pe]=nt[pe].slice(),nt[pe].sort(function(nn,Xt){return nn-Xt});for(pe=0;pe<3;++pe)for(fe=0;fe<nt[pe].length;++fe)nt[pe][fe]-=this.objectOffset[pe];e:for(pe=0;pe<3;++pe){if(nt[pe].length!==this.contourLevels[pe].length){xe=!0;break}for(fe=0;fe<nt[pe].length;++fe)if(nt[pe][fe]!==this.contourLevels[pe][fe]){xe=!0;break e}}this.contourLevels=nt}if(xe){Ee=this._field,me=this.shape;for(var ze=[],Be=0;Be<3;++Be){var tt=this.contourLevels[Be],et=[],gt=[],pt=[0,0,0];for(pe=0;pe<tt.length;++pe){var vt=g(this._field[Be],tt[pe]);et.push(ze.length/5|0),st=0;e:for(fe=0;fe<vt.cells.length;++fe){var ut=vt.cells[fe];for(Pt=0;Pt<2;++Pt){var wt=vt.positions[ut[Pt]],ct=wt[0],ft=0|Math.floor(ct),bt=ct-ft,It=wt[1],Dt=0|Math.floor(It),Nt=It-Dt,$t=!1;t:for(var jt=0;jt<3;++jt){pt[jt]=0;var Yt=(Be+jt+1)%3;for(Tt=0;Tt<2;++Tt){var Gt=Tt?bt:1-bt;for(Ze=0|Math.min(Math.max(ft+Tt,0),me[0]),At=0;At<2;++At){var hn=At?Nt:1-Nt;if(Xe=0|Math.min(Math.max(Dt+At,0),me[1]),kt=jt<2?this._field[Yt].get(Ze,Xe):(this.intensity.get(Ze,Xe)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(kt)||isNaN(kt)){$t=!0;break t}pt[jt]+=Gt*hn*kt}}}if($t){if(Pt>0){for(var on=0;on<5;++on)ze.pop();st-=1}continue e}ze.push(pt[0],pt[1],wt[0],wt[1],pt[2]),st+=1}}gt.push(st)}this._contourOffsets[Be]=et,this._contourCounts[Be]=gt}var Ut=s.mallocFloat(ze.length);for(pe=0;pe<ze.length;++pe)Ut[pe]=ze[pe];this._contourBuffer.update(Ut),s.freeFloat(Ut)}},N.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var oe=0;oe<3;++oe)s.freeFloat(this._field[oe].data)},N.highlight=function(oe){var ue,xe;if(!oe)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(ue=0;ue<3;++ue)this.highlightLevel[ue]=this.enableHighlight[ue]?oe.level[ue]:-1;for(xe=this.snapToData?oe.dataCoordinate:oe.position,ue=0;ue<3;++ue)xe[ue]-=this.objectOffset[ue];if(this.enableDynamic[0]&&xe[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&xe[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&xe[2]!==this.dynamicLevel[2]){for(var Me=0,me=this.shape,pe=s.mallocFloat(12*me[0]*me[1]),ge=0;ge<3;++ge)if(this.enableDynamic[ge]){this.dynamicLevel[ge]=xe[ge];var se=this._field[(ge+1)%3],ae=this._field[(ge+2)%3],fe=g(this._field[ge],xe[ge]),Ee=fe.cells,ke=fe.positions;for(this._dynamicOffsets[ge]=Me,ue=0;ue<Ee.length;++ue)for(var be=Ee[ue],Ie=0;Ie<2;++Ie){var Fe=ke[be[Ie]],ce=+Fe[0],Te=0|ce,ve=0|Math.min(Te+1,me[0]),Ce=ce-Te,Re=1-Ce,Oe=+Fe[1],je=0|Oe,qe=0|Math.min(je+1,me[1]),Je=Oe-je,it=1-Je,Qe=Re*it,dt=Re*Je,yt=Ce*it,mt=Ce*Je,at=Qe*se.get(Te,je)+dt*se.get(Te,qe)+yt*se.get(ve,je)+mt*se.get(ve,qe),st=Qe*ae.get(Te,je)+dt*ae.get(Te,qe)+yt*ae.get(ve,je)+mt*ae.get(ve,qe);if(isNaN(at)||isNaN(st)){Ie&&(Me-=1);break}pe[2*Me+0]=at,pe[2*Me+1]=st,Me+=1}this._dynamicCounts[ge]=Me-this._dynamicOffsets[ge]}else this.dynamicLevel[ge]=NaN,this._dynamicCounts[ge]=0;this._dynamicBuffer.update(pe.subarray(0,2*Me)),s.freeFloat(pe)}}},8931:function(d,a,t){"use strict";var i=t(5050),r=t(7498),n=t(5306);d.exports=function(_){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(o||(o=[(w=_).LINEAR,w.NEAREST_MIPMAP_LINEAR,w.LINEAR_MIPMAP_NEAREST,w.LINEAR_MIPMAP_NEAREST],s=[w.NEAREST,w.LINEAR,w.NEAREST_MIPMAP_NEAREST,w.NEAREST_MIPMAP_LINEAR,w.LINEAR_MIPMAP_NEAREST,w.LINEAR_MIPMAP_LINEAR],u=[w.REPEAT,w.CLAMP_TO_EDGE,w.MIRRORED_REPEAT]),"number"==typeof arguments[1])return m(_,arguments[1],arguments[2],arguments[3]||_.RGBA,arguments[4]||_.UNSIGNED_BYTE);var w;if(Array.isArray(arguments[1]))return m(_,0|arguments[1][0],0|arguments[1][1],arguments[2]||_.RGBA,arguments[3]||_.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var f=arguments[1],S=p(f)?f:f.raw;if(S)return function(w,E,L,C,O,R){var q=v(w);return w.texImage2D(w.TEXTURE_2D,0,O,O,R,E),new g(w,q,L,C,O,R)}(_,S,0|f.width,0|f.height,arguments[2]||_.RGBA,arguments[3]||_.UNSIGNED_BYTE);if(f.shape&&f.data&&f.stride)return function(w,E){var L=E.dtype,C=E.shape.slice(),O=w.getParameter(w.MAX_TEXTURE_SIZE);if(C[0]<0||C[0]>O||C[1]<0||C[1]>O)throw new Error("gl-texture2d: Invalid texture size");var R=y(C,E.stride.slice()),q=0;"float32"===L?q=w.FLOAT:"float64"===L?(q=w.FLOAT,R=!1,L="float32"):"uint8"===L?q=w.UNSIGNED_BYTE:(q=w.UNSIGNED_BYTE,R=!1,L="uint8");var P,U,N=0;if(2===C.length)N=w.LUMINANCE,E=i(E.data,C=[C[0],C[1],1],[E.stride[0],E.stride[1],1],E.offset);else{if(3!==C.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===C[2])N=w.ALPHA;else if(2===C[2])N=w.LUMINANCE_ALPHA;else if(3===C[2])N=w.RGB;else{if(4!==C[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");N=w.RGBA}}q!==w.FLOAT||w.getExtension("OES_texture_float")||(q=w.UNSIGNED_BYTE,R=!1);var F=E.size;if(R)P=0===E.offset&&E.data.length===F?E.data:E.data.subarray(E.offset,E.offset+F);else{var j=[C[2],C[2]*C[0],1];U=n.malloc(F,L);var G=i(U,C,j,0);"float32"!==L&&"float64"!==L||q!==w.UNSIGNED_BYTE?r.assign(G,E):c(G,E),P=U.subarray(0,F)}var te=v(w);return w.texImage2D(w.TEXTURE_2D,0,N,C[0],C[1],0,N,q,P),R||n.free(U),new g(w,te,C[0],C[1],N,q)}(_,f)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var o=null,s=null,u=null;function p(_){return typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&_ instanceof HTMLVideoElement||typeof ImageData<"u"&&_ instanceof ImageData}var c=function(_,f){r.muls(_,f,255)};function x(_,f,S){var w=_.gl,E=w.getParameter(w.MAX_TEXTURE_SIZE);if(f<0||f>E||S<0||S>E)throw new Error("gl-texture2d: Invalid texture size");return _._shape=[f,S],_.bind(),w.texImage2D(w.TEXTURE_2D,0,_.format,f,S,0,_.format,_.type,null),_._mipLevels=[0],_}function g(_,f,S,w,E,L){this.gl=_,this.handle=f,this.format=E,this.type=L,this._shape=[S,w],this._mipLevels=[0],this._magFilter=_.NEAREST,this._minFilter=_.NEAREST,this._wrapS=_.CLAMP_TO_EDGE,this._wrapT=_.CLAMP_TO_EDGE,this._anisoSamples=1;var C=this,O=[this._wrapS,this._wrapT];Object.defineProperties(O,[{get:function(){return C._wrapS},set:function(q){return C.wrapS=q}},{get:function(){return C._wrapT},set:function(q){return C.wrapT=q}}]),this._wrapVector=O;var R=[this._shape[0],this._shape[1]];Object.defineProperties(R,[{get:function(){return C._shape[0]},set:function(q){return C.width=q}},{get:function(){return C._shape[1]},set:function(q){return C.height=q}}]),this._shapeVector=R}var h=g.prototype;function y(_,f){return 3===_.length?1===f[2]&&f[1]===_[0]*_[2]&&f[0]===_[2]:1===f[0]&&f[1]===_[0]}function v(_){var f=_.createTexture();return _.bindTexture(_.TEXTURE_2D,f),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),f}function m(_,f,S,w,E){var L=_.getParameter(_.MAX_TEXTURE_SIZE);if(f<0||f>L||S<0||S>L)throw new Error("gl-texture2d: Invalid texture shape");if(E===_.FLOAT&&!_.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var C=v(_);return _.texImage2D(_.TEXTURE_2D,0,w,f,S,0,w,E,null),new g(_,C,f,S,w,E)}Object.defineProperties(h,{minFilter:{get:function(){return this._minFilter},set:function(_){this.bind();var f=this.gl;if(this.type===f.FLOAT&&o.indexOf(_)>=0&&(f.getExtension("OES_texture_float_linear")||(_=f.NEAREST)),s.indexOf(_)<0)throw new Error("gl-texture2d: Unknown filter mode "+_);return f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,_),this._minFilter=_}},magFilter:{get:function(){return this._magFilter},set:function(_){this.bind();var f=this.gl;if(this.type===f.FLOAT&&o.indexOf(_)>=0&&(f.getExtension("OES_texture_float_linear")||(_=f.NEAREST)),s.indexOf(_)<0)throw new Error("gl-texture2d: Unknown filter mode "+_);return f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,_),this._magFilter=_}},mipSamples:{get:function(){return this._anisoSamples},set:function(_){var f=this._anisoSamples;if(this._anisoSamples=0|Math.max(_,1),f!==this._anisoSamples){var S=this.gl.getExtension("EXT_texture_filter_anisotropic");S&&this.gl.texParameterf(this.gl.TEXTURE_2D,S.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(_){if(this.bind(),u.indexOf(_)<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,_),this._wrapS=_}},wrapT:{get:function(){return this._wrapT},set:function(_){if(this.bind(),u.indexOf(_)<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,_),this._wrapT=_}},wrap:{get:function(){return this._wrapVector},set:function(_){if(Array.isArray(_)||(_=[_,_]),2!==_.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var f=0;f<2;++f)if(u.indexOf(_[f])<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);this._wrapS=_[0],this._wrapT=_[1];var S=this.gl;return this.bind(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,this._wrapS),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,this._wrapT),_}},shape:{get:function(){return this._shapeVector},set:function(_){if(Array.isArray(_)){if(2!==_.length)throw new Error("gl-texture2d: Invalid texture shape")}else _=[0|_,0|_];return x(this,0|_[0],0|_[1]),[0|_[0],0|_[1]]}},width:{get:function(){return this._shape[0]},set:function(_){return x(this,_|=0,this._shape[1]),_}},height:{get:function(){return this._shape[1]},set:function(_){return x(this,this._shape[0],_|=0),_}}}),h.bind=function(_){var f=this.gl;return void 0!==_&&f.activeTexture(f.TEXTURE0+(0|_)),f.bindTexture(f.TEXTURE_2D,this.handle),void 0!==_?0|_:f.getParameter(f.ACTIVE_TEXTURE)-f.TEXTURE0},h.dispose=function(){this.gl.deleteTexture(this.handle)},h.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var _=Math.min(this._shape[0],this._shape[1]),f=0;_>0;++f,_>>>=1)this._mipLevels.indexOf(f)<0&&this._mipLevels.push(f)},h.setPixels=function(_,f,S,w){var E=this.gl;this.bind(),Array.isArray(f)?(w=S,S=0|f[1],f=0|f[0]):(f=f||0,S=S||0),w=w||0;var L=p(_)?_:_.raw;if(L)this._mipLevels.indexOf(w)<0?(E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,this.type,L),this._mipLevels.push(w)):E.texSubImage2D(E.TEXTURE_2D,w,f,S,this.format,this.type,L);else{if(!(_.shape&&_.stride&&_.data))throw new Error("gl-texture2d: Unsupported data type");if(_.shape.length<2||f+_.shape[1]>this._shape[1]>>>w||S+_.shape[0]>this._shape[0]>>>w||f<0||S<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(C,O,R,q,P,U,N,F){var j=F.dtype,G=F.shape.slice();if(G.length<2||G.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var te=0,J=0,X=y(G,F.stride.slice());if("float32"===j?te=C.FLOAT:"float64"===j?(te=C.FLOAT,X=!1,j="float32"):"uint8"===j?te=C.UNSIGNED_BYTE:(te=C.UNSIGNED_BYTE,X=!1,j="uint8"),2===G.length)J=C.LUMINANCE,F=i(F.data,G=[G[0],G[1],1],[F.stride[0],F.stride[1],1],F.offset);else{if(3!==G.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===G[2])J=C.ALPHA;else if(2===G[2])J=C.LUMINANCE_ALPHA;else if(3===G[2])J=C.RGB;else{if(4!==G[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");J=C.RGBA}}if(J!==C.LUMINANCE&&J!==C.ALPHA||P!==C.LUMINANCE&&P!==C.ALPHA||(J=P),J!==P)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var Y=F.size,W=N.indexOf(q)<0;if(W&&N.push(q),te===U&&X)0===F.offset&&F.data.length===Y?W?C.texImage2D(C.TEXTURE_2D,q,P,G[0],G[1],0,P,U,F.data):C.texSubImage2D(C.TEXTURE_2D,q,O,R,G[0],G[1],P,U,F.data):W?C.texImage2D(C.TEXTURE_2D,q,P,G[0],G[1],0,P,U,F.data.subarray(F.offset,F.offset+Y)):C.texSubImage2D(C.TEXTURE_2D,q,O,R,G[0],G[1],P,U,F.data.subarray(F.offset,F.offset+Y));else{var $;$=U===C.FLOAT?n.mallocFloat32(Y):n.mallocUint8(Y);var ne=i($,G,[G[2],G[2]*G[0],1]);te===C.FLOAT&&U===C.UNSIGNED_BYTE?c(ne,F):r.assign(ne,F),W?C.texImage2D(C.TEXTURE_2D,q,P,G[0],G[1],0,P,U,$.subarray(0,Y)):C.texSubImage2D(C.TEXTURE_2D,q,O,R,G[0],G[1],P,U,$.subarray(0,Y)),U===C.FLOAT?n.freeFloat32($):n.freeUint8($)}}(E,f,S,w,this.format,this.type,this._mipLevels,_)}}},3056:function(d){"use strict";d.exports=function(a,t,i){t?t.bind():a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null);var r=0|a.getParameter(a.MAX_VERTEX_ATTRIBS);if(i){if(i.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var n=0;n<i.length;++n){var o=i[n];if(o.buffer){var u=o.size||4,p=o.type||a.FLOAT,c=!!o.normalized,x=o.stride||0,g=o.offset||0;o.buffer.bind(),a.enableVertexAttribArray(n),a.vertexAttribPointer(n,u,p,c,x,g)}else{if("number"==typeof o)a.vertexAttrib1f(n,o);else if(1===o.length)a.vertexAttrib1f(n,o[0]);else if(2===o.length)a.vertexAttrib2f(n,o[0],o[1]);else if(3===o.length)a.vertexAttrib3f(n,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");a.vertexAttrib4f(n,o[0],o[1],o[2],o[3])}a.disableVertexAttribArray(n)}}for(;n<r;++n)a.disableVertexAttribArray(n)}else for(a.bindBuffer(a.ARRAY_BUFFER,null),n=0;n<r;++n)a.disableVertexAttribArray(n)}},7220:function(d,a,t){"use strict";var i=t(3056);function r(n){this.gl=n,this._elements=null,this._attributes=null,this._elementsType=n.UNSIGNED_SHORT}r.prototype.bind=function(){i(this.gl,this._elements,this._attributes)},r.prototype.update=function(n,o,s){this._elements=o,this._attributes=n,this._elementsType=s||this.gl.UNSIGNED_SHORT},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(n,o,s){s=s||0;var u=this.gl;this._elements?u.drawElements(n,o,this._elementsType,s):u.drawArrays(n,s,o)},d.exports=function(n){return new r(n)}},3778:function(d,a,t){"use strict";var i=t(3056);function r(o,s,u,p,c,x){this.location=o,this.dimension=s,this.a=u,this.b=p,this.c=c,this.d=x}function n(o,s,u){this.gl=o,this._ext=s,this.handle=u,this._attribs=[],this._useElements=!1,this._elementsType=o.UNSIGNED_SHORT}r.prototype.bind=function(o){switch(this.dimension){case 1:o.vertexAttrib1f(this.location,this.a);break;case 2:o.vertexAttrib2f(this.location,this.a,this.b);break;case 3:o.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:o.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var o=0;o<this._attribs.length;++o)this._attribs[o].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(o,s,u){if(this.bind(),i(this.gl,s,o),this.unbind(),this._attribs.length=0,o)for(var p=0;p<o.length;++p){var c=o[p];"number"==typeof c?this._attribs.push(new r(p,1,c)):Array.isArray(c)&&this._attribs.push(new r(p,c.length,c[0],c[1],c[2],c[3]))}this._useElements=!!s,this._elementsType=u||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(o,s,u){u=u||0;var p=this.gl;this._useElements?p.drawElements(o,s,this._elementsType,u):p.drawArrays(o,u,s)},d.exports=function(o,s){return new n(o,s,s.createVertexArrayOES())}},2944:function(d,a,t){"use strict";var i=t(3778),r=t(7220);function n(o){this.bindVertexArrayOES=o.bindVertexArray.bind(o),this.createVertexArrayOES=o.createVertexArray.bind(o),this.deleteVertexArrayOES=o.deleteVertexArray.bind(o)}d.exports=function(o,s,u,p){var c,x=o.createVertexArray?new n(o):o.getExtension("OES_vertex_array_object");return(c=x?i(o,x):r(o)).update(s,u,p),c}},2598:function(d){d.exports=function(a,t,i){return a[0]=t[0]+i[0],a[1]=t[1]+i[1],a[2]=t[2]+i[2],a}},5879:function(d,a,t){d.exports=function(o,s){var u=i(o[0],o[1],o[2]),p=i(s[0],s[1],s[2]);r(u,u),r(p,p);var c=n(u,p);return c>1?0:Math.acos(c)};var i=t(5415),r=t(899),n=t(9305)},8827:function(d){d.exports=function(a,t){return a[0]=Math.ceil(t[0]),a[1]=Math.ceil(t[1]),a[2]=Math.ceil(t[2]),a}},7622:function(d){d.exports=function(a){var t=new Float32Array(3);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t}},8782:function(d){d.exports=function(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a}},8501:function(d){d.exports=function(){var a=new Float32Array(3);return a[0]=0,a[1]=0,a[2]=0,a}},903:function(d){d.exports=function(a,t,i){var r=t[0],n=t[1],o=t[2],s=i[0],u=i[1],p=i[2];return a[0]=n*p-o*u,a[1]=o*s-r*p,a[2]=r*u-n*s,a}},5981:function(d,a,t){d.exports=t(8288)},8288:function(d){d.exports=function(a,t){var i=t[0]-a[0],r=t[1]-a[1],n=t[2]-a[2];return Math.sqrt(i*i+r*r+n*n)}},8629:function(d,a,t){d.exports=t(7979)},7979:function(d){d.exports=function(a,t,i){return a[0]=t[0]/i[0],a[1]=t[1]/i[1],a[2]=t[2]/i[2],a}},9305:function(d){d.exports=function(a,t){return a[0]*t[0]+a[1]*t[1]+a[2]*t[2]}},154:function(d){d.exports=1e-6},4932:function(d,a,t){d.exports=function(r,n){var o=r[0],s=r[1],u=r[2],p=n[0],c=n[1],x=n[2];return Math.abs(o-p)<=i*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-c)<=i*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(u-x)<=i*Math.max(1,Math.abs(u),Math.abs(x))};var i=t(154)},5777:function(d){d.exports=function(a,t){return a[0]===t[0]&&a[1]===t[1]&&a[2]===t[2]}},3306:function(d){d.exports=function(a,t){return a[0]=Math.floor(t[0]),a[1]=Math.floor(t[1]),a[2]=Math.floor(t[2]),a}},7447:function(d,a,t){d.exports=function(r,n,o,s,u,p){var c,x;for(n||(n=3),o||(o=0),x=s?Math.min(s*n+o,r.length):r.length,c=o;c<x;c+=n)i[0]=r[c],i[1]=r[c+1],i[2]=r[c+2],u(i,i,p),r[c]=i[0],r[c+1]=i[1],r[c+2]=i[2];return r};var i=t(8501)()},5415:function(d){d.exports=function(a,t,i){var r=new Float32Array(3);return r[0]=a,r[1]=t,r[2]=i,r}},2858:function(d,a,t){d.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(d){d.exports=function(a,t){return a[0]=1/t[0],a[1]=1/t[1],a[2]=1/t[2],a}},1468:function(d,a,t){d.exports=t(4693)},4693:function(d){d.exports=function(a){var t=a[0],i=a[1],r=a[2];return Math.sqrt(t*t+i*i+r*r)}},1868:function(d){d.exports=function(a,t,i,r){var n=t[0],o=t[1],s=t[2];return a[0]=n+r*(i[0]-n),a[1]=o+r*(i[1]-o),a[2]=s+r*(i[2]-s),a}},1716:function(d){d.exports=function(a,t,i){return a[0]=Math.max(t[0],i[0]),a[1]=Math.max(t[1],i[1]),a[2]=Math.max(t[2],i[2]),a}},3605:function(d){d.exports=function(a,t,i){return a[0]=Math.min(t[0],i[0]),a[1]=Math.min(t[1],i[1]),a[2]=Math.min(t[2],i[2]),a}},5733:function(d,a,t){d.exports=t(105)},105:function(d){d.exports=function(a,t,i){return a[0]=t[0]*i[0],a[1]=t[1]*i[1],a[2]=t[2]*i[2],a}},435:function(d){d.exports=function(a,t){return a[0]=-t[0],a[1]=-t[1],a[2]=-t[2],a}},899:function(d){d.exports=function(a,t){var i=t[0],r=t[1],n=t[2],o=i*i+r*r+n*n;return o>0&&(o=1/Math.sqrt(o),a[0]=t[0]*o,a[1]=t[1]*o,a[2]=t[2]*o),a}},6660:function(d){d.exports=function(a,t){t=t||1;var i=2*Math.random()*Math.PI,r=2*Math.random()-1,n=Math.sqrt(1-r*r)*t;return a[0]=Math.cos(i)*n,a[1]=Math.sin(i)*n,a[2]=r*t,a}},392:function(d){d.exports=function(a,t,i,r){var n=i[1],o=i[2],s=t[1]-n,u=t[2]-o,p=Math.sin(r),c=Math.cos(r);return a[0]=t[0],a[1]=n+s*c-u*p,a[2]=o+s*p+u*c,a}},3222:function(d){d.exports=function(a,t,i,r){var n=i[0],o=i[2],s=t[0]-n,u=t[2]-o,p=Math.sin(r),c=Math.cos(r);return a[0]=n+u*p+s*c,a[1]=t[1],a[2]=o+u*c-s*p,a}},3388:function(d){d.exports=function(a,t,i,r){var n=i[0],o=i[1],s=t[0]-n,u=t[1]-o,p=Math.sin(r),c=Math.cos(r);return a[0]=n+s*c-u*p,a[1]=o+s*p+u*c,a[2]=t[2],a}},1624:function(d){d.exports=function(a,t){return a[0]=Math.round(t[0]),a[1]=Math.round(t[1]),a[2]=Math.round(t[2]),a}},5685:function(d){d.exports=function(a,t,i){return a[0]=t[0]*i,a[1]=t[1]*i,a[2]=t[2]*i,a}},6722:function(d){d.exports=function(a,t,i,r){return a[0]=t[0]+i[0]*r,a[1]=t[1]+i[1]*r,a[2]=t[2]+i[2]*r,a}},831:function(d){d.exports=function(a,t,i,r){return a[0]=t,a[1]=i,a[2]=r,a}},5294:function(d,a,t){d.exports=t(6403)},3303:function(d,a,t){d.exports=t(4337)},6403:function(d){d.exports=function(a,t){var i=t[0]-a[0],r=t[1]-a[1],n=t[2]-a[2];return i*i+r*r+n*n}},4337:function(d){d.exports=function(a){var t=a[0],i=a[1],r=a[2];return t*t+i*i+r*r}},8921:function(d,a,t){d.exports=t(911)},911:function(d){d.exports=function(a,t,i){return a[0]=t[0]-i[0],a[1]=t[1]-i[1],a[2]=t[2]-i[2],a}},9908:function(d){d.exports=function(a,t,i){var r=t[0],n=t[1],o=t[2];return a[0]=r*i[0]+n*i[3]+o*i[6],a[1]=r*i[1]+n*i[4]+o*i[7],a[2]=r*i[2]+n*i[5]+o*i[8],a}},3255:function(d){d.exports=function(a,t,i){var r=t[0],n=t[1],o=t[2],s=i[3]*r+i[7]*n+i[11]*o+i[15];return a[0]=(i[0]*r+i[4]*n+i[8]*o+i[12])/(s=s||1),a[1]=(i[1]*r+i[5]*n+i[9]*o+i[13])/s,a[2]=(i[2]*r+i[6]*n+i[10]*o+i[14])/s,a}},6568:function(d){d.exports=function(a,t,i){var r=t[0],n=t[1],o=t[2],s=i[0],u=i[1],p=i[2],c=i[3],x=c*r+u*o-p*n,g=c*n+p*r-s*o,h=c*o+s*n-u*r,y=-s*r-u*n-p*o;return a[0]=x*c+y*-s+g*-p-h*-u,a[1]=g*c+y*-u+h*-s-x*-p,a[2]=h*c+y*-p+x*-u-g*-s,a}},3433:function(d){d.exports=function(a,t,i){return a[0]=t[0]+i[0],a[1]=t[1]+i[1],a[2]=t[2]+i[2],a[3]=t[3]+i[3],a}},1413:function(d){d.exports=function(a){var t=new Float32Array(4);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t}},3470:function(d){d.exports=function(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a}},5313:function(d){d.exports=function(){var a=new Float32Array(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a}},5446:function(d){d.exports=function(a,t){var i=t[0]-a[0],r=t[1]-a[1],n=t[2]-a[2],o=t[3]-a[3];return Math.sqrt(i*i+r*r+n*n+o*o)}},205:function(d){d.exports=function(a,t,i){return a[0]=t[0]/i[0],a[1]=t[1]/i[1],a[2]=t[2]/i[2],a[3]=t[3]/i[3],a}},4242:function(d){d.exports=function(a,t){return a[0]*t[0]+a[1]*t[1]+a[2]*t[2]+a[3]*t[3]}},5680:function(d){d.exports=function(a,t,i,r){var n=new Float32Array(4);return n[0]=a,n[1]=t,n[2]=i,n[3]=r,n}},4020:function(d,a,t){d.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(d){d.exports=function(a,t){return a[0]=1/t[0],a[1]=1/t[1],a[2]=1/t[2],a[3]=1/t[3],a}},8177:function(d){d.exports=function(a){var t=a[0],i=a[1],r=a[2],n=a[3];return Math.sqrt(t*t+i*i+r*r+n*n)}},8746:function(d){d.exports=function(a,t,i,r){var n=t[0],o=t[1],s=t[2],u=t[3];return a[0]=n+r*(i[0]-n),a[1]=o+r*(i[1]-o),a[2]=s+r*(i[2]-s),a[3]=u+r*(i[3]-u),a}},3030:function(d){d.exports=function(a,t,i){return a[0]=Math.max(t[0],i[0]),a[1]=Math.max(t[1],i[1]),a[2]=Math.max(t[2],i[2]),a[3]=Math.max(t[3],i[3]),a}},2170:function(d){d.exports=function(a,t,i){return a[0]=Math.min(t[0],i[0]),a[1]=Math.min(t[1],i[1]),a[2]=Math.min(t[2],i[2]),a[3]=Math.min(t[3],i[3]),a}},746:function(d){d.exports=function(a,t,i){return a[0]=t[0]*i[0],a[1]=t[1]*i[1],a[2]=t[2]*i[2],a[3]=t[3]*i[3],a}},6459:function(d){d.exports=function(a,t){return a[0]=-t[0],a[1]=-t[1],a[2]=-t[2],a[3]=-t[3],a}},381:function(d){d.exports=function(a,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=i*i+r*r+n*n+o*o;return s>0&&(s=1/Math.sqrt(s),a[0]=i*s,a[1]=r*s,a[2]=n*s,a[3]=o*s),a}},3770:function(d,a,t){var i=t(381),r=t(5510);d.exports=function(n,o){return o=o||1,n[0]=Math.random(),n[1]=Math.random(),n[2]=Math.random(),n[3]=Math.random(),i(n,n),r(n,n,o),n}},5510:function(d){d.exports=function(a,t,i){return a[0]=t[0]*i,a[1]=t[1]*i,a[2]=t[2]*i,a[3]=t[3]*i,a}},4224:function(d){d.exports=function(a,t,i,r){return a[0]=t[0]+i[0]*r,a[1]=t[1]+i[1]*r,a[2]=t[2]+i[2]*r,a[3]=t[3]+i[3]*r,a}},6453:function(d){d.exports=function(a,t,i,r,n){return a[0]=t,a[1]=i,a[2]=r,a[3]=n,a}},1542:function(d){d.exports=function(a,t){var i=t[0]-a[0],r=t[1]-a[1],n=t[2]-a[2],o=t[3]-a[3];return i*i+r*r+n*n+o*o}},9037:function(d){d.exports=function(a){var t=a[0],i=a[1],r=a[2],n=a[3];return t*t+i*i+r*r+n*n}},2705:function(d){d.exports=function(a,t,i){return a[0]=t[0]-i[0],a[1]=t[1]-i[1],a[2]=t[2]-i[2],a[3]=t[3]-i[3],a}},6342:function(d){d.exports=function(a,t,i){var r=t[0],n=t[1],o=t[2],s=t[3];return a[0]=i[0]*r+i[4]*n+i[8]*o+i[12]*s,a[1]=i[1]*r+i[5]*n+i[9]*o+i[13]*s,a[2]=i[2]*r+i[6]*n+i[10]*o+i[14]*s,a[3]=i[3]*r+i[7]*n+i[11]*o+i[15]*s,a}},5022:function(d){d.exports=function(a,t,i){var r=t[0],n=t[1],o=t[2],s=i[0],u=i[1],p=i[2],c=i[3],x=c*r+u*o-p*n,g=c*n+p*r-s*o,h=c*o+s*n-u*r,y=-s*r-u*n-p*o;return a[0]=x*c+y*-s+g*-p-h*-u,a[1]=g*c+y*-u+h*-s-x*-p,a[2]=h*c+y*-p+x*-u-g*-s,a[3]=t[3],a}},9365:function(d,a,t){var i=t(8096),r=t(7896);d.exports=function(n){for(var o=Array.isArray(n)?n:i(n),s=0;s<o.length;s++){var u=o[s];if("preprocessor"===u.type){var p=u.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(p&&p[2]){var x=p[2];return(p[1]?r(x):x).trim()}}}}},3193:function(d,a,t){d.exports=function(C){var O,R,q,P=0,U=0,N=u,F=[],j=[],G=1,te=0,J=0,X=!1,Y=!1,W="",$=n,ne=i;"300 es"===(C=C||{}).version&&($=s,ne=o);var re={},oe={};for(P=0;P<$.length;P++)re[$[P]]=!0;for(P=0;P<ne.length;P++)oe[ne[P]]=!0;return function(fe){return j=[],null!==fe?function(Ee){var ke;for(P=0,Ee.toString&&(Ee=Ee.toString()),W+=Ee.replace(/\r\n/g,"\n"),q=W.length;O=W[P],P<q;){switch(ke=P,N){case c:P="/"===O&&"*"===R?(F.push(O),ue(F.join("")),N=u,P+1):(F.push(O),R=O,P+1);break;case x:case g:P="\r"!==O&&"\n"!==O||"\\"===R?(F.push(O),R=O,P+1):(ue(F.join("")),N=u,P);break;case h:P=ge();break;case y:P="."===O||/[eE]/.test(O)?(F.push(O),N=v,R=O,P+1):"x"===O&&1===F.length&&"0"===F[0]?(N=E,F.push(O),R=O,P+1):/[^\d]/.test(O)?(ue(F.join("")),N=u,P):(F.push(O),R=O,P+1);break;case E:P=/[^a-fA-F0-9]/.test(O)?(ue(F.join("")),N=u,P):(F.push(O),R=O,P+1);break;case v:"f"===O&&(F.push(O),R=O,P+=1),P=/[eE]/.test(O)?(F.push(O),R=O,P+1):("-"!==O&&"+"!==O||!/[eE]/.test(R))&&/[^\d]/.test(O)?(ue(F.join("")),N=u,P):(F.push(O),R=O,P+1);break;case p:P=ae();break;case S:P=/[^\s]/g.test(O)?(ue(F.join("")),N=u,P):(F.push(O),R=O,P+1);break;case u:F=F.length?[]:F,P="/"===R&&"*"===O?(J=U+P-1,N=c,R=O,P+1):"/"===R&&"/"===O?(J=U+P-1,N=x,R=O,P+1):"#"===O?(N=g,J=U+P,P):/\s/.test(O)?(N=S,J=U+P,P):(X=/\d/.test(O),Y=/[^\w_]/.test(O),J=U+P,N=X?y:Y?h:p,P)}ke!==P&&("\n"===W[ke]?(te=0,++G):++te)}return U+=P,W=W.slice(P),j}(fe):(F.length&&ue(F.join("")),N=w,ue("(eof)"),j)};function ue(fe){fe.length&&j.push({type:L[N],data:fe,position:J,line:G,column:te})}function ge(){if("."===R&&/\d/.test(O))return N=v,P;if("/"===R&&"*"===O)return N=c,P;if("/"===R&&"/"===O)return N=x,P;if("."===O&&F.length){for(;Pe(F););return N=v,P}if(";"===O||")"===O||"("===O){if(F.length)for(;Pe(F););return ue(O),N=u,P+1}var fe=2===F.length&&"="!==O;if(/[\w_\d\s]/.test(O)||fe){for(;Pe(F););return N=u,P}return F.push(O),R=O,P+1}function Pe(fe){for(var Ee,ke,be=0;;){if(Ee=r.indexOf(fe.slice(0,fe.length+be).join("")),ke=r[Ee],-1===Ee){if(be--+fe.length>0)continue;ke=fe.slice(0,1).join("")}return ue(ke),J+=ke.length,(F=F.slice(ke.length)).length}}function ae(){if(/[^\d\w_]/.test(O)){var fe=F.join("");return N=oe[fe]?f:re[fe]?_:m,ue(F.join("")),N=u,P}return F.push(O),R=O,P+1}};var i=t(399),r=t(9746),n=t(9525),o=t(9458),s=t(3585),u=999,p=9999,c=0,x=1,g=2,h=3,y=4,v=5,m=6,_=7,f=8,S=9,w=10,E=11,L=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(d,a,t){var i=t(9525);i=i.slice().filter(function(r){return!/^(gl\_|texture)/.test(r)}),d.exports=i.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(d){d.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(d,a,t){var i=t(399);d.exports=i.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(d){d.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(d){d.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(d,a,t){var i=t(3193);d.exports=function(r,n){var o=i(n),s=[];return(s=s.concat(o(r))).concat(o(null))}},6832:function(d){d.exports=function(a){"string"==typeof a&&(a=[a]);for(var t=[].slice.call(arguments,1),i=[],r=0;r<a.length-1;r++)i.push(a[r],t[r]||"");return i.push(a[r]),i.join("")}},5233:function(d,a,t){"use strict";var i=t(4846);d.exports=i&&function(){var r=!1;try{var n=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{r=!1}return r}()},2183:function(d,a,t){"use strict";d.exports=function(x,g){var h=x.length;if(0===h)throw new Error("Must have at least d+1 points");var y=x[0].length;if(h<=y)throw new Error("Must input at least d+1 points");var v=x.slice(0,y+1),m=i.apply(void 0,v);if(0===m)throw new Error("Input not in general position");for(var _=new Array(y+1),f=0;f<=y;++f)_[f]=f;m<0&&(_[0]=1,_[1]=0);var S=new n(_,new Array(y+1),!1),w=S.adjacent,E=new Array(y+2);for(f=0;f<=y;++f){for(var L=_.slice(),C=0;C<=y;++C)C===f&&(L[C]=-1);var O=L[0];L[0]=L[1],L[1]=O;var R=new n(L,new Array(y+1),!0);w[f]=R,E[f]=R}for(E[y+1]=S,f=0;f<=y;++f){L=w[f].vertices;var q=w[f].adjacent;for(C=0;C<=y;++C){var P=L[C];if(P<0)q[C]=S;else for(var U=0;U<=y;++U)w[U].vertices.indexOf(P)<0&&(q[C]=w[U])}}var N=new p(y,v,E),F=!!g;for(f=y+1;f<h;++f)N.insert(x[f],F);return N.boundary()};var i=t(417),r=t(8211).H;function n(x,g,h){this.vertices=x,this.adjacent=g,this.boundary=h,this.lastVisited=-1}function o(x,g,h){this.vertices=x,this.cell=g,this.index=h}function s(x,g){return r(x.vertices,g.vertices)}n.prototype.flip=function(){var x=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=x;var g=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=g};var u=[];function p(x,g,h){this.dimension=x,this.vertices=g,this.simplices=h,this.interior=h.filter(function(_){return!_.boundary}),this.tuple=new Array(x+1);for(var y=0;y<=x;++y)this.tuple[y]=this.vertices[y];var v,_,m=u[x];m||(m=u[x]=((v=i[x+1])||(v=i),_=v,function(){return _.apply(this,this.tuple)})),this.orient=m}var c=p.prototype;c.handleBoundaryDegeneracy=function(x,g){var h=this.dimension,y=this.vertices.length-1,v=this.tuple,m=this.vertices,_=[x];for(x.lastVisited=-y;_.length>0;)for(var f=(x=_.pop()).adjacent,S=0;S<=h;++S){var w=f[S];if(w.boundary&&!(w.lastVisited<=-y)){for(var E=w.vertices,L=0;L<=h;++L){var C=E[L];v[L]=C<0?g:m[C]}var O=this.orient();if(O>0)return w;w.lastVisited=-y,0===O&&_.push(w)}}return null},c.walk=function(x,g){var h=this.vertices.length-1,y=this.dimension,v=this.vertices,m=this.tuple,_=g?this.interior.length*Math.random()|0:this.interior.length-1,f=this.interior[_];e:for(;!f.boundary;){for(var S=f.vertices,w=f.adjacent,E=0;E<=y;++E)m[E]=v[S[E]];for(f.lastVisited=h,E=0;E<=y;++E){var L=w[E];if(!(L.lastVisited>=h)){var C=m[E];m[E]=x;var O=this.orient();if(m[E]=C,O<0){f=L;continue e}L.lastVisited=L.boundary?-h:h}}return}return f},c.addPeaks=function(x,g){var h=this.vertices.length-1,y=this.dimension,v=this.vertices,m=this.tuple,_=this.interior,f=this.simplices,S=[g];g.lastVisited=h,g.vertices[g.vertices.indexOf(-1)]=h,g.boundary=!1,_.push(g);for(var w=[];S.length>0;){var E=(g=S.pop()).vertices,L=g.adjacent,C=E.indexOf(h);if(!(C<0))for(var O=0;O<=y;++O)if(O!==C){var R=L[O];if(R.boundary&&!(R.lastVisited>=h)){var q=R.vertices;if(R.lastVisited!==-h){for(var P=0,U=0;U<=y;++U)q[U]<0?(P=U,m[U]=x):m[U]=v[q[U]];if(this.orient()>0){q[P]=h,R.boundary=!1,_.push(R),S.push(R),R.lastVisited=h;continue}R.lastVisited=-h}var N=R.adjacent,F=E.slice(),j=L.slice(),G=new n(F,j,!0);f.push(G);var te=N.indexOf(g);if(!(te<0))for(N[te]=G,j[C]=R,F[O]=-1,j[O]=g,L[O]=G,G.flip(),U=0;U<=y;++U){var J=F[U];if(!(J<0||J===h)){for(var X=new Array(y-1),Y=0,W=0;W<=y;++W){var $=F[W];$<0||W===U||(X[Y++]=$)}w.push(new o(X,G,U))}}}}}for(w.sort(s),O=0;O+1<w.length;O+=2){var ne=w[O],re=w[O+1];ne.index<0||re.index<0||(ne.cell.adjacent[ne.index]=re.cell,re.cell.adjacent[re.index]=ne.cell)}},c.insert=function(x,g){var h=this.vertices;h.push(x);var y=this.walk(x,g);if(y){for(var v=this.dimension,m=this.tuple,_=0;_<=v;++_){var f=y.vertices[_];m[_]=f<0?x:h[f]}var S=this.orient(m);S<0||(0!==S||(y=this.handleBoundaryDegeneracy(y,x)))&&this.addPeaks(x,y)}},c.boundary=function(){for(var x=this.dimension,g=[],h=this.simplices,y=h.length,v=0;v<y;++v){var m=h[v];if(m.boundary){for(var _=new Array(x),f=m.vertices,S=0,w=0,E=0;E<=x;++E)f[E]>=0?_[S++]=f[E]:w=1&E;if(w===(1&x)){var L=_[0];_[0]=_[1],_[1]=L}g.push(_)}}return g}},9014:function(d,a,t){"use strict";var i=t(5070);function r(S,w,E,L,C){this.mid=S,this.left=w,this.right=E,this.leftPoints=L,this.rightPoints=C,this.count=(w?w.count:0)+(E?E.count:0)+L.length}d.exports=function(S){return new _(S&&0!==S.length?m(S):null)};var n=r.prototype;function o(S,w){S.mid=w.mid,S.left=w.left,S.right=w.right,S.leftPoints=w.leftPoints,S.rightPoints=w.rightPoints,S.count=w.count}function s(S,w){var E=m(w);S.mid=E.mid,S.left=E.left,S.right=E.right,S.leftPoints=E.leftPoints,S.rightPoints=E.rightPoints,S.count=E.count}function u(S,w){var E=S.intervals([]);E.push(w),s(S,E)}function p(S,w){var E=S.intervals([]),L=E.indexOf(w);return L<0?0:(E.splice(L,1),s(S,E),1)}function c(S,w,E){for(var L=0;L<S.length&&S[L][0]<=w;++L){var C=E(S[L]);if(C)return C}}function x(S,w,E){for(var L=S.length-1;L>=0&&S[L][1]>=w;--L){var C=E(S[L]);if(C)return C}}function g(S,w){for(var E=0;E<S.length;++E){var L=w(S[E]);if(L)return L}}function h(S,w){return S-w}function y(S,w){return S[0]-w[0]||S[1]-w[1]}function v(S,w){return S[1]-w[1]||S[0]-w[0]}function m(S){if(0===S.length)return null;for(var w=[],E=0;E<S.length;++E)w.push(S[E][0],S[E][1]);w.sort(h);var L=w[w.length>>1],C=[],O=[],R=[];for(E=0;E<S.length;++E){var q=S[E];q[1]<L?C.push(q):L<q[0]?O.push(q):R.push(q)}var P=R,U=R.slice();return P.sort(y),U.sort(v),new r(L,m(C),m(O),P,U)}function _(S){this.root=S}n.intervals=function(S){return S.push.apply(S,this.leftPoints),this.left&&this.left.intervals(S),this.right&&this.right.intervals(S),S},n.insert=function(S){var w=this.count-this.leftPoints.length;if(this.count+=1,S[1]<this.mid)this.left?4*(this.left.count+1)>3*(w+1)?u(this,S):this.left.insert(S):this.left=m([S]);else if(S[0]>this.mid)this.right?4*(this.right.count+1)>3*(w+1)?u(this,S):this.right.insert(S):this.right=m([S]);else{var E=i.ge(this.leftPoints,S,y),L=i.ge(this.rightPoints,S,v);this.leftPoints.splice(E,0,S),this.rightPoints.splice(L,0,S)}},n.remove=function(S){var w=this.count-this.leftPoints;if(S[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(w-1)?p(this,S):2===(O=this.left.remove(S))?(this.left=null,this.count-=1,1):(1===O&&(this.count-=1),O):0;if(S[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(w-1)?p(this,S):2===(O=this.right.remove(S))?(this.right=null,this.count-=1,1):(1===O&&(this.count-=1),O):0;if(1===this.count)return this.leftPoints[0]===S?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===S){if(this.left&&this.right){for(var E=this,L=this.left;L.right;)E=L,L=L.right;if(E===this)L.right=this.right;else{var C=this.left,O=this.right;E.count-=L.count,E.right=L.left,L.left=C,L.right=O}o(this,L),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else o(this,this.left?this.left:this.right);return 1}for(C=i.ge(this.leftPoints,S,y);C<this.leftPoints.length&&this.leftPoints[C][0]===S[0];++C)if(this.leftPoints[C]===S)for(this.count-=1,this.leftPoints.splice(C,1),O=i.ge(this.rightPoints,S,v);O<this.rightPoints.length&&this.rightPoints[O][1]===S[1];++O)if(this.rightPoints[O]===S)return this.rightPoints.splice(O,1),1;return 0},n.queryPoint=function(S,w){return S<this.mid?this.left&&(E=this.left.queryPoint(S,w))?E:c(this.leftPoints,S,w):S>this.mid?this.right&&(E=this.right.queryPoint(S,w))?E:x(this.rightPoints,S,w):g(this.leftPoints,w);var E},n.queryInterval=function(S,w,E){var L;return S<this.mid&&this.left&&(L=this.left.queryInterval(S,w,E))||w>this.mid&&this.right&&(L=this.right.queryInterval(S,w,E))?L:w<this.mid?c(this.leftPoints,w,E):S>this.mid?x(this.rightPoints,S,E):g(this.leftPoints,E)};var f=_.prototype;f.insert=function(S){this.root?this.root.insert(S):this.root=new r(S[0],null,null,[S],[S])},f.remove=function(S){if(this.root){var w=this.root.remove(S);return 2===w&&(this.root=null),0!==w}return!1},f.queryPoint=function(S,w){if(this.root)return this.root.queryPoint(S,w)},f.queryInterval=function(S,w,E){if(S<=w&&this.root)return this.root.queryInterval(S,w,E)},Object.defineProperty(f,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(f,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(d){"use strict";d.exports=function(a){for(var t=new Array(a),i=0;i<a;++i)t[i]=i;return t}},4846:function(d){d.exports=!0},4780:function(d){function a(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}d.exports=function(t){return null!=t&&(a(t)||"function"==typeof(i=t).readFloatLE&&"function"==typeof i.slice&&a(i.slice(0,0))||!!t._isBuffer);var i}},3596:function(d){"use strict";d.exports=function(a){for(var t,i=a.length,r=0;r<i;r++)if(((t=a.charCodeAt(r))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}},3578:function(d){d.exports=function(a,t,i){return a*(1-i)+t*i}},7191:function(d,a,t){var i=t(4690),r=t(9823),n=t(7332),o=t(7787),s=t(7437),u=t(2142),p={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},c=r(),x=r(),g=[0,0,0,0],h=[[0,0,0],[0,0,0],[0,0,0]],y=[0,0,0];function v(m,_,f,S,w){m[0]=_[0]*S+f[0]*w,m[1]=_[1]*S+f[1]*w,m[2]=_[2]*S+f[2]*w}d.exports=function(m,_,f,S,w,E){if(_||(_=[0,0,0]),f||(f=[0,0,0]),S||(S=[0,0,0]),w||(w=[0,0,0,1]),E||(E=[0,0,0,1]),!i(c,m)||(n(x,c),x[3]=0,x[7]=0,x[11]=0,x[15]=1,Math.abs(o(x)<1e-8)))return!1;var L,C,O,R,q,P,U,W,$,N=c[3],F=c[7],j=c[11],G=c[12],te=c[13],J=c[14],X=c[15];if(0!==N||0!==F||0!==j){if(g[0]=N,g[1]=F,g[2]=j,g[3]=X,!s(x,x))return!1;u(x,x),R=(C=g)[0],(L=w)[0]=(O=x)[0]*R+O[4]*(q=C[1])+O[8]*(P=C[2])+O[12]*(U=C[3]),L[1]=O[1]*R+O[5]*q+O[9]*P+O[13]*U,L[2]=O[2]*R+O[6]*q+O[10]*P+O[14]*U,L[3]=O[3]*R+O[7]*q+O[11]*P+O[15]*U}else w[0]=w[1]=w[2]=0,w[3]=1;if(_[0]=G,_[1]=te,_[2]=J,(W=h)[0][0]=($=c)[0],W[0][1]=$[1],W[0][2]=$[2],W[1][0]=$[4],W[1][1]=$[5],W[1][2]=$[6],W[2][0]=$[8],W[2][1]=$[9],W[2][2]=$[10],f[0]=p.length(h[0]),p.normalize(h[0],h[0]),S[0]=p.dot(h[0],h[1]),v(h[1],h[1],h[0],1,-S[0]),f[1]=p.length(h[1]),p.normalize(h[1],h[1]),S[0]/=f[1],S[1]=p.dot(h[0],h[2]),v(h[2],h[2],h[0],1,-S[1]),S[2]=p.dot(h[1],h[2]),v(h[2],h[2],h[1],1,-S[2]),f[2]=p.length(h[2]),p.normalize(h[2],h[2]),S[1]/=f[2],S[2]/=f[2],p.cross(y,h[1],h[2]),p.dot(h[0],y)<0)for(var Y=0;Y<3;Y++)f[Y]*=-1,h[Y][0]*=-1,h[Y][1]*=-1,h[Y][2]*=-1;return E[0]=.5*Math.sqrt(Math.max(1+h[0][0]-h[1][1]-h[2][2],0)),E[1]=.5*Math.sqrt(Math.max(1-h[0][0]+h[1][1]-h[2][2],0)),E[2]=.5*Math.sqrt(Math.max(1-h[0][0]-h[1][1]+h[2][2],0)),E[3]=.5*Math.sqrt(Math.max(1+h[0][0]+h[1][1]+h[2][2],0)),h[2][1]>h[1][2]&&(E[0]=-E[0]),h[0][2]>h[2][0]&&(E[1]=-E[1]),h[1][0]>h[0][1]&&(E[2]=-E[2]),!0}},4690:function(d){d.exports=function(a,t){var i=t[15];if(0===i)return!1;for(var r=1/i,n=0;n<16;n++)a[n]=t[n]*r;return!0}},7649:function(d,a,t){var i=t(1868),r=t(1102),n=t(7191),o=t(7787),s=t(1116),u=x(),p=x(),c=x();function x(){return{translate:g(),scale:g(1),skew:g(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function g(h){return[h||0,h||0,h||0]}d.exports=function(h,y,v,m){if(0===o(y)||0===o(v))return!1;var _=n(y,u.translate,u.scale,u.skew,u.perspective,u.quaternion),f=n(v,p.translate,p.scale,p.skew,p.perspective,p.quaternion);return!(!_||!f||(i(c.translate,u.translate,p.translate,m),i(c.skew,u.skew,p.skew,m),i(c.scale,u.scale,p.scale,m),i(c.perspective,u.perspective,p.perspective,m),s(c.quaternion,u.quaternion,p.quaternion,m),r(h,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},1102:function(d,a,t){var i={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)},r=(i.create(),i.create());d.exports=function(n,o,s,u,p,c){return i.identity(n),i.fromRotationTranslation(n,c,o),n[3]=p[0],n[7]=p[1],n[11]=p[2],n[15]=p[3],i.identity(r),0!==u[2]&&(r[9]=u[2],i.multiply(n,n,r)),0!==u[1]&&(r[9]=0,r[8]=u[1],i.multiply(n,n,r)),0!==u[0]&&(r[8]=0,r[4]=u[0],i.multiply(n,n,r)),i.scale(n,n,s),n}},9298:function(d,a,t){"use strict";var i=t(5070),r=t(7649),n=t(7437),o=t(6109),s=t(7115),u=t(5240),p=t(3012),c=t(998),x=(t(3668),t(899)),g=[0,0,0];function h(m){this._components=m.slice(),this._time=[0],this.prevMatrix=m.slice(),this.nextMatrix=m.slice(),this.computedMatrix=m.slice(),this.computedInverse=m.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}d.exports=function(m){return new h((m=m||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var y=h.prototype;y.recalcMatrix=function(m){var _=this._time,f=i.le(_,m),S=this.computedMatrix;if(!(f<0)){var w=this._components;if(f===_.length-1)for(var E=16*f,L=0;L<16;++L)S[L]=w[E++];else{var C=_[f+1]-_[f],O=(E=16*f,this.prevMatrix),R=!0;for(L=0;L<16;++L)O[L]=w[E++];var q=this.nextMatrix;for(L=0;L<16;++L)q[L]=w[E++],R=R&&O[L]===q[L];if(C<1e-6||R)for(L=0;L<16;++L)S[L]=O[L];else r(S,O,q,(m-_[f])/C)}var P=this.computedUp;P[0]=S[1],P[1]=S[5],P[2]=S[9],x(P,P);var U=this.computedInverse;n(U,S);var N=this.computedEye,F=U[15];N[0]=U[12]/F,N[1]=U[13]/F,N[2]=U[14]/F;var j=this.computedCenter,G=Math.exp(this.computedRadius[0]);for(L=0;L<3;++L)j[L]=N[L]-S[2+4*L]*G}},y.idle=function(m){if(!(m<this.lastT())){for(var _=this._components,f=_.length-16,S=0;S<16;++S)_.push(_[f++]);this._time.push(m)}},y.flush=function(m){var _=i.gt(this._time,m)-2;_<0||(this._time.splice(0,_),this._components.splice(0,16*_))},y.lastT=function(){return this._time[this._time.length-1]},y.lookAt=function(m,_,f,S){this.recalcMatrix(m),this.setMatrix(m,p(this.computedMatrix,_=_||this.computedEye,f=f||g,S=S||this.computedUp));for(var w=0,E=0;E<3;++E)w+=Math.pow(f[E]-_[E],2);w=Math.log(Math.sqrt(w)),this.computedRadius[0]=w},y.rotate=function(m,_,f,S){this.recalcMatrix(m);var w=this.computedInverse;_&&s(w,w,_),f&&o(w,w,f),S&&u(w,w,S),this.setMatrix(m,n(this.computedMatrix,w))};var v=[0,0,0];y.pan=function(m,_,f,S){v[0]=-(_||0),v[1]=-(f||0),v[2]=-(S||0),this.recalcMatrix(m);var w=this.computedInverse;c(w,w,v),this.setMatrix(m,n(w,w))},y.translate=function(m,_,f,S){v[0]=_||0,v[1]=f||0,v[2]=S||0,this.recalcMatrix(m);var w=this.computedMatrix;c(w,w,v),this.setMatrix(m,w)},y.setMatrix=function(m,_){if(!(m<this.lastT())){this._time.push(m);for(var f=0;f<16;++f)this._components.push(_[f])}},y.setDistance=function(m,_){this.computedRadius[0]=_},y.setDistanceLimits=function(m,_){var f=this._limits;f[0]=m,f[1]=_},y.getDistanceLimits=function(m){var _=this._limits;return m?(m[0]=_[0],m[1]=_[1],m):_}},3266:function(d,a,t){"use strict";d.exports=function(r){var n=r.length;if(n<3){for(var o=new Array(n),s=0;s<n;++s)o[s]=s;return 2===n&&r[0][0]===r[1][0]&&r[0][1]===r[1][1]?[0]:o}var u=new Array(n);for(s=0;s<n;++s)u[s]=s;u.sort(function(_,f){return r[_][0]-r[f][0]||r[_][1]-r[f][1]});var p=[u[0],u[1]],c=[u[0],u[1]];for(s=2;s<n;++s){for(var x=u[s],g=r[x],h=p.length;h>1&&i(r[p[h-2]],r[p[h-1]],g)<=0;)h-=1,p.pop();for(p.push(x),h=c.length;h>1&&i(r[c[h-2]],r[c[h-1]],g)>=0;)h-=1,c.pop();c.push(x)}o=new Array(c.length+p.length-2);for(var y=0,v=(s=0,p.length);s<v;++s)o[y++]=p[s];for(var m=c.length-2;m>0;--m)o[y++]=c[m];return o};var i=t(417)[3]},6145:function(d,a,t){"use strict";d.exports=function(r,n){n||(n=r,r=window);var o=0,s=0,u=0,p={shift:!1,alt:!1,control:!1,meta:!1},c=!1;function x(E){var L=!1;return"altKey"in E&&(L=L||E.altKey!==p.alt,p.alt=!!E.altKey),"shiftKey"in E&&(L=L||E.shiftKey!==p.shift,p.shift=!!E.shiftKey),"ctrlKey"in E&&(L=L||E.ctrlKey!==p.control,p.control=!!E.ctrlKey),"metaKey"in E&&(L=L||E.metaKey!==p.meta,p.meta=!!E.metaKey),L}function g(E,L){var C=i.x(L),O=i.y(L);"buttons"in L&&(E=0|L.buttons),(E!==o||C!==s||O!==u||x(L))&&(o=0|E,s=C||0,u=O||0,n&&n(o,s,u,p))}function h(E){g(0,E)}function y(){(o||s||u||p.shift||p.alt||p.meta||p.control)&&(s=u=0,o=0,p.shift=p.alt=p.control=p.meta=!1,n&&n(0,0,0,p))}function v(E){x(E)&&n&&n(o,s,u,p)}function m(E){0===i.buttons(E)?g(0,E):g(o,E)}function _(E){g(o|i.buttons(E),E)}function f(E){g(o&~i.buttons(E),E)}function S(){c||(c=!0,r.addEventListener("mousemove",m),r.addEventListener("mousedown",_),r.addEventListener("mouseup",f),r.addEventListener("mouseleave",h),r.addEventListener("mouseenter",h),r.addEventListener("mouseout",h),r.addEventListener("mouseover",h),r.addEventListener("blur",y),r.addEventListener("keyup",v),r.addEventListener("keydown",v),r.addEventListener("keypress",v),r!==window&&(window.addEventListener("blur",y),window.addEventListener("keyup",v),window.addEventListener("keydown",v),window.addEventListener("keypress",v)))}S();var w={element:r};return Object.defineProperties(w,{enabled:{get:function(){return c},set:function(E){E?S():c&&(c=!1,r.removeEventListener("mousemove",m),r.removeEventListener("mousedown",_),r.removeEventListener("mouseup",f),r.removeEventListener("mouseleave",h),r.removeEventListener("mouseenter",h),r.removeEventListener("mouseout",h),r.removeEventListener("mouseover",h),r.removeEventListener("blur",y),r.removeEventListener("keyup",v),r.removeEventListener("keydown",v),r.removeEventListener("keypress",v),r!==window&&(window.removeEventListener("blur",y),window.removeEventListener("keyup",v),window.removeEventListener("keydown",v),window.removeEventListener("keypress",v)))},enumerable:!0},buttons:{get:function(){return o},enumerable:!0},x:{get:function(){return s},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return p},enumerable:!0}}),w};var i=t(4110)},2565:function(d){var a={left:0,top:0};d.exports=function(t,i,r){i=i||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var n,o=t.clientX||0,s=t.clientY||0,u=(n=i)===window||n===document||n===document.body?a:n.getBoundingClientRect();return r[0]=o-u.left,r[1]=s-u.top,r}},4110:function(d,a){"use strict";function t(i){return i.target||i.srcElement||window}a.buttons=function(i){if("object"==typeof i){if("buttons"in i)return i.buttons;if("which"in i){if(2===(r=i.which))return 4;if(3===r)return 2;if(r>0)return 1<<r-1}else if("button"in i){var r;if(1===(r=i.button))return 4;if(2===r)return 2;if(r>=0)return 1<<r}}return 0},a.element=t,a.x=function(i){if("object"==typeof i){if("offsetX"in i)return i.offsetX;var r=t(i).getBoundingClientRect();return i.clientX-r.left}return 0},a.y=function(i){if("object"==typeof i){if("offsetY"in i)return i.offsetY;var r=t(i).getBoundingClientRect();return i.clientY-r.top}return 0}},6475:function(d,a,t){"use strict";var i=t(14);d.exports=function(r,n,o){"function"==typeof r&&(o=!!n,n=r,r=window);var s=i("ex",r),u=function(p){o&&p.preventDefault();var c=p.deltaX||0,x=p.deltaY||0,g=p.deltaZ||0,h=1;switch(p.deltaMode){case 1:h=s;break;case 2:h=window.innerHeight}if(x*=h,g*=h,(c*=h)||x||g)return n(c,x,g,p)};return r.addEventListener("wheel",u),u}},9284:function(d,a,t){"use strict";var i=t(5306);d.exports=function(n){function o(g){throw new Error("ndarray-extract-contour: "+g)}"object"!=typeof n&&o("Must specify arguments");var s=n.order;Array.isArray(s)||o("Must specify order");var g,h,y,f,u=n.arrayArguments||1;u<1&&o("Must have at least one array argument"),(n.scalarArguments||0)<0&&o("Scalar arg count must be > 0"),"function"!=typeof n.vertex&&o("Must specify vertex creation function"),"function"!=typeof n.cell&&o("Must specify cell creation function"),"function"!=typeof n.phase&&o("Must specify phase function");for(var p=n.getters||[],c=new Array(u),x=0;x<u;++x)c[x]=p.indexOf(x)>=0;return g=n.vertex,h=n.cell,y=n.phase,f=[c,s].join(","),(0,r[f])(g,h,y,i.mallocUint32,i.freeUint32)};var r={"false,0,1":function(n,o,s,u,p){return function(c,x,g,h){var y,v=0|c.shape[0],m=0|c.shape[1],_=c.data,S=0|c.stride[0],w=0|c.stride[1],E=0|c.offset,L=0|-S,C=0,O=0|-w,R=0,q=-S-w|0,P=0,U=0|S,N=w-S*v|0,F=0,j=0,G=0,te=2*v|0,J=u(te),X=u(te),Y=0,W=0,$=-1,ne=-1,re=0,oe=0|-v,ue=0|v,xe=0,Me=-v-1|0,me=v-1|0,pe=0,ge=0,Pe=0;for(F=0;F<v;++F)J[Y++]=s(_[E],x,g,h),E+=U;if(E+=N,m>0){if(j=1,J[Y++]=s(_[E],x,g,h),E+=U,v>0)for(F=1,W=J[Y]=s(y=_[E],x,g,h),xe=J[Y+oe],pe=J[Y+Me],W===(re=J[Y+$])&&W===xe&&W===pe||(n(F,j,y,C=_[E+L],R=_[E+O],P=_[E+q],W,re,xe,pe,x,g,h),ge=X[Y]=G++),Y+=1,E+=U,F=2;F<v;++F)W=J[Y]=s(y=_[E],x,g,h),xe=J[Y+oe],pe=J[Y+Me],W===(re=J[Y+$])&&W===xe&&W===pe||(n(F,j,y,C=_[E+L],R=_[E+O],P=_[E+q],W,re,xe,pe,x,g,h),ge=X[Y]=G++,pe!==re&&o(X[Y+$],ge,P,C,pe,re,x,g,h)),Y+=1,E+=U;for(E+=N,Y=0,Pe=$,$=ne,ne=Pe,Pe=oe,oe=ue,ue=Pe,Pe=Me,Me=me,me=Pe,j=2;j<m;++j){if(J[Y++]=s(_[E],x,g,h),E+=U,v>0)for(F=1,W=J[Y]=s(y=_[E],x,g,h),xe=J[Y+oe],pe=J[Y+Me],W===(re=J[Y+$])&&W===xe&&W===pe||(n(F,j,y,C=_[E+L],R=_[E+O],P=_[E+q],W,re,xe,pe,x,g,h),ge=X[Y]=G++,pe!==xe&&o(X[Y+oe],ge,R,P,xe,pe,x,g,h)),Y+=1,E+=U,F=2;F<v;++F)W=J[Y]=s(y=_[E],x,g,h),xe=J[Y+oe],pe=J[Y+Me],W===(re=J[Y+$])&&W===xe&&W===pe||(n(F,j,y,C=_[E+L],R=_[E+O],P=_[E+q],W,re,xe,pe,x,g,h),ge=X[Y]=G++,pe!==xe&&o(X[Y+oe],ge,R,P,xe,pe,x,g,h),pe!==re&&o(X[Y+$],ge,P,C,pe,re,x,g,h)),Y+=1,E+=U;1&j&&(Y=0),Pe=$,$=ne,ne=Pe,Pe=oe,oe=ue,ue=Pe,Pe=Me,Me=me,me=Pe,E+=N}}p(X),p(J)}},"false,1,0":function(n,o,s,u,p){return function(c,x,g,h){var y,v=0|c.shape[0],m=0|c.shape[1],_=c.data,S=0|c.stride[0],w=0|c.stride[1],E=0|c.offset,L=0|-S,C=0,O=0|-w,R=0,q=-S-w|0,P=0,U=0|w,N=S-w*m|0,F=0,j=0,G=0,te=2*m|0,J=u(te),X=u(te),Y=0,W=0,$=-1,ne=-1,re=0,oe=0|-m,ue=0|m,xe=0,Me=-m-1|0,me=m-1|0,pe=0,ge=0,Pe=0;for(j=0;j<m;++j)J[Y++]=s(_[E],x,g,h),E+=U;if(E+=N,v>0){if(F=1,J[Y++]=s(_[E],x,g,h),E+=U,m>0)for(j=1,W=J[Y]=s(y=_[E],x,g,h),re=J[Y+$],pe=J[Y+Me],W===(xe=J[Y+oe])&&W===re&&W===pe||(n(F,j,y,C=_[E+L],R=_[E+O],P=_[E+q],W,xe,re,pe,x,g,h),ge=X[Y]=G++),Y+=1,E+=U,j=2;j<m;++j)W=J[Y]=s(y=_[E],x,g,h),re=J[Y+$],pe=J[Y+Me],W===(xe=J[Y+oe])&&W===re&&W===pe||(n(F,j,y,C=_[E+L],R=_[E+O],P=_[E+q],W,xe,re,pe,x,g,h),ge=X[Y]=G++,pe!==re&&o(X[Y+$],ge,R,P,re,pe,x,g,h)),Y+=1,E+=U;for(E+=N,Y=0,Pe=oe,oe=ue,ue=Pe,Pe=$,$=ne,ne=Pe,Pe=Me,Me=me,me=Pe,F=2;F<v;++F){if(J[Y++]=s(_[E],x,g,h),E+=U,m>0)for(j=1,W=J[Y]=s(y=_[E],x,g,h),re=J[Y+$],pe=J[Y+Me],W===(xe=J[Y+oe])&&W===re&&W===pe||(n(F,j,y,C=_[E+L],R=_[E+O],P=_[E+q],W,xe,re,pe,x,g,h),ge=X[Y]=G++,pe!==xe&&o(X[Y+oe],ge,P,C,pe,xe,x,g,h)),Y+=1,E+=U,j=2;j<m;++j)W=J[Y]=s(y=_[E],x,g,h),re=J[Y+$],pe=J[Y+Me],W===(xe=J[Y+oe])&&W===re&&W===pe||(n(F,j,y,C=_[E+L],R=_[E+O],P=_[E+q],W,xe,re,pe,x,g,h),ge=X[Y]=G++,pe!==re&&o(X[Y+$],ge,R,P,re,pe,x,g,h),pe!==xe&&o(X[Y+oe],ge,P,C,pe,xe,x,g,h)),Y+=1,E+=U;1&F&&(Y=0),Pe=oe,oe=ue,ue=Pe,Pe=$,$=ne,ne=Pe,Pe=Me,Me=me,me=Pe,E+=N}}p(X),p(J)}}}},9144:function(d,a,t){"use strict";var i=t(3094),r={zero:function(v,m,_,f){var S=v[0];f|=0;var w=0,E=_[0];for(w=0;w<S;++w)m[f]=0,f+=E},fdTemplate1:function(v,m,_,f,S,w,E){var L=v[0],C=_[0],O=-1*C,R=C;f|=0,E|=0;var q=0,P=C,U=w[0];for(q=0;q<L;++q)S[E]=.5*(m[f+O]-m[f+R]),f+=P,E+=U},fdTemplate2:function(v,m,_,f,S,w,E,L,C,O){var R=v[0],q=v[1],P=_[0],U=_[1],F=w[1],G=C[1],te=-1*P,J=P,X=-1*U,Y=U;f|=0,E|=0,O|=0;var W=0,$=0,ne=U,re=P-q*U,oe=F,ue=w[0]-q*F,xe=G,Me=C[0]-q*G;for($=0;$<R;++$){for(W=0;W<q;++W)S[E]=.5*(m[f+te]-m[f+J]),L[O]=.5*(m[f+X]-m[f+Y]),f+=ne,E+=oe,O+=xe;f+=re,E+=ue,O+=Me}}},n={cdiff:function(v){var m={};return function(_,f,S){var w=_.dtype,E=_.order,L=f.dtype,C=f.order,O=S.dtype,R=S.order,q=[w,E.join(),L,C.join(),O,R.join()].join(),P=m[q];return P||(m[q]=P=v([w,E,L,C,O,R])),P(_.shape.slice(0),_.data,_.stride,0|_.offset,f.data,f.stride,0|f.offset,S.data,S.stride,0|S.offset)}},zero:function(v){var m={};return function(_){var f=_.dtype,S=_.order,w=[f,S.join()].join(),E=m[w];return E||(m[w]=E=v([f,S])),E(_.shape.slice(0),_.data,_.stride,0|_.offset)}},fdTemplate1:function(v){var m={};return function(_,f){var S=_.dtype,w=_.order,E=f.dtype,L=f.order,C=[S,w.join(),E,L.join()].join(),O=m[C];return O||(m[C]=O=v([S,w,E,L])),O(_.shape.slice(0),_.data,_.stride,0|_.offset,f.data,f.stride,0|f.offset)}},fdTemplate2:function(v){var m={};return function(_,f,S){var w=_.dtype,E=_.order,L=f.dtype,C=f.order,O=S.dtype,R=S.order,q=[w,E.join(),L,C.join(),O,R.join()].join(),P=m[q];return P||(m[q]=P=v([w,E,L,C,O,R])),P(_.shape.slice(0),_.data,_.stride,0|_.offset,f.data,f.stride,0|f.offset,S.data,S.stride,0|S.offset)}}};function o(v){return(0,n[v.funcName])(s.bind(void 0,v))}function s(v){return r[v.funcName]}function u(v){return o({funcName:v.funcName})}var p={},c={},x=u({funcName:"cdiff"}),g=u({funcName:"zero"});function h(v){return v in p?p[v]:p[v]=u({funcName:"fdTemplate"+v})}function y(v,m,_,f){return function(S,w){var E=w.shape.slice();return E[0]>2&&E[1]>2&&f(w.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(_(w.pick(0,-1).lo(1).hi(E[1]-2),S.pick(0,-1,1).lo(1).hi(E[1]-2)),m(S.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(_(w.pick(E[0]-1,-1).lo(1).hi(E[1]-2),S.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),m(S.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(_(w.pick(-1,0).lo(1).hi(E[0]-2),S.pick(-1,0,0).lo(1).hi(E[0]-2)),m(S.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(_(w.pick(-1,E[1]-1).lo(1).hi(E[0]-2),S.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),m(S.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),S.set(0,0,0,0),S.set(0,0,1,0),S.set(E[0]-1,0,0,0),S.set(E[0]-1,0,1,0),S.set(0,E[1]-1,0,0),S.set(0,E[1]-1,1,0),S.set(E[0]-1,E[1]-1,0,0),S.set(E[0]-1,E[1]-1,1,0),S}}d.exports=function(v,m,_){return Array.isArray(_)||(_=i(m.dimension,"string"==typeof _?_:"clamp")),0===m.size?v:0===m.dimension?(v.set(0),v):function(f){var S=f.join();if(C=c[S])return C;for(var w=f.length,E=[x,g],L=1;L<=w;++L)E.push(h(L));var C=y.apply(void 0,E);return c[S]=C,C}(_)(v,m)}},3581:function(d){"use strict";function a(n,o){var s=Math.floor(o),u=o-s,c=0<=s+1&&s+1<n.shape[0];return(1-u)*(0<=s&&s<n.shape[0]?+n.get(s):0)+u*(c?+n.get(s+1):0)}function t(n,o,s){var u=Math.floor(o),p=o-u,c=0<=u&&u<n.shape[0],x=0<=u+1&&u+1<n.shape[0],g=Math.floor(s),h=s-g,y=0<=g&&g<n.shape[1],v=0<=g+1&&g+1<n.shape[1],m=c&&y?n.get(u,g):0,_=c&&v?n.get(u,g+1):0;return(1-h)*((1-p)*m+p*(x&&y?n.get(u+1,g):0))+h*((1-p)*_+p*(x&&v?n.get(u+1,g+1):0))}function i(n,o,s,u){var p=Math.floor(o),c=o-p,x=0<=p&&p<n.shape[0],g=0<=p+1&&p+1<n.shape[0],h=Math.floor(s),y=s-h,v=0<=h&&h<n.shape[1],m=0<=h+1&&h+1<n.shape[1],_=Math.floor(u),f=u-_,S=0<=_&&_<n.shape[2],w=0<=_+1&&_+1<n.shape[2],E=x&&v&&S?n.get(p,h,_):0,L=x&&m&&S?n.get(p,h+1,_):0,C=g&&v&&S?n.get(p+1,h,_):0,O=g&&m&&S?n.get(p+1,h+1,_):0,R=x&&v&&w?n.get(p,h,_+1):0,q=x&&m&&w?n.get(p,h+1,_+1):0;return(1-f)*((1-y)*((1-c)*E+c*C)+y*((1-c)*L+c*O))+f*((1-y)*((1-c)*R+c*(g&&v&&w?n.get(p+1,h,_+1):0))+y*((1-c)*q+c*(g&&m&&w?n.get(p+1,h+1,_+1):0)))}function r(n){var o,s,u=0|n.shape.length,p=new Array(u),c=new Array(u),x=new Array(u),g=new Array(u);for(o=0;o<u;++o)s=+arguments[o+1],p[o]=Math.floor(s),c[o]=s-p[o],x[o]=0<=p[o]&&p[o]<n.shape[o],g[o]=0<=p[o]+1&&p[o]+1<n.shape[o];var h,y,v,m=0;e:for(o=0;o<1<<u;++o){for(y=1,v=n.offset,h=0;h<u;++h)if(o&1<<h){if(!g[h])continue e;y*=c[h],v+=n.stride[h]*(p[h]+1)}else{if(!x[h])continue e;y*=1-c[h],v+=n.stride[h]*p[h]}m+=y*n.data[v]}return m}d.exports=function(n,o,s,u){switch(n.shape.length){case 0:return 0;case 1:return a(n,o);case 2:return t(n,o,s);case 3:return i(n,o,s,u);default:return r.apply(void 0,arguments)}},d.exports.d1=a,d.exports.d2=t,d.exports.d3=i},7498:function(d,a){"use strict";var t={"float64,2,1,0":function(){return function(s,u,p,c,x){var g=s[0],h=s[1],y=s[2],m=p[1],_=p[2];c|=0;var f=0,S=0,w=0,E=_,L=m-y*_,C=p[0]-h*m;for(w=0;w<g;++w){for(S=0;S<h;++S){for(f=0;f<y;++f)u[c]/=x,c+=E;c+=L}c+=C}}},"uint8,2,0,1,float64,2,1,0":function(){return function(s,u,p,c,x,g,h,y){for(var v=s[0],m=s[1],_=s[2],f=p[0],S=p[1],w=p[2],E=g[0],L=g[1],C=g[2],O=c|=0,R=h|=0,q=0|s[0];q>0;){q<64?(v=q,q=0):(v=64,q-=64);for(var P=0|s[1];P>0;){P<64?(m=P,P=0):(m=64,P-=64),c=O+q*f+P*S,h=R+q*E+P*L;var U=0,N=0,F=0,j=w,G=f-_*w,te=S-v*f,J=C,X=E-_*C,Y=L-v*E;for(F=0;F<m;++F){for(N=0;N<v;++N){for(U=0;U<_;++U)u[c]=x[h]*y,c+=j,h+=J;c+=G,h+=X}c+=te,h+=Y}}}}},"float32,1,0,float32,1,0":function(){return function(s,u,p,c,x,g,h){var y=s[0],v=s[1],_=p[1],S=g[1];c|=0,h|=0;var w=0,E=0,L=_,C=p[0]-v*_,O=S,R=g[0]-v*S;for(E=0;E<y;++E){for(w=0;w<v;++w)u[c]=x[h],c+=L,h+=O;c+=C,h+=R}}},"float32,1,0,float32,0,1":function(){return function(s,u,p,c,x,g,h){for(var y=s[0],v=s[1],m=p[0],_=p[1],f=g[0],S=g[1],w=c|=0,E=h|=0,L=0|s[1];L>0;){L<64?(v=L,L=0):(v=64,L-=64);for(var C=0|s[0];C>0;){C<64?(y=C,C=0):(y=64,C-=64),c=w+L*_+C*m,h=E+L*S+C*f;var O=0,R=0,q=_,P=m-v*_,U=S,N=f-v*S;for(R=0;R<y;++R){for(O=0;O<v;++O)u[c]=x[h],c+=q,h+=U;c+=P,h+=N}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(s,u,p,c,x,g,h){for(var y=s[0],v=s[1],m=s[2],_=p[0],f=p[1],S=p[2],w=g[0],E=g[1],L=g[2],C=c|=0,O=h|=0,R=0|s[2];R>0;){R<64?(m=R,R=0):(m=64,R-=64);for(var q=0|s[0];q>0;){q<64?(y=q,q=0):(y=64,q-=64);for(var P=0|s[1];P>0;){P<64?(v=P,P=0):(v=64,P-=64),c=C+R*S+q*_+P*f,h=O+R*L+q*w+P*E;var U=0,N=0,F=0,j=S,G=_-m*S,te=f-y*_,J=L,X=w-m*L,Y=E-y*w;for(F=0;F<v;++F){for(N=0;N<y;++N){for(U=0;U<m;++U)u[c]=x[h],c+=j,h+=J;c+=G,h+=X}c+=te,h+=Y}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(s,u,p,c,x,g,h){var y=s[0],v=s[1],m=s[2],_=p[0],S=p[2],w=g[0],L=g[2];c|=0,h|=0;var C=0,O=0,R=0,q=S,P=_-m*S,U=p[1]-y*_,N=L,F=w-m*L,j=g[1]-y*w;for(R=0;R<v;++R){for(O=0;O<y;++O){for(C=0;C<m;++C)u[c]=x[h],c+=q,h+=N;c+=P,h+=F}c+=U,h+=j}}}},i=function(s,u){var p=u.join(",");return(0,t[p])()},r={mul:function(s){var u={};return function(p,c,x){var g=p.dtype,h=p.order,y=c.dtype,v=c.order,m=x.dtype,_=x.order,f=[g,h.join(),y,v.join(),m,_.join()].join(),S=u[f];return S||(u[f]=S=s([g,h,y,v,m,_])),S(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,x.data,x.stride,0|x.offset)}},muls:function(s){var u={};return function(p,c,x){var g=p.dtype,h=p.order,y=c.dtype,v=c.order,m=[g,h.join(),y,v.join()].join(),_=u[m];return _||(u[m]=_=s([g,h,y,v])),_(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,x)}},mulseq:function(s){var u={};return function(p,c){var x=p.dtype,g=p.order,h=[x,g.join()].join(),y=u[h];return y||(u[h]=y=s([x,g])),y(p.shape.slice(0),p.data,p.stride,0|p.offset,c)}},div:function(s){var u={};return function(p,c,x){var g=p.dtype,h=p.order,y=c.dtype,v=c.order,m=x.dtype,_=x.order,f=[g,h.join(),y,v.join(),m,_.join()].join(),S=u[f];return S||(u[f]=S=s([g,h,y,v,m,_])),S(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,x.data,x.stride,0|x.offset)}},divs:function(s){var u={};return function(p,c,x){var g=p.dtype,h=p.order,y=c.dtype,v=c.order,m=[g,h.join(),y,v.join()].join(),_=u[m];return _||(u[m]=_=s([g,h,y,v])),_(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,x)}},divseq:function(s){var u={};return function(p,c){var x=p.dtype,g=p.order,h=[x,g.join()].join(),y=u[h];return y||(u[h]=y=s([x,g])),y(p.shape.slice(0),p.data,p.stride,0|p.offset,c)}},assign:function(s){var u={};return function(p,c){var x=p.dtype,g=p.order,h=c.dtype,y=c.order,v=[x,g.join(),h,y.join()].join(),m=u[v];return m||(u[v]=m=s([x,g,h,y])),m(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset)}}};function n(s){return(0,r[(u={funcName:s.funcName}).funcName])(i.bind(void 0,u));var u}var o={mul:"*",div:"/"};(function(){for(var s in o)a[s]=n({funcName:s}),a[s+"s"]=n({funcName:s+"s"}),a[s+"seq"]=n({funcName:s+"seq"})})(),a.assign=n({funcName:"assign"})},7382:function(d,a,t){"use strict";var i=t(5050),r=t(9262);d.exports=function(n,o){for(var s=[],u=n,p=1;Array.isArray(u);)s.push(u.length),p*=u.length,u=u[0];return 0===s.length?i():(o||(o=i(new Float64Array(p),s)),r(o,n),o)}},9262:function(d){"use strict";var a,t;d.exports=(a=function(){return function(a,t,i,r,n){var o=a[0],s=a[1],u=a[2],c=i[1],x=i[2],g=[0,0,0];r|=0;var h=0,y=0,v=0,m=x,_=c-u*x,f=i[0]-s*c;for(v=0;v<o;++v){for(y=0;y<s;++y){for(h=0;h<u;++h){var S,w=n;for(S=0;S<g.length-1;++S)w=w[g[S]];t[r]=w[g[g.length-1]],r+=m,++g[2]}r+=_,g[2]-=u,++g[1]}r+=f,g[1]-=s,++g[0]}}}.bind(void 0,{funcName:"convert"}),t={},function(i,r){var n=i.dtype,o=i.order,s=[n,o.join()].join(),u=t[s];return u||(t[s]=u=a([n,o])),u(i.shape.slice(0),i.data,i.stride,0|i.offset,r)})},8139:function(d,a,t){"use strict";var i=t(5306);function r(u){return"uint32"===u?[i.mallocUint32,i.freeUint32]:null}var n={"uint32,1,0":function(u,p){return function(c,x,g,h,y,v,m,_,f,S,w){var E,L,C,O,R,q,P,U,N=c*y+h,F=u(_);for(E=c+1;E<=x;++E){for(L=E,C=N+=y,R=0,q=N,O=0;O<_;++O)F[R++]=g[q],q+=f;e:for(;L-- >c;){R=0,q=C-y;t:for(O=0;O<_;++O){if((P=g[q])<(U=F[R]))break e;if(P>U)break t;q+=S,R+=w}for(R=C,q=C-y,O=0;O<_;++O)g[R]=g[q],R+=f,q+=f;C-=y}for(R=C,q=0,O=0;O<_;++O)g[R]=F[q++],R+=f}p(F)}}},o={"uint32,1,0":function(u,p,c){return function x(g,h,y,v,m,_,f,S,w,E,L){var C,O,q,P,U,N,F,j,G,te,J,X,Y,W,$,ne,re,oe,ue,xe,Me,me,pe,ge,Pe=(h-g+1)/6|0,_e=g+Pe,we=h-Pe,se=g+h>>1,ae=se-Pe,fe=se+Pe,Ee=_e,ke=ae,be=se,Ie=fe,Fe=we,ce=g+1,Te=h-1,ve=!0,Ce=0,Re=0,Oe=0,je=S,qe=p(je),Je=p(je);te=m*Ee,J=m*ke,ge=v;e:for(G=0;G<S;++G){if((Oe=y[N=te+ge]-y[F=J+ge])>0){O=Ee,Ee=ke,ke=O;break e}if(Oe<0)break e;ge+=E}te=m*Ie,J=m*Fe,ge=v;e:for(G=0;G<S;++G){if((Oe=y[N=te+ge]-y[F=J+ge])>0){O=Ie,Ie=Fe,Fe=O;break e}if(Oe<0)break e;ge+=E}te=m*Ee,J=m*be,ge=v;e:for(G=0;G<S;++G){if((Oe=y[N=te+ge]-y[F=J+ge])>0){O=Ee,Ee=be,be=O;break e}if(Oe<0)break e;ge+=E}te=m*ke,J=m*be,ge=v;e:for(G=0;G<S;++G){if((Oe=y[N=te+ge]-y[F=J+ge])>0){O=ke,ke=be,be=O;break e}if(Oe<0)break e;ge+=E}te=m*Ee,J=m*Ie,ge=v;e:for(G=0;G<S;++G){if((Oe=y[N=te+ge]-y[F=J+ge])>0){O=Ee,Ee=Ie,Ie=O;break e}if(Oe<0)break e;ge+=E}te=m*be,J=m*Ie,ge=v;e:for(G=0;G<S;++G){if((Oe=y[N=te+ge]-y[F=J+ge])>0){O=be,be=Ie,Ie=O;break e}if(Oe<0)break e;ge+=E}te=m*ke,J=m*Fe,ge=v;e:for(G=0;G<S;++G){if((Oe=y[N=te+ge]-y[F=J+ge])>0){O=ke,ke=Fe,Fe=O;break e}if(Oe<0)break e;ge+=E}te=m*ke,J=m*be,ge=v;e:for(G=0;G<S;++G){if((Oe=y[N=te+ge]-y[F=J+ge])>0){O=ke,ke=be,be=O;break e}if(Oe<0)break e;ge+=E}te=m*Ie,J=m*Fe,ge=v;e:for(G=0;G<S;++G){if((Oe=y[N=te+ge]-y[F=J+ge])>0){O=Ie,Ie=Fe,Fe=O;break e}if(Oe<0)break e;ge+=E}for(te=m*Ee,J=m*ke,X=m*be,Y=m*Ie,W=m*Fe,$=m*_e,ne=m*se,re=m*we,pe=0,ge=v,G=0;G<S;++G)N=te+ge,j=X+ge,oe=Y+ge,ue=W+ge,xe=$+ge,Me=ne+ge,me=re+ge,qe[pe]=y[F=J+ge],Je[pe]=y[oe],ve=ve&&qe[pe]===Je[pe],q=y[j],P=y[ue],y[xe]=y[N],y[Me]=q,y[me]=P,++pe,ge+=w;for(te=m*ae,J=m*g,ge=v,G=0;G<S;++G)y[N=te+ge]=y[F=J+ge],ge+=w;for(te=m*fe,J=m*h,ge=v,G=0;G<S;++G)y[N=te+ge]=y[F=J+ge],ge+=w;if(ve)for(U=ce;U<=Te;++U){for(N=v+U*m,pe=0,G=0;G<S&&0==(Oe=y[N]-qe[pe]);++G)pe+=L,N+=E;if(0!==Oe)if(Oe<0){if(U!==ce)for(te=m*U,J=m*ce,ge=v,G=0;G<S;++G)C=y[N=te+ge],y[N]=y[F=J+ge],y[F]=C,ge+=w;++ce}else for(;;){for(N=v+Te*m,pe=0,G=0;G<S&&0==(Oe=y[N]-qe[pe]);++G)pe+=L,N+=E;if(!(Oe>0)){if(Oe<0){for(te=m*U,J=m*ce,X=m*Te,ge=v,G=0;G<S;++G)j=X+ge,C=y[N=te+ge],y[N]=y[F=J+ge],y[F]=y[j],y[j]=C,ge+=w;++ce,--Te;break}for(te=m*U,J=m*Te,ge=v,G=0;G<S;++G)C=y[N=te+ge],y[N]=y[F=J+ge],y[F]=C,ge+=w;--Te;break}Te--}}else for(U=ce;U<=Te;++U){for(N=v+U*m,pe=0,G=0;G<S&&0==(Ce=y[N]-qe[pe]);++G)pe+=L,N+=E;if(Ce<0){if(U!==ce)for(te=m*U,J=m*ce,ge=v,G=0;G<S;++G)C=y[N=te+ge],y[N]=y[F=J+ge],y[F]=C,ge+=w;++ce}else{for(N=v+U*m,pe=0,G=0;G<S&&0==(Re=y[N]-Je[pe]);++G)pe+=L,N+=E;if(Re>0)for(;;){for(N=v+Te*m,pe=0,G=0;G<S&&0==(Oe=y[N]-Je[pe]);++G)pe+=L,N+=E;if(!(Oe>0)){for(N=v+Te*m,pe=0,G=0;G<S&&0==(Oe=y[N]-qe[pe]);++G)pe+=L,N+=E;if(Oe<0){for(te=m*U,J=m*ce,X=m*Te,ge=v,G=0;G<S;++G)j=X+ge,C=y[N=te+ge],y[N]=y[F=J+ge],y[F]=y[j],y[j]=C,ge+=w;++ce,--Te}else{for(te=m*U,J=m*Te,ge=v,G=0;G<S;++G)C=y[N=te+ge],y[N]=y[F=J+ge],y[F]=C,ge+=w;--Te}break}if(--Te<U)break}}}for(te=m*g,J=m*(ce-1),pe=0,ge=v,G=0;G<S;++G)y[N=te+ge]=y[F=J+ge],y[F]=qe[pe],++pe,ge+=w;for(te=m*h,J=m*(Te+1),pe=0,ge=v,G=0;G<S;++G)y[N=te+ge]=y[F=J+ge],y[F]=Je[pe],++pe,ge+=w;if(ce-2-g<=32?u(g,ce-2,y,v,m,_,f,S,w,E,L):x(g,ce-2,y,v,m,_,f,S,w,E,L),h-(Te+2)<=32?u(Te+2,h,y,v,m,_,f,S,w,E,L):x(Te+2,h,y,v,m,_,f,S,w,E,L),ve)return c(qe),void c(Je);if(ce<_e&&Te>we){e:for(;;){for(N=v+ce*m,pe=0,ge=v,G=0;G<S;++G){if(y[N]!==qe[pe])break e;++pe,N+=w}++ce}e:for(;;){for(N=v+Te*m,pe=0,ge=v,G=0;G<S;++G){if(y[N]!==Je[pe])break e;++pe,N+=w}--Te}for(U=ce;U<=Te;++U){for(N=v+U*m,pe=0,G=0;G<S&&0==(Ce=y[N]-qe[pe]);++G)pe+=L,N+=E;if(0===Ce){if(U!==ce)for(te=m*U,J=m*ce,ge=v,G=0;G<S;++G)C=y[N=te+ge],y[N]=y[F=J+ge],y[F]=C,ge+=w;++ce}else{for(N=v+U*m,pe=0,G=0;G<S&&0==(Re=y[N]-Je[pe]);++G)pe+=L,N+=E;if(0===Re)for(;;){for(N=v+Te*m,pe=0,G=0;G<S&&0==(Oe=y[N]-Je[pe]);++G)pe+=L,N+=E;if(0!==Oe){for(N=v+Te*m,pe=0,G=0;G<S&&0==(Oe=y[N]-qe[pe]);++G)pe+=L,N+=E;if(Oe<0){for(te=m*U,J=m*ce,X=m*Te,ge=v,G=0;G<S;++G)j=X+ge,C=y[N=te+ge],y[N]=y[F=J+ge],y[F]=y[j],y[j]=C,ge+=w;++ce,--Te}else{for(te=m*U,J=m*Te,ge=v,G=0;G<S;++G)C=y[N=te+ge],y[N]=y[F=J+ge],y[F]=C,ge+=w;--Te}break}if(--Te<U)break}}}}c(qe),c(Je),Te-ce<=32?u(ce,Te,y,v,m,_,f,S,w,E,L):x(ce,Te,y,v,m,_,f,S,w,E,L)}}},s={"uint32,1,0":function(u,p){return function(c){var x=c.data,g=0|c.offset,h=c.shape,y=c.stride,v=0|y[0],m=0|h[0],_=0|y[1],f=0|h[1],S=_,w=_;m<=32?u(0,m-1,x,g,v,_,m,f,S,w,1):p(0,m-1,x,g,v,_,m,f,S,w,1)}}};d.exports=function(u,p){var y,v,m,_,f,c=[p,u].join(","),x=s[c],g=(y=u,m=r(v=p),_=[v,y].join(","),f=n[_],m?f(m[0],m[1]):f()),h=function(y,v,m){var _=r(v),f=[v,y].join(","),S=o[f];return y.length>1&&_?S(m,_[0],_[1]):S(m)}(u,p,g);return x(g,h)}},8729:function(d,a,t){"use strict";var i=t(8139),r={};d.exports=function(n){var o=n.order,s=n.dtype,u=[o,s].join(":"),p=r[u];return p||(r[u]=p=i(o,s)),p(n),n}},5050:function(d,a,t){var i=t(4780),r=typeof Float64Array<"u";function n(c,x){return c[0]-x[0]}function o(){var c,x=this.stride,g=new Array(x.length);for(c=0;c<g.length;++c)g[c]=[Math.abs(x[c]),c];g.sort(n);var h=new Array(g.length);for(c=0;c<h.length;++c)h[c]=g[c][1];return h}var s={T:function(c){function x(h){this.data=h}var g=x.prototype;return g.dtype=c,g.index=function(){return-1},g.size=0,g.dimension=-1,g.shape=g.stride=g.order=[],g.lo=g.hi=g.transpose=g.step=function(){return new x(this.data)},g.get=g.set=function(){},g.pick=function(){return null},function(h){return new x(h)}},0:function(c,x){function g(y,v){this.data=y,this.offset=v}var h=g.prototype;return h.dtype=c,h.index=function(){return this.offset},h.dimension=0,h.size=1,h.shape=h.stride=h.order=[],h.lo=h.hi=h.transpose=h.step=function(){return new g(this.data,this.offset)},h.pick=function(){return x(this.data)},h.valueOf=h.get=function(){return"generic"===c?this.data.get(this.offset):this.data[this.offset]},h.set=function(y){return"generic"===c?this.data.set(this.offset,y):this.data[this.offset]=y},function(y,v,m,_){return new g(y,_)}},1:function(c,x,g){function h(v,m,_,f){this.data=v,this.shape=[m],this.stride=[_],this.offset=0|f}var y=h.prototype;return y.dtype=c,y.dimension=1,Object.defineProperty(y,"size",{get:function(){return this.shape[0]}}),y.order=[0],y.set=function(v,m){return"generic"===c?this.data.set(this.offset+this.stride[0]*v,m):this.data[this.offset+this.stride[0]*v]=m},y.get=function(v){return"generic"===c?this.data.get(this.offset+this.stride[0]*v):this.data[this.offset+this.stride[0]*v]},y.index=function(v){return this.offset+this.stride[0]*v},y.hi=function(v){return new h(this.data,"number"!=typeof v||v<0?this.shape[0]:0|v,this.stride[0],this.offset)},y.lo=function(v){var m=this.offset,_=0,f=this.shape[0],S=this.stride[0];return"number"==typeof v&&v>=0&&(m+=S*(_=0|v),f-=_),new h(this.data,f,S,m)},y.step=function(v){var m=this.shape[0],_=this.stride[0],f=this.offset,S=0,w=Math.ceil;return"number"==typeof v&&((S=0|v)<0?(f+=_*(m-1),m=w(-m/S)):m=w(m/S),_*=S),new h(this.data,m,_,f)},y.transpose=function(v){return new h(this.data,this.shape[v=void 0===v?0:0|v],this.stride[v],this.offset)},y.pick=function(v){var m=[],_=[],f=this.offset;return"number"==typeof v&&v>=0?f=f+this.stride[0]*v|0:(m.push(this.shape[0]),_.push(this.stride[0])),(0,x[m.length+1])(this.data,m,_,f)},function(v,m,_,f){return new h(v,m[0],_[0],f)}},2:function(c,x,g){function h(v,m,_,f,S,w){this.data=v,this.shape=[m,_],this.stride=[f,S],this.offset=0|w}var y=h.prototype;return y.dtype=c,y.dimension=2,Object.defineProperty(y,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(y,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),y.set=function(v,m,_){return"generic"===c?this.data.set(this.offset+this.stride[0]*v+this.stride[1]*m,_):this.data[this.offset+this.stride[0]*v+this.stride[1]*m]=_},y.get=function(v,m){return"generic"===c?this.data.get(this.offset+this.stride[0]*v+this.stride[1]*m):this.data[this.offset+this.stride[0]*v+this.stride[1]*m]},y.index=function(v,m){return this.offset+this.stride[0]*v+this.stride[1]*m},y.hi=function(v,m){return new h(this.data,"number"!=typeof v||v<0?this.shape[0]:0|v,"number"!=typeof m||m<0?this.shape[1]:0|m,this.stride[0],this.stride[1],this.offset)},y.lo=function(v,m){var _=this.offset,f=0,S=this.shape[0],w=this.shape[1],E=this.stride[0],L=this.stride[1];return"number"==typeof v&&v>=0&&(_+=E*(f=0|v),S-=f),"number"==typeof m&&m>=0&&(_+=L*(f=0|m),w-=f),new h(this.data,S,w,E,L,_)},y.step=function(v,m){var _=this.shape[0],f=this.shape[1],S=this.stride[0],w=this.stride[1],E=this.offset,L=0,C=Math.ceil;return"number"==typeof v&&((L=0|v)<0?(E+=S*(_-1),_=C(-_/L)):_=C(_/L),S*=L),"number"==typeof m&&((L=0|m)<0?(E+=w*(f-1),f=C(-f/L)):f=C(f/L),w*=L),new h(this.data,_,f,S,w,E)},y.transpose=function(v,m){var _=this.shape,f=this.stride;return new h(this.data,_[v=void 0===v?0:0|v],_[m=void 0===m?1:0|m],f[v],f[m],this.offset)},y.pick=function(v,m){var _=[],f=[],S=this.offset;return"number"==typeof v&&v>=0?S=S+this.stride[0]*v|0:(_.push(this.shape[0]),f.push(this.stride[0])),"number"==typeof m&&m>=0?S=S+this.stride[1]*m|0:(_.push(this.shape[1]),f.push(this.stride[1])),(0,x[_.length+1])(this.data,_,f,S)},function(v,m,_,f){return new h(v,m[0],m[1],_[0],_[1],f)}},3:function(c,x,g){function h(v,m,_,f,S,w,E,L){this.data=v,this.shape=[m,_,f],this.stride=[S,w,E],this.offset=0|L}var y=h.prototype;return y.dtype=c,y.dimension=3,Object.defineProperty(y,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(y,"order",{get:function(){var v=Math.abs(this.stride[0]),m=Math.abs(this.stride[1]),_=Math.abs(this.stride[2]);return v>m?m>_?[2,1,0]:v>_?[1,2,0]:[1,0,2]:v>_?[2,0,1]:_>m?[0,1,2]:[0,2,1]}}),y.set=function(v,m,_,f){return"generic"===c?this.data.set(this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_,f):this.data[this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_]=f},y.get=function(v,m,_){return"generic"===c?this.data.get(this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_):this.data[this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_]},y.index=function(v,m,_){return this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_},y.hi=function(v,m,_){return new h(this.data,"number"!=typeof v||v<0?this.shape[0]:0|v,"number"!=typeof m||m<0?this.shape[1]:0|m,"number"!=typeof _||_<0?this.shape[2]:0|_,this.stride[0],this.stride[1],this.stride[2],this.offset)},y.lo=function(v,m,_){var f=this.offset,S=0,w=this.shape[0],E=this.shape[1],L=this.shape[2],C=this.stride[0],O=this.stride[1],R=this.stride[2];return"number"==typeof v&&v>=0&&(f+=C*(S=0|v),w-=S),"number"==typeof m&&m>=0&&(f+=O*(S=0|m),E-=S),"number"==typeof _&&_>=0&&(f+=R*(S=0|_),L-=S),new h(this.data,w,E,L,C,O,R,f)},y.step=function(v,m,_){var f=this.shape[0],S=this.shape[1],w=this.shape[2],E=this.stride[0],L=this.stride[1],C=this.stride[2],O=this.offset,R=0,q=Math.ceil;return"number"==typeof v&&((R=0|v)<0?(O+=E*(f-1),f=q(-f/R)):f=q(f/R),E*=R),"number"==typeof m&&((R=0|m)<0?(O+=L*(S-1),S=q(-S/R)):S=q(S/R),L*=R),"number"==typeof _&&((R=0|_)<0?(O+=C*(w-1),w=q(-w/R)):w=q(w/R),C*=R),new h(this.data,f,S,w,E,L,C,O)},y.transpose=function(v,m,_){var f=this.shape,S=this.stride;return new h(this.data,f[v=void 0===v?0:0|v],f[m=void 0===m?1:0|m],f[_=void 0===_?2:0|_],S[v],S[m],S[_],this.offset)},y.pick=function(v,m,_){var f=[],S=[],w=this.offset;return"number"==typeof v&&v>=0?w=w+this.stride[0]*v|0:(f.push(this.shape[0]),S.push(this.stride[0])),"number"==typeof m&&m>=0?w=w+this.stride[1]*m|0:(f.push(this.shape[1]),S.push(this.stride[1])),"number"==typeof _&&_>=0?w=w+this.stride[2]*_|0:(f.push(this.shape[2]),S.push(this.stride[2])),(0,x[f.length+1])(this.data,f,S,w)},function(v,m,_,f){return new h(v,m[0],m[1],m[2],_[0],_[1],_[2],f)}},4:function(c,x,g){function h(v,m,_,f,S,w,E,L,C,O){this.data=v,this.shape=[m,_,f,S],this.stride=[w,E,L,C],this.offset=0|O}var y=h.prototype;return y.dtype=c,y.dimension=4,Object.defineProperty(y,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(y,"order",{get:g}),y.set=function(v,m,_,f,S){return"generic"===c?this.data.set(this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f,S):this.data[this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f]=S},y.get=function(v,m,_,f){return"generic"===c?this.data.get(this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f):this.data[this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f]},y.index=function(v,m,_,f){return this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f},y.hi=function(v,m,_,f){return new h(this.data,"number"!=typeof v||v<0?this.shape[0]:0|v,"number"!=typeof m||m<0?this.shape[1]:0|m,"number"!=typeof _||_<0?this.shape[2]:0|_,"number"!=typeof f||f<0?this.shape[3]:0|f,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},y.lo=function(v,m,_,f){var S=this.offset,w=0,E=this.shape[0],L=this.shape[1],C=this.shape[2],O=this.shape[3],R=this.stride[0],q=this.stride[1],P=this.stride[2],U=this.stride[3];return"number"==typeof v&&v>=0&&(S+=R*(w=0|v),E-=w),"number"==typeof m&&m>=0&&(S+=q*(w=0|m),L-=w),"number"==typeof _&&_>=0&&(S+=P*(w=0|_),C-=w),"number"==typeof f&&f>=0&&(S+=U*(w=0|f),O-=w),new h(this.data,E,L,C,O,R,q,P,U,S)},y.step=function(v,m,_,f){var S=this.shape[0],w=this.shape[1],E=this.shape[2],L=this.shape[3],C=this.stride[0],O=this.stride[1],R=this.stride[2],q=this.stride[3],P=this.offset,U=0,N=Math.ceil;return"number"==typeof v&&((U=0|v)<0?(P+=C*(S-1),S=N(-S/U)):S=N(S/U),C*=U),"number"==typeof m&&((U=0|m)<0?(P+=O*(w-1),w=N(-w/U)):w=N(w/U),O*=U),"number"==typeof _&&((U=0|_)<0?(P+=R*(E-1),E=N(-E/U)):E=N(E/U),R*=U),"number"==typeof f&&((U=0|f)<0?(P+=q*(L-1),L=N(-L/U)):L=N(L/U),q*=U),new h(this.data,S,w,E,L,C,O,R,q,P)},y.transpose=function(v,m,_,f){var S=this.shape,w=this.stride;return new h(this.data,S[v=void 0===v?0:0|v],S[m=void 0===m?1:0|m],S[_=void 0===_?2:0|_],S[f=void 0===f?3:0|f],w[v],w[m],w[_],w[f],this.offset)},y.pick=function(v,m,_,f){var S=[],w=[],E=this.offset;return"number"==typeof v&&v>=0?E=E+this.stride[0]*v|0:(S.push(this.shape[0]),w.push(this.stride[0])),"number"==typeof m&&m>=0?E=E+this.stride[1]*m|0:(S.push(this.shape[1]),w.push(this.stride[1])),"number"==typeof _&&_>=0?E=E+this.stride[2]*_|0:(S.push(this.shape[2]),w.push(this.stride[2])),"number"==typeof f&&f>=0?E=E+this.stride[3]*f|0:(S.push(this.shape[3]),w.push(this.stride[3])),(0,x[S.length+1])(this.data,S,w,E)},function(v,m,_,f){return new h(v,m[0],m[1],m[2],m[3],_[0],_[1],_[2],_[3],f)}},5:function(c,x,g){function h(v,m,_,f,S,w,E,L,C,O,R,q){this.data=v,this.shape=[m,_,f,S,w],this.stride=[E,L,C,O,R],this.offset=0|q}var y=h.prototype;return y.dtype=c,y.dimension=5,Object.defineProperty(y,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(y,"order",{get:g}),y.set=function(v,m,_,f,S,w){return"generic"===c?this.data.set(this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S,w):this.data[this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S]=w},y.get=function(v,m,_,f,S){return"generic"===c?this.data.get(this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S):this.data[this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S]},y.index=function(v,m,_,f,S){return this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S},y.hi=function(v,m,_,f,S){return new h(this.data,"number"!=typeof v||v<0?this.shape[0]:0|v,"number"!=typeof m||m<0?this.shape[1]:0|m,"number"!=typeof _||_<0?this.shape[2]:0|_,"number"!=typeof f||f<0?this.shape[3]:0|f,"number"!=typeof S||S<0?this.shape[4]:0|S,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},y.lo=function(v,m,_,f,S){var w=this.offset,E=0,L=this.shape[0],C=this.shape[1],O=this.shape[2],R=this.shape[3],q=this.shape[4],P=this.stride[0],U=this.stride[1],N=this.stride[2],F=this.stride[3],j=this.stride[4];return"number"==typeof v&&v>=0&&(w+=P*(E=0|v),L-=E),"number"==typeof m&&m>=0&&(w+=U*(E=0|m),C-=E),"number"==typeof _&&_>=0&&(w+=N*(E=0|_),O-=E),"number"==typeof f&&f>=0&&(w+=F*(E=0|f),R-=E),"number"==typeof S&&S>=0&&(w+=j*(E=0|S),q-=E),new h(this.data,L,C,O,R,q,P,U,N,F,j,w)},y.step=function(v,m,_,f,S){var w=this.shape[0],E=this.shape[1],L=this.shape[2],C=this.shape[3],O=this.shape[4],R=this.stride[0],q=this.stride[1],P=this.stride[2],U=this.stride[3],N=this.stride[4],F=this.offset,j=0,G=Math.ceil;return"number"==typeof v&&((j=0|v)<0?(F+=R*(w-1),w=G(-w/j)):w=G(w/j),R*=j),"number"==typeof m&&((j=0|m)<0?(F+=q*(E-1),E=G(-E/j)):E=G(E/j),q*=j),"number"==typeof _&&((j=0|_)<0?(F+=P*(L-1),L=G(-L/j)):L=G(L/j),P*=j),"number"==typeof f&&((j=0|f)<0?(F+=U*(C-1),C=G(-C/j)):C=G(C/j),U*=j),"number"==typeof S&&((j=0|S)<0?(F+=N*(O-1),O=G(-O/j)):O=G(O/j),N*=j),new h(this.data,w,E,L,C,O,R,q,P,U,N,F)},y.transpose=function(v,m,_,f,S){var w=this.shape,E=this.stride;return new h(this.data,w[v=void 0===v?0:0|v],w[m=void 0===m?1:0|m],w[_=void 0===_?2:0|_],w[f=void 0===f?3:0|f],w[S=void 0===S?4:0|S],E[v],E[m],E[_],E[f],E[S],this.offset)},y.pick=function(v,m,_,f,S){var w=[],E=[],L=this.offset;return"number"==typeof v&&v>=0?L=L+this.stride[0]*v|0:(w.push(this.shape[0]),E.push(this.stride[0])),"number"==typeof m&&m>=0?L=L+this.stride[1]*m|0:(w.push(this.shape[1]),E.push(this.stride[1])),"number"==typeof _&&_>=0?L=L+this.stride[2]*_|0:(w.push(this.shape[2]),E.push(this.stride[2])),"number"==typeof f&&f>=0?L=L+this.stride[3]*f|0:(w.push(this.shape[3]),E.push(this.stride[3])),"number"==typeof S&&S>=0?L=L+this.stride[4]*S|0:(w.push(this.shape[4]),E.push(this.stride[4])),(0,x[w.length+1])(this.data,w,E,L)},function(v,m,_,f){return new h(v,m[0],m[1],m[2],m[3],m[4],_[0],_[1],_[2],_[3],_[4],f)}}};function u(c,x){var g=-1===x?"T":String(x),h=s[g];return-1===x?h(c):0===x?h(c,p[c][0]):h(c,p[c],o)}var p={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};d.exports=function(c,x,g,h){if(void 0===c)return(0,p.array[0])([]);"number"==typeof c&&(c=[c]),void 0===x&&(x=[c.length]);var y=x.length;if(void 0===g){g=new Array(y);for(var v=y-1,m=1;v>=0;--v)g[v]=m,m*=x[v]}if(void 0===h)for(h=0,v=0;v<y;++v)g[v]<0&&(h-=(x[v]-1)*g[v]);for(var _=function(S){if(i(S))return"buffer";if(r)switch(Object.prototype.toString.call(S)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(S)?"array":"generic"}(c),f=p[_];f.length<=y+1;)f.push(u(_,f.length-1));return(0,f[y+1])(c,x,g,h)}},8551:function(d,a,t){"use strict";var i=t(8362),r=Math.pow(2,-1074),n=-1>>>0;d.exports=function(o,s){if(isNaN(o)||isNaN(s))return NaN;if(o===s)return o;if(0===o)return s<0?-r:r;var u=i.hi(o),p=i.lo(o);return s>o==o>0?p===n?(u+=1,p=0):p+=1:0===p?(p=n,u-=1):p-=1,i.pack(p,u)}},115:function(d,a){a.vertexNormals=function(t,i,r){for(var n=i.length,o=new Array(n),s=void 0===r?1e-6:r,u=0;u<n;++u)o[u]=[0,0,0];for(u=0;u<t.length;++u)for(var p=t[u],x=p[p.length-1],g=p[0],h=0;h<p.length;++h){for(var y=i[x],v=i[x=g],m=i[g=p[(h+1)%p.length]],_=new Array(3),f=0,S=new Array(3),w=0,E=0;E<3;++E)_[E]=y[E]-v[E],f+=_[E]*_[E],S[E]=m[E]-v[E],w+=S[E]*S[E];if(f*w>s){var L=o[x],C=1/Math.sqrt(f*w);for(E=0;E<3;++E){var O=(E+1)%3,R=(E+2)%3;L[E]+=C*(S[O]*_[R]-S[R]*_[O])}}}for(u=0;u<n;++u){L=o[u];var q=0;for(E=0;E<3;++E)q+=L[E]*L[E];if(q>s)for(C=1/Math.sqrt(q),E=0;E<3;++E)L[E]*=C;else for(E=0;E<3;++E)L[E]=0}return o},a.faceNormals=function(t,i,r){for(var n=t.length,o=new Array(n),s=void 0===r?1e-6:r,u=0;u<n;++u){for(var p=t[u],c=new Array(3),x=0;x<3;++x)c[x]=i[p[x]];var g=new Array(3),h=new Array(3);for(x=0;x<3;++x)g[x]=c[1][x]-c[0][x],h[x]=c[2][x]-c[0][x];var y=new Array(3),v=0;for(x=0;x<3;++x){var m=(x+1)%3,_=(x+2)%3;y[x]=g[m]*h[_]-g[_]*h[m],v+=y[x]*y[x]}for(v=v>s?1/Math.sqrt(v):0,x=0;x<3;++x)y[x]*=v;o[u]=y}return o}},567:function(d){"use strict";d.exports=function(a,t,i,r,n,o,s,u,p,c){var x=t+o+c;if(g>0){var g=Math.sqrt(x+1);a[0]=.5*(s-p)/g,a[1]=.5*(u-r)/g,a[2]=.5*(i-o)/g,a[3]=.5*g}else{var h=Math.max(t,o,c);g=Math.sqrt(2*h-x+1),t>=h?(a[0]=.5*g,a[1]=.5*(n+i)/g,a[2]=.5*(u+r)/g,a[3]=.5*(s-p)/g):o>=h?(a[0]=.5*(i+n)/g,a[1]=.5*g,a[2]=.5*(p+s)/g,a[3]=.5*(u-r)/g):(a[0]=.5*(r+u)/g,a[1]=.5*(s+p)/g,a[2]=.5*g,a[3]=.5*(i-n)/g)}return a}},7774:function(d,a,t){"use strict";d.exports=function(h){var y=(h=h||{}).center||[0,0,0],v=h.rotation||[0,0,0,1],m=h.radius||1;y=[].slice.call(y,0,3),c(v=[].slice.call(v,0,4),v);var _=new x(v,y,Math.log(m));return _.setDistanceLimits(h.zoomMin,h.zoomMax),("eye"in h||"up"in h)&&_.lookAt(0,h.eye,h.center,h.up),_};var i=t(8444),r=t(3012),n=t(5950),o=t(7437),s=t(567);function u(h,y,v){return Math.sqrt(Math.pow(h,2)+Math.pow(y,2)+Math.pow(v,2))}function p(h,y,v,m){return Math.sqrt(Math.pow(h,2)+Math.pow(y,2)+Math.pow(v,2)+Math.pow(m,2))}function c(h,y){var v=y[0],m=y[1],_=y[2],f=y[3],S=p(v,m,_,f);S>1e-6?(h[0]=v/S,h[1]=m/S,h[2]=_/S,h[3]=f/S):(h[0]=h[1]=h[2]=0,h[3]=1)}function x(h,y,v){this.radius=i([v]),this.center=i(y),this.rotation=i(h),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var g=x.prototype;g.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},g.recalcMatrix=function(h){this.radius.curve(h),this.center.curve(h),this.rotation.curve(h);var y=this.computedRotation;c(y,y);var v=this.computedMatrix;n(v,y);var m=this.computedCenter,_=this.computedEye,f=this.computedUp,S=Math.exp(this.computedRadius[0]);_[0]=m[0]+S*v[2],_[1]=m[1]+S*v[6],_[2]=m[2]+S*v[10],f[0]=v[1],f[1]=v[5],f[2]=v[9];for(var w=0;w<3;++w){for(var E=0,L=0;L<3;++L)E+=v[w+4*L]*_[L];v[12+w]=-E}},g.getMatrix=function(h,y){this.recalcMatrix(h);var v=this.computedMatrix;if(y){for(var m=0;m<16;++m)y[m]=v[m];return y}return v},g.idle=function(h){this.center.idle(h),this.radius.idle(h),this.rotation.idle(h)},g.flush=function(h){this.center.flush(h),this.radius.flush(h),this.rotation.flush(h)},g.pan=function(h,y,v,m){y=y||0,v=v||0,m=m||0,this.recalcMatrix(h);var _=this.computedMatrix,f=_[1],S=_[5],w=_[9],E=u(f,S,w),L=_[0],C=_[4],O=_[8],R=L*(f/=E)+C*(S/=E)+O*(w/=E),q=u(L-=f*R,C-=S*R,O-=w*R),P=_[2],U=_[6],N=_[10],F=P*f+U*S+N*w,j=P*(L/=q)+U*(C/=q)+N*(O/=q),G=u(P-=F*f+j*L,U-=F*S+j*C,N-=F*w+j*O);P/=G,U/=G,N/=G,this.center.move(h,L*y+f*v,C*y+S*v,O*y+w*v);var Y=Math.exp(this.computedRadius[0]);Y=Math.max(1e-4,Y+m),this.radius.set(h,Math.log(Y))},g.rotate=function(h,y,v,m){this.recalcMatrix(h);var _=this.computedMatrix,O=_[2],R=_[6],q=_[10],P=(y=y||0)*_[0]+(v=v||0)*_[1],U=y*_[4]+v*_[5],N=y*_[8]+v*_[9],F=-(R*N-q*U),j=-(q*P-O*N),G=-(O*U-R*P),te=Math.sqrt(Math.max(0,1-Math.pow(F,2)-Math.pow(j,2)-Math.pow(G,2))),J=p(F,j,G,te);J>1e-6?(F/=J,j/=J,G/=J,te/=J):(F=j=G=0,te=1);var X=this.computedRotation,Y=X[0],W=X[1],$=X[2],ne=X[3],re=Y*te+ne*F+W*G-$*j,oe=W*te+ne*j+$*F-Y*G,ue=$*te+ne*G+Y*j-W*F,xe=ne*te-Y*F-W*j-$*G;if(m){F=O,j=R,G=q;var Me=Math.sin(m)/u(F,j,G);F*=Me,j*=Me,G*=Me,xe=xe*(te=Math.cos(y))-(re=re*te+xe*F+oe*G-ue*j)*F-(oe=oe*te+xe*j+ue*F-re*G)*j-(ue=ue*te+xe*G+re*j-oe*F)*G}var me=p(re,oe,ue,xe);me>1e-6?(re/=me,oe/=me,ue/=me,xe/=me):(re=oe=ue=0,xe=1),this.rotation.set(h,re,oe,ue,xe)},g.lookAt=function(h,y,v,m){this.recalcMatrix(h);var _=this.computedMatrix;r(_,y=y||this.computedEye,v=v||this.computedCenter,m=m||this.computedUp);var f=this.computedRotation;s(f,_[0],_[1],_[2],_[4],_[5],_[6],_[8],_[9],_[10]),c(f,f),this.rotation.set(h,f[0],f[1],f[2],f[3]);for(var S=0,w=0;w<3;++w)S+=Math.pow(v[w]-y[w],2);this.radius.set(h,.5*Math.log(Math.max(S,1e-6))),this.center.set(h,v[0],v[1],v[2])},g.translate=function(h,y,v,m){this.center.move(h,y||0,v||0,m||0)},g.setMatrix=function(h,y){var v=this.computedRotation;s(v,y[0],y[1],y[2],y[4],y[5],y[6],y[8],y[9],y[10]),c(v,v),this.rotation.set(h,v[0],v[1],v[2],v[3]);var m=this.computedMatrix;o(m,y);var _=m[15];if(Math.abs(_)>1e-6){var f=m[12]/_,S=m[13]/_,w=m[14]/_;this.recalcMatrix(h);var E=Math.exp(this.computedRadius[0]);this.center.set(h,f-m[2]*E,S-m[6]*E,w-m[10]*E),this.radius.idle(h)}else this.center.idle(h),this.radius.idle(h)},g.setDistance=function(h,y){y>0&&this.radius.set(h,Math.log(y))},g.setDistanceLimits=function(h,y){h=h>0?Math.log(h):-1/0,y=y>0?Math.log(y):1/0,y=Math.max(y,h),this.radius.bounds[0][0]=h,this.radius.bounds[1][0]=y},g.getDistanceLimits=function(h){var y=this.radius.bounds;return h?(h[0]=Math.exp(y[0][0]),h[1]=Math.exp(y[1][0]),h):[Math.exp(y[0][0]),Math.exp(y[1][0])]},g.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},g.fromJSON=function(h){var y=this.lastT(),v=h.center;v&&this.center.set(y,v[0],v[1],v[2]);var m=h.rotation;m&&this.rotation.set(y,m[0],m[1],m[2],m[3]);var _=h.distance;_&&_>0&&this.radius.set(y,Math.log(_)),this.setDistanceLimits(h.zoomMin,h.zoomMax)}},4930:function(d,a,t){"use strict";var i=t(6184);d.exports=function(r,n,o){return i(o=void 0!==o?o+"":" ",n)+r}},4405:function(d){d.exports=function(a,t){t||(t=[0,""]),a=String(a);var i=parseFloat(a,10);return t[0]=i,t[1]=a.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(d,a,t){"use strict";d.exports=function(r,n){for(var o=0|n.length,s=r.length,u=[new Array(o),new Array(o)],p=0;p<o;++p)u[0][p]=[],u[1][p]=[];for(p=0;p<s;++p){var c=r[p];u[0][c[0]].push(c),u[1][c[1]].push(c)}var w,x=[];for(p=0;p<o;++p)u[0][p].length+u[1][p].length===0&&x.push([p]);function g(S,w){var E=u[w][S[w]];E.splice(E.indexOf(S),1)}function h(S,w,E){for(var L,C,O,R=0;R<2;++R)if(u[R][w].length>0){L=u[R][w][0],O=R;break}C=L[1^O];for(var q=0;q<2;++q)for(var P=u[q][w],U=0;U<P.length;++U){var N=P[U],F=N[1^q];i(n[S],n[w],n[C],n[F])>0&&(L=N,C=F,O=q)}return E||L&&g(L,O),C}function y(S,w){var E=u[w][S][0],L=[S];g(E,w);for(var C=E[1^w];;){for(;C!==S;)L.push(C),C=h(L[L.length-2],C,!1);if(u[0][S].length+u[1][S].length===0)break;var O=L[L.length-1],R=S,q=L[1],P=h(O,R,!0);if(i(n[O],n[R],n[q],n[P])<0)break;L.push(S),C=h(O,R)}return L}for(p=0;p<o;++p)for(var m=0;m<2;++m){for(var _=[];u[m][p].length>0;){var f=y(p,m);(w=f)[1]===w[w.length-1]?_.push.apply(_,f):(_.length>0&&x.push(_),_=f)}_.length>0&&x.push(_)}return x};var i=t(9398)},3959:function(d,a,t){"use strict";d.exports=function(r,n){for(var o=i(r,n.length),s=new Array(n.length),u=new Array(n.length),p=[],c=0;c<n.length;++c){var x=o[c].length;u[c]=x,s[c]=!0,x<=1&&p.push(c)}for(;p.length>0;){s[m=p.pop()]=!1;var g=o[m];for(c=0;c<g.length;++c){var h=g[c];0==--u[h]&&p.push(h)}}var y=new Array(n.length),v=[];for(c=0;c<n.length;++c)if(s[c]){var m=v.length;y[c]=m,v.push(n[c])}else y[c]=-1;var _=[];for(c=0;c<r.length;++c){var f=r[c];s[f[0]]&&s[f[1]]&&_.push([y[f[0]],y[f[1]]])}return[_,v]};var i=t(8348)},8040:function(d,a,t){"use strict";d.exports=function(x,g){for(var h=p(x,g),y=(g=h[1]).length,v=i(x=h[0],g.length),m=0;m<y;++m)if(v[m].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var _=r(x,g),f=(_=_.filter(function(Pe){for(var _e=Pe.length,we=[0],se=0;se<_e;++se){var ae=g[Pe[se]],fe=g[Pe[(se+1)%_e]],Ee=o(-ae[0],ae[1]),ke=o(-ae[0],fe[1]),be=o(fe[0],ae[1]),Ie=o(fe[0],fe[1]);we=s(we,s(s(Ee,ke),s(be,Ie)))}return we[we.length-1]>0})).length,S=new Array(f),w=new Array(f);for(m=0;m<f;++m){S[m]=m;var E=new Array(f),L=_[m].map(function(Pe){return g[Pe]}),C=n([L]),O=0;e:for(var R=0;R<f;++R)if(E[R]=0,m!==R){for(var q=(pe=_[R]).length,P=0;P<q;++P){var U=C(g[pe[P]]);if(0!==U){U<0&&(E[R]=1,O+=1);continue e}}E[R]=1,O+=1}w[m]=[O,m,E]}for(w.sort(function(Pe,_e){return _e[0]-Pe[0]}),m=0;m<f;++m){var N=(E=w[m])[1],F=E[2];for(R=0;R<f;++R)F[R]&&(S[R]=N)}var j=function(Pe){for(var _e=new Array(Pe),we=0;we<Pe;++we)_e[we]=[];return _e}(f);for(m=0;m<f;++m)j[m].push(S[m]),j[S[m]].push(m);var G={},te=c(y,!1);for(m=0;m<f;++m)for(q=(pe=_[m]).length,R=0;R<q;++R){var J=pe[R],X=pe[(R+1)%q],Y=Math.min(J,X)+":"+Math.max(J,X);if(Y in G){var W=G[Y];j[W].push(m),j[m].push(W),te[J]=te[X]=!0}else G[Y]=m}function $(Pe){for(var _e=Pe.length,we=0;we<_e;++we)if(!te[Pe[we]])return!1;return!0}var ne=[],re=c(f,-1);for(m=0;m<f;++m)S[m]!==m||$(_[m])?re[m]=-1:(ne.push(m),re[m]=0);for(h=[];ne.length>0;){var oe=ne.pop(),ue=j[oe];u(ue,function(Pe,_e){return Pe-_e});var xe,Me=ue.length,me=re[oe];for(0===me&&(xe=[pe=_[oe]]),m=0;m<Me;++m){var pe,ge=ue[m];re[ge]>=0||(re[ge]=1^me,ne.push(ge),0===me&&($(pe=_[ge])||(pe.reverse(),xe.push(pe))))}0===me&&h.push(xe)}return h};var i=t(8348),r=t(4166),n=t(211),o=t(9660),s=t(9662),u=t(1215),p=t(3959);function c(x,g){for(var h=new Array(x),y=0;y<x;++y)h[y]=g;return h}},211:function(d,a,t){d.exports=function(c){for(var x=c.length,g=[],h=[],y=0;y<x;++y)for(var v=c[y],m=v.length,_=m-1,f=0;f<m;_=f++){var S=v[_],w=v[f];S[0]===w[0]?h.push([S,w]):g.push([S,w])}if(0===g.length)return 0===h.length?p:(E=u(h),function(O){return E(O[0],O[1])?0:1});var E,O,R,L=r(g),C=(O=L.slabs,R=L.coordinates,function(q){var P=o.le(R,q[0]);if(P<0)return 1;var U=O[P];if(!U){if(!(P>0&&R[P]===q[0]))return 1;U=O[P-1]}for(var N=1;U;){var F=U.key,j=i(q,F[0],F[1]);if(F[0][0]<F[1][0])if(j<0)U=U.left;else{if(!(j>0))return 0;N=-1,U=U.right}else if(j>0)U=U.left;else{if(!(j<0))return 0;N=1,U=U.right}}return N});return 0===h.length?C:function(O,R){return function(q){return O(q[0],q[1])?0:R(q)}}(u(h),C)};var i=t(417)[3],r=t(4385),n=t(9014),o=t(5070);function s(){return!0}function u(c){for(var x={},g=0;g<c.length;++g){var h=c[g],y=h[0][0],v=h[0][1],m=h[1][1],_=[Math.min(v,m),Math.max(v,m)];y in x?x[y].push(_):x[y]=[_]}var E,f={},S=Object.keys(x);for(g=0;g<S.length;++g)f[S[g]]=n(x[S[g]]);return E=f,function(L,C){var O=E[L];return!!O&&!!O.queryPoint(C,s)}}function p(c){return 1}},7309:function(d){"use strict";var a=new Float64Array(4),t=new Float64Array(4),i=new Float64Array(4);d.exports=function(r,n,o,s,u){a.length<s.length&&(a=new Float64Array(s.length),t=new Float64Array(s.length),i=new Float64Array(s.length));for(var p=0;p<s.length;++p)a[p]=r[p]-s[p],t[p]=n[p]-r[p],i[p]=o[p]-r[p];var c=0,x=0,g=0,h=0,y=0,v=0;for(p=0;p<s.length;++p){var m=t[p],_=i[p],f=a[p];c+=m*m,x+=m*_,g+=_*_,h+=f*m,y+=f*_,v+=f*f}var S,w,E,L,C,O=Math.abs(c*g-x*x),R=x*y-g*h,q=x*h-c*y;if(R+q<=O)if(R<0)q<0&&h<0?(q=0,-h>=c?(R=1,S=c+2*h+v):S=h*(R=-h/c)+v):(R=0,y>=0?(q=0,S=v):-y>=g?(q=1,S=g+2*y+v):S=y*(q=-y/g)+v);else if(q<0)q=0,h>=0?(R=0,S=v):-h>=c?(R=1,S=c+2*h+v):S=h*(R=-h/c)+v;else{var P=1/O;S=(R*=P)*(c*R+x*(q*=P)+2*h)+q*(x*R+g*q+2*y)+v}else R<0?(E=g+y)>(w=x+h)?(L=E-w)>=(C=c-2*x+g)?(R=1,q=0,S=c+2*h+v):S=(R=L/C)*(c*R+x*(q=1-R)+2*h)+q*(x*R+g*q+2*y)+v:(R=0,E<=0?(q=1,S=g+2*y+v):y>=0?(q=0,S=v):S=y*(q=-y/g)+v):q<0?(E=c+h)>(w=x+y)?(L=E-w)>=(C=c-2*x+g)?(q=1,R=0,S=g+2*y+v):S=(R=1-(q=L/C))*(c*R+x*q+2*h)+q*(x*R+g*q+2*y)+v:(q=0,E<=0?(R=1,S=c+2*h+v):h>=0?(R=0,S=v):S=h*(R=-h/c)+v):(L=g+y-x-h)<=0?(R=0,q=1,S=g+2*y+v):L>=(C=c-2*x+g)?(R=1,q=0,S=c+2*h+v):S=(R=L/C)*(c*R+x*(q=1-R)+2*h)+q*(x*R+g*q+2*y)+v;var U=1-R-q;for(p=0;p<s.length;++p)u[p]=U*r[p]+R*n[p]+q*o[p];return S<0?0:S}},1116:function(d,a,t){d.exports=t(6093)},7584:function(d,a,t){"use strict";var i=t(1539);d.exports=function(r,n){for(var o=r.length,s=new Array(o),u=0;u<o;++u)s[u]=i(r[u],n[u]);return s}},2826:function(d,a,t){"use strict";d.exports=function(r){for(var n=new Array(r.length),o=0;o<r.length;++o)n[o]=i(r[o]);return n};var i=t(5125)},4469:function(d,a,t){"use strict";var i=t(5125),r=t(3962);d.exports=function(n,o){for(var s=i(o),u=n.length,p=new Array(u),c=0;c<u;++c)p[c]=r(n[c],s);return p}},6695:function(d,a,t){"use strict";var i=t(4354);d.exports=function(r,n){for(var o=r.length,s=new Array(o),u=0;u<o;++u)s[u]=i(r[u],n[u]);return s}},7037:function(d,a,t){"use strict";var i=t(9209),r=t(1284),n=t(9887);d.exports=function(o){o.sort(r);for(var s=o.length,u=0,p=0;p<s;++p){var c=o[p],x=n(c);if(0!==x){if(u>0){var g=o[u-1];if(0===i(c,g)&&n(g)!==x){u-=1;continue}}o[u++]=c}}return o.length=u,o}},6184:function(d){"use strict";var a,t="";d.exports=function(i,r){if("string"!=typeof i)throw new TypeError("expected a string");if(1===r)return i;if(2===r)return i+i;var n=i.length*r;if(a!==i||void 0===a)a=i,t="";else if(t.length>=n)return t.substr(0,n);for(;n>t.length&&r>1;)1&r&&(t+=i),r>>=1,i+=i;return t=(t+=i).substr(0,n)}},8161:function(d,a,t){d.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(d){"use strict";d.exports=function(a){for(var t=a.length,i=a[a.length-1],r=t,n=t-2;n>=0;--n){var o=i;(p=(u=a[n])-((i=o+u)-o))&&(a[--r]=i,i=p)}var s=0;for(n=r;n<t;++n){var u,p;(p=(u=i)-((i=(o=a[n])+u)-o))&&(a[s++]=p)}return a[s++]=i,a.length=s,a}},8167:function(d,a,t){"use strict";var i=t(9660),r=t(9662),n=t(8289),o=t(402);function s(y,v,m,_){return function(f){return _(y(m(f[0][0],f[1][1]),m(-f[0][1],f[1][0])))}}function u(y,v,m,_){return function(f){return _(y(v(y(m(f[1][1],f[2][2]),m(-f[1][2],f[2][1])),f[0][0]),y(v(y(m(f[1][0],f[2][2]),m(-f[1][2],f[2][0])),-f[0][1]),v(y(m(f[1][0],f[2][1]),m(-f[1][1],f[2][0])),f[0][2]))))}}function p(y,v,m,_){return function(f){return _(y(y(v(y(v(y(m(f[2][2],f[3][3]),m(-f[2][3],f[3][2])),f[1][1]),y(v(y(m(f[2][1],f[3][3]),m(-f[2][3],f[3][1])),-f[1][2]),v(y(m(f[2][1],f[3][2]),m(-f[2][2],f[3][1])),f[1][3]))),f[0][0]),v(y(v(y(m(f[2][2],f[3][3]),m(-f[2][3],f[3][2])),f[1][0]),y(v(y(m(f[2][0],f[3][3]),m(-f[2][3],f[3][0])),-f[1][2]),v(y(m(f[2][0],f[3][2]),m(-f[2][2],f[3][0])),f[1][3]))),-f[0][1])),y(v(y(v(y(m(f[2][1],f[3][3]),m(-f[2][3],f[3][1])),f[1][0]),y(v(y(m(f[2][0],f[3][3]),m(-f[2][3],f[3][0])),-f[1][1]),v(y(m(f[2][0],f[3][1]),m(-f[2][1],f[3][0])),f[1][3]))),f[0][2]),v(y(v(y(m(f[2][1],f[3][2]),m(-f[2][2],f[3][1])),f[1][0]),y(v(y(m(f[2][0],f[3][2]),m(-f[2][2],f[3][0])),-f[1][1]),v(y(m(f[2][0],f[3][1]),m(-f[2][1],f[3][0])),f[1][2]))),-f[0][3]))))}}function c(y,v,m,_){return function(f){return _(y(y(v(y(y(v(y(v(y(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][2]),y(v(y(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),-f[2][3]),v(y(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][4]))),f[1][1]),v(y(v(y(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][1]),y(v(y(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][3]),v(y(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][4]))),-f[1][2])),y(v(y(v(y(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][1]),y(v(y(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][2]),v(y(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][4]))),f[1][3]),v(y(v(y(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][1]),y(v(y(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),-f[2][2]),v(y(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][3]))),-f[1][4]))),f[0][0]),v(y(y(v(y(v(y(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][2]),y(v(y(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),-f[2][3]),v(y(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][4]))),f[1][0]),v(y(v(y(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][0]),y(v(y(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][3]),v(y(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),f[2][4]))),-f[1][2])),y(v(y(v(y(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][0]),y(v(y(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][2]),v(y(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][4]))),f[1][3]),v(y(v(y(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][0]),y(v(y(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][2]),v(y(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][3]))),-f[1][4]))),-f[0][1])),y(v(y(y(v(y(v(y(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][1]),y(v(y(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][3]),v(y(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][4]))),f[1][0]),v(y(v(y(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][0]),y(v(y(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][3]),v(y(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),f[2][4]))),-f[1][1])),y(v(y(v(y(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),f[2][0]),y(v(y(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][1]),v(y(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][4]))),f[1][3]),v(y(v(y(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][0]),y(v(y(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][1]),v(y(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][3]))),-f[1][4]))),f[0][2]),y(v(y(y(v(y(v(y(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][1]),y(v(y(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][2]),v(y(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][4]))),f[1][0]),v(y(v(y(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][0]),y(v(y(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][2]),v(y(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][4]))),-f[1][1])),y(v(y(v(y(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),f[2][0]),y(v(y(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][1]),v(y(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][4]))),f[1][2]),v(y(v(y(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][0]),y(v(y(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),-f[2][1]),v(y(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][2]))),-f[1][4]))),-f[0][3]),v(y(y(v(y(v(y(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][1]),y(v(y(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),-f[2][2]),v(y(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][3]))),f[1][0]),v(y(v(y(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][0]),y(v(y(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][2]),v(y(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][3]))),-f[1][1])),y(v(y(v(y(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][0]),y(v(y(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][1]),v(y(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][3]))),f[1][2]),v(y(v(y(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][0]),y(v(y(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),-f[2][1]),v(y(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][2]))),-f[1][3]))),f[0][4])))))}}function x(y){return(2===y?s:3===y?u:4===y?p:5===y?c:void 0)(r,n,i,o)}var g=[function(){return[0]},function(y){return[y[0][0]]}];function h(y,v,m,_,f,S,w,E){return function(L){switch(L.length){case 0:return y(L);case 1:return v(L);case 2:return m(L);case 3:return _(L);case 4:return f(L);case 5:return S(L)}var C=w[L.length];return C||(C=w[L.length]=E(L.length)),C(L)}}!function(){for(;g.length<6;)g.push(x(g.length));d.exports=h.apply(void 0,g.concat([g,x]));for(var y=0;y<g.length;++y)d.exports[y]=g[y]}()},9130:function(d,a,t){"use strict";var i=t(9660),r=t(9662);d.exports=function(n,o){for(var s=i(n[0],o[0]),u=1;u<n.length;++u)s=r(s,i(n[u],o[u]));return s}},2227:function(d,a,t){"use strict";var i=t(9660),r=t(9662),n=t(4078),o=t(8289);function s(v){return(3===v?u:4===v?p:5===v?c:x)(r,n,i,o)}function u(v,m,_,f){return function(S,w,E){var L=_(S[0],S[0]),C=f(L,w[0]),O=f(L,E[0]),R=_(w[0],w[0]),q=f(R,S[0]),P=f(R,E[0]),U=_(E[0],E[0]),N=f(U,S[0]),F=f(U,w[0]),j=v(m(F,P),m(q,C)),G=m(N,O),te=m(j,G);return te[te.length-1]}}function p(v,m,_,f){return function(S,w,E,L){var C=v(_(S[0],S[0]),_(S[1],S[1])),O=f(C,w[0]),R=f(C,E[0]),q=f(C,L[0]),P=v(_(w[0],w[0]),_(w[1],w[1])),U=f(P,S[0]),N=f(P,E[0]),F=f(P,L[0]),j=v(_(E[0],E[0]),_(E[1],E[1])),G=f(j,S[0]),te=f(j,w[0]),J=f(j,L[0]),X=v(_(L[0],L[0]),_(L[1],L[1])),Y=f(X,S[0]),W=f(X,w[0]),$=f(X,E[0]),ne=v(v(f(m($,J),w[1]),v(f(m(W,F),-E[1]),f(m(te,N),L[1]))),v(f(m(W,F),S[1]),v(f(m(Y,q),-w[1]),f(m(U,O),L[1])))),re=v(v(f(m($,J),S[1]),v(f(m(Y,q),-E[1]),f(m(G,R),L[1]))),v(f(m(te,N),S[1]),v(f(m(G,R),-w[1]),f(m(U,O),E[1])))),oe=m(ne,re);return oe[oe.length-1]}}function c(v,m,_,f){return function(S,w,E,L,C){var O=v(_(S[0],S[0]),v(_(S[1],S[1]),_(S[2],S[2]))),R=f(O,w[0]),q=f(O,E[0]),P=f(O,L[0]),U=f(O,C[0]),N=v(_(w[0],w[0]),v(_(w[1],w[1]),_(w[2],w[2]))),F=f(N,S[0]),j=f(N,E[0]),G=f(N,L[0]),te=f(N,C[0]),J=v(_(E[0],E[0]),v(_(E[1],E[1]),_(E[2],E[2]))),X=f(J,S[0]),Y=f(J,w[0]),W=f(J,L[0]),$=f(J,C[0]),ne=v(_(L[0],L[0]),v(_(L[1],L[1]),_(L[2],L[2]))),re=f(ne,S[0]),oe=f(ne,w[0]),ue=f(ne,E[0]),xe=f(ne,C[0]),Me=v(_(C[0],C[0]),v(_(C[1],C[1]),_(C[2],C[2]))),me=f(Me,S[0]),pe=f(Me,w[0]),ge=f(Me,E[0]),Pe=f(Me,L[0]),_e=v(v(v(f(v(f(m(Pe,xe),E[1]),v(f(m(ge,$),-L[1]),f(m(ue,W),C[1]))),w[2]),v(f(v(f(m(Pe,xe),w[1]),v(f(m(pe,te),-L[1]),f(m(oe,G),C[1]))),-E[2]),f(v(f(m(ge,$),w[1]),v(f(m(pe,te),-E[1]),f(m(Y,j),C[1]))),L[2]))),v(f(v(f(m(ue,W),w[1]),v(f(m(oe,G),-E[1]),f(m(Y,j),L[1]))),-C[2]),v(f(v(f(m(Pe,xe),w[1]),v(f(m(pe,te),-L[1]),f(m(oe,G),C[1]))),S[2]),f(v(f(m(Pe,xe),S[1]),v(f(m(me,U),-L[1]),f(m(re,P),C[1]))),-w[2])))),v(v(f(v(f(m(pe,te),S[1]),v(f(m(me,U),-w[1]),f(m(F,R),C[1]))),L[2]),v(f(v(f(m(oe,G),S[1]),v(f(m(re,P),-w[1]),f(m(F,R),L[1]))),-C[2]),f(v(f(m(ue,W),w[1]),v(f(m(oe,G),-E[1]),f(m(Y,j),L[1]))),S[2]))),v(f(v(f(m(ue,W),S[1]),v(f(m(re,P),-E[1]),f(m(X,q),L[1]))),-w[2]),v(f(v(f(m(oe,G),S[1]),v(f(m(re,P),-w[1]),f(m(F,R),L[1]))),E[2]),f(v(f(m(Y,j),S[1]),v(f(m(X,q),-w[1]),f(m(F,R),E[1]))),-L[2]))))),we=v(v(v(f(v(f(m(Pe,xe),E[1]),v(f(m(ge,$),-L[1]),f(m(ue,W),C[1]))),S[2]),f(v(f(m(Pe,xe),S[1]),v(f(m(me,U),-L[1]),f(m(re,P),C[1]))),-E[2])),v(f(v(f(m(ge,$),S[1]),v(f(m(me,U),-E[1]),f(m(X,q),C[1]))),L[2]),f(v(f(m(ue,W),S[1]),v(f(m(re,P),-E[1]),f(m(X,q),L[1]))),-C[2]))),v(v(f(v(f(m(ge,$),w[1]),v(f(m(pe,te),-E[1]),f(m(Y,j),C[1]))),S[2]),f(v(f(m(ge,$),S[1]),v(f(m(me,U),-E[1]),f(m(X,q),C[1]))),-w[2])),v(f(v(f(m(pe,te),S[1]),v(f(m(me,U),-w[1]),f(m(F,R),C[1]))),E[2]),f(v(f(m(Y,j),S[1]),v(f(m(X,q),-w[1]),f(m(F,R),E[1]))),-C[2])))),se=m(_e,we);return se[se.length-1]}}function x(v,m,_,f){return function(S,w,E,L,C,O){var R=v(v(_(S[0],S[0]),_(S[1],S[1])),v(_(S[2],S[2]),_(S[3],S[3]))),q=f(R,w[0]),P=f(R,E[0]),U=f(R,L[0]),N=f(R,C[0]),F=f(R,O[0]),j=v(v(_(w[0],w[0]),_(w[1],w[1])),v(_(w[2],w[2]),_(w[3],w[3]))),G=f(j,S[0]),te=f(j,E[0]),J=f(j,L[0]),X=f(j,C[0]),Y=f(j,O[0]),W=v(v(_(E[0],E[0]),_(E[1],E[1])),v(_(E[2],E[2]),_(E[3],E[3]))),$=f(W,S[0]),ne=f(W,w[0]),re=f(W,L[0]),oe=f(W,C[0]),ue=f(W,O[0]),xe=v(v(_(L[0],L[0]),_(L[1],L[1])),v(_(L[2],L[2]),_(L[3],L[3]))),Me=f(xe,S[0]),me=f(xe,w[0]),pe=f(xe,E[0]),ge=f(xe,C[0]),Pe=f(xe,O[0]),_e=v(v(_(C[0],C[0]),_(C[1],C[1])),v(_(C[2],C[2]),_(C[3],C[3]))),we=f(_e,S[0]),se=f(_e,w[0]),ae=f(_e,E[0]),fe=f(_e,L[0]),Ee=f(_e,O[0]),ke=v(v(_(O[0],O[0]),_(O[1],O[1])),v(_(O[2],O[2]),_(O[3],O[3]))),be=f(ke,S[0]),Ie=f(ke,w[0]),Fe=f(ke,E[0]),ce=f(ke,L[0]),Te=f(ke,C[0]),ve=v(v(v(f(v(v(f(v(f(m(Te,Ee),L[1]),v(f(m(ce,Pe),-C[1]),f(m(fe,ge),O[1]))),E[2]),f(v(f(m(Te,Ee),E[1]),v(f(m(Fe,ue),-C[1]),f(m(ae,oe),O[1]))),-L[2])),v(f(v(f(m(ce,Pe),E[1]),v(f(m(Fe,ue),-L[1]),f(m(pe,re),O[1]))),C[2]),f(v(f(m(fe,ge),E[1]),v(f(m(ae,oe),-L[1]),f(m(pe,re),C[1]))),-O[2]))),w[3]),v(f(v(v(f(v(f(m(Te,Ee),L[1]),v(f(m(ce,Pe),-C[1]),f(m(fe,ge),O[1]))),w[2]),f(v(f(m(Te,Ee),w[1]),v(f(m(Ie,Y),-C[1]),f(m(se,X),O[1]))),-L[2])),v(f(v(f(m(ce,Pe),w[1]),v(f(m(Ie,Y),-L[1]),f(m(me,J),O[1]))),C[2]),f(v(f(m(fe,ge),w[1]),v(f(m(se,X),-L[1]),f(m(me,J),C[1]))),-O[2]))),-E[3]),f(v(v(f(v(f(m(Te,Ee),E[1]),v(f(m(Fe,ue),-C[1]),f(m(ae,oe),O[1]))),w[2]),f(v(f(m(Te,Ee),w[1]),v(f(m(Ie,Y),-C[1]),f(m(se,X),O[1]))),-E[2])),v(f(v(f(m(Fe,ue),w[1]),v(f(m(Ie,Y),-E[1]),f(m(ne,te),O[1]))),C[2]),f(v(f(m(ae,oe),w[1]),v(f(m(se,X),-E[1]),f(m(ne,te),C[1]))),-O[2]))),L[3]))),v(v(f(v(v(f(v(f(m(ce,Pe),E[1]),v(f(m(Fe,ue),-L[1]),f(m(pe,re),O[1]))),w[2]),f(v(f(m(ce,Pe),w[1]),v(f(m(Ie,Y),-L[1]),f(m(me,J),O[1]))),-E[2])),v(f(v(f(m(Fe,ue),w[1]),v(f(m(Ie,Y),-E[1]),f(m(ne,te),O[1]))),L[2]),f(v(f(m(pe,re),w[1]),v(f(m(me,J),-E[1]),f(m(ne,te),L[1]))),-O[2]))),-C[3]),f(v(v(f(v(f(m(fe,ge),E[1]),v(f(m(ae,oe),-L[1]),f(m(pe,re),C[1]))),w[2]),f(v(f(m(fe,ge),w[1]),v(f(m(se,X),-L[1]),f(m(me,J),C[1]))),-E[2])),v(f(v(f(m(ae,oe),w[1]),v(f(m(se,X),-E[1]),f(m(ne,te),C[1]))),L[2]),f(v(f(m(pe,re),w[1]),v(f(m(me,J),-E[1]),f(m(ne,te),L[1]))),-C[2]))),O[3])),v(f(v(v(f(v(f(m(Te,Ee),L[1]),v(f(m(ce,Pe),-C[1]),f(m(fe,ge),O[1]))),w[2]),f(v(f(m(Te,Ee),w[1]),v(f(m(Ie,Y),-C[1]),f(m(se,X),O[1]))),-L[2])),v(f(v(f(m(ce,Pe),w[1]),v(f(m(Ie,Y),-L[1]),f(m(me,J),O[1]))),C[2]),f(v(f(m(fe,ge),w[1]),v(f(m(se,X),-L[1]),f(m(me,J),C[1]))),-O[2]))),S[3]),f(v(v(f(v(f(m(Te,Ee),L[1]),v(f(m(ce,Pe),-C[1]),f(m(fe,ge),O[1]))),S[2]),f(v(f(m(Te,Ee),S[1]),v(f(m(be,F),-C[1]),f(m(we,N),O[1]))),-L[2])),v(f(v(f(m(ce,Pe),S[1]),v(f(m(be,F),-L[1]),f(m(Me,U),O[1]))),C[2]),f(v(f(m(fe,ge),S[1]),v(f(m(we,N),-L[1]),f(m(Me,U),C[1]))),-O[2]))),-w[3])))),v(v(v(f(v(v(f(v(f(m(Te,Ee),w[1]),v(f(m(Ie,Y),-C[1]),f(m(se,X),O[1]))),S[2]),f(v(f(m(Te,Ee),S[1]),v(f(m(be,F),-C[1]),f(m(we,N),O[1]))),-w[2])),v(f(v(f(m(Ie,Y),S[1]),v(f(m(be,F),-w[1]),f(m(G,q),O[1]))),C[2]),f(v(f(m(se,X),S[1]),v(f(m(we,N),-w[1]),f(m(G,q),C[1]))),-O[2]))),L[3]),f(v(v(f(v(f(m(ce,Pe),w[1]),v(f(m(Ie,Y),-L[1]),f(m(me,J),O[1]))),S[2]),f(v(f(m(ce,Pe),S[1]),v(f(m(be,F),-L[1]),f(m(Me,U),O[1]))),-w[2])),v(f(v(f(m(Ie,Y),S[1]),v(f(m(be,F),-w[1]),f(m(G,q),O[1]))),L[2]),f(v(f(m(me,J),S[1]),v(f(m(Me,U),-w[1]),f(m(G,q),L[1]))),-O[2]))),-C[3])),v(f(v(v(f(v(f(m(fe,ge),w[1]),v(f(m(se,X),-L[1]),f(m(me,J),C[1]))),S[2]),f(v(f(m(fe,ge),S[1]),v(f(m(we,N),-L[1]),f(m(Me,U),C[1]))),-w[2])),v(f(v(f(m(se,X),S[1]),v(f(m(we,N),-w[1]),f(m(G,q),C[1]))),L[2]),f(v(f(m(me,J),S[1]),v(f(m(Me,U),-w[1]),f(m(G,q),L[1]))),-C[2]))),O[3]),f(v(v(f(v(f(m(ce,Pe),E[1]),v(f(m(Fe,ue),-L[1]),f(m(pe,re),O[1]))),w[2]),f(v(f(m(ce,Pe),w[1]),v(f(m(Ie,Y),-L[1]),f(m(me,J),O[1]))),-E[2])),v(f(v(f(m(Fe,ue),w[1]),v(f(m(Ie,Y),-E[1]),f(m(ne,te),O[1]))),L[2]),f(v(f(m(pe,re),w[1]),v(f(m(me,J),-E[1]),f(m(ne,te),L[1]))),-O[2]))),S[3]))),v(v(f(v(v(f(v(f(m(ce,Pe),E[1]),v(f(m(Fe,ue),-L[1]),f(m(pe,re),O[1]))),S[2]),f(v(f(m(ce,Pe),S[1]),v(f(m(be,F),-L[1]),f(m(Me,U),O[1]))),-E[2])),v(f(v(f(m(Fe,ue),S[1]),v(f(m(be,F),-E[1]),f(m($,P),O[1]))),L[2]),f(v(f(m(pe,re),S[1]),v(f(m(Me,U),-E[1]),f(m($,P),L[1]))),-O[2]))),-w[3]),f(v(v(f(v(f(m(ce,Pe),w[1]),v(f(m(Ie,Y),-L[1]),f(m(me,J),O[1]))),S[2]),f(v(f(m(ce,Pe),S[1]),v(f(m(be,F),-L[1]),f(m(Me,U),O[1]))),-w[2])),v(f(v(f(m(Ie,Y),S[1]),v(f(m(be,F),-w[1]),f(m(G,q),O[1]))),L[2]),f(v(f(m(me,J),S[1]),v(f(m(Me,U),-w[1]),f(m(G,q),L[1]))),-O[2]))),E[3])),v(f(v(v(f(v(f(m(Fe,ue),w[1]),v(f(m(Ie,Y),-E[1]),f(m(ne,te),O[1]))),S[2]),f(v(f(m(Fe,ue),S[1]),v(f(m(be,F),-E[1]),f(m($,P),O[1]))),-w[2])),v(f(v(f(m(Ie,Y),S[1]),v(f(m(be,F),-w[1]),f(m(G,q),O[1]))),E[2]),f(v(f(m(ne,te),S[1]),v(f(m($,P),-w[1]),f(m(G,q),E[1]))),-O[2]))),-L[3]),f(v(v(f(v(f(m(pe,re),w[1]),v(f(m(me,J),-E[1]),f(m(ne,te),L[1]))),S[2]),f(v(f(m(pe,re),S[1]),v(f(m(Me,U),-E[1]),f(m($,P),L[1]))),-w[2])),v(f(v(f(m(me,J),S[1]),v(f(m(Me,U),-w[1]),f(m(G,q),L[1]))),E[2]),f(v(f(m(ne,te),S[1]),v(f(m($,P),-w[1]),f(m(G,q),E[1]))),-L[2]))),O[3]))))),Ce=v(v(v(f(v(v(f(v(f(m(Te,Ee),L[1]),v(f(m(ce,Pe),-C[1]),f(m(fe,ge),O[1]))),E[2]),f(v(f(m(Te,Ee),E[1]),v(f(m(Fe,ue),-C[1]),f(m(ae,oe),O[1]))),-L[2])),v(f(v(f(m(ce,Pe),E[1]),v(f(m(Fe,ue),-L[1]),f(m(pe,re),O[1]))),C[2]),f(v(f(m(fe,ge),E[1]),v(f(m(ae,oe),-L[1]),f(m(pe,re),C[1]))),-O[2]))),S[3]),v(f(v(v(f(v(f(m(Te,Ee),L[1]),v(f(m(ce,Pe),-C[1]),f(m(fe,ge),O[1]))),S[2]),f(v(f(m(Te,Ee),S[1]),v(f(m(be,F),-C[1]),f(m(we,N),O[1]))),-L[2])),v(f(v(f(m(ce,Pe),S[1]),v(f(m(be,F),-L[1]),f(m(Me,U),O[1]))),C[2]),f(v(f(m(fe,ge),S[1]),v(f(m(we,N),-L[1]),f(m(Me,U),C[1]))),-O[2]))),-E[3]),f(v(v(f(v(f(m(Te,Ee),E[1]),v(f(m(Fe,ue),-C[1]),f(m(ae,oe),O[1]))),S[2]),f(v(f(m(Te,Ee),S[1]),v(f(m(be,F),-C[1]),f(m(we,N),O[1]))),-E[2])),v(f(v(f(m(Fe,ue),S[1]),v(f(m(be,F),-E[1]),f(m($,P),O[1]))),C[2]),f(v(f(m(ae,oe),S[1]),v(f(m(we,N),-E[1]),f(m($,P),C[1]))),-O[2]))),L[3]))),v(v(f(v(v(f(v(f(m(ce,Pe),E[1]),v(f(m(Fe,ue),-L[1]),f(m(pe,re),O[1]))),S[2]),f(v(f(m(ce,Pe),S[1]),v(f(m(be,F),-L[1]),f(m(Me,U),O[1]))),-E[2])),v(f(v(f(m(Fe,ue),S[1]),v(f(m(be,F),-E[1]),f(m($,P),O[1]))),L[2]),f(v(f(m(pe,re),S[1]),v(f(m(Me,U),-E[1]),f(m($,P),L[1]))),-O[2]))),-C[3]),f(v(v(f(v(f(m(fe,ge),E[1]),v(f(m(ae,oe),-L[1]),f(m(pe,re),C[1]))),S[2]),f(v(f(m(fe,ge),S[1]),v(f(m(we,N),-L[1]),f(m(Me,U),C[1]))),-E[2])),v(f(v(f(m(ae,oe),S[1]),v(f(m(we,N),-E[1]),f(m($,P),C[1]))),L[2]),f(v(f(m(pe,re),S[1]),v(f(m(Me,U),-E[1]),f(m($,P),L[1]))),-C[2]))),O[3])),v(f(v(v(f(v(f(m(Te,Ee),E[1]),v(f(m(Fe,ue),-C[1]),f(m(ae,oe),O[1]))),w[2]),f(v(f(m(Te,Ee),w[1]),v(f(m(Ie,Y),-C[1]),f(m(se,X),O[1]))),-E[2])),v(f(v(f(m(Fe,ue),w[1]),v(f(m(Ie,Y),-E[1]),f(m(ne,te),O[1]))),C[2]),f(v(f(m(ae,oe),w[1]),v(f(m(se,X),-E[1]),f(m(ne,te),C[1]))),-O[2]))),S[3]),f(v(v(f(v(f(m(Te,Ee),E[1]),v(f(m(Fe,ue),-C[1]),f(m(ae,oe),O[1]))),S[2]),f(v(f(m(Te,Ee),S[1]),v(f(m(be,F),-C[1]),f(m(we,N),O[1]))),-E[2])),v(f(v(f(m(Fe,ue),S[1]),v(f(m(be,F),-E[1]),f(m($,P),O[1]))),C[2]),f(v(f(m(ae,oe),S[1]),v(f(m(we,N),-E[1]),f(m($,P),C[1]))),-O[2]))),-w[3])))),v(v(v(f(v(v(f(v(f(m(Te,Ee),w[1]),v(f(m(Ie,Y),-C[1]),f(m(se,X),O[1]))),S[2]),f(v(f(m(Te,Ee),S[1]),v(f(m(be,F),-C[1]),f(m(we,N),O[1]))),-w[2])),v(f(v(f(m(Ie,Y),S[1]),v(f(m(be,F),-w[1]),f(m(G,q),O[1]))),C[2]),f(v(f(m(se,X),S[1]),v(f(m(we,N),-w[1]),f(m(G,q),C[1]))),-O[2]))),E[3]),f(v(v(f(v(f(m(Fe,ue),w[1]),v(f(m(Ie,Y),-E[1]),f(m(ne,te),O[1]))),S[2]),f(v(f(m(Fe,ue),S[1]),v(f(m(be,F),-E[1]),f(m($,P),O[1]))),-w[2])),v(f(v(f(m(Ie,Y),S[1]),v(f(m(be,F),-w[1]),f(m(G,q),O[1]))),E[2]),f(v(f(m(ne,te),S[1]),v(f(m($,P),-w[1]),f(m(G,q),E[1]))),-O[2]))),-C[3])),v(f(v(v(f(v(f(m(ae,oe),w[1]),v(f(m(se,X),-E[1]),f(m(ne,te),C[1]))),S[2]),f(v(f(m(ae,oe),S[1]),v(f(m(we,N),-E[1]),f(m($,P),C[1]))),-w[2])),v(f(v(f(m(se,X),S[1]),v(f(m(we,N),-w[1]),f(m(G,q),C[1]))),E[2]),f(v(f(m(ne,te),S[1]),v(f(m($,P),-w[1]),f(m(G,q),E[1]))),-C[2]))),O[3]),f(v(v(f(v(f(m(fe,ge),E[1]),v(f(m(ae,oe),-L[1]),f(m(pe,re),C[1]))),w[2]),f(v(f(m(fe,ge),w[1]),v(f(m(se,X),-L[1]),f(m(me,J),C[1]))),-E[2])),v(f(v(f(m(ae,oe),w[1]),v(f(m(se,X),-E[1]),f(m(ne,te),C[1]))),L[2]),f(v(f(m(pe,re),w[1]),v(f(m(me,J),-E[1]),f(m(ne,te),L[1]))),-C[2]))),S[3]))),v(v(f(v(v(f(v(f(m(fe,ge),E[1]),v(f(m(ae,oe),-L[1]),f(m(pe,re),C[1]))),S[2]),f(v(f(m(fe,ge),S[1]),v(f(m(we,N),-L[1]),f(m(Me,U),C[1]))),-E[2])),v(f(v(f(m(ae,oe),S[1]),v(f(m(we,N),-E[1]),f(m($,P),C[1]))),L[2]),f(v(f(m(pe,re),S[1]),v(f(m(Me,U),-E[1]),f(m($,P),L[1]))),-C[2]))),-w[3]),f(v(v(f(v(f(m(fe,ge),w[1]),v(f(m(se,X),-L[1]),f(m(me,J),C[1]))),S[2]),f(v(f(m(fe,ge),S[1]),v(f(m(we,N),-L[1]),f(m(Me,U),C[1]))),-w[2])),v(f(v(f(m(se,X),S[1]),v(f(m(we,N),-w[1]),f(m(G,q),C[1]))),L[2]),f(v(f(m(me,J),S[1]),v(f(m(Me,U),-w[1]),f(m(G,q),L[1]))),-C[2]))),E[3])),v(f(v(v(f(v(f(m(ae,oe),w[1]),v(f(m(se,X),-E[1]),f(m(ne,te),C[1]))),S[2]),f(v(f(m(ae,oe),S[1]),v(f(m(we,N),-E[1]),f(m($,P),C[1]))),-w[2])),v(f(v(f(m(se,X),S[1]),v(f(m(we,N),-w[1]),f(m(G,q),C[1]))),E[2]),f(v(f(m(ne,te),S[1]),v(f(m($,P),-w[1]),f(m(G,q),E[1]))),-C[2]))),-L[3]),f(v(v(f(v(f(m(pe,re),w[1]),v(f(m(me,J),-E[1]),f(m(ne,te),L[1]))),S[2]),f(v(f(m(pe,re),S[1]),v(f(m(Me,U),-E[1]),f(m($,P),L[1]))),-w[2])),v(f(v(f(m(me,J),S[1]),v(f(m(Me,U),-w[1]),f(m(G,q),L[1]))),E[2]),f(v(f(m(ne,te),S[1]),v(f(m($,P),-w[1]),f(m(G,q),E[1]))),-L[2]))),C[3]))))),Re=m(ve,Ce);return Re[Re.length-1]}}var g=[function(){return 0},function(){return 0},function(){return 0}];function h(v){var m=g[v.length];return m||(m=g[v.length]=s(v.length)),m.apply(void 0,v)}function y(v,m,_,f,S,w,E,L){return function(C,O,R,q,P,U){switch(arguments.length){case 0:case 1:return 0;case 2:return f(C,O);case 3:return S(C,O,R);case 4:return w(C,O,R,q);case 5:return E(C,O,R,q,P);case 6:return L(C,O,R,q,P,U)}for(var N=new Array(arguments.length),F=0;F<arguments.length;++F)N[F]=arguments[F];return v(N)}}!function(){for(;g.length<=6;)g.push(s(g.length));d.exports=y.apply(void 0,[h].concat(g));for(var v=0;v<=6;++v)d.exports[v]=g[v]}()},6606:function(d,a,t){"use strict";var i=t(8167);function r(g){return(2===g?n:3===g?o:4===g?s:5===g?u:p)(g<6?i[g]:i)}function n(g){return function(h,y){return[g([[+y[0],+h[0][1]],[+y[1],+h[1][1]]]),g([[+h[0][0],+y[0]],[+h[1][0],+y[1]]]),g(h)]}}function o(g){return function(h,y){return[g([[+y[0],+h[0][1],+h[0][2]],[+y[1],+h[1][1],+h[1][2]],[+y[2],+h[2][1],+h[2][2]]]),g([[+h[0][0],+y[0],+h[0][2]],[+h[1][0],+y[1],+h[1][2]],[+h[2][0],+y[2],+h[2][2]]]),g([[+h[0][0],+h[0][1],+y[0]],[+h[1][0],+h[1][1],+y[1]],[+h[2][0],+h[2][1],+y[2]]]),g(h)]}}function s(g){return function(h,y){return[g([[+y[0],+h[0][1],+h[0][2],+h[0][3]],[+y[1],+h[1][1],+h[1][2],+h[1][3]],[+y[2],+h[2][1],+h[2][2],+h[2][3]],[+y[3],+h[3][1],+h[3][2],+h[3][3]]]),g([[+h[0][0],+y[0],+h[0][2],+h[0][3]],[+h[1][0],+y[1],+h[1][2],+h[1][3]],[+h[2][0],+y[2],+h[2][2],+h[2][3]],[+h[3][0],+y[3],+h[3][2],+h[3][3]]]),g([[+h[0][0],+h[0][1],+y[0],+h[0][3]],[+h[1][0],+h[1][1],+y[1],+h[1][3]],[+h[2][0],+h[2][1],+y[2],+h[2][3]],[+h[3][0],+h[3][1],+y[3],+h[3][3]]]),g([[+h[0][0],+h[0][1],+h[0][2],+y[0]],[+h[1][0],+h[1][1],+h[1][2],+y[1]],[+h[2][0],+h[2][1],+h[2][2],+y[2]],[+h[3][0],+h[3][1],+h[3][2],+y[3]]]),g(h)]}}function u(g){return function(h,y){return[g([[+y[0],+h[0][1],+h[0][2],+h[0][3],+h[0][4]],[+y[1],+h[1][1],+h[1][2],+h[1][3],+h[1][4]],[+y[2],+h[2][1],+h[2][2],+h[2][3],+h[2][4]],[+y[3],+h[3][1],+h[3][2],+h[3][3],+h[3][4]],[+y[4],+h[4][1],+h[4][2],+h[4][3],+h[4][4]]]),g([[+h[0][0],+y[0],+h[0][2],+h[0][3],+h[0][4]],[+h[1][0],+y[1],+h[1][2],+h[1][3],+h[1][4]],[+h[2][0],+y[2],+h[2][2],+h[2][3],+h[2][4]],[+h[3][0],+y[3],+h[3][2],+h[3][3],+h[3][4]],[+h[4][0],+y[4],+h[4][2],+h[4][3],+h[4][4]]]),g([[+h[0][0],+h[0][1],+y[0],+h[0][3],+h[0][4]],[+h[1][0],+h[1][1],+y[1],+h[1][3],+h[1][4]],[+h[2][0],+h[2][1],+y[2],+h[2][3],+h[2][4]],[+h[3][0],+h[3][1],+y[3],+h[3][3],+h[3][4]],[+h[4][0],+h[4][1],+y[4],+h[4][3],+h[4][4]]]),g([[+h[0][0],+h[0][1],+h[0][2],+y[0],+h[0][4]],[+h[1][0],+h[1][1],+h[1][2],+y[1],+h[1][4]],[+h[2][0],+h[2][1],+h[2][2],+y[2],+h[2][4]],[+h[3][0],+h[3][1],+h[3][2],+y[3],+h[3][4]],[+h[4][0],+h[4][1],+h[4][2],+y[4],+h[4][4]]]),g([[+h[0][0],+h[0][1],+h[0][2],+h[0][3],+y[0]],[+h[1][0],+h[1][1],+h[1][2],+h[1][3],+y[1]],[+h[2][0],+h[2][1],+h[2][2],+h[2][3],+y[2]],[+h[3][0],+h[3][1],+h[3][2],+h[3][3],+y[3]],[+h[4][0],+h[4][1],+h[4][2],+h[4][3],+y[4]]]),g(h)]}}function p(g){return function(h,y){return[g([[+y[0],+h[0][1],+h[0][2],+h[0][3],+h[0][4],+h[0][5]],[+y[1],+h[1][1],+h[1][2],+h[1][3],+h[1][4],+h[1][5]],[+y[2],+h[2][1],+h[2][2],+h[2][3],+h[2][4],+h[2][5]],[+y[3],+h[3][1],+h[3][2],+h[3][3],+h[3][4],+h[3][5]],[+y[4],+h[4][1],+h[4][2],+h[4][3],+h[4][4],+h[4][5]],[+y[5],+h[5][1],+h[5][2],+h[5][3],+h[5][4],+h[5][5]]]),g([[+h[0][0],+y[0],+h[0][2],+h[0][3],+h[0][4],+h[0][5]],[+h[1][0],+y[1],+h[1][2],+h[1][3],+h[1][4],+h[1][5]],[+h[2][0],+y[2],+h[2][2],+h[2][3],+h[2][4],+h[2][5]],[+h[3][0],+y[3],+h[3][2],+h[3][3],+h[3][4],+h[3][5]],[+h[4][0],+y[4],+h[4][2],+h[4][3],+h[4][4],+h[4][5]],[+h[5][0],+y[5],+h[5][2],+h[5][3],+h[5][4],+h[5][5]]]),g([[+h[0][0],+h[0][1],+y[0],+h[0][3],+h[0][4],+h[0][5]],[+h[1][0],+h[1][1],+y[1],+h[1][3],+h[1][4],+h[1][5]],[+h[2][0],+h[2][1],+y[2],+h[2][3],+h[2][4],+h[2][5]],[+h[3][0],+h[3][1],+y[3],+h[3][3],+h[3][4],+h[3][5]],[+h[4][0],+h[4][1],+y[4],+h[4][3],+h[4][4],+h[4][5]],[+h[5][0],+h[5][1],+y[5],+h[5][3],+h[5][4],+h[5][5]]]),g([[+h[0][0],+h[0][1],+h[0][2],+y[0],+h[0][4],+h[0][5]],[+h[1][0],+h[1][1],+h[1][2],+y[1],+h[1][4],+h[1][5]],[+h[2][0],+h[2][1],+h[2][2],+y[2],+h[2][4],+h[2][5]],[+h[3][0],+h[3][1],+h[3][2],+y[3],+h[3][4],+h[3][5]],[+h[4][0],+h[4][1],+h[4][2],+y[4],+h[4][4],+h[4][5]],[+h[5][0],+h[5][1],+h[5][2],+y[5],+h[5][4],+h[5][5]]]),g([[+h[0][0],+h[0][1],+h[0][2],+h[0][3],+y[0],+h[0][5]],[+h[1][0],+h[1][1],+h[1][2],+h[1][3],+y[1],+h[1][5]],[+h[2][0],+h[2][1],+h[2][2],+h[2][3],+y[2],+h[2][5]],[+h[3][0],+h[3][1],+h[3][2],+h[3][3],+y[3],+h[3][5]],[+h[4][0],+h[4][1],+h[4][2],+h[4][3],+y[4],+h[4][5]],[+h[5][0],+h[5][1],+h[5][2],+h[5][3],+y[5],+h[5][5]]]),g([[+h[0][0],+h[0][1],+h[0][2],+h[0][3],+h[0][4],+y[0]],[+h[1][0],+h[1][1],+h[1][2],+h[1][3],+h[1][4],+y[1]],[+h[2][0],+h[2][1],+h[2][2],+h[2][3],+h[2][4],+y[2]],[+h[3][0],+h[3][1],+h[3][2],+h[3][3],+h[3][4],+y[3]],[+h[4][0],+h[4][1],+h[4][2],+h[4][3],+h[4][4],+y[4]],[+h[5][0],+h[5][1],+h[5][2],+h[5][3],+h[5][4],+y[5]]]),g(h)]}}var c=[function(){return[[0]]},function(g,h){return[[h[0]],[g[0][0]]]}];function x(g,h,y,v,m,_,f,S){return function(w,E){switch(w.length){case 0:return g(w,E);case 1:return h(w,E);case 2:return y(w,E);case 3:return v(w,E);case 4:return m(w,E);case 5:return _(w,E)}var L=f[w.length];return L||(L=f[w.length]=S(w.length)),L(w,E)}}!function(){for(;c.length<6;)c.push(r(c.length));d.exports=x.apply(void 0,c.concat([c,r]));for(var g=0;g<6;++g)d.exports[g]=c[g]}()},417:function(d,a,t){"use strict";var i=t(9660),r=t(9662),n=t(8289),o=t(4078);function s(m,_,f,S){return function(w,E,L){var C=m(m(_(E[1],L[0]),_(-L[1],E[0])),m(_(w[1],E[0]),_(-E[1],w[0]))),O=m(_(w[1],L[0]),_(-L[1],w[0])),R=S(C,O);return R[R.length-1]}}function u(m,_,f,S){return function(w,E,L,C){var O=m(m(f(m(_(L[1],C[0]),_(-C[1],L[0])),E[2]),m(f(m(_(E[1],C[0]),_(-C[1],E[0])),-L[2]),f(m(_(E[1],L[0]),_(-L[1],E[0])),C[2]))),m(f(m(_(E[1],C[0]),_(-C[1],E[0])),w[2]),m(f(m(_(w[1],C[0]),_(-C[1],w[0])),-E[2]),f(m(_(w[1],E[0]),_(-E[1],w[0])),C[2])))),R=m(m(f(m(_(L[1],C[0]),_(-C[1],L[0])),w[2]),m(f(m(_(w[1],C[0]),_(-C[1],w[0])),-L[2]),f(m(_(w[1],L[0]),_(-L[1],w[0])),C[2]))),m(f(m(_(E[1],L[0]),_(-L[1],E[0])),w[2]),m(f(m(_(w[1],L[0]),_(-L[1],w[0])),-E[2]),f(m(_(w[1],E[0]),_(-E[1],w[0])),L[2])))),q=S(O,R);return q[q.length-1]}}function p(m,_,f,S){return function(w,E,L,C,O){var R=m(m(m(f(m(f(m(_(C[1],O[0]),_(-O[1],C[0])),L[2]),m(f(m(_(L[1],O[0]),_(-O[1],L[0])),-C[2]),f(m(_(L[1],C[0]),_(-C[1],L[0])),O[2]))),E[3]),m(f(m(f(m(_(C[1],O[0]),_(-O[1],C[0])),E[2]),m(f(m(_(E[1],O[0]),_(-O[1],E[0])),-C[2]),f(m(_(E[1],C[0]),_(-C[1],E[0])),O[2]))),-L[3]),f(m(f(m(_(L[1],O[0]),_(-O[1],L[0])),E[2]),m(f(m(_(E[1],O[0]),_(-O[1],E[0])),-L[2]),f(m(_(E[1],L[0]),_(-L[1],E[0])),O[2]))),C[3]))),m(f(m(f(m(_(L[1],C[0]),_(-C[1],L[0])),E[2]),m(f(m(_(E[1],C[0]),_(-C[1],E[0])),-L[2]),f(m(_(E[1],L[0]),_(-L[1],E[0])),C[2]))),-O[3]),m(f(m(f(m(_(C[1],O[0]),_(-O[1],C[0])),E[2]),m(f(m(_(E[1],O[0]),_(-O[1],E[0])),-C[2]),f(m(_(E[1],C[0]),_(-C[1],E[0])),O[2]))),w[3]),f(m(f(m(_(C[1],O[0]),_(-O[1],C[0])),w[2]),m(f(m(_(w[1],O[0]),_(-O[1],w[0])),-C[2]),f(m(_(w[1],C[0]),_(-C[1],w[0])),O[2]))),-E[3])))),m(m(f(m(f(m(_(E[1],O[0]),_(-O[1],E[0])),w[2]),m(f(m(_(w[1],O[0]),_(-O[1],w[0])),-E[2]),f(m(_(w[1],E[0]),_(-E[1],w[0])),O[2]))),C[3]),m(f(m(f(m(_(E[1],C[0]),_(-C[1],E[0])),w[2]),m(f(m(_(w[1],C[0]),_(-C[1],w[0])),-E[2]),f(m(_(w[1],E[0]),_(-E[1],w[0])),C[2]))),-O[3]),f(m(f(m(_(L[1],C[0]),_(-C[1],L[0])),E[2]),m(f(m(_(E[1],C[0]),_(-C[1],E[0])),-L[2]),f(m(_(E[1],L[0]),_(-L[1],E[0])),C[2]))),w[3]))),m(f(m(f(m(_(L[1],C[0]),_(-C[1],L[0])),w[2]),m(f(m(_(w[1],C[0]),_(-C[1],w[0])),-L[2]),f(m(_(w[1],L[0]),_(-L[1],w[0])),C[2]))),-E[3]),m(f(m(f(m(_(E[1],C[0]),_(-C[1],E[0])),w[2]),m(f(m(_(w[1],C[0]),_(-C[1],w[0])),-E[2]),f(m(_(w[1],E[0]),_(-E[1],w[0])),C[2]))),L[3]),f(m(f(m(_(E[1],L[0]),_(-L[1],E[0])),w[2]),m(f(m(_(w[1],L[0]),_(-L[1],w[0])),-E[2]),f(m(_(w[1],E[0]),_(-E[1],w[0])),L[2]))),-C[3]))))),q=m(m(m(f(m(f(m(_(C[1],O[0]),_(-O[1],C[0])),L[2]),m(f(m(_(L[1],O[0]),_(-O[1],L[0])),-C[2]),f(m(_(L[1],C[0]),_(-C[1],L[0])),O[2]))),w[3]),f(m(f(m(_(C[1],O[0]),_(-O[1],C[0])),w[2]),m(f(m(_(w[1],O[0]),_(-O[1],w[0])),-C[2]),f(m(_(w[1],C[0]),_(-C[1],w[0])),O[2]))),-L[3])),m(f(m(f(m(_(L[1],O[0]),_(-O[1],L[0])),w[2]),m(f(m(_(w[1],O[0]),_(-O[1],w[0])),-L[2]),f(m(_(w[1],L[0]),_(-L[1],w[0])),O[2]))),C[3]),f(m(f(m(_(L[1],C[0]),_(-C[1],L[0])),w[2]),m(f(m(_(w[1],C[0]),_(-C[1],w[0])),-L[2]),f(m(_(w[1],L[0]),_(-L[1],w[0])),C[2]))),-O[3]))),m(m(f(m(f(m(_(L[1],O[0]),_(-O[1],L[0])),E[2]),m(f(m(_(E[1],O[0]),_(-O[1],E[0])),-L[2]),f(m(_(E[1],L[0]),_(-L[1],E[0])),O[2]))),w[3]),f(m(f(m(_(L[1],O[0]),_(-O[1],L[0])),w[2]),m(f(m(_(w[1],O[0]),_(-O[1],w[0])),-L[2]),f(m(_(w[1],L[0]),_(-L[1],w[0])),O[2]))),-E[3])),m(f(m(f(m(_(E[1],O[0]),_(-O[1],E[0])),w[2]),m(f(m(_(w[1],O[0]),_(-O[1],w[0])),-E[2]),f(m(_(w[1],E[0]),_(-E[1],w[0])),O[2]))),L[3]),f(m(f(m(_(E[1],L[0]),_(-L[1],E[0])),w[2]),m(f(m(_(w[1],L[0]),_(-L[1],w[0])),-E[2]),f(m(_(w[1],E[0]),_(-E[1],w[0])),L[2]))),-O[3])))),P=S(R,q);return P[P.length-1]}}function c(m){return(3===m?s:4===m?u:p)(r,i,n,o)}var x=c(3),g=c(4),h=[function(){return 0},function(){return 0},function(m,_){return _[0]-m[0]},function(m,_,f){var S,w=(m[1]-f[1])*(_[0]-f[0]),E=(m[0]-f[0])*(_[1]-f[1]),L=w-E;if(w>0){if(E<=0)return L;S=w+E}else{if(!(w<0)||E>=0)return L;S=-(w+E)}var C=33306690738754716e-32*S;return L>=C||L<=-C?L:x(m,_,f)},function(m,_,f,S){var w=m[0]-S[0],E=_[0]-S[0],L=f[0]-S[0],C=m[1]-S[1],O=_[1]-S[1],R=f[1]-S[1],q=m[2]-S[2],P=_[2]-S[2],U=f[2]-S[2],N=E*R,F=L*O,j=L*C,G=w*R,te=w*O,J=E*C,X=q*(N-F)+P*(j-G)+U*(te-J),Y=7771561172376103e-31*((Math.abs(N)+Math.abs(F))*Math.abs(q)+(Math.abs(j)+Math.abs(G))*Math.abs(P)+(Math.abs(te)+Math.abs(J))*Math.abs(U));return X>Y||-X>Y?X:g(m,_,f,S)}];function y(m){var _=h[m.length];return _||(_=h[m.length]=c(m.length)),_.apply(void 0,m)}function v(m,_,f,S,w,E,L){return function(C,O,R,q,P){switch(arguments.length){case 0:case 1:return 0;case 2:return S(C,O);case 3:return w(C,O,R);case 4:return E(C,O,R,q);case 5:return L(C,O,R,q,P)}for(var U=new Array(arguments.length),N=0;N<arguments.length;++N)U[N]=arguments[N];return m(U)}}!function(){for(;h.length<=5;)h.push(c(h.length));d.exports=v.apply(void 0,[y].concat(h));for(var m=0;m<=5;++m)d.exports[m]=h[m]}()},2019:function(d,a,t){"use strict";var i=t(9662),r=t(8289);d.exports=function(n,o){if(1===n.length)return r(o,n[0]);if(1===o.length)return r(n,o[0]);if(0===n.length||0===o.length)return[0];var s=[0];if(n.length<o.length)for(var u=0;u<n.length;++u)s=i(s,r(o,n[u]));else for(u=0;u<o.length;++u)s=i(s,r(n,o[u]));return s}},8289:function(d,a,t){"use strict";var i=t(9660),r=t(87);d.exports=function(n,o){var s=n.length;if(1===s){var u=i(n[0],o);return u[0]?u:[u[1]]}var p=new Array(2*s),c=[.1,.1],x=[.1,.1],g=0;i(n[0],o,c),c[0]&&(p[g++]=c[0]);for(var h=1;h<s;++h){i(n[h],o,x),r(c[1],x[0],c),c[0]&&(p[g++]=c[0]);var v=x[1],m=c[1],_=v+m,f=m-(_-v);c[1]=_,f&&(p[g++]=f)}return c[1]&&(p[g++]=c[1]),0===g&&(p[g++]=0),p.length=g,p}},4434:function(d,a,t){"use strict";d.exports=function(r,n,o,s){var u=i(r,o,s),p=i(n,o,s);if(u>0&&p>0||u<0&&p<0)return!1;var c=i(o,r,n),x=i(s,r,n);return!(c>0&&x>0||c<0&&x<0)&&(0!==u||0!==p||0!==c||0!==x||function(g,h,y,v){for(var m=0;m<2;++m){var _=g[m],f=h[m],S=Math.min(_,f),w=Math.max(_,f),E=y[m],L=v[m],C=Math.min(E,L);if(Math.max(E,L)<S||w<C)return!1}return!0}(r,n,o,s))};var i=t(417)[3]},4078:function(d){"use strict";d.exports=function(a,t){var C,O,R,q,P,i=0|a.length,r=0|t.length;if(1===i&&1===r)return(P=(C=a[0])-((R=C+(O=-t[0]))-(q=R-C))+(O-q))?[P,R]:[R];var n,o,s=new Array(i+r),u=0,p=0,c=0,x=Math.abs,g=a[p],h=x(g),y=-t[c],v=x(y);h<v?(o=g,(p+=1)<i&&(h=x(g=a[p]))):(o=y,(c+=1)<r&&(v=x(y=-t[c]))),p<i&&h<v||c>=r?(n=g,(p+=1)<i&&(h=x(g=a[p]))):(n=y,(c+=1)<r&&(v=x(y=-t[c])));for(var m,_,f=n+o,S=f-n,w=o-S,E=w,L=f;p<i&&c<r;)h<v?(n=g,(p+=1)<i&&(h=x(g=a[p]))):(n=y,(c+=1)<r&&(v=x(y=-t[c]))),(w=(o=E)-(S=(f=n+o)-n))&&(s[u++]=w),E=L-((m=L+f)-(_=m-L))+(f-_),L=m;for(;p<i;)(w=(o=E)-(S=(f=(n=g)+o)-n))&&(s[u++]=w),E=L-((m=L+f)-(_=m-L))+(f-_),L=m,(p+=1)<i&&(g=a[p]);for(;c<r;)(w=(o=E)-(S=(f=(n=y)+o)-n))&&(s[u++]=w),E=L-((m=L+f)-(_=m-L))+(f-_),L=m,(c+=1)<r&&(y=-t[c]);return E&&(s[u++]=E),L&&(s[u++]=L),u||(s[u++]=0),s.length=u,s}},9662:function(d){"use strict";d.exports=function(a,t){var C,O,R,q,P,i=0|a.length,r=0|t.length;if(1===i&&1===r)return(P=(C=a[0])-((R=C+(O=t[0]))-(q=R-C))+(O-q))?[P,R]:[R];var n,o,s=new Array(i+r),u=0,p=0,c=0,x=Math.abs,g=a[p],h=x(g),y=t[c],v=x(y);h<v?(o=g,(p+=1)<i&&(h=x(g=a[p]))):(o=y,(c+=1)<r&&(v=x(y=t[c]))),p<i&&h<v||c>=r?(n=g,(p+=1)<i&&(h=x(g=a[p]))):(n=y,(c+=1)<r&&(v=x(y=t[c])));for(var m,_,f=n+o,S=f-n,w=o-S,E=w,L=f;p<i&&c<r;)h<v?(n=g,(p+=1)<i&&(h=x(g=a[p]))):(n=y,(c+=1)<r&&(v=x(y=t[c]))),(w=(o=E)-(S=(f=n+o)-n))&&(s[u++]=w),E=L-((m=L+f)-(_=m-L))+(f-_),L=m;for(;p<i;)(w=(o=E)-(S=(f=(n=g)+o)-n))&&(s[u++]=w),E=L-((m=L+f)-(_=m-L))+(f-_),L=m,(p+=1)<i&&(g=a[p]);for(;c<r;)(w=(o=E)-(S=(f=(n=y)+o)-n))&&(s[u++]=w),E=L-((m=L+f)-(_=m-L))+(f-_),L=m,(c+=1)<r&&(y=t[c]);return E&&(s[u++]=E),L&&(s[u++]=L),u||(s[u++]=0),s.length=u,s}},8691:function(d,a,t){"use strict";d.exports=function(n){return r(i(n))};var i=t(2692),r=t(7037)},7212:function(d,a,t){"use strict";d.exports=function(s,u,p,c){if(p=p||0,void 0===c&&(c=function(f){for(var S=f.length,w=0,E=0;E<S;++E)w=0|Math.max(w,f[E].length);return w-1}(s)),0===s.length||c<1)return{cells:[],vertexIds:[],vertexWeights:[]};var x=function(f,S){for(var w=f.length,E=r.mallocUint8(w),L=0;L<w;++L)E[L]=f[L]<S|0;return E}(u,+p),g=function(f,S){for(var w=f.length,L=r.mallocUint32(2*(S*(S+1)/2*w|0)),C=0,O=0;O<w;++O)for(var R=f[O],q=(S=R.length,0);q<S;++q)for(var P=0;P<q;++P){var U=R[P],N=R[q];L[C++]=0|Math.min(U,N),L[C++]=0|Math.max(U,N)}n(i(L,[C/2|0,2]));var F=2;for(O=2;O<C;O+=2)L[O-2]===L[O]&&L[O-1]===L[O+1]||(L[F++]=L[O],L[F++]=L[O+1]);return i(L,[F/2|0,2])}(s,c),h=function(f,S,w,E){for(var L=f.data,C=f.shape[0],O=r.mallocDouble(C),R=0,q=0;q<C;++q){var P=L[2*q],U=L[2*q+1];if(w[P]!==w[U]){var N=S[P],F=S[U];L[2*R]=P,L[2*R+1]=U,O[R++]=(F-E)/(F-N)}}return f.shape[0]=R,i(O,[R])}(g,u,x,+p),y=function(f,S){var w=r.mallocInt32(2*S),E=f.shape[0],L=f.data;w[0]=0;for(var C=0,O=0;O<E;++O){var R=L[2*O];if(R!==C){for(w[2*C+1]=O;++C<R;)w[2*C]=O,w[2*C+1]=O;w[2*C]=O}}for(w[2*C+1]=E;++C<S;)w[2*C]=w[2*C+1]=E;return w}(g,0|u.length),v=o(c)(s,g.data,y,x),m=function(f){for(var S=0|f.shape[0],w=f.data,E=new Array(S),L=0;L<S;++L)E[L]=[w[2*L],w[2*L+1]];return E}(g),_=[].slice.call(h.data,0,h.shape[0]);return r.free(x),r.free(g.data),r.free(h.data),r.free(y),{cells:v,vertexIds:m,vertexWeights:_}};var i=t(5050),r=t(5306),n=t(8729),o=t(1168)},1168:function(d){"use strict";d.exports=function(t){return a[t]()};var a=[function(){return function(t,i,r,n){for(var o=t.length,s=0;s<o;++s);return[]}},function(){function t(i,r,n,o){for(var s=0|Math.min(n,o),u=0|Math.max(n,o),p=i[2*s],c=i[2*s+1];p<c;){var x=p+c>>1,g=r[2*x+1];if(g===u)return x;u<g?c=x:p=x+1}return p}return function(i,r,n,o){for(var s=i.length,u=[],p=0;p<s;++p){var c=i[p];if(2===c.length){var x=(o[c[0]]<<0)+(o[c[1]]<<1);if(0===x||3===x)continue;switch(x){case 0:case 3:break;case 1:u.push([t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0])])}}}return u}},function(){function t(i,r,n,o){for(var s=0|Math.min(n,o),u=0|Math.max(n,o),p=i[2*s],c=i[2*s+1];p<c;){var x=p+c>>1,g=r[2*x+1];if(g===u)return x;u<g?c=x:p=x+1}return p}return function(i,r,n,o){for(var s=i.length,u=[],p=0;p<s;++p){var c=i[p],x=c.length;if(3===x){if(0==(g=(o[c[0]]<<0)+(o[c[1]]<<1)+(o[c[2]]<<2))||7===g)continue;switch(g){case 0:case 7:break;case 1:u.push([t(n,r,c[0],c[2]),t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0]),t(n,r,c[1],c[2])]);break;case 3:u.push([t(n,r,c[0],c[2]),t(n,r,c[1],c[2])]);break;case 4:u.push([t(n,r,c[2],c[1]),t(n,r,c[2],c[0])]);break;case 5:u.push([t(n,r,c[2],c[1]),t(n,r,c[0],c[1])]);break;case 6:u.push([t(n,r,c[1],c[0]),t(n,r,c[2],c[0])])}}else if(2===x){var g;if(0==(g=(o[c[0]]<<0)+(o[c[1]]<<1))||3===g)continue;switch(g){case 0:case 3:break;case 1:u.push([t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0])])}}}return u}},function(){function t(i,r,n,o){for(var s=0|Math.min(n,o),u=0|Math.max(n,o),p=i[2*s],c=i[2*s+1];p<c;){var x=p+c>>1,g=r[2*x+1];if(g===u)return x;u<g?c=x:p=x+1}return p}return function(i,r,n,o){for(var s=i.length,u=[],p=0;p<s;++p){var c=i[p],x=c.length;if(4===x){if(0==(g=(o[c[0]]<<0)+(o[c[1]]<<1)+(o[c[2]]<<2)+(o[c[3]]<<3))||15===g)continue;switch(g){case 0:case 15:break;case 1:u.push([t(n,r,c[0],c[1]),t(n,r,c[0],c[2]),t(n,r,c[0],c[3])]);break;case 2:u.push([t(n,r,c[1],c[2]),t(n,r,c[1],c[0]),t(n,r,c[1],c[3])]);break;case 3:u.push([t(n,r,c[1],c[2]),t(n,r,c[0],c[2]),t(n,r,c[0],c[3])],[t(n,r,c[1],c[3]),t(n,r,c[1],c[2]),t(n,r,c[0],c[3])]);break;case 4:u.push([t(n,r,c[2],c[0]),t(n,r,c[2],c[1]),t(n,r,c[2],c[3])]);break;case 5:u.push([t(n,r,c[0],c[1]),t(n,r,c[2],c[1]),t(n,r,c[0],c[3])],[t(n,r,c[2],c[1]),t(n,r,c[2],c[3]),t(n,r,c[0],c[3])]);break;case 6:u.push([t(n,r,c[2],c[0]),t(n,r,c[1],c[0]),t(n,r,c[1],c[3])],[t(n,r,c[2],c[3]),t(n,r,c[2],c[0]),t(n,r,c[1],c[3])]);break;case 7:u.push([t(n,r,c[0],c[3]),t(n,r,c[1],c[3]),t(n,r,c[2],c[3])]);break;case 8:u.push([t(n,r,c[3],c[1]),t(n,r,c[3],c[0]),t(n,r,c[3],c[2])]);break;case 9:u.push([t(n,r,c[3],c[1]),t(n,r,c[0],c[1]),t(n,r,c[0],c[2])],[t(n,r,c[3],c[2]),t(n,r,c[3],c[1]),t(n,r,c[0],c[2])]);break;case 10:u.push([t(n,r,c[1],c[0]),t(n,r,c[3],c[0]),t(n,r,c[1],c[2])],[t(n,r,c[3],c[0]),t(n,r,c[3],c[2]),t(n,r,c[1],c[2])]);break;case 11:u.push([t(n,r,c[1],c[2]),t(n,r,c[0],c[2]),t(n,r,c[3],c[2])]);break;case 12:u.push([t(n,r,c[3],c[0]),t(n,r,c[2],c[0]),t(n,r,c[2],c[1])],[t(n,r,c[3],c[1]),t(n,r,c[3],c[0]),t(n,r,c[2],c[1])]);break;case 13:u.push([t(n,r,c[0],c[1]),t(n,r,c[2],c[1]),t(n,r,c[3],c[1])]);break;case 14:u.push([t(n,r,c[2],c[0]),t(n,r,c[1],c[0]),t(n,r,c[3],c[0])])}}else if(3===x){if(0==(g=(o[c[0]]<<0)+(o[c[1]]<<1)+(o[c[2]]<<2))||7===g)continue;switch(g){case 0:case 7:break;case 1:u.push([t(n,r,c[0],c[2]),t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0]),t(n,r,c[1],c[2])]);break;case 3:u.push([t(n,r,c[0],c[2]),t(n,r,c[1],c[2])]);break;case 4:u.push([t(n,r,c[2],c[1]),t(n,r,c[2],c[0])]);break;case 5:u.push([t(n,r,c[2],c[1]),t(n,r,c[0],c[1])]);break;case 6:u.push([t(n,r,c[1],c[0]),t(n,r,c[2],c[0])])}}else if(2===x){var g;if(0==(g=(o[c[0]]<<0)+(o[c[1]]<<1))||3===g)continue;switch(g){case 0:case 3:break;case 1:u.push([t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0])])}}}return u}}]},8211:function(d,a,t){"use strict";t(2288),t(1731),a.H=function(i,r){var n=i.length,o=i.length-r.length,s=Math.min;if(o)return o;switch(n){case 0:return 0;case 1:return i[0]-r[0];case 2:return(c=i[0]+i[1]-r[0]-r[1])||s(i[0],i[1])-s(r[0],r[1]);case 3:var u=i[0]+i[1],p=r[0]+r[1];if(c=u+i[2]-(p+r[2]))return c;var c,x=s(i[0],i[1]),g=s(r[0],r[1]);return(c=s(x,i[2])-s(g,r[2]))||s(x+i[2],u)-s(g+r[2],p);default:var h=i.slice(0);h.sort();var y=r.slice(0);y.sort();for(var v=0;v<n;++v)if(o=h[v]-y[v])return o;return 0}}},9392:function(d,a){"use strict";function t(r){var n=32;return(r&=-r)&&n--,65535&r&&(n-=16),16711935&r&&(n-=8),252645135&r&&(n-=4),858993459&r&&(n-=2),1431655765&r&&(n-=1),n}a.INT_BITS=32,a.INT_MAX=2147483647,a.INT_MIN=-2147483648,a.sign=function(r){return(r>0)-(r<0)},a.abs=function(r){var n=r>>31;return(r^n)-n},a.min=function(r,n){return n^(r^n)&-(r<n)},a.max=function(r,n){return r^(r^n)&-(r<n)},a.isPow2=function(r){return!(r&r-1||!r)},a.log2=function(r){var n,o;return n=(r>65535)<<4,n|=o=((r>>>=n)>255)<<3,n|=o=((r>>>=o)>15)<<2,(n|=o=((r>>>=o)>3)<<1)|(r>>>=o)>>1},a.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},a.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},a.countTrailingZeros=t,a.nextPow2=function(r){return r+=0===r,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,1+((r|=r>>>8)|r>>>16)},a.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},a.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var i=new Array(256);(function(r){for(var n=0;n<256;++n){var o=n,s=n,u=7;for(o>>>=1;o;o>>>=1)s<<=1,s|=1&o,--u;r[n]=s<<u&255}})(i),a.reverse=function(r){return i[255&r]<<24|i[r>>>8&255]<<16|i[r>>>16&255]<<8|i[r>>>24&255]},a.interleave2=function(r,n){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},a.deinterleave2=function(r,n){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>n&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},a.interleave3=function(r,n,o){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<2},a.deinterleave3=function(r,n){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>n&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},a.nextCombination=function(r){var n=r|r-1;return n+1|(~n&-~n)-1>>>t(r)+1}},6656:function(d,a,t){"use strict";var i=t(9392),r=t(9521);function n(g,h){var y=g.length,v=g.length-h.length,m=Math.min;if(v)return v;switch(y){case 0:return 0;case 1:return g[0]-h[0];case 2:return(S=g[0]+g[1]-h[0]-h[1])||m(g[0],g[1])-m(h[0],h[1]);case 3:var _=g[0]+g[1],f=h[0]+h[1];if(S=_+g[2]-(f+h[2]))return S;var S,w=m(g[0],g[1]),E=m(h[0],h[1]);return(S=m(w,g[2])-m(E,h[2]))||m(w+g[2],_)-m(E+h[2],f);default:var L=g.slice(0);L.sort();var C=h.slice(0);C.sort();for(var O=0;O<y;++O)if(v=L[O]-C[O])return v;return 0}}function o(g,h){return n(g[0],h[0])}function s(g,h){if(h){for(var y=g.length,v=new Array(y),m=0;m<y;++m)v[m]=[g[m],h[m]];for(v.sort(o),m=0;m<y;++m)g[m]=v[m][0],h[m]=v[m][1];return g}return g.sort(n),g}function u(g){if(0===g.length)return[];for(var h=1,y=g.length,v=1;v<y;++v){var m=g[v];if(n(m,g[v-1])){if(v===h){h++;continue}g[h++]=m}}return g.length=h,g}function p(g,h){for(var y=0,v=g.length-1,m=-1;y<=v;){var _=y+v>>1,f=n(g[_],h);f<=0?(0===f&&(m=_),y=_+1):f>0&&(v=_-1)}return m}function c(g,h){for(var y=new Array(g.length),v=0,m=y.length;v<m;++v)y[v]=[];for(var _=[],f=(v=0,h.length);v<f;++v)for(var S=h[v],w=S.length,E=1,L=1<<w;E<L;++E){_.length=i.popCount(E);for(var C=0,O=0;O<w;++O)E&1<<O&&(_[C++]=S[O]);var R=p(g,_);if(!(R<0))for(;y[R++].push(v),!(R>=g.length||0!==n(g[R],_)););}return y}function x(g,h){if(h<0)return[];for(var y=[],v=(1<<h+1)-1,m=0;m<g.length;++m)for(var _=g[m],f=v;f<1<<_.length;f=i.nextCombination(f)){for(var S=new Array(h+1),w=0,E=0;E<_.length;++E)f&1<<E&&(S[w++]=_[E]);y.push(S)}return s(y)}a.dimension=function(g){for(var h=0,y=Math.max,v=0,m=g.length;v<m;++v)h=y(h,g[v].length);return h-1},a.countVertices=function(g){for(var h=-1,y=Math.max,v=0,m=g.length;v<m;++v)for(var _=g[v],f=0,S=_.length;f<S;++f)h=y(h,_[f]);return h+1},a.cloneCells=function(g){for(var h=new Array(g.length),y=0,v=g.length;y<v;++y)h[y]=g[y].slice(0);return h},a.compareCells=n,a.normalize=s,a.unique=u,a.findCell=p,a.incidence=c,a.dual=function(g,h){if(!h)return c(u(x(g,0)),g);for(var y=new Array(h),v=0;v<h;++v)y[v]=[];v=0;for(var m=g.length;v<m;++v)for(var _=g[v],f=0,S=_.length;f<S;++f)y[_[f]].push(v);return y},a.explode=function(g){for(var h=[],y=0,v=g.length;y<v;++y)for(var m=g[y],_=0|m.length,f=1,S=1<<_;f<S;++f){for(var w=[],E=0;E<_;++E)f>>>E&1&&w.push(m[E]);h.push(w)}return s(h)},a.skeleton=x,a.boundary=function(g){for(var h=[],y=0,v=g.length;y<v;++y)for(var m=g[y],_=0,f=m.length;_<f;++_){for(var S=new Array(m.length-1),w=0,E=0;w<f;++w)w!==_&&(S[E++]=m[w]);h.push(S)}return s(h)},a.connectedComponents=function(g,h){return h?function(y,v){for(var m=new r(v),_=0;_<y.length;++_)for(var f=y[_],S=0;S<f.length;++S)for(var w=S+1;w<f.length;++w)m.link(f[S],f[w]);var E=[],L=m.ranks;for(_=0;_<L.length;++_)L[_]=-1;for(_=0;_<y.length;++_){var C=m.find(y[_][0]);L[C]<0?(L[C]=E.length,E.push([y[_].slice(0)])):E[L[C]].push(y[_].slice(0))}return E}(g,h):function(y){for(var v=u(s(x(y,0))),m=new r(v.length),_=0;_<y.length;++_)for(var f=y[_],S=0;S<f.length;++S)for(var w=p(v,[f[S]]),E=S+1;E<f.length;++E)m.link(w,p(v,[f[E]]));var L=[],C=m.ranks;for(_=0;_<C.length;++_)C[_]=-1;for(_=0;_<y.length;++_){var O=m.find(p(v,[y[_][0]]));C[O]<0?(C[O]=L.length,L.push([y[_].slice(0)])):L[C[O]].push(y[_].slice(0))}return L}(g)}},9521:function(d){"use strict";function a(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}d.exports=a,a.prototype.length=function(){return this.roots.length},a.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},a.prototype.find=function(t){for(var i=this.roots;i[t]!==t;){var r=i[t];i[t]=i[r],t=r}return t},a.prototype.link=function(t,i){var r=this.find(t),n=this.find(i);if(r!==n){var o=this.ranks,s=this.roots,u=o[r],p=o[n];u<p?s[r]=n:p<u?s[n]=r:(s[n]=r,++o[r])}}},8243:function(d,a,t){"use strict";d.exports=function(n,o,s){for(var u=o.length,p=n.length,c=new Array(u),x=new Array(u),g=new Array(u),h=new Array(u),y=0;y<u;++y)c[y]=x[y]=-1,g[y]=1/0,h[y]=!1;for(y=0;y<p;++y){var v=n[y];if(2!==v.length)throw new Error("Input must be a graph");var m=v[1],_=v[0];x[_]=-1!==x[_]?-2:m,c[m]=-1!==c[m]?-2:_}function f(J){if(h[J])return 1/0;var Y,W,$=c[J],ne=x[J];return $<0||ne<0?1/0:(Y=o[$],W=o[ne],Math.abs(i(o[J],Y,W))/Math.sqrt(Math.pow(Y[0]-W[0],2)+Math.pow(Y[1]-W[1],2)))}function S(J,X){var Y=P[J],W=P[X];P[J]=W,P[X]=Y,U[Y]=X,U[W]=J}function w(J){return g[P[J]]}function E(J){return 1&J?J-1>>1:(J>>1)-1}function L(J){for(var X=w(J);;){var Y=X,W=2*J+1,$=2*(J+1),ne=J;if(W<N){var re=w(W);re<Y&&(ne=W,Y=re)}if($<N&&w($)<Y&&(ne=$),ne===J)return J;S(J,ne),J=ne}}function C(J){for(var X=w(J);J>0;){var Y=E(J);if(!(Y>=0&&X<w(Y)))return J;S(J,Y),J=Y}}function O(){if(N>0){var J=P[0];return S(0,N-1),N-=1,L(0),J}return-1}function R(J,X){var Y=P[J];return g[Y]===X?J:(g[Y]=-1/0,C(J),O(),g[Y]=X,C((N+=1)-1))}function q(J){if(!h[J]){h[J]=!0;var X=c[J],Y=x[J];c[Y]>=0&&(c[Y]=X),x[X]>=0&&(x[X]=Y),U[X]>=0&&R(U[X],f(X)),U[Y]>=0&&R(U[Y],f(Y))}}var P=[],U=new Array(u);for(y=0;y<u;++y)(g[y]=f(y))<1/0?(U[y]=P.length,P.push(y)):U[y]=-1;var N=P.length;for(y=N>>1;y>=0;--y)L(y);for(;;){var F=O();if(F<0||g[F]>s)break;q(F)}var j=[];for(y=0;y<u;++y)h[y]||(U[y]=j.length,j.push(o[y].slice()));function G(J,X){if(J[X]<0)return X;var Y=X,W=X;do{var $=J[W];if(!h[W]||$<0||$===W||($=J[W=$],!h[W]||$<0||$===W))break;W=$,Y=J[Y]}while(Y!==W);for(var ne=X;ne!==W;ne=J[ne])J[ne]=W;return W}var te=[];return n.forEach(function(J){var X=G(c,J[0]),Y=G(x,J[1]);if(X>=0&&Y>=0&&X!==Y){var W=U[X],$=U[Y];W!==$&&te.push([W,$])}}),r.unique(r.normalize(te)),{positions:j,edges:te}};var i=t(417),r=t(6656)},6638:function(d,a,t){"use strict";d.exports=function(n,o){var s,u,p,c;if(o[0][0]<o[1][0])s=o[0],u=o[1];else{if(!(o[0][0]>o[1][0]))return r(o,n);s=o[1],u=o[0]}if(n[0][0]<n[1][0])p=n[0],c=n[1];else{if(!(n[0][0]>n[1][0]))return-r(n,o);p=n[1],c=n[0]}var x=i(s,u,c),g=i(s,u,p);if(x<0){if(g<=0)return x}else if(x>0){if(g>=0)return x}else if(g)return g;if(x=i(c,p,u),g=i(c,p,s),x<0){if(g<=0)return x}else if(x>0){if(g>=0)return x}else if(g)return g;return u[0]-c[0]};var i=t(417);function r(n,o){var s,u,p,c;if(o[0][0]<o[1][0])s=o[0],u=o[1];else{if(!(o[0][0]>o[1][0])){var x=Math.min(n[0][1],n[1][1]),g=Math.max(n[0][1],n[1][1]),h=Math.min(o[0][1],o[1][1]),y=Math.max(o[0][1],o[1][1]);return g<h?g-h:x>y?x-y:g-y}s=o[1],u=o[0]}n[0][1]<n[1][1]?(p=n[0],c=n[1]):(p=n[1],c=n[0]);var v=i(u,s,p);return v||(v=i(u,s,c))||c-u}},4385:function(d,a,t){"use strict";d.exports=function(g){for(var h=g.length,y=2*h,v=new Array(y),m=0;m<h;++m){var _=g[m],f=_[0][0]<_[1][0];v[2*m]=new x(_[0][0],_,f,m),v[2*m+1]=new x(_[1][0],_,!f,m)}v.sort(function(q,P){var U=q.x-P.x;return U||(U=q.create-P.create)||Math.min(q.segment[0][1],q.segment[1][1])-Math.min(P.segment[0][1],P.segment[1][1])});var S=r(o),w=[],E=[],L=[];for(m=0;m<y;){for(var C=v[m].x,O=[];m<y;){var R=v[m];if(R.x!==C)break;m+=1,R.segment[0][0]===R.x&&R.segment[1][0]===R.x?R.create&&(R.segment[0][1]<R.segment[1][1]?(O.push(new c(R.segment[0][1],R.index,!0,!0)),O.push(new c(R.segment[1][1],R.index,!1,!1))):(O.push(new c(R.segment[1][1],R.index,!0,!1)),O.push(new c(R.segment[0][1],R.index,!1,!0)))):S=R.create?S.insert(R.segment,R.index):S.remove(R.segment)}w.push(S.root),E.push(C),L.push(O)}return new s(w,E,L)};var i=t(5070),r=t(7080),n=t(417),o=t(6638);function s(g,h,y){this.slabs=g,this.coordinates=h,this.horizontal=y}function u(g,h){return g.y-h}function p(g,h){for(var y=null;g;){var v,m,_=g.key;_[0][0]<_[1][0]?(v=_[0],m=_[1]):(v=_[1],m=_[0]);var f=n(v,m,h);if(f<0)g=g.left;else if(f>0)if(h[0]!==_[1][0])y=g,g=g.right;else{if(S=p(g.right,h))return S;g=g.left}else{if(h[0]!==_[1][0])return g;var S;if(S=p(g.right,h))return S;g=g.left}}return y}function c(g,h,y,v){this.y=g,this.index=h,this.start=y,this.closed=v}function x(g,h,y,v){this.x=g,this.segment=h,this.create=y,this.index=v}s.prototype.castUp=function(g){var h=i.le(this.coordinates,g[0]);if(h<0)return-1;var y=p(this.slabs[h],g),v=-1;if(y&&(v=y.value),this.coordinates[h]===g[0]){var m=null;if(y&&(m=y.key),h>0){var _=p(this.slabs[h-1],g);_&&(m?o(_.key,m)>0&&(m=_.key,v=_.value):(v=_.value,m=_.key))}var f=this.horizontal[h];if(f.length>0){var S=i.ge(f,g[1],u);if(S<f.length){var w=f[S];if(g[1]===w.y){if(w.closed)return w.index;for(;S<f.length-1&&f[S+1].y===g[1];)if((w=f[S+=1]).closed)return w.index;if(w.y===g[1]&&!w.start){if((S+=1)>=f.length)return v;w=f[S]}}if(w.start)if(m){var E=n(m[0],m[1],[g[0],w.y]);m[0][0]>m[1][0]&&(E=-E),E>0&&(v=w.index)}else v=w.index;else w.y!==g[1]&&(v=w.index)}}}return v}},4670:function(d,a,t){"use strict";var i=t(9130),r=t(9662);function n(s,u){var p=r(i(s,u),[u[u.length-1]]);return p[p.length-1]}function o(s,u,p,c){var x=-u/(c-u);x<0?x=0:x>1&&(x=1);for(var g=1-x,h=s.length,y=new Array(h),v=0;v<h;++v)y[v]=x*s[v]+g*p[v];return y}d.exports=function(s,u){for(var p=[],c=[],x=n(s[s.length-1],u),g=s[s.length-1],h=s[0],y=0;y<s.length;++y,g=h){var v=n(h=s[y],u);if(x<0&&v>0||x>0&&v<0){var m=o(g,v,h,x);p.push(m),c.push(m.slice())}v<0?c.push(h.slice()):v>0?p.push(h.slice()):(p.push(h.slice()),c.push(h.slice())),x=v}return{positive:p,negative:c}},d.exports.positive=function(s,u){for(var p=[],c=n(s[s.length-1],u),x=s[s.length-1],g=s[0],h=0;h<s.length;++h,x=g){var y=n(g=s[h],u);(c<0&&y>0||c>0&&y<0)&&p.push(o(x,y,g,c)),y>=0&&p.push(g.slice()),c=y}return p},d.exports.negative=function(s,u){for(var p=[],c=n(s[s.length-1],u),x=s[s.length-1],g=s[0],h=0;h<s.length;++h,x=g){var y=n(g=s[h],u);(c<0&&y>0||c>0&&y<0)&&p.push(o(x,y,g,c)),y<=0&&p.push(g.slice()),c=y}return p}},8974:function(d,a,t){var i;!function(){"use strict";var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(u){return function(p,c){var x,g,h,y,v,m,_,f,S,w=1,E=p.length,L="";for(g=0;g<E;g++)if("string"==typeof p[g])L+=p[g];else if("object"==typeof p[g]){if((y=p[g]).keys)for(x=c[w],h=0;h<y.keys.length;h++){if(null==x)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[h],y.keys[h-1]));x=x[y.keys[h]]}else x=y.param_no?c[y.param_no]:c[w++];if(r.not_type.test(y.type)&&r.not_primitive.test(y.type)&&x instanceof Function&&(x=x()),r.numeric_arg.test(y.type)&&"number"!=typeof x&&isNaN(x))throw new TypeError(n("[sprintf] expecting number but found %T",x));switch(r.number.test(y.type)&&(f=x>=0),y.type){case"b":x=parseInt(x,10).toString(2);break;case"c":x=String.fromCharCode(parseInt(x,10));break;case"d":case"i":x=parseInt(x,10);break;case"j":x=JSON.stringify(x,null,y.width?parseInt(y.width):0);break;case"e":x=y.precision?parseFloat(x).toExponential(y.precision):parseFloat(x).toExponential();break;case"f":x=y.precision?parseFloat(x).toFixed(y.precision):parseFloat(x);break;case"g":x=y.precision?String(Number(x.toPrecision(y.precision))):parseFloat(x);break;case"o":x=(parseInt(x,10)>>>0).toString(8);break;case"s":x=String(x),x=y.precision?x.substring(0,y.precision):x;break;case"t":x=String(!!x),x=y.precision?x.substring(0,y.precision):x;break;case"T":x=Object.prototype.toString.call(x).slice(8,-1).toLowerCase(),x=y.precision?x.substring(0,y.precision):x;break;case"u":x=parseInt(x,10)>>>0;break;case"v":x=x.valueOf(),x=y.precision?x.substring(0,y.precision):x;break;case"x":x=(parseInt(x,10)>>>0).toString(16);break;case"X":x=(parseInt(x,10)>>>0).toString(16).toUpperCase()}r.json.test(y.type)?L+=x:(!r.number.test(y.type)||f&&!y.sign?S="":(S=f?"+":"-",x=x.toString().replace(r.sign,"")),m=y.pad_char?"0"===y.pad_char?"0":y.pad_char.charAt(1):" ",_=y.width-(S+x).length,v=y.width&&_>0?m.repeat(_):"",L+=y.align?S+x+v:"0"===m?S+v+x:v+S+x)}return L}(function(p){if(s[p])return s[p];for(var c,x=p,g=[],h=0;x;){if(null!==(c=r.text.exec(x)))g.push(c[0]);else if(null!==(c=r.modulo.exec(x)))g.push("%");else{if(null===(c=r.placeholder.exec(x)))throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){h|=1;var y=[],v=c[2],m=[];if(null===(m=r.key.exec(v)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(y.push(m[1]);""!==(v=v.substring(m[0].length));)if(null!==(m=r.key_access.exec(v)))y.push(m[1]);else{if(null===(m=r.index_access.exec(v)))throw new SyntaxError("[sprintf] failed to parse named argument key");y.push(m[1])}c[2]=y}else h|=2;if(3===h)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");g.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}x=x.substring(c[0].length)}return s[p]=g}(u),arguments)}function o(u,p){return n.apply(null,[u].concat(p||[]))}var s=Object.create(null);a.sprintf=n,a.vsprintf=o,typeof window<"u"&&(window.sprintf=n,window.vsprintf=o,void 0===(i=function(){return{sprintf:n,vsprintf:o}}.call(a,t,a,d))||(d.exports=i))}()},4162:function(d,a,t){"use strict";d.exports=function(s,u){if(s.dimension<=0)return{positions:[],cells:[]};if(1===s.dimension)return function(x,g){for(var h=r(x,g),y=h.length,v=new Array(y),m=new Array(y),_=0;_<y;++_)v[_]=[h[_]],m[_]=[_];return{positions:v,cells:m}}(s,u);var p=s.order.join()+"-"+s.dtype,c=o[p];return u=+u||0,c||(c=o[p]=function(x,g){var y=n[x.length+"d"];if(y)return y(i,x,g)}(s.order,s.dtype)),c(s,u)};var i=t(9284),r=t(9584),n={"2d":function(s,u,p){var c=s({order:u,scalarArguments:3,getters:"generic"===p?[0]:void 0,phase:function(x,g,h,y){return x>y|0},vertex:function(x,g,h,y,v,m,_,f,S,w,E,L,C){var O=(_<<0)+(f<<1)+(S<<2)+(w<<3)|0;if(0!==O&&15!==O)switch(O){case 0:case 15:E.push([x-.5,g-.5]);break;case 1:E.push([x-.25-.25*(y+h-2*C)/(h-y),g-.25-.25*(v+h-2*C)/(h-v)]);break;case 2:E.push([x-.75-.25*(-y-h+2*C)/(y-h),g-.25-.25*(m+y-2*C)/(y-m)]);break;case 3:E.push([x-.5,g-.5-.5*(v+h+m+y-4*C)/(h-v+y-m)]);break;case 4:E.push([x-.25-.25*(m+v-2*C)/(v-m),g-.75-.25*(-v-h+2*C)/(v-h)]);break;case 5:E.push([x-.5-.5*(y+h+m+v-4*C)/(h-y+v-m),g-.5]);break;case 6:E.push([x-.5-.25*(-y-h+m+v)/(y-h+v-m),g-.5-.25*(-v-h+m+y)/(v-h+y-m)]);break;case 7:E.push([x-.75-.25*(m+v-2*C)/(v-m),g-.75-.25*(m+y-2*C)/(y-m)]);break;case 8:E.push([x-.75-.25*(-m-v+2*C)/(m-v),g-.75-.25*(-m-y+2*C)/(m-y)]);break;case 9:E.push([x-.5-.25*(y+h+-m-v)/(h-y+m-v),g-.5-.25*(v+h+-m-y)/(h-v+m-y)]);break;case 10:E.push([x-.5-.5*(-y-h-m-v+4*C)/(y-h+m-v),g-.5]);break;case 11:E.push([x-.25-.25*(-m-v+2*C)/(m-v),g-.75-.25*(v+h-2*C)/(h-v)]);break;case 12:E.push([x-.5,g-.5-.5*(-v-h-m-y+4*C)/(v-h+m-y)]);break;case 13:E.push([x-.75-.25*(y+h-2*C)/(h-y),g-.25-.25*(-m-y+2*C)/(m-y)]);break;case 14:E.push([x-.25-.25*(-y-h+2*C)/(y-h),g-.25-.25*(-v-h+2*C)/(v-h)])}},cell:function(x,g,h,y,v,m,_,f,S){f.push(v?[x,g]:[g,x])}});return function(x,g){var h=[],y=[];return c(x,h,y,g),{positions:h,cells:y}}}},o={}},6946:function(d,a,t){"use strict";d.exports=function o(s,u,p){p=p||{};var c=n[s];c||(c=n[s]={" ":{data:new Float32Array(0),shape:.2}});var x=c[u];if(!x)if(u.length<=1||!/\d/.test(u))x=c[u]=function(L){for(var C=L.cells,O=L.positions,R=new Float32Array(6*C.length),q=0,P=0,U=0;U<C.length;++U)for(var N=C[U],F=0;F<3;++F){var j=O[N[F]];R[q++]=j[0],R[q++]=j[1]+1.4,P=Math.max(j[0],P)}return{data:R,shape:P}}(i(u,{triangles:!0,font:s,textAlign:p.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var g=u.split(/(\d|\s)/),h=new Array(g.length),y=0,v=0,m=0;m<g.length;++m)h[m]=o(s,g[m]),y+=h[m].data.length,v+=h[m].shape,m>0&&(v+=.02);var _=new Float32Array(y),f=0,S=-.5*v;for(m=0;m<h.length;++m){for(var w=h[m].data,E=0;E<w.length;E+=2)_[f++]=w[E]+S,_[f++]=w[E+1];S+=h[m].shape+.02}x=c[u]={data:_,shape:v}}return x};var i=t(875),r=window||k.global||{},n=r.__TEXT_CACHE||{};r.__TEXT_CACHE={}},14:function(d,a,t){"use strict";var i=t(4405);d.exports=o;var r=96;function n(s,u){var p=i(getComputedStyle(s).getPropertyValue(u));return p[0]*o(p[1],s)}function o(s,u){switch(u=u||document.body,s=(s||"px").trim().toLowerCase(),u!==window&&u!==document||(u=document.body),s){case"%":return u.clientHeight/100;case"ch":case"ex":return function(p,c){var x=document.createElement("div");x.style["font-size"]="128"+p,c.appendChild(x);var g=n(x,"font-size")/128;return c.removeChild(x),g}(s,u);case"em":return n(u,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return r;case"cm":return r/2.54;case"mm":return r/25.4;case"pt":return r/72;case"pc":return r/6}return 1}},3440:function(d,a,t){"use strict";d.exports=function(v){var m=(v=v||{}).center||[0,0,0],_=v.up||[0,1,0],f=v.right||x(_),S=v.radius||1,w=v.theta||0,E=v.phi||0;if(m=[].slice.call(m,0,3),_=[].slice.call(_,0,3),s(_,_),f=[].slice.call(f,0,3),s(f,f),"eye"in v){var L=v.eye,C=[L[0]-m[0],L[1]-m[1],L[2]-m[2]];o(f,C,_),p(f[0],f[1],f[2])<1e-6?f=x(_):s(f,f),S=p(C[0],C[1],C[2]);var O=u(_,C)/S,R=u(f,C)/S;E=Math.acos(O),w=Math.acos(R)}return S=Math.log(S),new g(v.zoomMin,v.zoomMax,m,_,f,S,w,E)};var i=t(8444),r=t(7437),n=t(4422),o=t(903),s=t(899),u=t(9305);function p(v,m,_){return Math.sqrt(Math.pow(v,2)+Math.pow(m,2)+Math.pow(_,2))}function c(v){return Math.min(1,Math.max(-1,v))}function x(v){var m=Math.abs(v[0]),_=Math.abs(v[1]),f=Math.abs(v[2]),S=[0,0,0];m>Math.max(_,f)?S[2]=1:_>Math.max(m,f)?S[0]=1:S[1]=1;for(var w=0,E=0,L=0;L<3;++L)w+=v[L]*v[L],E+=S[L]*v[L];for(L=0;L<3;++L)S[L]-=E/w*v[L];return s(S,S),S}function g(v,m,_,f,S,w,E,L){this.center=i(_),this.up=i(f),this.right=i(S),this.radius=i([w]),this.angle=i([E,L]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(v,m),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var C=0;C<16;++C)this.computedMatrix[C]=.5;this.recalcMatrix(0)}var h=g.prototype;h.setDistanceLimits=function(v,m){v=v>0?Math.log(v):-1/0,m=m>0?Math.log(m):1/0,m=Math.max(m,v),this.radius.bounds[0][0]=v,this.radius.bounds[1][0]=m},h.getDistanceLimits=function(v){var m=this.radius.bounds[0];return v?(v[0]=Math.exp(m[0][0]),v[1]=Math.exp(m[1][0]),v):[Math.exp(m[0][0]),Math.exp(m[1][0])]},h.recalcMatrix=function(v){this.center.curve(v),this.up.curve(v),this.right.curve(v),this.radius.curve(v),this.angle.curve(v);for(var m=this.computedUp,_=this.computedRight,f=0,S=0,w=0;w<3;++w)S+=m[w]*_[w],f+=m[w]*m[w];var E=Math.sqrt(f),L=0;for(w=0;w<3;++w)_[w]-=m[w]*S/f,L+=_[w]*_[w],m[w]/=E;var C=Math.sqrt(L);for(w=0;w<3;++w)_[w]/=C;var O=this.computedToward;o(O,m,_),s(O,O);var R=Math.exp(this.computedRadius[0]),q=this.computedAngle[0],P=this.computedAngle[1],U=Math.cos(q),N=Math.sin(q),F=Math.cos(P),j=Math.sin(P),G=this.computedCenter,te=U*F,J=N*F,X=j,Y=-U*j,W=-N*j,$=F,ne=this.computedEye,re=this.computedMatrix;for(w=0;w<3;++w){var oe=te*_[w]+J*O[w]+X*m[w];re[4*w+1]=Y*_[w]+W*O[w]+$*m[w],re[4*w+2]=oe,re[4*w+3]=0}var ue=re[1],xe=re[5],Me=re[9],me=re[2],pe=re[6],ge=re[10],Pe=xe*ge-Me*pe,_e=Me*me-ue*ge,we=ue*pe-xe*me,se=p(Pe,_e,we);for(_e/=se,we/=se,re[0]=Pe/=se,re[4]=_e,re[8]=we,w=0;w<3;++w)ne[w]=G[w]+re[2+4*w]*R;for(w=0;w<3;++w){L=0;for(var ae=0;ae<3;++ae)L+=re[w+4*ae]*ne[ae];re[12+w]=-L}re[15]=1},h.getMatrix=function(v,m){this.recalcMatrix(v);var _=this.computedMatrix;if(m){for(var f=0;f<16;++f)m[f]=_[f];return m}return _};var y=[0,0,0];h.rotate=function(v,m,_,f){if(this.angle.move(v,m,_),f){this.recalcMatrix(v);var S=this.computedMatrix;y[0]=S[2],y[1]=S[6],y[2]=S[10];for(var w=this.computedUp,E=this.computedRight,L=this.computedToward,C=0;C<3;++C)S[4*C]=w[C],S[4*C+1]=E[C],S[4*C+2]=L[C];for(n(S,S,f,y),C=0;C<3;++C)w[C]=S[4*C],E[C]=S[4*C+1];this.up.set(v,w[0],w[1],w[2]),this.right.set(v,E[0],E[1],E[2])}},h.pan=function(v,m,_,f){m=m||0,_=_||0,f=f||0,this.recalcMatrix(v);var S=this.computedMatrix,w=(Math.exp(this.computedRadius[0]),S[1]),E=S[5],L=S[9],C=p(w,E,L),O=S[0],R=S[4],q=S[8],P=O*(w/=C)+R*(E/=C)+q*(L/=C),U=p(O-=w*P,R-=E*P,q-=L*P),N=(O/=U)*m+w*_,F=(R/=U)*m+E*_,j=(q/=U)*m+L*_;this.center.move(v,N,F,j);var G=Math.exp(this.computedRadius[0]);G=Math.max(1e-4,G+f),this.radius.set(v,Math.log(G))},h.translate=function(v,m,_,f){this.center.move(v,m||0,_||0,f||0)},h.setMatrix=function(v,m,_,f){var S=1;"number"==typeof _&&(S=0|_),(S<0||S>3)&&(S=1);var w=(S+2)%3;m||(this.recalcMatrix(v),m=this.computedMatrix);var E=m[S],L=m[S+4],C=m[S+8];if(f){var O=Math.abs(E),R=Math.abs(L),q=Math.abs(C),P=Math.max(O,R,q);O===P?(E=E<0?-1:1,L=C=0):q===P?(C=C<0?-1:1,E=L=0):(L=L<0?-1:1,E=C=0)}else{var U=p(E,L,C);E/=U,L/=U,C/=U}var N,F,j=m[w],G=m[w+4],te=m[w+8],J=j*E+G*L+te*C,X=p(j-=E*J,G-=L*J,te-=C*J),Y=L*(te/=X)-C*(G/=X),W=C*(j/=X)-E*te,$=E*G-L*j,ne=p(Y,W,$);if(Y/=ne,W/=ne,$/=ne,this.center.jump(v,be,Ie,Fe),this.radius.idle(v),this.up.jump(v,E,L,C),this.right.jump(v,j,G,te),2===S){var re=m[1],oe=m[5],ue=m[9];N=Pe<0?-Math.PI/2:Math.PI/2,F=Math.atan2(re*Y+oe*W+ue*$,re*j+oe*G+ue*te)}else{var me=m[2],pe=m[6],ge=m[10],Pe=me*E+pe*L+ge*C,_e=me*j+pe*G+ge*te,we=me*Y+pe*W+ge*$;N=Math.asin(c(Pe)),F=Math.atan2(we,_e)}this.angle.jump(v,F,N),this.recalcMatrix(v);var se=m[2],ae=m[6],fe=m[10],Ee=this.computedMatrix;r(Ee,m);var ke=Ee[15],be=Ee[12]/ke,Ie=Ee[13]/ke,Fe=Ee[14]/ke,ce=Math.exp(this.computedRadius[0]);this.center.jump(v,be-se*ce,Ie-ae*ce,Fe-fe*ce)},h.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},h.idle=function(v){this.center.idle(v),this.up.idle(v),this.right.idle(v),this.radius.idle(v),this.angle.idle(v)},h.flush=function(v){this.center.flush(v),this.up.flush(v),this.right.flush(v),this.radius.flush(v),this.angle.flush(v)},h.setDistance=function(v,m){m>0&&this.radius.set(v,Math.log(m))},h.lookAt=function(v,m,_,f){this.recalcMatrix(v),m=m||this.computedEye,_=_||this.computedCenter;var S=(f=f||this.computedUp)[0],w=f[1],E=f[2],L=p(S,w,E);if(!(L<1e-6)){S/=L,w/=L,E/=L;var C=m[0]-_[0],O=m[1]-_[1],R=m[2]-_[2],q=p(C,O,R);if(!(q<1e-6)){C/=q,O/=q,R/=q;var P=this.computedRight,U=P[0],N=P[1],F=P[2],j=S*U+w*N+E*F,G=p(U-=j*S,N-=j*w,F-=j*E);if(!(G<.01&&(G=p(U=w*R-E*O,N=E*C-S*R,F=S*O-w*C))<1e-6)){U/=G,N/=G,F/=G,this.up.set(v,S,w,E),this.right.set(v,U,N,F),this.center.set(v,_[0],_[1],_[2]),this.radius.set(v,Math.log(q));var te=w*F-E*N,J=E*U-S*F,X=S*N-w*U,Y=p(te,J,X),$=U*C+N*O+F*R,ne=(te/=Y)*C+(J/=Y)*O+(X/=Y)*R,re=Math.asin(c(S*C+w*O+E*R)),oe=Math.atan2(ne,$),ue=this.angle._state,xe=ue[ue.length-1],Me=ue[ue.length-2];xe%=2*Math.PI;var me=Math.abs(xe+2*Math.PI-oe),pe=Math.abs(xe-oe),ge=Math.abs(xe-2*Math.PI-oe);me<pe&&(xe+=2*Math.PI),ge<pe&&(xe-=2*Math.PI),this.angle.jump(this.angle.lastT(),xe,Me),this.angle.set(v,oe,re)}}}}},9660:function(d){"use strict";d.exports=function(t,i,r){var n=t*i,o=a*t,s=o-(o-t),u=t-s,p=a*i,c=p-(p-i),x=i-c,g=u*x-(n-s*c-u*c-s*x);return r?(r[0]=g,r[1]=n,r):[g,n]};var a=+(Math.pow(2,27)+1)},87:function(d){"use strict";d.exports=function(a,t,i){var r=a+t,n=r-a,o=t-n,s=a-(r-n);return i?(i[0]=s+o,i[1]=r,i):[s+o,r]}},5306:function(d,a,t){"use strict";var i=t(2288),r=t(3094),n=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:r([32,0]),UINT16:r([32,0]),UINT32:r([32,0]),BIGUINT64:r([32,0]),INT8:r([32,0]),INT16:r([32,0]),INT32:r([32,0]),BIGINT64:r([32,0]),FLOAT:r([32,0]),DOUBLE:r([32,0]),DATA:r([32,0]),UINT8C:r([32,0]),BUFFER:r([32,0])});var o=typeof Uint8ClampedArray<"u",s=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",p=t.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=r([32,0])),p.BIGUINT64||(p.BIGUINT64=r([32,0])),p.BIGINT64||(p.BIGINT64=r([32,0])),p.BUFFER||(p.BUFFER=r([32,0]));var c=p.DATA,x=p.BUFFER;function g(P){if(P){var N=i.log2(P.length||P.byteLength);c[N].push(P)}}function h(P){P=i.nextPow2(P);var U=i.log2(P),N=c[U];return N.length>0?N.pop():new ArrayBuffer(P)}function y(P){return new Uint8Array(h(P),0,P)}function v(P){return new Uint16Array(h(2*P),0,P)}function m(P){return new Uint32Array(h(4*P),0,P)}function _(P){return new Int8Array(h(P),0,P)}function f(P){return new Int16Array(h(2*P),0,P)}function S(P){return new Int32Array(h(4*P),0,P)}function w(P){return new Float32Array(h(4*P),0,P)}function E(P){return new Float64Array(h(8*P),0,P)}function L(P){return o?new Uint8ClampedArray(h(P),0,P):y(P)}function C(P){return s?new BigUint64Array(h(8*P),0,P):null}function O(P){return u?new BigInt64Array(h(8*P),0,P):null}function R(P){return new DataView(h(P),0,P)}function q(P){P=i.nextPow2(P);var U=i.log2(P),N=x[U];return N.length>0?N.pop():new n(P)}a.free=function(P){if(n.isBuffer(P))x[i.log2(P.length)].push(P);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(P)&&(P=P.buffer),!P)return;var N=0|i.log2(P.length||P.byteLength);c[N].push(P)}},a.freeUint8=a.freeUint16=a.freeUint32=a.freeBigUint64=a.freeInt8=a.freeInt16=a.freeInt32=a.freeBigInt64=a.freeFloat32=a.freeFloat=a.freeFloat64=a.freeDouble=a.freeUint8Clamped=a.freeDataView=function(P){g(P.buffer)},a.freeArrayBuffer=g,a.freeBuffer=function(P){x[i.log2(P.length)].push(P)},a.malloc=function(P,U){if(void 0===U||"arraybuffer"===U)return h(P);switch(U){case"uint8":return y(P);case"uint16":return v(P);case"uint32":return m(P);case"int8":return _(P);case"int16":return f(P);case"int32":return S(P);case"float":case"float32":return w(P);case"double":case"float64":return E(P);case"uint8_clamped":return L(P);case"bigint64":return O(P);case"biguint64":return C(P);case"buffer":return q(P);case"data":case"dataview":return R(P);default:return null}return null},a.mallocArrayBuffer=h,a.mallocUint8=y,a.mallocUint16=v,a.mallocUint32=m,a.mallocInt8=_,a.mallocInt16=f,a.mallocInt32=S,a.mallocFloat32=a.mallocFloat=w,a.mallocFloat64=a.mallocDouble=E,a.mallocUint8Clamped=L,a.mallocBigUint64=C,a.mallocBigInt64=O,a.mallocDataView=R,a.mallocBuffer=q,a.clearCache=function(){for(var P=0;P<32;++P)p.UINT8[P].length=0,p.UINT16[P].length=0,p.UINT32[P].length=0,p.INT8[P].length=0,p.INT16[P].length=0,p.INT32[P].length=0,p.FLOAT[P].length=0,p.DOUBLE[P].length=0,p.BIGUINT64[P].length=0,p.BIGINT64[P].length=0,p.UINT8C[P].length=0,c[P].length=0,x[P].length=0}},1731:function(d){"use strict";function a(i){this.roots=new Array(i),this.ranks=new Array(i);for(var r=0;r<i;++r)this.roots[r]=r,this.ranks[r]=0}d.exports=a;var t=a.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},t.find=function(i){for(var r=i,n=this.roots;n[i]!==i;)i=n[i];for(;n[r]!==i;){var o=n[r];n[r]=i,r=o}return i},t.link=function(i,r){var n=this.find(i),o=this.find(r);if(n!==o){var s=this.ranks,u=this.roots,p=s[n],c=s[o];p<c?u[n]=o:c<p?u[o]=n:(u[o]=n,++s[n])}}},1215:function(d){"use strict";d.exports=function(a,t,i){return 0===a.length?a:t?(i||a.sort(t),function(r,n){for(var o=1,s=r.length,u=r[0],p=r[0],c=1;c<s;++c)if(p=u,n(u=r[c],p)){if(c===o){o++;continue}r[o++]=u}return r.length=o,r}(a,t)):(i||a.sort(),function(r){for(var n=1,o=r.length,s=r[0],u=r[0],p=1;p<o;++p,u=s)if(u=s,(s=r[p])!==u){if(p===n){n++;continue}r[n++]=s}return r.length=n,r}(a))}},875:function(d,a,t){"use strict";d.exports=function(o,s){return"object"==typeof s&&null!==s||(s={}),i(o,s.canvas||r,s.context||n,s)};var i=t(712),r=null,n=null;typeof document<"u"&&((r=document.createElement("canvas")).width=8192,r.height=1024,n=r.getContext("2d"))},712:function(d,a,t){d.exports=function(C,O,R,q){var P=64,U=1.25,N={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return q&&(q.size&&q.size>0&&(P=q.size),q.lineSpacing&&q.lineSpacing>0&&(U=q.lineSpacing),q.styletags&&q.styletags.breaklines&&(N.breaklines=!!q.styletags.breaklines),q.styletags&&q.styletags.bolds&&(N.bolds=!!q.styletags.bolds),q.styletags&&q.styletags.italics&&(N.italics=!!q.styletags.italics),q.styletags&&q.styletags.subscripts&&(N.subscripts=!!q.styletags.subscripts),q.styletags&&q.styletags.superscripts&&(N.superscripts=!!q.styletags.superscripts)),R.font=[q.fontStyle,q.fontVariant,q.fontWeight,P+"px",q.font].filter(function(F){return F}).join(" "),R.textAlign="start",R.textBaseline="alphabetic",R.direction="ltr",L(function(F,j,G,te,J,X){G=(G=G.replace(/\n/g,"")).replace(/\<br\>/g,!0===X.breaklines?"\n":" ");var Y="",W=[];for(oe=0;oe<G.length;++oe)W[oe]=Y;!0===X.bolds&&(W=S(p,c,G,W)),!0===X.italics&&(W=S(x,g,G,W)),!0===X.superscripts&&(W=S(h,v,G,W)),!0===X.subscripts&&(W=S(m,f,G,W));var $=[],ne="";for(oe=0;oe<G.length;++oe)null!==W[oe]&&(ne+=G[oe],$.push(W[oe]));var re,oe,ue,xe,Me,me=ne.split("\n"),pe=me.length,ge=Math.round(J*te),Pe=te,_e=2*te,we=0,se=pe*ge+_e;F.height<se&&(F.height=se),j.fillStyle="#000",j.fillRect(0,0,F.width,F.height),j.fillStyle="#fff";var ae=0,fe="";function Ee(){if(""!==fe){var Ce=j.measureText(fe).width;j.fillText(fe,Pe+ue,_e+xe),ue+=Ce}}function ke(){return Math.round(Me)+"px "}function be(Ce,Re){var Oe=""+j.font;if(!0===X.subscripts){var je=Ce.indexOf(_),qe=Re.indexOf(_),Je=je>-1?parseInt(Ce[1+je]):0,it=qe>-1?parseInt(Re[1+qe]):0;Je!==it&&(Oe=Oe.replace(ke(),"?px "),Me*=Math.pow(.75,it-Je),Oe=Oe.replace("?px ",ke())),xe+=.25*ge*(it-Je)}if(!0===X.superscripts){var Qe=Ce.indexOf(y),dt=Re.indexOf(y),yt=Qe>-1?parseInt(Ce[1+Qe]):0,mt=dt>-1?parseInt(Re[1+dt]):0;yt!==mt&&(Oe=Oe.replace(ke(),"?px "),Me*=Math.pow(.75,mt-yt),Oe=Oe.replace("?px ",ke())),xe-=.25*ge*(mt-yt)}if(!0===X.bolds){var at=Ce.indexOf(c)>-1,st=Re.indexOf(c)>-1;!at&&st&&(Oe=Tt?Oe.replace("italic ","italic bold "):"bold "+Oe),at&&!st&&(Oe=Oe.replace("bold ",""))}if(!0===X.italics){var Tt=Ce.indexOf(g)>-1,At=Re.indexOf(g)>-1;!Tt&&At&&(Oe="italic "+Oe),Tt&&!At&&(Oe=Oe.replace("italic ",""))}j.font=Oe}for(re=0;re<pe;++re){var Ie=me[re]+"\n";for(ue=0,xe=re*ge,Me=te,fe="",oe=0;oe<Ie.length;++oe){var Fe=oe+ae<$.length?$[oe+ae]:$[$.length-1];Y===Fe?fe+=Ie[oe]:(Ee(),fe=Ie[oe],void 0!==Fe&&(be(Y,Fe),Y=Fe))}Ee(),ae+=Ie.length;var ce=0|Math.round(ue+2*Pe);we<ce&&(we=ce)}var Te=we,ve=_e+ge*pe;return r(j.getImageData(0,0,Te,ve).data,[ve,Te,4]).pick(-1,-1,0).transpose(1,0)}(O,R,C,P,U,N),q,P)},d.exports.processPixels=L;var i=t(4162),r=t(5050),n=t(8243),o=t(197),s=t(7761),u=t(8040),p="b",c="b|",x="i",g="i|",h="sup",y="+",v="+1",m="sub",_="-",f="-1";function S(C,O,R,q){for(var P="<"+C+">",U="</"+C+">",N=P.length,F=U.length,j=O[0]===y||O[0]===_,G=0,te=-F;G>-1&&-1!==(G=R.indexOf(P,G))&&-1!==(te=R.indexOf(U,G+N))&&!(te<=G);){for(var J=G;J<te+F;++J)if(J<G+N||J>=te)q[J]=null,R=R.substr(0,J)+" "+R.substr(J+1);else if(null!==q[J]){var X=q[J].indexOf(O[0]);-1===X?q[J]+=O:j&&(q[J]=q[J].substr(0,X+1)+(1+parseInt(q[J][X+1]))+q[J].substr(X+2))}var Y=G+N,W=R.substr(Y,te-Y).indexOf(P);G=-1!==W?W:te+F}return q}function E(C,O,R,q){var P=function w(C,O){var R=i(C,128);return O?n(R.cells,R.positions,.25):{edges:R.cells,positions:R.positions}}(C,q),U=function(re,oe,ue){for(var xe=oe.textAlign||"start",Me=oe.textBaseline||"alphabetic",me=[1<<30,1<<30],pe=[0,0],ge=re.length,Pe=0;Pe<ge;++Pe)for(var _e=re[Pe],we=0;we<2;++we)me[we]=0|Math.min(me[we],_e[we]),pe[we]=0|Math.max(pe[we],_e[we]);var se=0;switch(xe){case"center":se=-.5*(me[0]+pe[0]);break;case"right":case"end":se=-pe[0];break;case"left":case"start":se=-me[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+xe+"'")}var ae=0;switch(Me){case"hanging":case"top":ae=-me[1];break;case"middle":ae=-.5*(me[1]+pe[1]);break;case"alphabetic":case"ideographic":ae=-3*ue;break;case"bottom":ae=-pe[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+Me+"'")}var fe=1/ue;return"lineHeight"in oe?fe*=+oe.lineHeight:"width"in oe?fe=oe.width/(pe[0]-me[0]):"height"in oe&&(fe=oe.height/(pe[1]-me[1])),re.map(function(Ee){return[fe*(Ee[0]+se),fe*(Ee[1]+ae)]})}(P.positions,O,R),N=P.edges,F="ccw"===O.orientation;if(o(U,N),O.polygons||O.polygon||O.polyline){for(var j=u(N,U),G=new Array(j.length),te=0;te<j.length;++te){for(var J=j[te],X=new Array(J.length),Y=0;Y<J.length;++Y){for(var W=J[Y],$=new Array(W.length),ne=0;ne<W.length;++ne)$[ne]=U[W[ne]].slice();F&&$.reverse(),X[Y]=$}G[te]=X}return G}return O.triangles||O.triangulate||O.triangle?{cells:s(U,N,{delaunay:!1,exterior:!1,interior:!0}),positions:U}:{edges:N,positions:U}}function L(C,O,R){try{return E(C,O,R,!0)}catch{}try{return E(C,O,R,!1)}catch{}return O.polygons||O.polyline||O.polygon?[]:O.triangles||O.triangulate||O.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(d){!function(){"use strict";if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=m);var a=!1;if("function"==typeof WeakMap){var t=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var i=new t,r=Object.freeze({});if(i.set(r,1),1===i.get(r))return void(d.exports=WeakMap);a=!0}}var n=Object.getOwnPropertyNames,o=Object.defineProperty,s=Object.isExtensible,u="weakmap:",p=u+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var c=new ArrayBuffer(25),x=new Uint8Array(c);crypto.getRandomValues(x),p=u+"rand:"+Array.prototype.map.call(x,function(E){return(E%36).toString(36)}).join("")+"___"}if(o(Object,"getOwnPropertyNames",{value:function(E){return n(E).filter(_)}}),"getPropertyNames"in Object){var g=Object.getPropertyNames;o(Object,"getPropertyNames",{value:function(E){return g(E).filter(_)}})}!function(){var E=Object.freeze;o(Object,"freeze",{value:function(O){return f(O),E(O)}});var L=Object.seal;o(Object,"seal",{value:function(O){return f(O),L(O)}});var C=Object.preventExtensions;o(Object,"preventExtensions",{value:function(O){return f(O),C(O)}})}();var h=!1,y=0,v=function(){this instanceof v||w();var E=[],L=[],C=y++;return Object.create(v.prototype,{get___:{value:S(function(O,R){var q,P=f(O);return P?C in P?P[C]:R:(q=E.indexOf(O))>=0?L[q]:R})},has___:{value:S(function(O){var R=f(O);return R?C in R:E.indexOf(O)>=0})},set___:{value:S(function(O,R){var q,P=f(O);return P?P[C]=R:(q=E.indexOf(O))>=0?L[q]=R:(L[q=E.length]=R,E[q]=O),this})},delete___:{value:S(function(O){var R,q,P=f(O);return P?C in P&&delete P[C]:!((R=E.indexOf(O))<0||(q=E.length-1,E[R]=void 0,L[R]=L[q],E[R]=E[q],E.length=q,L.length=q,0))})}})};v.prototype=Object.create(Object.prototype,{get:{value:function(E,L){return this.get___(E,L)},writable:!0,configurable:!0},has:{value:function(E){return this.has___(E)},writable:!0,configurable:!0},set:{value:function(E,L){return this.set___(E,L)},writable:!0,configurable:!0},delete:{value:function(E){return this.delete___(E)},writable:!0,configurable:!0}}),"function"==typeof t?function(){function E(){this instanceof v||w();var L,C=new t,O=void 0,R=!1;return L=a?function(q,P){return C.set(q,P),C.has(q)||(O||(O=new v),O.set(q,P)),this}:function(q,P){if(R)try{C.set(q,P)}catch{O||(O=new v),O.set___(q,P)}else C.set(q,P);return this},Object.create(v.prototype,{get___:{value:S(function(q,P){return O?C.has(q)?C.get(q):O.get___(q,P):C.get(q,P)})},has___:{value:S(function(q){return C.has(q)||!!O&&O.has___(q)})},set___:{value:S(L)},delete___:{value:S(function(q){var P=!!C.delete(q);return O&&O.delete___(q)||P})},permitHostObjects___:{value:S(function(q){if(q!==m)throw new Error("bogus call to permitHostObjects___");R=!0})}})}a&&typeof Proxy<"u"&&(Proxy=void 0),E.prototype=v.prototype,d.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),d.exports=v)}function m(E){E.permitHostObjects___&&E.permitHostObjects___(m)}function _(E){return!(E.substr(0,8)==u&&"___"===E.substr(E.length-3))}function f(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var L=E[p];if(L&&L.key===E)return L;if(s(E)){L={key:E};try{return o(E,p,{value:L,writable:!1,enumerable:!1,configurable:!1}),L}catch{return}}}function S(E){return E.prototype=null,Object.freeze(E)}function w(){h||typeof console>"u"||(h=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},9222:function(d,a,t){var i=t(7178);d.exports=function(){var r={};return function(n){if(("object"!=typeof n||null===n)&&"function"!=typeof n)throw new Error("Weakmap-shim: Key must be object");var o=n.valueOf(r);return o&&o.identity===r?o:i(n,r)}}},7178:function(d){d.exports=function(a,t){var i={identity:t},r=a.valueOf;return Object.defineProperty(a,"valueOf",{value:function(n){return n!==t?r.apply(this,arguments):i},writable:!0}),i}},4037:function(d,a,t){var i=t(9222);d.exports=function(){var r=i();return{get:function(n,o){var s=r(n);return s.hasOwnProperty("value")?s.value:o},set:function(n,o){return r(n).value=o,this},has:function(n){return"value"in r(n)},delete:function(n){return delete r(n).value}}}},6183:function(d){"use strict";var a,t;d.exports=(a=function(){return function(a,t,i,r,n,o){var s=a[0],u=i[0],p=[0],c=u;r|=0;var x=0,g=u;for(x=0;x<s;++x){var h=t[r]-o,y=t[r+c]-o;h>=0!=y>=0&&n.push(p[0]+.5+.5*(h+y)/(h-y)),r+=g,++p[0]}}}.bind(void 0,{funcName:"zeroCrossings"}),t={},function(i,r,n){var o=i.dtype,s=i.order,u=[o,s.join()].join(),p=t[u];return p||(t[u]=p=a([o,s])),p(i.shape.slice(0),i.data,i.stride,0|i.offset,r,n)})},9584:function(d,a,t){"use strict";d.exports=function(r,n){var o=[];return n=+n||0,i(r.hi(r.shape[0]-1),o,n),o};var i=t(6183)},6601:function(){}},T={};function b(d){var a=T[d];if(void 0!==a)return a.exports;var t=T[d]={id:d,loaded:!1,exports:{}};return l[d].call(t.exports,t,t.exports,b),t.loaded=!0,t.exports}return b.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),b.nmd=function(d){return d.paths=[],d.children||(d.children=[]),d},b(7386)}()},ee.exports=A()},12856:function(ee,D,e){"use strict";function k(se,ae){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(fe,Ee){return fe.__proto__=Ee,fe})(se,ae)}function l(se){if(void 0===se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}function T(se){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)})(se)}function b(se){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ae){return typeof ae}:function(ae){return ae&&"function"==typeof Symbol&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae})(se)}var d=e(95341),a=e(95280),t="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;D.Buffer=n,D.SlowBuffer=function(se){return+se!=se&&(se=0),n.alloc(+se)},D.INSPECT_MAX_BYTES=50;var i=2147483647;function r(se){if(se>i)throw new RangeError('The value "'+se+'" is invalid for option "size"');var ae=new Uint8Array(se);return Object.setPrototypeOf(ae,n.prototype),ae}function n(se,ae,fe){if("number"==typeof se){if("string"==typeof ae)throw new TypeError('The "string" argument must be of type string. Received type number');return u(se)}return o(se,ae,fe)}function o(se,ae,fe){if("string"==typeof se)return function(be,Ie){if("string"==typeof Ie&&""!==Ie||(Ie="utf8"),!n.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);var Fe=0|g(be,Ie),ce=r(Fe),Te=ce.write(be,Ie);return Te!==Fe&&(ce=ce.slice(0,Te)),ce}(se,ae);if(ArrayBuffer.isView(se))return function(be){if(pe(be,Uint8Array)){var Ie=new Uint8Array(be);return c(Ie.buffer,Ie.byteOffset,Ie.byteLength)}return p(be)}(se);if(null==se)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(se));if(pe(se,ArrayBuffer)||se&&pe(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(se,SharedArrayBuffer)||se&&pe(se.buffer,SharedArrayBuffer)))return c(se,ae,fe);if("number"==typeof se)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ee=se.valueOf&&se.valueOf();if(null!=Ee&&Ee!==se)return n.from(Ee,ae,fe);var ke=function(be){if(n.isBuffer(be)){var Ie=0|x(be.length),Fe=r(Ie);return 0===Fe.length||be.copy(Fe,0,0,Ie),Fe}return void 0!==be.length?"number"!=typeof be.length||ge(be.length)?r(0):p(be):"Buffer"===be.type&&Array.isArray(be.data)?p(be.data):void 0}(se);if(ke)return ke;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof se[Symbol.toPrimitive])return n.from(se[Symbol.toPrimitive]("string"),ae,fe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(se))}function s(se){if("number"!=typeof se)throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function u(se){return s(se),r(se<0?0:0|x(se))}function p(se){for(var ae=se.length<0?0:0|x(se.length),fe=r(ae),Ee=0;Ee<ae;Ee+=1)fe[Ee]=255&se[Ee];return fe}function c(se,ae,fe){if(ae<0||se.byteLength<ae)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<ae+(fe||0))throw new RangeError('"length" is outside of buffer bounds');var Ee;return Ee=void 0===ae&&void 0===fe?new Uint8Array(se):void 0===fe?new Uint8Array(se,ae):new Uint8Array(se,ae,fe),Object.setPrototypeOf(Ee,n.prototype),Ee}function x(se){if(se>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|se}function g(se,ae){if(n.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||pe(se,ArrayBuffer))return se.byteLength;if("string"!=typeof se)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(se));var fe=se.length,Ee=arguments.length>2&&!0===arguments[2];if(!Ee&&0===fe)return 0;for(var ke=!1;;)switch(ae){case"ascii":case"latin1":case"binary":return fe;case"utf8":case"utf-8":return xe(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*fe;case"hex":return fe>>>1;case"base64":return Me(se).length;default:if(ke)return Ee?-1:xe(se).length;ae=(""+ae).toLowerCase(),ke=!0}}function h(se,ae,fe){var Ee=!1;if((void 0===ae||ae<0)&&(ae=0),ae>this.length||((void 0===fe||fe>this.length)&&(fe=this.length),fe<=0)||(fe>>>=0)<=(ae>>>=0))return"";for(se||(se="utf8");;)switch(se){case"hex":return P(this,ae,fe);case"utf8":case"utf-8":return C(this,ae,fe);case"ascii":return R(this,ae,fe);case"latin1":case"binary":return q(this,ae,fe);case"base64":return L(this,ae,fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,ae,fe);default:if(Ee)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),Ee=!0}}function y(se,ae,fe){var Ee=se[ae];se[ae]=se[fe],se[fe]=Ee}function v(se,ae,fe,Ee,ke){if(0===se.length)return-1;if("string"==typeof fe?(Ee=fe,fe=0):fe>2147483647?fe=2147483647:fe<-2147483648&&(fe=-2147483648),ge(fe=+fe)&&(fe=ke?0:se.length-1),fe<0&&(fe=se.length+fe),fe>=se.length){if(ke)return-1;fe=se.length-1}else if(fe<0){if(!ke)return-1;fe=0}if("string"==typeof ae&&(ae=n.from(ae,Ee)),n.isBuffer(ae))return 0===ae.length?-1:m(se,ae,fe,Ee,ke);if("number"==typeof ae)return ae&=255,"function"==typeof Uint8Array.prototype.indexOf?ke?Uint8Array.prototype.indexOf.call(se,ae,fe):Uint8Array.prototype.lastIndexOf.call(se,ae,fe):m(se,[ae],fe,Ee,ke);throw new TypeError("val must be string, number or Buffer")}function m(se,ae,fe,Ee,ke){var be,Ie=1,Fe=se.length,ce=ae.length;if(void 0!==Ee&&("ucs2"===(Ee=String(Ee).toLowerCase())||"ucs-2"===Ee||"utf16le"===Ee||"utf-16le"===Ee)){if(se.length<2||ae.length<2)return-1;Ie=2,Fe/=2,ce/=2,fe/=2}function Te(Oe,je){return 1===Ie?Oe[je]:Oe.readUInt16BE(je*Ie)}if(ke){var ve=-1;for(be=fe;be<Fe;be++)if(Te(se,be)===Te(ae,-1===ve?0:be-ve)){if(-1===ve&&(ve=be),be-ve+1===ce)return ve*Ie}else-1!==ve&&(be-=be-ve),ve=-1}else for(fe+ce>Fe&&(fe=Fe-ce),be=fe;be>=0;be--){for(var Ce=!0,Re=0;Re<ce;Re++)if(Te(se,be+Re)!==Te(ae,Re)){Ce=!1;break}if(Ce)return be}return-1}function _(se,ae,fe,Ee){fe=Number(fe)||0;var ke=se.length-fe;Ee?(Ee=Number(Ee))>ke&&(Ee=ke):Ee=ke;var be,Ie=ae.length;for(Ee>Ie/2&&(Ee=Ie/2),be=0;be<Ee;++be){var Fe=parseInt(ae.substr(2*be,2),16);if(ge(Fe))return be;se[fe+be]=Fe}return be}function f(se,ae,fe,Ee){return me(xe(ae,se.length-fe),se,fe,Ee)}function S(se,ae,fe,Ee){return me(function(ke){for(var be=[],Ie=0;Ie<ke.length;++Ie)be.push(255&ke.charCodeAt(Ie));return be}(ae),se,fe,Ee)}function w(se,ae,fe,Ee){return me(Me(ae),se,fe,Ee)}function E(se,ae,fe,Ee){return me(function(ke,be){for(var Ie,Fe,Te=[],ve=0;ve<ke.length&&!((be-=2)<0);++ve)Fe=(Ie=ke.charCodeAt(ve))>>8,Te.push(Ie%256),Te.push(Fe);return Te}(ae,se.length-fe),se,fe,Ee)}function L(se,ae,fe){return d.fromByteArray(0===ae&&fe===se.length?se:se.slice(ae,fe))}function C(se,ae,fe){fe=Math.min(se.length,fe);for(var Ee=[],ke=ae;ke<fe;){var be=se[ke],Ie=null,Fe=be>239?4:be>223?3:be>191?2:1;if(ke+Fe<=fe){var ce=void 0,Te=void 0,ve=void 0,Ce=void 0;switch(Fe){case 1:be<128&&(Ie=be);break;case 2:128==(192&(ce=se[ke+1]))&&(Ce=(31&be)<<6|63&ce)>127&&(Ie=Ce);break;case 3:Te=se[ke+2],128==(192&(ce=se[ke+1]))&&128==(192&Te)&&(Ce=(15&be)<<12|(63&ce)<<6|63&Te)>2047&&(Ce<55296||Ce>57343)&&(Ie=Ce);break;case 4:Te=se[ke+2],ve=se[ke+3],128==(192&(ce=se[ke+1]))&&128==(192&Te)&&128==(192&ve)&&(Ce=(15&be)<<18|(63&ce)<<12|(63&Te)<<6|63&ve)>65535&&Ce<1114112&&(Ie=Ce)}}null===Ie?(Ie=65533,Fe=1):Ie>65535&&(Ee.push((Ie-=65536)>>>10&1023|55296),Ie=56320|1023&Ie),Ee.push(Ie),ke+=Fe}return function(Re){var Oe=Re.length;if(Oe<=O)return String.fromCharCode.apply(String,Re);for(var je="",qe=0;qe<Oe;)je+=String.fromCharCode.apply(String,Re.slice(qe,qe+=O));return je}(Ee)}D.kMaxLength=i,(n.TYPED_ARRAY_SUPPORT=function(){try{var se=new Uint8Array(1),ae={foo:function(){return 42}};return Object.setPrototypeOf(ae,Uint8Array.prototype),Object.setPrototypeOf(se,ae),42===se.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),n.poolSize=8192,n.from=function(se,ae,fe){return o(se,ae,fe)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(se,ae,fe){return ke=ae,be=fe,s(Ee=se),Ee<=0?r(Ee):void 0!==ke?"string"==typeof be?r(Ee).fill(ke,be):r(Ee).fill(ke):r(Ee);var Ee,ke,be},n.allocUnsafe=function(se){return u(se)},n.allocUnsafeSlow=function(se){return u(se)},n.isBuffer=function(se){return null!=se&&!0===se._isBuffer&&se!==n.prototype},n.compare=function(se,ae){if(pe(se,Uint8Array)&&(se=n.from(se,se.offset,se.byteLength)),pe(ae,Uint8Array)&&(ae=n.from(ae,ae.offset,ae.byteLength)),!n.isBuffer(se)||!n.isBuffer(ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(se===ae)return 0;for(var fe=se.length,Ee=ae.length,ke=0,be=Math.min(fe,Ee);ke<be;++ke)if(se[ke]!==ae[ke]){fe=se[ke],Ee=ae[ke];break}return fe<Ee?-1:Ee<fe?1:0},n.isEncoding=function(se){switch(String(se).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(se,ae){if(!Array.isArray(se))throw new TypeError('"list" argument must be an Array of Buffers');if(0===se.length)return n.alloc(0);var fe;if(void 0===ae)for(ae=0,fe=0;fe<se.length;++fe)ae+=se[fe].length;var Ee=n.allocUnsafe(ae),ke=0;for(fe=0;fe<se.length;++fe){var be=se[fe];if(pe(be,Uint8Array))ke+be.length>Ee.length?(n.isBuffer(be)||(be=n.from(be)),be.copy(Ee,ke)):Uint8Array.prototype.set.call(Ee,be,ke);else{if(!n.isBuffer(be))throw new TypeError('"list" argument must be an Array of Buffers');be.copy(Ee,ke)}ke+=be.length}return Ee},n.byteLength=g,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var se=this.length;if(se%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ae=0;ae<se;ae+=2)y(this,ae,ae+1);return this},n.prototype.swap32=function(){var se=this.length;if(se%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ae=0;ae<se;ae+=4)y(this,ae,ae+3),y(this,ae+1,ae+2);return this},n.prototype.swap64=function(){var se=this.length;if(se%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ae=0;ae<se;ae+=8)y(this,ae,ae+7),y(this,ae+1,ae+6),y(this,ae+2,ae+5),y(this,ae+3,ae+4);return this},n.prototype.toString=function(){var se=this.length;return 0===se?"":0===arguments.length?C(this,0,se):h.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(se){if(!n.isBuffer(se))throw new TypeError("Argument must be a Buffer");return this===se||0===n.compare(this,se)},n.prototype.inspect=function(){var se="",ae=D.INSPECT_MAX_BYTES;return se=this.toString("hex",0,ae).replace(/(.{2})/g,"$1 ").trim(),this.length>ae&&(se+=" ... "),"<Buffer "+se+">"},t&&(n.prototype[t]=n.prototype.inspect),n.prototype.compare=function(se,ae,fe,Ee,ke){if(pe(se,Uint8Array)&&(se=n.from(se,se.offset,se.byteLength)),!n.isBuffer(se))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(se));if(void 0===ae&&(ae=0),void 0===fe&&(fe=se?se.length:0),void 0===Ee&&(Ee=0),void 0===ke&&(ke=this.length),ae<0||fe>se.length||Ee<0||ke>this.length)throw new RangeError("out of range index");if(Ee>=ke&&ae>=fe)return 0;if(Ee>=ke)return-1;if(ae>=fe)return 1;if(this===se)return 0;for(var be=(ke>>>=0)-(Ee>>>=0),Ie=(fe>>>=0)-(ae>>>=0),Fe=Math.min(be,Ie),ce=this.slice(Ee,ke),Te=se.slice(ae,fe),ve=0;ve<Fe;++ve)if(ce[ve]!==Te[ve]){be=ce[ve],Ie=Te[ve];break}return be<Ie?-1:Ie<be?1:0},n.prototype.includes=function(se,ae,fe){return-1!==this.indexOf(se,ae,fe)},n.prototype.indexOf=function(se,ae,fe){return v(this,se,ae,fe,!0)},n.prototype.lastIndexOf=function(se,ae,fe){return v(this,se,ae,fe,!1)},n.prototype.write=function(se,ae,fe,Ee){if(void 0===ae)Ee="utf8",fe=this.length,ae=0;else if(void 0===fe&&"string"==typeof ae)Ee=ae,fe=this.length,ae=0;else{if(!isFinite(ae))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ae>>>=0,isFinite(fe)?(fe>>>=0,void 0===Ee&&(Ee="utf8")):(Ee=fe,fe=void 0)}var ke=this.length-ae;if((void 0===fe||fe>ke)&&(fe=ke),se.length>0&&(fe<0||ae<0)||ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");for(var be=!1;;)switch(Ee){case"hex":return _(this,se,ae,fe);case"utf8":case"utf-8":return f(this,se,ae,fe);case"ascii":case"latin1":case"binary":return S(this,se,ae,fe);case"base64":return w(this,se,ae,fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,se,ae,fe);default:if(be)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),be=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function R(se,ae,fe){var Ee="";fe=Math.min(se.length,fe);for(var ke=ae;ke<fe;++ke)Ee+=String.fromCharCode(127&se[ke]);return Ee}function q(se,ae,fe){var Ee="";fe=Math.min(se.length,fe);for(var ke=ae;ke<fe;++ke)Ee+=String.fromCharCode(se[ke]);return Ee}function P(se,ae,fe){var Ee=se.length;(!ae||ae<0)&&(ae=0),(!fe||fe<0||fe>Ee)&&(fe=Ee);for(var ke="",be=ae;be<fe;++be)ke+=Pe[se[be]];return ke}function U(se,ae,fe){for(var Ee=se.slice(ae,fe),ke="",be=0;be<Ee.length-1;be+=2)ke+=String.fromCharCode(Ee[be]+256*Ee[be+1]);return ke}function N(se,ae,fe){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+ae>fe)throw new RangeError("Trying to access beyond buffer length")}function F(se,ae,fe,Ee,ke,be){if(!n.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae>ke||ae<be)throw new RangeError('"value" argument is out of bounds');if(fe+Ee>se.length)throw new RangeError("Index out of range")}function j(se,ae,fe,Ee,ke){ne(ae,Ee,ke,se,fe,7);var be=Number(ae&BigInt(4294967295));se[fe++]=be,se[fe++]=be>>=8,se[fe++]=be>>=8,se[fe++]=be>>=8;var Ie=Number(ae>>BigInt(32)&BigInt(4294967295));return se[fe++]=Ie,se[fe++]=Ie>>=8,se[fe++]=Ie>>=8,se[fe++]=Ie>>=8,fe}function G(se,ae,fe,Ee,ke){ne(ae,Ee,ke,se,fe,7);var be=Number(ae&BigInt(4294967295));se[fe+7]=be,se[fe+6]=be>>=8,se[fe+5]=be>>=8,se[fe+4]=be>>=8;var Ie=Number(ae>>BigInt(32)&BigInt(4294967295));return se[fe+3]=Ie,se[fe+2]=Ie>>=8,se[fe+1]=Ie>>=8,se[fe]=Ie>>=8,fe+8}function te(se,ae,fe,Ee,ke,be){if(fe+Ee>se.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("Index out of range")}function J(se,ae,fe,Ee,ke){return ae=+ae,fe>>>=0,ke||te(se,0,fe,4),a.write(se,ae,fe,Ee,23,4),fe+4}function X(se,ae,fe,Ee,ke){return ae=+ae,fe>>>=0,ke||te(se,0,fe,8),a.write(se,ae,fe,Ee,52,8),fe+8}n.prototype.slice=function(se,ae){var fe=this.length;(se=~~se)<0?(se+=fe)<0&&(se=0):se>fe&&(se=fe),(ae=void 0===ae?fe:~~ae)<0?(ae+=fe)<0&&(ae=0):ae>fe&&(ae=fe),ae<se&&(ae=se);var Ee=this.subarray(se,ae);return Object.setPrototypeOf(Ee,n.prototype),Ee},n.prototype.readUintLE=n.prototype.readUIntLE=function(se,ae,fe){se>>>=0,ae>>>=0,fe||N(se,ae,this.length);for(var Ee=this[se],ke=1,be=0;++be<ae&&(ke*=256);)Ee+=this[se+be]*ke;return Ee},n.prototype.readUintBE=n.prototype.readUIntBE=function(se,ae,fe){se>>>=0,ae>>>=0,fe||N(se,ae,this.length);for(var Ee=this[se+--ae],ke=1;ae>0&&(ke*=256);)Ee+=this[se+--ae]*ke;return Ee},n.prototype.readUint8=n.prototype.readUInt8=function(se,ae){return se>>>=0,ae||N(se,1,this.length),this[se]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(se,ae){return se>>>=0,ae||N(se,2,this.length),this[se]|this[se+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(se,ae){return se>>>=0,ae||N(se,2,this.length),this[se]<<8|this[se+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(se,ae){return se>>>=0,ae||N(se,4,this.length),(this[se]|this[se+1]<<8|this[se+2]<<16)+16777216*this[se+3]},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(se,ae){return se>>>=0,ae||N(se,4,this.length),16777216*this[se]+(this[se+1]<<16|this[se+2]<<8|this[se+3])},n.prototype.readBigUInt64LE=_e(function(se){re(se>>>=0,"offset");var ae=this[se],fe=this[se+7];void 0!==ae&&void 0!==fe||oe(se,this.length-8);var Ee=ae+this[++se]*Math.pow(2,8)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,24),ke=this[++se]+this[++se]*Math.pow(2,8)+this[++se]*Math.pow(2,16)+fe*Math.pow(2,24);return BigInt(Ee)+(BigInt(ke)<<BigInt(32))}),n.prototype.readBigUInt64BE=_e(function(se){re(se>>>=0,"offset");var ae=this[se],fe=this[se+7];void 0!==ae&&void 0!==fe||oe(se,this.length-8);var Ee=ae*Math.pow(2,24)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,8)+this[++se],ke=this[++se]*Math.pow(2,24)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,8)+fe;return(BigInt(Ee)<<BigInt(32))+BigInt(ke)}),n.prototype.readIntLE=function(se,ae,fe){se>>>=0,ae>>>=0,fe||N(se,ae,this.length);for(var Ee=this[se],ke=1,be=0;++be<ae&&(ke*=256);)Ee+=this[se+be]*ke;return Ee>=(ke*=128)&&(Ee-=Math.pow(2,8*ae)),Ee},n.prototype.readIntBE=function(se,ae,fe){se>>>=0,ae>>>=0,fe||N(se,ae,this.length);for(var Ee=ae,ke=1,be=this[se+--Ee];Ee>0&&(ke*=256);)be+=this[se+--Ee]*ke;return be>=(ke*=128)&&(be-=Math.pow(2,8*ae)),be},n.prototype.readInt8=function(se,ae){return se>>>=0,ae||N(se,1,this.length),128&this[se]?-1*(255-this[se]+1):this[se]},n.prototype.readInt16LE=function(se,ae){se>>>=0,ae||N(se,2,this.length);var fe=this[se]|this[se+1]<<8;return 32768&fe?4294901760|fe:fe},n.prototype.readInt16BE=function(se,ae){se>>>=0,ae||N(se,2,this.length);var fe=this[se+1]|this[se]<<8;return 32768&fe?4294901760|fe:fe},n.prototype.readInt32LE=function(se,ae){return se>>>=0,ae||N(se,4,this.length),this[se]|this[se+1]<<8|this[se+2]<<16|this[se+3]<<24},n.prototype.readInt32BE=function(se,ae){return se>>>=0,ae||N(se,4,this.length),this[se]<<24|this[se+1]<<16|this[se+2]<<8|this[se+3]},n.prototype.readBigInt64LE=_e(function(se){re(se>>>=0,"offset");var ae=this[se],fe=this[se+7];void 0!==ae&&void 0!==fe||oe(se,this.length-8);var Ee=this[se+4]+this[se+5]*Math.pow(2,8)+this[se+6]*Math.pow(2,16)+(fe<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(ae+this[++se]*Math.pow(2,8)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,24))}),n.prototype.readBigInt64BE=_e(function(se){re(se>>>=0,"offset");var ae=this[se],fe=this[se+7];void 0!==ae&&void 0!==fe||oe(se,this.length-8);var Ee=(ae<<24)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,8)+this[++se];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++se]*Math.pow(2,24)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,8)+fe)}),n.prototype.readFloatLE=function(se,ae){return se>>>=0,ae||N(se,4,this.length),a.read(this,se,!0,23,4)},n.prototype.readFloatBE=function(se,ae){return se>>>=0,ae||N(se,4,this.length),a.read(this,se,!1,23,4)},n.prototype.readDoubleLE=function(se,ae){return se>>>=0,ae||N(se,8,this.length),a.read(this,se,!0,52,8)},n.prototype.readDoubleBE=function(se,ae){return se>>>=0,ae||N(se,8,this.length),a.read(this,se,!1,52,8)},n.prototype.writeUintLE=n.prototype.writeUIntLE=function(se,ae,fe,Ee){se=+se,ae>>>=0,fe>>>=0,Ee||F(this,se,ae,fe,Math.pow(2,8*fe)-1,0);var ke=1,be=0;for(this[ae]=255&se;++be<fe&&(ke*=256);)this[ae+be]=se/ke&255;return ae+fe},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(se,ae,fe,Ee){se=+se,ae>>>=0,fe>>>=0,Ee||F(this,se,ae,fe,Math.pow(2,8*fe)-1,0);var ke=fe-1,be=1;for(this[ae+ke]=255&se;--ke>=0&&(be*=256);)this[ae+ke]=se/be&255;return ae+fe},n.prototype.writeUint8=n.prototype.writeUInt8=function(se,ae,fe){return se=+se,ae>>>=0,fe||F(this,se,ae,1,255,0),this[ae]=255&se,ae+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(se,ae,fe){return se=+se,ae>>>=0,fe||F(this,se,ae,2,65535,0),this[ae]=255&se,this[ae+1]=se>>>8,ae+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(se,ae,fe){return se=+se,ae>>>=0,fe||F(this,se,ae,2,65535,0),this[ae]=se>>>8,this[ae+1]=255&se,ae+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(se,ae,fe){return se=+se,ae>>>=0,fe||F(this,se,ae,4,4294967295,0),this[ae+3]=se>>>24,this[ae+2]=se>>>16,this[ae+1]=se>>>8,this[ae]=255&se,ae+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(se,ae,fe){return se=+se,ae>>>=0,fe||F(this,se,ae,4,4294967295,0),this[ae]=se>>>24,this[ae+1]=se>>>16,this[ae+2]=se>>>8,this[ae+3]=255&se,ae+4},n.prototype.writeBigUInt64LE=_e(function(se){return j(this,se,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=_e(function(se){return G(this,se,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(se,ae,fe,Ee){if(se=+se,ae>>>=0,!Ee){var ke=Math.pow(2,8*fe-1);F(this,se,ae,fe,ke-1,-ke)}var be=0,Ie=1,Fe=0;for(this[ae]=255&se;++be<fe&&(Ie*=256);)se<0&&0===Fe&&0!==this[ae+be-1]&&(Fe=1),this[ae+be]=(se/Ie>>0)-Fe&255;return ae+fe},n.prototype.writeIntBE=function(se,ae,fe,Ee){if(se=+se,ae>>>=0,!Ee){var ke=Math.pow(2,8*fe-1);F(this,se,ae,fe,ke-1,-ke)}var be=fe-1,Ie=1,Fe=0;for(this[ae+be]=255&se;--be>=0&&(Ie*=256);)se<0&&0===Fe&&0!==this[ae+be+1]&&(Fe=1),this[ae+be]=(se/Ie>>0)-Fe&255;return ae+fe},n.prototype.writeInt8=function(se,ae,fe){return se=+se,ae>>>=0,fe||F(this,se,ae,1,127,-128),se<0&&(se=255+se+1),this[ae]=255&se,ae+1},n.prototype.writeInt16LE=function(se,ae,fe){return se=+se,ae>>>=0,fe||F(this,se,ae,2,32767,-32768),this[ae]=255&se,this[ae+1]=se>>>8,ae+2},n.prototype.writeInt16BE=function(se,ae,fe){return se=+se,ae>>>=0,fe||F(this,se,ae,2,32767,-32768),this[ae]=se>>>8,this[ae+1]=255&se,ae+2},n.prototype.writeInt32LE=function(se,ae,fe){return se=+se,ae>>>=0,fe||F(this,se,ae,4,2147483647,-2147483648),this[ae]=255&se,this[ae+1]=se>>>8,this[ae+2]=se>>>16,this[ae+3]=se>>>24,ae+4},n.prototype.writeInt32BE=function(se,ae,fe){return se=+se,ae>>>=0,fe||F(this,se,ae,4,2147483647,-2147483648),se<0&&(se=4294967295+se+1),this[ae]=se>>>24,this[ae+1]=se>>>16,this[ae+2]=se>>>8,this[ae+3]=255&se,ae+4},n.prototype.writeBigInt64LE=_e(function(se){return j(this,se,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=_e(function(se){return G(this,se,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeFloatLE=function(se,ae,fe){return J(this,se,ae,!0,fe)},n.prototype.writeFloatBE=function(se,ae,fe){return J(this,se,ae,!1,fe)},n.prototype.writeDoubleLE=function(se,ae,fe){return X(this,se,ae,!0,fe)},n.prototype.writeDoubleBE=function(se,ae,fe){return X(this,se,ae,!1,fe)},n.prototype.copy=function(se,ae,fe,Ee){if(!n.isBuffer(se))throw new TypeError("argument should be a Buffer");if(fe||(fe=0),Ee||0===Ee||(Ee=this.length),ae>=se.length&&(ae=se.length),ae||(ae=0),Ee>0&&Ee<fe&&(Ee=fe),Ee===fe||0===se.length||0===this.length)return 0;if(ae<0)throw new RangeError("targetStart out of bounds");if(fe<0||fe>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),se.length-ae<Ee-fe&&(Ee=se.length-ae+fe);var ke=Ee-fe;return this===se&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ae,fe,Ee):Uint8Array.prototype.set.call(se,this.subarray(fe,Ee),ae),ke},n.prototype.fill=function(se,ae,fe,Ee){if("string"==typeof se){if("string"==typeof ae?(Ee=ae,ae=0,fe=this.length):"string"==typeof fe&&(Ee=fe,fe=this.length),void 0!==Ee&&"string"!=typeof Ee)throw new TypeError("encoding must be a string");if("string"==typeof Ee&&!n.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(1===se.length){var ke=se.charCodeAt(0);("utf8"===Ee&&ke<128||"latin1"===Ee)&&(se=ke)}}else"number"==typeof se?se&=255:"boolean"==typeof se&&(se=Number(se));if(ae<0||this.length<ae||this.length<fe)throw new RangeError("Out of range index");if(fe<=ae)return this;var be;if(ae>>>=0,fe=void 0===fe?this.length:fe>>>0,se||(se=0),"number"==typeof se)for(be=ae;be<fe;++be)this[be]=se;else{var Ie=n.isBuffer(se)?se:n.from(se,Ee),Fe=Ie.length;if(0===Fe)throw new TypeError('The value "'+se+'" is invalid for argument "value"');for(be=0;be<fe-ae;++be)this[be+ae]=Ie[be%Fe]}return this};var Y={};function W(se,ae,fe){Y[se]=function(Ee){!function(ve,Ce){if("function"!=typeof Ce&&null!==Ce)throw new TypeError("Super expression must either be null or a function");ve.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:ve,writable:!0,configurable:!0}}),Object.defineProperty(ve,"prototype",{writable:!1}),Ce&&k(ve,Ce)}(Te,Ee);var ke,be,Ie,Fe,ce=(Ie=Te,Fe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ve,Ce=T(Ie);if(Fe){var Re=T(this).constructor;ve=Reflect.construct(Ce,arguments,Re)}else ve=Ce.apply(this,arguments);return function(Oe,je){if(je&&("object"===b(je)||"function"==typeof je))return je;if(void 0!==je)throw new TypeError("Derived constructors may only return object or undefined");return l(Oe)}(this,ve)});function Te(){var ve;return function(Ce,Re){if(!(Ce instanceof Re))throw new TypeError("Cannot call a class as a function")}(this,Te),ve=ce.call(this),Object.defineProperty(l(ve),"message",{value:ae.apply(l(ve),arguments),writable:!0,configurable:!0}),ve.name="".concat(ve.name," [").concat(se,"]"),delete ve.name,ve}return ke=Te,(be=[{key:"code",get:function(){return se},set:function(ve){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ve,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(se,"]: ").concat(this.message)}}])&&function A(se,ae){for(var fe=0;fe<ae.length;fe++){var Ee=ae[fe];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(se,(ke=function(be,Ie){if("object"!==b(be)||null===be)return be;var Fe=be[Symbol.toPrimitive];if(void 0!==Fe){var ce=Fe.call(be,"string");if("object"!==b(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(be)}(Ee.key),"symbol"===b(ke)?ke:String(ke)),Ee)}var ke}(ke.prototype,be),Object.defineProperty(ke,"prototype",{writable:!1}),Te}(fe)}function $(se){for(var ae="",fe=se.length,Ee="-"===se[0]?1:0;fe>=Ee+4;fe-=3)ae="_".concat(se.slice(fe-3,fe)).concat(ae);return"".concat(se.slice(0,fe)).concat(ae)}function ne(se,ae,fe,Ee,ke,be){if(se>fe||se<ae){var Ie,Fe="bigint"==typeof ae?"n":"";throw Ie=be>3?0===ae||ae===BigInt(0)?">= 0".concat(Fe," and < 2").concat(Fe," ** ").concat(8*(be+1)).concat(Fe):">= -(2".concat(Fe," ** ").concat(8*(be+1)-1).concat(Fe,") and < 2 ** ")+"".concat(8*(be+1)-1).concat(Fe):">= ".concat(ae).concat(Fe," and <= ").concat(fe).concat(Fe),new Y.ERR_OUT_OF_RANGE("value",Ie,se)}var ce,Te,ve;ce=Ee,ve=be,re(Te=ke,"offset"),void 0!==ce[Te]&&void 0!==ce[Te+ve]||oe(Te,ce.length-(ve+1))}function re(se,ae){if("number"!=typeof se)throw new Y.ERR_INVALID_ARG_TYPE(ae,"number",se)}function oe(se,ae,fe){throw Math.floor(se)!==se?(re(se,fe),new Y.ERR_OUT_OF_RANGE(fe||"offset","an integer",se)):ae<0?new Y.ERR_BUFFER_OUT_OF_BOUNDS:new Y.ERR_OUT_OF_RANGE(fe||"offset",">= ".concat(fe?1:0," and <= ").concat(ae),se)}W("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?"".concat(se," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(se,ae){return'The "'.concat(se,'" argument must be of type number. Received type ').concat(b(ae))},TypeError),W("ERR_OUT_OF_RANGE",function(se,ae,fe){var Ee='The value of "'.concat(se,'" is out of range.'),ke=fe;return Number.isInteger(fe)&&Math.abs(fe)>Math.pow(2,32)?ke=$(String(fe)):"bigint"==typeof fe&&(ke=String(fe),(fe>Math.pow(BigInt(2),BigInt(32))||fe<-Math.pow(BigInt(2),BigInt(32)))&&(ke=$(ke)),ke+="n"),Ee+" It must be ".concat(ae,". Received ").concat(ke)},RangeError);var ue=/[^+/0-9A-Za-z-_]/g;function xe(se,ae){var fe;ae=ae||1/0;for(var Ee=se.length,ke=null,be=[],Ie=0;Ie<Ee;++Ie){if((fe=se.charCodeAt(Ie))>55295&&fe<57344){if(!ke){if(fe>56319){(ae-=3)>-1&&be.push(239,191,189);continue}if(Ie+1===Ee){(ae-=3)>-1&&be.push(239,191,189);continue}ke=fe;continue}if(fe<56320){(ae-=3)>-1&&be.push(239,191,189),ke=fe;continue}fe=65536+(ke-55296<<10|fe-56320)}else ke&&(ae-=3)>-1&&be.push(239,191,189);if(ke=null,fe<128){if((ae-=1)<0)break;be.push(fe)}else if(fe<2048){if((ae-=2)<0)break;be.push(fe>>6|192,63&fe|128)}else if(fe<65536){if((ae-=3)<0)break;be.push(fe>>12|224,fe>>6&63|128,63&fe|128)}else{if(!(fe<1114112))throw new Error("Invalid code point");if((ae-=4)<0)break;be.push(fe>>18|240,fe>>12&63|128,fe>>6&63|128,63&fe|128)}}return be}function Me(se){return d.toByteArray(function(ae){if((ae=(ae=ae.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;ae.length%4!=0;)ae+="=";return ae}(se))}function me(se,ae,fe,Ee){var ke;for(ke=0;ke<Ee&&!(ke+fe>=ae.length||ke>=se.length);++ke)ae[ke+fe]=se[ke];return ke}function pe(se,ae){return se instanceof ae||null!=se&&null!=se.constructor&&null!=se.constructor.name&&se.constructor.name===ae.name}function ge(se){return se!=se}var Pe=function(){for(var se="0123456789abcdef",ae=new Array(256),fe=0;fe<16;++fe)for(var Ee=16*fe,ke=0;ke<16;++ke)ae[Ee+ke]=se[fe]+se[ke];return ae}();function _e(se){return typeof BigInt>"u"?we:se}function we(){throw new Error("BigInt not supported")}},35791:function(ee){"use strict";ee.exports=k,ee.exports.isMobile=k,ee.exports.default=k;var D=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,A=/android|ipad|playbook|silk/i;function k(l){l||(l={});var T=l.ua;if(T||typeof navigator>"u"||(T=navigator.userAgent),T&&T.headers&&"string"==typeof T.headers["user-agent"]&&(T=T.headers["user-agent"]),"string"!=typeof T)return!1;var b=D.test(T)&&!e.test(T)||!!l.tablet&&A.test(T);return!b&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==T.indexOf("Macintosh")&&-1!==T.indexOf("Safari")&&(b=!0),b}},86781:function(ee,D,e){"use strict";e.r(D),e.d(D,{sankeyCenter:function(){return r},sankeyCircular:function(){return L},sankeyJustify:function(){return i},sankeyLeft:function(){return a},sankeyRight:function(){return t}});var A=e(33064),k=e(15140),l=e(45879),T=e(2502),b=e.n(T);function d(me){return me.target.depth}function a(me){return me.depth}function t(me,pe){return pe-1-me.height}function i(me,pe){return me.sourceLinks.length?me.depth:pe-1}function r(me){return me.targetLinks.length?me.depth:me.sourceLinks.length?(0,A.VV)(me.sourceLinks,d)-1:0}function n(me){return function(){return me}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(me){return typeof me}:function(me){return me&&"function"==typeof Symbol&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me};function s(me,pe){return p(me.source,pe.source)||me.index-pe.index}function u(me,pe){return p(me.target,pe.target)||me.index-pe.index}function p(me,pe){return me.partOfCycle===pe.partOfCycle?me.y0-pe.y0:"top"===me.circularLinkType||"bottom"===pe.circularLinkType?-1:1}function c(me){return me.value}function x(me){return(me.y0+me.y1)/2}function g(me){return x(me.source)}function h(me){return x(me.target)}function y(me){return me.index}function v(me){return me.nodes}function m(me){return me.links}function _(me,pe){var ge=me.get(pe);if(!ge)throw new Error("missing: "+pe);return ge}function f(me,pe){return pe(me)}var S=25,w=10,E=.3;function L(){var me,pe,ge=0,Pe=0,_e=1,we=1,se=24,ae=y,fe=i,Ee=v,ke=m,be=32,Ie=2,Fe=null;function ce(){var ve={nodes:Ee.apply(null,arguments),links:ke.apply(null,arguments)};(function(Re){Re.nodes.forEach(function(je,qe){je.index=qe,je.sourceLinks=[],je.targetLinks=[]});var Oe=(0,k.UI)(Re.nodes,ae);Re.links.forEach(function(je,qe){je.index=qe;var Je=je.source,it=je.target;"object"!==(void 0===Je?"undefined":o(Je))&&(Je=je.source=_(Oe,Je)),"object"!==(void 0===it?"undefined":o(it))&&(it=je.target=_(Oe,it)),Je.sourceLinks.push(je),it.targetLinks.push(je)})})(ve),function(Re,Oe,je){var qe=0;if(null===je){for(var Je=[],it=0;it<Re.links.length;it++){var Qe=Re.links[it],dt=Qe.source.index,yt=Qe.target.index;Je[dt]||(Je[dt]=[]),Je[yt]||(Je[yt]=[]),-1===Je[dt].indexOf(yt)&&Je[dt].push(yt)}var mt=b()(Je);mt.sort(function(Tt,At){return Tt.length-At.length});var at={};for(it=0;it<mt.length;it++){var st=mt[it].slice(-2);at[st[0]]||(at[st[0]]={}),at[st[0]][st[1]]=!0}Re.links.forEach(function(Tt){var At=Tt.target.index,Pt=Tt.source.index;At===Pt||at[Pt]&&at[Pt][At]?(Tt.circular=!0,Tt.circularLinkID=qe,qe+=1):Tt.circular=!1})}else Re.links.forEach(function(Tt){Tt.source[je]<Tt.target[je]?Tt.circular=!1:(Tt.circular=!0,Tt.circularLinkID=qe,qe+=1)})}(ve,0,Fe),ve.nodes.forEach(function(Oe){Oe.partOfCycle=!1,Oe.value=Math.max((0,A.Sm)(Oe.sourceLinks,c),(0,A.Sm)(Oe.targetLinks,c)),Oe.sourceLinks.forEach(function(je){je.circular&&(Oe.partOfCycle=!0,Oe.circularLinkType=je.circularLinkType)}),Oe.targetLinks.forEach(function(je){je.circular&&(Oe.partOfCycle=!0,Oe.circularLinkType=je.circularLinkType)})}),function(Re){var Oe,je,qe;for(Oe=Re.nodes,je=[],qe=0;Oe.length;++qe,Oe=je,je=[])Oe.forEach(function(Je){Je.depth=qe,Je.sourceLinks.forEach(function(it){je.indexOf(it.target)<0&&!it.circular&&je.push(it.target)})});for(Oe=Re.nodes,je=[],qe=0;Oe.length;++qe,Oe=je,je=[])Oe.forEach(function(Je){Je.height=qe,Je.targetLinks.forEach(function(it){je.indexOf(it.source)<0&&!it.circular&&je.push(it.source)})});Re.nodes.forEach(function(Je){Je.column=Math.floor(fe.call(null,Je,qe))})}(ve),C(ve,ae),function(Re,Oe,je){var qe=(0,k.b1)().key(function(yt){return yt.column}).sortKeys(A.j2).entries(Re.nodes).map(function(yt){return yt.values});(function(yt){if(pe){var mt=1/0;qe.forEach(function(At){var Pt=we*pe/(At.length+1);mt=Pt<mt?Pt:mt}),me=mt}var at=(0,A.VV)(qe,function(At){return(we-Pe-(At.length-1)*me)/(0,A.Sm)(At,c)});at*=E,Re.links.forEach(function(At){At.width=At.value*at});var At,Pt,kt,Ze,Xe,He,st=(Pt=0,kt=0,Ze=0,Xe=0,He=(0,A.Fp)((At=Re).nodes,function(We){return We.column}),At.links.forEach(function(We){We.circular&&("top"==We.circularLinkType?Pt+=We.width:kt+=We.width,0==We.target.column&&(Xe+=We.width),We.source.column==He&&(Ze+=We.width))}),{top:Pt=Pt>0?Pt+S+w:Pt,bottom:kt=kt>0?kt+S+w:kt,left:Xe=Xe>0?Xe+S+w:Xe,right:Ze=Ze>0?Ze+S+w:Ze}),Tt=function(At,Pt){var kt=(0,A.Fp)(At.nodes,function(rt){return rt.column}),Ze=_e-ge,Xe=we-Pe,He=Ze/(Ze+Pt.right+Pt.left),We=Xe/(Xe+Pt.top+Pt.bottom);return ge=ge*He+Pt.left,_e=0==Pt.right?_e:_e*He,Pe=Pe*We+Pt.top,we*=We,At.nodes.forEach(function(rt){rt.x0=ge+rt.column*((_e-ge-se)/kt),rt.x1=rt.x0+se}),We}(Re,st);at*=Tt,Re.links.forEach(function(At){At.width=At.value*at}),qe.forEach(function(At){var Pt=At.length;At.forEach(function(kt,Ze){kt.depth==qe.length-1&&1==Pt||0==kt.depth&&1==Pt?(kt.y0=we/2-kt.value*at,kt.y1=kt.y0+kt.value*at):kt.partOfCycle?0==R(kt,yt)?(kt.y0=we/2+Ze,kt.y1=kt.y0+kt.value*at):"top"==kt.circularLinkType?(kt.y0=Pe+Ze,kt.y1=kt.y0+kt.value*at):(kt.y0=we-kt.value*at-Ze,kt.y1=kt.y0+kt.value*at):0==st.top||0==st.bottom?(kt.y0=(we-Pe)/Pt*Ze,kt.y1=kt.y0+kt.value*at):(kt.y0=(we-Pe)/2-Pt/2+Ze,kt.y1=kt.y0+kt.value*at)})})})(je),dt();for(var Je=1,it=Oe;it>0;--it)Qe(Je*=.99,je),dt();function Qe(yt,mt){var at=qe.length;qe.forEach(function(st){var Tt=st.length,At=st[0].depth;st.forEach(function(Pt){var kt;if((Pt.sourceLinks.length||Pt.targetLinks.length)&&!(Pt.partOfCycle&&R(Pt,mt)>0))if(0==At&&1==Tt)Pt.y0=we/2-(kt=Pt.y1-Pt.y0)/2,Pt.y1=we/2+kt/2;else if(At==at-1&&1==Tt)Pt.y0=we/2-(kt=Pt.y1-Pt.y0)/2,Pt.y1=we/2+kt/2;else{var Ze=(0,A.J6)(Pt.sourceLinks,h),Xe=(0,A.J6)(Pt.targetLinks,g),He=((Ze&&Xe?(Ze+Xe)/2:Ze||Xe)-x(Pt))*yt;Pt.y0+=He,Pt.y1+=He}})})}function dt(){qe.forEach(function(yt){var mt,at,st,Tt=Pe,At=yt.length;for(yt.sort(p),st=0;st<At;++st)(at=Tt-(mt=yt[st]).y0)>0&&(mt.y0+=at,mt.y1+=at),Tt=mt.y1+me;if((at=Tt-me-we)>0)for(Tt=mt.y0-=at,mt.y1-=at,st=At-2;st>=0;--st)(at=(mt=yt[st]).y1+me-Tt)>0&&(mt.y0-=at,mt.y1-=at),Tt=mt.y0})}}(ve,be,ae),Te(ve);for(var Ce=0;Ce<4;Ce++)re(ve,we,ae),oe(ve,0,ae),$(ve,Pe,we,ae),re(ve,we,ae),oe(ve,0,ae);return function(Re,Oe,je){var qe=Re.nodes,Je=Re.links,it=!1,Qe=!1;if(Je.forEach(function(mt){"top"==mt.circularLinkType?it=!0:"bottom"==mt.circularLinkType&&(Qe=!0)}),0==it||0==Qe){var dt=(0,A.VV)(qe,function(mt){return mt.y0}),yt=(je-Oe)/((0,A.Fp)(qe,function(mt){return mt.y1})-dt);qe.forEach(function(mt){var at=(mt.y1-mt.y0)*yt;mt.y0=(mt.y0-dt)*yt,mt.y1=mt.y0+at}),Je.forEach(function(mt){mt.y0=(mt.y0-dt)*yt,mt.y1=(mt.y1-dt)*yt,mt.width=mt.width*yt})}}(ve,Pe,we),U(ve,Ie,we,ae),ve}function Te(ve){ve.nodes.forEach(function(Ce){Ce.sourceLinks.sort(u),Ce.targetLinks.sort(s)}),ve.nodes.forEach(function(Ce){var Re=Ce.y0,Oe=Re,je=Ce.y1,qe=je;Ce.sourceLinks.forEach(function(Je){Je.circular?(Je.y0=je-Je.width/2,je-=Je.width):(Je.y0=Re+Je.width/2,Re+=Je.width)}),Ce.targetLinks.forEach(function(Je){Je.circular?(Je.y1=qe-Je.width/2,qe-=Je.width):(Je.y1=Oe+Je.width/2,Oe+=Je.width)})})}return ce.nodeId=function(ve){return arguments.length?(ae="function"==typeof ve?ve:n(ve),ce):ae},ce.nodeAlign=function(ve){return arguments.length?(fe="function"==typeof ve?ve:n(ve),ce):fe},ce.nodeWidth=function(ve){return arguments.length?(se=+ve,ce):se},ce.nodePadding=function(ve){return arguments.length?(me=+ve,ce):me},ce.nodes=function(ve){return arguments.length?(Ee="function"==typeof ve?ve:n(ve),ce):Ee},ce.links=function(ve){return arguments.length?(ke="function"==typeof ve?ve:n(ve),ce):ke},ce.size=function(ve){return arguments.length?(ge=Pe=0,_e=+ve[0],we=+ve[1],ce):[_e-ge,we-Pe]},ce.extent=function(ve){return arguments.length?(ge=+ve[0][0],_e=+ve[1][0],Pe=+ve[0][1],we=+ve[1][1],ce):[[ge,Pe],[_e,we]]},ce.iterations=function(ve){return arguments.length?(be=+ve,ce):be},ce.circularLinkGap=function(ve){return arguments.length?(Ie=+ve,ce):Ie},ce.nodePaddingRatio=function(ve){return arguments.length?(pe=+ve,ce):pe},ce.sortNodes=function(ve){return arguments.length?(Fe=ve,ce):Fe},ce.update=function(ve){return C(ve,ae),Te(ve),ve.links.forEach(function(Ce){Ce.circular&&(Ce.circularLinkType=Ce.y0+Ce.y1<we?"top":"bottom",Ce.source.circularLinkType=Ce.circularLinkType,Ce.target.circularLinkType=Ce.circularLinkType)}),re(ve,we,ae,!1),oe(ve,0,ae),U(ve,Ie,we,ae),ve},ce}function C(me,pe){var ge=0,Pe=0;me.links.forEach(function(_e){_e.circular&&(_e.circularLinkType=_e.source.circularLinkType||_e.target.circularLinkType?_e.source.circularLinkType?_e.source.circularLinkType:_e.target.circularLinkType:ge<Pe?"top":"bottom","top"==_e.circularLinkType?ge+=1:Pe+=1,me.nodes.forEach(function(we){f(we,pe)!=f(_e.source,pe)&&f(we,pe)!=f(_e.target,pe)||(we.circularLinkType=_e.circularLinkType)}))}),me.links.forEach(function(_e){_e.circular&&(_e.source.circularLinkType==_e.target.circularLinkType&&(_e.circularLinkType=_e.source.circularLinkType),Me(_e,pe)&&(_e.circularLinkType=_e.source.circularLinkType))})}function O(me){var pe=Math.abs(me.y1-me.y0),ge=Math.abs(me.target.x0-me.source.x1);return Math.atan(ge/pe)}function R(me,pe){var ge=0;me.sourceLinks.forEach(function(_e){ge=_e.circular&&!Me(_e,pe)?ge+1:ge});var Pe=0;return me.targetLinks.forEach(function(_e){Pe=_e.circular&&!Me(_e,pe)?Pe+1:Pe}),ge+Pe}function q(me){var ge=0;me.source.sourceLinks.forEach(function(we){ge=we.circular?ge+1:ge});var _e=0;return me.target.targetLinks.forEach(function(we){_e=we.circular?_e+1:_e}),!(ge>1||_e>1)}function P(me,pe,ge){return me.sort(N),me.forEach(function(Pe,_e){var we,se,ae=0;if(Me(Pe,ge)&&q(Pe))Pe.circularPathData.verticalBuffer=ae+Pe.width/2;else{for(var fe=0;fe<_e;fe++)if(!((we=me[_e]).source.column<(se=me[fe]).target.column||we.target.column>se.source.column)){var Ee=me[fe].circularPathData.verticalBuffer+me[fe].width/2+pe;ae=Ee>ae?Ee:ae}Pe.circularPathData.verticalBuffer=ae+Pe.width/2}}),me}function U(me,pe,ge,Pe){var _e=(0,A.VV)(me.links,function(we){return we.source.y0});me.links.forEach(function(we){we.circular&&(we.circularPathData={})}),P(me.links.filter(function(we){return"top"==we.circularLinkType}),pe,Pe),P(me.links.filter(function(we){return"bottom"==we.circularLinkType}),pe,Pe),me.links.forEach(function(we){if(we.circular){if(we.circularPathData.arcRadius=we.width+w,we.circularPathData.leftNodeBuffer=5,we.circularPathData.rightNodeBuffer=5,we.circularPathData.sourceWidth=we.source.x1-we.source.x0,we.circularPathData.sourceX=we.source.x0+we.circularPathData.sourceWidth,we.circularPathData.targetX=we.target.x0,we.circularPathData.sourceY=we.y0,we.circularPathData.targetY=we.y1,Me(we,Pe)&&q(we))we.circularPathData.leftSmallArcRadius=w+we.width/2,we.circularPathData.leftLargeArcRadius=w+we.width/2,we.circularPathData.rightSmallArcRadius=w+we.width/2,we.circularPathData.rightLargeArcRadius=w+we.width/2,"bottom"==we.circularLinkType?(we.circularPathData.verticalFullExtent=we.source.y1+S+we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.rightLargeArcRadius):(we.circularPathData.verticalFullExtent=we.source.y0-S-we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.rightLargeArcRadius);else{var se=we.source.column,ae=we.circularLinkType,fe=me.links.filter(function(be){return be.source.column==se&&be.circularLinkType==ae});fe.sort("bottom"==we.circularLinkType?j:F);var Ee=0;fe.forEach(function(be,Ie){be.circularLinkID==we.circularLinkID&&(we.circularPathData.leftSmallArcRadius=w+we.width/2+Ee,we.circularPathData.leftLargeArcRadius=w+we.width/2+Ie*pe+Ee),Ee+=be.width}),se=we.target.column,(fe=me.links.filter(function(be){return be.target.column==se&&be.circularLinkType==ae})).sort("bottom"==we.circularLinkType?te:G),Ee=0,fe.forEach(function(be,Ie){be.circularLinkID==we.circularLinkID&&(we.circularPathData.rightSmallArcRadius=w+we.width/2+Ee,we.circularPathData.rightLargeArcRadius=w+we.width/2+Ie*pe+Ee),Ee+=be.width}),"bottom"==we.circularLinkType?(we.circularPathData.verticalFullExtent=Math.max(ge,we.source.y1,we.target.y1)+S+we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.rightLargeArcRadius):(we.circularPathData.verticalFullExtent=_e-S-we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.rightLargeArcRadius)}we.circularPathData.leftInnerExtent=we.circularPathData.sourceX+we.circularPathData.leftNodeBuffer,we.circularPathData.rightInnerExtent=we.circularPathData.targetX-we.circularPathData.rightNodeBuffer,we.circularPathData.leftFullExtent=we.circularPathData.sourceX+we.circularPathData.leftLargeArcRadius+we.circularPathData.leftNodeBuffer,we.circularPathData.rightFullExtent=we.circularPathData.targetX-we.circularPathData.rightLargeArcRadius-we.circularPathData.rightNodeBuffer}if(we.circular)we.path="top"==(be=we).circularLinkType?"M"+be.circularPathData.sourceX+" "+be.circularPathData.sourceY+" L"+be.circularPathData.leftInnerExtent+" "+be.circularPathData.sourceY+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftSmallArcRadius+" 0 0 0 "+be.circularPathData.leftFullExtent+" "+(be.circularPathData.sourceY-be.circularPathData.leftSmallArcRadius)+" L"+be.circularPathData.leftFullExtent+" "+be.circularPathData.verticalLeftInnerExtent+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftLargeArcRadius+" 0 0 0 "+be.circularPathData.leftInnerExtent+" "+be.circularPathData.verticalFullExtent+" L"+be.circularPathData.rightInnerExtent+" "+be.circularPathData.verticalFullExtent+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightLargeArcRadius+" 0 0 0 "+be.circularPathData.rightFullExtent+" "+be.circularPathData.verticalRightInnerExtent+" L"+be.circularPathData.rightFullExtent+" "+(be.circularPathData.targetY-be.circularPathData.rightSmallArcRadius)+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightSmallArcRadius+" 0 0 0 "+be.circularPathData.rightInnerExtent+" "+be.circularPathData.targetY+" L"+be.circularPathData.targetX+" "+be.circularPathData.targetY:"M"+be.circularPathData.sourceX+" "+be.circularPathData.sourceY+" L"+be.circularPathData.leftInnerExtent+" "+be.circularPathData.sourceY+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftSmallArcRadius+" 0 0 1 "+be.circularPathData.leftFullExtent+" "+(be.circularPathData.sourceY+be.circularPathData.leftSmallArcRadius)+" L"+be.circularPathData.leftFullExtent+" "+be.circularPathData.verticalLeftInnerExtent+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftLargeArcRadius+" 0 0 1 "+be.circularPathData.leftInnerExtent+" "+be.circularPathData.verticalFullExtent+" L"+be.circularPathData.rightInnerExtent+" "+be.circularPathData.verticalFullExtent+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightLargeArcRadius+" 0 0 1 "+be.circularPathData.rightFullExtent+" "+be.circularPathData.verticalRightInnerExtent+" L"+be.circularPathData.rightFullExtent+" "+(be.circularPathData.targetY+be.circularPathData.rightSmallArcRadius)+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightSmallArcRadius+" 0 0 1 "+be.circularPathData.rightInnerExtent+" "+be.circularPathData.targetY+" L"+be.circularPathData.targetX+" "+be.circularPathData.targetY;else{var ke=(0,l.h5)().source(function(be){return[be.source.x0+(be.source.x1-be.source.x0),be.y0]}).target(function(be){return[be.target.x0,be.y1]});we.path=ke(we)}var be})}function N(me,pe){return J(me)==J(pe)?"bottom"==me.circularLinkType?j(me,pe):F(me,pe):J(pe)-J(me)}function F(me,pe){return me.y0-pe.y0}function j(me,pe){return pe.y0-me.y0}function G(me,pe){return me.y1-pe.y1}function te(me,pe){return pe.y1-me.y1}function J(me){return me.target.column-me.source.column}function X(me){return me.target.x0-me.source.x1}function Y(me,pe){var ge=O(me),Pe=X(pe)/Math.tan(ge);return"up"==xe(me)?me.y1+Pe:me.y1-Pe}function W(me,pe){var ge=O(me),Pe=X(pe)/Math.tan(ge);return"up"==xe(me)?me.y1-Pe:me.y1+Pe}function $(me,pe,ge,Pe){me.links.forEach(function(_e){if(!_e.circular&&_e.target.column-_e.source.column>1){var we=_e.source.column+1,se=_e.target.column-1,ae=1,fe=se-we+1;for(ae=1;we<=se;we++,ae++)me.nodes.forEach(function(Ee){if(Ee.column==we){var ke,be=ae/(fe+1),Ie=Math.pow(1-be,3),Fe=3*be*Math.pow(1-be,2),ce=3*Math.pow(be,2)*(1-be),Te=Math.pow(be,3),ve=Ie*_e.y0+Fe*_e.y0+ce*_e.y1+Te*_e.y1,Ce=ve-_e.width/2,Re=ve+_e.width/2;Ce>Ee.y0&&Ce<Ee.y1?(ke=Ee.y1-Ce+10,Ee=ne(Ee,ke="bottom"==Ee.circularLinkType?ke:-ke,pe,ge),me.nodes.forEach(function(Oe){var je,qe;f(Oe,Pe)!=f(Ee,Pe)&&Oe.column==Ee.column&&((je=Ee).y0>(qe=Oe).y0&&je.y0<qe.y1||je.y1>qe.y0&&je.y1<qe.y1||je.y0<qe.y0&&je.y1>qe.y1)&&ne(Oe,ke,pe,ge)})):(Re>Ee.y0&&Re<Ee.y1||Ce<Ee.y0&&Re>Ee.y1)&&(Ee=ne(Ee,ke=Re-Ee.y0+10,pe,ge),me.nodes.forEach(function(Oe){f(Oe,Pe)!=f(Ee,Pe)&&Oe.column==Ee.column&&Oe.y0<Ee.y1&&Oe.y1>Ee.y1&&ne(Oe,ke,pe,ge)}))}})}})}function ne(me,pe,ge,Pe){return me.y0+pe>=ge&&me.y1+pe<=Pe&&(me.y0=me.y0+pe,me.y1=me.y1+pe,me.targetLinks.forEach(function(_e){_e.y1=_e.y1+pe}),me.sourceLinks.forEach(function(_e){_e.y0=_e.y0+pe})),me}function re(me,pe,ge,Pe){me.nodes.forEach(function(_e){Pe&&_e.y+(_e.y1-_e.y0)>pe&&(_e.y=_e.y-(_e.y+(_e.y1-_e.y0)-pe));var we=me.links.filter(function(fe){return f(fe.source,ge)==f(_e,ge)}),se=we.length;se>1&&we.sort(function(fe,Ee){if(!fe.circular&&!Ee.circular){if(fe.target.column==Ee.target.column||!ue(fe,Ee))return fe.y1-Ee.y1;if(fe.target.column>Ee.target.column){var ke=W(Ee,fe);return fe.y1-ke}if(Ee.target.column>fe.target.column)return W(fe,Ee)-Ee.y1}return fe.circular&&!Ee.circular?"top"==fe.circularLinkType?-1:1:Ee.circular&&!fe.circular?"top"==Ee.circularLinkType?1:-1:fe.circular&&Ee.circular?fe.circularLinkType===Ee.circularLinkType&&"top"==fe.circularLinkType?fe.target.column===Ee.target.column?fe.target.y1-Ee.target.y1:Ee.target.column-fe.target.column:fe.circularLinkType===Ee.circularLinkType&&"bottom"==fe.circularLinkType?fe.target.column===Ee.target.column?Ee.target.y1-fe.target.y1:fe.target.column-Ee.target.column:"top"==fe.circularLinkType?-1:1:void 0});var ae=_e.y0;we.forEach(function(fe){fe.y0=ae+fe.width/2,ae+=fe.width}),we.forEach(function(fe,Ee){if("bottom"==fe.circularLinkType){for(var ke=Ee+1,be=0;ke<se;ke++)be+=we[ke].width;fe.y0=_e.y1-be-fe.width/2}})})}function oe(me,pe,ge){me.nodes.forEach(function(Pe){var _e=me.links.filter(function(ae){return f(ae.target,ge)==f(Pe,ge)}),we=_e.length;we>1&&_e.sort(function(ae,fe){if(!ae.circular&&!fe.circular){if(ae.source.column==fe.source.column||!ue(ae,fe))return ae.y0-fe.y0;if(fe.source.column<ae.source.column){var Ee=Y(fe,ae);return ae.y0-Ee}if(ae.source.column<fe.source.column)return Y(ae,fe)-fe.y0}return ae.circular&&!fe.circular?"top"==ae.circularLinkType?-1:1:fe.circular&&!ae.circular?"top"==fe.circularLinkType?1:-1:ae.circular&&fe.circular?ae.circularLinkType===fe.circularLinkType&&"top"==ae.circularLinkType?ae.source.column===fe.source.column?ae.source.y1-fe.source.y1:ae.source.column-fe.source.column:ae.circularLinkType===fe.circularLinkType&&"bottom"==ae.circularLinkType?ae.source.column===fe.source.column?ae.source.y1-fe.source.y1:fe.source.column-ae.source.column:"top"==ae.circularLinkType?-1:1:void 0});var se=Pe.y0;_e.forEach(function(ae){ae.y1=se+ae.width/2,se+=ae.width}),_e.forEach(function(ae,fe){if("bottom"==ae.circularLinkType){for(var Ee=fe+1,ke=0;Ee<we;Ee++)ke+=_e[Ee].width;ae.y1=Pe.y1-ke-ae.width/2}})})}function ue(me,pe){return xe(me)==xe(pe)}function xe(me){return me.y0-me.y1>0?"up":"down"}function Me(me,pe){return f(me.source,pe)==f(me.target,pe)}},30838:function(ee,D,e){"use strict";e.r(D),e.d(D,{sankey:function(){return y},sankeyCenter:function(){return a},sankeyJustify:function(){return d},sankeyLeft:function(){return T},sankeyLinkHorizontal:function(){return f},sankeyRight:function(){return b}});var A=e(33064),k=e(15140);function l(S){return S.target.depth}function T(S){return S.depth}function b(S,w){return w-1-S.height}function d(S,w){return S.sourceLinks.length?S.depth:w-1}function a(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,A.VV)(S.sourceLinks,l)-1:0}function t(S){return function(){return S}}function i(S,w){return n(S.source,w.source)||S.index-w.index}function r(S,w){return n(S.target,w.target)||S.index-w.index}function n(S,w){return S.y0-w.y0}function o(S){return S.value}function s(S){return(S.y0+S.y1)/2}function u(S){return s(S.source)*S.value}function p(S){return s(S.target)*S.value}function c(S){return S.index}function x(S){return S.nodes}function g(S){return S.links}function h(S,w){var E=S.get(w);if(!E)throw new Error("missing: "+w);return E}function y(){var S=0,w=0,E=1,L=1,C=24,O=8,R=c,q=d,P=x,U=g,N=32;function F(){var G={nodes:P.apply(null,arguments),links:U.apply(null,arguments)};return function(te){te.nodes.forEach(function(X,Y){X.index=Y,X.sourceLinks=[],X.targetLinks=[]});var J=(0,k.UI)(te.nodes,R);te.links.forEach(function(X,Y){X.index=Y;var W=X.source,$=X.target;"object"!=typeof W&&(W=X.source=h(J,W)),"object"!=typeof $&&($=X.target=h(J,$)),W.sourceLinks.push(X),$.targetLinks.push(X)})}(G),G.nodes.forEach(function(J){J.value=Math.max((0,A.Sm)(J.sourceLinks,o),(0,A.Sm)(J.targetLinks,o))}),function(te){var J,X,Y;for(J=te.nodes,X=[],Y=0;J.length;++Y,J=X,X=[])J.forEach(function($){$.depth=Y,$.sourceLinks.forEach(function(ne){X.indexOf(ne.target)<0&&X.push(ne.target)})});for(J=te.nodes,X=[],Y=0;J.length;++Y,J=X,X=[])J.forEach(function($){$.height=Y,$.targetLinks.forEach(function(ne){X.indexOf(ne.source)<0&&X.push(ne.source)})});var W=(E-S-C)/(Y-1);te.nodes.forEach(function($){$.x1=($.x0=S+Math.max(0,Math.min(Y-1,Math.floor(q.call(null,$,Y))))*W)+C})}(G),function(te){var J=(0,k.b1)().key(function(re){return re.x0}).sortKeys(A.j2).entries(te.nodes).map(function(re){return re.values});(function(){var re=(0,A.Fp)(J,function(xe){return xe.length}),oe=.6666666666666666*(L-w)/(re-1);O>oe&&(O=oe);var ue=(0,A.VV)(J,function(xe){return(L-w-(xe.length-1)*O)/(0,A.Sm)(xe,o)});J.forEach(function(xe){xe.forEach(function(Me,me){Me.y1=(Me.y0=me)+Me.value*ue})}),te.links.forEach(function(xe){xe.width=xe.value*ue})})(),ne();for(var X=1,Y=N;Y>0;--Y)$(X*=.99),ne(),W(X),ne();function W(re){J.forEach(function(oe){oe.forEach(function(ue){if(ue.targetLinks.length){var xe=((0,A.Sm)(ue.targetLinks,u)/(0,A.Sm)(ue.targetLinks,o)-s(ue))*re;ue.y0+=xe,ue.y1+=xe}})})}function $(re){J.slice().reverse().forEach(function(oe){oe.forEach(function(ue){if(ue.sourceLinks.length){var xe=((0,A.Sm)(ue.sourceLinks,p)/(0,A.Sm)(ue.sourceLinks,o)-s(ue))*re;ue.y0+=xe,ue.y1+=xe}})})}function ne(){J.forEach(function(re){var oe,ue,xe,Me=w,me=re.length;for(re.sort(n),xe=0;xe<me;++xe)(ue=Me-(oe=re[xe]).y0)>0&&(oe.y0+=ue,oe.y1+=ue),Me=oe.y1+O;if((ue=Me-O-L)>0)for(Me=oe.y0-=ue,oe.y1-=ue,xe=me-2;xe>=0;--xe)(ue=(oe=re[xe]).y1+O-Me)>0&&(oe.y0-=ue,oe.y1-=ue),Me=oe.y0})}}(G),j(G),G}function j(G){G.nodes.forEach(function(te){te.sourceLinks.sort(r),te.targetLinks.sort(i)}),G.nodes.forEach(function(te){var J=te.y0,X=J;te.sourceLinks.forEach(function(Y){Y.y0=J+Y.width/2,J+=Y.width}),te.targetLinks.forEach(function(Y){Y.y1=X+Y.width/2,X+=Y.width})})}return F.update=function(G){return j(G),G},F.nodeId=function(G){return arguments.length?(R="function"==typeof G?G:t(G),F):R},F.nodeAlign=function(G){return arguments.length?(q="function"==typeof G?G:t(G),F):q},F.nodeWidth=function(G){return arguments.length?(C=+G,F):C},F.nodePadding=function(G){return arguments.length?(O=+G,F):O},F.nodes=function(G){return arguments.length?(P="function"==typeof G?G:t(G),F):P},F.links=function(G){return arguments.length?(U="function"==typeof G?G:t(G),F):U},F.size=function(G){return arguments.length?(S=w=0,E=+G[0],L=+G[1],F):[E-S,L-w]},F.extent=function(G){return arguments.length?(S=+G[0][0],E=+G[1][0],w=+G[0][1],L=+G[1][1],F):[[S,w],[E,L]]},F.iterations=function(G){return arguments.length?(N=+G,F):N},F}var v=e(45879);function m(S){return[S.source.x1,S.y0]}function _(S){return[S.target.x0,S.y1]}function f(){return(0,v.h5)().source(m).target(_)}},39898:function(ee,D,e){var A,k;(function(){var l={version:"3.8.0"},T=[].slice,b=function(B){return T.call(B)},d=self.document;function a(B){return B&&(B.ownerDocument||B.document||B).documentElement}function t(B){return B&&(B.ownerDocument&&B.ownerDocument.defaultView||B.document&&B||B.defaultView)}if(d)try{b(d.documentElement.childNodes)}catch{b=function(Q){for(var ie=Q.length,de=new Array(ie);ie--;)de[ie]=Q[ie];return de}}if(Date.now||(Date.now=function(){return+new Date}),d)try{d.createElement("DIV").style.setProperty("opacity",0,"")}catch{var i=this.Element.prototype,r=i.setAttribute,n=i.setAttributeNS,o=this.CSSStyleDeclaration.prototype,s=o.setProperty;i.setAttribute=function(Q,ie){r.call(this,Q,ie+"")},i.setAttributeNS=function(Q,ie,de){n.call(this,Q,ie,de+"")},o.setProperty=function(Q,ie,de){s.call(this,Q,ie+"",de)}}function u(B,Q){return B<Q?-1:B>Q?1:B>=Q?0:NaN}function p(B){return null===B?NaN:+B}function c(B){return!isNaN(B)}function x(B){return{left:function(Q,ie,de,ye){for(arguments.length<3&&(de=0),arguments.length<4&&(ye=Q.length);de<ye;){var Le=de+ye>>>1;B(Q[Le],ie)<0?de=Le+1:ye=Le}return de},right:function(Q,ie,de,ye){for(arguments.length<3&&(de=0),arguments.length<4&&(ye=Q.length);de<ye;){var Le=de+ye>>>1;B(Q[Le],ie)>0?ye=Le:de=Le+1}return de}}}l.ascending=u,l.descending=function(B,Q){return Q<B?-1:Q>B?1:Q>=B?0:NaN},l.min=function(B,Q){var ie,de,ye=-1,Le=B.length;if(1===arguments.length){for(;++ye<Le;)if(null!=(de=B[ye])&&de>=de){ie=de;break}for(;++ye<Le;)null!=(de=B[ye])&&ie>de&&(ie=de)}else{for(;++ye<Le;)if(null!=(de=Q.call(B,B[ye],ye))&&de>=de){ie=de;break}for(;++ye<Le;)null!=(de=Q.call(B,B[ye],ye))&&ie>de&&(ie=de)}return ie},l.max=function(B,Q){var ie,de,ye=-1,Le=B.length;if(1===arguments.length){for(;++ye<Le;)if(null!=(de=B[ye])&&de>=de){ie=de;break}for(;++ye<Le;)null!=(de=B[ye])&&de>ie&&(ie=de)}else{for(;++ye<Le;)if(null!=(de=Q.call(B,B[ye],ye))&&de>=de){ie=de;break}for(;++ye<Le;)null!=(de=Q.call(B,B[ye],ye))&&de>ie&&(ie=de)}return ie},l.extent=function(B,Q){var ie,de,ye,Le=-1,Ne=B.length;if(1===arguments.length){for(;++Le<Ne;)if(null!=(de=B[Le])&&de>=de){ie=ye=de;break}for(;++Le<Ne;)null!=(de=B[Le])&&(ie>de&&(ie=de),ye<de&&(ye=de))}else{for(;++Le<Ne;)if(null!=(de=Q.call(B,B[Le],Le))&&de>=de){ie=ye=de;break}for(;++Le<Ne;)null!=(de=Q.call(B,B[Le],Le))&&(ie>de&&(ie=de),ye<de&&(ye=de))}return[ie,ye]},l.sum=function(B,Q){var ie,de=0,ye=B.length,Le=-1;if(1===arguments.length)for(;++Le<ye;)c(ie=+B[Le])&&(de+=ie);else for(;++Le<ye;)c(ie=+Q.call(B,B[Le],Le))&&(de+=ie);return de},l.mean=function(B,Q){var ie,de=0,ye=B.length,Le=-1,Ne=ye;if(1===arguments.length)for(;++Le<ye;)c(ie=p(B[Le]))?de+=ie:--Ne;else for(;++Le<ye;)c(ie=p(Q.call(B,B[Le],Le)))?de+=ie:--Ne;if(Ne)return de/Ne},l.quantile=function(B,Q){var ie=(B.length-1)*Q+1,de=Math.floor(ie),ye=+B[de-1],Le=ie-de;return Le?ye+Le*(B[de]-ye):ye},l.median=function(B,Q){var ie,de=[],ye=B.length,Le=-1;if(1===arguments.length)for(;++Le<ye;)c(ie=p(B[Le]))&&de.push(ie);else for(;++Le<ye;)c(ie=p(Q.call(B,B[Le],Le)))&&de.push(ie);if(de.length)return l.quantile(de.sort(u),.5)},l.variance=function(B,Q){var ie,de,ye=B.length,Le=0,Ne=0,Ve=-1,Ge=0;if(1===arguments.length)for(;++Ve<ye;)c(ie=p(B[Ve]))&&(Ne+=(de=ie-Le)*(ie-(Le+=de/++Ge)));else for(;++Ve<ye;)c(ie=p(Q.call(B,B[Ve],Ve)))&&(Ne+=(de=ie-Le)*(ie-(Le+=de/++Ge)));if(Ge>1)return Ne/(Ge-1)},l.deviation=function(){var B=l.variance.apply(this,arguments);return B&&Math.sqrt(B)};var g=x(u);function h(B){return B.length}l.bisectLeft=g.left,l.bisect=l.bisectRight=g.right,l.bisector=function(B){return x(1===B.length?function(Q,ie){return u(B(Q),ie)}:B)},l.shuffle=function(B,Q,ie){(Le=arguments.length)<3&&(ie=B.length,Le<2&&(Q=0));for(var de,ye,Le=ie-Q;Le;)ye=Math.random()*Le--|0,de=B[Le+Q],B[Le+Q]=B[ye+Q],B[ye+Q]=de;return B},l.permute=function(B,Q){for(var ie=Q.length,de=new Array(ie);ie--;)de[ie]=B[Q[ie]];return de},l.pairs=function(B){for(var Q=0,ie=B.length-1,de=B[0],ye=new Array(ie<0?0:ie);Q<ie;)ye[Q]=[de,de=B[++Q]];return ye},l.transpose=function(B){if(!(ye=B.length))return[];for(var Q=-1,ie=l.min(B,h),de=new Array(ie);++Q<ie;)for(var ye,Le=-1,Ne=de[Q]=new Array(ye);++Le<ye;)Ne[Le]=B[Le][Q];return de},l.zip=function(){return l.transpose(arguments)},l.keys=function(B){var Q=[];for(var ie in B)Q.push(ie);return Q},l.values=function(B){var Q=[];for(var ie in B)Q.push(B[ie]);return Q},l.entries=function(B){var Q=[];for(var ie in B)Q.push({key:ie,value:B[ie]});return Q},l.merge=function(B){for(var Q,ie,de,ye=B.length,Le=-1,Ne=0;++Le<ye;)Ne+=B[Le].length;for(ie=new Array(Ne);--ye>=0;)for(Q=(de=B[ye]).length;--Q>=0;)ie[--Ne]=de[Q];return ie};var y=Math.abs;function v(B,Q){for(var ie in Q)Object.defineProperty(B.prototype,ie,{value:Q[ie],enumerable:!1})}function m(){this._=Object.create(null)}l.range=function(B,Q,ie){if(arguments.length<3&&(ie=1,arguments.length<2&&(Q=B,B=0)),(Q-B)/ie==1/0)throw new Error("infinite range");var de,ye=[],Le=function(Ve){for(var Ge=1;Ve*Ge%1;)Ge*=10;return Ge}(y(ie)),Ne=-1;if(B*=Le,Q*=Le,(ie*=Le)<0)for(;(de=B+ie*++Ne)>Q;)ye.push(de/Le);else for(;(de=B+ie*++Ne)<Q;)ye.push(de/Le);return ye},l.map=function(B,Q){var ie=new m;if(B instanceof m)B.forEach(function(Ve,Ge){ie.set(Ve,Ge)});else if(Array.isArray(B)){var de,ye=-1,Le=B.length;if(1===arguments.length)for(;++ye<Le;)ie.set(ye,B[ye]);else for(;++ye<Le;)ie.set(Q.call(B,de=B[ye],ye),de)}else for(var Ne in B)ie.set(Ne,B[Ne]);return ie};var _="__proto__",f="\0";function S(B){return(B+="")===_||B[0]===f?f+B:B}function w(B){return(B+="")[0]===f?B.slice(1):B}function E(B){return S(B)in this._}function L(B){return(B=S(B))in this._&&delete this._[B]}function C(){var B=[];for(var Q in this._)B.push(w(Q));return B}function O(){var B=0;for(var Q in this._)++B;return B}function R(){for(var B in this._)return!1;return!0}function q(){this._=Object.create(null)}function P(B){return B}function U(B,Q,ie){return function(){var de=ie.apply(Q,arguments);return de===Q?B:de}}function N(B,Q){if(Q in B)return Q;Q=Q.charAt(0).toUpperCase()+Q.slice(1);for(var ie=0,de=F.length;ie<de;++ie){var ye=F[ie]+Q;if(ye in B)return ye}}v(m,{has:E,get:function(B){return this._[S(B)]},set:function(B,Q){return this._[S(B)]=Q},remove:L,keys:C,values:function(){var B=[];for(var Q in this._)B.push(this._[Q]);return B},entries:function(){var B=[];for(var Q in this._)B.push({key:w(Q),value:this._[Q]});return B},size:O,empty:R,forEach:function(B){for(var Q in this._)B.call(this,w(Q),this._[Q])}}),l.nest=function(){var B,Q,ie={},de=[],ye=[];function Le(Ve,Ge,Ye){if(Ye>=de.length)return Q?Q.call(ie,Ge):B?Ge.sort(B):Ge;for(var $e,lt,ht,Et,Ct=-1,St=Ge.length,zt=de[Ye++],Lt=new m;++Ct<St;)(Et=Lt.get($e=zt(lt=Ge[Ct])))?Et.push(lt):Lt.set($e,[lt]);return Ve?(lt=Ve(),ht=function(en,Zt){lt.set(en,Le(Ve,Zt,Ye))}):(lt={},ht=function(en,Zt){lt[en]=Le(Ve,Zt,Ye)}),Lt.forEach(ht),lt}function Ne(Ve,Ge){if(Ge>=de.length)return Ve;var Ye=[],$e=ye[Ge++];return Ve.forEach(function(lt,ht){Ye.push({key:lt,values:Ne(ht,Ge)})}),$e?Ye.sort(function(lt,ht){return $e(lt.key,ht.key)}):Ye}return ie.map=function(Ve,Ge){return Le(Ge,Ve,0)},ie.entries=function(Ve){return Ne(Le(l.map,Ve,0),0)},ie.key=function(Ve){return de.push(Ve),ie},ie.sortKeys=function(Ve){return ye[de.length-1]=Ve,ie},ie.sortValues=function(Ve){return B=Ve,ie},ie.rollup=function(Ve){return Q=Ve,ie},ie},l.set=function(B){var Q=new q;if(B)for(var ie=0,de=B.length;ie<de;++ie)Q.add(B[ie]);return Q},v(q,{has:E,add:function(B){return this._[S(B+="")]=!0,B},remove:L,values:C,size:O,empty:R,forEach:function(B){for(var Q in this._)B.call(this,w(Q))}}),l.behavior={},l.rebind=function(B,Q){for(var ie,de=1,ye=arguments.length;++de<ye;)B[ie=arguments[de]]=U(B,Q,Q[ie]);return B};var F=["webkit","ms","moz","Moz","o","O"];function j(){}function G(){}function te(B){var Q=[],ie=new m;function de(){for(var ye,Le=Q,Ne=-1,Ve=Le.length;++Ne<Ve;)(ye=Le[Ne].on)&&ye.apply(this,arguments);return B}return de.on=function(ye,Le){var Ne,Ve=ie.get(ye);return arguments.length<2?Ve&&Ve.on:(Ve&&(Ve.on=null,Q=Q.slice(0,Ne=Q.indexOf(Ve)).concat(Q.slice(Ne+1)),ie.remove(ye)),Le&&Q.push(ie.set(ye,{on:Le})),B)},de}function J(){l.event.preventDefault()}function X(){for(var B,Q=l.event;B=Q.sourceEvent;)Q=B;return Q}function Y(B){for(var Q=new G,ie=0,de=arguments.length;++ie<de;)Q[arguments[ie]]=te(Q);return Q.of=function(ye,Le){return function(Ne){try{var Ve=Ne.sourceEvent=l.event;Ne.target=B,l.event=Ne,Q[Ne.type].apply(ye,Le)}finally{l.event=Ve}}},Q}l.dispatch=function(){for(var B=new G,Q=-1,ie=arguments.length;++Q<ie;)B[arguments[Q]]=te(B);return B},G.prototype.on=function(B,Q){var ie=B.indexOf("."),de="";if(ie>=0&&(de=B.slice(ie+1),B=B.slice(0,ie)),B)return arguments.length<2?this[B].on(de):this[B].on(de,Q);if(2===arguments.length){if(null==Q)for(B in this)this.hasOwnProperty(B)&&this[B].on(de,null);return this}},l.event=null,l.requote=function(B){return B.replace(W,"\\$&")};var W=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(B,Q){B.__proto__=Q}:function(B,Q){for(var ie in Q)B[ie]=Q[ie]};function ne(B){return $(B,xe),B}var re=function(B,Q){return Q.querySelector(B)},oe=function(B,Q){return Q.querySelectorAll(B)},ue=function(B,Q){var ie=B.matches||B[N(B,"matchesSelector")];return(ue=function(de,ye){return ie.call(de,ye)})(B,Q)};"function"==typeof Sizzle&&(re=function(B,Q){return Sizzle(B,Q)[0]||null},oe=Sizzle,ue=Sizzle.matchesSelector),l.selection=function(){return l.select(d.documentElement)};var xe=l.selection.prototype=[];function Me(B){return"function"==typeof B?B:function(){return re(B,this)}}function me(B){return"function"==typeof B?B:function(){return oe(B,this)}}xe.select=function(B){var Q,ie,de,ye,Le=[];B=Me(B);for(var Ne=-1,Ve=this.length;++Ne<Ve;){Le.push(Q=[]),Q.parentNode=(de=this[Ne]).parentNode;for(var Ge=-1,Ye=de.length;++Ge<Ye;)(ye=de[Ge])?(Q.push(ie=B.call(ye,ye.__data__,Ge,Ne)),ie&&"__data__"in ye&&(ie.__data__=ye.__data__)):Q.push(null)}return ne(Le)},xe.selectAll=function(B){var Q,ie,de=[];B=me(B);for(var ye=-1,Le=this.length;++ye<Le;)for(var Ne=this[ye],Ve=-1,Ge=Ne.length;++Ve<Ge;)(ie=Ne[Ve])&&(de.push(Q=b(B.call(ie,ie.__data__,Ve,ye))),Q.parentNode=ie);return ne(de)};var pe="http://www.w3.org/1999/xhtml",ge={svg:"http://www.w3.org/2000/svg",xhtml:pe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Pe(B,Q){return B=l.ns.qualify(B),null==Q?B.local?function(){this.removeAttributeNS(B.space,B.local)}:function(){this.removeAttribute(B)}:"function"==typeof Q?B.local?function(){var ie=Q.apply(this,arguments);null==ie?this.removeAttributeNS(B.space,B.local):this.setAttributeNS(B.space,B.local,ie)}:function(){var ie=Q.apply(this,arguments);null==ie?this.removeAttribute(B):this.setAttribute(B,ie)}:B.local?function(){this.setAttributeNS(B.space,B.local,Q)}:function(){this.setAttribute(B,Q)}}function _e(B){return B.trim().replace(/\s+/g," ")}function we(B){return new RegExp("(?:^|\\s+)"+l.requote(B)+"(?:\\s+|$)","g")}function se(B){return(B+"").trim().split(/^|\s+/)}function ae(B,Q){var ie=(B=se(B).map(fe)).length;return"function"==typeof Q?function(){for(var de=-1,ye=Q.apply(this,arguments);++de<ie;)B[de](this,ye)}:function(){for(var de=-1;++de<ie;)B[de](this,Q)}}function fe(B){var Q=we(B);return function(ie,de){if(ye=ie.classList)return de?ye.add(B):ye.remove(B);var ye=ie.getAttribute("class")||"";de?(Q.lastIndex=0,Q.test(ye)||ie.setAttribute("class",_e(ye+" "+B))):ie.setAttribute("class",_e(ye.replace(Q," ")))}}function Ee(B,Q,ie){return null==Q?function(){this.style.removeProperty(B)}:"function"==typeof Q?function(){var de=Q.apply(this,arguments);null==de?this.style.removeProperty(B):this.style.setProperty(B,de,ie)}:function(){this.style.setProperty(B,Q,ie)}}function ke(B,Q){return null==Q?function(){delete this[B]}:"function"==typeof Q?function(){var ie=Q.apply(this,arguments);null==ie?delete this[B]:this[B]=ie}:function(){this[B]=Q}}function be(B){return"function"==typeof B?B:(B=l.ns.qualify(B)).local?function(){return this.ownerDocument.createElementNS(B.space,B.local)}:function(){var Q=this.ownerDocument,ie=this.namespaceURI;return ie===pe&&Q.documentElement.namespaceURI===pe?Q.createElement(B):Q.createElementNS(ie,B)}}function Ie(){var B=this.parentNode;B&&B.removeChild(this)}function Fe(B){return{__data__:B}}function ce(B){return function(){return ue(this,B)}}function Te(B){return arguments.length||(B=u),function(Q,ie){return Q&&ie?B(Q.__data__,ie.__data__):!Q-!ie}}function ve(B,Q){for(var ie=0,de=B.length;ie<de;ie++)for(var ye,Le=B[ie],Ne=0,Ve=Le.length;Ne<Ve;Ne++)(ye=Le[Ne])&&Q(ye,Ne,ie);return B}function Ce(B){return $(B,Re),B}l.ns={prefix:ge,qualify:function(B){var Q=B.indexOf(":"),ie=B;return Q>=0&&"xmlns"!==(ie=B.slice(0,Q))&&(B=B.slice(Q+1)),ge.hasOwnProperty(ie)?{space:ge[ie],local:B}:B}},xe.attr=function(B,Q){if(arguments.length<2){if("string"==typeof B){var ie=this.node();return(B=l.ns.qualify(B)).local?ie.getAttributeNS(B.space,B.local):ie.getAttribute(B)}for(Q in B)this.each(Pe(Q,B[Q]));return this}return this.each(Pe(B,Q))},xe.classed=function(B,Q){if(arguments.length<2){if("string"==typeof B){var ie=this.node(),de=(B=se(B)).length,ye=-1;if(Q=ie.classList){for(;++ye<de;)if(!Q.contains(B[ye]))return!1}else for(Q=ie.getAttribute("class");++ye<de;)if(!we(B[ye]).test(Q))return!1;return!0}for(Q in B)this.each(ae(Q,B[Q]));return this}return this.each(ae(B,Q))},xe.style=function(B,Q,ie){var de=arguments.length;if(de<3){if("string"!=typeof B){for(ie in de<2&&(Q=""),B)this.each(Ee(ie,B[ie],Q));return this}if(de<2){var ye=this.node();return t(ye).getComputedStyle(ye,null).getPropertyValue(B)}ie=""}return this.each(Ee(B,Q,ie))},xe.property=function(B,Q){if(arguments.length<2){if("string"==typeof B)return this.node()[B];for(Q in B)this.each(ke(Q,B[Q]));return this}return this.each(ke(B,Q))},xe.text=function(B){return arguments.length?this.each("function"==typeof B?function(){var Q=B.apply(this,arguments);this.textContent=Q??""}:null==B?function(){this.textContent=""}:function(){this.textContent=B}):this.node().textContent},xe.html=function(B){return arguments.length?this.each("function"==typeof B?function(){var Q=B.apply(this,arguments);this.innerHTML=Q??""}:null==B?function(){this.innerHTML=""}:function(){this.innerHTML=B}):this.node().innerHTML},xe.append=function(B){return B=be(B),this.select(function(){return this.appendChild(B.apply(this,arguments))})},xe.insert=function(B,Q){return B=be(B),Q=Me(Q),this.select(function(){return this.insertBefore(B.apply(this,arguments),Q.apply(this,arguments)||null)})},xe.remove=function(){return this.each(Ie)},xe.data=function(B,Q){var ie,de,ye=-1,Le=this.length;if(!arguments.length){for(B=new Array(Le=(ie=this[0]).length);++ye<Le;)(de=ie[ye])&&(B[ye]=de.__data__);return B}function Ne($e,lt){var ht,Et,Ct,St=$e.length,zt=lt.length,Lt=Math.min(St,zt),en=new Array(zt),Zt=new Array(zt),Ht=new Array(St);if(Q){var pn,vn=new m,Rn=new Array(St);for(ht=-1;++ht<St;)(Et=$e[ht])&&(vn.has(pn=Q.call(Et,Et.__data__,ht))?Ht[ht]=Et:vn.set(pn,Et),Rn[ht]=pn);for(ht=-1;++ht<zt;)(Et=vn.get(pn=Q.call(lt,Ct=lt[ht],ht)))?!0!==Et&&(en[ht]=Et,Et.__data__=Ct):Zt[ht]=Fe(Ct),vn.set(pn,!0);for(ht=-1;++ht<St;)ht in Rn&&!0!==vn.get(Rn[ht])&&(Ht[ht]=$e[ht])}else{for(ht=-1;++ht<Lt;)Ct=lt[ht],(Et=$e[ht])?(Et.__data__=Ct,en[ht]=Et):Zt[ht]=Fe(Ct);for(;ht<zt;++ht)Zt[ht]=Fe(lt[ht]);for(;ht<St;++ht)Ht[ht]=$e[ht]}Zt.update=en,Zt.parentNode=en.parentNode=Ht.parentNode=$e.parentNode,Ve.push(Zt),Ge.push(en),Ye.push(Ht)}var Ve=Ce([]),Ge=ne([]),Ye=ne([]);if("function"==typeof B)for(;++ye<Le;)Ne(ie=this[ye],B.call(ie,ie.parentNode.__data__,ye));else for(;++ye<Le;)Ne(ie=this[ye],B);return Ge.enter=function(){return Ve},Ge.exit=function(){return Ye},Ge},xe.datum=function(B){return arguments.length?this.property("__data__",B):this.property("__data__")},xe.filter=function(B){var Q,ie,de,ye=[];"function"!=typeof B&&(B=ce(B));for(var Le=0,Ne=this.length;Le<Ne;Le++){ye.push(Q=[]),Q.parentNode=(ie=this[Le]).parentNode;for(var Ve=0,Ge=ie.length;Ve<Ge;Ve++)(de=ie[Ve])&&B.call(de,de.__data__,Ve,Le)&&Q.push(de)}return ne(ye)},xe.order=function(){for(var B=-1,Q=this.length;++B<Q;)for(var ie,de=this[B],ye=de.length-1,Le=de[ye];--ye>=0;)(ie=de[ye])&&(Le&&Le!==ie.nextSibling&&Le.parentNode.insertBefore(ie,Le),Le=ie);return this},xe.sort=function(B){B=Te.apply(this,arguments);for(var Q=-1,ie=this.length;++Q<ie;)this[Q].sort(B);return this.order()},xe.each=function(B){return ve(this,function(Q,ie,de){B.call(Q,Q.__data__,ie,de)})},xe.call=function(B){var Q=b(arguments);return B.apply(Q[0]=this,Q),this},xe.empty=function(){return!this.node()},xe.node=function(){for(var B=0,Q=this.length;B<Q;B++)for(var ie=this[B],de=0,ye=ie.length;de<ye;de++){var Le=ie[de];if(Le)return Le}return null},xe.size=function(){var B=0;return ve(this,function(){++B}),B};var Re=[];function Oe(B,Q,ie){var de="__on"+B,ye=B.indexOf("."),Le=qe;ye>0&&(B=B.slice(0,ye));var Ne=je.get(B);function Ve(){var Ge=this[de];Ge&&(this.removeEventListener(B,Ge,Ge.$),delete this[de])}return Ne&&(B=Ne,Le=Je),ye?Q?function(){var Ge=Le(Q,b(arguments));Ve.call(this),this.addEventListener(B,this[de]=Ge,Ge.$=ie),Ge._=Q}:Ve:Q?j:function(){var Ge,Ye=new RegExp("^__on([^.]+)"+l.requote(B)+"$");for(var $e in this)if(Ge=$e.match(Ye)){var lt=this[$e];this.removeEventListener(Ge[1],lt,lt.$),delete this[$e]}}}l.selection.enter=Ce,l.selection.enter.prototype=Re,Re.append=xe.append,Re.empty=xe.empty,Re.node=xe.node,Re.call=xe.call,Re.size=xe.size,Re.select=function(B){for(var Q,ie,de,ye,Le,Ne=[],Ve=-1,Ge=this.length;++Ve<Ge;){de=(ye=this[Ve]).update,Ne.push(Q=[]),Q.parentNode=ye.parentNode;for(var Ye=-1,$e=ye.length;++Ye<$e;)(Le=ye[Ye])?(Q.push(de[Ye]=ie=B.call(ye.parentNode,Le.__data__,Ye,Ve)),ie.__data__=Le.__data__):Q.push(null)}return ne(Ne)},Re.insert=function(B,Q){var ie,de,ye;return arguments.length<2&&(ie=this,Q=function(Le,Ne,Ve){var Ge,Ye=ie[Ve].update,$e=Ye.length;for(Ve!=ye&&(ye=Ve,de=0),Ne>=de&&(de=Ne+1);!(Ge=Ye[de])&&++de<$e;);return Ge}),xe.insert.call(this,B,Q)},l.select=function(B){var Q;return"string"==typeof B?(Q=[re(B,d)]).parentNode=d.documentElement:(Q=[B]).parentNode=a(B),ne([Q])},l.selectAll=function(B){var Q;return"string"==typeof B?(Q=b(oe(B,d))).parentNode=d.documentElement:(Q=b(B)).parentNode=null,ne([Q])},xe.on=function(B,Q,ie){var de=arguments.length;if(de<3){if("string"!=typeof B){for(ie in de<2&&(Q=!1),B)this.each(Oe(ie,B[ie],Q));return this}if(de<2)return(de=this.node()["__on"+B])&&de._;ie=!1}return this.each(Oe(B,Q,ie))};var je=l.map({mouseenter:"mouseover",mouseleave:"mouseout"});function qe(B,Q){return function(ie){var de=l.event;l.event=ie,Q[0]=this.__data__;try{B.apply(this,Q)}finally{l.event=de}}}function Je(B,Q){var ie=qe(B,Q);return function(de){var Le=de.relatedTarget;Le&&(Le===this||8&Le.compareDocumentPosition(this))||ie.call(this,de)}}d&&je.forEach(function(B){"on"+B in d&&je.remove(B)});var it,Qe=0;function dt(B){var Q=".dragsuppress-"+ ++Qe,ie="click"+Q,de=l.select(t(B)).on("touchmove"+Q,J).on("dragstart"+Q,J).on("selectstart"+Q,J);if(null==it&&(it=!("onselectstart"in B)&&N(B.style,"userSelect")),it){var ye=a(B).style,Le=ye[it];ye[it]="none"}return function(Ne){if(de.on(Q,null),it&&(ye[it]=Le),Ne){var Ve=function(){de.on(ie,null)};de.on(ie,function(){J(),Ve()},!0),setTimeout(Ve,0)}}}l.mouse=function(B){return mt(B,X())};var yt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function mt(B,Q){Q.changedTouches&&(Q=Q.changedTouches[0]);var ie=B.ownerSVGElement||B;if(ie.createSVGPoint){var de=ie.createSVGPoint();if(yt<0){var ye=t(B);if(ye.scrollX||ye.scrollY){var Le=(ie=l.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();yt=!(Le.f||Le.e),ie.remove()}}return yt?(de.x=Q.pageX,de.y=Q.pageY):(de.x=Q.clientX,de.y=Q.clientY),[(de=de.matrixTransform(B.getScreenCTM().inverse())).x,de.y]}var Ne=B.getBoundingClientRect();return[Q.clientX-Ne.left-B.clientLeft,Q.clientY-Ne.top-B.clientTop]}function at(){return l.event.changedTouches[0].identifier}l.touch=function(B,Q,ie){if(arguments.length<3&&(ie=Q,Q=X().changedTouches),Q)for(var de,ye=0,Le=Q.length;ye<Le;++ye)if((de=Q[ye]).identifier===ie)return mt(B,de)},l.behavior.drag=function(){var B=Y(ye,"drag","dragstart","dragend"),Q=null,ie=Le(j,l.mouse,t,"mousemove","mouseup"),de=Le(at,l.touch,P,"touchmove","touchend");function ye(){this.on("mousedown.drag",ie).on("touchstart.drag",de)}function Le(Ne,Ve,Ge,Ye,$e){return function(){var lt,Et=l.event.target.correspondingElement||l.event.target,Ct=this.parentNode,St=B.of(this,arguments),zt=0,Lt=Ne(),en=".drag"+(null==Lt?"":"-"+Lt),Zt=l.select(Ge(Et)).on(Ye+en,function(){var vn,Rn,zn=Ve(Ct,Lt);zn&&(zt|=(vn=zn[0]-pn[0])|(Rn=zn[1]-pn[1]),pn=zn,St({type:"drag",x:zn[0]+lt[0],y:zn[1]+lt[1],dx:vn,dy:Rn}))}).on($e+en,function(){Ve(Ct,Lt)&&(Zt.on(Ye+en,null).on($e+en,null),Ht(zt),St({type:"dragend"}))}),Ht=dt(Et),pn=Ve(Ct,Lt);lt=Q?[(lt=Q.apply(this,arguments)).x-pn[0],lt.y-pn[1]]:[0,0],St({type:"dragstart"})}}return ye.origin=function(Ne){return arguments.length?(Q=Ne,ye):Q},l.rebind(ye,B,"on")},l.touches=function(B,Q){return arguments.length<2&&(Q=X().touches),Q?b(Q).map(function(ie){var de=mt(B,ie);return de.identifier=ie.identifier,de}):[]};var st=1e-6,Tt=st*st,At=Math.PI,Pt=2*At,kt=Pt-st,Ze=At/2,Xe=At/180,He=180/At;function We(B){return B>1?Ze:B<-1?-Ze:Math.asin(B)}function rt(B){return((B=Math.exp(B))+1/B)/2}var nt=Math.SQRT2;l.interpolateZoom=function(B,Q){var ie,de,ye=B[0],Le=B[1],Ne=B[2],Ye=Q[2],$e=Q[0]-ye,lt=Q[1]-Le,ht=$e*$e+lt*lt;if(ht<Tt)de=Math.log(Ye/Ne)/nt,ie=function(en){return[ye+en*$e,Le+en*lt,Ne*Math.exp(nt*en*de)]};else{var Et=Math.sqrt(ht),Ct=(Ye*Ye-Ne*Ne+4*ht)/(2*Ne*2*Et),St=(Ye*Ye-Ne*Ne-4*ht)/(2*Ye*2*Et),zt=Math.log(Math.sqrt(Ct*Ct+1)-Ct),Lt=Math.log(Math.sqrt(St*St+1)-St);de=(Lt-zt)/nt,ie=function(en){var Zt,Rn,Ht=en*de,pn=rt(zt),vn=Ne/(2*Et)*(pn*(Zt=nt*Ht+zt,((Zt=Math.exp(2*Zt))-1)/(Zt+1))-(Rn=zt,((Rn=Math.exp(Rn))-1/Rn)/2));return[ye+vn*$e,Le+vn*lt,Ne*pn/rt(nt*Ht+zt)]}}return ie.duration=1e3*de,ie},l.behavior.zoom=function(){var B,Q,ie,de,ye,Le,Ne,Ve,Ge,Ye={x:0,y:0,k:1},$e=[960,500],lt=tt,ht=250,Et=0,Ct="mousedown.zoom",St="mousemove.zoom",zt="mouseup.zoom",Lt="touchstart.zoom",en=Y(Zt,"zoomstart","zoom","zoomend");function Zt(Bn){Bn.on(Ct,ar).on(Be+".zoom",yr).on("dblclick.zoom",Pr).on(Lt,cr)}function Ht(Bn){return[(Bn[0]-Ye.x)/Ye.k,(Bn[1]-Ye.y)/Ye.k]}function pn(Bn){Ye.k=Math.max(lt[0],Math.min(lt[1],Bn))}function vn(Bn,rr){var fr;Ye.x+=Bn[0]-(rr=[(fr=rr)[0]*Ye.k+Ye.x,fr[1]*Ye.k+Ye.y])[0],Ye.y+=Bn[1]-rr[1]}function Rn(Bn,rr,fr,xr){Bn.__chart__={x:Ye.x,y:Ye.y,k:Ye.k},pn(Math.pow(2,xr)),vn(Q=rr,fr),Bn=l.select(Bn),ht>0&&(Bn=Bn.transition().duration(ht)),Bn.call(Zt.event)}function zn(){Ne&&Ne.domain(Le.range().map(function(Bn){return(Bn-Ye.x)/Ye.k}).map(Le.invert)),Ge&&Ge.domain(Ve.range().map(function(Bn){return(Bn-Ye.y)/Ye.k}).map(Ve.invert))}function Un(Bn){Et++||Bn({type:"zoomstart"})}function Yn(Bn){zn(),Bn({type:"zoom",scale:Ye.k,translate:[Ye.x,Ye.y]})}function or(Bn){--Et||(Bn({type:"zoomend"}),Q=null)}function ar(){var Bn=this,rr=en.of(Bn,arguments),fr=0,xr=l.select(t(Bn)).on(St,function(){fr=1,vn(l.mouse(Bn),Er),Yn(rr)}).on(zt,function(){xr.on(St,null).on(zt,null),Rr(fr),or(rr)}),Er=Ht(l.mouse(Bn)),Rr=dt(Bn);Ji.call(Bn),Un(rr)}function cr(){var Bn,rr=this,fr=en.of(rr,arguments),xr={},Er=0,Rr=".zoom-"+l.event.changedTouches[0].identifier,jr="touchmove"+Rr,Wr="touchend"+Rr,li=[],ui=l.select(rr),Xr=dt(rr);function ki(){var Hr=l.touches(rr);return Bn=Ye.k,Hr.forEach(function(Nr){Nr.identifier in xr&&(xr[Nr.identifier]=Ht(Nr))}),Hr}function qi(){var Hr=l.event.target;l.select(Hr).on(jr,Pi).on(Wr,Bi),li.push(Hr);for(var Nr=l.event.changedTouches,ci=0,ri=Nr.length;ci<ri;++ci)xr[Nr[ci].identifier]=null;var pi=ki(),ua=Date.now();if(1===pi.length){if(ua-ye<500){var xi=pi[0];Rn(rr,xi,xr[xi.identifier],Math.floor(Math.log(Ye.k)/Math.LN2)+1),J()}ye=ua}else if(pi.length>1){var Jr=pi[1],ts=(xi=pi[0])[0]-Jr[0],ma=xi[1]-Jr[1];Er=ts*ts+ma*ma}}function Pi(){var Hr,Nr,ci,ri,pi=l.touches(rr);Ji.call(rr);for(var ua=0,xi=pi.length;ua<xi;++ua,ri=null)if(ri=xr[(ci=pi[ua]).identifier]){if(Nr)break;Hr=ci,Nr=ri}if(ri){var Jr=(Jr=ci[0]-Hr[0])*Jr+(Jr=ci[1]-Hr[1])*Jr,ts=Er&&Math.sqrt(Jr/Er);Hr=[(Hr[0]+ci[0])/2,(Hr[1]+ci[1])/2],Nr=[(Nr[0]+ri[0])/2,(Nr[1]+ri[1])/2],pn(ts*Bn)}ye=null,vn(Hr,Nr),Yn(fr)}function Bi(){if(l.event.touches.length){for(var Hr=l.event.changedTouches,Nr=0,ci=Hr.length;Nr<ci;++Nr)delete xr[Hr[Nr].identifier];for(var ri in xr)return void ki()}l.selectAll(li).on(Rr,null),ui.on(Ct,ar).on(Lt,cr),Xr(),or(fr)}qi(),Un(fr),ui.on(Ct,null).on(Lt,qi)}function yr(){var Bn=en.of(this,arguments);de?clearTimeout(de):(Ji.call(this),B=Ht(Q=ie||l.mouse(this)),Un(Bn)),de=setTimeout(function(){de=null,or(Bn)},50),J(),pn(Math.pow(2,.002*ze())*Ye.k),vn(Q,B),Yn(Bn)}function Pr(){var Bn=l.mouse(this),rr=Math.log(Ye.k)/Math.LN2;Rn(this,Bn,Ht(Bn),l.event.shiftKey?Math.ceil(rr)-1:Math.floor(rr)+1)}return Be||(Be="onwheel"in d?(ze=function(){return-l.event.deltaY*(l.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d?(ze=function(){return l.event.wheelDelta},"mousewheel"):(ze=function(){return-l.event.detail},"MozMousePixelScroll")),Zt.event=function(Bn){Bn.each(function(){var rr=en.of(this,arguments),fr=Ye;Io?l.select(this).transition().each("start.zoom",function(){Ye=this.__chart__||{x:0,y:0,k:1},Un(rr)}).tween("zoom:zoom",function(){var xr=$e[0],Rr=Q?Q[0]:xr/2,jr=Q?Q[1]:$e[1]/2,Wr=l.interpolateZoom([(Rr-Ye.x)/Ye.k,(jr-Ye.y)/Ye.k,xr/Ye.k],[(Rr-fr.x)/fr.k,(jr-fr.y)/fr.k,xr/fr.k]);return function(li){var ui=Wr(li),Xr=xr/ui[2];this.__chart__=Ye={x:Rr-ui[0]*Xr,y:jr-ui[1]*Xr,k:Xr},Yn(rr)}}).each("interrupt.zoom",function(){or(rr)}).each("end.zoom",function(){or(rr)}):(this.__chart__=Ye,Un(rr),Yn(rr),or(rr))})},Zt.translate=function(Bn){return arguments.length?(Ye={x:+Bn[0],y:+Bn[1],k:Ye.k},zn(),Zt):[Ye.x,Ye.y]},Zt.scale=function(Bn){return arguments.length?(Ye={x:Ye.x,y:Ye.y,k:null},pn(+Bn),zn(),Zt):Ye.k},Zt.scaleExtent=function(Bn){return arguments.length?(lt=null==Bn?tt:[+Bn[0],+Bn[1]],Zt):lt},Zt.center=function(Bn){return arguments.length?(ie=Bn&&[+Bn[0],+Bn[1]],Zt):ie},Zt.size=function(Bn){return arguments.length?($e=Bn&&[+Bn[0],+Bn[1]],Zt):$e},Zt.duration=function(Bn){return arguments.length?(ht=+Bn,Zt):ht},Zt.x=function(Bn){return arguments.length?(Ne=Bn,Le=Bn.copy(),Ye={x:0,y:0,k:1},Zt):Ne},Zt.y=function(Bn){return arguments.length?(Ge=Bn,Ve=Bn.copy(),Ye={x:0,y:0,k:1},Zt):Ge},l.rebind(Zt,en,"on")};var ze,Be,tt=[0,1/0];function et(){}function gt(B,Q,ie){return this instanceof gt?(this.h=+B,this.s=+Q,void(this.l=+ie)):arguments.length<2?B instanceof gt?new gt(B.h,B.s,B.l):rn(""+B,fn,gt):new gt(B,Q,ie)}l.color=et,et.prototype.toString=function(){return this.rgb()+""},l.hsl=gt;var pt=gt.prototype=new et;function vt(B,Q,ie){var de,ye;function Le(Ne){return Math.round(255*((Ve=Ne)>360?Ve-=360:Ve<0&&(Ve+=360),Ve<60?de+(ye-de)*Ve/60:Ve<180?ye:Ve<240?de+(ye-de)*(240-Ve)/60:de));var Ve}return B=isNaN(B)?0:(B%=360)<0?B+360:B,Q=isNaN(Q)||Q<0?0:Q>1?1:Q,de=2*(ie=ie<0?0:ie>1?1:ie)-(ye=ie<=.5?ie*(1+Q):ie+Q-ie*Q),new yn(Le(B+120),Le(B),Le(B-120))}function ut(B,Q,ie){return this instanceof ut?(this.h=+B,this.c=+Q,void(this.l=+ie)):arguments.length<2?B instanceof ut?new ut(B.h,B.c,B.l):(de=B instanceof ft?B.l:(B=gn((B=l.rgb(B)).r,B.g,B.b)).l,ye=B.a,Le=B.b,de>0?new ut(Math.atan2(Le,ye)*He,Math.sqrt(ye*ye+Le*Le),de):new ut(NaN,NaN,de)):new ut(B,Q,ie);var de,ye,Le}pt.brighter=function(B){return B=Math.pow(.7,arguments.length?B:1),new gt(this.h,this.s,this.l/B)},pt.darker=function(B){return B=Math.pow(.7,arguments.length?B:1),new gt(this.h,this.s,B*this.l)},pt.rgb=function(){return vt(this.h,this.s,this.l)},l.hcl=ut;var wt=ut.prototype=new et;function ct(B,Q,ie){return isNaN(B)&&(B=0),isNaN(Q)&&(Q=0),new ft(ie,Math.cos(B*=Xe)*Q,Math.sin(B)*Q)}function ft(B,Q,ie){return this instanceof ft?(this.l=+B,this.a=+Q,void(this.b=+ie)):arguments.length<2?B instanceof ft?new ft(B.l,B.a,B.b):B instanceof ut?ct(B.h,B.c,B.l):gn((B=yn(B)).r,B.g,B.b):new ft(B,Q,ie)}wt.brighter=function(B){return new ut(this.h,this.c,Math.min(100,this.l+bt*(arguments.length?B:1)))},wt.darker=function(B){return new ut(this.h,this.c,Math.max(0,this.l-bt*(arguments.length?B:1)))},wt.rgb=function(){return ct(this.h,this.c,this.l).rgb()},l.lab=ft;var bt=18,It=.95047,Dt=1,Nt=1.08883,$t=ft.prototype=new et;function jt(B,Q,ie){var de=(B+16)/116,ye=de+Q/500,Le=de-ie/200;return new yn(hn(3.2404542*(ye=Yt(ye)*It)-1.5371385*(de=Yt(de)*Dt)-.4985314*(Le=Yt(Le)*Nt)),hn(-.969266*ye+1.8760108*de+.041556*Le),hn(.0556434*ye-.2040259*de+1.0572252*Le))}function Yt(B){return B>.206893034?B*B*B:(B-.13793103448275862)/7.787037}function Gt(B){return B>.008856?Math.pow(B,.3333333333333333):7.787037*B+.13793103448275862}function hn(B){return Math.round(255*(B<=.00304?12.92*B:1.055*Math.pow(B,.4166666666666667)-.055))}function yn(B,Q,ie){return this instanceof yn?(this.r=~~B,this.g=~~Q,void(this.b=~~ie)):arguments.length<2?B instanceof yn?new yn(B.r,B.g,B.b):rn(""+B,yn,vt):new yn(B,Q,ie)}function on(B){return new yn(B>>16,B>>8&255,255&B)}function Ut(B){return on(B)+""}$t.brighter=function(B){return new ft(Math.min(100,this.l+bt*(arguments.length?B:1)),this.a,this.b)},$t.darker=function(B){return new ft(Math.max(0,this.l-bt*(arguments.length?B:1)),this.a,this.b)},$t.rgb=function(){return jt(this.l,this.a,this.b)},l.rgb=yn;var nn=yn.prototype=new et;function Xt(B){return B<16?"0"+Math.max(0,B).toString(16):Math.min(255,B).toString(16)}function rn(B,Q,ie){var de,ye,Le,Ne=0,Ve=0,Ge=0;if(de=/([a-z]+)\((.*)\)/.exec(B=B.toLowerCase()))switch(ye=de[2].split(","),de[1]){case"hsl":return ie(parseFloat(ye[0]),parseFloat(ye[1])/100,parseFloat(ye[2])/100);case"rgb":return Q(En(ye[0]),En(ye[1]),En(ye[2]))}return(Le=bn.get(B))?Q(Le.r,Le.g,Le.b):(null==B||"#"!==B.charAt(0)||isNaN(Le=parseInt(B.slice(1),16))||(4===B.length?(Ne=(3840&Le)>>4,Ne|=Ne>>4,Ve=240&Le,Ve|=Ve>>4,Ge=15&Le,Ge|=Ge<<4):7===B.length&&(Ne=(16711680&Le)>>16,Ve=(65280&Le)>>8,Ge=255&Le)),Q(Ne,Ve,Ge))}function fn(B,Q,ie){var de,ye,Le=Math.min(B/=255,Q/=255,ie/=255),Ne=Math.max(B,Q,ie),Ve=Ne-Le,Ge=(Ne+Le)/2;return Ve?(ye=Ge<.5?Ve/(Ne+Le):Ve/(2-Ne-Le),de=B==Ne?(Q-ie)/Ve+(Q<ie?6:0):Q==Ne?(ie-B)/Ve+2:(B-Q)/Ve+4,de*=60):(de=NaN,ye=Ge>0&&Ge<1?0:de),new gt(de,ye,Ge)}function gn(B,Q,ie){var de=Gt((.4124564*(B=An(B))+.3575761*(Q=An(Q))+.1804375*(ie=An(ie)))/It),ye=Gt((.2126729*B+.7151522*Q+.072175*ie)/Dt);return ft(116*ye-16,500*(de-ye),200*(ye-Gt((.0193339*B+.119192*Q+.9503041*ie)/Nt)))}function An(B){return(B/=255)<=.04045?B/12.92:Math.pow((B+.055)/1.055,2.4)}function En(B){var Q=parseFloat(B);return"%"===B.charAt(B.length-1)?Math.round(2.55*Q):Q}nn.brighter=function(B){B=Math.pow(.7,arguments.length?B:1);var Q=this.r,ie=this.g,de=this.b;return Q||ie||de?(Q&&Q<30&&(Q=30),ie&&ie<30&&(ie=30),de&&de<30&&(de=30),new yn(Math.min(255,Q/B),Math.min(255,ie/B),Math.min(255,de/B))):new yn(30,30,30)},nn.darker=function(B){return new yn((B=Math.pow(.7,arguments.length?B:1))*this.r,B*this.g,B*this.b)},nn.hsl=function(){return fn(this.r,this.g,this.b)},nn.toString=function(){return"#"+Xt(this.r)+Xt(this.g)+Xt(this.b)};var bn=l.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Ln(B){return"function"==typeof B?B:function(){return B}}function Wn(B){return function(Q,ie,de){return 2===arguments.length&&"function"==typeof ie&&(de=ie,ie=null),Qn(Q,ie,B,de)}}function Qn(B,Q,ie,de){var $e,ye={},Le=l.dispatch("beforesend","progress","load","error"),Ne={},Ve=new XMLHttpRequest,Ge=null;function Ye(){var $e,ht,Et,lt=Ve.status;if(!lt&&((Et=(ht=Ve).responseType)&&"text"!==Et?ht.response:ht.responseText)||lt>=200&&lt<300||304===lt){try{$e=ie.call(ye,Ve)}catch(ht){return void Le.error.call(ye,ht)}Le.load.call(ye,$e)}else Le.error.call(ye,Ve)}return self.XDomainRequest&&!("withCredentials"in Ve)&&/^(http(s)?:)?\/\//.test(B)&&(Ve=new XDomainRequest),"onload"in Ve?Ve.onload=Ve.onerror=Ye:Ve.onreadystatechange=function(){Ve.readyState>3&&Ye()},Ve.onprogress=function($e){var lt=l.event;l.event=$e;try{Le.progress.call(ye,Ve)}finally{l.event=lt}},ye.header=function($e,lt){return $e=($e+"").toLowerCase(),arguments.length<2?Ne[$e]:(null==lt?delete Ne[$e]:Ne[$e]=lt+"",ye)},ye.mimeType=function($e){return arguments.length?(Q=null==$e?null:$e+"",ye):Q},ye.responseType=function($e){return arguments.length?(Ge=$e,ye):Ge},ye.response=function($e){return ie=$e,ye},["get","post"].forEach(function($e){ye[$e]=function(){return ye.send.apply(ye,[$e].concat(b(arguments)))}}),ye.send=function($e,lt,ht){if(2===arguments.length&&"function"==typeof lt&&(ht=lt,lt=null),Ve.open($e,B,!0),null==Q||"accept"in Ne||(Ne.accept=Q+",*/*"),Ve.setRequestHeader)for(var Et in Ne)Ve.setRequestHeader(Et,Ne[Et]);return null!=Q&&Ve.overrideMimeType&&Ve.overrideMimeType(Q),null!=Ge&&(Ve.responseType=Ge),null!=ht&&ye.on("error",ht).on("load",function(Ct){ht(null,Ct)}),Le.beforesend.call(ye,Ve),Ve.send(lt??null),ye},ye.abort=function(){return Ve.abort(),ye},l.rebind(ye,Le,"on"),null==de?ye:ye.get(1===($e=de).length?function(lt,ht){$e(null==lt?ht:null)}:$e)}bn.forEach(function(B,Q){bn.set(B,on(Q))}),l.functor=Ln,l.xhr=Wn(P),l.dsv=function(B,Q){var ie=new RegExp('["'+B+"\n]"),de=B.charCodeAt(0);function ye(Ye,$e,lt){arguments.length<3&&(lt=$e,$e=null);var ht=Qn(Ye,Q,null==$e?Le:Ne($e),lt);return ht.row=function(Et){return arguments.length?ht.response(null==($e=Et)?Le:Ne(Et)):$e},ht}function Le(Ye){return ye.parse(Ye.responseText)}function Ne(Ye){return function($e){return ye.parse($e.responseText,Ye)}}function Ve(Ye){return Ye.map(Ge).join(B)}function Ge(Ye){return ie.test(Ye)?'"'+Ye.replace(/\"/g,'""')+'"':Ye}return ye.parse=function(Ye,$e){var lt;return ye.parseRows(Ye,function(ht,Et){if(lt)return lt(ht,Et-1);var Ct=function(St){for(var zt={},Lt=ht.length,en=0;en<Lt;++en)zt[ht[en]]=St[en];return zt};lt=$e?function(St,zt){return $e(Ct(St),zt)}:Ct})},ye.parseRows=function(Ye,$e){var lt,ht,Et={},Ct={},St=[],zt=Ye.length,Lt=0,en=0;function Zt(){if(Lt>=zt)return Ct;if(ht)return ht=!1,Et;var pn=Lt;if(34===Ye.charCodeAt(pn)){for(var vn=pn;vn++<zt;)if(34===Ye.charCodeAt(vn)){if(34!==Ye.charCodeAt(vn+1))break;++vn}return Lt=vn+2,13===(Rn=Ye.charCodeAt(vn+1))?(ht=!0,10===Ye.charCodeAt(vn+2)&&++Lt):10===Rn&&(ht=!0),Ye.slice(pn+1,vn).replace(/""/g,'"')}for(;Lt<zt;){var Rn,zn=1;if(10===(Rn=Ye.charCodeAt(Lt++)))ht=!0;else if(13===Rn)ht=!0,10===Ye.charCodeAt(Lt)&&(++Lt,++zn);else if(Rn!==de)continue;return Ye.slice(pn,Lt-zn)}return Ye.slice(pn)}for(;(lt=Zt())!==Ct;){for(var Ht=[];lt!==Et&&lt!==Ct;)Ht.push(lt),lt=Zt();$e&&null==(Ht=$e(Ht,en++))||St.push(Ht)}return St},ye.format=function(Ye){if(Array.isArray(Ye[0]))return ye.formatRows(Ye);var $e=new q,lt=[];return Ye.forEach(function(ht){for(var Et in ht)$e.has(Et)||lt.push($e.add(Et))}),[lt.map(Ge).join(B)].concat(Ye.map(function(ht){return lt.map(function(Et){return Ge(ht[Et])}).join(B)})).join("\n")},ye.formatRows=function(Ye){return Ye.map(Ve).join("\n")},ye},l.csv=l.dsv(",","text/csv"),l.tsv=l.dsv("\t","text/tab-separated-values");var ir,$n,qn,dr,Ft=this[N(this,"requestAnimationFrame")]||function(B){setTimeout(B,17)};function tn(B,Q,ie){var de=arguments.length;de<2&&(Q=0),de<3&&(ie=Date.now());var ye={c:B,t:ie+Q,n:null};return $n?$n.n=ye:ir=ye,$n=ye,qn||(dr=clearTimeout(dr),qn=1,Ft(cn)),ye}function cn(){var B=dn(),Q=kn()-B;Q>24?(isFinite(Q)&&(clearTimeout(dr),dr=setTimeout(cn,Q)),qn=0):(qn=1,Ft(cn))}function dn(){for(var B=Date.now(),Q=ir;Q;)B>=Q.t&&Q.c(B-Q.t)&&(Q.c=null),Q=Q.n;return B}function kn(){for(var B,Q=ir,ie=1/0;Q;)Q.c?(Q.t<ie&&(ie=Q.t),Q=(B=Q).n):Q=B?B.n=Q.n:ir=Q.n;return $n=B,ie}function Vn(B){return B[0]}function In(B){return B[1]}function Dn(B){for(var Q,ie,de,ye=B.length,Le=[0,1],Ne=2,Ve=2;Ve<ye;Ve++){for(;Ne>1&&((ie=B[Le[Ne-1]])[0]-(Q=B[Le[Ne-2]])[0])*((de=B[Ve])[1]-Q[1])-(ie[1]-Q[1])*(de[0]-Q[0])<=0;)--Ne;Le[Ne++]=Ve}return Le.slice(0,Ne)}function Kn(B,Q){return B[0]-Q[0]||B[1]-Q[1]}l.timer=function(){tn.apply(this,arguments)},l.timer.flush=function(){dn(),kn()},l.round=function(B,Q){return Q?Math.round(B*(Q=Math.pow(10,Q)))/Q:Math.round(B)},l.geom={},l.geom.hull=function(B){var Q=Vn,ie=In;if(arguments.length)return de(B);function de(ye){if(ye.length<3)return[];var Le,Ne=Ln(Q),Ve=Ln(ie),Ge=ye.length,Ye=[],$e=[];for(Le=0;Le<Ge;Le++)Ye.push([+Ne.call(this,ye[Le],Le),+Ve.call(this,ye[Le],Le),Le]);for(Ye.sort(Kn),Le=0;Le<Ge;Le++)$e.push([Ye[Le][0],-Ye[Le][1]]);var lt=Dn(Ye),ht=Dn($e),Et=ht[0]===lt[0],Ct=ht[ht.length-1]===lt[lt.length-1],St=[];for(Le=lt.length-1;Le>=0;--Le)St.push(ye[Ye[lt[Le]][2]]);for(Le=+Et;Le<ht.length-Ct;++Le)St.push(ye[Ye[ht[Le]][2]]);return St}return de.x=function(ye){return arguments.length?(Q=ye,de):Q},de.y=function(ye){return arguments.length?(ie=ye,de):ie},de},l.geom.polygon=function(B){return $(B,Vt),B};var Vt=l.geom.polygon.prototype=[];function _n(B,Q,ie){return(ie[0]-Q[0])*(B[1]-Q[1])<(ie[1]-Q[1])*(B[0]-Q[0])}function Mt(B,Q,ie,de){var ye=B[0],Le=ie[0],Ne=Q[0]-ye,Ve=de[0]-Le,Ge=B[1],Ye=ie[1],$e=Q[1]-Ge,lt=de[1]-Ye,ht=(Ve*(Ge-Ye)-lt*(ye-Le))/(lt*Ne-Ve*$e);return[ye+ht*Ne,Ge+ht*$e]}function qt(B){var Q=B[0],ie=B[B.length-1];return!(Q[0]-ie[0]||Q[1]-ie[1])}Vt.area=function(){for(var B,Q=-1,ie=this.length,de=this[ie-1],ye=0;++Q<ie;)ye+=(B=de)[1]*(de=this[Q])[0]-B[0]*de[1];return.5*ye},Vt.centroid=function(B){var Q,ie,de=-1,ye=this.length,Le=0,Ne=0,Ve=this[ye-1];for(arguments.length||(B=-1/(6*this.area()));++de<ye;)Le+=((Q=Ve)[0]+(Ve=this[de])[0])*(ie=Q[0]*Ve[1]-Ve[0]*Q[1]),Ne+=(Q[1]+Ve[1])*ie;return[Le*B,Ne*B]},Vt.clip=function(B){for(var Q,ie,de,ye,Le,Ne,Ve=qt(B),Ge=-1,Ye=this.length-qt(this),$e=this[Ye-1];++Ge<Ye;){for(Q=B.slice(),B.length=0,ye=this[Ge],Le=Q[(de=Q.length-Ve)-1],ie=-1;++ie<de;)_n(Ne=Q[ie],$e,ye)?(_n(Le,$e,ye)||B.push(Mt(Le,Ne,$e,ye)),B.push(Ne)):_n(Le,$e,ye)&&B.push(Mt(Le,Ne,$e,ye)),Le=Ne;Ve&&B.push(B[0]),$e=ye}return B};var Kt,mn,xn,Mn,ln,Wt=[],Jt=[];function sn(){si(this),this.edge=this.site=this.circle=null}function un(B){var Q=Wt.pop()||new sn;return Q.site=B,Q}function Sn(B){lr(B),xn.remove(B),Wt.push(B),si(B)}function Cn(B){var Q=B.circle,ie=Q.x,de=Q.cy,ye={x:ie,y:de},Le=B.P,Ne=B.N,Ve=[B];Sn(B);for(var Ge=Le;Ge.circle&&y(ie-Ge.circle.x)<st&&y(de-Ge.circle.cy)<st;)Le=Ge.P,Ve.unshift(Ge),Sn(Ge),Ge=Le;Ve.unshift(Ge),lr(Ge);for(var Ye=Ne;Ye.circle&&y(ie-Ye.circle.x)<st&&y(de-Ye.circle.cy)<st;)Ne=Ye.N,Ve.push(Ye),Sn(Ye),Ye=Ne;Ve.push(Ye),lr(Ye);var $e,lt=Ve.length;for($e=1;$e<lt;++$e)pr((Ye=Ve[$e]).edge,(Ge=Ve[$e-1]).site,Ye.site,ye);(Ye=Ve[lt-1]).edge=Zn((Ge=Ve[0]).site,Ye.site,null,ye),tr(Ge),tr(Ye)}function jn(B){for(var Q,ie,de,ye,Le=B.x,Ne=B.y,Ve=xn._;Ve;)if((de=Fn(Ve,Ne)-Le)>st)Ve=Ve.L;else{if(!((ye=Le-Xn(Ve,Ne))>st)){de>-st?(Q=Ve.P,ie=Ve):ye>-st?(Q=Ve,ie=Ve.N):Q=ie=Ve;break}if(!Ve.R){Q=Ve;break}Ve=Ve.R}var Ge=un(B);if(xn.insert(Q,Ge),Q||ie){if(Q===ie)return lr(Q),ie=un(Q.site),xn.insert(Ge,ie),Ge.edge=ie.edge=Zn(Q.site,Ge.site),tr(Q),void tr(ie);if(ie){lr(Q),lr(ie);var Ye=Q.site,$e=Ye.x,lt=Ye.y,ht=B.x-$e,Et=B.y-lt,Ct=ie.site,St=Ct.x-$e,zt=Ct.y-lt,Lt=2*(ht*zt-Et*St),en=ht*ht+Et*Et,Zt=St*St+zt*zt,Ht={x:(zt*en-Et*Zt)/Lt+$e,y:(ht*Zt-St*en)/Lt+lt};pr(ie.edge,Ye,Ct,Ht),Ge.edge=Zn(Ye,B,null,Ht),ie.edge=Zn(B,Ct,null,Ht),tr(Q),tr(ie)}else Ge.edge=Zn(Q.site,Ge.site)}}function Fn(B,Q){var ie=B.site,de=ie.x,ye=ie.y,Le=ye-Q;if(!Le)return de;var Ne=B.P;if(!Ne)return-1/0;var Ve=(ie=Ne.site).x,Ge=ie.y,Ye=Ge-Q;if(!Ye)return Ve;var $e=Ve-de,lt=1/Le-1/Ye,ht=$e/Ye;return lt?(-ht+Math.sqrt(ht*ht-2*lt*($e*$e/(-2*Ye)-Ge+Ye/2+ye-Le/2)))/lt+de:(de+Ve)/2}function Xn(B,Q){var ie=B.N;if(ie)return Fn(ie,Q);var de=B.site;return de.y===Q?de.x:1/0}function Hn(B){this.site=B,this.edges=[]}function nr(B,Q){return Q.angle-B.angle}function er(){si(this),this.x=this.y=this.arc=this.site=this.cy=null}function tr(B){var Q=B.P,ie=B.N;if(Q&&ie){var de=Q.site,ye=B.site,Le=ie.site;if(de!==Le){var Ne=ye.x,Ve=ye.y,Ge=de.x-Ne,Ye=de.y-Ve,$e=Le.x-Ne,lt=2*(Ge*(zt=Le.y-Ve)-Ye*$e);if(!(lt>=-Tt)){var ht=Ge*Ge+Ye*Ye,Et=$e*$e+zt*zt,Ct=(zt*ht-Ye*Et)/lt,St=(Ge*Et-$e*ht)/lt,zt=St+Ve,Lt=Jt.pop()||new er;Lt.arc=B,Lt.site=ye,Lt.x=Ct+Ne,Lt.y=zt+Math.sqrt(Ct*Ct+St*St),Lt.cy=zt,B.circle=Lt;for(var en=null,Zt=ln._;Zt;)if(Lt.y<Zt.y||Lt.y===Zt.y&&Lt.x<=Zt.x){if(!Zt.L){en=Zt.P;break}Zt=Zt.L}else{if(!Zt.R){en=Zt;break}Zt=Zt.R}ln.insert(en,Lt),en||(Mn=Lt)}}}}function lr(B){var Q=B.circle;Q&&(Q.P||(Mn=Q.N),ln.remove(Q),Jt.push(Q),si(Q),B.circle=null)}function ur(B,Q){var ie=B.b;if(ie)return!0;var de,ye,Le=B.a,Ne=Q[0][0],Ve=Q[1][0],Ge=Q[0][1],Ye=Q[1][1],$e=B.l,lt=B.r,ht=$e.x,Et=$e.y,Ct=lt.x,St=lt.y,zt=(ht+Ct)/2;if(St===Et){if(zt<Ne||zt>=Ve)return;if(ht>Ct){if(Le){if(Le.y>=Ye)return}else Le={x:zt,y:Ge};ie={x:zt,y:Ye}}else{if(Le){if(Le.y<Ge)return}else Le={x:zt,y:Ye};ie={x:zt,y:Ge}}}else if(ye=(Et+St)/2-(de=(ht-Ct)/(St-Et))*zt,de<-1||de>1)if(ht>Ct){if(Le){if(Le.y>=Ye)return}else Le={x:(Ge-ye)/de,y:Ge};ie={x:(Ye-ye)/de,y:Ye}}else{if(Le){if(Le.y<Ge)return}else Le={x:(Ye-ye)/de,y:Ye};ie={x:(Ge-ye)/de,y:Ge}}else if(Et<St){if(Le){if(Le.x>=Ve)return}else Le={x:Ne,y:de*Ne+ye};ie={x:Ve,y:de*Ve+ye}}else{if(Le){if(Le.x<Ne)return}else Le={x:Ve,y:de*Ve+ye};ie={x:Ne,y:de*Ne+ye}}return B.a=Le,B.b=ie,!0}function _r(B,Q){this.l=B,this.r=Q,this.a=this.b=null}function Zn(B,Q,ie,de){var ye=new _r(B,Q);return Kt.push(ye),ie&&pr(ye,B,Q,ie),de&&pr(ye,Q,B,de),mn[B.i].edges.push(new Lr(ye,B,Q)),mn[Q.i].edges.push(new Lr(ye,Q,B)),ye}function pr(B,Q,ie,de){B.a||B.b?B.l===ie?B.b=de:B.a=de:(B.a=de,B.l=Q,B.r=ie)}function Lr(B,Q,ie){var de=B.a,ye=B.b;this.edge=B,this.site=Q,this.angle=ie?Math.atan2(ie.y-Q.y,ie.x-Q.x):B.l===Q?Math.atan2(ye.x-de.x,de.y-ye.y):Math.atan2(de.x-ye.x,ye.y-de.y)}function Yr(){this._=null}function si(B){B.U=B.C=B.L=B.R=B.P=B.N=null}function ii(B,Q){var ie=Q,de=Q.R,ye=ie.U;ye?ye.L===ie?ye.L=de:ye.R=de:B._=de,de.U=ye,ie.U=de,ie.R=de.L,ie.R&&(ie.R.U=ie),de.L=ie}function hi(B,Q){var ie=Q,de=Q.L,ye=ie.U;ye?ye.L===ie?ye.L=de:ye.R=de:B._=de,de.U=ye,ie.U=de,ie.L=de.R,ie.L&&(ie.L.U=ie),de.R=ie}function Qr(B){for(;B.L;)B=B.L;return B}function wi(B,Q){var ie,de,ye,Le=B.sort(qa).pop();for(Kt=[],mn=new Array(B.length),xn=new Yr,ln=new Yr;;)if(ye=Mn,Le&&(!ye||Le.y<ye.y||Le.y===ye.y&&Le.x<ye.x))Le.x===ie&&Le.y===de||(mn[Le.i]=new Hn(Le),jn(Le),ie=Le.x,de=Le.y),Le=B.pop();else{if(!ye)break;Cn(ye.arc)}Q&&(function(Ve){for(var Ge,Ye,$e,lt,ht,Et=Kt,Ct=(Ye=Ve[0][0],$e=Ve[0][1],lt=Ve[1][0],ht=Ve[1][1],function(zt){var Lt,en=zt.a,Zt=zt.b,Ht=en.x,pn=en.y,vn=0,Rn=1,zn=Zt.x-Ht,Un=Zt.y-pn;if(Lt=Ye-Ht,zn||!(Lt>0)){if(Lt/=zn,zn<0){if(Lt<vn)return;Lt<Rn&&(Rn=Lt)}else if(zn>0){if(Lt>Rn)return;Lt>vn&&(vn=Lt)}if(Lt=lt-Ht,zn||!(Lt<0)){if(Lt/=zn,zn<0){if(Lt>Rn)return;Lt>vn&&(vn=Lt)}else if(zn>0){if(Lt<vn)return;Lt<Rn&&(Rn=Lt)}if(Lt=$e-pn,Un||!(Lt>0)){if(Lt/=Un,Un<0){if(Lt<vn)return;Lt<Rn&&(Rn=Lt)}else if(Un>0){if(Lt>Rn)return;Lt>vn&&(vn=Lt)}if(Lt=ht-pn,Un||!(Lt<0)){if(Lt/=Un,Un<0){if(Lt>Rn)return;Lt>vn&&(vn=Lt)}else if(Un>0){if(Lt<vn)return;Lt<Rn&&(Rn=Lt)}return vn>0&&(zt.a={x:Ht+vn*zn,y:pn+vn*Un}),Rn<1&&(zt.b={x:Ht+Rn*zn,y:pn+Rn*Un}),zt}}}}}),St=Et.length;St--;)(!ur(Ge=Et[St],Ve)||!Ct(Ge)||y(Ge.a.x-Ge.b.x)<st&&y(Ge.a.y-Ge.b.y)<st)&&(Ge.a=Ge.b=null,Et.splice(St,1))}(Q),function(Ve){for(var Ge,Ye,$e,lt,ht,Et,Ct,St,zt,Lt,en=Ve[0][0],Zt=Ve[1][0],Ht=Ve[0][1],pn=Ve[1][1],vn=mn,Rn=vn.length;Rn--;)if((ht=vn[Rn])&&ht.prepare())for(St=(Ct=ht.edges).length,Et=0;Et<St;)$e=(Lt=Ct[Et].end()).x,lt=Lt.y,Ge=(zt=Ct[++Et%St].start()).x,Ye=zt.y,(y($e-Ge)>st||y(lt-Ye)>st)&&(Ct.splice(Et,0,new Lr((zn=ht.site,Un=Lt,Yn=y($e-en)<st&&pn-lt>st?{x:en,y:y(Ge-en)<st?Ye:pn}:y(lt-pn)<st&&Zt-$e>st?{x:y(Ye-pn)<st?Ge:Zt,y:pn}:y($e-Zt)<st&&lt-Ht>st?{x:Zt,y:y(Ge-Zt)<st?Ye:Ht}:y(lt-Ht)<st&&$e-en>st?{x:y(Ye-Ht)<st?Ge:en,y:Ht}:null,or=void 0,(or=new _r(zn,null)).a=Un,or.b=Yn,Kt.push(or),or),ht.site,null)),++St);var zn,Un,Yn,or}(Q));var Ne={cells:mn,edges:Kt};return xn=ln=Kt=mn=null,Ne}function qa(B,Q){return Q.y-B.y||Q.x-B.x}Hn.prototype.prepare=function(){for(var B,Q=this.edges,ie=Q.length;ie--;)(B=Q[ie].edge).b&&B.a||Q.splice(ie,1);return Q.sort(nr),Q.length},Lr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Yr.prototype={insert:function(B,Q){var ie,de,ye;if(B){if(Q.P=B,Q.N=B.N,B.N&&(B.N.P=Q),B.N=Q,B.R){for(B=B.R;B.L;)B=B.L;B.L=Q}else B.R=Q;ie=B}else this._?(B=Qr(this._),Q.P=null,Q.N=B,B.P=B.L=Q,ie=B):(Q.P=Q.N=null,this._=Q,ie=null);for(Q.L=Q.R=null,Q.U=ie,Q.C=!0,B=Q;ie&&ie.C;)ie===(de=ie.U).L?(ye=de.R)&&ye.C?(ie.C=ye.C=!1,de.C=!0,B=de):(B===ie.R&&(ii(this,ie),ie=(B=ie).U),ie.C=!1,de.C=!0,hi(this,de)):(ye=de.L)&&ye.C?(ie.C=ye.C=!1,de.C=!0,B=de):(B===ie.L&&(hi(this,ie),ie=(B=ie).U),ie.C=!1,de.C=!0,ii(this,de)),ie=B.U;this._.C=!1},remove:function(B){B.N&&(B.N.P=B.P),B.P&&(B.P.N=B.N),B.N=B.P=null;var Q,ie,de,ye=B.U,Le=B.L,Ne=B.R;if(ie=Le?Ne?Qr(Ne):Le:Ne,ye?ye.L===B?ye.L=ie:ye.R=ie:this._=ie,Le&&Ne?(de=ie.C,ie.C=B.C,ie.L=Le,Le.U=ie,ie!==Ne?(ye=ie.U,ie.U=B.U,ye.L=B=ie.R,ie.R=Ne,Ne.U=ie):(ie.U=ye,ye=ie,B=ie.R)):(de=B.C,B=ie),B&&(B.U=ye),!de)if(B&&B.C)B.C=!1;else{do{if(B===this._)break;if(B===ye.L){if((Q=ye.R).C&&(Q.C=!1,ye.C=!0,ii(this,ye),Q=ye.R),Q.L&&Q.L.C||Q.R&&Q.R.C){Q.R&&Q.R.C||(Q.L.C=!1,Q.C=!0,hi(this,Q),Q=ye.R),Q.C=ye.C,ye.C=Q.R.C=!1,ii(this,ye),B=this._;break}}else if((Q=ye.L).C&&(Q.C=!1,ye.C=!0,hi(this,ye),Q=ye.L),Q.L&&Q.L.C||Q.R&&Q.R.C){Q.L&&Q.L.C||(Q.R.C=!1,Q.C=!0,ii(this,Q),Q=ye.L),Q.C=ye.C,ye.C=Q.L.C=!1,hi(this,ye),B=this._;break}Q.C=!0,B=ye,ye=ye.U}while(!B.C);B&&(B.C=!1)}}},l.geom.voronoi=function(B){var Q=Vn,ie=In,de=Q,ye=ie,Le=da;if(B)return Ne(B);function Ne(Ge){var Ye=new Array(Ge.length),$e=Le[0][0],lt=Le[0][1],ht=Le[1][0],Et=Le[1][1];return wi(Ve(Ge),Le).cells.forEach(function(Ct,St){var zt=Ct.edges,Lt=Ct.site;(Ye[St]=zt.length?zt.map(function(en){var Zt=en.start();return[Zt.x,Zt.y]}):Lt.x>=$e&&Lt.x<=ht&&Lt.y>=lt&&Lt.y<=Et?[[$e,Et],[ht,Et],[ht,lt],[$e,lt]]:[]).point=Ge[St]}),Ye}function Ve(Ge){return Ge.map(function(Ye,$e){return{x:Math.round(de(Ye,$e)/st)*st,y:Math.round(ye(Ye,$e)/st)*st,i:$e}})}return Ne.links=function(Ge){return wi(Ve(Ge)).edges.filter(function(Ye){return Ye.l&&Ye.r}).map(function(Ye){return{source:Ge[Ye.l.i],target:Ge[Ye.r.i]}})},Ne.triangles=function(Ge){var Ye=[];return wi(Ve(Ge)).cells.forEach(function($e,lt){for(var ht,Et,Ct,St,zt=$e.site,Lt=$e.edges.sort(nr),en=-1,Zt=Lt.length,Ht=Lt[Zt-1].edge,pn=Ht.l===zt?Ht.r:Ht.l;++en<Zt;)ht=pn,pn=(Ht=Lt[en].edge).l===zt?Ht.r:Ht.l,lt<ht.i&&lt<pn.i&&((Et=zt).x-(St=pn).x)*((Ct=ht).y-Et.y)-(Et.x-Ct.x)*(St.y-Et.y)<0&&Ye.push([Ge[lt],Ge[ht.i],Ge[pn.i]])}),Ye},Ne.x=function(Ge){return arguments.length?(de=Ln(Q=Ge),Ne):Q},Ne.y=function(Ge){return arguments.length?(ye=Ln(ie=Ge),Ne):ie},Ne.clipExtent=function(Ge){return arguments.length?(Le=Ge??da,Ne):Le===da?null:Le},Ne.size=function(Ge){return arguments.length?Ne.clipExtent(Ge&&[[0,0],Ge]):Le===da?null:Le&&Le[1]},Ne};var da=[[-1e6,-1e6],[1e6,1e6]];function no(B){return B.x}function Gs(B){return B.y}function Bo(B,Q,ie,de,ye,Le){if(!B(Q,ie,de,ye,Le)){var Ne=.5*(ie+ye),Ve=.5*(de+Le),Ge=Q.nodes;Ge[0]&&Bo(B,Ge[0],ie,de,Ne,Ve),Ge[1]&&Bo(B,Ge[1],Ne,de,ye,Ve),Ge[2]&&Bo(B,Ge[2],ie,Ve,Ne,Le),Ge[3]&&Bo(B,Ge[3],Ne,Ve,ye,Le)}}function gs(B,Q){B=l.rgb(B),Q=l.rgb(Q);var ie=B.r,de=B.g,ye=B.b,Le=Q.r-ie,Ne=Q.g-de,Ve=Q.b-ye;return function(Ge){return"#"+Xt(Math.round(ie+Le*Ge))+Xt(Math.round(de+Ne*Ge))+Xt(Math.round(ye+Ve*Ge))}}function qs(B,Q){var ie,de={},ye={};for(ie in B)ie in Q?de[ie]=Ya(B[ie],Q[ie]):ye[ie]=B[ie];for(ie in Q)ie in B||(ye[ie]=Q[ie]);return function(Le){for(ie in de)ye[ie]=de[ie](Le);return ye}}function Za(B,Q){return B=+B,Q=+Q,function(ie){return B*(1-ie)+Q*ie}}function il(B,Q){var ie,de,ye,Le=No.lastIndex=jo.lastIndex=0,Ne=-1,Ve=[],Ge=[];for(B+="",Q+="";(ie=No.exec(B))&&(de=jo.exec(Q));)(ye=de.index)>Le&&(ye=Q.slice(Le,ye),Ve[Ne]?Ve[Ne]+=ye:Ve[++Ne]=ye),(ie=ie[0])===(de=de[0])?Ve[Ne]?Ve[Ne]+=de:Ve[++Ne]=de:(Ve[++Ne]=null,Ge.push({i:Ne,x:Za(ie,de)})),Le=jo.lastIndex;return Le<Q.length&&(ye=Q.slice(Le),Ve[Ne]?Ve[Ne]+=ye:Ve[++Ne]=ye),Ve.length<2?Ge[0]?(Q=Ge[0].x,function(Ye){return Q(Ye)+""}):function(){return Q}:(Q=Ge.length,function(Ye){for(var $e,lt=0;lt<Q;++lt)Ve[($e=Ge[lt]).i]=$e.x(Ye);return Ve.join("")})}l.geom.delaunay=function(B){return l.geom.voronoi().triangles(B)},l.geom.quadtree=function(B,Q,ie,de,ye){var Le,Ne=Vn,Ve=In;if(Le=arguments.length)return Ne=no,Ve=Gs,3===Le&&(ye=ie,de=Q,ie=Q=0),Ge(B);function Ge(Ye){var $e,lt,ht,Et,Ct,St,zt,Lt,en,Zt=Ln(Ne),Ht=Ln(Ve);if(null!=Q)St=Q,zt=ie,Lt=de,en=ye;else if(Lt=en=-(St=zt=1/0),lt=[],ht=[],Ct=Ye.length,Le)for(Et=0;Et<Ct;++Et)($e=Ye[Et]).x<St&&(St=$e.x),$e.y<zt&&(zt=$e.y),$e.x>Lt&&(Lt=$e.x),$e.y>en&&(en=$e.y),lt.push($e.x),ht.push($e.y);else for(Et=0;Et<Ct;++Et){var pn=+Zt($e=Ye[Et],Et),vn=+Ht($e,Et);pn<St&&(St=pn),vn<zt&&(zt=vn),pn>Lt&&(Lt=pn),vn>en&&(en=vn),lt.push(pn),ht.push(vn)}var Rn=Lt-St,zn=en-zt;function Un(ar,cr,yr,Pr,Bn,rr,fr,xr){if(!isNaN(yr)&&!isNaN(Pr))if(ar.leaf){var Er=ar.x,Rr=ar.y;if(null!=Er)if(y(Er-yr)+y(Rr-Pr)<.01)Yn(ar,cr,yr,Pr,Bn,rr,fr,xr);else{var jr=ar.point;ar.x=ar.y=ar.point=null,Yn(ar,jr,Er,Rr,Bn,rr,fr,xr),Yn(ar,cr,yr,Pr,Bn,rr,fr,xr)}else ar.x=yr,ar.y=Pr,ar.point=cr}else Yn(ar,cr,yr,Pr,Bn,rr,fr,xr)}function Yn(ar,cr,yr,Pr,Bn,rr,fr,xr){var Er=.5*(Bn+fr),Rr=.5*(rr+xr),jr=yr>=Er,Wr=Pr>=Rr,li=Wr<<1|jr;ar.leaf=!1,jr?Bn=Er:fr=Er,Wr?rr=Rr:xr=Rr,Un(ar=ar.nodes[li]||(ar.nodes[li]={leaf:!0,nodes:[],point:null,x:null,y:null}),cr,yr,Pr,Bn,rr,fr,xr)}Rn>zn?en=zt+Rn:Lt=St+zn;var or={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(ar){Un(or,ar,+Zt(ar,++Et),+Ht(ar,Et),St,zt,Lt,en)},visit:function(ar){Bo(ar,or,St,zt,Lt,en)},find:function(ar){return yr=ar[0],Pr=ar[1],Rr=1/0,function jr(Wr,li,ui,Xr,ki){if(!(li>fr||ui>xr||Xr<Bn||ki<rr)){if(qi=Wr.point){var qi,Pi=yr-Wr.x,Bi=Pr-Wr.y,Hr=Pi*Pi+Bi*Bi;if(Hr<Rr){var Nr=Math.sqrt(Rr=Hr);Bn=yr-Nr,rr=Pr-Nr,fr=yr+Nr,xr=Pr+Nr,Er=qi}}for(var ci=Wr.nodes,ri=.5*(li+Xr),pi=.5*(ui+ki),ua=(Pr>=pi)<<1|yr>=ri,xi=ua+4;ua<xi;++ua)if(Wr=ci[3&ua])switch(3&ua){case 0:jr(Wr,li,ui,ri,pi);break;case 1:jr(Wr,ri,ui,Xr,pi);break;case 2:jr(Wr,li,pi,ri,ki);break;case 3:jr(Wr,ri,pi,Xr,ki)}}}(or,Bn=St,rr=zt,fr=Lt,xr=en),Er;var yr,Pr,Bn,rr,fr,xr,Er,Rr}};if(Et=-1,null==Q){for(;++Et<Ct;)Un(or,Ye[Et],lt[Et],ht[Et],St,zt,Lt,en);--Et}else Ye.forEach(or.add);return lt=ht=Ye=$e=null,or}return Ge.x=function(Ye){return arguments.length?(Ne=Ye,Ge):Ne},Ge.y=function(Ye){return arguments.length?(Ve=Ye,Ge):Ve},Ge.extent=function(Ye){return arguments.length?(null==Ye?Q=ie=de=ye=null:(Q=+Ye[0][0],ie=+Ye[0][1],de=+Ye[1][0],ye=+Ye[1][1]),Ge):null==Q?null:[[Q,ie],[de,ye]]},Ge.size=function(Ye){return arguments.length?(null==Ye?Q=ie=de=ye=null:(Q=ie=0,de=+Ye[0],ye=+Ye[1]),Ge):null==Q?null:[de-Q,ye-ie]},Ge},l.interpolateRgb=gs,l.interpolateObject=qs,l.interpolateNumber=Za,l.interpolateString=il;var No=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jo=new RegExp(No.source,"g");function Ya(B,Q){for(var ie,de=l.interpolators.length;--de>=0&&!(ie=l.interpolators[de](B,Q)););return ie}function Li(B,Q){var ie,de=[],ye=[],Le=B.length,Ne=Q.length,Ve=Math.min(B.length,Q.length);for(ie=0;ie<Ve;++ie)de.push(Ya(B[ie],Q[ie]));for(;ie<Le;++ie)ye[ie]=B[ie];for(;ie<Ne;++ie)ye[ie]=Q[ie];return function(Ge){for(ie=0;ie<Ve;++ie)ye[ie]=de[ie](Ge);return ye}}l.interpolate=Ya,l.interpolators=[function(B,Q){var ie=typeof Q;return("string"===ie?bn.has(Q.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Q)?gs:il:Q instanceof et?gs:Array.isArray(Q)?Li:"object"===ie&&isNaN(Q)?qs:Za)(B,Q)}],l.interpolateArray=Li;var vs=function(){return P},Gr=l.map({linear:vs,poly:function(B){return function(Q){return Math.pow(Q,B)}},quad:function(){return Ra},cubic:function(){return xo},sin:function(){return ao},exp:function(){return Os},circle:function(){return al},elastic:function(B,Q){var ie;return arguments.length<2&&(Q=.45),arguments.length?ie=Q/Pt*Math.asin(1/B):(B=1,ie=Q/4),function(de){return 1+B*Math.pow(2,-10*de)*Math.sin((de-ie)*Pt/Q)}},back:function(B){return B||(B=1.70158),function(Q){return Q*Q*((B+1)*Q-B)}},bounce:function(){return bo}}),Wa=l.map({in:P,out:wa,"in-out":ro,"out-in":function(B){return ro(wa(B))}});function wa(B){return function(Q){return 1-B(1-Q)}}function ro(B){return function(Q){return.5*(Q<.5?B(2*Q):2-B(2-2*Q))}}function Ra(B){return B*B}function xo(B){return B*B*B}function io(B){if(B<=0)return 0;if(B>=1)return 1;var Q=B*B,ie=Q*B;return 4*(B<.5?ie:3*(B-Q)+ie-.75)}function ao(B){return 1-Math.cos(B*Ze)}function Os(B){return Math.pow(2,10*(B-1))}function al(B){return 1-Math.sqrt(1-B*B)}function bo(B){return B<.36363636363636365?7.5625*B*B:B<.7272727272727273?7.5625*(B-=.5454545454545454)*B+.75:B<.9090909090909091?7.5625*(B-=.8181818181818182)*B+.9375:7.5625*(B-=.9545454545454546)*B+.984375}function ol(B,Q){return Q-=B,function(ie){return Math.round(B+Q*ie)}}function Zs(B){var Q,ie,de,ye=[B.a,B.b],Le=[B.c,B.d],Ne=Ys(ye),Ve=sl(ye,Le),Ge=Ys(((Q=Le)[0]+=(de=-Ve)*(ie=ye)[0],Q[1]+=de*ie[1],Q))||0;ye[0]*Le[1]<Le[0]*ye[1]&&(ye[0]*=-1,ye[1]*=-1,Ne*=-1,Ve*=-1),this.rotate=(Ne?Math.atan2(ye[1],ye[0]):Math.atan2(-Le[0],Le[1]))*He,this.translate=[B.e,B.f],this.scale=[Ne,Ge],this.skew=Ge?Math.atan2(Ve,Ge)*He:0}function sl(B,Q){return B[0]*Q[0]+B[1]*Q[1]}function Ys(B){var Q=Math.sqrt(sl(B,B));return Q&&(B[0]/=Q,B[1]/=Q),Q}l.ease=function(B){var Q,ie=B.indexOf("-"),de=ie>=0?B.slice(0,ie):B,ye=ie>=0?B.slice(ie+1):"in";return de=Gr.get(de)||vs,ye=Wa.get(ye)||P,Q=ye(de.apply(null,T.call(arguments,1))),function(Le){return Le<=0?0:Le>=1?1:Q(Le)}},l.interpolateHcl=function(B,Q){B=l.hcl(B),Q=l.hcl(Q);var ie=B.h,de=B.c,ye=B.l,Le=Q.h-ie,Ne=Q.c-de,Ve=Q.l-ye;return isNaN(Ne)&&(Ne=0,de=isNaN(de)?Q.c:de),isNaN(Le)?(Le=0,ie=isNaN(ie)?Q.h:ie):Le>180?Le-=360:Le<-180&&(Le+=360),function(Ge){return ct(ie+Le*Ge,de+Ne*Ge,ye+Ve*Ge)+""}},l.interpolateHsl=function(B,Q){B=l.hsl(B),Q=l.hsl(Q);var ie=B.h,de=B.s,ye=B.l,Le=Q.h-ie,Ne=Q.s-de,Ve=Q.l-ye;return isNaN(Ne)&&(Ne=0,de=isNaN(de)?Q.s:de),isNaN(Le)?(Le=0,ie=isNaN(ie)?Q.h:ie):Le>180?Le-=360:Le<-180&&(Le+=360),function(Ge){return vt(ie+Le*Ge,de+Ne*Ge,ye+Ve*Ge)+""}},l.interpolateLab=function(B,Q){B=l.lab(B),Q=l.lab(Q);var ie=B.l,de=B.a,ye=B.b,Le=Q.l-ie,Ne=Q.a-de,Ve=Q.b-ye;return function(Ge){return jt(ie+Le*Ge,de+Ne*Ge,ye+Ve*Ge)+""}},l.interpolateRound=ol,l.transform=function(B){var Q=d.createElementNS(l.ns.prefix.svg,"g");return(l.transform=function(ie){if(null!=ie){Q.setAttribute("transform",ie);var de=Q.transform.baseVal.consolidate()}return new Zs(de?de.matrix:ll)})(B)},Zs.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ll={a:1,b:0,c:0,d:1,e:0,f:0};function rs(B){return B.length?B.pop()+",":""}function _o(B,Q){var ye,Le,Ne,ie=[],de=[];return B=l.transform(B),Q=l.transform(Q),function(ye,Le,Ne,Ve){if(ye[0]!==Le[0]||ye[1]!==Le[1]){var Ge=Ne.push("translate(",null,",",null,")");Ve.push({i:Ge-4,x:Za(ye[0],Le[0])},{i:Ge-2,x:Za(ye[1],Le[1])})}else(Le[0]||Le[1])&&Ne.push("translate("+Le+")")}(B.translate,Q.translate,ie,de),Ne=ie,(ye=B.rotate)!==(Le=Q.rotate)?(ye-Le>180?Le+=360:Le-ye>180&&(ye+=360),de.push({i:Ne.push(rs(Ne)+"rotate(",null,")")-2,x:Za(ye,Le)})):Le&&Ne.push(rs(Ne)+"rotate("+Le+")"),function(ye,Le,Ne,Ve){ye!==Le?Ve.push({i:Ne.push(rs(Ne)+"skewX(",null,")")-2,x:Za(ye,Le)}):Le&&Ne.push(rs(Ne)+"skewX("+Le+")")}(B.skew,Q.skew,ie,de),function(ye,Le,Ne,Ve){if(ye[0]!==Le[0]||ye[1]!==Le[1]){var Ge=Ne.push(rs(Ne)+"scale(",null,",",null,")");Ve.push({i:Ge-4,x:Za(ye[0],Le[0])},{i:Ge-2,x:Za(ye[1],Le[1])})}else 1===Le[0]&&1===Le[1]||Ne.push(rs(Ne)+"scale("+Le+")")}(B.scale,Q.scale,ie,de),B=Q=null,function(ye){for(var Le,Ne=-1,Ve=de.length;++Ne<Ve;)ie[(Le=de[Ne]).i]=Le.x(ye);return ie.join("")}}function Uo(B,Q){return Q=(Q-=B=+B)||1/Q,function(ie){return(ie-B)/Q}}function is(B,Q){return Q=(Q-=B=+B)||1/Q,function(ie){return Math.max(0,Math.min(1,(ie-B)/Q))}}function Is(B){for(var Q=B.source,ie=B.target,de=function(Ne,Ve){if(Ne===Ve)return Ne;for(var Ge=Ws(Ne),Ye=Ws(Ve),$e=Ge.pop(),lt=Ye.pop(),ht=null;$e===lt;)ht=$e,$e=Ge.pop(),lt=Ye.pop();return ht}(Q,ie),ye=[Q];Q!==de;)ye.push(Q=Q.parent);for(var Le=ye.length;ie!==de;)ye.splice(Le,0,ie),ie=ie.parent;return ye}function Ws(B){for(var Q=[],ie=B.parent;null!=ie;)Q.push(B),B=ie,ie=ie.parent;return Q.push(B),Q}function Xs(B){B.fixed|=2}function Sa(B){B.fixed&=-7}function Vo(B){B.fixed|=4,B.px=B.x,B.py=B.y}function Xa(B){B.fixed&=-5}function oo(B,Q,ie){var de=0,ye=0;if(B.charge=0,!B.leaf)for(var Le,Ne=B.nodes,Ve=Ne.length,Ge=-1;++Ge<Ve;)null!=(Le=Ne[Ge])&&(oo(Le,Q,ie),B.charge+=Le.charge,de+=Le.charge*Le.cx,ye+=Le.charge*Le.cy);if(B.point){B.leaf||(B.point.x+=Math.random()-.5,B.point.y+=Math.random()-.5);var Ye=Q*ie[B.point.index];B.charge+=B.pointCharge=Ye,de+=Ye*B.point.x,ye+=Ye*B.point.y}B.cx=de/B.charge,B.cy=ye/B.charge}l.interpolateTransform=_o,l.layout={},l.layout.bundle=function(){return function(B){for(var Q=[],ie=-1,de=B.length;++ie<de;)Q.push(Is(B[ie]));return Q}},l.layout.chord=function(){var B,Q,ie,de,ye,Le,Ne,Ve={},Ge=0;function Ye(){var lt,ht,Et,Ct,St,zt={},Lt=[],en=l.range(de),Zt=[];for(B=[],Q=[],lt=0,Ct=-1;++Ct<de;){for(ht=0,St=-1;++St<de;)ht+=ie[Ct][St];Lt.push(ht),Zt.push(l.range(de)),lt+=ht}for(ye&&en.sort(function(or,ar){return ye(Lt[or],Lt[ar])}),Le&&Zt.forEach(function(or,ar){or.sort(function(cr,yr){return Le(ie[ar][cr],ie[ar][yr])})}),lt=(Pt-Ge*de)/lt,ht=0,Ct=-1;++Ct<de;){for(Et=ht,St=-1;++St<de;){var Ht=en[Ct],pn=Zt[Ht][St],vn=ie[Ht][pn],Rn=ht,zn=ht+=vn*lt;zt[Ht+"-"+pn]={index:Ht,subindex:pn,startAngle:Rn,endAngle:zn,value:vn}}Q[Ht]={index:Ht,startAngle:Et,endAngle:ht,value:Lt[Ht]},ht+=Ge}for(Ct=-1;++Ct<de;)for(St=Ct-1;++St<de;){var Un=zt[Ct+"-"+St],Yn=zt[St+"-"+Ct];(Un.value||Yn.value)&&B.push(Un.value<Yn.value?{source:Yn,target:Un}:{source:Un,target:Yn})}Ne&&$e()}function $e(){B.sort(function(lt,ht){return Ne((lt.source.value+lt.target.value)/2,(ht.source.value+ht.target.value)/2)})}return Ve.matrix=function(lt){return arguments.length?(de=(ie=lt)&&ie.length,B=Q=null,Ve):ie},Ve.padding=function(lt){return arguments.length?(Ge=lt,B=Q=null,Ve):Ge},Ve.sortGroups=function(lt){return arguments.length?(ye=lt,B=Q=null,Ve):ye},Ve.sortSubgroups=function(lt){return arguments.length?(Le=lt,B=null,Ve):Le},Ve.sortChords=function(lt){return arguments.length?(Ne=lt,B&&$e(),Ve):Ne},Ve.chords=function(){return B||Ye(),B},Ve.groups=function(){return Q||Ye(),Q},Ve},l.layout.force=function(){var B,Q,ie,de,ye,Le,Ne={},Ve=l.dispatch("start","tick","end"),Ge=[1,1],Ye=.9,$e=ul,lt=wo,ht=-30,Et=ei,Ct=.1,St=.64,zt=[],Lt=[];function en(Ht){return function(pn,vn,Rn,zn){if(pn.point!==Ht){var Un=pn.cx-Ht.x,Yn=pn.cy-Ht.y,or=zn-vn,ar=Un*Un+Yn*Yn;if(or*or/St<ar){if(ar<Et){var cr=pn.charge/ar;Ht.px-=Un*cr,Ht.py-=Yn*cr}return!0}pn.point&&ar&&ar<Et&&(Ht.px-=Un*(cr=pn.pointCharge/ar),Ht.py-=Yn*cr)}return!pn.charge}}function Zt(Ht){Ht.px=l.event.x,Ht.py=l.event.y,Ne.resume()}return Ne.tick=function(){if((ie*=.99)<.005)return B=null,Ve.end({type:"end",alpha:ie=0}),!0;var Ht,pn,vn,Rn,zn,Un,Yn,or,ar,cr=zt.length,yr=Lt.length;for(pn=0;pn<yr;++pn)Rn=(vn=Lt[pn]).source,(Un=(or=(zn=vn.target).x-Rn.x)*or+(ar=zn.y-Rn.y)*ar)&&(or*=Un=ie*ye[pn]*((Un=Math.sqrt(Un))-de[pn])/Un,ar*=Un,zn.x-=or*(Yn=Rn.weight+zn.weight?Rn.weight/(Rn.weight+zn.weight):.5),zn.y-=ar*Yn,Rn.x+=or*(Yn=1-Yn),Rn.y+=ar*Yn);if((Yn=ie*Ct)&&(or=Ge[0]/2,ar=Ge[1]/2,pn=-1,Yn))for(;++pn<cr;)(vn=zt[pn]).x+=(or-vn.x)*Yn,vn.y+=(ar-vn.y)*Yn;if(ht)for(oo(Ht=l.geom.quadtree(zt),ie,Le),pn=-1;++pn<cr;)(vn=zt[pn]).fixed||Ht.visit(en(vn));for(pn=-1;++pn<cr;)(vn=zt[pn]).fixed?(vn.x=vn.px,vn.y=vn.py):(vn.x-=(vn.px-(vn.px=vn.x))*Ye,vn.y-=(vn.py-(vn.py=vn.y))*Ye);Ve.tick({type:"tick",alpha:ie})},Ne.nodes=function(Ht){return arguments.length?(zt=Ht,Ne):zt},Ne.links=function(Ht){return arguments.length?(Lt=Ht,Ne):Lt},Ne.size=function(Ht){return arguments.length?(Ge=Ht,Ne):Ge},Ne.linkDistance=function(Ht){return arguments.length?($e="function"==typeof Ht?Ht:+Ht,Ne):$e},Ne.distance=Ne.linkDistance,Ne.linkStrength=function(Ht){return arguments.length?(lt="function"==typeof Ht?Ht:+Ht,Ne):lt},Ne.friction=function(Ht){return arguments.length?(Ye=+Ht,Ne):Ye},Ne.charge=function(Ht){return arguments.length?(ht="function"==typeof Ht?Ht:+Ht,Ne):ht},Ne.chargeDistance=function(Ht){return arguments.length?(Et=Ht*Ht,Ne):Math.sqrt(Et)},Ne.gravity=function(Ht){return arguments.length?(Ct=+Ht,Ne):Ct},Ne.theta=function(Ht){return arguments.length?(St=Ht*Ht,Ne):Math.sqrt(St)},Ne.alpha=function(Ht){return arguments.length?(Ht=+Ht,ie?Ht>0?ie=Ht:(B.c=null,B.t=NaN,B=null,Ve.end({type:"end",alpha:ie=0})):Ht>0&&(Ve.start({type:"start",alpha:ie=Ht}),B=tn(Ne.tick)),Ne):ie},Ne.start=function(){var Ht,pn,vn,Rn=zt.length,zn=Lt.length,Un=Ge[0],Yn=Ge[1];for(Ht=0;Ht<Rn;++Ht)(vn=zt[Ht]).index=Ht,vn.weight=0;for(Ht=0;Ht<zn;++Ht)"number"==typeof(vn=Lt[Ht]).source&&(vn.source=zt[vn.source]),"number"==typeof vn.target&&(vn.target=zt[vn.target]),++vn.source.weight,++vn.target.weight;for(Ht=0;Ht<Rn;++Ht)vn=zt[Ht],isNaN(vn.x)&&(vn.x=or("x",Un)),isNaN(vn.y)&&(vn.y=or("y",Yn)),isNaN(vn.px)&&(vn.px=vn.x),isNaN(vn.py)&&(vn.py=vn.y);if(de=[],"function"==typeof $e)for(Ht=0;Ht<zn;++Ht)de[Ht]=+$e.call(this,Lt[Ht],Ht);else for(Ht=0;Ht<zn;++Ht)de[Ht]=$e;if(ye=[],"function"==typeof lt)for(Ht=0;Ht<zn;++Ht)ye[Ht]=+lt.call(this,Lt[Ht],Ht);else for(Ht=0;Ht<zn;++Ht)ye[Ht]=lt;if(Le=[],"function"==typeof ht)for(Ht=0;Ht<Rn;++Ht)Le[Ht]=+ht.call(this,zt[Ht],Ht);else for(Ht=0;Ht<Rn;++Ht)Le[Ht]=ht;function or(ar,cr){if(!pn){for(pn=new Array(Rn),rr=0;rr<Rn;++rr)pn[rr]=[];for(rr=0;rr<zn;++rr){var yr=Lt[rr];pn[yr.source.index].push(yr.target),pn[yr.target.index].push(yr.source)}}for(var Pr,Bn=pn[Ht],rr=-1,fr=Bn.length;++rr<fr;)if(!isNaN(Pr=Bn[rr][ar]))return Pr;return Math.random()*cr}return Ne.resume()},Ne.resume=function(){return Ne.alpha(.1)},Ne.stop=function(){return Ne.alpha(0)},Ne.drag=function(){if(Q||(Q=l.behavior.drag().origin(P).on("dragstart.force",Xs).on("drag.force",Zt).on("dragend.force",Sa)),!arguments.length)return Q;this.on("mouseover.force",Vo).on("mouseout.force",Xa).call(Q)},l.rebind(Ne,Ve,"on")};var ul=20,wo=1,ei=1/0;function za(B,Q){return l.rebind(B,Q,"sort","children","value"),B.nodes=B,B.links=cl,B}function ms(B,Q){for(var ie=[B];null!=(B=ie.pop());)if(Q(B),(ye=B.children)&&(de=ye.length))for(var de,ye;--de>=0;)ie.push(ye[de])}function Ea(B,Q){for(var ie=[B],de=[];null!=(B=ie.pop());)if(de.push(B),(Le=B.children)&&(ye=Le.length))for(var ye,Le,Ne=-1;++Ne<ye;)ie.push(Le[Ne]);for(;null!=(B=de.pop());)Q(B)}function Ho(B){return B.children}function bl(B){return B.value}function Ds(B,Q){return Q.value-B.value}function cl(B){return l.merge(B.map(function(Q){return(Q.children||[]).map(function(ie){return{source:Q,target:ie}})}))}l.layout.hierarchy=function(){var B=Ds,Q=Ho,ie=bl;function de(ye){var Le,Ne=[ye],Ve=[];for(ye.depth=0;null!=(Le=Ne.pop());)if(Ve.push(Le),(Ye=Q.call(de,Le,Le.depth))&&(Ge=Ye.length)){for(var Ge,Ye,$e;--Ge>=0;)Ne.push($e=Ye[Ge]),$e.parent=Le,$e.depth=Le.depth+1;ie&&(Le.value=0),Le.children=Ye}else ie&&(Le.value=+ie.call(de,Le,Le.depth)||0),delete Le.children;return Ea(ye,function(lt){var ht,Et;B&&(ht=lt.children)&&ht.sort(B),ie&&(Et=lt.parent)&&(Et.value+=lt.value)}),Ve}return de.sort=function(ye){return arguments.length?(B=ye,de):B},de.children=function(ye){return arguments.length?(Q=ye,de):Q},de.value=function(ye){return arguments.length?(ie=ye,de):ie},de.revalue=function(ye){return ie&&(ms(ye,function(Le){Le.children&&(Le.value=0)}),Ea(ye,function(Le){var Ne;Le.children||(Le.value=+ie.call(de,Le,Le.depth)||0),(Ne=Le.parent)&&(Ne.value+=Le.value)})),ye},de},l.layout.partition=function(){var B=l.layout.hierarchy(),Q=[1,1];function ie(Le,Ne,Ve,Ge){var Ye=Le.children;if(Le.x=Ne,Le.y=Le.depth*Ge,Le.dx=Ve,Le.dy=Ge,Ye&&($e=Ye.length)){var $e,lt,ht,Et=-1;for(Ve=Le.value?Ve/Le.value:0;++Et<$e;)ie(lt=Ye[Et],Ne,ht=lt.value*Ve,Ge),Ne+=ht}}function de(Le){var Ne=Le.children,Ve=0;if(Ne&&(Ge=Ne.length))for(var Ge,Ye=-1;++Ye<Ge;)Ve=Math.max(Ve,de(Ne[Ye]));return 1+Ve}function ye(Le,Ne){var Ve=B.call(this,Le,Ne);return ie(Ve[0],0,Q[0],Q[1]/de(Ve[0])),Ve}return ye.size=function(Le){return arguments.length?(Q=Le,ye):Q},za(ye,B)},l.layout.pie=function(){var B=Number,Q=fl,ie=0,de=Pt,ye=0;function Le(Ne){var Ve,Ge=Ne.length,Ye=Ne.map(function(en,Zt){return+B.call(Le,en,Zt)}),$e=+("function"==typeof ie?ie.apply(this,arguments):ie),lt=("function"==typeof de?de.apply(this,arguments):de)-$e,ht=Math.min(Math.abs(lt)/Ge,+("function"==typeof ye?ye.apply(this,arguments):ye)),Et=ht*(lt<0?-1:1),Ct=l.sum(Ye),St=Ct?(lt-Ge*Et)/Ct:0,zt=l.range(Ge),Lt=[];return null!=Q&&zt.sort(Q===fl?function(en,Zt){return Ye[Zt]-Ye[en]}:function(en,Zt){return Q(Ne[en],Ne[Zt])}),zt.forEach(function(en){Lt[en]={data:Ne[en],value:Ve=Ye[en],startAngle:$e,endAngle:$e+=Ve*St+Et,padAngle:ht}}),Lt}return Le.value=function(Ne){return arguments.length?(B=Ne,Le):B},Le.sort=function(Ne){return arguments.length?(Q=Ne,Le):Q},Le.startAngle=function(Ne){return arguments.length?(ie=Ne,Le):ie},Le.endAngle=function(Ne){return arguments.length?(de=Ne,Le):de},Le.padAngle=function(Ne){return arguments.length?(ye=Ne,Le):ye},Le};var fl={};function ys(B){return B.x}function as(B){return B.y}function xs(B,Q,ie){B.y0=Q,B.y=ie}l.layout.stack=function(){var B=P,Q=ko,ie=lo,de=xs,ye=ys,Le=as;function Ne(Ve,Ge){if(!(ht=Ve.length))return Ve;var Ye=Ve.map(function(en,Zt){return B.call(Ne,en,Zt)}),$e=Ye.map(function(en){return en.map(function(Zt,Ht){return[ye.call(Ne,Zt,Ht),Le.call(Ne,Zt,Ht)]})}),lt=Q.call(Ne,$e,Ge);Ye=l.permute(Ye,lt),$e=l.permute($e,lt);var ht,Et,Ct,St,zt=ie.call(Ne,$e,Ge),Lt=Ye[0].length;for(Ct=0;Ct<Lt;++Ct)for(de.call(Ne,Ye[0][Ct],St=zt[Ct],$e[0][Ct][1]),Et=1;Et<ht;++Et)de.call(Ne,Ye[Et][Ct],St+=$e[Et-1][Ct][1],$e[Et][Ct][1]);return Ve}return Ne.values=function(Ve){return arguments.length?(B=Ve,Ne):B},Ne.order=function(Ve){return arguments.length?(Q="function"==typeof Ve?Ve:To.get(Ve)||ko,Ne):Q},Ne.offset=function(Ve){return arguments.length?(ie="function"==typeof Ve?Ve:so.get(Ve)||lo,Ne):ie},Ne.x=function(Ve){return arguments.length?(ye=Ve,Ne):ye},Ne.y=function(Ve){return arguments.length?(Le=Ve,Ne):Le},Ne.out=function(Ve){return arguments.length?(de=Ve,Ne):de},Ne};var To=l.map({"inside-out":function(B){var Q,ie,de=B.length,ye=B.map(Rs),Le=B.map(Fa),Ne=l.range(de).sort(function(lt,ht){return ye[lt]-ye[ht]}),Ve=0,Ge=0,Ye=[],$e=[];for(Q=0;Q<de;++Q)ie=Ne[Q],Ve<Ge?(Ve+=Le[ie],Ye.push(ie)):(Ge+=Le[ie],$e.push(ie));return $e.reverse().concat(Ye)},reverse:function(B){return l.range(B.length).reverse()},default:ko}),so=l.map({silhouette:function(B){var Q,ie,de,ye=B.length,Le=B[0].length,Ne=[],Ve=0,Ge=[];for(ie=0;ie<Le;++ie){for(Q=0,de=0;Q<ye;Q++)de+=B[Q][ie][1];de>Ve&&(Ve=de),Ne.push(de)}for(ie=0;ie<Le;++ie)Ge[ie]=(Ve-Ne[ie])/2;return Ge},wiggle:function(B){var Q,ie,de,ye,Le,Ne,Ve,Ge,Ye,$e=B.length,lt=B[0],ht=lt.length,Et=[];for(Et[0]=Ge=Ye=0,ie=1;ie<ht;++ie){for(Q=0,ye=0;Q<$e;++Q)ye+=B[Q][ie][1];for(Q=0,Le=0,Ve=lt[ie][0]-lt[ie-1][0];Q<$e;++Q){for(de=0,Ne=(B[Q][ie][1]-B[Q][ie-1][1])/(2*Ve);de<Q;++de)Ne+=(B[de][ie][1]-B[de][ie-1][1])/Ve;Le+=Ne*B[Q][ie][1]}Et[ie]=Ge-=ye?Le/ye*Ve:0,Ge<Ye&&(Ye=Ge)}for(ie=0;ie<ht;++ie)Et[ie]-=Ye;return Et},expand:function(B){var Q,ie,de,ye=B.length,Le=B[0].length,Ne=1/ye,Ve=[];for(ie=0;ie<Le;++ie){for(Q=0,de=0;Q<ye;Q++)de+=B[Q][ie][1];if(de)for(Q=0;Q<ye;Q++)B[Q][ie][1]/=de;else for(Q=0;Q<ye;Q++)B[Q][ie][1]=Ne}for(ie=0;ie<Le;++ie)Ve[ie]=0;return Ve},zero:lo});function ko(B){return l.range(B.length)}function lo(B){for(var Q=-1,ie=B[0].length,de=[];++Q<ie;)de[Q]=0;return de}function Rs(B){for(var Q,ie=1,de=0,ye=B[0][1],Le=B.length;ie<Le;++ie)(Q=B[ie][1])>ye&&(de=ie,ye=Q);return de}function Fa(B){return B.reduce(hl,0)}function hl(B,Q){return B+Q[1]}function pl(B,Q){return zs(B,Math.ceil(Math.log(Q.length)/Math.LN2+1))}function zs(B,Q){for(var ie=-1,de=+B[0],ye=(B[1]-de)/Q,Le=[];++ie<=Q;)Le[ie]=ye*ie+de;return Le}function Mo(B){return[l.min(B),l.max(B)]}function Fs(B,Q){return B.value-Q.value}function Go(B,Q){var ie=B._pack_next;B._pack_next=Q,Q._pack_prev=B,Q._pack_next=ie,ie._pack_prev=Q}function Js(B,Q){B._pack_next=Q,Q._pack_prev=B}function os(B,Q){var ie=Q.x-B.x,de=Q.y-B.y,ye=B.r+Q.r;return.999*ye*ye>ie*ie+de*de}function qo(B){if((Q=B.children)&&(Ge=Q.length)){var Q,ie,de,ye,Le,Ne,Ve,Ge,Ye=1/0,$e=-1/0,lt=1/0,ht=-1/0;if(Q.forEach(bs),(ie=Q[0]).x=-ie.r,ie.y=0,Zt(ie),Ge>1&&((de=Q[1]).x=de.r,de.y=0,Zt(de),Ge>2))for(Ao(ie,de,ye=Q[2]),Zt(ye),Go(ie,ye),ie._pack_prev=ye,Go(ye,de),de=ie._pack_next,Le=3;Le<Ge;Le++){Ao(ie,de,ye=Q[Le]);var Et=0,Ct=1,St=1;for(Ne=de._pack_next;Ne!==de;Ne=Ne._pack_next,Ct++)if(os(Ne,ye)){Et=1;break}if(1==Et)for(Ve=ie._pack_prev;Ve!==Ne._pack_prev&&!os(Ve,ye);Ve=Ve._pack_prev,St++);Et?(Ct<St||Ct==St&&de.r<ie.r?Js(ie,de=Ne):Js(ie=Ve,de),Le--):(Go(ie,ye),de=ye,Zt(ye))}var zt=(Ye+$e)/2,Lt=(lt+ht)/2,en=0;for(Le=0;Le<Ge;Le++)(ye=Q[Le]).x-=zt,ye.y-=Lt,en=Math.max(en,ye.r+Math.sqrt(ye.x*ye.x+ye.y*ye.y));B.r=en,Q.forEach(ss)}function Zt(Ht){Ye=Math.min(Ht.x-Ht.r,Ye),$e=Math.max(Ht.x+Ht.r,$e),lt=Math.min(Ht.y-Ht.r,lt),ht=Math.max(Ht.y+Ht.r,ht)}}function bs(B){B._pack_next=B._pack_prev=B}function ss(B){delete B._pack_next,delete B._pack_prev}function ti(B,Q,ie,de){var ye=B.children;if(B.x=Q+=de*B.x,B.y=ie+=de*B.y,B.r*=de,ye)for(var Le=-1,Ne=ye.length;++Le<Ne;)ti(ye[Le],Q,ie,de)}function Ao(B,Q,ie){var de=B.r+ie.r,ye=Q.x-B.x,Le=Q.y-B.y;if(de&&(ye||Le)){var Ne=Q.r+ie.r,Ve=ye*ye+Le*Le,Ge=.5+((de*=de)-(Ne*=Ne))/(2*Ve),Ye=Math.sqrt(Math.max(0,2*Ne*(de+Ve)-(de-=Ve)*de-Ne*Ne))/(2*Ve);ie.x=B.x+Ge*ye+Ye*Le,ie.y=B.y+Ge*Le-Ye*ye}else ie.x=B.x+de,ie.y=B.y}function uo(B,Q){return B.parent==Q.parent?1:2}function Ui(B){var Q=B.children;return Q.length?Q[0]:B.t}function Ur(B){var Q,ie=B.children;return(Q=ie.length)?ie[Q-1]:B.t}function qr(B,Q,ie){var de=ie/(Q.i-B.i);Q.c-=de,Q.s+=ie,B.c+=de,Q.z+=ie,Q.m+=ie}function So(B,Q,ie){return B.a.parent===Q.parent?B.a:ie}function co(B){var Q=B.children;return Q&&Q.length?co(Q[0]):B}function Ks(B){var Q,ie=B.children;return ie&&(Q=ie.length)?Ks(ie[Q-1]):B}function _s(B){return{x:B.x,y:B.y,dx:B.dx,dy:B.dy}}function Eo(B,Q){var ie=B.x+Q[3],de=B.y+Q[0],ye=B.dx-Q[1]-Q[3],Le=B.dy-Q[0]-Q[2];return ye<0&&(ie+=ye/2,ye=0),Le<0&&(de+=Le/2,Le=0),{x:ie,y:de,dx:ye,dy:Le}}function ws(B){var Q=B[0],ie=B[B.length-1];return Q<ie?[Q,ie]:[ie,Q]}function fo(B){return B.rangeExtent?B.rangeExtent():ws(B.range())}function Zo(B,Q,ie,de){var ye=ie(B[0],B[1]),Le=de(Q[0],Q[1]);return function(Ne){return Le(ye(Ne))}}function Lo(B,Q){var ie,de=0,ye=B.length-1,Le=B[de],Ne=B[ye];return Ne<Le&&(ie=de,de=ye,ye=ie,ie=Le,Le=Ne,Ne=ie),B[de]=Q.floor(Le),B[ye]=Q.ceil(Ne),B}function vi(B){return B?{floor:function(Q){return Math.floor(Q/B)*B},ceil:function(Q){return Math.ceil(Q/B)*B}}:Yo}l.layout.histogram=function(){var B=!0,Q=Number,ie=Mo,de=pl;function ye(Le,Ne){for(var Ve,Ge,Ye=[],$e=Le.map(Q,this),lt=ie.call(this,$e,Ne),ht=de.call(this,lt,$e,Ne),Et=(Ne=-1,$e.length),Ct=ht.length-1,St=B?1:1/Et;++Ne<Ct;)(Ve=Ye[Ne]=[]).dx=ht[Ne+1]-(Ve.x=ht[Ne]),Ve.y=0;if(Ct>0)for(Ne=-1;++Ne<Et;)(Ge=$e[Ne])>=lt[0]&&Ge<=lt[1]&&((Ve=Ye[l.bisect(ht,Ge,1,Ct)-1]).y+=St,Ve.push(Le[Ne]));return Ye}return ye.value=function(Le){return arguments.length?(Q=Le,ye):Q},ye.range=function(Le){return arguments.length?(ie=Ln(Le),ye):ie},ye.bins=function(Le){return arguments.length?(de="number"==typeof Le?function(Ne){return zs(Ne,Le)}:Ln(Le),ye):de},ye.frequency=function(Le){return arguments.length?(B=!!Le,ye):B},ye},l.layout.pack=function(){var B,Q=l.layout.hierarchy().sort(Fs),ie=0,de=[1,1];function ye(Le,Ne){var Ve=Q.call(this,Le,Ne),Ge=Ve[0],Ye=de[0],$e=de[1],lt=null==B?Math.sqrt:"function"==typeof B?B:function(){return B};if(Ge.x=Ge.y=0,Ea(Ge,function(Et){Et.r=+lt(Et.value)}),Ea(Ge,qo),ie){var ht=ie*(B?1:Math.max(2*Ge.r/Ye,2*Ge.r/$e))/2;Ea(Ge,function(Et){Et.r+=ht}),Ea(Ge,qo),Ea(Ge,function(Et){Et.r-=ht})}return ti(Ge,Ye/2,$e/2,B?1:1/Math.max(2*Ge.r/Ye,2*Ge.r/$e)),Ve}return ye.size=function(Le){return arguments.length?(de=Le,ye):de},ye.radius=function(Le){return arguments.length?(B=null==Le||"function"==typeof Le?Le:+Le,ye):B},ye.padding=function(Le){return arguments.length?(ie=+Le,ye):ie},za(ye,Q)},l.layout.tree=function(){var B=l.layout.hierarchy().sort(null).value(null),Q=uo,ie=[1,1],de=null;function ye(Ge,Ye){var $e=B.call(this,Ge,Ye),lt=$e[0],ht=function(Zt){for(var Ht,pn={A:null,children:[Zt]},vn=[pn];null!=(Ht=vn.pop());)for(var Rn,zn=Ht.children,Un=0,Yn=zn.length;Un<Yn;++Un)vn.push((zn[Un]=Rn={_:zn[Un],parent:Ht,children:(Rn=zn[Un].children)&&Rn.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Un}).a=Rn);return pn.children[0]}(lt);if(Ea(ht,Le),ht.parent.m=-ht.z,ms(ht,Ne),de)ms(lt,Ve);else{var Et=lt,Ct=lt,St=lt;ms(lt,function(Zt){Zt.x<Et.x&&(Et=Zt),Zt.x>Ct.x&&(Ct=Zt),Zt.depth>St.depth&&(St=Zt)});var zt=Q(Et,Ct)/2-Et.x,Lt=ie[0]/(Ct.x+Q(Ct,Et)/2+zt),en=ie[1]/(St.depth||1);ms(lt,function(Zt){Zt.x=(Zt.x+zt)*Lt,Zt.y=Zt.depth*en})}return $e}function Le(Ge){var Ye=Ge.children,$e=Ge.parent.children,lt=Ge.i?$e[Ge.i-1]:null;if(Ye.length){!function(Et){for(var Ct,St=0,zt=0,Lt=Et.children,en=Lt.length;--en>=0;)(Ct=Lt[en]).z+=St,Ct.m+=St,St+=Ct.s+(zt+=Ct.c)}(Ge);var ht=(Ye[0].z+Ye[Ye.length-1].z)/2;lt?(Ge.z=lt.z+Q(Ge._,lt._),Ge.m=Ge.z-ht):Ge.z=ht}else lt&&(Ge.z=lt.z+Q(Ge._,lt._));Ge.parent.A=function(Et,Ct,St){if(Ct){for(var zt,Lt=Et,en=Et,Zt=Ct,Ht=Lt.parent.children[0],pn=Lt.m,vn=en.m,Rn=Zt.m,zn=Ht.m;Zt=Ur(Zt),Lt=Ui(Lt),Zt&&Lt;)Ht=Ui(Ht),(en=Ur(en)).a=Et,(zt=Zt.z+Rn-Lt.z-pn+Q(Zt._,Lt._))>0&&(qr(So(Zt,Et,St),Et,zt),pn+=zt,vn+=zt),Rn+=Zt.m,pn+=Lt.m,zn+=Ht.m,vn+=en.m;Zt&&!Ur(en)&&(en.t=Zt,en.m+=Rn-vn),Lt&&!Ui(Ht)&&(Ht.t=Lt,Ht.m+=pn-zn,St=Et)}return St}(Ge,lt,Ge.parent.A||$e[0])}function Ne(Ge){Ge._.x=Ge.z+Ge.parent.m,Ge.m+=Ge.parent.m}function Ve(Ge){Ge.x*=ie[0],Ge.y=Ge.depth*ie[1]}return ye.separation=function(Ge){return arguments.length?(Q=Ge,ye):Q},ye.size=function(Ge){return arguments.length?(de=null==(ie=Ge)?Ve:null,ye):de?null:ie},ye.nodeSize=function(Ge){return arguments.length?(de=null==(ie=Ge)?null:Ve,ye):de?ie:null},za(ye,B)},l.layout.cluster=function(){var B=l.layout.hierarchy().sort(null).value(null),Q=uo,ie=[1,1],de=!1;function ye(Le,Ne){var Ve,Ge=B.call(this,Le,Ne),Ye=Ge[0],$e=0;Ea(Ye,function(St){var Lt,zt=St.children;zt&&zt.length?(St.x=(Lt=zt).reduce(function(en,Zt){return en+Zt.x},0)/Lt.length,St.y=function(Lt){return 1+l.max(Lt,function(en){return en.y})}(zt)):(St.x=Ve?$e+=Q(St,Ve):0,St.y=0,Ve=St)});var lt=co(Ye),ht=Ks(Ye),Et=lt.x-Q(lt,ht)/2,Ct=ht.x+Q(ht,lt)/2;return Ea(Ye,de?function(St){St.x=(St.x-Ye.x)*ie[0],St.y=(Ye.y-St.y)*ie[1]}:function(St){St.x=(St.x-Et)/(Ct-Et)*ie[0],St.y=(1-(Ye.y?St.y/Ye.y:1))*ie[1]}),Ge}return ye.separation=function(Le){return arguments.length?(Q=Le,ye):Q},ye.size=function(Le){return arguments.length?(de=null==(ie=Le),ye):de?null:ie},ye.nodeSize=function(Le){return arguments.length?(de=null!=(ie=Le),ye):de?ie:null},za(ye,B)},l.layout.treemap=function(){var B,Q=l.layout.hierarchy(),ie=Math.round,de=[1,1],ye=null,Le=_s,Ne=!1,Ve="squarify",Ge=.5*(1+Math.sqrt(5));function Ye(St,zt){for(var Lt,en,Zt=-1,Ht=St.length;++Zt<Ht;)en=(Lt=St[Zt]).value*(zt<0?0:zt),Lt.area=isNaN(en)||en<=0?0:en}function $e(St){var zt=St.children;if(zt&&zt.length){var Lt,en,Zt,Ht=Le(St),pn=[],vn=zt.slice(),Rn=1/0,zn="slice"===Ve?Ht.dx:"dice"===Ve?Ht.dy:"slice-dice"===Ve?1&St.depth?Ht.dy:Ht.dx:Math.min(Ht.dx,Ht.dy);for(Ye(vn,Ht.dx*Ht.dy/St.value),pn.area=0;(Zt=vn.length)>0;)pn.push(Lt=vn[Zt-1]),pn.area+=Lt.area,"squarify"!==Ve||(en=ht(pn,zn))<=Rn?(vn.pop(),Rn=en):(pn.area-=pn.pop().area,Et(pn,zn,Ht,!1),zn=Math.min(Ht.dx,Ht.dy),pn.length=pn.area=0,Rn=1/0);pn.length&&(Et(pn,zn,Ht,!0),pn.length=pn.area=0),zt.forEach($e)}}function lt(St){var zt=St.children;if(zt&&zt.length){var Lt,en=Le(St),Zt=zt.slice(),Ht=[];for(Ye(Zt,en.dx*en.dy/St.value),Ht.area=0;Lt=Zt.pop();)Ht.push(Lt),Ht.area+=Lt.area,null!=Lt.z&&(Et(Ht,Lt.z?en.dx:en.dy,en,!Zt.length),Ht.length=Ht.area=0);zt.forEach(lt)}}function ht(St,zt){for(var Lt,en=St.area,Zt=0,Ht=1/0,pn=-1,vn=St.length;++pn<vn;)(Lt=St[pn].area)&&(Lt<Ht&&(Ht=Lt),Lt>Zt&&(Zt=Lt));return zt*=zt,(en*=en)?Math.max(zt*Zt*Ge/en,en/(zt*Ht*Ge)):1/0}function Et(St,zt,Lt,en){var Zt,Ht=-1,pn=St.length,vn=Lt.x,Rn=Lt.y,zn=zt?ie(St.area/zt):0;if(zt==Lt.dx){for((en||zn>Lt.dy)&&(zn=Lt.dy);++Ht<pn;)(Zt=St[Ht]).x=vn,Zt.y=Rn,Zt.dy=zn,vn+=Zt.dx=Math.min(Lt.x+Lt.dx-vn,zn?ie(Zt.area/zn):0);Zt.z=!0,Zt.dx+=Lt.x+Lt.dx-vn,Lt.y+=zn,Lt.dy-=zn}else{for((en||zn>Lt.dx)&&(zn=Lt.dx);++Ht<pn;)(Zt=St[Ht]).x=vn,Zt.y=Rn,Zt.dx=zn,Rn+=Zt.dy=Math.min(Lt.y+Lt.dy-Rn,zn?ie(Zt.area/zn):0);Zt.z=!1,Zt.dy+=Lt.y+Lt.dy-Rn,Lt.x+=zn,Lt.dx-=zn}}function Ct(St){var zt=B||Q(St),Lt=zt[0];return Lt.x=Lt.y=0,Lt.value?(Lt.dx=de[0],Lt.dy=de[1]):Lt.dx=Lt.dy=0,B&&Q.revalue(Lt),Ye([Lt],Lt.dx*Lt.dy/Lt.value),(B?lt:$e)(Lt),Ne&&(B=zt),zt}return Ct.size=function(St){return arguments.length?(de=St,Ct):de},Ct.padding=function(St){if(!arguments.length)return ye;var Lt;return Le=null==(ye=St)?_s:"function"==(Lt=typeof St)?function(en){var Zt=St.call(Ct,en,en.depth);return null==Zt?_s(en):Eo(en,"number"==typeof Zt?[Zt,Zt,Zt,Zt]:Zt)}:("number"===Lt&&(St=[St,St,St,St]),function zt(en){return Eo(en,St)}),Ct},Ct.round=function(St){return arguments.length?(ie=St?Math.round:Number,Ct):ie!=Number},Ct.sticky=function(St){return arguments.length?(Ne=St,B=null,Ct):Ne},Ct.ratio=function(St){return arguments.length?(Ge=St,Ct):Ge},Ct.mode=function(St){return arguments.length?(Ve=St+"",Ct):Ve},za(Ct,Q)},l.random={normal:function(B,Q){var ie=arguments.length;return ie<2&&(Q=1),ie<1&&(B=0),function(){var de,ye,Le;do{Le=(de=2*Math.random()-1)*de+(ye=2*Math.random()-1)*ye}while(!Le||Le>1);return B+Q*de*Math.sqrt(-2*Math.log(Le)/Le)}},logNormal:function(){var B=l.random.normal.apply(l,arguments);return function(){return Math.exp(B())}},bates:function(B){var Q=l.random.irwinHall(B);return function(){return Q()/B}},irwinHall:function(B){return function(){for(var Q=0,ie=0;ie<B;ie++)Q+=Math.random();return Q}}},l.scale={};var Yo={floor:P,ceil:P};function Wo(B,Q,ie,de){var ye=[],Le=[],Ne=0,Ve=Math.min(B.length,Q.length)-1;for(B[Ve]<B[0]&&(B=B.slice().reverse(),Q=Q.slice().reverse());++Ne<=Ve;)ye.push(ie(B[Ne-1],B[Ne])),Le.push(de(Q[Ne-1],Q[Ne]));return function(Ge){var Ye=l.bisect(B,Ge,1,Ve)-1;return Le[Ye](ye[Ye](Ge))}}function Ii(B,Q,ie,de){var ye,Le;function Ne(){var Ge=Math.min(B.length,Q.length)>2?Wo:Zo,Ye=de?is:Uo;return ye=Ge(B,Q,Ye,ie),Le=Ge(Q,B,Ye,Ya),Ve}function Ve(Ge){return ye(Ge)}return Ve.invert=function(Ge){return Le(Ge)},Ve.domain=function(Ge){return arguments.length?(B=Ge.map(Number),Ne()):B},Ve.range=function(Ge){return arguments.length?(Q=Ge,Ne()):Q},Ve.rangeRound=function(Ge){return Ve.range(Ge).interpolate(ol)},Ve.clamp=function(Ge){return arguments.length?(de=Ge,Ne()):de},Ve.interpolate=function(Ge){return arguments.length?(ie=Ge,Ne()):ie},Ve.ticks=function(Ge){return aa(B,Ge)},Ve.tickFormat=function(Ge,Ye){return d3_scale_linearTickFormat(B,Ge,Ye)},Ve.nice=function(Ge){return Wi(B,Ge),Ne()},Ve.copy=function(){return Ii(B,Q,ie,de)},Ne()}function $i(B,Q){return l.rebind(B,Q,"range","rangeRound","interpolate","clamp")}function Wi(B,Q){return Lo(B,vi(Di(B,Q)[2])),Lo(B,vi(Di(B,Q)[2])),B}function Di(B,Q){null==Q&&(Q=10);var ie=ws(B),de=ie[1]-ie[0],ye=Math.pow(10,Math.floor(Math.log(de/Q)/Math.LN10)),Le=Q/de*ye;return Le<=.15?ye*=10:Le<=.35?ye*=5:Le<=.75&&(ye*=2),ie[0]=Math.ceil(ie[0]/ye)*ye,ie[1]=Math.floor(ie[1]/ye)*ye+.5*ye,ie[2]=ye,ie}function aa(B,Q){return l.range.apply(l,Di(B,Q))}function Co(B,Q,ie,de){function ye(Ve){return(ie?Math.log(Ve<0?0:Ve):-Math.log(Ve>0?0:-Ve))/Math.log(Q)}function Le(Ve){return ie?Math.pow(Q,Ve):-Math.pow(Q,-Ve)}function Ne(Ve){return B(ye(Ve))}return Ne.invert=function(Ve){return Le(B.invert(Ve))},Ne.domain=function(Ve){return arguments.length?(ie=Ve[0]>=0,B.domain((de=Ve.map(Number)).map(ye)),Ne):de},Ne.base=function(Ve){return arguments.length?(Q=+Ve,B.domain(de.map(ye)),Ne):Q},Ne.nice=function(){var Ve=Lo(de.map(ye),ie?Math:Ba);return B.domain(Ve),de=Ve.map(Le),Ne},Ne.ticks=function(){var Ve=ws(de),Ge=[],Ye=Ve[0],$e=Ve[1],lt=Math.floor(ye(Ye)),ht=Math.ceil(ye($e)),Et=Q%1?2:Q;if(isFinite(ht-lt)){if(ie){for(;lt<ht;lt++)for(var Ct=1;Ct<Et;Ct++)Ge.push(Le(lt)*Ct);Ge.push(Le(lt))}else for(Ge.push(Le(lt));lt++<ht;)for(Ct=Et-1;Ct>0;Ct--)Ge.push(Le(lt)*Ct);for(lt=0;Ge[lt]<Ye;lt++);for(ht=Ge.length;Ge[ht-1]>$e;ht--);Ge=Ge.slice(lt,ht)}return Ge},Ne.copy=function(){return Co(B.copy(),Q,ie,de)},$i(Ne,B)}l.scale.linear=function(){return Ii([0,1],[0,1],Ya,!1)},l.scale.log=function(){return Co(l.scale.linear().domain([0,1]),10,!0,[1,10])};var Ba={floor:function(B){return-Math.ceil(-B)},ceil:function(B){return-Math.floor(-B)}};function Vi(B,Q,ie){var de=Ta(Q),ye=Ta(1/Q);function Le(Ne){return B(de(Ne))}return Le.invert=function(Ne){return ye(B.invert(Ne))},Le.domain=function(Ne){return arguments.length?(B.domain((ie=Ne.map(Number)).map(de)),Le):ie},Le.ticks=function(Ne){return aa(ie,Ne)},Le.tickFormat=function(Ne,Ve){return d3_scale_linearTickFormat(ie,Ne,Ve)},Le.nice=function(Ne){return Le.domain(Wi(ie,Ne))},Le.exponent=function(Ne){return arguments.length?(de=Ta(Q=Ne),ye=Ta(1/Q),B.domain(ie.map(de)),Le):Q},Le.copy=function(){return Vi(B.copy(),Q,ie)},$i(Le,B)}function Ta(B){return function(Q){return Q<0?-Math.pow(-Q,B):Math.pow(Q,B)}}function La(B,Q){var ie,de,ye;function Le(Ve){return de[((ie.get(Ve)||("range"===Q.t?ie.set(Ve,B.push(Ve)):NaN))-1)%de.length]}function Ne(Ve,Ge){return l.range(B.length).map(function(Ye){return Ve+Ge*Ye})}return Le.domain=function(Ve){if(!arguments.length)return B;B=[],ie=new m;for(var Ge,Ye=-1,$e=Ve.length;++Ye<$e;)ie.has(Ge=Ve[Ye])||ie.set(Ge,B.push(Ge));return Le[Q.t].apply(Le,Q.a)},Le.range=function(Ve){return arguments.length?(de=Ve,ye=0,Q={t:"range",a:arguments},Le):de},Le.rangePoints=function(Ve,Ge){arguments.length<2&&(Ge=0);var Ye=Ve[0],$e=Ve[1],lt=B.length<2?(Ye=(Ye+$e)/2,0):($e-Ye)/(B.length-1+Ge);return de=Ne(Ye+lt*Ge/2,lt),ye=0,Q={t:"rangePoints",a:arguments},Le},Le.rangeRoundPoints=function(Ve,Ge){arguments.length<2&&(Ge=0);var Ye=Ve[0],$e=Ve[1],lt=B.length<2?(Ye=$e=Math.round((Ye+$e)/2),0):($e-Ye)/(B.length-1+Ge)|0;return de=Ne(Ye+Math.round(lt*Ge/2+($e-Ye-(B.length-1+Ge)*lt)/2),lt),ye=0,Q={t:"rangeRoundPoints",a:arguments},Le},Le.rangeBands=function(Ve,Ge,Ye){arguments.length<2&&(Ge=0),arguments.length<3&&(Ye=Ge);var $e=Ve[1]<Ve[0],lt=Ve[$e-0],ht=(Ve[1-$e]-lt)/(B.length-Ge+2*Ye);return de=Ne(lt+ht*Ye,ht),$e&&de.reverse(),ye=ht*(1-Ge),Q={t:"rangeBands",a:arguments},Le},Le.rangeRoundBands=function(Ve,Ge,Ye){arguments.length<2&&(Ge=0),arguments.length<3&&(Ye=Ge);var $e=Ve[1]<Ve[0],lt=Ve[$e-0],ht=Ve[1-$e],Et=Math.floor((ht-lt)/(B.length-Ge+2*Ye));return de=Ne(lt+Math.round((ht-lt-(B.length-Ge)*Et)/2),Et),$e&&de.reverse(),ye=Math.round(Et*(1-Ge)),Q={t:"rangeRoundBands",a:arguments},Le},Le.rangeBand=function(){return ye},Le.rangeExtent=function(){return ws(Q.a[0])},Le.copy=function(){return La(B,Q)},Le.domain(B)}l.scale.pow=function(){return Vi(l.scale.linear(),1,[0,1])},l.scale.sqrt=function(){return l.scale.pow().exponent(.5)},l.scale.ordinal=function(){return La([],{t:"range",a:[[]]})},l.scale.category10=function(){return l.scale.ordinal().range(Bs)},l.scale.category20=function(){return l.scale.ordinal().range(Ca)},l.scale.category20b=function(){return l.scale.ordinal().range(Hi)},l.scale.category20c=function(){return l.scale.ordinal().range(br)};var Bs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ut),Ca=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ut),Hi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ut),br=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ut);function Qi(B,Q){var ie;function de(){var Le=0,Ne=Q.length;for(ie=[];++Le<Ne;)ie[Le-1]=l.quantile(B,Le/Ne);return ye}function ye(Le){if(!isNaN(Le=+Le))return Q[l.bisect(ie,Le)]}return ye.domain=function(Le){return arguments.length?(B=Le.map(p).filter(c).sort(u),de()):B},ye.range=function(Le){return arguments.length?(Q=Le,de()):Q},ye.quantiles=function(){return ie},ye.invertExtent=function(Le){return(Le=Q.indexOf(Le))<0?[NaN,NaN]:[Le>0?ie[Le-1]:B[0],Le<ie.length?ie[Le]:B[B.length-1]]},ye.copy=function(){return Qi(B,Q)},de()}function Ts(B,Q,ie){var de,ye;function Le(Ve){return ie[Math.max(0,Math.min(ye,Math.floor(de*(Ve-B))))]}function Ne(){return de=ie.length/(Q-B),ye=ie.length-1,Le}return Le.domain=function(Ve){return arguments.length?(B=+Ve[0],Q=+Ve[Ve.length-1],Ne()):[B,Q]},Le.range=function(Ve){return arguments.length?(ie=Ve,Ne()):ie},Le.invertExtent=function(Ve){return[Ve=(Ve=ie.indexOf(Ve))<0?NaN:Ve/de+B,Ve+1/de]},Le.copy=function(){return Ts(B,Q,ie)},Ne()}function Ns(B,Q){function ie(de){if(de<=de)return Q[l.bisect(B,de)]}return ie.domain=function(de){return arguments.length?(B=de,ie):B},ie.range=function(de){return arguments.length?(Q=de,ie):Q},ie.invertExtent=function(de){return de=Q.indexOf(de),[B[de-1],B[de]]},ie.copy=function(){return Ns(B,Q)},ie}function Xo(B){function Q(ie){return+ie}return Q.invert=Q,Q.domain=Q.range=function(ie){return arguments.length?(B=ie.map(Q),Q):B},Q.ticks=function(ie){return aa(B,ie)},Q.tickFormat=function(ie,de){return d3_scale_linearTickFormat(B,ie,de)},Q.copy=function(){return Xo(B)},Q}function Jo(){return 0}l.scale.quantile=function(){return Qi([],[])},l.scale.quantize=function(){return Ts(0,1,[0,1])},l.scale.threshold=function(){return Ns([.5],[0,1])},l.scale.identity=function(){return Xo([0,1])},l.svg={},l.svg.arc=function(){var B=mr,Q=Na,ie=Jo,de=ho,ye=ls,Le=ks,Ne=ea;function Ve(){var Ye=Math.max(0,+B.apply(this,arguments)),$e=Math.max(0,+Q.apply(this,arguments)),lt=ye.apply(this,arguments)-Ze,ht=Le.apply(this,arguments)-Ze,Et=Math.abs(ht-lt),Ct=lt>ht?0:1;if($e<Ye&&(St=$e,$e=Ye,Ye=St),Et>=kt)return Ge($e,Ct)+(Ye?Ge(Ye,1-Ct):"")+"Z";var St,zt,Lt,en,Zt,Ht,pn,vn,Rn,zn,Un,Yn,or=0,ar=0,cr=[];if((en=(+Ne.apply(this,arguments)||0)/2)&&(Lt=de===ho?Math.sqrt(Ye*Ye+$e*$e):+de.apply(this,arguments),Ct||(ar*=-1),$e&&(ar=We(Lt/$e*Math.sin(en))),Ye&&(or=We(Lt/Ye*Math.sin(en)))),$e){Zt=$e*Math.cos(lt+ar),Ht=$e*Math.sin(lt+ar),pn=$e*Math.cos(ht-ar),vn=$e*Math.sin(ht-ar);var yr=Math.abs(ht-lt-2*ar)<=At?0:1;if(ar&&ja(Zt,Ht,pn,vn)===Ct^yr){var Pr=(lt+ht)/2;Zt=$e*Math.cos(Pr),Ht=$e*Math.sin(Pr),pn=vn=null}}else Zt=Ht=0;if(Ye){Rn=Ye*Math.cos(ht-or),zn=Ye*Math.sin(ht-or),Un=Ye*Math.cos(lt+or),Yn=Ye*Math.sin(lt+or);var Bn=Math.abs(lt-ht+2*or)<=At?0:1;if(or&&ja(Rn,zn,Un,Yn)===1-Ct^Bn){var rr=(lt+ht)/2;Rn=Ye*Math.cos(rr),zn=Ye*Math.sin(rr),Un=Yn=null}}else Rn=zn=0;if(Et>st&&(St=Math.min(Math.abs($e-Ye)/2,+ie.apply(this,arguments)))>.001){zt=Ye<$e^Ct?0:1;var fr=St,xr=St;if(Et<At){var Er=null==Un?[Rn,zn]:null==pn?[Zt,Ht]:Mt([Zt,Ht],[Un,Yn],[pn,vn],[Rn,zn]),Rr=Zt-Er[0],jr=Ht-Er[1],Wr=pn-Er[0],li=vn-Er[1],ui=1/Math.sin(Math.acos((Rr*Wr+jr*li)/(Math.sqrt(Rr*Rr+jr*jr)*Math.sqrt(Wr*Wr+li*li)))/2),Xr=Math.sqrt(Er[0]*Er[0]+Er[1]*Er[1]);xr=Math.min(St,(Ye-Xr)/(ui-1)),fr=Math.min(St,($e-Xr)/(ui+1))}if(null!=pn){var ki=Pa(null==Un?[Rn,zn]:[Un,Yn],[Zt,Ht],$e,fr,Ct),qi=Pa([pn,vn],[Rn,zn],$e,fr,Ct);St===fr?cr.push("M",ki[0],"A",fr,",",fr," 0 0,",zt," ",ki[1],"A",$e,",",$e," 0 ",1-Ct^ja(ki[1][0],ki[1][1],qi[1][0],qi[1][1]),",",Ct," ",qi[1],"A",fr,",",fr," 0 0,",zt," ",qi[0]):cr.push("M",ki[0],"A",fr,",",fr," 0 1,",zt," ",qi[0])}else cr.push("M",Zt,",",Ht);if(null!=Un){var Pi=Pa([Zt,Ht],[Un,Yn],Ye,-xr,Ct),Bi=Pa([Rn,zn],null==pn?[Zt,Ht]:[pn,vn],Ye,-xr,Ct);St===xr?cr.push("L",Bi[0],"A",xr,",",xr," 0 0,",zt," ",Bi[1],"A",Ye,",",Ye," 0 ",Ct^ja(Bi[1][0],Bi[1][1],Pi[1][0],Pi[1][1]),",",1-Ct," ",Pi[1],"A",xr,",",xr," 0 0,",zt," ",Pi[0]):cr.push("L",Bi[0],"A",xr,",",xr," 0 0,",zt," ",Pi[0])}else cr.push("L",Rn,",",zn)}else cr.push("M",Zt,",",Ht),null!=pn&&cr.push("A",$e,",",$e," 0 ",yr,",",Ct," ",pn,",",vn),cr.push("L",Rn,",",zn),null!=Un&&cr.push("A",Ye,",",Ye," 0 ",Bn,",",1-Ct," ",Un,",",Yn);return cr.push("Z"),cr.join("")}function Ge(Ye,$e){return"M0,"+Ye+"A"+Ye+","+Ye+" 0 1,"+$e+" 0,"+-Ye+"A"+Ye+","+Ye+" 0 1,"+$e+" 0,"+Ye}return Ve.innerRadius=function(Ye){return arguments.length?(B=Ln(Ye),Ve):B},Ve.outerRadius=function(Ye){return arguments.length?(Q=Ln(Ye),Ve):Q},Ve.cornerRadius=function(Ye){return arguments.length?(ie=Ln(Ye),Ve):ie},Ve.padRadius=function(Ye){return arguments.length?(de=Ye==ho?ho:Ln(Ye),Ve):de},Ve.startAngle=function(Ye){return arguments.length?(ye=Ln(Ye),Ve):ye},Ve.endAngle=function(Ye){return arguments.length?(Le=Ln(Ye),Ve):Le},Ve.padAngle=function(Ye){return arguments.length?(Ne=Ln(Ye),Ve):Ne},Ve.centroid=function(){var Ye=(+B.apply(this,arguments)+ +Q.apply(this,arguments))/2,$e=(+ye.apply(this,arguments)+ +Le.apply(this,arguments))/2-Ze;return[Math.cos($e)*Ye,Math.sin($e)*Ye]},Ve};var ho="auto";function mr(B){return B.innerRadius}function Na(B){return B.outerRadius}function ls(B){return B.startAngle}function ks(B){return B.endAngle}function ea(B){return B&&B.padAngle}function ja(B,Q,ie,de){return(B-ie)*Q-(Q-de)*B>0?0:1}function Pa(B,Q,ie,de,ye){var Le=B[0]-Q[0],Ne=B[1]-Q[1],Ve=(ye?de:-de)/Math.sqrt(Le*Le+Ne*Ne),Ge=Ve*Ne,Ye=-Ve*Le,$e=B[0]+Ge,lt=B[1]+Ye,ht=Q[0]+Ge,Et=Q[1]+Ye,Ct=($e+ht)/2,St=(lt+Et)/2,zt=ht-$e,Lt=Et-lt,en=zt*zt+Lt*Lt,Zt=ie-de,Ht=$e*Et-ht*lt,pn=(Lt<0?-1:1)*Math.sqrt(Math.max(0,Zt*Zt*en-Ht*Ht)),vn=(Ht*Lt-zt*pn)/en,Rn=(-Ht*zt-Lt*pn)/en,zn=(Ht*Lt+zt*pn)/en,Un=(-Ht*zt+Lt*pn)/en,Yn=vn-Ct,or=Rn-St,ar=zn-Ct,cr=Un-St;return Yn*Yn+or*or>ar*ar+cr*cr&&(vn=zn,Rn=Un),[[vn-Ge,Rn-Ye],[vn*ie/Zt,Rn*ie/Zt]]}function ka(){return!0}function Ja(B){var Q=Vn,ie=In,de=ka,ye=Ri,Le=ye.key,Ne=.7;function Ve(Ge){var Ye,$e=[],lt=[],ht=-1,Et=Ge.length,Ct=Ln(Q),St=Ln(ie);function zt(){$e.push("M",ye(B(lt),Ne))}for(;++ht<Et;)de.call(this,Ye=Ge[ht],ht)?lt.push([+Ct.call(this,Ye,ht),+St.call(this,Ye,ht)]):lt.length&&(zt(),lt=[]);return lt.length&&zt(),$e.length?$e.join(""):null}return Ve.x=function(Ge){return arguments.length?(Q=Ge,Ve):Q},Ve.y=function(Ge){return arguments.length?(ie=Ge,Ve):ie},Ve.defined=function(Ge){return arguments.length?(de=Ge,Ve):de},Ve.interpolate=function(Ge){return arguments.length?(Le="function"==typeof Ge?ye=Ge:(ye=po.get(Ge)||Ri).key,Ve):Le},Ve.tension=function(Ge){return arguments.length?(Ne=Ge,Ve):Ne},Ve}l.svg.line=function(){return Ja(P)};var po=l.map({linear:Ri,"linear-closed":Ko,step:function(B){for(var Q=0,ie=B.length,de=B[0],ye=[de[0],",",de[1]];++Q<ie;)ye.push("H",(de[0]+(de=B[Q])[0])/2,"V",de[1]);return ie>1&&ye.push("H",de[0]),ye.join("")},"step-before":us,"step-after":Gi,basis:ga,"basis-open":function(B){if(B.length<4)return Ri(B);for(var Q,ie=[],de=-1,ye=B.length,Le=[0],Ne=[0];++de<3;)Le.push((Q=B[de])[0]),Ne.push(Q[1]);for(ie.push(zi(Ti,Le)+","+zi(Ti,Ne)),--de;++de<ye;)Q=B[de],Le.shift(),Le.push(Q[0]),Ne.shift(),Ne.push(Q[1]),Kr(ie,Le,Ne);return ie.join("")},"basis-closed":function(B){for(var Q,ie,de=-1,ye=B.length,Le=ye+4,Ne=[],Ve=[];++de<4;)Ne.push((ie=B[de%ye])[0]),Ve.push(ie[1]);for(Q=[zi(Ti,Ne),",",zi(Ti,Ve)],--de;++de<Le;)ie=B[de%ye],Ne.shift(),Ne.push(ie[0]),Ve.shift(),Ve.push(ie[1]),Kr(Q,Ne,Ve);return Q.join("")},bundle:function(B,Q){var ie=B.length-1;if(ie)for(var de,ye,Le=B[0][0],Ne=B[0][1],Ve=B[ie][0]-Le,Ge=B[ie][1]-Ne,Ye=-1;++Ye<=ie;)(de=B[Ye])[0]=Q*de[0]+(1-Q)*(Le+(ye=Ye/ie)*Ve),de[1]=Q*de[1]+(1-Q)*(Ne+ye*Ge);return ga(B)},cardinal:function(B,Q){return B.length<3?Ri(B):B[0]+ni(B,Ms(B,Q))},"cardinal-open":function(B,Q){return B.length<4?Ri(B):B[1]+ni(B.slice(1,-1),Ms(B,Q))},"cardinal-closed":function(B,Q){return B.length<3?Ko(B):B[0]+ni((B.push(B[0]),B),Ms([B[B.length-2]].concat(B,[B[1]]),Q))},monotone:function(B){return B.length<3?Ri(B):B[0]+ni(B,function(Q){for(var ie,de,ye,Le,Ne=[],Ve=function($e){for(var lt=0,ht=$e.length-1,Et=[],Ct=$e[0],St=$e[1],zt=Et[0]=Ma(Ct,St);++lt<ht;)Et[lt]=(zt+(zt=Ma(Ct=St,St=$e[lt+1])))/2;return Et[lt]=zt,Et}(Q),Ge=-1,Ye=Q.length-1;++Ge<Ye;)ie=Ma(Q[Ge],Q[Ge+1]),y(ie)<st?Ve[Ge]=Ve[Ge+1]=0:(Le=(de=Ve[Ge]/ie)*de+(ye=Ve[Ge+1]/ie)*ye)>9&&(Le=3*ie/Math.sqrt(Le),Ve[Ge]=Le*de,Ve[Ge+1]=Le*ye);for(Ge=-1;++Ge<=Ye;)Le=(Q[Math.min(Ye,Ge+1)][0]-Q[Math.max(0,Ge-1)][0])/(6*(1+Ve[Ge]*Ve[Ge])),Ne.push([Le||0,Ve[Ge]*Le||0]);return Ne}(B))}});function Ri(B){return B.length>1?B.join("L"):B+"Z"}function Ko(B){return B.join("L")+"Z"}function us(B){for(var Q=0,ie=B.length,de=B[0],ye=[de[0],",",de[1]];++Q<ie;)ye.push("V",(de=B[Q])[1],"H",de[0]);return ye.join("")}function Gi(B){for(var Q=0,ie=B.length,de=B[0],ye=[de[0],",",de[1]];++Q<ie;)ye.push("H",(de=B[Q])[0],"V",de[1]);return ye.join("")}function ni(B,Q){if(Q.length<1||B.length!=Q.length&&B.length!=Q.length+2)return Ri(B);var ie=B.length!=Q.length,de="",ye=B[0],Le=B[1],Ne=Q[0],Ve=Ne,Ge=1;if(ie&&(de+="Q"+(Le[0]-2*Ne[0]/3)+","+(Le[1]-2*Ne[1]/3)+","+Le[0]+","+Le[1],ye=B[1],Ge=2),Q.length>1){Le=B[Ge],Ge++,de+="C"+(ye[0]+Ne[0])+","+(ye[1]+Ne[1])+","+(Le[0]-(Ve=Q[1])[0])+","+(Le[1]-Ve[1])+","+Le[0]+","+Le[1];for(var Ye=2;Ye<Q.length;Ye++,Ge++)de+="S"+((Le=B[Ge])[0]-(Ve=Q[Ye])[0])+","+(Le[1]-Ve[1])+","+Le[0]+","+Le[1]}if(ie){var $e=B[Ge];de+="Q"+(Le[0]+2*Ve[0]/3)+","+(Le[1]+2*Ve[1]/3)+","+$e[0]+","+$e[1]}return de}function Ms(B,Q){for(var ie,de=[],ye=(1-Q)/2,Le=B[0],Ne=B[1],Ve=1,Ge=B.length;++Ve<Ge;)ie=Le,Le=Ne,de.push([ye*((Ne=B[Ve])[0]-ie[0]),ye*(Ne[1]-ie[1])]);return de}function ga(B){if(B.length<3)return Ri(B);var Q=1,ie=B.length,de=B[0],ye=de[0],Le=de[1],Ne=[ye,ye,ye,(de=B[1])[0]],Ve=[Le,Le,Le,de[1]],Ge=[ye,",",Le,"L",zi(Ti,Ne),",",zi(Ti,Ve)];for(B.push(B[ie-1]);++Q<=ie;)de=B[Q],Ne.shift(),Ne.push(de[0]),Ve.shift(),Ve.push(de[1]),Kr(Ge,Ne,Ve);return B.pop(),Ge.push("L",de),Ge.join("")}function zi(B,Q){return B[0]*Q[0]+B[1]*Q[1]+B[2]*Q[2]+B[3]*Q[3]}po.forEach(function(B,Q){Q.key=B,Q.closed=/-closed$/.test(B)});var Ka=[0,2/3,1/3,0],$s=[0,1/3,2/3,0],Ti=[0,1/6,2/3,1/6];function Kr(B,Q,ie){B.push("C",zi(Ka,Q),",",zi(Ka,ie),",",zi($s,Q),",",zi($s,ie),",",zi(Ti,Q),",",zi(Ti,ie))}function Ma(B,Q){return(Q[1]-B[1])/(Q[0]-B[0])}function $a(B){for(var Q,ie,de,ye=-1,Le=B.length;++ye<Le;)ie=(Q=B[ye])[0],de=Q[1]-Ze,Q[0]=ie*Math.cos(de),Q[1]=ie*Math.sin(de);return B}function Ua(B){var Q=Vn,ie=Vn,de=0,ye=In,Le=ka,Ne=Ri,Ve=Ne.key,Ge=Ne,Ye="L",$e=.7;function lt(ht){var Et,Ct,St,zt=[],Lt=[],en=[],Zt=-1,Ht=ht.length,pn=Ln(Q),vn=Ln(de),Rn=Q===ie?function(){return Ct}:Ln(ie),zn=de===ye?function(){return St}:Ln(ye);function Un(){zt.push("M",Ne(B(en),$e),Ye,Ge(B(Lt.reverse()),$e),"Z")}for(;++Zt<Ht;)Le.call(this,Et=ht[Zt],Zt)?(Lt.push([Ct=+pn.call(this,Et,Zt),St=+vn.call(this,Et,Zt)]),en.push([+Rn.call(this,Et,Zt),+zn.call(this,Et,Zt)])):Lt.length&&(Un(),Lt=[],en=[]);return Lt.length&&Un(),zt.length?zt.join(""):null}return lt.x=function(ht){return arguments.length?(Q=ie=ht,lt):ie},lt.x0=function(ht){return arguments.length?(Q=ht,lt):Q},lt.x1=function(ht){return arguments.length?(ie=ht,lt):ie},lt.y=function(ht){return arguments.length?(de=ye=ht,lt):ye},lt.y0=function(ht){return arguments.length?(de=ht,lt):de},lt.y1=function(ht){return arguments.length?(ye=ht,lt):ye},lt.defined=function(ht){return arguments.length?(Le=ht,lt):Le},lt.interpolate=function(ht){return arguments.length?(Ve="function"==typeof ht?Ne=ht:(Ne=po.get(ht)||Ri).key,Ge=Ne.reverse||Ne,Ye=Ne.closed?"M":"L",lt):Ve},lt.tension=function(ht){return arguments.length?($e=ht,lt):$e},lt}function js(B){return B.source}function Po(B){return B.target}function $o(B){return B.radius}function Ci(B){return[B.x,B.y]}function Xi(){return 64}function Mr(){return"circle"}function Sr(B){var Q=Math.sqrt(B/At);return"M0,"+Q+"A"+Q+","+Q+" 0 1,1 0,"+-Q+"A"+Q+","+Q+" 0 1,1 0,"+Q+"Z"}l.svg.line.radial=function(){var B=Ja($a);return B.radius=B.x,delete B.x,B.angle=B.y,delete B.y,B},us.reverse=Gi,Gi.reverse=us,l.svg.area=function(){return Ua(P)},l.svg.area.radial=function(){var B=Ua($a);return B.radius=B.x,delete B.x,B.innerRadius=B.x0,delete B.x0,B.outerRadius=B.x1,delete B.x1,B.angle=B.y,delete B.y,B.startAngle=B.y0,delete B.y0,B.endAngle=B.y1,delete B.y1,B},l.svg.chord=function(){var B=js,Q=Po,ie=$o,de=ls,ye=ks;function Le(Ye,$e){var lt,ht,Et=Ne(this,B,Ye,$e),Ct=Ne(this,Q,Ye,$e);return"M"+Et.p0+Ve(Et.r,Et.p1,Et.a1-Et.a0)+((lt=Et).a0==(ht=Ct).a0&&lt.a1==ht.a1?Ge(0,0,0,Et.p0):Ge(0,0,0,Ct.p0)+Ve(Ct.r,Ct.p1,Ct.a1-Ct.a0)+Ge(0,0,0,Et.p0))+"Z"}function Ne(Ye,$e,lt,ht){var Et=$e.call(Ye,lt,ht),Ct=ie.call(Ye,Et,ht),St=de.call(Ye,Et,ht)-Ze,zt=ye.call(Ye,Et,ht)-Ze;return{r:Ct,a0:St,a1:zt,p0:[Ct*Math.cos(St),Ct*Math.sin(St)],p1:[Ct*Math.cos(zt),Ct*Math.sin(zt)]}}function Ve(Ye,$e,lt){return"A"+Ye+","+Ye+" 0 "+ +(lt>At)+",1 "+$e}function Ge(Ye,$e,lt,ht){return"Q 0,0 "+ht}return Le.radius=function(Ye){return arguments.length?(ie=Ln(Ye),Le):ie},Le.source=function(Ye){return arguments.length?(B=Ln(Ye),Le):B},Le.target=function(Ye){return arguments.length?(Q=Ln(Ye),Le):Q},Le.startAngle=function(Ye){return arguments.length?(de=Ln(Ye),Le):de},Le.endAngle=function(Ye){return arguments.length?(ye=Ln(Ye),Le):ye},Le},l.svg.diagonal=function(){var B=js,Q=Po,ie=Ci;function de(ye,Le){var Ne=B.call(this,ye,Le),Ve=Q.call(this,ye,Le),Ge=(Ne.y+Ve.y)/2,Ye=[Ne,{x:Ne.x,y:Ge},{x:Ve.x,y:Ge},Ve];return"M"+(Ye=Ye.map(ie))[0]+"C"+Ye[1]+" "+Ye[2]+" "+Ye[3]}return de.source=function(ye){return arguments.length?(B=Ln(ye),de):B},de.target=function(ye){return arguments.length?(Q=Ln(ye),de):Q},de.projection=function(ye){return arguments.length?(ie=ye,de):ie},de},l.svg.diagonal.radial=function(){var B=l.svg.diagonal(),Q=Ci,ie=B.projection;return B.projection=function(de){return arguments.length?ie((ye=Q=de,function(){var Le=ye.apply(this,arguments),Ne=Le[0],Ve=Le[1]-Ze;return[Ne*Math.cos(Ve),Ne*Math.sin(Ve)]})):Q;var ye},B},l.svg.symbol=function(){var B=Mr,Q=Xi;function ie(de,ye){return(cs.get(B.call(this,de,ye))||Sr)(Q.call(this,de,ye))}return ie.type=function(de){return arguments.length?(B=Ln(de),ie):B},ie.size=function(de){return arguments.length?(Q=Ln(de),ie):Q},ie};var cs=l.map({circle:Sr,cross:function(B){var Q=Math.sqrt(B/5)/2;return"M"+-3*Q+","+-Q+"H"+-Q+"V"+-3*Q+"H"+Q+"V"+-Q+"H"+3*Q+"V"+Q+"H"+Q+"V"+3*Q+"H"+-Q+"V"+Q+"H"+-3*Q+"Z"},diamond:function(B){var Q=Math.sqrt(B/(2*Oo)),ie=Q*Oo;return"M0,"+-Q+"L"+ie+",0 0,"+Q+" "+-ie+",0Z"},square:function(B){var Q=Math.sqrt(B)/2;return"M"+-Q+","+-Q+"L"+Q+","+-Q+" "+Q+","+Q+" "+-Q+","+Q+"Z"},"triangle-down":function(B){var Q=Math.sqrt(B/oa),ie=Q*oa/2;return"M0,"+ie+"L"+Q+","+-ie+" "+-Q+","+-ie+"Z"},"triangle-up":function(B){var Q=Math.sqrt(B/oa),ie=Q*oa/2;return"M0,"+-ie+"L"+Q+","+ie+" "+-Q+","+ie+"Z"}});l.svg.symbolTypes=cs.keys();var oa=Math.sqrt(3),Oo=Math.tan(30*Xe);xe.transition=function(B){for(var Q,ie,de=Io||++Fi,ye=Qo(B),Le=[],Ne=Do||{time:Date.now(),ease:io,delay:0,duration:250},Ve=-1,Ge=this.length;++Ve<Ge;){Le.push(Q=[]);for(var Ye=this[Ve],$e=-1,lt=Ye.length;++$e<lt;)(ie=Ye[$e])&&hs(ie,$e,ye,de,Ne),Q.push(ie)}return Ki(Le,ye,de)},xe.interrupt=function(B){return this.each(null==B?Ji:fs(Qo(B)))};var Ji=fs(Qo());function fs(B){return function(){var Q,ie,de;(Q=this[B])&&(de=Q[ie=Q.active])&&(de.timer.c=null,de.timer.t=NaN,--Q.count?delete Q[ie]:delete this[B],Q.active+=.5,de.event&&de.event.interrupt.call(this,this.__data__,de.index))}}function Ki(B,Q,ie){return $(B,Or),B.namespace=Q,B.id=ie,B}var Io,Do,Or=[],Fi=0;function Qa(B,Q,ie,de){var ye=B.id,Le=B.namespace;return ve(B,"function"==typeof ie?function(Ne,Ve,Ge){Ne[Le][ye].tween.set(Q,de(ie.call(Ne,Ne.__data__,Ve,Ge)))}:(ie=de(ie),function(Ne){Ne[Le][ye].tween.set(Q,ie)}))}function va(B){return null==B&&(B=""),function(){this.textContent=B}}function Qo(B){return null==B?"__transition__":"__transition_"+B+"__"}function hs(B,Q,ie,de,ye){var Le,Ne,Ve,Ge,Ye,$e=B[ie]||(B[ie]={active:0,count:0}),lt=$e[de];function ht(Ct){var St=$e.active,zt=$e[St];for(var Lt in zt&&(zt.timer.c=null,zt.timer.t=NaN,--$e.count,delete $e[St],zt.event&&zt.event.interrupt.call(B,B.__data__,zt.index)),$e)if(+Lt<de){var en=$e[Lt];en.timer.c=null,en.timer.t=NaN,--$e.count,delete $e[Lt]}Ne.c=Et,tn(function(){return Ne.c&&Et(Ct||1)&&(Ne.c=null,Ne.t=NaN),1},0,Le),$e.active=de,lt.event&&lt.event.start.call(B,B.__data__,Q),Ye=[],lt.tween.forEach(function(Zt,Ht){(Ht=Ht.call(B,B.__data__,Q))&&Ye.push(Ht)}),Ge=lt.ease,Ve=lt.duration}function Et(Ct){for(var St=Ct/Ve,zt=Ge(St),Lt=Ye.length;Lt>0;)Ye[--Lt].call(B,zt);if(St>=1)return lt.event&&lt.event.end.call(B,B.__data__,Q),--$e.count?delete $e[de]:delete B[ie],1}lt||(Ne=tn(function(Ct){var St=lt.delay;if(Ne.t=St+Le,St<=Ct)return ht(Ct-St);Ne.c=ht},0,Le=ye.time),lt=$e[de]={tween:new m,time:Le,timer:Ne,delay:ye.delay,duration:ye.duration,ease:ye.ease,index:Q},ye=null,++$e.count)}Or.call=xe.call,Or.empty=xe.empty,Or.node=xe.node,Or.size=xe.size,l.transition=function(B,Q){return B&&B.transition?Io?B.transition(Q):B:l.selection().transition(B)},l.transition.prototype=Or,Or.select=function(B){var Q,ie,de,ye=this.id,Le=this.namespace,Ne=[];B=Me(B);for(var Ve=-1,Ge=this.length;++Ve<Ge;){Ne.push(Q=[]);for(var Ye=this[Ve],$e=-1,lt=Ye.length;++$e<lt;)(de=Ye[$e])&&(ie=B.call(de,de.__data__,$e,Ve))?("__data__"in de&&(ie.__data__=de.__data__),hs(ie,$e,Le,ye,de[Le][ye]),Q.push(ie)):Q.push(null)}return Ki(Ne,Le,ye)},Or.selectAll=function(B){var Q,ie,de,ye,Le,Ne=this.id,Ve=this.namespace,Ge=[];B=me(B);for(var Ye=-1,$e=this.length;++Ye<$e;)for(var lt=this[Ye],ht=-1,Et=lt.length;++ht<Et;)if(de=lt[ht]){Le=de[Ve][Ne],ie=B.call(de,de.__data__,ht,Ye),Ge.push(Q=[]);for(var Ct=-1,St=ie.length;++Ct<St;)(ye=ie[Ct])&&hs(ye,Ct,Ve,Ne,Le),Q.push(ye)}return Ki(Ge,Ve,Ne)},Or.filter=function(B){var Q,ie,de=[];"function"!=typeof B&&(B=ce(B));for(var ye=0,Le=this.length;ye<Le;ye++){de.push(Q=[]);for(var Ne,Ve=0,Ge=(Ne=this[ye]).length;Ve<Ge;Ve++)(ie=Ne[Ve])&&B.call(ie,ie.__data__,Ve,ye)&&Q.push(ie)}return Ki(de,this.namespace,this.id)},Or.tween=function(B,Q){var ie=this.id,de=this.namespace;return arguments.length<2?this.node()[de][ie].tween.get(B):ve(this,null==Q?function(ye){ye[de][ie].tween.remove(B)}:function(ye){ye[de][ie].tween.set(B,Q)})},Or.attr=function(B,Q){if(arguments.length<2){for(Q in B)this.attr(Q,B[Q]);return this}var ie="transform"==B?_o:Ya,de=l.ns.qualify(B);function ye(){this.removeAttribute(de)}function Le(){this.removeAttributeNS(de.space,de.local)}return Qa(this,"attr."+B,Q,de.local?function(Ne){return null==Ne?Le:(Ne+="",function(){var Ve,Ge=this.getAttributeNS(de.space,de.local);return Ge!==Ne&&(Ve=ie(Ge,Ne),function(Ye){this.setAttributeNS(de.space,de.local,Ve(Ye))})})}:function(Ne){return null==Ne?ye:(Ne+="",function(){var Ve,Ge=this.getAttribute(de);return Ge!==Ne&&(Ve=ie(Ge,Ne),function(Ye){this.setAttribute(de,Ve(Ye))})})})},Or.attrTween=function(B,Q){var ie=l.ns.qualify(B);return this.tween("attr."+B,ie.local?function(de,ye){var Le=Q.call(this,de,ye,this.getAttributeNS(ie.space,ie.local));return Le&&function(Ne){this.setAttributeNS(ie.space,ie.local,Le(Ne))}}:function(de,ye){var Le=Q.call(this,de,ye,this.getAttribute(ie));return Le&&function(Ne){this.setAttribute(ie,Le(Ne))}})},Or.style=function(B,Q,ie){var de=arguments.length;if(de<3){if("string"!=typeof B){for(ie in de<2&&(Q=""),B)this.style(ie,B[ie],Q);return this}ie=""}function ye(){this.style.removeProperty(B)}return Qa(this,"style."+B,Q,function(Le){return null==Le?ye:(Le+="",function(){var Ne,Ve=t(this).getComputedStyle(this,null).getPropertyValue(B);return Ve!==Le&&(Ne=Ya(Ve,Le),function(Ge){this.style.setProperty(B,Ne(Ge),ie)})})})},Or.styleTween=function(B,Q,ie){return arguments.length<3&&(ie=""),this.tween("style."+B,function(de,ye){var Le=Q.call(this,de,ye,t(this).getComputedStyle(this,null).getPropertyValue(B));return Le&&function(Ne){this.style.setProperty(B,Le(Ne),ie)}})},Or.text=function(B){return Qa(this,"text",B,va)},Or.remove=function(){var B=this.namespace;return this.each("end.transition",function(){var Q;this[B].count<2&&(Q=this.parentNode)&&Q.removeChild(this)})},Or.ease=function(B){var Q=this.id,ie=this.namespace;return arguments.length<1?this.node()[ie][Q].ease:("function"!=typeof B&&(B=l.ease.apply(l,arguments)),ve(this,function(de){de[ie][Q].ease=B}))},Or.delay=function(B){var Q=this.id,ie=this.namespace;return arguments.length<1?this.node()[ie][Q].delay:ve(this,"function"==typeof B?function(de,ye,Le){de[ie][Q].delay=+B.call(de,de.__data__,ye,Le)}:(B=+B,function(de){de[ie][Q].delay=B}))},Or.duration=function(B){var Q=this.id,ie=this.namespace;return arguments.length<1?this.node()[ie][Q].duration:ve(this,"function"==typeof B?function(de,ye,Le){de[ie][Q].duration=Math.max(1,B.call(de,de.__data__,ye,Le))}:(B=Math.max(1,B),function(de){de[ie][Q].duration=B}))},Or.each=function(B,Q){var ie=this.id,de=this.namespace;if(arguments.length<2){var ye=Do,Le=Io;try{Io=ie,ve(this,function(Ne,Ve,Ge){Do=Ne[de][ie],B.call(Ne,Ne.__data__,Ve,Ge)})}finally{Do=ye,Io=Le}}else ve(this,function(Ne){var Ve=Ne[de][ie];(Ve.event||(Ve.event=l.dispatch("start","end","interrupt"))).on(B,Q)});return this},Or.transition=function(){for(var B,Q,ie,de=this.id,ye=++Fi,Le=this.namespace,Ne=[],Ve=0,Ge=this.length;Ve<Ge;Ve++){Ne.push(B=[]);for(var Ye,$e=0,lt=(Ye=this[Ve]).length;$e<lt;$e++)(Q=Ye[$e])&&hs(Q,$e,Le,ye,{time:(ie=Q[Le][de]).time,ease:ie.ease,delay:ie.delay+ie.duration,duration:ie.duration}),B.push(Q)}return Ki(Ne,Le,ye)},l.svg.axis=function(){var B,Q=l.scale.linear(),ie=es,de=6,ye=6,Le=3,Ne=[10],Ve=null;function Ge(Ye){Ye.each(function(){var $e,lt=l.select(this),ht=this.__chart__||Q,Et=this.__chart__=Q.copy(),Ct=Ve??(Et.ticks?Et.ticks.apply(Et,Ne):Et.domain()),St=B??(Et.tickFormat?Et.tickFormat.apply(Et,Ne):P),zt=lt.selectAll(".tick").data(Ct,Et),Lt=zt.enter().insert("g",".domain").attr("class","tick").style("opacity",st),en=l.transition(zt.exit()).style("opacity",st).remove(),Zt=l.transition(zt.order()).style("opacity",1),Ht=Math.max(de,0)+Le,pn=fo(Et),vn=lt.selectAll(".domain").data([0]),Rn=(vn.enter().append("path").attr("class","domain"),l.transition(vn));Lt.append("line"),Lt.append("text");var zn,Un,Yn,or,ar=Lt.select("line"),cr=Zt.select("line"),yr=zt.select("text").text(St),Pr=Lt.select("text"),Bn=Zt.select("text"),rr="top"===ie||"left"===ie?-1:1;if("bottom"===ie||"top"===ie?($e=z,zn="x",Yn="y",Un="x2",or="y2",yr.attr("dy",rr<0?"0em":".71em").style("text-anchor","middle"),Rn.attr("d","M"+pn[0]+","+rr*ye+"V0H"+pn[1]+"V"+rr*ye)):($e=H,zn="y",Yn="x",Un="y2",or="x2",yr.attr("dy",".32em").style("text-anchor",rr<0?"end":"start"),Rn.attr("d","M"+rr*ye+","+pn[0]+"H0V"+pn[1]+"H"+rr*ye)),ar.attr(or,rr*de),Pr.attr(Yn,rr*Ht),cr.attr(Un,0).attr(or,rr*de),Bn.attr(zn,0).attr(Yn,rr*Ht),Et.rangeBand){var fr=Et,xr=fr.rangeBand()/2;ht=Et=function(Er){return fr(Er)+xr}}else ht.rangeBand?ht=Et:en.call($e,Et,ht);Lt.call($e,ht,Et),Zt.call($e,Et,Et)})}return Ge.scale=function(Ye){return arguments.length?(Q=Ye,Ge):Q},Ge.orient=function(Ye){return arguments.length?(ie=Ye in go?Ye+"":es,Ge):ie},Ge.ticks=function(){return arguments.length?(Ne=b(arguments),Ge):Ne},Ge.tickValues=function(Ye){return arguments.length?(Ve=Ye,Ge):Ve},Ge.tickFormat=function(Ye){return arguments.length?(B=Ye,Ge):B},Ge.tickSize=function(Ye){var $e=arguments.length;return $e?(de=+Ye,ye=+arguments[$e-1],Ge):de},Ge.innerTickSize=function(Ye){return arguments.length?(de=+Ye,Ge):de},Ge.outerTickSize=function(Ye){return arguments.length?(ye=+Ye,Ge):ye},Ge.tickPadding=function(Ye){return arguments.length?(Le=+Ye,Ge):Le},Ge.tickSubdivide=function(){return arguments.length&&Ge},Ge};var es="bottom",go={top:1,right:1,bottom:1,left:1};function z(B,Q,ie){B.attr("transform",function(de){var ye=Q(de);return"translate("+(isFinite(ye)?ye:ie(de))+",0)"})}function H(B,Q,ie){B.attr("transform",function(de){var ye=Q(de);return"translate(0,"+(isFinite(ye)?ye:ie(de))+")"})}l.svg.brush=function(){var B,Q,ie=Y($e,"brushstart","brush","brushend"),de=null,ye=null,Le=[0,0],Ne=[0,0],Ve=!0,Ge=!0,Ye=K[0];function $e(St){St.each(function(){var zt=l.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ct).on("touchstart.brush",Ct),Lt=zt.selectAll(".background").data([0]);Lt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),zt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var en=zt.selectAll(".resize").data(Ye,P);en.exit().remove(),en.enter().append("g").attr("class",function(vn){return"resize "+vn}).style("cursor",function(vn){return V[vn]}).append("rect").attr("x",function(vn){return/[ew]$/.test(vn)?-3:null}).attr("y",function(vn){return/^[ns]/.test(vn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),en.style("display",$e.empty()?"none":null);var Zt,Ht=l.transition(zt),pn=l.transition(Lt);de&&(Zt=fo(de),pn.attr("x",Zt[0]).attr("width",Zt[1]-Zt[0]),ht(Ht)),ye&&(Zt=fo(ye),pn.attr("y",Zt[0]).attr("height",Zt[1]-Zt[0]),Et(Ht)),lt(Ht)})}function lt(St){St.selectAll(".resize").attr("transform",function(zt){return"translate("+Le[+/e$/.test(zt)]+","+Ne[+/^s/.test(zt)]+")"})}function ht(St){St.select(".extent").attr("x",Le[0]),St.selectAll(".extent,.n>rect,.s>rect").attr("width",Le[1]-Le[0])}function Et(St){St.select(".extent").attr("y",Ne[0]),St.selectAll(".extent,.e>rect,.w>rect").attr("height",Ne[1]-Ne[0])}function Ct(){var St,zt,Lt=this,en=l.select(l.event.target),Zt=ie.of(Lt,arguments),Ht=l.select(Lt),pn=en.datum(),vn=!/^(n|s)$/.test(pn)&&de,Rn=!/^(e|w)$/.test(pn)&&ye,zn=en.classed("extent"),Un=dt(Lt),Yn=l.mouse(Lt),or=l.select(t(Lt)).on("keydown.brush",function(){32==l.event.keyCode&&(zn||(St=null,Yn[0]-=Le[1],Yn[1]-=Ne[1],zn=2),J())}).on("keyup.brush",function(){32==l.event.keyCode&&2==zn&&(Yn[0]+=Le[1],Yn[1]+=Ne[1],zn=0,J())});if(l.event.changedTouches?or.on("touchmove.brush",yr).on("touchend.brush",Bn):or.on("mousemove.brush",yr).on("mouseup.brush",Bn),Ht.interrupt().selectAll("*").interrupt(),zn)Yn[0]=Le[0]-Yn[0],Yn[1]=Ne[0]-Yn[1];else if(pn){var ar=+/w$/.test(pn),cr=+/^n/.test(pn);zt=[Le[1-ar]-Yn[0],Ne[1-cr]-Yn[1]],Yn[0]=Le[ar],Yn[1]=Ne[cr]}else l.event.altKey&&(St=Yn.slice());function yr(){var rr=l.mouse(Lt),fr=!1;zt&&(rr[0]+=zt[0],rr[1]+=zt[1]),zn||(l.event.altKey?(St||(St=[(Le[0]+Le[1])/2,(Ne[0]+Ne[1])/2]),Yn[0]=Le[+(rr[0]<St[0])],Yn[1]=Ne[+(rr[1]<St[1])]):St=null),vn&&Pr(rr,de,0)&&(ht(Ht),fr=!0),Rn&&Pr(rr,ye,1)&&(Et(Ht),fr=!0),fr&&(lt(Ht),Zt({type:"brush",mode:zn?"move":"resize"}))}function Pr(rr,fr,xr){var Er,Rr,jr=fo(fr),Wr=jr[0],li=jr[1],ui=Yn[xr],Xr=xr?Ne:Le,ki=Xr[1]-Xr[0];if(zn&&(Wr-=ui,li-=ki+ui),Er=(xr?Ge:Ve)?Math.max(Wr,Math.min(li,rr[xr])):rr[xr],zn?Rr=(Er+=ui)+ki:(St&&(ui=Math.max(Wr,Math.min(li,2*St[xr]-Er))),ui<Er?(Rr=Er,Er=ui):Rr=ui),Xr[0]!=Er||Xr[1]!=Rr)return xr?Q=null:B=null,Xr[0]=Er,Xr[1]=Rr,!0}function Bn(){yr(),Ht.style("pointer-events","all").selectAll(".resize").style("display",$e.empty()?"none":null),l.select("body").style("cursor",null),or.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Un(),Zt({type:"brushend"})}Ht.style("pointer-events","none").selectAll(".resize").style("display",null),l.select("body").style("cursor",en.style("cursor")),Zt({type:"brushstart"}),yr()}return $e.event=function(St){St.each(function(){var zt=ie.of(this,arguments),Lt={x:Le,y:Ne,i:B,j:Q},en=this.__chart__||Lt;this.__chart__=Lt,Io?l.select(this).transition().each("start.brush",function(){B=en.i,Q=en.j,Le=en.x,Ne=en.y,zt({type:"brushstart"})}).tween("brush:brush",function(){var Zt=Li(Le,Lt.x),Ht=Li(Ne,Lt.y);return B=Q=null,function(pn){Le=Lt.x=Zt(pn),Ne=Lt.y=Ht(pn),zt({type:"brush",mode:"resize"})}}).each("end.brush",function(){B=Lt.i,Q=Lt.j,zt({type:"brush",mode:"resize"}),zt({type:"brushend"})}):(zt({type:"brushstart"}),zt({type:"brush",mode:"resize"}),zt({type:"brushend"}))})},$e.x=function(St){return arguments.length?(Ye=K[!(de=St)<<1|!ye],$e):de},$e.y=function(St){return arguments.length?(Ye=K[!de<<1|!(ye=St)],$e):ye},$e.clamp=function(St){return arguments.length?(de&&ye?(Ve=!!St[0],Ge=!!St[1]):de?Ve=!!St:ye&&(Ge=!!St),$e):de&&ye?[Ve,Ge]:de?Ve:ye?Ge:null},$e.extent=function(St){var zt,Lt,en,Zt,Ht;return arguments.length?(de&&(zt=St[0],Lt=St[1],ye&&(zt=zt[0],Lt=Lt[0]),B=[zt,Lt],de.invert&&(zt=de(zt),Lt=de(Lt)),Lt<zt&&(Ht=zt,zt=Lt,Lt=Ht),zt==Le[0]&&Lt==Le[1]||(Le=[zt,Lt])),ye&&(en=St[0],Zt=St[1],de&&(en=en[1],Zt=Zt[1]),Q=[en,Zt],ye.invert&&(en=ye(en),Zt=ye(Zt)),Zt<en&&(Ht=en,en=Zt,Zt=Ht),en==Ne[0]&&Zt==Ne[1]||(Ne=[en,Zt])),$e):(de&&(B?(zt=B[0],Lt=B[1]):(zt=Le[0],Lt=Le[1],de.invert&&(zt=de.invert(zt),Lt=de.invert(Lt)),Lt<zt&&(Ht=zt,zt=Lt,Lt=Ht))),ye&&(Q?(en=Q[0],Zt=Q[1]):(en=Ne[0],Zt=Ne[1],ye.invert&&(en=ye.invert(en),Zt=ye.invert(Zt)),Zt<en&&(Ht=en,en=Zt,Zt=Ht))),de&&ye?[[zt,en],[Lt,Zt]]:de?[zt,Lt]:ye&&[en,Zt])},$e.clear=function(){return $e.empty()||(Le=[0,0],Ne=[0,0],B=Q=null),$e},$e.empty=function(){return!!de&&Le[0]==Le[1]||!!ye&&Ne[0]==Ne[1]},l.rebind($e,ie,"on")};var V={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},K=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function he(B){return JSON.parse(B.responseText)}function Ae(B){var Q=d.createRange();return Q.selectNode(d.body),Q.createContextualFragment(B.responseText)}l.text=Wn(function(B){return B.responseText}),l.json=function(B,Q){return Qn(B,"application/json",he,Q)},l.html=function(B,Q){return Qn(B,"text/html",Ae,Q)},l.xml=Wn(function(B){return B.responseXML}),void 0===(k="function"==typeof(A=l)?A.call(D,e,D,ee):A)||(ee.exports=k)}).apply(self)},88294:function(ee,D,e){"use strict";ee.exports=e(62849)},62849:function(ee,D,e){"use strict";var A=e(91358),k=e(53435),l=e(18863),T=e(21527),b=e(71299),d=e(46775),a=e(30120),t=e(64941),i=e(90660),r=e(27084);function n(o,s){for(var u=s[0],p=s[1],c=1/(s[2]-u),x=1/(s[3]-p),g=new Array(o.length),h=0,y=o.length/2;h<y;h++)g[2*h]=k((o[2*h]-u)*c,0,1),g[2*h+1]=k((o[2*h+1]-p)*x,0,1);return g}ee.exports=function(o,s){s||(s={}),o=a(o,"float64"),s=b(s,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var u=d(s.maxDepth,255),p=d(s.bounds,T(o,2));p[0]===p[2]&&p[2]++,p[1]===p[3]&&p[3]++;var c,x=n(o,p),g=o.length>>>1;s.dtype||(s.dtype="array"),"string"==typeof s.dtype?c=new(i(s.dtype))(g):s.dtype&&(c=s.dtype,Array.isArray(c)&&(c.length=g));for(var h=0;h<g;++h)c[h]=h;var y=[],v=[],m=[],_=[];!function R(q,P,U,N,F,j){if(!N.length)return null;var G=y[F]||(y[F]=[]),te=m[F]||(m[F]=[]),J=v[F]||(v[F]=[]),X=G.length;if(++F>u||j>1073741824){for(var Y=0;Y<N.length;Y++)G.push(N[Y]),te.push(j),J.push(null,null,null,null);return X}if(G.push(N[0]),te.push(j),N.length<=1)return J.push(null,null,null,null),X;for(var W=.5*U,$=q+W,ne=P+W,re=[],oe=[],ue=[],xe=[],Me=1,me=N.length;Me<me;Me++){var pe=N[Me],Pe=x[2*pe+1];x[2*pe]<$?Pe<ne?re.push(pe):oe.push(pe):Pe<ne?ue.push(pe):xe.push(pe)}return J.push(R(q,P,W,re,F,j<<=2),R(q,ne,W,oe,F,j+1),R($,P,W,ue,F,j+2),R($,ne,W,xe,F,j+3)),X}(0,0,1,c,0,1);for(var f=0,S=0;S<y.length;S++){var w=y[S];if(c.set)c.set(w,f);else for(var E=0,L=w.length;E<L;E++)c[E+f]=w[E];var C=f+y[S].length;_[S]=[f,C],f=C}return c.range=function(){for(var R,q=[],P=arguments.length;P--;)q[P]=arguments[P];if(t(q[q.length-1])){var U=q.pop();q.length||null==U.x&&null==U.l&&null==U.left||(q=[U],R={}),R=b(U,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else R={};q.length||(q=p);var N,F=l.apply(void 0,q),j=[Math.min(F.x,F.x+F.width),Math.min(F.y,F.y+F.height),Math.max(F.x,F.x+F.width),Math.max(F.y,F.y+F.height)],G=j[0],te=j[1],J=j[2],X=j[3],Y=n([G,te,J,X],p),W=Y[0],$=Y[1],ne=Y[2],re=Y[3],oe=d(R.level,y.length);if(null!=R.d&&("number"==typeof R.d?N=[R.d,R.d]:R.d.length&&(N=R.d),oe=Math.min(Math.max(Math.ceil(-r(Math.abs(N[0])/(p[2]-p[0]))),Math.ceil(-r(Math.abs(N[1])/(p[3]-p[1])))),oe)),oe=Math.min(oe,y.length),R.lod)return function(xe,Me,me,pe,ge){for(var Pe=[],_e=0;_e<ge;_e++){var we=m[_e],se=_[_e][0],ae=O(xe,Me,_e),fe=O(me,pe,_e),Ee=A.ge(we,ae),ke=A.gt(we,fe,Ee,we.length-1);Pe[_e]=[Ee+se,ke+se]}return Pe}(W,$,ne,re,oe);var ue=[];return function xe(Me,me,pe,ge,Pe,_e){if(null!==Pe&&null!==_e&&!(W>Me+pe||$>me+pe||ne<Me||re<me||ge>=oe||Pe===_e)){var we=y[ge];void 0===_e&&(_e=we.length);for(var se=Pe;se<_e;se++){var ae=we[se],fe=o[2*ae],Ee=o[2*ae+1];fe>=G&&fe<=J&&Ee>=te&&Ee<=X&&ue.push(ae)}var ke=v[ge],be=ke[4*Pe+0],Ie=ke[4*Pe+1],Fe=ke[4*Pe+2],ce=ke[4*Pe+3],Te=function(Re,Oe){for(var je=null,qe=0;null===je;)if(je=Re[4*Oe+qe],++qe>Re.length)return null;return je}(ke,Pe+1),ve=.5*pe,Ce=ge+1;xe(Me,me,ve,Ce,be,Ie||Fe||ce||Te),xe(Me,me+ve,ve,Ce,Ie,Fe||ce||Te),xe(Me+ve,me,ve,Ce,Fe,ce||Te),xe(Me+ve,me+ve,ve,Ce,ce,Te)}}(0,0,1,0,0,1),ue},c;function O(R,q,P){for(var U=1,N=.5,F=.5,j=.5,G=0;G<P;G++)U<<=2,U+=R<N?q<F?0:1:q<F?2:3,j*=.5,N+=R<N?-j:j,F+=q<F?-j:j;return U}}},30774:function(ee,D,e){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var A=e(60302),k=6378137;function l(d){var a=0;if(d&&d.length>0){a+=Math.abs(T(d[0]));for(var t=1;t<d.length;t++)a-=Math.abs(T(d[t]))}return a}function T(d){var a,t,i,r,n,o,s=0,u=d.length;if(u>2){for(o=0;o<u;o++)o===u-2?(i=u-2,r=u-1,n=0):o===u-1?(i=u-1,r=0,n=1):(i=o,r=o+1,n=o+2),a=d[i],t=d[r],s+=(b(d[n][0])-b(a[0]))*Math.sin(b(t[1]));s=s*k*k/2}return s}function b(d){return d*Math.PI/180}D.default=function(d){return A.geomReduce(d,function(a,t){return a+function(i){var r,n=0;switch(i.type){case"Polygon":return l(i.coordinates);case"MultiPolygon":for(r=0;r<i.coordinates.length;r++)n+=l(i.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}},23132:function(ee,D){"use strict";function e(o,s,u){void 0===u&&(u={});var p={type:"Feature"};return(0===u.id||u.id)&&(p.id=u.id),u.bbox&&(p.bbox=u.bbox),p.properties=s||{},p.geometry=o,p}function A(o,s,u){if(void 0===u&&(u={}),!o)throw new Error("coordinates is required");if(!Array.isArray(o))throw new Error("coordinates must be an Array");if(o.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n(o[0])||!n(o[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:o},s,u)}function k(o,s,u){void 0===u&&(u={});for(var p=0,c=o;p<c.length;p++){var x=c[p];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<x[x.length-1].length;g++)if(x[x.length-1][g]!==x[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},s,u)}function l(o,s,u){if(void 0===u&&(u={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},s,u)}function T(o,s){void 0===s&&(s={});var u={type:"FeatureCollection"};return s.id&&(u.id=s.id),s.bbox&&(u.bbox=s.bbox),u.features=o,u}function b(o,s,u){return void 0===u&&(u={}),e({type:"MultiLineString",coordinates:o},s,u)}function d(o,s,u){return void 0===u&&(u={}),e({type:"MultiPoint",coordinates:o},s,u)}function a(o,s,u){return void 0===u&&(u={}),e({type:"MultiPolygon",coordinates:o},s,u)}function t(o,s){void 0===s&&(s="kilometers");var u=D.factors[s];if(!u)throw new Error(s+" units is invalid");return o*u}function i(o,s){void 0===s&&(s="kilometers");var u=D.factors[s];if(!u)throw new Error(s+" units is invalid");return o/u}function r(o){return o%(2*Math.PI)*180/Math.PI}function n(o){return!isNaN(o)&&null!==o&&!Array.isArray(o)}Object.defineProperty(D,"__esModule",{value:!0}),D.earthRadius=6371008.8,D.factors={centimeters:100*D.earthRadius,centimetres:100*D.earthRadius,degrees:D.earthRadius/111325,feet:3.28084*D.earthRadius,inches:39.37*D.earthRadius,kilometers:D.earthRadius/1e3,kilometres:D.earthRadius/1e3,meters:D.earthRadius,metres:D.earthRadius,miles:D.earthRadius/1609.344,millimeters:1e3*D.earthRadius,millimetres:1e3*D.earthRadius,nauticalmiles:D.earthRadius/1852,radians:1,yards:1.0936*D.earthRadius},D.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/D.earthRadius,yards:1.0936133},D.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},D.feature=e,D.geometry=function(o,s,u){switch(void 0===u&&(u={}),o){case"Point":return A(s).geometry;case"LineString":return l(s).geometry;case"Polygon":return k(s).geometry;case"MultiPoint":return d(s).geometry;case"MultiLineString":return b(s).geometry;case"MultiPolygon":return a(s).geometry;default:throw new Error(o+" is invalid")}},D.point=A,D.points=function(o,s,u){return void 0===u&&(u={}),T(o.map(function(p){return A(p,s)}),u)},D.polygon=k,D.polygons=function(o,s,u){return void 0===u&&(u={}),T(o.map(function(p){return k(p,s)}),u)},D.lineString=l,D.lineStrings=function(o,s,u){return void 0===u&&(u={}),T(o.map(function(p){return l(p,s)}),u)},D.featureCollection=T,D.multiLineString=b,D.multiPoint=d,D.multiPolygon=a,D.geometryCollection=function(o,s,u){return void 0===u&&(u={}),e({type:"GeometryCollection",geometries:o},s,u)},D.round=function(o,s){if(void 0===s&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,s||0);return Math.round(o*u)/u},D.radiansToLength=t,D.lengthToRadians=i,D.lengthToDegrees=function(o,s){return r(i(o,s))},D.bearingToAzimuth=function(o){var s=o%360;return s<0&&(s+=360),s},D.radiansToDegrees=r,D.degreesToRadians=function(o){return o%360*Math.PI/180},D.convertLength=function(o,s,u){if(void 0===s&&(s="kilometers"),void 0===u&&(u="kilometers"),!(o>=0))throw new Error("length must be a positive number");return t(i(o,s),u)},D.convertArea=function(o,s,u){if(void 0===s&&(s="meters"),void 0===u&&(u="kilometers"),!(o>=0))throw new Error("area must be a positive number");var p=D.areaFactors[s];if(!p)throw new Error("invalid original units");var c=D.areaFactors[u];if(!c)throw new Error("invalid final units");return o/p*c},D.isNumber=n,D.isObject=function(o){return!!o&&o.constructor===Object},D.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(4!==o.length&&6!==o.length)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(s){if(!n(s))throw new Error("bbox must only contain numbers")})},D.validateId=function(o){if(!o)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof o))throw new Error("id must be a number or a string")}},60302:function(ee,D,e){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var A=e(23132);function k(i,r,n){if(null!==i)for(var o,s,u,p,c,x,g,h,y=0,v=0,m=i.type,_="FeatureCollection"===m,f="Feature"===m,S=_?i.features.length:1,w=0;w<S;w++){c=(h=!!(g=_?i.features[w].geometry:f?i.geometry:i)&&"GeometryCollection"===g.type)?g.geometries.length:1;for(var E=0;E<c;E++){var L=0,C=0;if(null!==(p=h?g.geometries[E]:g)){x=p.coordinates;var O=p.type;switch(y=!n||"Polygon"!==O&&"MultiPolygon"!==O?0:1,O){case null:break;case"Point":if(!1===r(x,v,w,L,C))return!1;v++,L++;break;case"LineString":case"MultiPoint":for(o=0;o<x.length;o++){if(!1===r(x[o],v,w,L,C))return!1;v++,"MultiPoint"===O&&L++}"LineString"===O&&L++;break;case"Polygon":case"MultiLineString":for(o=0;o<x.length;o++){for(s=0;s<x[o].length-y;s++){if(!1===r(x[o][s],v,w,L,C))return!1;v++}"MultiLineString"===O&&L++,"Polygon"===O&&C++}"Polygon"===O&&L++;break;case"MultiPolygon":for(o=0;o<x.length;o++){for(C=0,s=0;s<x[o].length;s++){for(u=0;u<x[o][s].length-y;u++){if(!1===r(x[o][s][u],v,w,L,C))return!1;v++}C++}L++}break;case"GeometryCollection":for(o=0;o<p.geometries.length;o++)if(!1===k(p.geometries[o],r,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function l(i,r){var n;switch(i.type){case"FeatureCollection":for(n=0;n<i.features.length&&!1!==r(i.features[n].properties,n);n++);break;case"Feature":r(i.properties,0)}}function T(i,r){if("Feature"===i.type)r(i,0);else if("FeatureCollection"===i.type)for(var n=0;n<i.features.length&&!1!==r(i.features[n],n);n++);}function b(i,r){var n,o,s,u,p,c,x,g,h,y,v=0,m="FeatureCollection"===i.type,_="Feature"===i.type,f=m?i.features.length:1;for(n=0;n<f;n++){for(g=m?i.features[n].properties:_?i.properties:{},h=m?i.features[n].bbox:_?i.bbox:void 0,y=m?i.features[n].id:_?i.id:void 0,p=(x=!!(c=m?i.features[n].geometry:_?i.geometry:i)&&"GeometryCollection"===c.type)?c.geometries.length:1,s=0;s<p;s++)if(null!==(u=x?c.geometries[s]:c))switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===r(u,v,g,h,y))return!1;break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(!1===r(u.geometries[o],v,g,h,y))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===r(null,v,g,h,y))return!1;v++}}function d(i,r){b(i,function(n,o,s,u,p){var c,x=null===n?null:n.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return!1!==r(A.feature(n,s,{bbox:u,id:p}),o,0)&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<n.coordinates.length;g++)if(!1===r(A.feature({type:c,coordinates:n.coordinates[g]},s),o,g))return!1})}function a(i,r){d(i,function(n,o,s){var u=0;if(n.geometry){var p=n.geometry.type;if("Point"!==p&&"MultiPoint"!==p){var c,x=0,g=0,h=0;return!1!==k(n,function(y,v,m,_,f){if(void 0===c||o>x||_>g||f>h)return c=y,x=o,g=_,h=f,void(u=0);var S=A.lineString([c,y],n.properties);if(!1===r(S,o,s,f,u))return!1;u++,c=y})&&void 0}}})}function t(i,r){if(!i)throw new Error("geojson is required");d(i,function(n,o,s){if(null!==n.geometry){var p=n.geometry.coordinates;switch(n.geometry.type){case"LineString":if(!1===r(n,o,s,0,0))return!1;break;case"Polygon":for(var c=0;c<p.length;c++)if(!1===r(A.lineString(p[c],n.properties),o,s,c))return!1}}})}D.coordEach=k,D.coordReduce=function(i,r,n,o){var s=n;return k(i,function(u,p,c,x,g){s=0===p&&void 0===n?u:r(s,u,p,c,x,g)},o),s},D.propEach=l,D.propReduce=function(i,r,n){var o=n;return l(i,function(s,u){o=0===u&&void 0===n?s:r(o,s,u)}),o},D.featureEach=T,D.featureReduce=function(i,r,n){var o=n;return T(i,function(s,u){o=0===u&&void 0===n?s:r(o,s,u)}),o},D.coordAll=function(i){var r=[];return k(i,function(n){r.push(n)}),r},D.geomEach=b,D.geomReduce=function(i,r,n){var o=n;return b(i,function(s,u,p,c,x){o=0===u&&void 0===n?s:r(o,s,u,p,c,x)}),o},D.flattenEach=d,D.flattenReduce=function(i,r,n){var o=n;return d(i,function(s,u,p){o=0===u&&0===p&&void 0===n?s:r(o,s,u,p)}),o},D.segmentEach=a,D.segmentReduce=function(i,r,n){var o=n,s=!1;return a(i,function(u,p,c,x,g){o=!1===s&&void 0===n?u:r(o,u,p,c,x,g),s=!0}),o},D.lineEach=t,D.lineReduce=function(i,r,n){var o=n;return t(i,function(s,u,p,c){o=0===u&&void 0===n?s:r(o,s,u,p,c)}),o},D.findSegment=function(i,r){if(!A.isObject(r=r||{}))throw new Error("options is invalid");var n,o=r.featureIndex||0,s=r.multiFeatureIndex||0,u=r.geometryIndex||0,p=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,n=i.features[o].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var x=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=x.length+p-1),A.lineString([x[p],x[p+1]],c,r);case"Polygon":return u<0&&(u=x.length+u),p<0&&(p=x[u].length+p-1),A.lineString([x[u][p],x[u][p+1]],c,r);case"MultiLineString":return s<0&&(s=x.length+s),p<0&&(p=x[s].length+p-1),A.lineString([x[s][p],x[s][p+1]],c,r);case"MultiPolygon":return s<0&&(s=x.length+s),u<0&&(u=x[s].length+u),p<0&&(p=x[s][u].length-p-1),A.lineString([x[s][u][p],x[s][u][p+1]],c,r)}throw new Error("geojson is invalid")},D.findPoint=function(i,r){if(!A.isObject(r=r||{}))throw new Error("options is invalid");var n,o=r.featureIndex||0,s=r.multiFeatureIndex||0,u=r.geometryIndex||0,p=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,n=i.features[o].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var x=n.coordinates;switch(n.type){case"Point":return A.point(x,c,r);case"MultiPoint":return s<0&&(s=x.length+s),A.point(x[s],c,r);case"LineString":return p<0&&(p=x.length+p),A.point(x[p],c,r);case"Polygon":return u<0&&(u=x.length+u),p<0&&(p=x[u].length+p),A.point(x[u][p],c,r);case"MultiLineString":return s<0&&(s=x.length+s),p<0&&(p=x[s].length+p),A.point(x[s][p],c,r);case"MultiPolygon":return s<0&&(s=x.length+s),u<0&&(u=x[s].length+u),p<0&&(p=x[s][u].length-p),A.point(x[s][u][p],c,r)}throw new Error("geojson is invalid")}},85268:function(ee,D,e){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var A=e(27138);function k(l){var T=[1/0,1/0,-1/0,-1/0];return A.coordEach(l,function(b){T[0]>b[0]&&(T[0]=b[0]),T[1]>b[1]&&(T[1]=b[1]),T[2]<b[0]&&(T[2]=b[0]),T[3]<b[1]&&(T[3]=b[1])}),T}k.default=k,D.default=k},94228:function(ee,D){"use strict";function e(o,s,u){void 0===u&&(u={});var p={type:"Feature"};return(0===u.id||u.id)&&(p.id=u.id),u.bbox&&(p.bbox=u.bbox),p.properties=s||{},p.geometry=o,p}function A(o,s,u){if(void 0===u&&(u={}),!o)throw new Error("coordinates is required");if(!Array.isArray(o))throw new Error("coordinates must be an Array");if(o.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n(o[0])||!n(o[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:o},s,u)}function k(o,s,u){void 0===u&&(u={});for(var p=0,c=o;p<c.length;p++){var x=c[p];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<x[x.length-1].length;g++)if(x[x.length-1][g]!==x[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},s,u)}function l(o,s,u){if(void 0===u&&(u={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},s,u)}function T(o,s){void 0===s&&(s={});var u={type:"FeatureCollection"};return s.id&&(u.id=s.id),s.bbox&&(u.bbox=s.bbox),u.features=o,u}function b(o,s,u){return void 0===u&&(u={}),e({type:"MultiLineString",coordinates:o},s,u)}function d(o,s,u){return void 0===u&&(u={}),e({type:"MultiPoint",coordinates:o},s,u)}function a(o,s,u){return void 0===u&&(u={}),e({type:"MultiPolygon",coordinates:o},s,u)}function t(o,s){void 0===s&&(s="kilometers");var u=D.factors[s];if(!u)throw new Error(s+" units is invalid");return o*u}function i(o,s){void 0===s&&(s="kilometers");var u=D.factors[s];if(!u)throw new Error(s+" units is invalid");return o/u}function r(o){return o%(2*Math.PI)*180/Math.PI}function n(o){return!isNaN(o)&&null!==o&&!Array.isArray(o)}Object.defineProperty(D,"__esModule",{value:!0}),D.earthRadius=6371008.8,D.factors={centimeters:100*D.earthRadius,centimetres:100*D.earthRadius,degrees:D.earthRadius/111325,feet:3.28084*D.earthRadius,inches:39.37*D.earthRadius,kilometers:D.earthRadius/1e3,kilometres:D.earthRadius/1e3,meters:D.earthRadius,metres:D.earthRadius,miles:D.earthRadius/1609.344,millimeters:1e3*D.earthRadius,millimetres:1e3*D.earthRadius,nauticalmiles:D.earthRadius/1852,radians:1,yards:1.0936*D.earthRadius},D.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/D.earthRadius,yards:1.0936133},D.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},D.feature=e,D.geometry=function(o,s,u){switch(void 0===u&&(u={}),o){case"Point":return A(s).geometry;case"LineString":return l(s).geometry;case"Polygon":return k(s).geometry;case"MultiPoint":return d(s).geometry;case"MultiLineString":return b(s).geometry;case"MultiPolygon":return a(s).geometry;default:throw new Error(o+" is invalid")}},D.point=A,D.points=function(o,s,u){return void 0===u&&(u={}),T(o.map(function(p){return A(p,s)}),u)},D.polygon=k,D.polygons=function(o,s,u){return void 0===u&&(u={}),T(o.map(function(p){return k(p,s)}),u)},D.lineString=l,D.lineStrings=function(o,s,u){return void 0===u&&(u={}),T(o.map(function(p){return l(p,s)}),u)},D.featureCollection=T,D.multiLineString=b,D.multiPoint=d,D.multiPolygon=a,D.geometryCollection=function(o,s,u){return void 0===u&&(u={}),e({type:"GeometryCollection",geometries:o},s,u)},D.round=function(o,s){if(void 0===s&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,s||0);return Math.round(o*u)/u},D.radiansToLength=t,D.lengthToRadians=i,D.lengthToDegrees=function(o,s){return r(i(o,s))},D.bearingToAzimuth=function(o){var s=o%360;return s<0&&(s+=360),s},D.radiansToDegrees=r,D.degreesToRadians=function(o){return o%360*Math.PI/180},D.convertLength=function(o,s,u){if(void 0===s&&(s="kilometers"),void 0===u&&(u="kilometers"),!(o>=0))throw new Error("length must be a positive number");return t(i(o,s),u)},D.convertArea=function(o,s,u){if(void 0===s&&(s="meters"),void 0===u&&(u="kilometers"),!(o>=0))throw new Error("area must be a positive number");var p=D.areaFactors[s];if(!p)throw new Error("invalid original units");var c=D.areaFactors[u];if(!c)throw new Error("invalid final units");return o/p*c},D.isNumber=n,D.isObject=function(o){return!!o&&o.constructor===Object},D.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(4!==o.length&&6!==o.length)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(s){if(!n(s))throw new Error("bbox must only contain numbers")})},D.validateId=function(o){if(!o)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof o))throw new Error("id must be a number or a string")}},27138:function(ee,D,e){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var A=e(94228);function k(i,r,n){if(null!==i)for(var o,s,u,p,c,x,g,h,y=0,v=0,m=i.type,_="FeatureCollection"===m,f="Feature"===m,S=_?i.features.length:1,w=0;w<S;w++){c=(h=!!(g=_?i.features[w].geometry:f?i.geometry:i)&&"GeometryCollection"===g.type)?g.geometries.length:1;for(var E=0;E<c;E++){var L=0,C=0;if(null!==(p=h?g.geometries[E]:g)){x=p.coordinates;var O=p.type;switch(y=!n||"Polygon"!==O&&"MultiPolygon"!==O?0:1,O){case null:break;case"Point":if(!1===r(x,v,w,L,C))return!1;v++,L++;break;case"LineString":case"MultiPoint":for(o=0;o<x.length;o++){if(!1===r(x[o],v,w,L,C))return!1;v++,"MultiPoint"===O&&L++}"LineString"===O&&L++;break;case"Polygon":case"MultiLineString":for(o=0;o<x.length;o++){for(s=0;s<x[o].length-y;s++){if(!1===r(x[o][s],v,w,L,C))return!1;v++}"MultiLineString"===O&&L++,"Polygon"===O&&C++}"Polygon"===O&&L++;break;case"MultiPolygon":for(o=0;o<x.length;o++){for(C=0,s=0;s<x[o].length;s++){for(u=0;u<x[o][s].length-y;u++){if(!1===r(x[o][s][u],v,w,L,C))return!1;v++}C++}L++}break;case"GeometryCollection":for(o=0;o<p.geometries.length;o++)if(!1===k(p.geometries[o],r,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function l(i,r){var n;switch(i.type){case"FeatureCollection":for(n=0;n<i.features.length&&!1!==r(i.features[n].properties,n);n++);break;case"Feature":r(i.properties,0)}}function T(i,r){if("Feature"===i.type)r(i,0);else if("FeatureCollection"===i.type)for(var n=0;n<i.features.length&&!1!==r(i.features[n],n);n++);}function b(i,r){var n,o,s,u,p,c,x,g,h,y,v=0,m="FeatureCollection"===i.type,_="Feature"===i.type,f=m?i.features.length:1;for(n=0;n<f;n++){for(g=m?i.features[n].properties:_?i.properties:{},h=m?i.features[n].bbox:_?i.bbox:void 0,y=m?i.features[n].id:_?i.id:void 0,p=(x=!!(c=m?i.features[n].geometry:_?i.geometry:i)&&"GeometryCollection"===c.type)?c.geometries.length:1,s=0;s<p;s++)if(null!==(u=x?c.geometries[s]:c))switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===r(u,v,g,h,y))return!1;break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(!1===r(u.geometries[o],v,g,h,y))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===r(null,v,g,h,y))return!1;v++}}function d(i,r){b(i,function(n,o,s,u,p){var c,x=null===n?null:n.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return!1!==r(A.feature(n,s,{bbox:u,id:p}),o,0)&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<n.coordinates.length;g++)if(!1===r(A.feature({type:c,coordinates:n.coordinates[g]},s),o,g))return!1})}function a(i,r){d(i,function(n,o,s){var u=0;if(n.geometry){var p=n.geometry.type;if("Point"!==p&&"MultiPoint"!==p){var c,x=0,g=0,h=0;return!1!==k(n,function(y,v,m,_,f){if(void 0===c||o>x||_>g||f>h)return c=y,x=o,g=_,h=f,void(u=0);var S=A.lineString([c,y],n.properties);if(!1===r(S,o,s,f,u))return!1;u++,c=y})&&void 0}}})}function t(i,r){if(!i)throw new Error("geojson is required");d(i,function(n,o,s){if(null!==n.geometry){var p=n.geometry.coordinates;switch(n.geometry.type){case"LineString":if(!1===r(n,o,s,0,0))return!1;break;case"Polygon":for(var c=0;c<p.length;c++)if(!1===r(A.lineString(p[c],n.properties),o,s,c))return!1}}})}D.coordEach=k,D.coordReduce=function(i,r,n,o){var s=n;return k(i,function(u,p,c,x,g){s=0===p&&void 0===n?u:r(s,u,p,c,x,g)},o),s},D.propEach=l,D.propReduce=function(i,r,n){var o=n;return l(i,function(s,u){o=0===u&&void 0===n?s:r(o,s,u)}),o},D.featureEach=T,D.featureReduce=function(i,r,n){var o=n;return T(i,function(s,u){o=0===u&&void 0===n?s:r(o,s,u)}),o},D.coordAll=function(i){var r=[];return k(i,function(n){r.push(n)}),r},D.geomEach=b,D.geomReduce=function(i,r,n){var o=n;return b(i,function(s,u,p,c,x){o=0===u&&void 0===n?s:r(o,s,u,p,c,x)}),o},D.flattenEach=d,D.flattenReduce=function(i,r,n){var o=n;return d(i,function(s,u,p){o=0===u&&0===p&&void 0===n?s:r(o,s,u,p)}),o},D.segmentEach=a,D.segmentReduce=function(i,r,n){var o=n,s=!1;return a(i,function(u,p,c,x,g){o=!1===s&&void 0===n?u:r(o,u,p,c,x,g),s=!0}),o},D.lineEach=t,D.lineReduce=function(i,r,n){var o=n;return t(i,function(s,u,p,c){o=0===u&&void 0===n?s:r(o,s,u,p,c)}),o},D.findSegment=function(i,r){if(!A.isObject(r=r||{}))throw new Error("options is invalid");var n,o=r.featureIndex||0,s=r.multiFeatureIndex||0,u=r.geometryIndex||0,p=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,n=i.features[o].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var x=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=x.length+p-1),A.lineString([x[p],x[p+1]],c,r);case"Polygon":return u<0&&(u=x.length+u),p<0&&(p=x[u].length+p-1),A.lineString([x[u][p],x[u][p+1]],c,r);case"MultiLineString":return s<0&&(s=x.length+s),p<0&&(p=x[s].length+p-1),A.lineString([x[s][p],x[s][p+1]],c,r);case"MultiPolygon":return s<0&&(s=x.length+s),u<0&&(u=x[s].length+u),p<0&&(p=x[s][u].length-p-1),A.lineString([x[s][u][p],x[s][u][p+1]],c,r)}throw new Error("geojson is invalid")},D.findPoint=function(i,r){if(!A.isObject(r=r||{}))throw new Error("options is invalid");var n,o=r.featureIndex||0,s=r.multiFeatureIndex||0,u=r.geometryIndex||0,p=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,n=i.features[o].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var x=n.coordinates;switch(n.type){case"Point":return A.point(x,c,r);case"MultiPoint":return s<0&&(s=x.length+s),A.point(x[s],c,r);case"LineString":return p<0&&(p=x.length+p),A.point(x[p],c,r);case"Polygon":return u<0&&(u=x.length+u),p<0&&(p=x[u].length+p),A.point(x[u][p],c,r);case"MultiLineString":return s<0&&(s=x.length+s),p<0&&(p=x[s].length+p),A.point(x[s][p],c,r);case"MultiPolygon":return s<0&&(s=x.length+s),u<0&&(u=x[s].length+u),p<0&&(p=x[s][u].length-p),A.point(x[s][u][p],c,r)}throw new Error("geojson is invalid")}},29261:function(ee,D,e){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var A=e(88553),k=e(64182);D.default=function(l,T){void 0===T&&(T={});var b=0,d=0,a=0;return A.coordEach(l,function(t){b+=t[0],d+=t[1],a++}),k.point([b/a,d/a],T.properties)}},64182:function(ee,D){"use strict";function e(o,s,u){void 0===u&&(u={});var p={type:"Feature"};return(0===u.id||u.id)&&(p.id=u.id),u.bbox&&(p.bbox=u.bbox),p.properties=s||{},p.geometry=o,p}function A(o,s,u){return void 0===u&&(u={}),e({type:"Point",coordinates:o},s,u)}function k(o,s,u){void 0===u&&(u={});for(var p=0,c=o;p<c.length;p++){var x=c[p];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<x[x.length-1].length;g++)if(x[x.length-1][g]!==x[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},s,u)}function l(o,s,u){if(void 0===u&&(u={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},s,u)}function T(o,s){void 0===s&&(s={});var u={type:"FeatureCollection"};return s.id&&(u.id=s.id),s.bbox&&(u.bbox=s.bbox),u.features=o,u}function b(o,s,u){return void 0===u&&(u={}),e({type:"MultiLineString",coordinates:o},s,u)}function d(o,s,u){return void 0===u&&(u={}),e({type:"MultiPoint",coordinates:o},s,u)}function a(o,s,u){return void 0===u&&(u={}),e({type:"MultiPolygon",coordinates:o},s,u)}function t(o,s){void 0===s&&(s="kilometers");var u=D.factors[s];if(!u)throw new Error(s+" units is invalid");return o*u}function i(o,s){void 0===s&&(s="kilometers");var u=D.factors[s];if(!u)throw new Error(s+" units is invalid");return o/u}function r(o){return o%(2*Math.PI)*180/Math.PI}function n(o){return!isNaN(o)&&null!==o&&!Array.isArray(o)&&!/^\s*$/.test(o)}Object.defineProperty(D,"__esModule",{value:!0}),D.earthRadius=6371008.8,D.factors={centimeters:100*D.earthRadius,centimetres:100*D.earthRadius,degrees:D.earthRadius/111325,feet:3.28084*D.earthRadius,inches:39.37*D.earthRadius,kilometers:D.earthRadius/1e3,kilometres:D.earthRadius/1e3,meters:D.earthRadius,metres:D.earthRadius,miles:D.earthRadius/1609.344,millimeters:1e3*D.earthRadius,millimetres:1e3*D.earthRadius,nauticalmiles:D.earthRadius/1852,radians:1,yards:D.earthRadius/1.0936},D.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/D.earthRadius,yards:.91441111923921},D.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},D.feature=e,D.geometry=function(o,s,u){switch(void 0===u&&(u={}),o){case"Point":return A(s).geometry;case"LineString":return l(s).geometry;case"Polygon":return k(s).geometry;case"MultiPoint":return d(s).geometry;case"MultiLineString":return b(s).geometry;case"MultiPolygon":return a(s).geometry;default:throw new Error(o+" is invalid")}},D.point=A,D.points=function(o,s,u){return void 0===u&&(u={}),T(o.map(function(p){return A(p,s)}),u)},D.polygon=k,D.polygons=function(o,s,u){return void 0===u&&(u={}),T(o.map(function(p){return k(p,s)}),u)},D.lineString=l,D.lineStrings=function(o,s,u){return void 0===u&&(u={}),T(o.map(function(p){return l(p,s)}),u)},D.featureCollection=T,D.multiLineString=b,D.multiPoint=d,D.multiPolygon=a,D.geometryCollection=function(o,s,u){return void 0===u&&(u={}),e({type:"GeometryCollection",geometries:o},s,u)},D.round=function(o,s){if(void 0===s&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,s||0);return Math.round(o*u)/u},D.radiansToLength=t,D.lengthToRadians=i,D.lengthToDegrees=function(o,s){return r(i(o,s))},D.bearingToAzimuth=function(o){var s=o%360;return s<0&&(s+=360),s},D.radiansToDegrees=r,D.degreesToRadians=function(o){return o%360*Math.PI/180},D.convertLength=function(o,s,u){if(void 0===s&&(s="kilometers"),void 0===u&&(u="kilometers"),!(o>=0))throw new Error("length must be a positive number");return t(i(o,s),u)},D.convertArea=function(o,s,u){if(void 0===s&&(s="meters"),void 0===u&&(u="kilometers"),!(o>=0))throw new Error("area must be a positive number");var p=D.areaFactors[s];if(!p)throw new Error("invalid original units");var c=D.areaFactors[u];if(!c)throw new Error("invalid final units");return o/p*c},D.isNumber=n,D.isObject=function(o){return!!o&&o.constructor===Object},D.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(4!==o.length&&6!==o.length)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(s){if(!n(s))throw new Error("bbox must only contain numbers")})},D.validateId=function(o){if(!o)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof o))throw new Error("id must be a number or a string")},D.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},D.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},D.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},D.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},D.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},D.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},D.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},88553:function(ee,D,e){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var A=e(64182);function k(i,r,n){if(null!==i)for(var o,s,u,p,c,x,g,h,y=0,v=0,m=i.type,_="FeatureCollection"===m,f="Feature"===m,S=_?i.features.length:1,w=0;w<S;w++){c=(h=!!(g=_?i.features[w].geometry:f?i.geometry:i)&&"GeometryCollection"===g.type)?g.geometries.length:1;for(var E=0;E<c;E++){var L=0,C=0;if(null!==(p=h?g.geometries[E]:g)){x=p.coordinates;var O=p.type;switch(y=!n||"Polygon"!==O&&"MultiPolygon"!==O?0:1,O){case null:break;case"Point":if(!1===r(x,v,w,L,C))return!1;v++,L++;break;case"LineString":case"MultiPoint":for(o=0;o<x.length;o++){if(!1===r(x[o],v,w,L,C))return!1;v++,"MultiPoint"===O&&L++}"LineString"===O&&L++;break;case"Polygon":case"MultiLineString":for(o=0;o<x.length;o++){for(s=0;s<x[o].length-y;s++){if(!1===r(x[o][s],v,w,L,C))return!1;v++}"MultiLineString"===O&&L++,"Polygon"===O&&C++}"Polygon"===O&&L++;break;case"MultiPolygon":for(o=0;o<x.length;o++){for(C=0,s=0;s<x[o].length;s++){for(u=0;u<x[o][s].length-y;u++){if(!1===r(x[o][s][u],v,w,L,C))return!1;v++}C++}L++}break;case"GeometryCollection":for(o=0;o<p.geometries.length;o++)if(!1===k(p.geometries[o],r,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function l(i,r){var n;switch(i.type){case"FeatureCollection":for(n=0;n<i.features.length&&!1!==r(i.features[n].properties,n);n++);break;case"Feature":r(i.properties,0)}}function T(i,r){if("Feature"===i.type)r(i,0);else if("FeatureCollection"===i.type)for(var n=0;n<i.features.length&&!1!==r(i.features[n],n);n++);}function b(i,r){var n,o,s,u,p,c,x,g,h,y,v=0,m="FeatureCollection"===i.type,_="Feature"===i.type,f=m?i.features.length:1;for(n=0;n<f;n++){for(g=m?i.features[n].properties:_?i.properties:{},h=m?i.features[n].bbox:_?i.bbox:void 0,y=m?i.features[n].id:_?i.id:void 0,p=(x=!!(c=m?i.features[n].geometry:_?i.geometry:i)&&"GeometryCollection"===c.type)?c.geometries.length:1,s=0;s<p;s++)if(null!==(u=x?c.geometries[s]:c))switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===r(u,v,g,h,y))return!1;break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(!1===r(u.geometries[o],v,g,h,y))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===r(null,v,g,h,y))return!1;v++}}function d(i,r){b(i,function(n,o,s,u,p){var c,x=null===n?null:n.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return!1!==r(A.feature(n,s,{bbox:u,id:p}),o,0)&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<n.coordinates.length;g++)if(!1===r(A.feature({type:c,coordinates:n.coordinates[g]},s),o,g))return!1})}function a(i,r){d(i,function(n,o,s){var u=0;if(n.geometry){var p=n.geometry.type;if("Point"!==p&&"MultiPoint"!==p){var c,x=0,g=0,h=0;return!1!==k(n,function(y,v,m,_,f){if(void 0===c||o>x||_>g||f>h)return c=y,x=o,g=_,h=f,void(u=0);var S=A.lineString([c,y],n.properties);if(!1===r(S,o,s,f,u))return!1;u++,c=y})&&void 0}}})}function t(i,r){if(!i)throw new Error("geojson is required");d(i,function(n,o,s){if(null!==n.geometry){var p=n.geometry.coordinates;switch(n.geometry.type){case"LineString":if(!1===r(n,o,s,0,0))return!1;break;case"Polygon":for(var c=0;c<p.length;c++)if(!1===r(A.lineString(p[c],n.properties),o,s,c))return!1}}})}D.coordEach=k,D.coordReduce=function(i,r,n,o){var s=n;return k(i,function(u,p,c,x,g){s=0===p&&void 0===n?u:r(s,u,p,c,x,g)},o),s},D.propEach=l,D.propReduce=function(i,r,n){var o=n;return l(i,function(s,u){o=0===u&&void 0===n?s:r(o,s,u)}),o},D.featureEach=T,D.featureReduce=function(i,r,n){var o=n;return T(i,function(s,u){o=0===u&&void 0===n?s:r(o,s,u)}),o},D.coordAll=function(i){var r=[];return k(i,function(n){r.push(n)}),r},D.geomEach=b,D.geomReduce=function(i,r,n){var o=n;return b(i,function(s,u,p,c,x){o=0===u&&void 0===n?s:r(o,s,u,p,c,x)}),o},D.flattenEach=d,D.flattenReduce=function(i,r,n){var o=n;return d(i,function(s,u,p){o=0===u&&0===p&&void 0===n?s:r(o,s,u,p)}),o},D.segmentEach=a,D.segmentReduce=function(i,r,n){var o=n,s=!1;return a(i,function(u,p,c,x,g){o=!1===s&&void 0===n?u:r(o,u,p,c,x,g),s=!0}),o},D.lineEach=t,D.lineReduce=function(i,r,n){var o=n;return t(i,function(s,u,p,c){o=0===u&&void 0===n?s:r(o,s,u,p,c)}),o},D.findSegment=function(i,r){if(!A.isObject(r=r||{}))throw new Error("options is invalid");var n,o=r.featureIndex||0,s=r.multiFeatureIndex||0,u=r.geometryIndex||0,p=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,n=i.features[o].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var x=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=x.length+p-1),A.lineString([x[p],x[p+1]],c,r);case"Polygon":return u<0&&(u=x.length+u),p<0&&(p=x[u].length+p-1),A.lineString([x[u][p],x[u][p+1]],c,r);case"MultiLineString":return s<0&&(s=x.length+s),p<0&&(p=x[s].length+p-1),A.lineString([x[s][p],x[s][p+1]],c,r);case"MultiPolygon":return s<0&&(s=x.length+s),u<0&&(u=x[s].length+u),p<0&&(p=x[s][u].length-p-1),A.lineString([x[s][u][p],x[s][u][p+1]],c,r)}throw new Error("geojson is invalid")},D.findPoint=function(i,r){if(!A.isObject(r=r||{}))throw new Error("options is invalid");var n,o=r.featureIndex||0,s=r.multiFeatureIndex||0,u=r.geometryIndex||0,p=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,n=i.features[o].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var x=n.coordinates;switch(n.type){case"Point":return A.point(x,c,r);case"MultiPoint":return s<0&&(s=x.length+s),A.point(x[s],c,r);case"LineString":return p<0&&(p=x.length+p),A.point(x[p],c,r);case"Polygon":return u<0&&(u=x.length+u),p<0&&(p=x[u].length+p),A.point(x[u][p],c,r);case"MultiLineString":return s<0&&(s=x.length+s),p<0&&(p=x[s].length+p),A.point(x[s][p],c,r);case"MultiPolygon":return s<0&&(s=x.length+s),u<0&&(u=x[s].length+u),p<0&&(p=x[s][u].length-p),A.point(x[s][u][p],c,r)}throw new Error("geojson is invalid")}},65185:function(ee){ee.exports=function(D){var e=0,A=0,k=0,l=0;return D.map(function(T){var b=(T=T.slice())[0],d=b.toUpperCase();if(b!=d)switch(T[0]=d,b){case"a":T[6]+=k,T[7]+=l;break;case"v":T[1]+=l;break;case"h":T[1]+=k;break;default:for(var a=1;a<T.length;)T[a++]+=k,T[a++]+=l}switch(d){case"Z":k=e,l=A;break;case"H":k=T[1];break;case"V":l=T[1];break;case"M":k=e=T[1],l=A=T[2];break;default:k=T[T.length-2],l=T[T.length-1]}return T})}},21527:function(ee){"use strict";ee.exports=function(D,e){if(!D||null==D.length)throw Error("Argument should be an array");e=null==e?1:Math.floor(e);for(var A=Array(2*e),k=0;k<e;k++){for(var l=-1/0,T=1/0,b=k,d=D.length;b<d;b+=e)D[b]>l&&(l=D[b]),D[b]<T&&(T=D[b]);A[k]=T,A[e+k]=l}return A}},6851:function(ee){"use strict";ee.exports=function(D,e,A){if("function"==typeof Array.prototype.findIndex)return D.findIndex(e,A);if("function"!=typeof e)throw new TypeError("predicate must be a function");var k=Object(D),l=k.length;if(0===l)return-1;for(var T=0;T<l;T++)if(e.call(A,k[T],T,k))return T;return-1}},54:function(ee,D,e){"use strict";var A=e(21527);ee.exports=function(k,l,T){if(!k||null==k.length)throw Error("Argument should be an array");null==l&&(l=1),null==T&&(T=A(k,l));for(var b=0;b<l;b++){var d=T[l+b],a=T[b],t=b,i=k.length;if(d===1/0&&a===-1/0)for(t=b;t<i;t+=l)k[t]=k[t]===d?1:k[t]===a?0:.5;else if(d===1/0)for(t=b;t<i;t+=l)k[t]=k[t]===d?1:0;else if(a===-1/0)for(t=b;t<i;t+=l)k[t]=k[t]===a?0:1;else{var r=d-a;for(t=b;t<i;t+=l)isNaN(k[t])||(k[t]=0===r?.5:(k[t]-a)/r)}}return k}},57471:function(ee){ee.exports=function(D,e){var A="number"==typeof D,k="number"==typeof e;A&&!k?(e=D,D=0):A||k||(D=0,e=0);var l=(e|=0)-(D|=0);if(l<0)throw new Error("array length must be positive");for(var T=new Array(l),b=0,d=D;b<l;b++,d++)T[b]=d;return T}},32791:function(ee,D,e){"use strict";var A=e(90386);function k(P){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(P)}var l,T,b=e(79616).codes,d=b.ERR_AMBIGUOUS_ARGUMENT,a=b.ERR_INVALID_ARG_TYPE,t=b.ERR_INVALID_ARG_VALUE,i=b.ERR_INVALID_RETURN_VALUE,r=b.ERR_MISSING_ARGS,n=e(73894),o=e(43827).inspect,s=e(43827).types,u=s.isPromise,p=s.isRegExp,c=Object.assign?Object.assign:e(73523).assign,x=Object.is?Object.is:e(64003);function g(){var P=e(74061);l=P.isDeepEqual,T=P.isDeepStrictEqual}var h=!1,y=ee.exports=f,v={};function m(P){throw P.message instanceof Error?P.message:new n(P)}function _(P,U,N,F){if(!N){var j=!1;if(0===U)j=!0,F="No value argument passed to `assert.ok()`";else if(F instanceof Error)throw F;var G=new n({actual:N,expected:!0,message:F,operator:"==",stackStartFn:P});throw G.generatedMessage=j,G}}function f(){for(var P=arguments.length,U=new Array(P),N=0;N<P;N++)U[N]=arguments[N];_.apply(void 0,[f,U.length].concat(U))}y.fail=function P(U,N,F,j,G){var te,J=arguments.length;if(0===J?te="Failed":1===J?(F=U,U=void 0):(!1===h&&(h=!0,(A.emitWarning?A.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===J&&(j="!=")),F instanceof Error)throw F;var X={actual:U,expected:N,operator:void 0===j?"fail":j,stackStartFn:G||P};void 0!==F&&(X.message=F);var Y=new n(X);throw te&&(Y.message=te,Y.generatedMessage=!0),Y},y.AssertionError=n,y.ok=f,y.equal=function P(U,N,F){if(arguments.length<2)throw new r("actual","expected");U!=N&&m({actual:U,expected:N,message:F,operator:"==",stackStartFn:P})},y.notEqual=function P(U,N,F){if(arguments.length<2)throw new r("actual","expected");U==N&&m({actual:U,expected:N,message:F,operator:"!=",stackStartFn:P})},y.deepEqual=function P(U,N,F){if(arguments.length<2)throw new r("actual","expected");void 0===l&&g(),l(U,N)||m({actual:U,expected:N,message:F,operator:"deepEqual",stackStartFn:P})},y.notDeepEqual=function P(U,N,F){if(arguments.length<2)throw new r("actual","expected");void 0===l&&g(),l(U,N)&&m({actual:U,expected:N,message:F,operator:"notDeepEqual",stackStartFn:P})},y.deepStrictEqual=function P(U,N,F){if(arguments.length<2)throw new r("actual","expected");void 0===l&&g(),T(U,N)||m({actual:U,expected:N,message:F,operator:"deepStrictEqual",stackStartFn:P})},y.notDeepStrictEqual=function P(U,N,F){if(arguments.length<2)throw new r("actual","expected");void 0===l&&g(),T(U,N)&&m({actual:U,expected:N,message:F,operator:"notDeepStrictEqual",stackStartFn:P})},y.strictEqual=function P(U,N,F){if(arguments.length<2)throw new r("actual","expected");x(U,N)||m({actual:U,expected:N,message:F,operator:"strictEqual",stackStartFn:P})},y.notStrictEqual=function P(U,N,F){if(arguments.length<2)throw new r("actual","expected");x(U,N)&&m({actual:U,expected:N,message:F,operator:"notStrictEqual",stackStartFn:P})};var S=function P(U,N,F){var j=this;(function(G,te){if(!(G instanceof te))throw new TypeError("Cannot call a class as a function")})(this,P),N.forEach(function(G){G in U&&(j[G]=void 0!==F&&"string"==typeof F[G]&&p(U[G])&&U[G].test(F[G])?F[G]:U[G])})};function w(P,U,N,F){if("function"!=typeof U){if(p(U))return U.test(P);if(2===arguments.length)throw new a("expected",["Function","RegExp"],U);if("object"!==k(P)||null===P){var j=new n({actual:P,expected:U,message:N,operator:"deepStrictEqual",stackStartFn:F});throw j.operator=F.name,j}var G=Object.keys(U);if(U instanceof Error)G.push("name","message");else if(0===G.length)throw new t("error",U,"may not be an empty object");return void 0===l&&g(),G.forEach(function(te){"string"==typeof P[te]&&p(U[te])&&U[te].test(P[te])||function(J,X,Y,W,$,ne){if(!(Y in J)||!T(J[Y],X[Y])){if(!W){var re=new S(J,$),oe=new S(X,$,J),ue=new n({actual:re,expected:oe,operator:"deepStrictEqual",stackStartFn:ne});throw ue.actual=J,ue.expected=X,ue.operator=ne.name,ue}m({actual:J,expected:X,message:W,operator:ne.name,stackStartFn:ne})}}(P,U,te,N,G,F)}),!0}return void 0!==U.prototype&&P instanceof U||!Error.isPrototypeOf(U)&&!0===U.call({},P)}function E(P){if("function"!=typeof P)throw new a("fn","Function",P);try{P()}catch(U){return U}return v}function L(P){return u(P)||null!==P&&"object"===k(P)&&"function"==typeof P.then&&"function"==typeof P.catch}function C(P){return Promise.resolve().then(function(){var U;if("function"==typeof P){if(!L(U=P()))throw new i("instance of Promise","promiseFn",U)}else{if(!L(P))throw new a("promiseFn",["Function","Promise"],P);U=P}return Promise.resolve().then(function(){return U}).then(function(){return v}).catch(function(N){return N})})}function O(P,U,N,F){if("string"==typeof N){if(4===arguments.length)throw new a("error",["Object","Error","Function","RegExp"],N);if("object"===k(U)&&null!==U){if(U.message===N)throw new d("error/message",'The error message "'.concat(U.message,'" is identical to the message.'))}else if(U===N)throw new d("error/message",'The error "'.concat(U,'" is identical to the message.'));F=N,N=void 0}else if(null!=N&&"object"!==k(N)&&"function"!=typeof N)throw new a("error",["Object","Error","Function","RegExp"],N);if(U===v){var j="";N&&N.name&&(j+=" (".concat(N.name,")")),j+=F?": ".concat(F):".",m({actual:void 0,expected:N,operator:P.name,message:"Missing expected ".concat("rejects"===P.name?"rejection":"exception").concat(j),stackStartFn:P})}if(N&&!w(U,N,F,P))throw U}function R(P,U,N,F){if(U!==v){if("string"==typeof N&&(F=N,N=void 0),!N||w(U,N)){var j=F?": ".concat(F):".";m({actual:U,expected:N,operator:P.name,message:"Got unwanted ".concat("doesNotReject"===P.name?"rejection":"exception").concat(j,"\n")+'Actual message: "'.concat(U&&U.message,'"'),stackStartFn:P})}throw U}}function q(){for(var P=arguments.length,U=new Array(P),N=0;N<P;N++)U[N]=arguments[N];_.apply(void 0,[q,U.length].concat(U))}y.throws=function P(U){for(var N=arguments.length,F=new Array(N>1?N-1:0),j=1;j<N;j++)F[j-1]=arguments[j];O.apply(void 0,[P,E(U)].concat(F))},y.rejects=function P(U){for(var N=arguments.length,F=new Array(N>1?N-1:0),j=1;j<N;j++)F[j-1]=arguments[j];return C(U).then(function(G){return O.apply(void 0,[P,G].concat(F))})},y.doesNotThrow=function P(U){for(var N=arguments.length,F=new Array(N>1?N-1:0),j=1;j<N;j++)F[j-1]=arguments[j];R.apply(void 0,[P,E(U)].concat(F))},y.doesNotReject=function P(U){for(var N=arguments.length,F=new Array(N>1?N-1:0),j=1;j<N;j++)F[j-1]=arguments[j];return C(U).then(function(G){return R.apply(void 0,[P,G].concat(F))})},y.ifError=function P(U){if(null!=U){var N="ifError got unwanted exception: ";"object"===k(U)&&"string"==typeof U.message?N+=0===U.message.length&&U.constructor?U.constructor.name:U.message:N+=o(U);var F=new n({actual:U,expected:null,operator:"ifError",message:N,stackStartFn:P}),j=U.stack;if("string"==typeof j){var G=j.split("\n");G.shift();for(var te=F.stack.split("\n"),J=0;J<G.length;J++){var X=te.indexOf(G[J]);if(-1!==X){te=te.slice(0,X);break}}F.stack="".concat(te.join("\n"),"\n").concat(G.join("\n"))}throw F}},y.strict=c(q,y,{equal:y.strictEqual,deepEqual:y.deepStrictEqual,notEqual:y.notStrictEqual,notDeepEqual:y.notDeepStrictEqual}),y.strict.strict=y.strict},73894:function(ee,D,e){"use strict";var A=e(90386);function k(m,_,f){return _ in m?Object.defineProperty(m,_,{value:f,enumerable:!0,configurable:!0,writable:!0}):m[_]=f,m}function T(m,_){return!_||"object"!==r(_)&&"function"!=typeof _?b(m):_}function b(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function d(m){var _="function"==typeof Map?new Map:void 0;return d=function(f){if(null===f||-1===Function.toString.call(f).indexOf("[native code]"))return f;if("function"!=typeof f)throw new TypeError("Super expression must either be null or a function");if(void 0!==_){if(_.has(f))return _.get(f);_.set(f,w)}function w(){return a(f,arguments,i(this).constructor)}return w.prototype=Object.create(f.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),t(w,f)},d(m)}function a(m,_,f){return(a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(S,w,E){var L=[null];L.push.apply(L,w);var C=new(Function.bind.apply(S,L));return E&&t(C,E.prototype),C}).apply(null,arguments)}function t(m,_){return(t=Object.setPrototypeOf||function(f,S){return f.__proto__=S,f})(m,_)}function i(m){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(m)}function r(m){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(m)}var n=e(43827).inspect,o=e(79616).codes.ERR_INVALID_ARG_TYPE;function s(m,_,f){return(void 0===f||f>m.length)&&(f=m.length),m.substring(f-_.length,f)===_}var u="",p="",c="",x="",g={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function h(m){var _=Object.keys(m),f=Object.create(Object.getPrototypeOf(m));return _.forEach(function(S){f[S]=m[S]}),Object.defineProperty(f,"message",{value:m.message}),f}function y(m){return n(m,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var v=function(m){function _(w){var E;if(function(te,J){if(!(te instanceof J))throw new TypeError("Cannot call a class as a function")}(this,_),"object"!==r(w)||null===w)throw new o("options","Object",w);var L=w.message,C=w.operator,O=w.stackStartFn,R=w.actual,q=w.expected,P=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=L)E=T(this,i(_).call(this,String(L)));else if(A.stderr&&A.stderr.isTTY&&(A.stderr&&A.stderr.getColorDepth&&1!==A.stderr.getColorDepth()?(u="\x1b[34m",p="\x1b[32m",x="\x1b[39m",c="\x1b[31m"):(u="",p="",x="",c="")),"object"===r(R)&&null!==R&&"object"===r(q)&&null!==q&&"stack"in R&&R instanceof Error&&"stack"in q&&q instanceof Error&&(R=h(R),q=h(q)),"deepStrictEqual"===C||"strictEqual"===C)E=T(this,i(_).call(this,function(te,J,X){var Y="",W="",$=0,ne="",re=!1,oe=y(te),ue=oe.split("\n"),xe=y(J).split("\n"),Me=0,me="";if("strictEqual"===X&&"object"===r(te)&&"object"===r(J)&&null!==te&&null!==J&&(X="strictEqualObject"),1===ue.length&&1===xe.length&&ue[0]!==xe[0]){var pe=ue[0].length+xe[0].length;if(pe<=10){if(!("object"===r(te)&&null!==te||"object"===r(J)&&null!==J||0===te&&0===J))return"".concat(g[X],"\n\n")+"".concat(ue[0]," !== ").concat(xe[0],"\n")}else if("strictEqualObject"!==X&&pe<(A.stderr&&A.stderr.isTTY?A.stderr.columns:80)){for(;ue[0][Me]===xe[0][Me];)Me++;Me>2&&(me="\n  ".concat(function(Fe,ce){if(ce=Math.floor(ce),0==Fe.length||0==ce)return"";var Te=Fe.length*ce;for(ce=Math.floor(Math.log(ce)/Math.log(2));ce;)Fe+=Fe,ce--;return Fe+Fe.substring(0,Te-Fe.length)}(" ",Me),"^"),Me=0)}}for(var ge=ue[ue.length-1],Pe=xe[xe.length-1];ge===Pe&&(Me++<2?ne="\n  ".concat(ge).concat(ne):Y=ge,ue.pop(),xe.pop(),0!==ue.length&&0!==xe.length);)ge=ue[ue.length-1],Pe=xe[xe.length-1];var _e=Math.max(ue.length,xe.length);if(0===_e){var we=oe.split("\n");if(we.length>30)for(we[26]="".concat(u,"...").concat(x);we.length>27;)we.pop();return"".concat(g.notIdentical,"\n\n").concat(we.join("\n"),"\n")}Me>3&&(ne="\n".concat(u,"...").concat(x).concat(ne),re=!0),""!==Y&&(ne="\n  ".concat(Y).concat(ne),Y="");var se=0,ae=g[X]+"\n".concat(p,"+ actual").concat(x," ").concat(c,"- expected").concat(x),fe=" ".concat(u,"...").concat(x," Lines skipped");for(Me=0;Me<_e;Me++){var Ee=Me-$;if(ue.length<Me+1)Ee>1&&Me>2&&(Ee>4?(W+="\n".concat(u,"...").concat(x),re=!0):Ee>3&&(W+="\n  ".concat(xe[Me-2]),se++),W+="\n  ".concat(xe[Me-1]),se++),$=Me,Y+="\n".concat(c,"-").concat(x," ").concat(xe[Me]),se++;else if(xe.length<Me+1)Ee>1&&Me>2&&(Ee>4?(W+="\n".concat(u,"...").concat(x),re=!0):Ee>3&&(W+="\n  ".concat(ue[Me-2]),se++),W+="\n  ".concat(ue[Me-1]),se++),$=Me,W+="\n".concat(p,"+").concat(x," ").concat(ue[Me]),se++;else{var ke=xe[Me],be=ue[Me],Ie=be!==ke&&(!s(be,",")||be.slice(0,-1)!==ke);Ie&&s(ke,",")&&ke.slice(0,-1)===be&&(Ie=!1,be+=","),Ie?(Ee>1&&Me>2&&(Ee>4?(W+="\n".concat(u,"...").concat(x),re=!0):Ee>3&&(W+="\n  ".concat(ue[Me-2]),se++),W+="\n  ".concat(ue[Me-1]),se++),$=Me,W+="\n".concat(p,"+").concat(x," ").concat(be),Y+="\n".concat(c,"-").concat(x," ").concat(ke),se+=2):(W+=Y,Y="",1!==Ee&&0!==Me||(W+="\n  ".concat(be),se++))}if(se>20&&Me<_e-2)return"".concat(ae).concat(fe,"\n").concat(W,"\n").concat(u,"...").concat(x).concat(Y,"\n")+"".concat(u,"...").concat(x)}return"".concat(ae).concat(re?fe:"","\n").concat(W).concat(Y).concat(ne).concat(me)}(R,q,C)));else if("notDeepStrictEqual"===C||"notStrictEqual"===C){var U=g[C],N=y(R).split("\n");if("notStrictEqual"===C&&"object"===r(R)&&null!==R&&(U=g.notStrictEqualObject),N.length>30)for(N[26]="".concat(u,"...").concat(x);N.length>27;)N.pop();E=T(this,1===N.length?i(_).call(this,"".concat(U," ").concat(N[0])):i(_).call(this,"".concat(U,"\n\n").concat(N.join("\n"),"\n")))}else{var F=y(R),j="",G=g[C];"notDeepEqual"===C||"notEqual"===C?(F="".concat(g[C],"\n\n").concat(F)).length>1024&&(F="".concat(F.slice(0,1021),"...")):(j="".concat(y(q)),F.length>512&&(F="".concat(F.slice(0,509),"...")),j.length>512&&(j="".concat(j.slice(0,509),"...")),"deepEqual"===C||"equal"===C?F="".concat(G,"\n\n").concat(F,"\n\nshould equal\n\n"):j=" ".concat(C," ").concat(j)),E=T(this,i(_).call(this,"".concat(F).concat(j)))}return Error.stackTraceLimit=P,E.generatedMessage=!L,Object.defineProperty(b(E),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),E.code="ERR_ASSERTION",E.actual=R,E.expected=q,E.operator=C,Error.captureStackTrace&&Error.captureStackTrace(b(E),O),E.name="AssertionError",T(E)}var S;return function(w,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),E&&t(w,E)}(_,m),S=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:n.custom,value:function(w,E){return n(this,function(L){for(var C=1;C<arguments.length;C++){var O=null!=arguments[C]?arguments[C]:{},R=Object.keys(O);"function"==typeof Object.getOwnPropertySymbols&&(R=R.concat(Object.getOwnPropertySymbols(O).filter(function(q){return Object.getOwnPropertyDescriptor(O,q).enumerable}))),R.forEach(function(q){k(L,q,O[q])})}return L}({},E,{customInspect:!1,depth:0}))}}],S&&function l(m,_){for(var f=0;f<_.length;f++){var S=_[f];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}(_.prototype,S),_}(d(Error));ee.exports=v},79616:function(ee,D,e){"use strict";function A(i){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}function k(i){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(i)}function l(i,r){return(l=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(i,r)}var T,b,d={};function a(i,r,n){n||(n=Error);var o=function(s){function u(p,c,x){var g,h,y,v;return function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,u),(g=function(h,y){return!y||"object"!==A(y)&&"function"!=typeof y?function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(h):y}(this,k(u).call(this,(h=p,y=c,v=x,"string"==typeof r?r:r(h,y,v))))).code=i,g}return function(p,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(c&&c.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),c&&l(p,c)}(u,s),u}(n);d[i]=o}function t(i,r){if(Array.isArray(i)){var n=i.length;return i=i.map(function(o){return String(o)}),n>2?"one of ".concat(r," ").concat(i.slice(0,n-1).join(", "),", or ")+i[n-1]:2===n?"one of ".concat(r," ").concat(i[0]," or ").concat(i[1]):"of ".concat(r," ").concat(i[0])}return"of ".concat(r," ").concat(String(i))}a("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),a("ERR_INVALID_ARG_TYPE",function(i,r,n){var o,u,p,c,g,y;if(void 0===T&&(T=e(32791)),T("string"==typeof i,"'name' must be a string"),"string"==typeof r&&("not ","not "===r.substr(0,4))?(o="must not be",r=r.replace(/^not /,"")):o="must be",g=i," argument",(void 0===y||y>g.length)&&(y=g.length)," argument"===g.substring(y-9,y))u="The ".concat(i," ").concat(o," ").concat(t(r,"type"));else{var x=("number"!=typeof c&&(c=0),c+1>(p=i).length||-1===p.indexOf(".",c)?"argument":"property");u='The "'.concat(i,'" ').concat(x," ").concat(o," ").concat(t(r,"type"))}return u+". Received type ".concat(A(n))},TypeError),a("ERR_INVALID_ARG_VALUE",function(i,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===b&&(b=e(43827));var o=b.inspect(r);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(i,"' ").concat(n,". Received ").concat(o)},TypeError,RangeError),a("ERR_INVALID_RETURN_VALUE",function(i,r,n){var o;return o=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(A(n)),"Expected ".concat(i,' to be returned from the "').concat(r,'"')+" function but got ".concat(o,".")},TypeError),a("ERR_MISSING_ARGS",function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];void 0===T&&(T=e(32791)),T(r.length>0,"At least one arg needs to be specified");var o="The ",s=r.length;switch(r=r.map(function(u){return'"'.concat(u,'"')}),s){case 1:o+="".concat(r[0]," argument");break;case 2:o+="".concat(r[0]," and ").concat(r[1]," arguments");break;default:o+=r.slice(0,s-1).join(", "),o+=", and ".concat(r[s-1]," arguments")}return"".concat(o," must be specified")},TypeError),ee.exports.codes=d},74061:function(ee,D,e){"use strict";function A($,ne){return function(re){if(Array.isArray(re))return re}($)||function(re,oe){var ue=[],xe=!0,Me=!1,me=void 0;try{for(var pe,ge=re[Symbol.iterator]();!(xe=(pe=ge.next()).done)&&(ue.push(pe.value),!oe||ue.length!==oe);xe=!0);}catch(Pe){Me=!0,me=Pe}finally{try{xe||null==ge.return||ge.return()}finally{if(Me)throw me}}return ue}($,ne)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k($){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne})($)}var l=void 0!==/a/g.flags,T=function($){var ne=[];return $.forEach(function(re){return ne.push(re)}),ne},b=function($){var ne=[];return $.forEach(function(re,oe){return ne.push([oe,re])}),ne},d=Object.is?Object.is:e(64003),a=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},t=Number.isNaN?Number.isNaN:e(15567);function i($){return $.call.bind($)}var r=i(Object.prototype.hasOwnProperty),n=i(Object.prototype.propertyIsEnumerable),o=i(Object.prototype.toString),s=e(43827).types,u=s.isAnyArrayBuffer,p=s.isArrayBufferView,c=s.isDate,x=s.isMap,g=s.isRegExp,h=s.isSet,y=s.isNativeError,v=s.isBoxedPrimitive,m=s.isNumberObject,_=s.isStringObject,f=s.isBooleanObject,S=s.isBigIntObject,w=s.isSymbolObject,E=s.isFloat32Array,L=s.isFloat64Array;function C($){if(0===$.length||$.length>10)return!0;for(var ne=0;ne<$.length;ne++){var re=$.charCodeAt(ne);if(re<48||re>57)return!0}return 10===$.length&&$>=Math.pow(2,32)}function O($){return Object.keys($).filter(C).concat(a($).filter(Object.prototype.propertyIsEnumerable.bind($)))}function R($,ne){if($===ne)return 0;for(var re=$.length,oe=ne.length,ue=0,xe=Math.min(re,oe);ue<xe;++ue)if($[ue]!==ne[ue]){re=$[ue],oe=ne[ue];break}return re<oe?-1:oe<re?1:0}var q=0,P=1,U=2,N=3;function F($,ne,re,oe){if($===ne)return 0!==$||!re||d($,ne);if(re){if("object"!==k($))return"number"==typeof $&&t($)&&t(ne);if("object"!==k(ne)||null===$||null===ne||Object.getPrototypeOf($)!==Object.getPrototypeOf(ne))return!1}else{if(null===$||"object"!==k($))return(null===ne||"object"!==k(ne))&&$==ne;if(null===ne||"object"!==k(ne))return!1}var ue,xe,Me,me,se,ae,pe=o($);if(pe!==o(ne))return!1;if(Array.isArray($)){if($.length!==ne.length)return!1;var ge=O($),Pe=O(ne);return ge.length===Pe.length&&G($,ne,re,oe,P,ge)}if("[object Object]"===pe&&(!x($)&&x(ne)||!h($)&&h(ne)))return!1;if(c($)){if(!c(ne)||Date.prototype.getTime.call($)!==Date.prototype.getTime.call(ne))return!1}else if(g($)){if(!g(ne)||(Me=$,me=ne,!(l?Me.source===me.source&&Me.flags===me.flags:RegExp.prototype.toString.call(Me)===RegExp.prototype.toString.call(me))))return!1}else if(y($)||$ instanceof Error){if($.message!==ne.message||$.name!==ne.name)return!1}else{if(p($)){if(re||!E($)&&!L($)){if((se=$).byteLength!==(ae=ne).byteLength||0!==R(new Uint8Array(se.buffer,se.byteOffset,se.byteLength),new Uint8Array(ae.buffer,ae.byteOffset,ae.byteLength)))return!1}else if(!function(se,ae){if(se.byteLength!==ae.byteLength)return!1;for(var fe=0;fe<se.byteLength;fe++)if(se[fe]!==ae[fe])return!1;return!0}($,ne))return!1;var _e=O($),we=O(ne);return _e.length===we.length&&G($,ne,re,oe,q,_e)}if(h($))return!(!h(ne)||$.size!==ne.size)&&G($,ne,re,oe,U);if(x($))return!(!x(ne)||$.size!==ne.size)&&G($,ne,re,oe,N);if(u($)){if((ue=$).byteLength!==(xe=ne).byteLength||0!==R(new Uint8Array(ue),new Uint8Array(xe)))return!1}else if(v($)&&!function(se,ae){return m(se)?m(ae)&&d(Number.prototype.valueOf.call(se),Number.prototype.valueOf.call(ae)):_(se)?_(ae)&&String.prototype.valueOf.call(se)===String.prototype.valueOf.call(ae):f(se)?f(ae)&&Boolean.prototype.valueOf.call(se)===Boolean.prototype.valueOf.call(ae):S(se)?S(ae)&&BigInt.prototype.valueOf.call(se)===BigInt.prototype.valueOf.call(ae):w(ae)&&Symbol.prototype.valueOf.call(se)===Symbol.prototype.valueOf.call(ae)}($,ne))return!1}return G($,ne,re,oe,q)}function j($,ne){return ne.filter(function(re){return n($,re)})}function G($,ne,re,oe,ue,xe){if(5===arguments.length){xe=Object.keys($);var Me=Object.keys(ne);if(xe.length!==Me.length)return!1}for(var me=0;me<xe.length;me++)if(!r(ne,xe[me]))return!1;if(re&&5===arguments.length){var pe=a($);if(0!==pe.length){var ge=0;for(me=0;me<pe.length;me++){var Pe=pe[me];if(n($,Pe)){if(!n(ne,Pe))return!1;xe.push(Pe),ge++}else if(n(ne,Pe))return!1}var _e=a(ne);if(pe.length!==_e.length&&j(ne,_e).length!==ge)return!1}else{var we=a(ne);if(0!==we.length&&0!==j(ne,we).length)return!1}}if(0===xe.length&&(ue===q||ue===P&&0===$.length||0===$.size))return!0;if(void 0===oe)oe={val1:new Map,val2:new Map,position:0};else{var se=oe.val1.get($);if(void 0!==se){var ae=oe.val2.get(ne);if(void 0!==ae)return se===ae}oe.position++}oe.val1.set($,oe.position),oe.val2.set(ne,oe.position);var fe=function(Ee,ke,be,Ie,Fe,ce){var Te=0;if(ce===U){if(!function(Oe,je,qe,Je){for(var it=null,Qe=T(Oe),dt=0;dt<Qe.length;dt++){var yt=Qe[dt];if("object"===k(yt)&&null!==yt)null===it&&(it=new Set),it.add(yt);else if(!je.has(yt)){if(qe||!X(Oe,je,yt))return!1;null===it&&(it=new Set),it.add(yt)}}if(null!==it){for(var mt=T(je),at=0;at<mt.length;at++){var st=mt[at];if("object"===k(st)&&null!==st){if(!te(it,st,qe,Je))return!1}else if(!qe&&!Oe.has(st)&&!te(it,st,qe,Je))return!1}return 0===it.size}return!0}(Ee,ke,be,Fe))return!1}else if(ce===N){if(!function(Oe,je,qe,Je){for(var it=null,Qe=b(Oe),dt=0;dt<Qe.length;dt++){var yt=A(Qe[dt],2),mt=yt[0],at=yt[1];if("object"===k(mt)&&null!==mt)null===it&&(it=new Set),it.add(mt);else{var st=je.get(mt);if(void 0===st&&!je.has(mt)||!F(at,st,qe,Je)){if(qe||!Y(Oe,je,mt,at,Je))return!1;null===it&&(it=new Set),it.add(mt)}}}if(null!==it){for(var Tt=b(je),At=0;At<Tt.length;At++){var Pt=A(Tt[At],2),kt=(mt=Pt[0],Pt[1]);if("object"===k(mt)&&null!==mt){if(!W(it,Oe,mt,kt,qe,Je))return!1}else if(!(qe||Oe.has(mt)&&F(Oe.get(mt),kt,!1,Je)||W(it,Oe,mt,kt,!1,Je)))return!1}return 0===it.size}return!0}(Ee,ke,be,Fe))return!1}else if(ce===P)for(;Te<Ee.length;Te++){if(!r(Ee,Te)){if(r(ke,Te))return!1;for(var ve=Object.keys(Ee);Te<ve.length;Te++){var Ce=ve[Te];if(!r(ke,Ce)||!F(Ee[Ce],ke[Ce],be,Fe))return!1}return ve.length===Object.keys(ke).length}if(!r(ke,Te)||!F(Ee[Te],ke[Te],be,Fe))return!1}for(Te=0;Te<Ie.length;Te++){var Re=Ie[Te];if(!F(Ee[Re],ke[Re],be,Fe))return!1}return!0}($,ne,re,xe,oe,ue);return oe.val1.delete($),oe.val2.delete(ne),fe}function te($,ne,re,oe){for(var ue=T($),xe=0;xe<ue.length;xe++){var Me=ue[xe];if(F(ne,Me,re,oe))return $.delete(Me),!0}return!1}function J($){switch(k($)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":$=+$;case"number":if(t($))return!1}return!0}function X($,ne,re){var oe=J(re);return oe??(ne.has(oe)&&!$.has(oe))}function Y($,ne,re,oe,ue){var xe=J(re);if(null!=xe)return xe;var Me=ne.get(xe);return!(void 0===Me&&!ne.has(xe)||!F(oe,Me,!1,ue))&&!$.has(xe)&&F(oe,Me,!1,ue)}function W($,ne,re,oe,ue,xe){for(var Me=T($),me=0;me<Me.length;me++){var pe=Me[me];if(F(re,pe,ue,xe)&&F(oe,ne.get(pe),ue,xe))return $.delete(pe),!0}return!1}ee.exports={isDeepEqual:function($,ne){return F($,ne,!1)},isDeepStrictEqual:function($,ne){return F($,ne,!0)}}},95341:function(ee,D){"use strict";D.byteLength=function(a){var t=b(a),r=t[1];return 3*(t[0]+r)/4-r},D.toByteArray=function(a){var t,i,g,r=b(a),n=r[0],o=r[1],s=new k(3*(n+(g=o))/4-g),u=0,p=o>0?n-4:n;for(i=0;i<p;i+=4)t=A[a.charCodeAt(i)]<<18|A[a.charCodeAt(i+1)]<<12|A[a.charCodeAt(i+2)]<<6|A[a.charCodeAt(i+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===o&&(t=A[a.charCodeAt(i)]<<2|A[a.charCodeAt(i+1)]>>4,s[u++]=255&t),1===o&&(t=A[a.charCodeAt(i)]<<10|A[a.charCodeAt(i+1)]<<4|A[a.charCodeAt(i+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s},D.fromByteArray=function(a){for(var t,i=a.length,r=i%3,n=[],o=16383,s=0,u=i-r;s<u;s+=o)n.push(d(a,s,s+o>u?u:s+o));return 1===r?n.push(e[(t=a[i-1])>>2]+e[t<<4&63]+"=="):2===r&&n.push(e[(t=(a[i-2]<<8)+a[i-1])>>10]+e[t>>4&63]+e[t<<2&63]+"="),n.join("")};for(var e=[],A=[],k=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0;T<64;++T)e[T]=l[T],A[l.charCodeAt(T)]=T;function b(a){var t=a.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=a.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function d(a,t,i){for(var n,o=[],s=t;s<i;s+=3)o.push(e[(n=(a[s]<<16&16711680)+(a[s+1]<<8&65280)+(255&a[s+2]))>>18&63]+e[n>>12&63]+e[n>>6&63]+e[63&n]);return o.join("")}A["-".charCodeAt(0)]=62,A["_".charCodeAt(0)]=63},91358:function(ee){"use strict";function D(b,d,a,t,i){for(var r=i+1;t<=i;){var n=t+i>>>1,o=b[n];(void 0!==a?a(o,d):o-d)>=0?(r=n,i=n-1):t=n+1}return r}function e(b,d,a,t,i){for(var r=i+1;t<=i;){var n=t+i>>>1,o=b[n];(void 0!==a?a(o,d):o-d)>0?(r=n,i=n-1):t=n+1}return r}function A(b,d,a,t,i){for(var r=t-1;t<=i;){var n=t+i>>>1,o=b[n];(void 0!==a?a(o,d):o-d)<0?(r=n,t=n+1):i=n-1}return r}function k(b,d,a,t,i){for(var r=t-1;t<=i;){var n=t+i>>>1,o=b[n];(void 0!==a?a(o,d):o-d)<=0?(r=n,t=n+1):i=n-1}return r}function l(b,d,a,t,i){for(;t<=i;){var r=t+i>>>1,n=b[r],o=void 0!==a?a(n,d):n-d;if(0===o)return r;o<=0?t=r+1:i=r-1}return-1}function T(b,d,a,t,i,r){return"function"==typeof a?r(b,d,a,void 0===t?0:0|t,void 0===i?b.length-1:0|i):r(b,d,void 0,void 0===a?0:0|a,void 0===t?b.length-1:0|t)}ee.exports={ge:function(b,d,a,t,i){return T(b,d,a,t,i,D)},gt:function(b,d,a,t,i){return T(b,d,a,t,i,e)},lt:function(b,d,a,t,i){return T(b,d,a,t,i,A)},le:function(b,d,a,t,i){return T(b,d,a,t,i,k)},eq:function(b,d,a,t,i){return T(b,d,a,t,i,l)}}},13547:function(ee,D){"use strict";function e(k){var l=32;return(k&=-k)&&l--,65535&k&&(l-=16),16711935&k&&(l-=8),252645135&k&&(l-=4),858993459&k&&(l-=2),1431655765&k&&(l-=1),l}D.INT_BITS=32,D.INT_MAX=2147483647,D.INT_MIN=-2147483648,D.sign=function(k){return(k>0)-(k<0)},D.abs=function(k){var l=k>>31;return(k^l)-l},D.min=function(k,l){return l^(k^l)&-(k<l)},D.max=function(k,l){return k^(k^l)&-(k<l)},D.isPow2=function(k){return!(k&k-1||!k)},D.log2=function(k){var l,T;return l=(k>65535)<<4,l|=T=((k>>>=l)>255)<<3,l|=T=((k>>>=T)>15)<<2,(l|=T=((k>>>=T)>3)<<1)|(k>>>=T)>>1},D.log10=function(k){return k>=1e9?9:k>=1e8?8:k>=1e7?7:k>=1e6?6:k>=1e5?5:k>=1e4?4:k>=1e3?3:k>=100?2:k>=10?1:0},D.popCount=function(k){return 16843009*((k=(858993459&(k-=k>>>1&1431655765))+(k>>>2&858993459))+(k>>>4)&252645135)>>>24},D.countTrailingZeros=e,D.nextPow2=function(k){return k+=0===k,--k,k|=k>>>1,k|=k>>>2,k|=k>>>4,1+((k|=k>>>8)|k>>>16)},D.prevPow2=function(k){return k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,(k|=k>>>16)-(k>>>1)},D.parity=function(k){return k^=k>>>16,k^=k>>>8,k^=k>>>4,27030>>>(k&=15)&1};var A=new Array(256);(function(k){for(var l=0;l<256;++l){var T=l,b=l,d=7;for(T>>>=1;T;T>>>=1)b<<=1,b|=1&T,--d;k[l]=b<<d&255}})(A),D.reverse=function(k){return A[255&k]<<24|A[k>>>8&255]<<16|A[k>>>16&255]<<8|A[k>>>24&255]},D.interleave2=function(k,l){return(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k&=65535)|k<<8))|k<<4))|k<<2))|k<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l&=65535)|l<<8))|l<<4))|l<<2))|l<<1))<<1},D.deinterleave2=function(k,l){return(k=65535&((k=16711935&((k=252645135&((k=858993459&((k=k>>>l&1431655765)|k>>>1))|k>>>2))|k>>>4))|k>>>16))<<16>>16},D.interleave3=function(k,l,T){return k=1227133513&((k=3272356035&((k=251719695&((k=4278190335&((k&=1023)|k<<16))|k<<8))|k<<4))|k<<2),(k|=(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<1)|(T=1227133513&((T=3272356035&((T=251719695&((T=4278190335&((T&=1023)|T<<16))|T<<8))|T<<4))|T<<2))<<2},D.deinterleave3=function(k,l){return(k=1023&((k=4278190335&((k=251719695&((k=3272356035&((k=k>>>l&1227133513)|k>>>2))|k>>>4))|k>>>8))|k>>>16))<<22>>22},D.nextCombination=function(k){var l=k|k-1;return l+1|(~l&-~l)-1>>>e(k)+1}},44781:function(ee,D,e){"use strict";var A=e(53435);ee.exports=function(b,d){d||(d={});var a,t,i,r,n,o,u,c,x,g=null==d.cutoff?.25:d.cutoff,h=null==d.radius?8:d.radius,y=d.channel||0;if(ArrayBuffer.isView(b)||Array.isArray(b)){if(!d.width||!d.height)throw Error("For raw data width and height should be provided by options");a=d.width,t=d.height,r=b,o=d.stride?d.stride:Math.floor(b.length/a/t)}else window.HTMLCanvasElement&&b instanceof window.HTMLCanvasElement?(r=(u=b).getContext("2d").getImageData(0,0,a=u.width,t=u.height).data,o=4):window.CanvasRenderingContext2D&&b instanceof window.CanvasRenderingContext2D?(a=(u=b.canvas).width,r=b.getImageData(0,0,a,t=u.height).data,o=4):window.ImageData&&b instanceof window.ImageData&&(a=b.width,t=b.height,r=b.data,o=4);if(i=Math.max(a,t),window.Uint8ClampedArray&&r instanceof window.Uint8ClampedArray||window.Uint8Array&&r instanceof window.Uint8Array)for(n=r,r=Array(a*t),c=0,x=n.length;c<x;c++)r[c]=n[c*o+y]/255;else if(1!==o)throw Error("Raw data can have only 1 value per pixel");var v=Array(a*t),m=Array(a*t),_=Array(i),f=Array(i),S=Array(i+1),w=Array(i);for(c=0,x=a*t;c<x;c++){var E=r[c];v[c]=1===E?0:0===E?k:Math.pow(Math.max(0,.5-E),2),m[c]=1===E?k:0===E?0:Math.pow(Math.max(0,E-.5),2)}l(v,a,t,_,f,w,S),l(m,a,t,_,f,w,S);var L=window.Float32Array?new Float32Array(a*t):new Array(a*t);for(c=0,x=a*t;c<x;c++)L[c]=A(1-((v[c]-m[c])/h+g),0,1);return L};var k=1e20;function l(b,d,a,t,i,r,n){for(var o=0;o<d;o++){for(var s=0;s<a;s++)t[s]=b[s*d+o];for(T(t,i,r,n,a),s=0;s<a;s++)b[s*d+o]=i[s]}for(s=0;s<a;s++){for(o=0;o<d;o++)t[o]=b[s*d+o];for(T(t,i,r,n,d),o=0;o<d;o++)b[s*d+o]=Math.sqrt(i[o])}}function T(b,d,a,t,i){a[0]=0,t[0]=-k,t[1]=+k;for(var r=1,n=0;r<i;r++){for(var o=(b[r]+r*r-(b[a[n]]+a[n]*a[n]))/(2*r-2*a[n]);o<=t[n];)n--,o=(b[r]+r*r-(b[a[n]]+a[n]*a[n]))/(2*r-2*a[n]);a[++n]=r,t[n]=o,t[n+1]=+k}for(r=0,n=0;r<i;r++){for(;t[n+1]<r;)n++;d[r]=(r-a[n])*(r-a[n])+b[a[n]]}}},6614:function(ee,D,e){"use strict";var A=e(68318),k=e(68222),l=k(A("String.prototype.indexOf"));ee.exports=function(T,b){var d=A(T,!!b);return"function"==typeof d&&l(T,".prototype.")>-1?k(d):d}},68222:function(ee,D,e){"use strict";var A=e(77575),k=e(68318),l=k("%Function.prototype.apply%"),T=k("%Function.prototype.call%"),b=k("%Reflect.apply%",!0)||A.call(T,l),d=k("%Object.getOwnPropertyDescriptor%",!0),a=k("%Object.defineProperty%",!0),t=k("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}ee.exports=function(r){var n=b(A,T,arguments);return d&&a&&d(n,"length").configurable&&a(n,"length",{value:1+t(0,r.length-(arguments.length-1))}),n};var i=function(){return b(A,l,arguments)};a?a(ee.exports,"apply",{value:i}):ee.exports.apply=i},53435:function(ee){ee.exports=function(D,e,A){return e<A?D<e?e:D>A?A:D:D<A?A:D>e?e:D}},6475:function(ee,D,e){"use strict";var A=e(53435);function k(l,T){null==T&&(T=!0);var b=l[0],d=l[1],a=l[2],t=l[3];return null==t&&(t=T?1:255),T&&(b*=255,d*=255,a*=255,t*=255),16777216*(b=255&A(b,0,255))+((d=255&A(d,0,255))<<16)+((a=255&A(a,0,255))<<8)+(255&A(t,0,255))}ee.exports=k,ee.exports.to=k,ee.exports.from=function(l,T){var b=(l=+l)>>>24,d=(16711680&l)>>>16,a=(65280&l)>>>8,t=255&l;return!1===T?[b,d,a,t]:[b/255,d/255,a/255,t/255]}},76857:function(ee){"use strict";ee.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(ee,D,e){"use strict";var A=e(36652),k=e(53435),l=e(90660);ee.exports=function(T,b){"float"!==b&&b||(b="array"),"uint"===b&&(b="uint8"),"uint_clamped"===b&&(b="uint8_clamped");var t,d=new(l(b))(4),a="uint8"!==b&&"uint8_clamped"!==b;return T.length&&"string"!=typeof T||((T=A(T))[0]/=255,T[1]/=255,T[2]/=255),(t=T)instanceof Uint8Array||t instanceof Uint8ClampedArray||Array.isArray(t)&&(t[0]>1||0===t[0])&&(t[1]>1||0===t[1])&&(t[2]>1||0===t[2])&&(!t[3]||t[3]>1)?(d[0]=T[0],d[1]=T[1],d[2]=T[2],d[3]=null!=T[3]?T[3]:255,a&&(d[0]/=255,d[1]/=255,d[2]/=255,d[3]/=255),d):(a?(d[0]=T[0],d[1]=T[1],d[2]=T[2],d[3]=null!=T[3]?T[3]:1):(d[0]=k(Math.floor(255*T[0]),0,255),d[1]=k(Math.floor(255*T[1]),0,255),d[2]=k(Math.floor(255*T[2]),0,255),d[3]=null==T[3]?255:k(Math.floor(255*T[3]),0,255)),d)}},90736:function(ee,D,e){"use strict";var A=e(76857),k=e(10973),l=e(46775);ee.exports=function(b){var d,a,t=[],i=1;if("string"==typeof b)if(A[b])t=A[b].slice(),a="rgb";else if("transparent"===b)i=0,a="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(b)){var r=b.slice(1);i=1,(s=r.length)<=4?(t=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],4===s&&(i=parseInt(r[3]+r[3],16)/255)):(t=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],8===s&&(i=parseInt(r[6]+r[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),a="rgb"}else if(d=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(b)){var n=d[1],o="rgb"===n;a=r=n.replace(/a$/,"");var s="cmyk"===r?4:"gray"===r?1:3;t=d[2].trim().split(/\s*,\s*/).map(function(p,c){if(/%$/.test(p))return c===s?parseFloat(p)/100:"rgb"===r?255*parseFloat(p)/100:parseFloat(p);if("h"===r[c]){if(/deg$/.test(p))return parseFloat(p);if(void 0!==T[p])return T[p]}return parseFloat(p)}),n===r&&t.push(1),i=o||void 0===t[s]?1:t[s],t=t.slice(0,s)}else b.length>10&&/[0-9](?:\s|\/)/.test(b)&&(t=b.match(/([0-9]+)/g).map(function(p){return parseFloat(p)}),a=b.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(b))if(k(b)){var u=l(b.r,b.red,b.R,null);null!==u?(a="rgb",t=[u,l(b.g,b.green,b.G),l(b.b,b.blue,b.B)]):(a="hsl",t=[l(b.h,b.hue,b.H),l(b.s,b.saturation,b.S),l(b.l,b.lightness,b.L,b.b,b.brightness)]),i=l(b.a,b.alpha,b.opacity,1),null!=b.opacity&&(i/=100)}else(Array.isArray(b)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(b))&&(t=[b[0],b[1],b[2]],a="rgb",i=4===b.length?b[3]:1);else a="rgb",t=[b>>>16,(65280&b)>>>8,255&b];return{space:a,values:t,alpha:i}};var T={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(ee,D,e){"use strict";var A=e(90736),k=e(80009),l=e(53435);ee.exports=function(T){var b,d=A(T);return d.space?((b=Array(3))[0]=l(d.values[0],0,255),b[1]=l(d.values[1],0,255),b[2]=l(d.values[2],0,255),"h"===d.space[0]&&(b=k.rgb(b)),b.push(l(d.alpha,0,1)),b):[]}},80009:function(ee,D,e){"use strict";var A=e(6866);ee.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(k){var l,T,b,d,a,t=k[0]/360,i=k[1]/100,r=k[2]/100;if(0===i)return[a=255*r,a,a];l=2*r-(T=r<.5?r*(1+i):r+i-r*i),d=[0,0,0];for(var n=0;n<3;n++)(b=t+.3333333333333333*-(n-1))<0?b++:b>1&&b--,d[n]=255*(a=6*b<1?l+6*(T-l)*b:2*b<1?T:3*b<2?l+(T-l)*(.6666666666666666-b)*6:l);return d}},A.hsl=function(k){var l,T,b=k[0]/255,d=k[1]/255,a=k[2]/255,t=Math.min(b,d,a),i=Math.max(b,d,a),r=i-t;return i===t?l=0:b===i?l=(d-a)/r:d===i?l=2+(a-b)/r:a===i&&(l=4+(b-d)/r),(l=Math.min(60*l,360))<0&&(l+=360),T=(t+i)/2,[l,100*(i===t?0:T<=.5?r/(i+t):r/(2-i-t)),100*T]}},6866:function(ee){"use strict";ee.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(ee){ee.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xe9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xe9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xe3)o.?tom(e|\xe9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(ee,D,e){"use strict";ee.exports={parse:e(41004),stringify:e(53313)}},63625:function(ee,D,e){"use strict";var A=e(40402);ee.exports={isSize:function(k){return/^[\d\.]/.test(k)||-1!==k.indexOf("/")||-1!==A.indexOf(k)}}},41004:function(ee,D,e){"use strict";var A=e(90448),k=e(38732),l=e(41901),T=e(15659),b=e(96209),d=e(83794),a=e(99011),t=e(63625).isSize;ee.exports=r;var i=r.cache={};function r(o){if("string"!=typeof o)throw new Error("Font argument must be a string.");if(i[o])return i[o];if(""===o)throw new Error("Cannot parse an empty string.");if(-1!==l.indexOf(o))return i[o]={system:o};for(var s,u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},p=a(o,/\s+/);s=p.shift();){if(-1!==k.indexOf(s))return["style","variant","weight","stretch"].forEach(function(x){u[x]=s}),i[o]=u;if(-1===b.indexOf(s))if("normal"!==s&&"small-caps"!==s)if(-1===d.indexOf(s)){if(-1===T.indexOf(s)){if(t(s)){var c=a(s,"/");if(u.size=c[0],null!=c[1]?u.lineHeight=n(c[1]):"/"===p[0]&&(p.shift(),u.lineHeight=n(p.shift())),!p.length)throw new Error("Missing required font-family.");return u.family=a(p.join(" "),/\s*,\s*/).map(A),i[o]=u}throw new Error("Unknown or unsupported font token: "+s)}u.weight=s}else u.stretch=s;else u.variant=s;else u.style=s}throw new Error("Missing required font-size.")}function n(o){var s=parseFloat(o);return s.toString()===o?s:o}},53313:function(ee,D,e){"use strict";var A=e(71299),k=e(63625).isSize,l=o(e(38732)),T=o(e(41901)),b=o(e(15659)),d=o(e(96209)),a=o(e(83794)),t={normal:1,"small-caps":1},i={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},r="serif";function n(s,u){if(s&&!u[s]&&!l[s])throw Error("Unknown keyword `"+s+"`");return s}function o(s){for(var u={},p=0;p<s.length;p++)u[s[p]]=1;return u}ee.exports=function(s){if((s=A(s,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return s.system&&n(s.system,T),s.system;if(n(s.style,d),n(s.variant,t),n(s.weight,b),n(s.stretch,a),null==s.size&&(s.size="1rem"),"number"==typeof s.size&&(s.size+="px"),!k)throw Error("Bad size value `"+s.size+"`");s.family||(s.family=r),Array.isArray(s.family)&&(s.family.length||(s.family=[r]),s.family=s.family.map(function(p){return i[p]?p:'"'+p+'"'}).join(", "));var u=[];return u.push(s.style),s.variant!==s.style&&u.push(s.variant),s.weight!==s.variant&&s.weight!==s.style&&u.push(s.weight),s.stretch!==s.weight&&s.stretch!==s.variant&&s.stretch!==s.style&&u.push(s.stretch),u.push(s.size+(null==s.lineHeight||"normal"===s.lineHeight||s.lineHeight+""=="1"?"":"/"+s.lineHeight)),u.push(s.family),u.filter(Boolean).join(" ")}},55174:function(ee,D,e){"use strict";var A,k=e(24582),l=e(10424),T=e(82527),b=e(19012),d=e(21780),a=e(16906),t=Function.prototype.bind,i=Object.defineProperty,r=Object.prototype.hasOwnProperty;A=function(n,o,s){var u,p=l(o)&&T(o.value);return delete(u=b(o)).writable,delete u.value,u.get=function(){return!s.overwriteDefinition&&r.call(this,n)?p:(o.value=t.call(p,s.resolveContext?s.resolveContext(this):this),i(this,n,o),this[n])},u},ee.exports=function(n){var o=d(arguments[1]);return k(o.resolveContext)&&T(o.resolveContext),a(n,function(s,u){return A(u,s,o)})}},62072:function(ee,D,e){"use strict";var A=e(24582),k=e(84985),l=e(95879),T=e(21780),b=e(66741),d=ee.exports=function(a,t){var i,r,n,o,s;return arguments.length<2||"string"!=typeof a?(o=t,t=a,a=null):o=arguments[2],A(a)?(i=b.call(a,"c"),r=b.call(a,"e"),n=b.call(a,"w")):(i=n=!0,r=!1),s={value:t,configurable:i,enumerable:r,writable:n},o?l(T(o),s):s};d.gs=function(a,t,i){var r,n,o,s;return"string"!=typeof a?(o=i,i=t,t=a,a=null):o=arguments[3],A(t)?k(t)?A(i)?k(i)||(o=i,i=void 0):i=void 0:(o=t,t=i=void 0):t=void 0,A(a)?(r=b.call(a,"c"),n=b.call(a,"e")):(r=!0,n=!1),s={get:t,set:i,configurable:r,enumerable:n},o?l(T(o),s):s}},33064:function(ee,D,e){"use strict";function A(o,s){return o<s?-1:o>s?1:o>=s?0:NaN}var k,l;function b(o,s){var u,p,c=o.length,x=-1;if(null==s){for(;++x<c;)if(null!=(u=o[x])&&u>=u)for(p=u;++x<c;)null!=(u=o[x])&&u>p&&(p=u)}else for(;++x<c;)if(null!=(u=s(o[x],x,o))&&u>=u)for(p=u;++x<c;)null!=(u=s(o[x],x,o))&&u>p&&(p=u);return p}function d(o){return null===o?NaN:+o}function a(o,s){var u,p=o.length,c=p,x=-1,g=0;if(null==s)for(;++x<p;)isNaN(u=d(o[x]))?--c:g+=u;else for(;++x<p;)isNaN(u=d(s(o[x],x,o)))?--c:g+=u;if(c)return g/c}function t(o){for(var s,u,p,c=o.length,x=-1,g=0;++x<c;)g+=o[x].length;for(u=new Array(g);--c>=0;)for(s=(p=o[c]).length;--s>=0;)u[--g]=p[s];return u}function i(o,s){var u,p,c=o.length,x=-1;if(null==s){for(;++x<c;)if(null!=(u=o[x])&&u>=u)for(p=u;++x<c;)null!=(u=o[x])&&p>u&&(p=u)}else for(;++x<c;)if(null!=(u=s(o[x],x,o))&&u>=u)for(p=u;++x<c;)null!=(u=s(o[x],x,o))&&p>u&&(p=u);return p}function r(o,s,u){o=+o,s=+s,u=(c=arguments.length)<2?(s=o,o=0,1):c<3?1:+u;for(var p=-1,c=0|Math.max(0,Math.ceil((s-o)/u)),x=new Array(c);++p<c;)x[p]=o+p*u;return x}function n(o,s){var u,p=o.length,c=-1,x=0;if(null==s)for(;++c<p;)(u=+o[c])&&(x+=u);else for(;++c<p;)(u=+s(o[c],c,o))&&(x+=u);return x}e.d(D,{j2:function(){return A},Fp:function(){return b},J6:function(){return a},TS:function(){return t},VV:function(){return i},w6:function(){return r},Sm:function(){return n}}),1===(k=A).length&&(l=k,k=function(o,s){return A(l(o),s)}),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},15140:function(ee,D,e){"use strict";e.d(D,{UI:function(){return T},b1:function(){return b}});var A="$";function k(){}function l(o,s){var u=new k;if(o instanceof k)o.each(function(h,y){u.set(y,h)});else if(Array.isArray(o)){var p,c=-1,x=o.length;if(null==s)for(;++c<x;)u.set(c,o[c]);else for(;++c<x;)u.set(s(p=o[c],c,o),p)}else if(o)for(var g in o)u.set(g,o[g]);return u}k.prototype=l.prototype={constructor:k,has:function(o){return A+o in this},get:function(o){return this[A+o]},set:function(o,s){return this[A+o]=s,this},remove:function(o){var s=A+o;return s in this&&delete this[s]},clear:function(){for(var o in this)o[0]===A&&delete this[o]},keys:function(){var o=[];for(var s in this)s[0]===A&&o.push(s.slice(1));return o},values:function(){var o=[];for(var s in this)s[0]===A&&o.push(this[s]);return o},entries:function(){var o=[];for(var s in this)s[0]===A&&o.push({key:s.slice(1),value:this[s]});return o},size:function(){var o=0;for(var s in this)s[0]===A&&++o;return o},empty:function(){for(var o in this)if(o[0]===A)return!1;return!0},each:function(o){for(var s in this)s[0]===A&&o(this[s],s.slice(1),this)}};var T=l;function b(){var o,s,u,p=[],c=[];function x(h,y,v,m){if(y>=p.length)return null!=o&&h.sort(o),null!=s?s(h):h;for(var _,f,S,w=-1,E=h.length,L=p[y++],C=T(),O=v();++w<E;)(S=C.get(_=L(f=h[w])+""))?S.push(f):C.set(_,[f]);return C.each(function(R,q){m(O,q,x(R,y,v,m))}),O}function g(h,y){if(++y>p.length)return h;var v,m=c[y-1];return null!=s&&y>=p.length?v=h.entries():(v=[],h.each(function(_,f){v.push({key:f,values:g(_,y)})})),null!=m?v.sort(function(_,f){return m(_.key,f.key)}):v}return u={object:function(h){return x(h,0,d,a)},map:function(h){return x(h,0,t,i)},entries:function(h){return g(x(h,0,t,i),0)},key:function(h){return p.push(h),u},sortKeys:function(h){return c[p.length-1]=h,u},sortValues:function(h){return o=h,u},rollup:function(h){return s=h,u}}}function d(){return{}}function a(o,s,u){o[s]=u}function t(){return T()}function i(o,s,u){o.set(s,u)}function r(){}var n=T.prototype;r.prototype=function(o,s){var u=new r;if(o instanceof r)o.each(function(x){u.add(x)});else if(o){var p=-1,c=o.length;if(null==s)for(;++p<c;)u.add(o[p]);else for(;++p<c;)u.add(s(o[p],p,o))}return u}.prototype={constructor:r,has:n.has,add:function(o){return this[A+(o+="")]=o,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49887:function(ee,D,e){"use strict";function A(pe,ge){var Pe;function _e(){var we,se,ae=Pe.length,fe=0,Ee=0;for(we=0;we<ae;++we)fe+=(se=Pe[we]).x,Ee+=se.y;for(fe=fe/ae-pe,Ee=Ee/ae-ge,we=0;we<ae;++we)(se=Pe[we]).x-=fe,se.y-=Ee}return null==pe&&(pe=0),null==ge&&(ge=0),_e.initialize=function(we){Pe=we},_e.x=function(we){return arguments.length?(pe=+we,_e):pe},_e.y=function(we){return arguments.length?(ge=+we,_e):ge},_e}function k(pe){return function(){return pe}}function l(){return 1e-6*(Math.random()-.5)}function T(pe,ge,Pe,_e){if(isNaN(ge)||isNaN(Pe))return pe;var we,se,ae,fe,Ee,ke,be,Ie,Fe,ce=pe._root,Te={data:_e},ve=pe._x0,Ce=pe._y0,Re=pe._x1,Oe=pe._y1;if(!ce)return pe._root=Te,pe;for(;ce.length;)if((ke=ge>=(se=(ve+Re)/2))?ve=se:Re=se,(be=Pe>=(ae=(Ce+Oe)/2))?Ce=ae:Oe=ae,we=ce,!(ce=ce[Ie=be<<1|ke]))return we[Ie]=Te,pe;if(fe=+pe._x.call(null,ce.data),Ee=+pe._y.call(null,ce.data),ge===fe&&Pe===Ee)return Te.next=ce,we?we[Ie]=Te:pe._root=Te,pe;do{we=we?we[Ie]=new Array(4):pe._root=new Array(4),(ke=ge>=(se=(ve+Re)/2))?ve=se:Re=se,(be=Pe>=(ae=(Ce+Oe)/2))?Ce=ae:Oe=ae}while((Ie=be<<1|ke)==(Fe=(Ee>=ae)<<1|fe>=se));return we[Fe]=ce,we[Ie]=Te,pe}function b(pe,ge,Pe,_e,we){this.node=pe,this.x0=ge,this.y0=Pe,this.x1=_e,this.y1=we}function d(pe){return pe[0]}function a(pe){return pe[1]}function t(pe,ge,Pe){var _e=new i(ge??d,Pe??a,NaN,NaN,NaN,NaN);return null==pe?_e:_e.addAll(pe)}function i(pe,ge,Pe,_e,we,se){this._x=pe,this._y=ge,this._x0=Pe,this._y0=_e,this._x1=we,this._y1=se,this._root=void 0}function r(pe){for(var ge={data:pe.data},Pe=ge;pe=pe.next;)Pe=Pe.next={data:pe.data};return ge}e.r(D),e.d(D,{forceCenter:function(){return A},forceCollide:function(){return u},forceLink:function(){return g},forceManyBody:function(){return ue},forceRadial:function(){return xe},forceSimulation:function(){return oe},forceX:function(){return Me},forceY:function(){return me}});var n=t.prototype=i.prototype;function o(pe){return pe.x+pe.vx}function s(pe){return pe.y+pe.vy}function u(pe){var ge,Pe,_e=1,we=1;function se(){for(var Ee,ke,be,Ie,Fe,ce,Te,ve=ge.length,Ce=0;Ce<we;++Ce)for(ke=t(ge,o,s).visitAfter(ae),Ee=0;Ee<ve;++Ee)Te=(ce=Pe[(be=ge[Ee]).index])*ce,Ie=be.x+be.vx,Fe=be.y+be.vy,ke.visit(Re);function Re(Oe,je,qe,Je,it){var Qe=Oe.data,dt=Oe.r,yt=ce+dt;if(!Qe)return je>Ie+yt||Je<Ie-yt||qe>Fe+yt||it<Fe-yt;if(Qe.index>be.index){var mt=Ie-Qe.x-Qe.vx,at=Fe-Qe.y-Qe.vy,st=mt*mt+at*at;st<yt*yt&&(0===mt&&(st+=(mt=l())*mt),0===at&&(st+=(at=l())*at),st=(yt-(st=Math.sqrt(st)))/st*_e,be.vx+=(mt*=st)*(yt=(dt*=dt)/(Te+dt)),be.vy+=(at*=st)*yt,Qe.vx-=mt*(yt=1-yt),Qe.vy-=at*yt)}}}function ae(Ee){if(Ee.data)return Ee.r=Pe[Ee.data.index];for(var ke=Ee.r=0;ke<4;++ke)Ee[ke]&&Ee[ke].r>Ee.r&&(Ee.r=Ee[ke].r)}function fe(){if(ge){var Ee,ke,be=ge.length;for(Pe=new Array(be),Ee=0;Ee<be;++Ee)Pe[(ke=ge[Ee]).index]=+pe(ke,Ee,ge)}}return"function"!=typeof pe&&(pe=k(null==pe?1:+pe)),se.initialize=function(Ee){ge=Ee,fe()},se.iterations=function(Ee){return arguments.length?(we=+Ee,se):we},se.strength=function(Ee){return arguments.length?(_e=+Ee,se):_e},se.radius=function(Ee){return arguments.length?(pe="function"==typeof Ee?Ee:k(+Ee),fe(),se):pe},se}n.copy=function(){var pe,ge,Pe=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),_e=this._root;if(!_e)return Pe;if(!_e.length)return Pe._root=r(_e),Pe;for(pe=[{source:_e,target:Pe._root=new Array(4)}];_e=pe.pop();)for(var we=0;we<4;++we)(ge=_e.source[we])&&(ge.length?pe.push({source:ge,target:_e.target[we]=new Array(4)}):_e.target[we]=r(ge));return Pe},n.add=function(pe){var ge=+this._x.call(null,pe),Pe=+this._y.call(null,pe);return T(this.cover(ge,Pe),ge,Pe,pe)},n.addAll=function(pe){var ge,Pe,_e,we,se=pe.length,ae=new Array(se),fe=new Array(se),Ee=1/0,ke=1/0,be=-1/0,Ie=-1/0;for(Pe=0;Pe<se;++Pe)isNaN(_e=+this._x.call(null,ge=pe[Pe]))||isNaN(we=+this._y.call(null,ge))||(ae[Pe]=_e,fe[Pe]=we,_e<Ee&&(Ee=_e),_e>be&&(be=_e),we<ke&&(ke=we),we>Ie&&(Ie=we));if(Ee>be||ke>Ie)return this;for(this.cover(Ee,ke).cover(be,Ie),Pe=0;Pe<se;++Pe)T(this,ae[Pe],fe[Pe],pe[Pe]);return this},n.cover=function(pe,ge){if(isNaN(pe=+pe)||isNaN(ge=+ge))return this;var Pe=this._x0,_e=this._y0,we=this._x1,se=this._y1;if(isNaN(Pe))we=(Pe=Math.floor(pe))+1,se=(_e=Math.floor(ge))+1;else{for(var ae,fe,Ee=we-Pe,ke=this._root;Pe>pe||pe>=we||_e>ge||ge>=se;)switch(fe=(ge<_e)<<1|pe<Pe,(ae=new Array(4))[fe]=ke,ke=ae,Ee*=2,fe){case 0:we=Pe+Ee,se=_e+Ee;break;case 1:Pe=we-Ee,se=_e+Ee;break;case 2:we=Pe+Ee,_e=se-Ee;break;case 3:Pe=we-Ee,_e=se-Ee}this._root&&this._root.length&&(this._root=ke)}return this._x0=Pe,this._y0=_e,this._x1=we,this._y1=se,this},n.data=function(){var pe=[];return this.visit(function(ge){if(!ge.length)do{pe.push(ge.data)}while(ge=ge.next)}),pe},n.extent=function(pe){return arguments.length?this.cover(+pe[0][0],+pe[0][1]).cover(+pe[1][0],+pe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},n.find=function(pe,ge,Pe){var _e,we,se,ae,fe,Ee,ke,be=this._x0,Ie=this._y0,Fe=this._x1,ce=this._y1,Te=[],ve=this._root;for(ve&&Te.push(new b(ve,be,Ie,Fe,ce)),null==Pe?Pe=1/0:(be=pe-Pe,Ie=ge-Pe,Fe=pe+Pe,ce=ge+Pe,Pe*=Pe);Ee=Te.pop();)if(!(!(ve=Ee.node)||(we=Ee.x0)>Fe||(se=Ee.y0)>ce||(ae=Ee.x1)<be||(fe=Ee.y1)<Ie))if(ve.length){var Ce=(we+ae)/2,Re=(se+fe)/2;Te.push(new b(ve[3],Ce,Re,ae,fe),new b(ve[2],we,Re,Ce,fe),new b(ve[1],Ce,se,ae,Re),new b(ve[0],we,se,Ce,Re)),(ke=(ge>=Re)<<1|pe>=Ce)&&(Ee=Te[Te.length-1],Te[Te.length-1]=Te[Te.length-1-ke],Te[Te.length-1-ke]=Ee)}else{var Oe=pe-+this._x.call(null,ve.data),je=ge-+this._y.call(null,ve.data),qe=Oe*Oe+je*je;if(qe<Pe){var Je=Math.sqrt(Pe=qe);be=pe-Je,Ie=ge-Je,Fe=pe+Je,ce=ge+Je,_e=ve.data}}return _e},n.remove=function(pe){if(isNaN(se=+this._x.call(null,pe))||isNaN(ae=+this._y.call(null,pe)))return this;var ge,Pe,_e,we,se,ae,fe,Ee,ke,be,Ie,Fe,ce=this._root,Te=this._x0,ve=this._y0,Ce=this._x1,Re=this._y1;if(!ce)return this;if(ce.length)for(;;){if((ke=se>=(fe=(Te+Ce)/2))?Te=fe:Ce=fe,(be=ae>=(Ee=(ve+Re)/2))?ve=Ee:Re=Ee,ge=ce,!(ce=ce[Ie=be<<1|ke]))return this;if(!ce.length)break;(ge[Ie+1&3]||ge[Ie+2&3]||ge[Ie+3&3])&&(Pe=ge,Fe=Ie)}for(;ce.data!==pe;)if(_e=ce,!(ce=ce.next))return this;return(we=ce.next)&&delete ce.next,_e?(we?_e.next=we:delete _e.next,this):ge?(we?ge[Ie]=we:delete ge[Ie],(ce=ge[0]||ge[1]||ge[2]||ge[3])&&ce===(ge[3]||ge[2]||ge[1]||ge[0])&&!ce.length&&(Pe?Pe[Fe]=ce:this._root=ce),this):(this._root=we,this)},n.removeAll=function(pe){for(var ge=0,Pe=pe.length;ge<Pe;++ge)this.remove(pe[ge]);return this},n.root=function(){return this._root},n.size=function(){var pe=0;return this.visit(function(ge){if(!ge.length)do{++pe}while(ge=ge.next)}),pe},n.visit=function(pe){var ge,Pe,_e,we,se,ae,fe=[],Ee=this._root;for(Ee&&fe.push(new b(Ee,this._x0,this._y0,this._x1,this._y1));ge=fe.pop();)if(!pe(Ee=ge.node,_e=ge.x0,we=ge.y0,se=ge.x1,ae=ge.y1)&&Ee.length){var ke=(_e+se)/2,be=(we+ae)/2;(Pe=Ee[3])&&fe.push(new b(Pe,ke,be,se,ae)),(Pe=Ee[2])&&fe.push(new b(Pe,_e,be,ke,ae)),(Pe=Ee[1])&&fe.push(new b(Pe,ke,we,se,be)),(Pe=Ee[0])&&fe.push(new b(Pe,_e,we,ke,be))}return this},n.visitAfter=function(pe){var ge,Pe=[],_e=[];for(this._root&&Pe.push(new b(this._root,this._x0,this._y0,this._x1,this._y1));ge=Pe.pop();){var we=ge.node;if(we.length){var se,ae=ge.x0,fe=ge.y0,Ee=ge.x1,ke=ge.y1,be=(ae+Ee)/2,Ie=(fe+ke)/2;(se=we[0])&&Pe.push(new b(se,ae,fe,be,Ie)),(se=we[1])&&Pe.push(new b(se,be,fe,Ee,Ie)),(se=we[2])&&Pe.push(new b(se,ae,Ie,be,ke)),(se=we[3])&&Pe.push(new b(se,be,Ie,Ee,ke))}_e.push(ge)}for(;ge=_e.pop();)pe(ge.node,ge.x0,ge.y0,ge.x1,ge.y1);return this},n.x=function(pe){return arguments.length?(this._x=pe,this):this._x},n.y=function(pe){return arguments.length?(this._y=pe,this):this._y};var p=e(15140);function c(pe){return pe.index}function x(pe,ge){var Pe=pe.get(ge);if(!Pe)throw new Error("missing: "+ge);return Pe}function g(pe){var ge,Pe,_e,we,se,ae=c,fe=function(Te){return 1/Math.min(we[Te.source.index],we[Te.target.index])},Ee=k(30),ke=1;function be(Te){for(var ve=0,Ce=pe.length;ve<ke;++ve)for(var Re,Oe,je,qe,Je,it,Qe,dt=0;dt<Ce;++dt)Oe=(Re=pe[dt]).source,qe=(je=Re.target).x+je.vx-Oe.x-Oe.vx||l(),Je=je.y+je.vy-Oe.y-Oe.vy||l(),qe*=it=((it=Math.sqrt(qe*qe+Je*Je))-Pe[dt])/it*Te*ge[dt],Je*=it,je.vx-=qe*(Qe=se[dt]),je.vy-=Je*Qe,Oe.vx+=qe*(Qe=1-Qe),Oe.vy+=Je*Qe}function Ie(){if(_e){var Te,ve,Ce=_e.length,Re=pe.length,Oe=(0,p.UI)(_e,ae);for(Te=0,we=new Array(Ce);Te<Re;++Te)(ve=pe[Te]).index=Te,"object"!=typeof ve.source&&(ve.source=x(Oe,ve.source)),"object"!=typeof ve.target&&(ve.target=x(Oe,ve.target)),we[ve.source.index]=(we[ve.source.index]||0)+1,we[ve.target.index]=(we[ve.target.index]||0)+1;for(Te=0,se=new Array(Re);Te<Re;++Te)se[Te]=we[(ve=pe[Te]).source.index]/(we[ve.source.index]+we[ve.target.index]);ge=new Array(Re),Fe(),Pe=new Array(Re),ce()}}function Fe(){if(_e)for(var Te=0,ve=pe.length;Te<ve;++Te)ge[Te]=+fe(pe[Te],Te,pe)}function ce(){if(_e)for(var Te=0,ve=pe.length;Te<ve;++Te)Pe[Te]=+Ee(pe[Te],Te,pe)}return null==pe&&(pe=[]),be.initialize=function(Te){_e=Te,Ie()},be.links=function(Te){return arguments.length?(pe=Te,Ie(),be):pe},be.id=function(Te){return arguments.length?(ae=Te,be):ae},be.iterations=function(Te){return arguments.length?(ke=+Te,be):ke},be.strength=function(Te){return arguments.length?(fe="function"==typeof Te?Te:k(+Te),Fe(),be):fe},be.distance=function(Te){return arguments.length?(Ee="function"==typeof Te?Te:k(+Te),ce(),be):Ee},be}var h={value:function(){}};function y(){for(var pe,ge=0,Pe=arguments.length,_e={};ge<Pe;++ge){if(!(pe=arguments[ge]+"")||pe in _e||/[\s.]/.test(pe))throw new Error("illegal type: "+pe);_e[pe]=[]}return new v(_e)}function v(pe){this._=pe}function m(pe,ge){for(var Pe,_e=0,we=pe.length;_e<we;++_e)if((Pe=pe[_e]).name===ge)return Pe.value}function _(pe,ge,Pe){for(var _e=0,we=pe.length;_e<we;++_e)if(pe[_e].name===ge){pe[_e]=h,pe=pe.slice(0,_e).concat(pe.slice(_e+1));break}return null!=Pe&&pe.push({name:ge,value:Pe}),pe}v.prototype=y.prototype={constructor:v,on:function(pe,ge){var Pe,_e,we=this._,se=(_e=we,(pe+"").trim().split(/^|\s+/).map(function(Ee){var ke="",be=Ee.indexOf(".");if(be>=0&&(ke=Ee.slice(be+1),Ee=Ee.slice(0,be)),Ee&&!_e.hasOwnProperty(Ee))throw new Error("unknown type: "+Ee);return{type:Ee,name:ke}})),ae=-1,fe=se.length;if(!(arguments.length<2)){if(null!=ge&&"function"!=typeof ge)throw new Error("invalid callback: "+ge);for(;++ae<fe;)if(Pe=(pe=se[ae]).type)we[Pe]=_(we[Pe],pe.name,ge);else if(null==ge)for(Pe in we)we[Pe]=_(we[Pe],pe.name,null);return this}for(;++ae<fe;)if((Pe=(pe=se[ae]).type)&&(Pe=m(we[Pe],pe.name)))return Pe},copy:function(){var pe={},ge=this._;for(var Pe in ge)pe[Pe]=ge[Pe].slice();return new v(pe)},call:function(pe,ge){if((Pe=arguments.length-2)>0)for(var Pe,_e,we=new Array(Pe),se=0;se<Pe;++se)we[se]=arguments[se+2];if(!this._.hasOwnProperty(pe))throw new Error("unknown type: "+pe);for(se=0,Pe=(_e=this._[pe]).length;se<Pe;++se)_e[se].value.apply(ge,we)},apply:function(pe,ge,Pe){if(!this._.hasOwnProperty(pe))throw new Error("unknown type: "+pe);for(var _e=this._[pe],we=0,se=_e.length;we<se;++we)_e[we].value.apply(ge,Pe)}};var f,S,w=y,E=0,L=0,C=0,O=1e3,R=0,q=0,P=0,U="object"==typeof performance&&performance.now?performance:Date,N="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(pe){setTimeout(pe,17)};function F(){return q||(N(j),q=U.now()+P)}function j(){q=0}function G(){this._call=this._time=this._next=null}function te(pe,ge,Pe){var _e=new G;return _e.restart(pe,ge,Pe),_e}function J(){q=(R=U.now())+P,E=L=0;try{!function(){F(),++E;for(var pe,ge=f;ge;)(pe=q-ge._time)>=0&&ge._call.call(null,pe),ge=ge._next;--E}()}finally{E=0,function(){for(var pe,ge,Pe=f,_e=1/0;Pe;)Pe._call?(_e>Pe._time&&(_e=Pe._time),pe=Pe,Pe=Pe._next):(ge=Pe._next,Pe._next=null,Pe=pe?pe._next=ge:f=ge);S=pe,Y(_e)}(),q=0}}function X(){var pe=U.now(),ge=pe-R;ge>O&&(P-=ge,R=pe)}function Y(pe){E||(L&&(L=clearTimeout(L)),pe-q>24?(pe<1/0&&(L=setTimeout(J,pe-U.now()-P)),C&&(C=clearInterval(C))):(C||(R=U.now(),C=setInterval(X,O)),E=1,N(J)))}function W(pe){return pe.x}function $(pe){return pe.y}G.prototype=te.prototype={constructor:G,restart:function(pe,ge,Pe){if("function"!=typeof pe)throw new TypeError("callback is not a function");Pe=(null==Pe?F():+Pe)+(null==ge?0:+ge),this._next||S===this||(S?S._next=this:f=this,S=this),this._call=pe,this._time=Pe,Y()},stop:function(){this._call&&(this._call=null,this._time=1/0,Y())}};var ne=10,re=Math.PI*(3-Math.sqrt(5));function oe(pe){var ge,Pe=1,_e=.001,we=1-Math.pow(_e,1/300),se=0,ae=.6,fe=(0,p.UI)(),Ee=te(be),ke=w("tick","end");function be(){Ie(),ke.call("tick",ge),Pe<_e&&(Ee.stop(),ke.call("end",ge))}function Ie(Te){var ve,Ce,Re=pe.length;void 0===Te&&(Te=1);for(var Oe=0;Oe<Te;++Oe)for(Pe+=(se-Pe)*we,fe.each(function(je){je(Pe)}),ve=0;ve<Re;++ve)null==(Ce=pe[ve]).fx?Ce.x+=Ce.vx*=ae:(Ce.x=Ce.fx,Ce.vx=0),null==Ce.fy?Ce.y+=Ce.vy*=ae:(Ce.y=Ce.fy,Ce.vy=0);return ge}function Fe(){for(var Te,ve=0,Ce=pe.length;ve<Ce;++ve){if((Te=pe[ve]).index=ve,null!=Te.fx&&(Te.x=Te.fx),null!=Te.fy&&(Te.y=Te.fy),isNaN(Te.x)||isNaN(Te.y)){var Re=ne*Math.sqrt(ve),Oe=ve*re;Te.x=Re*Math.cos(Oe),Te.y=Re*Math.sin(Oe)}(isNaN(Te.vx)||isNaN(Te.vy))&&(Te.vx=Te.vy=0)}}function ce(Te){return Te.initialize&&Te.initialize(pe),Te}return null==pe&&(pe=[]),Fe(),ge={tick:Ie,restart:function(){return Ee.restart(be),ge},stop:function(){return Ee.stop(),ge},nodes:function(Te){return arguments.length?(pe=Te,Fe(),fe.each(ce),ge):pe},alpha:function(Te){return arguments.length?(Pe=+Te,ge):Pe},alphaMin:function(Te){return arguments.length?(_e=+Te,ge):_e},alphaDecay:function(Te){return arguments.length?(we=+Te,ge):+we},alphaTarget:function(Te){return arguments.length?(se=+Te,ge):se},velocityDecay:function(Te){return arguments.length?(ae=1-Te,ge):1-ae},force:function(Te,ve){return arguments.length>1?(null==ve?fe.remove(Te):fe.set(Te,ce(ve)),ge):fe.get(Te)},find:function(Te,ve,Ce){var Re,Oe,je,qe,Je,it=0,Qe=pe.length;for(null==Ce?Ce=1/0:Ce*=Ce,it=0;it<Qe;++it)(je=(Re=Te-(qe=pe[it]).x)*Re+(Oe=ve-qe.y)*Oe)<Ce&&(Je=qe,Ce=je);return Je},on:function(Te,ve){return arguments.length>1?(ke.on(Te,ve),ge):ke.on(Te)}}}function ue(){var pe,ge,Pe,_e,we=k(-30),se=1,ae=1/0,fe=.81;function Ee(Fe){var ce,Te=pe.length,ve=t(pe,W,$).visitAfter(be);for(Pe=Fe,ce=0;ce<Te;++ce)ge=pe[ce],ve.visit(Ie)}function ke(){if(pe){var Fe,ce,Te=pe.length;for(_e=new Array(Te),Fe=0;Fe<Te;++Fe)_e[(ce=pe[Fe]).index]=+we(ce,Fe,pe)}}function be(Fe){var ce,Te,ve,Ce,Re,Oe=0,je=0;if(Fe.length){for(ve=Ce=Re=0;Re<4;++Re)(ce=Fe[Re])&&(Te=Math.abs(ce.value))&&(Oe+=ce.value,je+=Te,ve+=Te*ce.x,Ce+=Te*ce.y);Fe.x=ve/je,Fe.y=Ce/je}else{(ce=Fe).x=ce.data.x,ce.y=ce.data.y;do{Oe+=_e[ce.data.index]}while(ce=ce.next)}Fe.value=Oe}function Ie(Fe,ce,Te,ve){if(!Fe.value)return!0;var Ce=Fe.x-ge.x,Re=Fe.y-ge.y,Oe=ve-ce,je=Ce*Ce+Re*Re;if(Oe*Oe/fe<je)return je<ae&&(0===Ce&&(je+=(Ce=l())*Ce),0===Re&&(je+=(Re=l())*Re),je<se&&(je=Math.sqrt(se*je)),ge.vx+=Ce*Fe.value*Pe/je,ge.vy+=Re*Fe.value*Pe/je),!0;if(!(Fe.length||je>=ae)){(Fe.data!==ge||Fe.next)&&(0===Ce&&(je+=(Ce=l())*Ce),0===Re&&(je+=(Re=l())*Re),je<se&&(je=Math.sqrt(se*je)));do{Fe.data!==ge&&(ge.vx+=Ce*(Oe=_e[Fe.data.index]*Pe/je),ge.vy+=Re*Oe)}while(Fe=Fe.next)}}return Ee.initialize=function(Fe){pe=Fe,ke()},Ee.strength=function(Fe){return arguments.length?(we="function"==typeof Fe?Fe:k(+Fe),ke(),Ee):we},Ee.distanceMin=function(Fe){return arguments.length?(se=Fe*Fe,Ee):Math.sqrt(se)},Ee.distanceMax=function(Fe){return arguments.length?(ae=Fe*Fe,Ee):Math.sqrt(ae)},Ee.theta=function(Fe){return arguments.length?(fe=Fe*Fe,Ee):Math.sqrt(fe)},Ee}function xe(pe,ge,Pe){var _e,we,se,ae=k(.1);function fe(ke){for(var be=0,Ie=_e.length;be<Ie;++be){var Fe=_e[be],ce=Fe.x-ge||1e-6,Te=Fe.y-Pe||1e-6,ve=Math.sqrt(ce*ce+Te*Te),Ce=(se[be]-ve)*we[be]*ke/ve;Fe.vx+=ce*Ce,Fe.vy+=Te*Ce}}function Ee(){if(_e){var ke,be=_e.length;for(we=new Array(be),se=new Array(be),ke=0;ke<be;++ke)se[ke]=+pe(_e[ke],ke,_e),we[ke]=isNaN(se[ke])?0:+ae(_e[ke],ke,_e)}}return"function"!=typeof pe&&(pe=k(+pe)),null==ge&&(ge=0),null==Pe&&(Pe=0),fe.initialize=function(ke){_e=ke,Ee()},fe.strength=function(ke){return arguments.length?(ae="function"==typeof ke?ke:k(+ke),Ee(),fe):ae},fe.radius=function(ke){return arguments.length?(pe="function"==typeof ke?ke:k(+ke),Ee(),fe):pe},fe.x=function(ke){return arguments.length?(ge=+ke,fe):ge},fe.y=function(ke){return arguments.length?(Pe=+ke,fe):Pe},fe}function Me(pe){var ge,Pe,_e,we=k(.1);function se(fe){for(var Ee,ke=0,be=ge.length;ke<be;++ke)(Ee=ge[ke]).vx+=(_e[ke]-Ee.x)*Pe[ke]*fe}function ae(){if(ge){var fe,Ee=ge.length;for(Pe=new Array(Ee),_e=new Array(Ee),fe=0;fe<Ee;++fe)Pe[fe]=isNaN(_e[fe]=+pe(ge[fe],fe,ge))?0:+we(ge[fe],fe,ge)}}return"function"!=typeof pe&&(pe=k(null==pe?0:+pe)),se.initialize=function(fe){ge=fe,ae()},se.strength=function(fe){return arguments.length?(we="function"==typeof fe?fe:k(+fe),ae(),se):we},se.x=function(fe){return arguments.length?(pe="function"==typeof fe?fe:k(+fe),ae(),se):pe},se}function me(pe){var ge,Pe,_e,we=k(.1);function se(fe){for(var Ee,ke=0,be=ge.length;ke<be;++ke)(Ee=ge[ke]).vy+=(_e[ke]-Ee.y)*Pe[ke]*fe}function ae(){if(ge){var fe,Ee=ge.length;for(Pe=new Array(Ee),_e=new Array(Ee),fe=0;fe<Ee;++fe)Pe[fe]=isNaN(_e[fe]=+pe(ge[fe],fe,ge))?0:+we(ge[fe],fe,ge)}}return"function"!=typeof pe&&(pe=k(null==pe?0:+pe)),se.initialize=function(fe){ge=fe,ae()},se.strength=function(fe){return arguments.length?(we="function"==typeof fe?fe:k(+fe),ae(),se):we},se.y=function(fe){return arguments.length?(pe="function"==typeof fe?fe:k(+fe),ae(),se):pe},se}},60721:function(ee,D,e){"use strict";function A(u,p){if((c=(u=p?u.toExponential(p-1):u.toExponential()).indexOf("e"))<0)return null;var c,x=u.slice(0,c);return[x.length>1?x[0]+x.slice(2):x,+u.slice(c+1)]}e.d(D,{WU:function(){return r},FF:function(){return s}});var k,l=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function T(u){if(!(p=l.exec(u)))throw new Error("invalid format: "+u);var p;return new b({fill:p[1],align:p[2],sign:p[3],symbol:p[4],zero:p[5],width:p[6],comma:p[7],precision:p[8]&&p[8].slice(1),trim:p[9],type:p[10]})}function b(u){this.fill=void 0===u.fill?" ":u.fill+"",this.align=void 0===u.align?">":u.align+"",this.sign=void 0===u.sign?"-":u.sign+"",this.symbol=void 0===u.symbol?"":u.symbol+"",this.zero=!!u.zero,this.width=void 0===u.width?void 0:+u.width,this.comma=!!u.comma,this.precision=void 0===u.precision?void 0:+u.precision,this.trim=!!u.trim,this.type=void 0===u.type?"":u.type+""}function d(u,p){var c=A(u,p);if(!c)return u+"";var x=c[0],g=c[1];return g<0?"0."+new Array(-g).join("0")+x:x.length>g+1?x.slice(0,g+1)+"."+x.slice(g+1):x+new Array(g-x.length+2).join("0")}T.prototype=b.prototype,b.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var a={"%":function(u,p){return(100*u).toFixed(p)},b:function(u){return Math.round(u).toString(2)},c:function(u){return u+""},d:function(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,p){return u.toExponential(p)},f:function(u,p){return u.toFixed(p)},g:function(u,p){return u.toPrecision(p)},o:function(u){return Math.round(u).toString(8)},p:function(u,p){return d(100*u,p)},r:d,s:function(u,p){var c=A(u,p);if(!c)return u+"";var x=c[0],g=c[1],h=g-(k=3*Math.max(-8,Math.min(8,Math.floor(g/3))))+1,y=x.length;return h===y?x:h>y?x+new Array(h-y+1).join("0"):h>0?x.slice(0,h)+"."+x.slice(h):"0."+new Array(1-h).join("0")+A(u,Math.max(0,p+h-1))[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}};function t(u){return u}var i,r,n=Array.prototype.map,o=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function s(u){var p,c,w,x=void 0===u.grouping||void 0===u.thousands?t:(p=n.call(u.grouping,Number),c=u.thousands+"",function(w,E){for(var L=w.length,C=[],O=0,R=p[0],q=0;L>0&&R>0&&(q+R+1>E&&(R=Math.max(1,E-q)),C.push(w.substring(L-=R,L+R)),!((q+=R+1)>E));)R=p[O=(O+1)%p.length];return C.reverse().join(c)}),g=void 0===u.currency?"":u.currency[0]+"",h=void 0===u.currency?"":u.currency[1]+"",y=void 0===u.decimal?".":u.decimal+"",v=void 0===u.numerals?t:(w=n.call(u.numerals,String),function(E){return E.replace(/[0-9]/g,function(L){return w[+L]})}),m=void 0===u.percent?"%":u.percent+"",_=void 0===u.minus?"-":u.minus+"",f=void 0===u.nan?"NaN":u.nan+"";function S(w){var E=(w=T(w)).fill,L=w.align,C=w.sign,O=w.symbol,R=w.zero,q=w.width,P=w.comma,U=w.precision,N=w.trim,F=w.type;"n"===F?(P=!0,F="g"):a[F]||(void 0===U&&(U=12),N=!0,F="g"),(R||"0"===E&&"="===L)&&(R=!0,E="0",L="=");var j="$"===O?g:"#"===O&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",G="$"===O?h:/[%p]/.test(F)?m:"",te=a[F],J=/[defgprs%]/.test(F);function X(Y){var W,$,ne,re=j,oe=G;if("c"===F)oe=te(Y)+oe,Y="";else{var ue=(Y=+Y)<0||1/Y<0;if(Y=isNaN(Y)?f:te(Math.abs(Y),U),N&&(Y=function(me){e:for(var pe,ge=me.length,Pe=1,_e=-1;Pe<ge;++Pe)switch(me[Pe]){case".":_e=pe=Pe;break;case"0":0===_e&&(_e=Pe),pe=Pe;break;default:if(!+me[Pe])break e;_e>0&&(_e=0)}return _e>0?me.slice(0,_e)+me.slice(pe+1):me}(Y)),ue&&0==+Y&&"+"!==C&&(ue=!1),re=(ue?"("===C?C:_:"-"===C||"("===C?"":C)+re,oe=("s"===F?o[8+k/3]:"")+oe+(ue&&"("===C?")":""),J)for(W=-1,$=Y.length;++W<$;)if(48>(ne=Y.charCodeAt(W))||ne>57){oe=(46===ne?y+Y.slice(W+1):Y.slice(W))+oe,Y=Y.slice(0,W);break}}P&&!R&&(Y=x(Y,1/0));var xe=re.length+Y.length+oe.length,Me=xe<q?new Array(q-xe+1).join(E):"";switch(P&&R&&(Y=x(Me+Y,Me.length?q-oe.length:1/0),Me=""),L){case"<":Y=re+Y+oe+Me;break;case"=":Y=re+Me+Y+oe;break;case"^":Y=Me.slice(0,xe=Me.length>>1)+re+Y+oe+Me.slice(xe);break;default:Y=Me+re+Y+oe}return v(Y)}return U=void 0===U?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U)),X.toString=function(){return w+""},X}return{format:S,formatPrefix:function(w,E){var L,C=S(((w=T(w)).type="f",w)),O=3*Math.max(-8,Math.min(8,Math.floor((L=E,((L=A(Math.abs(L)))?L[1]:NaN)/3)))),R=Math.pow(10,-O),q=o[8+O/3];return function(P){return C(R*P)+q}}}}i=s({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),r=i.format},65704:function(ee,D,e){"use strict";e.r(D),e.d(D,{geoAiry:function(){return P},geoAiryRaw:function(){return q},geoAitoff:function(){return N},geoAitoffRaw:function(){return U},geoArmadillo:function(){return j},geoArmadilloRaw:function(){return F},geoAugust:function(){return te},geoAugustRaw:function(){return G},geoBaker:function(){return W},geoBakerRaw:function(){return Y},geoBerghaus:function(){return re},geoBerghausRaw:function(){return ne},geoBertin1953:function(){return Pe},geoBertin1953Raw:function(){return ge},geoBoggs:function(){return be},geoBoggsRaw:function(){return ke},geoBonne:function(){return ve},geoBonneRaw:function(){return Te},geoBottomley:function(){return Re},geoBottomleyRaw:function(){return Ce},geoBromley:function(){return je},geoBromleyRaw:function(){return Oe},geoChamberlin:function(){return st},geoChamberlinAfrica:function(){return at},geoChamberlinRaw:function(){return yt},geoCollignon:function(){return At},geoCollignonRaw:function(){return Tt},geoCraig:function(){return kt},geoCraigRaw:function(){return Pt},geoCraster:function(){return He},geoCrasterRaw:function(){return Xe},geoCylindricalEqualArea:function(){return rt},geoCylindricalEqualAreaRaw:function(){return We},geoCylindricalStereographic:function(){return ze},geoCylindricalStereographicRaw:function(){return nt},geoEckert1:function(){return tt},geoEckert1Raw:function(){return Be},geoEckert2:function(){return gt},geoEckert2Raw:function(){return et},geoEckert3:function(){return vt},geoEckert3Raw:function(){return pt},geoEckert4:function(){return wt},geoEckert4Raw:function(){return ut},geoEckert5:function(){return ft},geoEckert5Raw:function(){return ct},geoEckert6:function(){return It},geoEckert6Raw:function(){return bt},geoEisenlohr:function(){return $t},geoEisenlohrRaw:function(){return Nt},geoFahey:function(){return Gt},geoFaheyRaw:function(){return Yt},geoFoucaut:function(){return yn},geoFoucautRaw:function(){return hn},geoFoucautSinusoidal:function(){return Ut},geoFoucautSinusoidalRaw:function(){return on},geoGilbert:function(){return gn},geoGingery:function(){return Ln},geoGingeryRaw:function(){return An},geoGinzburg4:function(){return ir},geoGinzburg4Raw:function(){return Qn},geoGinzburg5:function(){return qn},geoGinzburg5Raw:function(){return $n},geoGinzburg6:function(){return Ft},geoGinzburg6Raw:function(){return dr},geoGinzburg8:function(){return cn},geoGinzburg8Raw:function(){return tn},geoGinzburg9:function(){return kn},geoGinzburg9Raw:function(){return dn},geoGringorten:function(){return Dn},geoGringortenQuincuncial:function(){return La},geoGringortenRaw:function(){return In},geoGuyou:function(){return Mt},geoGuyouRaw:function(){return _n},geoHammer:function(){return Me},geoHammerRaw:function(){return ue},geoHammerRetroazimuthal:function(){return xn},geoHammerRetroazimuthalRaw:function(){return Kt},geoHealpix:function(){return jn},geoHealpixRaw:function(){return sn},geoHill:function(){return Xn},geoHillRaw:function(){return Fn},geoHomolosine:function(){return ur},geoHomolosineRaw:function(){return lr},geoHufnagel:function(){return Zn},geoHufnagelRaw:function(){return _r},geoHyperelliptical:function(){return si},geoHyperellipticalRaw:function(){return Yr},geoInterrupt:function(){return Qr},geoInterruptedBoggs:function(){return qa},geoInterruptedHomolosine:function(){return no},geoInterruptedMollweide:function(){return Bo},geoInterruptedMollweideHemispheres:function(){return qs},geoInterruptedQuarticAuthalic:function(){return ys},geoInterruptedSinuMollweide:function(){return il},geoInterruptedSinusoidal:function(){return jo},geoKavrayskiy7:function(){return Li},geoKavrayskiy7Raw:function(){return Ya},geoLagrange:function(){return Gr},geoLagrangeRaw:function(){return vs},geoLarrivee:function(){return ro},geoLarriveeRaw:function(){return wa},geoLaskowski:function(){return xo},geoLaskowskiRaw:function(){return Ra},geoLittrow:function(){return ao},geoLittrowRaw:function(){return io},geoLoximuthal:function(){return al},geoLoximuthalRaw:function(){return Os},geoMiller:function(){return ol},geoMillerRaw:function(){return bo},geoModifiedStereographic:function(){return Sa},geoModifiedStereographicAlaska:function(){return Uo},geoModifiedStereographicGs48:function(){return is},geoModifiedStereographicGs50:function(){return Is},geoModifiedStereographicLee:function(){return Xs},geoModifiedStereographicMiller:function(){return Ws},geoModifiedStereographicRaw:function(){return Zs},geoMollweide:function(){return ae},geoMollweideRaw:function(){return se},geoMtFlatPolarParabolic:function(){return ul},geoMtFlatPolarParabolicRaw:function(){return oo},geoMtFlatPolarQuartic:function(){return ei},geoMtFlatPolarQuarticRaw:function(){return wo},geoMtFlatPolarSinusoidal:function(){return ms},geoMtFlatPolarSinusoidalRaw:function(){return za},geoNaturalEarth:function(){return Ea.Z},geoNaturalEarth2:function(){return bl},geoNaturalEarth2Raw:function(){return Ho},geoNaturalEarthRaw:function(){return Ea.K},geoNellHammer:function(){return cl},geoNellHammerRaw:function(){return Ds},geoNicolosi:function(){return xs},geoNicolosiRaw:function(){return as},geoPatterson:function(){return Fs},geoPattersonRaw:function(){return Mo},geoPeirceQuincuncial:function(){return Bs},geoPierceQuincuncial:function(){return Bs},geoPolyconic:function(){return Js},geoPolyconicRaw:function(){return Go},geoPolyhedral:function(){return Ao},geoPolyhedralButterfly:function(){return Ks},geoPolyhedralCollignon:function(){return ws},geoPolyhedralWaterman:function(){return fo},geoProject:function(){return Wo},geoQuantize:function(){return Ca},geoQuincuncial:function(){return Ta},geoRectangularPolyconic:function(){return br},geoRectangularPolyconicRaw:function(){return Hi},geoRobinson:function(){return Ns},geoRobinsonRaw:function(){return Ts},geoSatellite:function(){return Jo},geoSatelliteRaw:function(){return Xo},geoSinuMollweide:function(){return tr},geoSinuMollweideRaw:function(){return er},geoSinusoidal:function(){return ce},geoSinusoidalRaw:function(){return Fe},geoStitch:function(){return zi},geoTimes:function(){return $s},geoTimesRaw:function(){return Ka},geoTwoPointAzimuthal:function(){return $a},geoTwoPointAzimuthalRaw:function(){return Kr},geoTwoPointAzimuthalUsa:function(){return Ma},geoTwoPointEquidistant:function(){return Po},geoTwoPointEquidistantRaw:function(){return Ua},geoTwoPointEquidistantUsa:function(){return js},geoVanDerGrinten:function(){return Ci},geoVanDerGrinten2:function(){return Mr},geoVanDerGrinten2Raw:function(){return Xi},geoVanDerGrinten3:function(){return cs},geoVanDerGrinten3Raw:function(){return Sr},geoVanDerGrinten4:function(){return Oo},geoVanDerGrinten4Raw:function(){return oa},geoVanDerGrintenRaw:function(){return $o},geoWagner:function(){return fs},geoWagner4:function(){return Fi},geoWagner4Raw:function(){return Or},geoWagner6:function(){return va},geoWagner6Raw:function(){return Qa},geoWagner7:function(){return Ki},geoWagnerRaw:function(){return Ji},geoWiechel:function(){return hs},geoWiechelRaw:function(){return Qo},geoWinkel3:function(){return go},geoWinkel3Raw:function(){return es}});var A=e(15002),k=Math.abs,l=Math.atan,T=Math.atan2,b=Math.cos,d=Math.exp,a=Math.floor,t=Math.log,i=Math.max,r=Math.min,n=Math.pow,o=Math.round,s=Math.sign||function(z){return z>0?1:z<0?-1:0},u=Math.sin,p=Math.tan,c=1e-6,x=1e-12,g=Math.PI,h=g/2,y=g/4,v=Math.SQRT1_2,m=C(2),_=C(g),f=2*g,S=180/g,w=g/180;function E(z){return z>1?h:z<-1?-h:Math.asin(z)}function L(z){return z>1?0:z<-1?g:Math.acos(z)}function C(z){return z>0?Math.sqrt(z):0}function O(z){return(d(z)-d(-z))/2}function R(z){return(d(z)+d(-z))/2}function q(z){var H=p(z/2),V=2*t(b(z/2))/(H*H);function K(he,Ae){var B=b(he),Q=b(Ae),ie=u(Ae),de=Q*B,ye=-((1-de?t((1+de)/2)/(1-de):-.5)+V/(1+de));return[ye*Q*u(he),ye*ie]}return K.invert=function(he,Ae){var B,Q=C(he*he+Ae*Ae),ie=-z/2,de=50;if(!Q)return[0,0];do{var ye=ie/2,Le=b(ye),Ne=u(ye),Ve=Ne/Le,Ge=-t(k(Le));ie-=B=(2/Ve*Ge-V*Ve-Q)/(-Ge/(Ne*Ne)+1-V/(2*Le*Le))*(Le<0?.7:1)}while(k(B)>c&&--de>0);var Ye=u(ie);return[T(he*Ye,Q*b(ie)),E(Ae*Ye/Q)]},K}function P(){var z=h,H=(0,A.r)(q),V=H(z);return V.radius=function(K){return arguments.length?H(z=K*w):z*S},V.scale(179.976).clipAngle(147)}function U(z,H){var he,V=b(H),K=(he=L(V*b(z/=2)))?he/Math.sin(he):1;return[2*V*u(z)*K,u(H)*K]}function N(){return(0,A.Z)(U).scale(152.63)}function F(z){var H=u(z),V=b(z),K=z>=0?1:-1,he=p(K*z),Ae=(1+H-V)/2;function B(Q,ie){var de=b(ie),ye=b(Q/=2);return[(1+de)*u(Q),(K*ie>-T(ye,he)-.001?0:10*-K)+Ae+u(ie)*V-(1+de)*H*ye]}return B.invert=function(Q,ie){var de=0,ye=0,Le=50;do{var Ne=b(de),Ve=u(de),Ge=b(ye),Ye=u(ye),$e=1+Ge,lt=$e*Ve-Q,ht=Ae+Ye*V-$e*H*Ne-ie,Et=$e*Ne/2,Ct=-Ve*Ye,St=H*$e*Ve/2,zt=V*Ge+H*Ne*Ye,Lt=Ct*St-zt*Et,en=(ht*Ct-lt*zt)/Lt/2,Zt=(lt*St-ht*Et)/Lt;k(Zt)>2&&(Zt/=2),de-=en,ye-=Zt}while((k(en)>c||k(Zt)>c)&&--Le>0);return K*ye>-T(b(de),he)-.001?[2*de,ye]:null},B}function j(){var z=20*w,H=z>=0?1:-1,V=p(H*z),K=(0,A.r)(F),he=K(z),Ae=he.stream;return he.parallel=function(B){return arguments.length?(V=p((H=(z=B*w)>=0?1:-1)*z),K(z)):z*S},he.stream=function(B){var Q=he.rotate(),ie=Ae(B),de=(he.rotate([0,0]),Ae(B)),ye=he.precision();return he.rotate(Q),ie.sphere=function(){de.polygonStart(),de.lineStart();for(var Le=-180*H;H*Le<180;Le+=90*H)de.point(Le,90*H);if(z)for(;H*(Le-=3*H*ye)>=-180;)de.point(Le,H*-T(b(Le*w/2),V)*S);de.lineEnd(),de.polygonEnd()},ie},he.scale(218.695).center([0,28.0974])}function G(z,H){var V=p(H/2),K=C(1-V*V),he=1+K*b(z/=2),Ae=u(z)*K/he,B=V/he,Q=Ae*Ae,ie=B*B;return[1.3333333333333333*Ae*(3+Q-3*ie),1.3333333333333333*B*(3+3*Q-ie)]}function te(){return(0,A.Z)(G).scale(66.1603)}U.invert=function(z,H){if(!(z*z+4*H*H>g*g+c)){var V=z,K=H,he=25;do{var Ae,B=u(V),Q=u(V/2),ie=b(V/2),de=u(K),ye=b(K),Le=u(2*K),Ne=de*de,Ve=ye*ye,Ge=Q*Q,Ye=1-Ve*ie*ie,$e=Ye?L(ye*ie)*C(Ae=1/Ye):Ae=0,lt=2*$e*ye*Q-z,ht=$e*de-H,Et=Ae*(Ve*Ge+$e*ye*ie*Ne),Ct=Ae*(.5*B*Le-2*$e*de*Q),St=.25*Ae*(Le*Q-$e*de*Ve*B),zt=Ae*(Ne*ie+$e*Ge*ye),Lt=Ct*St-zt*Et;if(!Lt)break;var en=(ht*Ct-lt*zt)/Lt,Zt=(lt*St-ht*Et)/Lt;V-=en,K-=Zt}while((k(en)>c||k(Zt)>c)&&--he>0);return[V,K]}},G.invert=function(z,H){if(H*=.375,!(z*=.375)&&k(H)>1)return null;var de,V=1+z*z+H*H,K=C((V-C(V*V-4*H*H))/2),he=E(K)/3,Ae=K?(de=k(H/K),t(de+C(de*de-1))/3):function(de){return t(de+C(de*de+1))}(k(z))/3,B=b(he),Q=R(Ae),ie=Q*Q-B*B;return[2*s(z)*T(O(Ae)*B,.25-ie),2*s(H)*T(Q*u(he),.25+ie)]};var J=C(8),X=t(1+m);function Y(z,H){var V=k(H);return V<y?[z,t(p(y+H/2))]:[z*b(V)*(2*m-1/u(V)),s(H)*(2*m*(V-y)-t(p(V/2)))]}function W(){return(0,A.Z)(Y).scale(112.314)}Y.invert=function(z,H){if((K=k(H))<X)return[z,2*l(d(H))-h];var V,K,he=y,Ae=25;do{var B=b(he/2),Q=p(he/2);he-=V=(J*(he-y)-t(Q)-K)/(J-B*B/(2*Q))}while(k(V)>x&&--Ae>0);return[z/(b(he)*(J-1/u(he))),s(H)*he]};var $=e(17889);function ne(z){var H=2*g/z;function V(K,he){var Ae=(0,$.N)(K,he);if(k(K)>h){var B=T(Ae[1],Ae[0]),Q=C(Ae[0]*Ae[0]+Ae[1]*Ae[1]),ie=H*o((B-h)/H)+h,de=T(u(B-=ie),2-b(B));B=ie+E(g/Q*u(de))-de,Ae[0]=Q*b(B),Ae[1]=Q*u(B)}return Ae}return V.invert=function(K,he){var Ae=C(K*K+he*he);if(Ae>h){var B=T(he,K),Q=H*o((B-h)/H)+h,ie=B>Q?-1:1,de=Ae*b(Q-B),ye=1/p(ie*L((de-g)/C(g*(g-2*de)+Ae*Ae)));B=Q+2*l((ye+ie*C(ye*ye-3))/3),K=Ae*b(B),he=Ae*u(B)}return $.N.invert(K,he)},V}function re(){var z=5,H=(0,A.r)(ne),V=H(z),K=V.stream,he=.01,Ae=-b(he*w),B=u(he*w);return V.lobes=function(Q){return arguments.length?H(z=+Q):z},V.stream=function(Q){var ie=V.rotate(),de=K(Q),ye=(V.rotate([0,0]),K(Q));return V.rotate(ie),de.sphere=function(){ye.polygonStart(),ye.lineStart();for(var Le=0,Ne=360/z,Ve=2*g/z,Ge=90-180/z,Ye=h;Le<z;++Le,Ge-=Ne,Ye-=Ve)ye.point(T(B*b(Ye),Ae)*S,E(B*u(Ye))*S),Ge<-90?(ye.point(-90,-180-Ge-he),ye.point(-90,-180-Ge+he)):(ye.point(90,Ge+he),ye.point(90,Ge-he));ye.lineEnd(),ye.polygonEnd()},de},V.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var oe=e(12956);function ue(z,H){if(arguments.length<2&&(H=z),1===H)return oe.l;if(H===1/0)return xe;function V(K,he){var Ae=(0,oe.l)(K/H,he);return Ae[0]*=z,Ae}return V.invert=function(K,he){var Ae=oe.l.invert(K/z,he);return Ae[0]*=H,Ae},V}function xe(z,H){return[z*b(H)/b(H/=2),2*u(H)]}function Me(){var z=2,H=(0,A.r)(ue),V=H(z);return V.coefficient=function(K){return arguments.length?H(z=+K):z},V.scale(169.529)}function me(z,H,V){var K,he,Ae,B=100;V=void 0===V?0:+V,H=+H;do{(he=z(V))===(Ae=z(V+c))&&(Ae=he+c),V-=K=-1*c*(he-H)/(he-Ae)}while(B-- >0&&k(K)>c);return B<0?NaN:V}function pe(z,H,V){return void 0===H&&(H=40),void 0===V&&(V=x),function(K,he,Ae,B){var Q,ie,de;Ae=void 0===Ae?0:+Ae,B=void 0===B?0:+B;for(var ye=0;ye<H;ye++){var Le=z(Ae,B),Ne=Le[0]-K,Ve=Le[1]-he;if(k(Ne)<V&&k(Ve)<V)break;var Ge=Ne*Ne+Ve*Ve;if(Ge>Q)Ae-=ie/=2,B-=de/=2;else{Q=Ge;var Ye=(Ae>0?-1:1)*V,$e=(B>0?-1:1)*V,lt=z(Ae+Ye,B),ht=z(Ae,B+$e),Et=(lt[0]-Le[0])/Ye,Ct=(lt[1]-Le[1])/Ye,St=(ht[0]-Le[0])/$e,zt=(ht[1]-Le[1])/$e,Lt=zt*Et-Ct*St,en=(k(Lt)<.5?.5:1)/Lt;if(Ae+=ie=(Ve*St-Ne*zt)*en,B+=de=(Ne*Ct-Ve*Et)*en,k(ie)<V&&k(de)<V)break}}return[Ae,B]}}function ge(){var z=ue(1.68,2);function H(V,K){if(V+K<-1.4){var he=(V-K+1.6)*(V+K+1.4)/8;V+=he,K-=.8*he*u(K+g/2)}var Ae=z(V,K),B=(1-b(V*K))/12;return Ae[1]<0&&(Ae[0]*=1+B),Ae[1]>0&&(Ae[1]*=1+B/1.5*Ae[0]*Ae[0]),Ae}return H.invert=pe(H),H}function Pe(){return(0,A.Z)(ge()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function _e(z,H){var V,K=z*u(H),he=30;do{H-=V=(H+u(H)-K)/(1+b(H))}while(k(V)>c&&--he>0);return H/2}function we(z,H,V){function K(he,Ae){return[z*he*b(Ae=_e(V,Ae)),H*u(Ae)]}return K.invert=function(he,Ae){return Ae=E(Ae/H),[he/(z*b(Ae)),E((2*Ae+u(2*Ae))/V)]},K}xe.invert=function(z,H){var V=2*E(H/2);return[z*b(V/2)/b(V),V]};var se=we(m/h,m,g);function ae(){return(0,A.Z)(se).scale(169.529)}var fe=2.00276,Ee=1.11072;function ke(z,H){var V=_e(g,H);return[fe*z/(1/b(H)+Ee/b(V)),(H+m*u(V))/fe]}function be(){return(0,A.Z)(ke).scale(160.857)}function Ie(z){var H=0,V=(0,A.r)(z),K=V(H);return K.parallel=function(he){return arguments.length?V(H=he*w):H*S},K}function Fe(z,H){return[z*b(H),H]}function ce(){return(0,A.Z)(Fe).scale(152.63)}function Te(z){if(!z)return Fe;var H=1/p(z);function V(K,he){var Ae=H+z-he,B=Ae&&K*b(he)/Ae;return[Ae*u(B),H-Ae*b(B)]}return V.invert=function(K,he){var Ae=C(K*K+(he=H-he)*he),B=H+z-Ae;return[Ae/b(B)*T(K,he),B]},V}function ve(){return Ie(Te).scale(123.082).center([0,26.1441]).parallel(45)}function Ce(z){function H(V,K){var he=h-K,Ae=he&&V*z*u(he)/he;return[he*u(Ae)/z,h-he*b(Ae)]}return H.invert=function(V,K){var he=V*z,Ae=h-K,B=C(he*he+Ae*Ae),Q=T(he,Ae);return[(B?B/u(B):1)*Q/z,h-B]},H}function Re(){var z=.5,H=(0,A.r)(Ce),V=H(z);return V.fraction=function(K){return arguments.length?H(z=+K):z},V.scale(158.837)}ke.invert=function(z,H){var V,K,he=fe*H,Ae=H<0?-y:y,B=25;do{K=he-m*u(Ae),Ae-=V=(u(2*Ae)+2*Ae-g*u(K))/(2*b(2*Ae)+2+g*b(K)*m*b(Ae))}while(k(V)>c&&--B>0);return K=he-m*u(Ae),[z*(1/b(K)+Ee/b(Ae))/fe,K]},Fe.invert=function(z,H){return[z/b(H),H]};var Oe=we(1,4/g,g);function je(){return(0,A.Z)(Oe).scale(152.63)}var qe=e(66624),Je=e(49386);function it(z,H,V,K,he,Ae){var B,Q=b(Ae);if(k(z)>1||k(Ae)>1)B=L(V*he+H*K*Q);else{var ie=u(z/2),de=u(Ae/2);B=2*E(C(ie*ie+H*K*de*de))}return k(B)>c?[B,T(K*u(Ae),H*he-V*K*Q)]:[0,0]}function Qe(z,H,V){return L((z*z+H*H-V*V)/(2*z*H))}function dt(z){return z-2*g*a((z+g)/(2*g))}function yt(z,H,V){for(var K,he=[[z[0],z[1],u(z[1]),b(z[1])],[H[0],H[1],u(H[1]),b(H[1])],[V[0],V[1],u(V[1]),b(V[1])]],Ae=he[2],B=0;B<3;++B,Ae=K)Ae.v=it((K=he[B])[1]-Ae[1],Ae[3],Ae[2],K[3],K[2],K[0]-Ae[0]),Ae.point=[0,0];var Q=Qe(he[0].v[0],he[2].v[0],he[1].v[0]),ie=Qe(he[0].v[0],he[1].v[0],he[2].v[0]),de=g-Q;he[2].point[1]=0,he[0].point[0]=-(he[1].point[0]=he[0].v[0]/2);var ye=[he[2].point[0]=he[0].point[0]+he[2].v[0]*b(Q),2*(he[0].point[1]=he[1].point[1]=he[2].v[0]*u(Q))];return function(Le,Ne){var Ve,Ge=u(Ne),Ye=b(Ne),$e=new Array(3);for(Ve=0;Ve<3;++Ve){var lt=he[Ve];if($e[Ve]=it(Ne-lt[1],lt[3],lt[2],Ye,Ge,Le-lt[0]),!$e[Ve][0])return lt.point;$e[Ve][1]=dt($e[Ve][1]-lt.v[1])}var ht=ye.slice();for(Ve=0;Ve<3;++Ve){var Ct=Qe(he[Ve].v[0],$e[Ve][0],$e[2==Ve?0:Ve+1][0]);$e[Ve][1]<0&&(Ct=-Ct),Ve?1==Ve?(ht[0]-=$e[Ve][0]*b(Ct=ie-Ct),ht[1]-=$e[Ve][0]*u(Ct)):(ht[0]+=$e[Ve][0]*b(Ct=de-Ct),ht[1]+=$e[Ve][0]*u(Ct)):(ht[0]+=$e[Ve][0]*b(Ct),ht[1]-=$e[Ve][0]*u(Ct))}return ht[0]/=3,ht[1]/=3,ht}}function mt(z){return z[0]*=w,z[1]*=w,z}function at(){return st([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function st(z,H,V){var K=(0,qe.Z)({type:"MultiPoint",coordinates:[z,H,V]}),he=[-K[0],-K[1]],Ae=(0,Je.Z)(he),B=yt(mt(Ae(z)),mt(Ae(H)),mt(Ae(V)));B.invert=pe(B);var Q=(0,A.Z)(B).rotate(he),ie=Q.center;return delete Q.rotate,Q.center=function(de){return arguments.length?ie(Ae(de)):Ae.invert(ie())},Q.clipAngle(90)}function Tt(z,H){var V=C(1-u(H));return[2/_*z*V,_*(1-V)]}function At(){return(0,A.Z)(Tt).scale(95.6464).center([0,30])}function Pt(z){var H=p(z);function V(K,he){return[K,(K?K/u(K):1)*(u(he)*b(K)-H*b(he))]}return V.invert=H?function(K,he){K&&(he*=u(K)/K);var Ae=b(K);return[K,2*T(C(Ae*Ae+H*H-he*he)-Ae,H-he)]}:function(K,he){return[K,E(K?he*p(K)/K:he)]},V}function kt(){return Ie(Pt).scale(249.828).clipAngle(90)}Tt.invert=function(z,H){var V=(V=H/_-1)*V;return[V>0?z*C(g/V)/2:0,E(1-V)]};var Ze=C(3);function Xe(z,H){return[Ze*z*(2*b(2*H/3)-1)/_,Ze*_*u(H/3)]}function He(){return(0,A.Z)(Xe).scale(156.19)}function We(z){var H=b(z);function V(K,he){return[K*H,u(he)/H]}return V.invert=function(K,he){return[K/H,E(he*H)]},V}function rt(){return Ie(We).parallel(38.58).scale(195.044)}function nt(z){var H=b(z);function V(K,he){return[K*H,(1+H)*p(he/2)]}return V.invert=function(K,he){return[K/H,2*l(he/(1+H))]},V}function ze(){return Ie(nt).scale(124.75)}function Be(z,H){var V=C(8/(3*g));return[V*z*(1-k(H)/g),V*H]}function tt(){return(0,A.Z)(Be).scale(165.664)}function et(z,H){var V=C(4-3*u(k(H)));return[2/C(6*g)*z*V,s(H)*C(2*g/3)*(2-V)]}function gt(){return(0,A.Z)(et).scale(165.664)}function pt(z,H){var V=C(g*(4+g));return[2/V*z*(1+C(1-4*H*H/(g*g))),4/V*H]}function vt(){return(0,A.Z)(pt).scale(180.739)}function ut(z,H){var V=(2+h)*u(H);H/=2;for(var K=0,he=1/0;K<10&&k(he)>c;K++){var Ae=b(H);H-=he=(H+u(H)*(Ae+2)-V)/(2*Ae*(1+Ae))}return[2/C(g*(4+g))*z*(1+b(H)),2*C(g/(4+g))*u(H)]}function wt(){return(0,A.Z)(ut).scale(180.739)}function ct(z,H){return[z*(1+b(H))/C(2+g),2*H/C(2+g)]}function ft(){return(0,A.Z)(ct).scale(173.044)}function bt(z,H){for(var V=(1+h)*u(H),K=0,he=1/0;K<10&&k(he)>c;K++)H-=he=(H+u(H)-V)/(1+b(H));return V=C(2+g),[z*(1+b(H))/V,2*H/V]}function It(){return(0,A.Z)(bt).scale(173.044)}Xe.invert=function(z,H){var V=3*E(H/(Ze*_));return[_*z/(Ze*(2*b(2*V/3)-1)),V]},Be.invert=function(z,H){var V=C(8/(3*g)),K=H/V;return[z/(V*(1-k(K)/g)),K]},et.invert=function(z,H){var V=2-k(H)/C(2*g/3);return[z*C(6*g)/(2*V),s(H)*E((4-V*V)/3)]},pt.invert=function(z,H){var V=C(g*(4+g))/2;return[z*V/(1+C(1-H*H*(4+g)/(4*g))),H*V/2]},ut.invert=function(z,H){var V=H*C((4+g)/g)/2,K=E(V),he=b(K);return[z/(2/C(g*(4+g))*(1+he)),E((K+V*(he+2))/(2+h))]},ct.invert=function(z,H){var V=C(2+g),K=H*V/2;return[V*z/(1+b(K)),K]},bt.invert=function(z,H){var V=1+h,K=C(V/2);return[2*z*K/(1+b(H*=K)),E((H+u(H))/V)]};var Dt=3+2*m;function Nt(z,H){var V=u(z/=2),K=b(z),he=C(b(H)),Ae=b(H/=2),B=u(H)/(Ae+m*K*he),Q=C(2/(1+B*B)),ie=C((m*Ae+(K+V)*he)/(m*Ae+(K-V)*he));return[Dt*(Q*(ie-1/ie)-2*t(ie)),Dt*(Q*B*(ie+1/ie)-2*l(B))]}function $t(){return(0,A.Z)(Nt).scale(62.5271)}Nt.invert=function(z,H){if(!(V=G.invert(z/1.2,1.065*H)))return null;var V,K=V[0],he=V[1],Ae=20;z/=Dt,H/=Dt;do{var B=K/2,Q=he/2,ie=u(B),de=b(B),ye=u(Q),Le=b(Q),Ne=b(he),Ve=C(Ne),Ge=ye/(Le+m*de*Ve),Ye=Ge*Ge,$e=C(2/(1+Ye)),lt=(m*Le+(de+ie)*Ve)/(m*Le+(de-ie)*Ve),ht=C(lt),Et=ht-1/ht,Ct=ht+1/ht,St=$e*Et-2*t(ht)-z,zt=$e*Ge*Ct-2*l(Ge)-H,Lt=ye&&v*Ve*ie*Ye/ye,en=(m*de*Le+Ve)/(2*(Le+m*de*Ve)*(Le+m*de*Ve)*Ve),Zt=-.5*Ge*$e*$e*$e,Ht=Zt*Lt,pn=Zt*en,vn=(vn=2*Le+m*Ve*(de-ie))*vn*ht,Rn=(m*de*Le*Ve+Ne)/vn,zn=-m*ie*ye/(Ve*vn),Un=Et*Ht-2*Rn/ht+$e*(Rn+Rn/lt),Yn=Et*pn-2*zn/ht+$e*(zn+zn/lt),or=Ge*Ct*Ht-2*Lt/(1+Ye)+$e*Ct*Lt+$e*Ge*(Rn-Rn/lt),ar=Ge*Ct*pn-2*en/(1+Ye)+$e*Ct*en+$e*Ge*(zn-zn/lt),cr=Yn*or-ar*Un;if(!cr)break;var yr=(zt*Yn-St*ar)/cr,Pr=(St*or-zt*Un)/cr;K-=yr,he=i(-h,r(h,he-Pr))}while((k(yr)>c||k(Pr)>c)&&--Ae>0);return k(k(he)-h)<c?[0,he]:Ae&&[K,he]};var jt=b(35*w);function Yt(z,H){var V=p(H/2);return[z*jt*C(1-V*V),(1+jt)*V]}function Gt(){return(0,A.Z)(Yt).scale(137.152)}function hn(z,H){var V=H/2,K=b(V);return[2*z/_*b(H)*K*K,_*p(V)]}function yn(){return(0,A.Z)(hn).scale(135.264)}function on(z){var H=1-z,V=he(g,0)[0]-he(-g,0)[0],K=C(2*(he(0,h)[1]-he(0,-h)[1])/V);function he(Q,ie){var de=b(ie),ye=u(ie);return[de/(H+z*de)*Q,H*ie+z*ye]}function Ae(Q,ie){var de=he(Q,ie);return[de[0]*K,de[1]/K]}function B(Q){return Ae(0,Q)[1]}return Ae.invert=function(Q,ie){var de=me(B,ie);return[Q/K*(z+H/b(de)),de]},Ae}function Ut(){var z=.5,H=(0,A.r)(on),V=H(z);return V.alpha=function(K){return arguments.length?H(z=+K):z},V.scale(168.725)}Yt.invert=function(z,H){var V=H/(1+jt);return[z&&z/(jt*C(1-V*V)),2*l(V)]},hn.invert=function(z,H){var V=l(H/_),K=b(V),he=2*V;return[z*_/2/(b(he)*K*K),he]};var nn=e(57962),Xt=e(97492);function rn(z){return[z[0]/2,E(p(z[1]/2*w))*S]}function fn(z){return[2*z[0],2*l(u(z[1]*w))*S]}function gn(z){null==z&&(z=nn.Z);var H=z(),V=(0,Xt.Z)().scale(S).precision(0).clipAngle(null).translate([0,0]);function K(Ae){return H(rn(Ae))}function he(Ae){K[Ae]=function(){return arguments.length?(H[Ae].apply(H,arguments),K):H[Ae]()}}return H.invert&&(K.invert=function(Ae){return fn(H.invert(Ae))}),K.stream=function(Ae){var B=H.stream(Ae),Q=V.stream({point:function(ie,de){B.point(ie/2,E(p(-de/2*w))*S)},lineStart:function(){B.lineStart()},lineEnd:function(){B.lineEnd()},polygonStart:function(){B.polygonStart()},polygonEnd:function(){B.polygonEnd()}});return Q.sphere=B.sphere,Q},K.rotate=function(Ae){return arguments.length?(V.rotate(Ae),K):V.rotate()},K.center=function(Ae){return arguments.length?(H.center(rn(Ae)),K):fn(H.center())},he("angle"),he("clipAngle"),he("clipExtent"),he("fitExtent"),he("fitHeight"),he("fitSize"),he("fitWidth"),he("scale"),he("translate"),he("precision"),K.scale(249.5)}function An(z,H){var V=2*g/H,K=z*z;function he(Ae,B){var Q=(0,$.N)(Ae,B),ie=Q[0],de=Q[1],ye=ie*ie+de*de;if(ye>K){var Le=C(ye),Ne=T(de,ie),Ve=V*o(Ne/V),Ge=Ne-Ve,Ye=z*b(Ge),$e=(z*u(Ge)-Ge*u(Ye))/(h-Ye),lt=En(Ge,$e),ht=(g-z)/bn(lt,Ye,g);ie=Le;var Et,Ct=50;do{ie-=Et=(z+bn(lt,Ye,ie)*ht-Le)/(lt(ie)*ht)}while(k(Et)>c&&--Ct>0);de=Ge*u(ie),ie<h&&(de-=$e*(ie-h));var St=u(Ve),zt=b(Ve);Q[0]=ie*zt-de*St,Q[1]=ie*St+de*zt}return Q}return he.invert=function(Ae,B){var Q=Ae*Ae+B*B;if(Q>K){var ie=C(Q),de=T(B,Ae),ye=V*o(de/V),Le=de-ye;Ae=ie*b(Le),B=ie*u(Le);for(var Ne=Ae-h,Ve=u(Ae),Ge=B/Ve,Ye=Ae<h?1/0:0,$e=10;;){var lt=z*u(Ge),ht=z*b(Ge),Et=u(ht),Ct=h-ht,St=(lt-Ge*Et)/Ct,zt=En(Ge,St);if(k(Ye)<x||!--$e)break;Ge-=Ye=(Ge*Ve-St*Ne-B)/(Ve-2*Ne*(Ct*(ht+Ge*lt*b(ht)-Et)-lt*(lt-Ge*Et))/(Ct*Ct))}Ae=(ie=z+bn(zt,ht,Ae)*(g-z)/bn(zt,ht,g))*b(de=ye+Ge),B=ie*u(de)}return $.N.invert(Ae,B)},he}function En(z,H){return function(V){var K=z*b(V);return V<h&&(K-=H),C(1+K*K)}}function bn(z,H,V){for(var K=(V-H)/50,he=z(H)+z(V),Ae=1,B=H;Ae<50;++Ae)he+=2*z(B+=K);return.5*he*K}function Ln(){var z=6,H=30*w,V=b(H),K=u(H),he=(0,A.r)(An),Ae=he(H,z),B=Ae.stream,Q=-b(.01*w),ie=u(.01*w);return Ae.radius=function(de){return arguments.length?(V=b(H=de*w),K=u(H),he(H,z)):H*S},Ae.lobes=function(de){return arguments.length?he(H,z=+de):z},Ae.stream=function(de){var ye=Ae.rotate(),Le=B(de),Ne=(Ae.rotate([0,0]),B(de));return Ae.rotate(ye),Le.sphere=function(){Ne.polygonStart(),Ne.lineStart();for(var Ve=0,Ge=2*g/z,Ye=0;Ve<z;++Ve,Ye-=Ge)Ne.point(T(ie*b(Ye),Q)*S,E(ie*u(Ye))*S),Ne.point(T(K*b(Ye-Ge/2),V)*S,E(K*u(Ye-Ge/2))*S);Ne.lineEnd(),Ne.polygonEnd()},Le},Ae.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Wn(z,H,V,K,he,Ae,B,Q){function ie(de,ye){if(!ye)return[z*de/g,0];var Le=ye*ye,Ne=z+Le*(H+Le*(V+Le*K)),Ve=ye*(he-1+Le*(Ae-Q+Le*B)),Ge=(Ne*Ne+Ve*Ve)/(2*Ve),Ye=de*E(Ne/Ge)/g;return[Ge*u(Ye),ye*(1+Le*Q)+Ge*(1-b(Ye))]}return arguments.length<8&&(Q=0),ie.invert=function(de,ye){var Le,Ne,Ve=g*de/z,Ge=ye,Ye=50;do{var $e=Ge*Ge,lt=z+$e*(H+$e*(V+$e*K)),ht=Ge*(he-1+$e*(Ae-Q+$e*B)),Et=lt*lt+ht*ht,Ct=2*ht,St=Et/Ct,zt=St*St,Lt=E(lt/St)/g,en=Ve*Lt,Zt=lt*lt,Ht=(2*H+$e*(4*V+6*$e*K))*Ge,pn=he+$e*(3*Ae+5*$e*B),vn=(2*(lt*Ht+ht*(pn-1))*Ct-Et*(2*(pn-1)))/(Ct*Ct),Rn=b(en),zn=u(en),Un=St*Rn,Yn=St*zn,or=Ve/g*(1/C(1-Zt/zt))*(Ht*St-lt*vn)/zt,ar=Yn-de,cr=Ge*(1+$e*Q)+St-Un-ye,yr=vn*zn+Un*or,Pr=Un*Lt,Bn=1+vn-(vn*Rn-Yn*or),rr=Yn*Lt,fr=yr*rr-Bn*Pr;if(!fr)break;Ve-=Le=(cr*yr-ar*Bn)/fr,Ge-=Ne=(ar*rr-cr*Pr)/fr}while((k(Le)>c||k(Ne)>c)&&--Ye>0);return[Ve,Ge]},ie}var Qn=Wn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function ir(){return(0,A.Z)(Qn).scale(149.995)}var $n=Wn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function qn(){return(0,A.Z)($n).scale(153.93)}var dr=Wn(5/6*g,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Ft(){return(0,A.Z)(dr).scale(130.945)}function tn(z,H){var V=z*z,K=H*H;return[z*(1-.162388*K)*(.87-952426e-9*V*V),H*(1+K/12)]}function cn(){return(0,A.Z)(tn).scale(131.747)}tn.invert=function(z,H){var V,K=z,he=H,Ae=50;do{var B=he*he;he-=V=(he*(1+B/12)-H)/(1+B/4)}while(k(V)>c&&--Ae>0);Ae=50,z/=1-.162388*B;do{var Q=(Q=K*K)*Q;K-=V=(K*(.87-952426e-9*Q)-z)/(.87-.00476213*Q)}while(k(V)>c&&--Ae>0);return[K,he]};var dn=Wn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function kn(){return(0,A.Z)(dn).scale(131.087)}function Vn(z){var H=z(h,0)[0]-z(-h,0)[0];function V(K,he){var Ae=K>0?-.5:.5,B=z(K+Ae*g,he);return B[0]-=Ae*H,B}return z.invert&&(V.invert=function(K,he){var Ae=K>0?-.5:.5,B=z.invert(K+Ae*H,he),Q=B[0]-Ae*g;return Q<-g?Q+=2*g:Q>g&&(Q-=2*g),B[0]=Q,B}),V}function In(z,H){var V=s(z),K=s(H),he=b(H),Ae=b(z)*he,B=u(z)*he,Q=u(K*H);z=k(T(B,Q)),H=E(Ae),k(z-h)>c&&(z%=h);var ie=function(de,ye){if(ye===h)return[0,0];var Le,Ne,Ve=u(ye),Ge=Ve*Ve,Ye=Ge*Ge,$e=1+Ye,lt=1+3*Ye,ht=1-Ye,Et=E(1/C($e)),Ct=ht+Ge*$e*Et,St=(1-Ve)/Ct,zt=C(St),Lt=St*$e,en=C(Lt),Zt=zt*ht;if(0===de)return[0,-(Zt+Ge*en)];var Ht,pn=b(ye),vn=1/pn,Rn=2*Ve*pn,zn=(-Ct*pn-(-3*Ge+Et*lt)*Rn*(1-Ve))/(Ct*Ct),Un=-vn*Rn,Yn=-vn*(Ge*$e*zn+St*lt*Rn),or=-2*vn*(ht*(.5*zn/zt)-2*Ge*zt*Rn),ar=4*de/g;if(de>.222*g||ye<g/4&&de>.175*g){if(Le=(Zt+Ge*C(Lt*(1+Ye)-Zt*Zt))/(1+Ye),de>g/4)return[Le,Le];var cr=Le,yr=.5*Le;Le=.5*(yr+cr),Ne=50;do{var Pr=Le*(or+Un*C(Lt-Le*Le))+Yn*E(Le/en)-ar;if(!Pr)break;Pr<0?yr=Le:cr=Le,Le=.5*(yr+cr)}while(k(cr-yr)>c&&--Ne>0)}else{Le=c,Ne=25;do{var Bn=Le*Le,rr=C(Lt-Bn),fr=or+Un*rr,xr=Le*fr+Yn*E(Le/en)-ar;Le-=Ht=rr?xr/(fr+(Yn-Un*Bn)/rr):0}while(k(Ht)>c&&--Ne>0)}return[Le,-Zt-Ge*C(Lt-Le*Le)]}(z>g/4?h-z:z,H);return z>g/4&&(Q=ie[0],ie[0]=-ie[1],ie[1]=-Q),ie[0]*=V,ie[1]*=-K,ie}function Dn(){return(0,A.Z)(Vn(In)).scale(239.75)}function Kn(z,H){var V,K,he,Ae,B,Q;if(H<c)return[(Ae=u(z))-(V=H*(z-Ae*(K=b(z)))/4)*K,K+V*Ae,1-H*Ae*Ae/2,z-V];if(H>=1-c)return V=(1-H)/4,he=1/(K=R(z)),[(Ae=((Q=d(2*(Q=z)))-1)/(Q+1))+V*((B=K*O(z))-z)/(K*K),he-V*Ae*he*(B-z),he+V*Ae*he*(B+z),2*l(d(z))-h+V*(B-z)/K];var ie=[1,0,0,0,0,0,0,0,0],de=[C(H),0,0,0,0,0,0,0,0],ye=0;for(K=C(1-H),B=1;k(de[ye]/ie[ye])>c&&ye<8;)V=ie[ye++],de[ye]=(V-K)/2,ie[ye]=(V+K)/2,K=C(V*K),B*=2;he=B*ie[ye]*z;do{he=(E(Ae=de[ye]*u(K=he)/ie[ye])+he)/2}while(--ye);return[u(he),Ae=b(he),Ae/b(he-K),he]}function Vt(z,H){if(!H)return z;if(1===H)return t(p(z/2+y));for(var V=1,K=C(1-H),he=C(H),Ae=0;k(he)>c;Ae++){if(z%g){var B=l(K*p(z)/V);B<0&&(B+=g),z+=B+~~(z/g)*g}else z+=z;he=(V+K)/2,K=C(V*K),he=((V=he)-K)/2}return z/(n(2,Ae)*V)}function _n(z,H){var de,ye,Le,Ne,Ve,V=(m-1)/(m+1),K=C(1-V*V),he=Vt(h,K*K),Ae=t(p(g/4+k(H)/2)),B=d(-1*Ae)/C(V),Q=(de=B*b(-1*z),Ne=(ye=B*u(-1*z))+1,[.5*((de>=0?h:-h)-T(Ve=1-(Le=de*de)-ye*ye,2*de)),-.25*t(Ve*Ve+4*Le)+.5*t(Ne*Ne+Le)]),ie=function(de,ye,Le){var Ne=k(de),Ve=O(k(ye));if(Ne){var Ge=1/u(Ne),Ye=1/(p(Ne)*p(Ne)),$e=-(Ye+Le*(Ve*Ve*Ge*Ge)-1+Le),lt=(-$e+C($e*$e-(Le-1)*Ye*4))/2;return[Vt(l(1/C(lt)),Le)*s(de),Vt(l(C((lt/Ye-1)/Le)),1-Le)*s(ye)]}return[0,Vt(l(Ve),1-Le)*s(ye)]}(Q[0],Q[1],K*K);return[-ie[1],(H>=0?1:-1)*(.5*he-ie[0])]}function Mt(){return(0,A.Z)(Vn(_n)).scale(151.496)}In.invert=function(z,H){k(z)>1&&(z=2*s(z)-z),k(H)>1&&(H=2*s(H)-H);var V=s(z),K=s(H),he=-V*z,Ae=-K*H,B=Ae/he<1,Q=function(Le,Ne){for(var Ve=0,Ge=1,Ye=.5,$e=50;;){var lt=Ye*Ye,ht=C(Ye),Et=E(1/C(1+lt)),Ct=1-lt+Ye*(1+lt)*Et,St=(1-ht)/Ct,zt=C(St),Lt=St*(1+lt),en=zt*(1-lt),Zt=C(Lt-Le*Le),Ht=Ne+en+Ye*Zt;if(k(Ge-Ve)<x||0==--$e||0===Ht)break;Ht>0?Ve=Ye:Ge=Ye,Ye=.5*(Ve+Ge)}if(!$e)return null;var pn=E(ht),vn=b(pn),Rn=1/vn,zn=2*ht*vn,Un=(-Ct*vn-(-3*Ye+Et*(1+3*lt))*zn*(1-ht))/(Ct*Ct);return[g/4*(Le*(-2*Rn*(.5*Un/zt*(1-lt)-2*Ye*zt*zn)+-Rn*zn*Zt)+-Rn*(Ye*(1+lt)*Un+St*(1+3*lt)*zn)*E(Le/C(Lt))),pn]}(B?Ae:he,B?he:Ae),ie=Q[0],de=Q[1],ye=b(de);return B&&(ie=-h-ie),[V*(T(u(ie)*ye,-u(de))+g),K*E(b(ie)*ye)]},_n.invert=function(z,H){var V,K,he,Ae,B,Q,Ne,Ve,Ge,ie=(m-1)/(m+1),de=C(1-ie*ie),ye=(K=-z,he=de*de,(V=.5*Vt(h,de*de)-H)?(Ae=Kn(V,he),K?(Q=(B=Kn(K,1-he))[1]*B[1]+he*Ae[0]*Ae[0]*B[0]*B[0],[[Ae[0]*B[2]/Q,Ae[1]*Ae[2]*B[0]*B[1]/Q],[Ae[1]*B[1]/Q,-Ae[0]*Ae[2]*B[0]*B[2]/Q],[Ae[2]*B[1]*B[2]/Q,-he*Ae[0]*Ae[1]*B[0]/Q]]):[[Ae[0],0],[Ae[1],0],[Ae[2],0]]):[[0,(B=Kn(K,1-he))[0]/B[1]],[1/B[1],0],[B[2]/B[1],0]]),Le=[((Ne=ye[0])[0]*(Ve=ye[1])[0]+Ne[1]*Ve[1])/(Ge=Ve[0]*Ve[0]+Ve[1]*Ve[1]),(Ne[1]*Ve[0]-Ne[0]*Ve[1])/Ge];return[T(Le[1],Le[0])/-1,2*l(d(-.5*t(ie*Le[0]*Le[0]+ie*Le[1]*Le[1])))-h]};var qt=e(7613);function Kt(z){var H=u(z),V=b(z),K=mn(z);function he(Ae,B){var Q=K(Ae,B);Ae=Q[0];var ie=u(B=Q[1]),de=b(B),ye=b(Ae),Le=L(H*ie+V*de*ye),Ne=u(Le),Ve=k(Ne)>c?Le/Ne:1;return[Ve*V*u(Ae),(k(Ae)>h?Ve:-Ve)*(H*de-V*ie*ye)]}return K.invert=mn(-z),he.invert=function(Ae,B){var Q=C(Ae*Ae+B*B),ie=-u(Q),de=b(Q),ye=Q*de,Le=-B*ie,Ne=Q*H,Ve=C(ye*ye+Le*Le-Ne*Ne),Ge=T(ye*Ne+Le*Ve,Le*Ne-ye*Ve),Ye=(Q>h?-1:1)*T(Ae*ie,Q*b(Ge)*de+B*u(Ge)*ie);return K.invert(Ye,Ge)},he}function mn(z){var H=u(z),V=b(z);return function(K,he){var Ae=b(he),B=b(K)*Ae,Q=u(K)*Ae,ie=u(he);return[T(Q,B*V-ie*H),E(ie*V+B*H)]}}function xn(){var z=0,H=(0,A.r)(Kt),V=H(z),K=V.rotate,he=V.stream,Ae=(0,qt.Z)();return V.parallel=function(B){if(!arguments.length)return z*S;var Q=V.rotate();return H(z=B*w).rotate(Q)},V.rotate=function(B){return arguments.length?(K.call(V,[B[0],B[1]-z*S]),Ae.center([-B[0],-B[1]]),V):((B=K.call(V))[1]+=z*S,B)},V.stream=function(B){return(B=he(B)).sphere=function(){B.polygonStart();var Q,ie=Ae.radius(89.99)().coordinates[0],de=ie.length-1,ye=-1;for(B.lineStart();++ye<de;)B.point((Q=ie[ye])[0],Q[1]);for(B.lineEnd(),de=(ie=Ae.radius(90.01)().coordinates[0]).length-1,B.lineStart();--ye>=0;)B.point((Q=ie[ye])[0],Q[1]);B.lineEnd(),B.polygonEnd()},B},V.scale(79.4187).parallel(45).clipAngle(179.999)}var Mn=e(33064),ln=e(72736),Wt=E(1-1/3)*S,Jt=We(0);function sn(z){var H=Wt*w,V=Tt(g,H)[0]-Tt(-g,H)[0],K=Jt(0,H)[1],he=Tt(0,H)[1],Ae=_-he,B=f/z,Q=4/f,ie=K+Ae*Ae*4/f;function de(ye,Le){var Ne,Ve=k(Le);if(Ve>H){var Ge=r(z-1,i(0,a((ye+g)/B)));(Ne=Tt(ye+=g*(z-1)/z-Ge*B,Ve))[0]=Ne[0]*f/V-f*(z-1)/(2*z)+Ge*f/z,Ne[1]=K+4*(Ne[1]-he)*Ae/f,Le<0&&(Ne[1]=-Ne[1])}else Ne=Jt(ye,Le);return Ne[0]*=Q,Ne[1]/=ie,Ne}return de.invert=function(ye,Le){ye/=Q;var Ne=k(Le*=ie);if(Ne>K){var Ve=r(z-1,i(0,a((ye+g)/B))),Ge=Tt.invert(ye=(ye+g*(z-1)/z-Ve*B)*V/f,.25*(Ne-K)*f/Ae+he);return Ge[0]-=g*(z-1)/z-Ve*B,Le<0&&(Ge[1]=-Ge[1]),Ge}return Jt.invert(ye,Le)},de}function un(z,H){return[z,1&H?90-c:Wt]}function Sn(z,H){return[z,1&H?-90+c:-Wt]}function Cn(z){return[z[0]*(1-c),z[1]]}function jn(){var z=4,H=(0,A.r)(sn),V=H(z),K=V.stream;return V.lobes=function(he){return arguments.length?H(z=+he):z},V.stream=function(he){var Ae=V.rotate(),B=K(he),Q=(V.rotate([0,0]),K(he));return V.rotate(Ae),B.sphere=function(){var ie,de;(0,ln.Z)((de=[].concat((0,Mn.w6)(-180,180+(ie=180/z)/2,ie).map(un),(0,Mn.w6)(180,-180-ie/2,-ie).map(Sn)),{type:"Polygon",coordinates:[180===ie?de.map(Cn):de]}),Q)},B},V.scale(239.75)}function Fn(z){var H,V=1+z,K=E(u(1/V)),he=2*C(g/(H=g+4*K*V)),Ae=.5*he*(V+C(z*(2+z))),B=z*z,Q=V*V;function ie(de,ye){var Le,Ne,Ve=1-u(ye);if(Ve&&Ve<2){var Ge,Ye=h-ye,$e=25;do{var lt=u(Ye),ht=b(Ye),Et=K+T(lt,V-ht),Ct=1+Q-2*V*ht;Ye-=Ge=(Ye-B*K-V*lt+Ct*Et-.5*Ve*H)/(2*V*lt*Et)}while(k(Ge)>x&&--$e>0);Le=he*C(Ct),Ne=de*Et/g}else Le=he*(z+Ve),Ne=de*K/g;return[Le*u(Ne),Ae-Le*b(Ne)]}return ie.invert=function(de,ye){var Le=de*de+(ye-=Ae)*ye,Ne=(1+Q-Le/(he*he))/(2*V),Ve=L(Ne),Ge=u(Ve),Ye=K+T(Ge,V-Ne);return[E(de/C(Le))*g/Ye,E(1-2*(Ve-B*K-V*Ge+(1+Q-2*V*Ne)*Ye)/H)]},ie}function Xn(){var z=1,H=(0,A.r)(Fn),V=H(z);return V.ratio=function(K){return arguments.length?H(z=+K):z},V.scale(167.774).center([0,18.67])}var Hn=.7109889596207567,nr=.0528035274542;function er(z,H){return H>-Hn?((z=se(z,H))[1]+=nr,z):Fe(z,H)}function tr(){return(0,A.Z)(er).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function lr(z,H){return k(H)>Hn?((z=se(z,H))[1]-=H>0?nr:-nr,z):Fe(z,H)}function ur(){return(0,A.Z)(lr).scale(152.63)}function _r(z,H,V,K){var he=C(4*g/(2*V+(1+z-H/2)*u(2*V)+(z+H)/2*u(4*V)+H/2*u(6*V))),Ae=C(K*u(V)*C((1+z*b(2*V)+H*b(4*V))/(1+z+H))),B=V*ie(1);function Q(Le){return C(1+z*b(2*Le)+H*b(4*Le))}function ie(Le){var Ne=Le*V;return(2*Ne+(1+z-H/2)*u(2*Ne)+(z+H)/2*u(4*Ne)+H/2*u(6*Ne))/V}function de(Le){return Q(Le)*u(Le)}var ye=function(Le,Ne){var Ve=V*me(ie,B*u(Ne)/V,Ne/g);isNaN(Ve)&&(Ve=V*s(Ne));var Ge=he*Q(Ve);return[Ge*Ae*Le/g*b(Ve),Ge/Ae*u(Ve)]};return ye.invert=function(Le,Ne){var Ve=me(de,Ne*Ae/he);return[Le*g/(b(Ve)*he*Ae*Q(Ve)),E(V*ie(Ve/V)/B)]},0===V&&(he=C(K/g),(ye=function(Le,Ne){return[Le*he,u(Ne)/he]}).invert=function(Le,Ne){return[Le/he,E(Ne*he)]}),ye}function Zn(){var z=1,H=0,V=45*w,K=2,he=(0,A.r)(_r),Ae=he(z,H,V,K);return Ae.a=function(B){return arguments.length?he(z=+B,H,V,K):z},Ae.b=function(B){return arguments.length?he(z,H=+B,V,K):H},Ae.psiMax=function(B){return arguments.length?he(z,H,V=+B*w,K):V*S},Ae.ratio=function(B){return arguments.length?he(z,H,V,K=+B):K},Ae.scale(180.739)}function pr(z,H,V,K,he,Ae,B,Q,ie,de,ye){if(ye.nanEncountered)return NaN;var Le,Ne,Ve,Ge,Ye,$e,lt,ht,Et,Ct;if(Ne=z(H+.25*(Le=V-H)),Ve=z(V-.25*Le),isNaN(Ne))ye.nanEncountered=!0;else{if(!isNaN(Ve))return Ct=(($e=(Ge=Le*(K+4*Ne+he)/12)+(Ye=Le*(he+4*Ve+Ae)/12))-B)/15,de>ie?(ye.maxDepthCount++,$e+Ct):Math.abs(Ct)<Q?$e+Ct:(ht=pr(z,H,lt=H+.5*Le,K,Ne,he,Ge,.5*Q,ie,de+1,ye),isNaN(ht)?(ye.nanEncountered=!0,NaN):(Et=pr(z,lt,V,he,Ve,Ae,Ye,.5*Q,ie,de+1,ye),isNaN(Et)?(ye.nanEncountered=!0,NaN):ht+Et));ye.nanEncountered=!0}}function Lr(z,H,V,K,he){void 0===K&&(K=1e-8),void 0===he&&(he=20);var Ae=z(H),B=z(.5*(H+V)),Q=z(V);return pr(z,H,V,Ae,B,Q,(Ae+4*B+Q)*(V-H)/6,K,he,1,{maxDepthCount:0,nanEncountered:!1})}function Yr(z,H,V){function K(Ve){return z+(1-z)*n(1-n(Ve,H),1/H)}function he(Ve){return Lr(K,0,Ve,1e-4)}for(var Ae=1/he(1),B=1e3,Q=1.00000001*Ae,ie=[],de=0;de<=B;de++)ie.push(he(de/B)*Q);function ye(Ve){var Ge=0,Ye=B,$e=500;do{ie[$e]>Ve?Ye=$e:Ge=$e,$e=Ge+Ye>>1}while($e>Ge);var lt=ie[$e+1]-ie[$e];return lt&&(lt=(Ve-ie[$e+1])/lt),($e+1+lt)/B}var Le=2*ye(1)/g*Ae/V,Ne=function(Ve,Ge){var Ye=ye(k(u(Ge))),$e=K(Ye)*Ve;return Ye/=Le,[$e,Ge>=0?Ye:-Ye]};return Ne.invert=function(Ve,Ge){var Ye;return k(Ge*=Le)<1&&(Ye=s(Ge)*E(he(k(Ge))*Ae)),[Ve/K(k(Ge)),Ye]},Ne}function si(){var z=0,H=2.5,V=1.183136,K=(0,A.r)(Yr),he=K(z,H,V);return he.alpha=function(Ae){return arguments.length?K(z=+Ae,H,V):z},he.k=function(Ae){return arguments.length?K(z,H=+Ae,V):H},he.gamma=function(Ae){return arguments.length?K(z,H,V=+Ae):V},he.scale(152.63)}function ii(z,H){return k(z[0]-H[0])<c&&k(z[1]-H[1])<c}function hi(z,H){for(var V,K,he,Ae=-1,B=z.length,Q=z[0],ie=[];++Ae<B;){K=((V=z[Ae])[0]-Q[0])/H,he=(V[1]-Q[1])/H;for(var de=0;de<H;++de)ie.push([Q[0]+de*K,Q[1]+de*he]);Q=V}return ie.push(V),ie}function Qr(z,H,V){var K,he;function Ae(ie,de){for(var ye=de<0?-1:1,Le=H[+(de<0)],Ne=0,Ve=Le.length-1;Ne<Ve&&ie>Le[Ne][2][0];++Ne);var Ge=z(ie-Le[Ne][1][0],de);return Ge[0]+=z(Le[Ne][1][0],ye*de>ye*Le[Ne][0][1]?Le[Ne][0][1]:de)[0],Ge}V?Ae.invert=V(Ae):z.invert&&(Ae.invert=function(ie,de){for(var ye=he[+(de<0)],Le=H[+(de<0)],Ne=0,Ve=ye.length;Ne<Ve;++Ne){var Ge=ye[Ne];if(Ge[0][0]<=ie&&ie<Ge[1][0]&&Ge[0][1]<=de&&de<Ge[1][1]){var Ye=z.invert(ie-z(Le[Ne][1][0],0)[0],de);return Ye[0]+=Le[Ne][1][0],ii(Ae(Ye[0],Ye[1]),[ie,de])?Ye:null}}});var B=(0,A.Z)(Ae),Q=B.stream;return B.stream=function(ie){var de=B.rotate(),ye=Q(ie),Le=(B.rotate([0,0]),Q(ie));return B.rotate(de),ye.sphere=function(){(0,ln.Z)(K,Le)},ye},B.lobes=function(ie){return arguments.length?(K=function(de){var ye,Le,Ve,Ge,$e,lt=[],ht=de[0].length;for($e=0;$e<ht;++$e)Le=(ye=de[0][$e])[0][0],lt.push(hi([[Le+c,ye[0][1]+c],[Le+c,(Ve=ye[1][1])-c],[(Ge=ye[2][0])-c,Ve-c],[Ge-c,ye[2][1]+c]],30));for($e=de[1].length-1;$e>=0;--$e)Le=(ye=de[1][$e])[0][0],lt.push(hi([[(Ge=ye[2][0])-c,ye[2][1]-c],[Ge-c,(Ve=ye[1][1])+c],[Le+c,Ve+c],[Le+c,ye[0][1]-c]],30));return{type:"Polygon",coordinates:[(0,Mn.TS)(lt)]}}(ie),H=ie.map(function(de){return de.map(function(ye){return[[ye[0][0]*w,ye[0][1]*w],[ye[1][0]*w,ye[1][1]*w],[ye[2][0]*w,ye[2][1]*w]]})}),he=H.map(function(de){return de.map(function(ye){var Le,Ne=z(ye[0][0],ye[0][1])[0],Ve=z(ye[2][0],ye[2][1])[0],Ge=z(ye[1][0],ye[0][1])[1],Ye=z(ye[1][0],ye[1][1])[1];return Ge>Ye&&(Le=Ge,Ge=Ye,Ye=Le),[[Ne,Ge],[Ve,Ye]]})}),B):H.map(function(de){return de.map(function(ye){return[[ye[0][0]*S,ye[0][1]*S],[ye[1][0]*S,ye[1][1]*S],[ye[2][0]*S,ye[2][1]*S]]})})},null!=H&&B.lobes(H),B}er.invert=function(z,H){return H>-Hn?se.invert(z,H-nr):Fe.invert(z,H)},lr.invert=function(z,H){return k(H)>Hn?se.invert(z,H+(H>0?nr:-nr)):Fe.invert(z,H)};var wi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function qa(){return Qr(ke,wi).scale(160.857)}var da=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function no(){return Qr(lr,da).scale(152.63)}var Gs=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Bo(){return Qr(se,Gs).scale(169.529)}var gs=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function qs(){return Qr(se,gs).scale(169.529).rotate([20,0])}var Za=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function il(){return Qr(er,Za,pe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var No=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function jo(){return Qr(Fe,No).scale(152.63).rotate([-20,0])}function Ya(z,H){return[3/f*z*C(g*g/3-H*H),H]}function Li(){return(0,A.Z)(Ya).scale(158.837)}function vs(z){function H(V,K){if(k(k(K)-h)<c)return[0,K<0?-2:2];var he=u(K),Ae=n((1+he)/(1-he),z/2),B=.5*(Ae+1/Ae)+b(V*=z);return[2*u(V)/B,(Ae-1/Ae)/B]}return H.invert=function(V,K){var he=k(K);if(k(he-2)<c)return V?null:[0,s(K)*h];if(he>2)return null;var Ae=(V/=2)*V,B=(K/=2)*K,Q=2*K/(1+Ae+B);return Q=n((1+Q)/(1-Q),1/z),[T(2*V,1-Ae-B)/z,E((Q-1)/(Q+1))]},H}function Gr(){var z=.5,H=(0,A.r)(vs),V=H(z);return V.spacing=function(K){return arguments.length?H(z=+K):z},V.scale(124.75)}Ya.invert=function(z,H){return[f/3*z/C(g*g/3-H*H),H]};var Wa=g/m;function wa(z,H){return[z*(1+C(b(H)))/2,H/(b(H/2)*b(z/6))]}function ro(){return(0,A.Z)(wa).scale(97.2672)}function Ra(z,H){var V=z*z,K=H*H;return[z*(.975534+K*(-.0143059*V-.119161+-.0547009*K)),H*(1.00384+V*(.0802894+-.02855*K+199025e-9*V)+K*(.0998909+-.0491032*K))]}function xo(){return(0,A.Z)(Ra).scale(139.98)}function io(z,H){return[u(z)/b(H),p(H)*b(z)]}function ao(){return(0,A.Z)(io).scale(144.049).clipAngle(89.999)}function Os(z){var H=b(z),V=p(y+z/2);function K(he,Ae){var B=Ae-z,Q=k(B)<c?he*H:k(Q=y+Ae/2)<c||k(k(Q)-h)<c?0:he*B/t(p(Q)/V);return[Q,B]}return K.invert=function(he,Ae){var B,Q=Ae+z;return[k(Ae)<c?he/H:k(B=y+Q/2)<c||k(k(B)-h)<c?0:he*t(p(B)/V)/Ae,Q]},K}function al(){return Ie(Os).parallel(40).scale(158.837)}function bo(z,H){return[z,1.25*t(p(y+.4*H))]}function ol(){return(0,A.Z)(bo).scale(108.318)}function Zs(z){var H=z.length-1;function V(K,he){for(var Ae,B=b(he),Q=2/(1+B*b(K)),ie=Q*B*u(K),de=Q*u(he),ye=H,Le=z[ye],Ne=Le[0],Ve=Le[1];--ye>=0;)Ne=(Le=z[ye])[0]+ie*(Ae=Ne)-de*Ve,Ve=Le[1]+ie*Ve+de*Ae;return[Ne=ie*(Ae=Ne)-de*Ve,Ve=ie*Ve+de*Ae]}return V.invert=function(K,he){var Ae=20,B=K,Q=he;do{for(var ie,de=H,ye=z[de],Le=ye[0],Ne=ye[1],Ve=0,Ge=0;--de>=0;)Ve=Le+B*(ie=Ve)-Q*Ge,Ge=Ne+B*Ge+Q*ie,Le=(ye=z[de])[0]+B*(ie=Le)-Q*Ne,Ne=ye[1]+B*Ne+Q*ie;var Ye,$e,lt=(Ve=Le+B*(ie=Ve)-Q*Ge)*Ve+(Ge=Ne+B*Ge+Q*ie)*Ge;B-=Ye=((Le=B*(ie=Le)-Q*Ne-K)*Ve+(Ne=B*Ne+Q*ie-he)*Ge)/lt,Q-=$e=(Ne*Ve-Le*Ge)/lt}while(k(Ye)+k($e)>c*c&&--Ae>0);if(Ae){var ht=C(B*B+Q*Q),Et=2*l(.5*ht),Ct=u(Et);return[T(B*Ct,ht*b(Et)),ht?E(Q*Ct/ht):0]}},V}wa.invert=function(z,H){var V=k(z),K=k(H),he=c,Ae=h;K<Wa?Ae*=K/Wa:he+=6*L(Wa/K);for(var B=0;B<25;B++){var Q=u(Ae),ie=C(b(Ae)),de=u(Ae/2),ye=b(Ae/2),Le=u(he/6),Ne=b(he/6),Ve=.5*he*(1+ie)-V,Ge=Ae/(ye*Ne)-K,Ye=ie?-.25*he*Q/ie:0,$e=.5*(1+ie),lt=(1+.5*Ae*de/ye)/(ye*Ne),ht=Ae/ye*(Le/6)/(Ne*Ne),Et=Ye*ht-lt*$e,Ct=(Ve*ht-Ge*$e)/Et,St=(Ge*Ye-Ve*lt)/Et;if(Ae-=Ct,he-=St,k(Ct)<c&&k(St)<c)break}return[z<0?-he:he,H<0?-Ae:Ae]},Ra.invert=function(z,H){var V=s(z)*g,K=H/2,he=50;do{var Ae=V*V,B=K*K,Q=V*K,ie=V*(.975534+B*(-.0143059*Ae-.119161+-.0547009*B))-z,de=K*(1.00384+Ae*(.0802894+-.02855*B+199025e-9*Ae)+B*(.0998909+-.0491032*B))-H,ye=.975534-B*(.119161+3*Ae*.0143059+.0547009*B),Le=-Q*(.238322+.2188036*B+.0286118*Ae),Ne=Q*(.1605788+7961e-7*Ae+-.0571*B),Ve=1.00384+Ae*(.0802894+199025e-9*Ae)+B*(3*(.0998909-.02855*Ae)-.245516*B),Ge=Le*Ne-Ve*ye,Ye=(de*Le-ie*Ve)/Ge,$e=(ie*Ne-de*ye)/Ge;V-=Ye,K-=$e}while((k(Ye)>c||k($e)>c)&&--he>0);return he&&[V,K]},io.invert=function(z,H){var V=z*z,K=H*H+1,he=V+K,Ae=z?v*C((he-C(he*he-4*V))/V):1/C(K);return[E(z*Ae),s(H)*L(Ae)]},bo.invert=function(z,H){return[z,2.5*l(d(.8*H))-.625*g]};var sl=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Ys=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],ll=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],rs=[[.9245,0],[0,0],[.01943,0]],_o=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Uo(){return Sa(sl,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function is(){return Sa(Ys,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Is(){return Sa(ll,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Ws(){return Sa(rs,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Xs(){return Sa(_o,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Sa(z,H){var V=(0,A.Z)(Zs(z)).rotate(H).clipAngle(90),K=(0,Je.Z)(H),he=V.center;return delete V.rotate,V.center=function(Ae){return arguments.length?he(K(Ae)):K.invert(he())},V}var Vo=C(6),Xa=C(7);function oo(z,H){var V=E(7*u(H)/(3*Vo));return[Vo*z*(2*b(2*V/3)-1)/Xa,9*u(V/3)/Xa]}function ul(){return(0,A.Z)(oo).scale(164.859)}function wo(z,H){for(var V,K=(1+v)*u(H),he=H,Ae=0;Ae<25&&(he-=V=(u(he/2)+u(he)-K)/(.5*b(he/2)+b(he)),!(k(V)<c));Ae++);return[z*(1+2*b(he)/b(he/2))/(3*m),2*C(3)*u(he/2)/C(2+m)]}function ei(){return(0,A.Z)(wo).scale(188.209)}function za(z,H){for(var V,K=C(6/(4+g)),he=(1+g/4)*u(H),Ae=H/2,B=0;B<25&&(Ae-=V=(Ae/2+u(Ae)-he)/(.5+b(Ae)),!(k(V)<c));B++);return[K*(.5+b(Ae))*z/1.5,K*Ae]}function ms(){return(0,A.Z)(za).scale(166.518)}oo.invert=function(z,H){var V=3*E(H*Xa/9);return[z*Xa/(Vo*(2*b(2*V/3)-1)),E(3*u(V)*Vo/7)]},wo.invert=function(z,H){var V=H*C(2+m)/(2*C(3)),K=2*E(V);return[3*m*z/(1+2*b(K)/b(K/2)),E((V+u(K))/(1+v))]},za.invert=function(z,H){var V=C(6/(4+g)),K=H/V;return k(k(K)-h)<c&&(K=K<0?-h:h),[1.5*z/(V*(.5+b(K))),E((K/2+u(K))/(1+g/4))]};var Ea=e(26867);function Ho(z,H){var V=H*H,K=V*V,he=V*K;return[z*(.84719-.13063*V+he*he*(.05494*V-.04515-.02326*K+.00331*he)),H*(1.01183+K*K*(.01926*V-.02625-.00396*K))]}function bl(){return(0,A.Z)(Ho).scale(175.295)}function Ds(z,H){return[z*(1+b(H))/2,2*(H-p(H/2))]}function cl(){return(0,A.Z)(Ds).scale(152.63)}Ho.invert=function(z,H){var V,K,he,Ae,B=H,Q=25;do{B-=V=(B*(1.01183+(he=(K=B*B)*K)*he*(.01926*K-.02625-.00396*he))-H)/(1.01183+he*he*(.21186*K-.23625+-.05148*he))}while(k(V)>x&&--Q>0);return[z/(.84719-.13063*(K=B*B)+(Ae=K*(he=K*K))*Ae*(.05494*K-.04515-.02326*he+.00331*Ae)),B]},Ds.invert=function(z,H){for(var V=H/2,K=0,he=1/0;K<10&&k(he)>c;++K){var Ae=b(H/2);H-=he=(H-p(H/2)-V)/(1-.5/(Ae*Ae))}return[2*z/(1+b(H)),H]};var fl=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ys(){return Qr(ue(1/0),fl).rotate([20,0]).scale(152.63)}function as(z,H){var V=u(H),K=b(H),he=s(z);if(0===z||k(H)===h)return[0,H];if(0===H)return[z,0];if(k(z)===h)return[z*K,h*V];var Ae=g/(2*z)-2*z/g,B=2*H/g,Q=(1-B*B)/(V-B),ie=Ae*Ae,de=Q*Q,ye=1+ie/de,Le=1+de/ie,Ne=(Ae*V/Q-Ae/2)/ye,Ve=(de*V/ie+Q/2)/Le,Ge=Ve*Ve-(de*V*V/ie+Q*V-1)/Le;return[h*(Ne+C(Ne*Ne+K*K/ye)*he),h*(Ve+C(Ge<0?0:Ge)*s(-H*Ae)*he)]}function xs(){return(0,A.Z)(as).scale(127.267)}as.invert=function(z,H){var V=(z/=h)*z,K=V+(H/=h)*H,he=g*g;return[z?(K-1+C((1-K)*(1-K)+4*V))/(2*z)*h:0,me(function(Ae){return K*(g*u(Ae)-2*Ae)*g+4*Ae*Ae*(H-u(Ae))+2*g*Ae-he*H},0)]};var To=1.0148,so=.23185,ko=-.14499,lo=.02406,Rs=To,Fa=5*so,hl=7*ko,pl=9*lo,zs=1.790857183;function Mo(z,H){var V=H*H;return[z,H*(To+V*V*(so+V*(ko+lo*V)))]}function Fs(){return(0,A.Z)(Mo).scale(139.319)}function Go(z,H){if(k(H)<c)return[z,0];var V=p(H),K=z*u(H);return[u(K)/V,H+(1-b(K))/V]}function Js(){return(0,A.Z)(Go).scale(103.74)}Mo.invert=function(z,H){H>zs?H=zs:H<-1.790857183&&(H=-1.790857183);var V,K=H;do{var he=K*K;K-=V=(K*(To+he*he*(so+he*(ko+lo*he)))-H)/(Rs+he*he*(Fa+he*(hl+pl*he)))}while(k(V)>c);return[z,K]},Go.invert=function(z,H){if(k(H)<c)return[z,0];var V,K=z*z+H*H,he=.5*H,Ae=10;do{var B=p(he),Q=1/b(he),ie=K-2*H*he+he*he;he-=V=(B*ie+2*(he-H))/(2+ie*Q*Q+2*(he-H)*B)}while(k(V)>c&&--Ae>0);return B=p(he),[(k(H)<k(he+1/B)?E(z*B):s(H)*s(z)*(L(k(z*B))+h))/u(he),he]};var os=e(77338),qo=e(83074);function bs(z,H){return[z[0]*H[0]+z[1]*H[3],z[0]*H[1]+z[1]*H[4],z[0]*H[2]+z[1]*H[5]+z[2],z[3]*H[0]+z[4]*H[3],z[3]*H[1]+z[4]*H[4],z[3]*H[2]+z[4]*H[5]+z[5]]}function ss(z,H){return[z[0]-H[0],z[1]-H[1]]}function ti(z){return C(z[0]*z[0]+z[1]*z[1])}function Ao(z,H,V){function K(Q,ie){var de,ye=H(Q,ie),Le=ye.project([Q*S,ie*S]);return(de=ye.transform)?[de[0]*Le[0]+de[1]*Le[1]+de[2],-(de[3]*Le[0]+de[4]*Le[1]+de[5])]:(Le[1]=-Le[1],Le)}function he(Q,ie){var $e,lt,de=Q.project.invert,ye=Q.transform,Le=ie;if(ye&&(Le=[(ye=[(lt=1/(($e=ye)[0]*$e[4]-$e[1]*$e[3]))*$e[4],-lt*$e[1],lt*($e[1]*$e[5]-$e[2]*$e[4]),-lt*$e[3],lt*$e[0],lt*($e[2]*$e[3]-$e[0]*$e[5])])[0]*Le[0]+ye[1]*Le[1]+ye[2],ye[3]*Le[0]+ye[4]*Le[1]+ye[5]]),de&&Q===function($e){return H($e[0]*w,$e[1]*w)}(Ne=de(Le)))return Ne;for(var Ne,Ve=Q.children,Ge=0,Ye=Ve&&Ve.length;Ge<Ye;++Ge)if(Ne=he(Ve[Ge],ie))return Ne}(function Q(ie,de){if(ie.edges=function(St){for(var zt=St.length,Lt=[],en=St[zt-1],Zt=0;Zt<zt;++Zt)Lt.push([en,en=St[Zt]]);return Lt}(ie.face),de.face){var ye=ie.shared=function(St,zt){for(var Lt,en,Zt=St.length,Ht=null,pn=0;pn<Zt;++pn){Lt=St[pn];for(var vn=zt.length;--vn>=0;)if(Lt[0]===(en=zt[vn])[0]&&Lt[1]===en[1]){if(Ht)return[Ht,Lt];Ht=Lt}}}(ie.face,de.face),Le=(Ye=ye.map(de.project),$e=ye.map(ie.project),lt=ss(Ye[1],Ye[0]),ht=ss($e[1],$e[0]),Et=T((St=lt)[0]*(zt=ht)[1]-St[1]*zt[0],St[0]*zt[0]+St[1]*zt[1]),Ct=ti(lt)/ti(ht),bs([1,0,Ye[0][0],0,1,Ye[0][1]],bs([Ct,0,0,0,Ct,0],bs([b(Et),u(Et),0,-u(Et),b(Et),0],[1,0,-$e[0][0],0,1,-$e[0][1]]))));ie.transform=de.transform?bs(de.transform,Le):Le;for(var Ne=de.edges,Ve=0,Ge=Ne.length;Ve<Ge;++Ve)Ui(ye[0],Ne[Ve][1])&&Ui(ye[1],Ne[Ve][0])&&(Ne[Ve]=ie),Ui(ye[0],Ne[Ve][0])&&Ui(ye[1],Ne[Ve][1])&&(Ne[Ve]=ie);for(Ve=0,Ge=(Ne=ie.edges).length;Ve<Ge;++Ve)Ui(ye[0],Ne[Ve][0])&&Ui(ye[1],Ne[Ve][1])&&(Ne[Ve]=de),Ui(ye[0],Ne[Ve][1])&&Ui(ye[1],Ne[Ve][0])&&(Ne[Ve]=de)}else ie.transform=de.transform;var St,zt,Ye,$e,lt,ht,Et,Ct;return ie.children&&ie.children.forEach(function(St){Q(St,ie)}),ie})(z,{transform:null}),Ur(z)&&(K.invert=function(Q,ie){var de=he(z,[Q,-ie]);return de&&(de[0]*=w,de[1]*=w,de)});var Ae=(0,A.Z)(K),B=Ae.stream;return Ae.stream=function(Q){var ie=Ae.rotate(),de=B(Q),ye=(Ae.rotate([0,0]),B(Q));return Ae.rotate(ie),de.sphere=function(){ye.polygonStart(),ye.lineStart(),uo(ye,z),ye.lineEnd(),ye.polygonEnd()},de},Ae.angle(null==V?-30:V*S)}function uo(z,H,V){var K,he,Ae=H.edges,B=Ae.length,Q={type:"MultiPoint",coordinates:H.face},ie=H.face.filter(function(Ye){return 90!==k(Ye[1])}),de=(0,os.Z)({type:"MultiPoint",coordinates:ie}),ye=!1,Le=-1,Ne=de[1][0]-de[0][0],Ve=180===Ne||360===Ne?[(de[0][0]+de[1][0])/2,(de[0][1]+de[1][1])/2]:(0,qe.Z)(Q);if(V)for(;++Le<B&&Ae[Le]!==V;);++Le;for(var Ge=0;Ge<B;++Ge)he=Ae[(Ge+Le)%B],Array.isArray(he)?(ye||(z.point((K=(0,qo.Z)(he[0],Ve)(c))[0],K[1]),ye=!0),z.point((K=(0,qo.Z)(he[1],Ve)(c))[0],K[1])):(ye=!1,he!==V&&uo(z,he,H))}function Ui(z,H){return z&&H&&z[0]===H[0]&&z[1]===H[1]}function Ur(z){return z.project.invert||z.children&&z.children.some(Ur)}var qr=e(98936),So=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],co=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(z){return z.map(function(H){return So[H]})});function Ks(z){z=z||function(V){var K=(0,qe.Z)({type:"MultiPoint",coordinates:V});return(0,qr.Z)().scale(1).translate([0,0]).rotate([-K[0],-K[1]])};var H=co.map(function(V){return{face:V,project:z(V)}});return[-1,0,0,1,0,1,4,5].forEach(function(V,K){var he=H[V];he&&(he.children||(he.children=[])).push(H[K])}),Ao(H[0],function(V,K){return H[V<-g/2?K<0?6:4:V<0?K<0?2:0:V<g/2?K<0?3:1:K<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var _s=2/C(3);function Eo(z,H){var V=Tt(z,H);return[V[0]*_s,V[1]]}function ws(z){z=z||function(V){var K=(0,qe.Z)({type:"MultiPoint",coordinates:V});return(0,A.Z)(Eo).translate([0,0]).scale(1).rotate(K[1]>0?[-K[0],0]:[180-K[0],180])};var H=co.map(function(V){return{face:V,project:z(V)}});return[-1,0,0,1,0,1,4,5].forEach(function(V,K){var he=H[V];he&&(he.children||(he.children=[])).push(H[K])}),Ao(H[0],function(V,K){return H[V<-g/2?K<0?6:4:V<0?K<0?2:0:V<g/2?K<0?3:1:K<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function fo(z){z=z||function(Ae){var B=6===Ae.length?(0,qe.Z)({type:"MultiPoint",coordinates:Ae}):Ae[0];return(0,qr.Z)().scale(1).translate([0,0]).rotate([-B[0],-B[1]])};var H=co.map(function(Ae){for(var B,Q=Ae.map(vi),ie=Q.length,de=Q[ie-1],ye=[],Le=0;Le<ie;++Le)ye.push(Lo([.9486832980505138*de[0]+.31622776601683794*(B=Q[Le])[0],.9486832980505138*de[1]+.31622776601683794*B[1],.9486832980505138*de[2]+.31622776601683794*B[2]]),Lo([.9486832980505138*B[0]+.31622776601683794*de[0],.9486832980505138*B[1]+.31622776601683794*de[1],.9486832980505138*B[2]+.31622776601683794*de[2]])),de=B;return ye}),V=[],K=[-1,0,0,1,0,1,4,5];H.forEach(function(Ae,B){for(var Q,ie,de=co[B],ye=de.length,Le=V[B]=[],Ne=0;Ne<ye;++Ne)H.push([de[Ne],Ae[(2*Ne+2)%(2*ye)],Ae[(2*Ne+1)%(2*ye)]]),K.push(B),Le.push((Q=vi(Ae[(2*Ne+2)%(2*ye)]),ie=vi(Ae[(2*Ne+1)%(2*ye)]),[Q[1]*ie[2]-Q[2]*ie[1],Q[2]*ie[0]-Q[0]*ie[2],Q[0]*ie[1]-Q[1]*ie[0]]))});var he=H.map(function(Ae){return{project:z(Ae),face:Ae}});return K.forEach(function(Ae,B){var Q=he[Ae];Q&&(Q.children||(Q.children=[])).push(he[B])}),Ao(he[0],function(Ae,B){var Q=b(B),ie=[Q*b(Ae),Q*u(Ae),u(B)],de=Ae<-g/2?B<0?6:4:Ae<0?B<0?2:0:Ae<g/2?B<0?3:1:B<0?7:5,ye=V[de];return he[Zo(ye[0],ie)<0?8+3*de:Zo(ye[1],ie)<0?8+3*de+1:Zo(ye[2],ie)<0?8+3*de+2:de]}).angle(-30).scale(110.625).center([0,45])}function Zo(z,H){for(var V=0,K=z.length,he=0;V<K;++V)he+=z[V]*H[V];return he}function Lo(z){return[T(z[1],z[0])*S,E(i(-1,r(1,z[2])))*S]}function vi(z){var H=z[0]*w,V=z[1]*w,K=b(V);return[K*b(H),K*u(H),u(V)]}function Yo(){}function Wo(z,H){var V,K=H.stream;if(!K)throw new Error("invalid projection");switch(z&&z.type){case"Feature":V=$i;break;case"FeatureCollection":V=Ii;break;default:V=Wi}return V(z,K)}function Ii(z,H){return{type:"FeatureCollection",features:z.features.map(function(V){return $i(V,H)})}}function $i(z,H){return{type:"Feature",id:z.id,properties:z.properties,geometry:Wi(z.geometry,H)}}function Wi(z,H){if(!z)return null;if("GeometryCollection"===z.type)return he=H,{type:"GeometryCollection",geometries:z.geometries.map(function(Ae){return Wi(Ae,he)})};var he,V;switch(z.type){case"Point":case"MultiPoint":V=Co;break;case"LineString":case"MultiLineString":V=Ba;break;case"Polygon":case"MultiPolygon":case"Sphere":V=Vi;break;default:return null}return(0,ln.Z)(z,H(V)),V.result()}Eo.invert=function(z,H){return Tt.invert(z/_s,H)};var Di=[],aa=[],Co={point:function(z,H){Di.push([z,H])},result:function(){var z=Di.length?Di.length<2?{type:"Point",coordinates:Di[0]}:{type:"MultiPoint",coordinates:Di}:null;return Di=[],z}},Ba={lineStart:Yo,point:function(z,H){Di.push([z,H])},lineEnd:function(){Di.length&&(aa.push(Di),Di=[])},result:function(){var z=aa.length?aa.length<2?{type:"LineString",coordinates:aa[0]}:{type:"MultiLineString",coordinates:aa}:null;return aa=[],z}},Vi={polygonStart:Yo,lineStart:Yo,point:function(z,H){Di.push([z,H])},lineEnd:function(){var z=Di.length;if(z){do{Di.push(Di[0].slice())}while(++z<4);aa.push(Di),Di=[]}},polygonEnd:Yo,result:function(){if(!aa.length)return null;var z=[],H=[];return aa.forEach(function(V){!function(K){if((he=K.length)<4)return!1;for(var he,Ae=0,B=K[he-1][1]*K[0][0]-K[he-1][0]*K[0][1];++Ae<he;)B+=K[Ae-1][1]*K[Ae][0]-K[Ae-1][0]*K[Ae][1];return B<=0}(V)?H.push(V):z.push([V])}),H.forEach(function(V){var K=V[0];z.some(function(he){if(function(Ae,B){for(var Q=B[0],ie=B[1],de=!1,ye=0,Le=Ae.length,Ne=Le-1;ye<Le;Ne=ye++){var Ve=Ae[ye],Ge=Ve[0],Ye=Ve[1],$e=Ae[Ne],ht=$e[1];Ye>ie^ht>ie&&Q<($e[0]-Ge)*(ie-Ye)/(ht-Ye)+Ge&&(de=!de)}return de}(he[0],K))return he.push(V),!0})||z.push([V])}),aa=[],z.length?z.length>1?{type:"MultiPolygon",coordinates:z}:{type:"Polygon",coordinates:z[0]}:null}};function Ta(z){var H=z(h,0)[0]-z(-h,0)[0];function V(K,he){var Ae=k(K)<h,B=z(Ae?K:K>0?K-g:K+g,he),Q=(B[0]-B[1])*v,ie=(B[0]+B[1])*v;if(Ae)return[Q,ie];var de=H*v,ye=Q>0^ie>0?-1:1;return[ye*Q-s(ie)*de,ye*ie-s(Q)*de]}return z.invert&&(V.invert=function(K,he){var Ae=(K+he)*v,B=(he-K)*v,Q=k(Ae)<.5*H&&k(B)<.5*H;if(!Q){var ie=H*v,de=Ae>0^B>0?-1:1,ye=-de*K+(B>0?1:-1)*ie,Le=-de*he+(Ae>0?1:-1)*ie;Ae=(-ye-Le)*v,B=(ye-Le)*v}var Ne=z.invert(Ae,B);return Q||(Ne[0]+=Ae>0?g:-g),Ne}),(0,A.Z)(V).rotate([-90,-90,45]).clipAngle(179.999)}function La(){return Ta(In).scale(176.423)}function Bs(){return Ta(_n).scale(111.48)}function Ca(z,H){if(!(0<=(H=+H)&&H<=20))throw new Error("invalid digits");function V(de){var ye=de.length,Le=2,Ne=new Array(ye);for(Ne[0]=+de[0].toFixed(H),Ne[1]=+de[1].toFixed(H);Le<ye;)Ne[Le]=de[Le],++Le;return Ne}function K(de){return de.map(V)}function he(de){for(var ye=V(de[0]),Le=[ye],Ne=1;Ne<de.length;Ne++){var Ve=V(de[Ne]);(Ve.length>2||Ve[0]!=ye[0]||Ve[1]!=ye[1])&&(Le.push(Ve),ye=Ve)}return 1===Le.length&&de.length>1&&Le.push(V(de[de.length-1])),Le}function Ae(de){return de.map(he)}function B(de){if(null==de)return de;var ye;switch(de.type){case"GeometryCollection":ye={type:"GeometryCollection",geometries:de.geometries.map(B)};break;case"Point":ye={type:"Point",coordinates:V(de.coordinates)};break;case"MultiPoint":ye={type:de.type,coordinates:K(de.coordinates)};break;case"LineString":ye={type:de.type,coordinates:he(de.coordinates)};break;case"MultiLineString":case"Polygon":ye={type:de.type,coordinates:Ae(de.coordinates)};break;case"MultiPolygon":ye={type:"MultiPolygon",coordinates:de.coordinates.map(Ae)};break;default:return de}return null!=de.bbox&&(ye.bbox=de.bbox),ye}function Q(de){var ye={type:"Feature",properties:de.properties,geometry:B(de.geometry)};return null!=de.id&&(ye.id=de.id),null!=de.bbox&&(ye.bbox=de.bbox),ye}if(null!=z)switch(z.type){case"Feature":return Q(z);case"FeatureCollection":var ie={type:"FeatureCollection",features:z.features.map(Q)};return null!=z.bbox&&(ie.bbox=z.bbox),ie;default:return B(z)}return z}function Hi(z){var H=u(z);function V(K,he){var Ae=H?p(K*H/2)/H:K/2;if(!he)return[2*Ae,-z];var B=2*l(Ae*u(he)),Q=1/p(he);return[u(B)*Q,he+(1-b(B))*Q-z]}return V.invert=function(K,he){if(k(he+=z)<c)return[H?2*l(H*K/2)/H:K,0];var Ae,B=K*K+he*he,Q=0,ie=10;do{var de=p(Q),ye=1/b(Q),Le=B-2*he*Q+Q*Q;Q-=Ae=(de*Le+2*(Q-he))/(2+Le*ye*ye+2*(Q-he)*de)}while(k(Ae)>c&&--ie>0);var Ne=K*(de=p(Q)),Ve=p(k(he)<k(Q+1/de)?.5*E(Ne):.5*L(Ne)+g/4)/u(Q);return[H?2*l(H*Ve)/H:2*Ve,Q]},V}function br(){return Ie(Hi).scale(131.215)}var Qi=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Ts(z,H){var V,K=r(18,36*k(H)/g),he=a(K),Ae=K-he,B=(V=Qi[he])[0],Q=V[1],ie=(V=Qi[++he])[0],de=V[1],ye=(V=Qi[r(19,++he)])[0],Le=V[1];return[z*(ie+Ae*(ye-B)/2+Ae*Ae*(ye-2*ie+B)/2),(H>0?h:-h)*(de+Ae*(Le-Q)/2+Ae*Ae*(Le-2*de+Q)/2)]}function Ns(){return(0,A.Z)(Ts).scale(152.63)}function Xo(z,H){var V=function(B){function Q(ie,de){var ye=b(de),Le=(B-1)/(B-ye*b(ie));return[Le*ye*u(ie),Le*u(de)]}return Q.invert=function(ie,de){var ye=ie*ie+de*de,Le=C(ye),Ne=(B-C(1-ye*(B+1)/(B-1)))/((B-1)/Le+Le/(B-1));return[T(ie*Ne,Le*C(1-Ne*Ne)),Le?E(de*Ne/Le):0]},Q}(z);if(!H)return V;var K=b(H),he=u(H);function Ae(B,Q){var ie=V(B,Q),de=ie[1],ye=de*he/(z-1)+K;return[ie[0]*K/ye,de/ye]}return Ae.invert=function(B,Q){var ie=(z-1)/(z-1-Q*he);return V.invert(ie*B,ie*Q*K)},Ae}function Jo(){var z=2,H=0,V=(0,A.r)(Xo),K=V(z,H);return K.distance=function(he){return arguments.length?V(z=+he,H):z},K.tilt=function(he){return arguments.length?V(z,H=he*w):H*S},K.scale(432.147).clipAngle(L(1/z)*S-1e-6)}Qi.forEach(function(z){z[1]*=1.0144}),Ts.invert=function(z,H){var V=H/h,K=90*V,he=r(18,k(K/5)),Ae=i(0,a(he));do{var B=Qi[Ae][1],Q=Qi[Ae+1][1],ie=Qi[r(19,Ae+2)][1],de=ie-B,ye=ie-2*Q+B,Le=2*(k(V)-Q)/de,Ne=ye/de,Ve=Le*(1-Ne*Le*(1-2*Ne*Le));if(Ve>=0||1===Ae){K=(H>=0?5:-5)*(Ve+he);var Ge,Ye=50;do{Ve=(he=r(18,k(K)/5))-(Ae=a(he)),B=Qi[Ae][1],Q=Qi[Ae+1][1],ie=Qi[r(19,Ae+2)][1],K-=(Ge=(H>=0?h:-h)*(Q+Ve*(ie-B)/2+Ve*Ve*(ie-2*Q+B)/2)-H)*S}while(k(Ge)>x&&--Ye>0);break}}while(--Ae>=0);var $e=Qi[Ae][0],lt=Qi[Ae+1][0],ht=Qi[r(19,Ae+2)][0];return[z/(lt+Ve*(ht-$e)/2+Ve*Ve*(ht-2*lt+$e)/2),K*w]};var ho=1e-4,mr=1e4,Na=-180,ls=Na+ho,ks=180,ea=ks-ho,ja=-90,Pa=ja+ho,ka=90,Ja=ka-ho;function po(z){return z.length>0}function Ri(z){return z===ja||z===ka?[0,z]:[Na,(H=z,Math.floor(H*mr)/mr)];var H}function Ko(z){var H=z[0],V=z[1],K=!1;return H<=ls?(H=Na,K=!0):H>=ea&&(H=ks,K=!0),V<=Pa?(V=ja,K=!0):V>=Ja&&(V=ka,K=!0),K?[H,V]:z}function us(z){return z.map(Ko)}function Gi(z,H,V){for(var K=0,he=z.length;K<he;++K){var Ae=z[K].slice();V.push({index:-1,polygon:H,ring:Ae});for(var B=0,Q=Ae.length;B<Q;++B){var ie=Ae[B],de=ie[0],ye=ie[1];if(de<=ls||de>=ea||ye<=Pa||ye>=Ja){Ae[B]=Ko(ie);for(var Le=B+1;Le<Q;++Le){var Ne=Ae[Le],Ve=Ne[0],Ge=Ne[1];if(Ve>ls&&Ve<ea&&Ge>Pa&&Ge<Ja)break}if(Le===B+1)continue;if(B){var Ye={index:-1,polygon:H,ring:Ae.slice(0,B+1)};Ye.ring[Ye.ring.length-1]=Ri(ye),V[V.length-1]=Ye}else V.pop();if(Le>=Q)break;V.push({index:-1,polygon:H,ring:Ae=Ae.slice(Le-1)}),Ae[0]=Ri(Ae[0][1]),B=-1,Q=Ae.length}}}}function ni(z){var H,V,K,he,Ae,B,Q=z.length,ie={},de={};for(H=0;H<Q;++H)(K=(V=z[H]).ring[0])[0]!==(Ae=V.ring[V.ring.length-1])[0]||K[1]!==Ae[1]?(V.index=H,ie[K]=de[Ae]=V):(V.polygon.push(V.ring),z[H]=null);for(H=0;H<Q;++H)if(V=z[H]){if(he=de[K=V.ring[0]],B=ie[Ae=V.ring[V.ring.length-1]],delete ie[K],delete de[Ae],K[0]===Ae[0]&&K[1]===Ae[1]){V.polygon.push(V.ring);continue}he?(delete de[K],delete ie[he.ring[0]],he.ring.pop(),z[he.index]=null,V={index:-1,polygon:he.polygon,ring:he.ring.concat(V.ring)},he===B?V.polygon.push(V.ring):(V.index=Q++,z.push(ie[V.ring[0]]=de[V.ring[V.ring.length-1]]=V))):B?(delete ie[Ae],delete de[B.ring[B.ring.length-1]],V.ring.pop(),V={index:Q++,polygon:B.polygon,ring:V.ring.concat(B.ring)},z[B.index]=null,z.push(ie[V.ring[0]]=de[V.ring[V.ring.length-1]]=V)):(V.ring.push(V.ring[0]),V.polygon.push(V.ring))}}function Ms(z){var H={type:"Feature",geometry:ga(z.geometry)};return null!=z.id&&(H.id=z.id),null!=z.bbox&&(H.bbox=z.bbox),null!=z.properties&&(H.properties=z.properties),H}function ga(z){if(null==z)return z;var H,V,K,he;switch(z.type){case"GeometryCollection":H={type:"GeometryCollection",geometries:z.geometries.map(ga)};break;case"Point":H={type:"Point",coordinates:Ko(z.coordinates)};break;case"MultiPoint":case"LineString":H={type:z.type,coordinates:us(z.coordinates)};break;case"MultiLineString":H={type:"MultiLineString",coordinates:z.coordinates.map(us)};break;case"Polygon":var Ae=[];Gi(z.coordinates,Ae,V=[]),ni(V),H={type:"Polygon",coordinates:Ae};break;case"MultiPolygon":V=[],K=-1,he=z.coordinates.length;for(var B=new Array(he);++K<he;)Gi(z.coordinates[K],B[K]=[],V);ni(V),H={type:"MultiPolygon",coordinates:B.filter(po)};break;default:return z}return null!=z.bbox&&(H.bbox=z.bbox),H}function zi(z){if(null==z)return z;switch(z.type){case"Feature":return Ms(z);case"FeatureCollection":var H={type:"FeatureCollection",features:z.features.map(Ms)};return null!=z.bbox&&(H.bbox=z.bbox),H;default:return ga(z)}}function Ka(z,H){var V=p(H/2),K=u(y*V);return[z*(.74482-.34588*K*K),1.70711*V]}function $s(){return(0,A.Z)(Ka).scale(146.153)}function Ti(z,H,V){var K=(0,qo.Z)(H,V),he=K(.5),Ae=(0,Je.Z)([-he[0],-he[1]])(H),B=K.distance/2,Q=-E(u(Ae[1]*w)/u(B)),ie=[-he[0],-he[1],-(Ae[0]>0?g-Q:Q)*S],de=(0,A.Z)(z(B)).rotate(ie),ye=(0,Je.Z)(ie),Le=de.center;return delete de.rotate,de.center=function(Ne){return arguments.length?Le(ye(Ne)):ye.invert(Le())},de.clipAngle(90)}function Kr(z){var H=b(z);function V(K,he){var Ae=(0,qr.M)(K,he);return Ae[0]*=H,Ae}return V.invert=function(K,he){return qr.M.invert(K/H,he)},V}function Ma(){return $a([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function $a(z,H){return Ti(Kr,z,H)}function Ua(z){if(!(z*=2))return $.N;var H=-z/2,V=-H,K=z*z,he=p(V),Ae=.5/u(V);function B(Q,ie){var de=L(b(ie)*b(Q-H)),ye=L(b(ie)*b(Q-V));return[((de*=de)-(ye*=ye))/(2*z),(ie<0?-1:1)*C(4*K*ye-(K-de+ye)*(K-de+ye))/(2*z)]}return B.invert=function(Q,ie){var de,ye,Le=ie*ie,Ne=b(C(Le+(de=Q+H)*de)),Ve=b(C(Le+(de=Q+V)*de));return[T(ye=Ne-Ve,de=(Ne+Ve)*he),(ie<0?-1:1)*L(C(de*de+ye*ye)*Ae)]},B}function js(){return Po([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Po(z,H){return Ti(Ua,z,H)}function $o(z,H){if(k(H)<c)return[z,0];var V=k(H/h),K=E(V);if(k(z)<c||k(k(H)-h)<c)return[0,s(H)*g*p(K/2)];var he=b(K),Ae=k(g/z-z/g)/2,B=Ae*Ae,Q=he/(V+he-1),ie=Q*(2/V-1),de=ie*ie,ye=de+B,Le=Q-de,Ne=B+Q;return[s(z)*g*(Ae*Le+C(B*Le*Le-ye*(Q*Q-de)))/ye,s(H)*g*(ie*Ne-Ae*C((B+1)*ye-Ne*Ne))/ye]}function Ci(){return(0,A.Z)($o).scale(79.4183)}function Xi(z,H){if(k(H)<c)return[z,0];var V=k(H/h),K=E(V);if(k(z)<c||k(k(H)-h)<c)return[0,s(H)*g*p(K/2)];var he=b(K),Ae=k(g/z-z/g)/2,B=Ae*Ae,Q=he*(C(1+B)-Ae*he)/(1+B*V*V);return[s(z)*g*Q,s(H)*g*C(1-Q*(2*Ae+Q))]}function Mr(){return(0,A.Z)(Xi).scale(79.4183)}function Sr(z,H){if(k(H)<c)return[z,0];var V=H/h,K=E(V);if(k(z)<c||k(k(H)-h)<c)return[0,g*p(K/2)];var he=(g/z-z/g)/2,Ae=V/(1+b(K));return[g*(s(z)*C(he*he+1-Ae*Ae)-he),g*Ae]}function cs(){return(0,A.Z)(Sr).scale(79.4183)}function oa(z,H){if(!H)return[z,0];var V=k(H);if(!z||V===h)return[0,H];var K=V/h,he=K*K,Ae=(8*K-he*(he+2)-5)/(2*he*(K-1)),B=Ae*Ae,Q=K*Ae,ie=he+B+2*Q,de=K+3*Ae,ye=z/h,Le=ye+1/ye,Ne=s(k(z)-h)*C(Le*Le-4),Ve=Ne*Ne,Ge=(Ne*(ie+B-1)+2*C(ie*(he+B*Ve-1)+(1-he)*(he*(de*de+4*B)+12*Q*B+4*B*B)))/(4*ie+Ve);return[s(z)*h*Ge,s(H)*h*C(1+Ne*k(Ge)-Ge*Ge)]}function Oo(){return(0,A.Z)(oa).scale(127.16)}function Ji(z,H,V,K){var he=g/3;z=i(z,c),H=i(H,c),z=r(z,h),H=r(H,g-c),V=i(V,0),V=r(V,100-c);var Ae=(K=i(K,c))/100,B=L((V/100+1)*b(he))/he,Q=u(z)/u(B*h),ie=H/g,de=C(Ae*u(z/2)/u(H/2));return function(ye,Le,Ne,Ve,Ge){function Ye($e,lt){var ht=Ne*u(Ve*lt),Et=C(1-ht*ht),Ct=C(2/(1+Et*b($e*=Ge)));return[ye*Et*Ct*u($e),Le*ht*Ct]}return Ye.invert=function($e,lt){var ht=$e/ye,Et=lt/Le,Ct=C(ht*ht+Et*Et),St=2*E(Ct/2);return[T($e*p(St),ye*Ct)/Ge,Ct&&E(lt*u(St)/(Le*Ne*Ct))/Ve]},Ye}(de/C(ie*Q*B),1/(de*C(ie*Q*B)),Q,B,ie)}function fs(){var z=65*w,H=60*w,V=20,K=200,he=(0,A.r)(Ji),Ae=he(z,H,V,K);return Ae.poleline=function(B){return arguments.length?he(z=+B*w,H,V,K):z*S},Ae.parallels=function(B){return arguments.length?he(z,H=+B*w,V,K):H*S},Ae.inflation=function(B){return arguments.length?he(z,H,V=+B,K):V},Ae.ratio=function(B){return arguments.length?he(z,H,V,K=+B):K},Ae.scale(163.775)}function Ki(){return fs().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}Ka.invert=function(z,H){var V=H/1.70711,K=u(y*V);return[z/(.74482-.34588*K*K),2*l(V)]},$o.invert=function(z,H){if(k(H)<c)return[z,0];if(k(z)<c)return[0,h*u(2*l(H/g))];var V=(z/=g)*z,K=(H/=g)*H,he=V+K,Ae=he*he,B=-k(H)*(1+he),Q=B-2*K+V,ie=-2*B+1+2*K+Ae,de=K/ie+(2*Q*Q*Q/(ie*ie*ie)-9*B*Q/(ie*ie))/27,ye=(B-Q*Q/(3*ie))/ie,Le=2*C(-ye/3),Ne=L(3*de/(ye*Le))/3;return[g*(he-1+C(1+2*(V-K)+Ae))/(2*z),s(H)*g*(-Le*b(Ne+g/3)-Q/(3*ie))]},Xi.invert=function(z,H){if(!z)return[0,h*u(2*l(H/g))];var V=k(z/g),K=(1-V*V-(H/=g)*H)/(2*V),he=C(K*K+1);return[s(z)*g*(he-K),s(H)*h*u(2*T(C((1-2*K*V)*(K+he)-V),C(he+K+V)))]},Sr.invert=function(z,H){if(!H)return[z,0];var V=H/g,K=(g*g*(1-V*V)-z*z)/(2*g*z);return[z?g*(s(z)*C(K*K+1)-K):0,h*u(2*l(V))]},oa.invert=function(z,H){var V;if(!z||!H)return[z,H];H/=g;var K=s(z)*z/h,he=(K*K-1+4*H*H)/k(K),Ae=he*he,B=2*H,Q=50;do{var ie=B*B,de=(8*B-ie*(ie+2)-5)/(2*ie*(B-1)),ye=(3*B-ie*B-10)/(2*ie*B),Le=de*de,Ne=B*de,Ve=B+de,Ge=Ve*Ve,Ye=B+3*de,$e=-2*Ve*(4*Ne*Le+(1-4*ie+3*ie*ie)*(1+ye)+Le*(14*ie-6-Ae+(8*ie-8-2*Ae)*ye)+Ne*(12*ie-8+(10*ie-10-Ae)*ye)),lt=C(Ge*(ie+Le*Ae-1)+(1-ie)*(ie*(Ye*Ye+4*Le)+Le*(12*Ne+4*Le)));B-=V=(he*(Ge+Le-1)+2*lt-K*(4*Ge+Ae))/(he*(2*de*ye+2*Ve*(1+ye))+$e/lt-8*Ve*(he*(-1+Le+Ge)+2*lt)*(1+ye)/(Ae+4*Ge))}while(V>c&&--Q>0);return[s(z)*(C(he*he+4)+he)*g/4,h*B]};var Io=4*g+3*C(3),Do=2*C(2*g*C(3)/Io),Or=we(Do*C(3)/g,Do,Io/6);function Fi(){return(0,A.Z)(Or).scale(176.84)}function Qa(z,H){return[z*C(1-3*H*H/(g*g)),H]}function va(){return(0,A.Z)(Qa).scale(152.63)}function Qo(z,H){var V=b(H),K=b(z)*V,he=1-K,Ae=b(z=T(u(z)*V,-u(H))),B=u(z);return[B*(V=C(1-K*K))-Ae*he,-Ae*V-B*he]}function hs(){return(0,A.Z)(Qo).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function es(z,H){var V=U(z,H);return[(V[0]+z/h)/2,(V[1]+H)/2]}function go(){return(0,A.Z)(es).scale(158.837)}Qa.invert=function(z,H){return[z/C(1-3*H*H/(g*g)),H]},Qo.invert=function(z,H){var V=(z*z+H*H)/-2,K=C(-V*(2+V)),he=H*V+z*K,Ae=z*V-H*K,B=C(Ae*Ae+he*he);return[T(K*he,B*(1+V)),B?-E(K*Ae/B):0]},es.invert=function(z,H){var V=z,K=H,he=25;do{var Ae,B=b(K),Q=u(K),ie=u(2*K),de=Q*Q,ye=B*B,Le=u(V),Ne=b(V/2),Ve=u(V/2),Ge=Ve*Ve,Ye=1-ye*Ne*Ne,$e=Ye?L(B*Ne)*C(Ae=1/Ye):Ae=0,lt=.5*(2*$e*B*Ve+V/h)-z,ht=.5*($e*Q+K)-H,Et=.5*Ae*(ye*Ge+$e*B*Ne*de)+.5/h,Ct=Ae*(Le*ie/4-$e*Q*Ve),St=.125*Ae*(ie*Ve-$e*Q*ye*Le),zt=.5*Ae*(de*Ne+$e*Ge*B)+.5,Lt=Ct*St-zt*Et,en=(ht*Ct-lt*zt)/Lt,Zt=(lt*St-ht*Et)/Lt;V-=en,K-=Zt}while((k(en)>c||k(Zt)>c)&&--he>0);return[V,K]}},33940:function(ee,D,e){"use strict";function A(){return new k}function k(){this.reset()}e.d(D,{Z:function(){return A}}),k.prototype={constructor:k,reset:function(){this.s=this.t=0},add:function(b){T(l,b,this.t),T(this,l.s,this.s),this.s?this.t+=l.t:this.s=l.t},valueOf:function(){return this.s}};var l=new k;function T(b,d,a){var t=b.s=d+a,i=t-d;b.t=d-(t-i)+(a-i)}},97860:function(ee,D,e){"use strict";e.d(D,{L9:function(){return r},ZP:function(){return x},gL:function(){return o}});var A,k,l,T,b,d=e(33940),a=e(39695),t=e(73182),i=e(72736),r=(0,d.Z)(),n=(0,d.Z)(),o={point:t.Z,lineStart:t.Z,lineEnd:t.Z,polygonStart:function(){r.reset(),o.lineStart=s,o.lineEnd=u},polygonEnd:function(){var g=+r;n.add(g<0?a.BZ+g:g),this.lineStart=this.lineEnd=this.point=t.Z},sphere:function(){n.add(a.BZ)}};function s(){o.point=p}function u(){c(A,k)}function p(g,h){o.point=c,A=g,k=h,l=g*=a.uR,T=(0,a.mC)(h=(h*=a.uR)/2+a.pu),b=(0,a.O$)(h)}function c(g,h){h=(h*=a.uR)/2+a.pu;var y=(g*=a.uR)-l,v=y>=0?1:-1,m=v*y,_=(0,a.mC)(h),f=(0,a.O$)(h),S=b*f,w=T*_+S*(0,a.mC)(m),E=S*v*(0,a.O$)(m);r.add((0,a.fv)(E,w)),l=g,T=_,b=f}function x(g){return n.reset(),(0,i.Z)(g,o),2*n}},77338:function(ee,D,e){"use strict";e.d(D,{Z:function(){return L}});var A,k,l,T,b,d,a,t,i,r,n=e(33940),o=e(97860),s=e(7620),u=e(39695),p=e(72736),c=(0,n.Z)(),x={point:g,lineStart:y,lineEnd:v,polygonStart:function(){x.point=m,x.lineStart=_,x.lineEnd=f,c.reset(),o.gL.polygonStart()},polygonEnd:function(){o.gL.polygonEnd(),x.point=g,x.lineStart=y,x.lineEnd=v,o.L9<0?(A=-(l=180),k=-(T=90)):c>u.Ho?T=90:c<-u.Ho&&(k=-90),r[0]=A,r[1]=l},sphere:function(){A=-(l=180),k=-(T=90)}};function g(C,O){i.push(r=[A=C,l=C]),O<k&&(k=O),O>T&&(T=O)}function h(C,O){var R=(0,s.Og)([C*u.uR,O*u.uR]);if(t){var q=(0,s.T5)(t,R),U=(0,s.T5)([q[1],-q[0],0],q);(0,s.iJ)(U),U=(0,s.Y1)(U);var N,F=C-b,j=F>0?1:-1,G=U[0]*u.RW*j,te=(0,u.Wn)(F)>180;te^(j*b<G&&G<j*C)?(N=U[1]*u.RW)>T&&(T=N):te^(j*b<(G=(G+360)%360-180)&&G<j*C)?(N=-U[1]*u.RW)<k&&(k=N):(O<k&&(k=O),O>T&&(T=O)),te?C<b?S(A,C)>S(A,l)&&(l=C):S(C,l)>S(A,l)&&(A=C):l>=A?(C<A&&(A=C),C>l&&(l=C)):C>b?S(A,C)>S(A,l)&&(l=C):S(C,l)>S(A,l)&&(A=C)}else i.push(r=[A=C,l=C]);O<k&&(k=O),O>T&&(T=O),t=R,b=C}function y(){x.point=h}function v(){r[0]=A,r[1]=l,x.point=g,t=null}function m(C,O){if(t){var R=C-b;c.add((0,u.Wn)(R)>180?R+(R>0?360:-360):R)}else d=C,a=O;o.gL.point(C,O),h(C,O)}function _(){o.gL.lineStart()}function f(){m(d,a),o.gL.lineEnd(),(0,u.Wn)(c)>u.Ho&&(A=-(l=180)),r[0]=A,r[1]=l,t=null}function S(C,O){return(O-=C)<0?O+360:O}function w(C,O){return C[0]-O[0]}function E(C,O){return C[0]<=C[1]?C[0]<=O&&O<=C[1]:O<C[0]||C[1]<O}function L(C){var O,R,q,P,U,N,F;if(T=l=-(A=k=1/0),i=[],(0,p.Z)(C,x),R=i.length){for(i.sort(w),O=1,U=[q=i[0]];O<R;++O)E(q,(P=i[O])[0])||E(q,P[1])?(S(q[0],P[1])>S(q[0],q[1])&&(q[1]=P[1]),S(P[0],q[1])>S(q[0],q[1])&&(q[0]=P[0])):U.push(q=P);for(N=-1/0,O=0,q=U[R=U.length-1];O<=R;q=P,++O)(F=S(q[1],(P=U[O])[0]))>N&&(N=F,A=P[0],l=q[1])}return i=r=null,A===1/0||k===1/0?[[NaN,NaN],[NaN,NaN]]:[[A,k],[l,T]]}},7620:function(ee,D,e){"use strict";e.d(D,{Og:function(){return l},T:function(){return a},T5:function(){return b},Y1:function(){return k},iJ:function(){return t},j9:function(){return T},s0:function(){return d}});var A=e(39695);function k(i){return[(0,A.fv)(i[1],i[0]),(0,A.ZR)(i[2])]}function l(i){var r=i[0],n=i[1],o=(0,A.mC)(n);return[o*(0,A.mC)(r),o*(0,A.O$)(r),(0,A.O$)(n)]}function T(i,r){return i[0]*r[0]+i[1]*r[1]+i[2]*r[2]}function b(i,r){return[i[1]*r[2]-i[2]*r[1],i[2]*r[0]-i[0]*r[2],i[0]*r[1]-i[1]*r[0]]}function d(i,r){i[0]+=r[0],i[1]+=r[1],i[2]+=r[2]}function a(i,r){return[i[0]*r,i[1]*r,i[2]*r]}function t(i){var r=(0,A._b)(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=r,i[1]/=r,i[2]/=r}},66624:function(ee,D,e){"use strict";e.d(D,{Z:function(){return R}});var A,k,l,T,b,d,a,t,i,r,n,o,s,u,p,c,x=e(39695),g=e(73182),h=e(72736),y={sphere:g.Z,point:v,lineStart:_,lineEnd:w,polygonStart:function(){y.lineStart=E,y.lineEnd=L},polygonEnd:function(){y.lineStart=_,y.lineEnd=w}};function v(q,P){q*=x.uR;var U=(0,x.mC)(P*=x.uR);m(U*(0,x.mC)(q),U*(0,x.O$)(q),(0,x.O$)(P))}function m(q,P,U){++A,l+=(q-l)/A,T+=(P-T)/A,b+=(U-b)/A}function _(){y.point=f}function f(q,P){q*=x.uR;var U=(0,x.mC)(P*=x.uR);u=U*(0,x.mC)(q),p=U*(0,x.O$)(q),c=(0,x.O$)(P),y.point=S,m(u,p,c)}function S(q,P){q*=x.uR;var U=(0,x.mC)(P*=x.uR),N=U*(0,x.mC)(q),F=U*(0,x.O$)(q),j=(0,x.O$)(P),G=(0,x.fv)((0,x._b)((G=p*j-c*F)*G+(G=c*N-u*j)*G+(G=u*F-p*N)*G),u*N+p*F+c*j);k+=G,d+=G*(u+(u=N)),a+=G*(p+(p=F)),t+=G*(c+(c=j)),m(u,p,c)}function w(){y.point=v}function E(){y.point=C}function L(){O(o,s),y.point=v}function C(q,P){o=q,s=P,q*=x.uR,P*=x.uR,y.point=O;var U=(0,x.mC)(P);u=U*(0,x.mC)(q),p=U*(0,x.O$)(q),c=(0,x.O$)(P),m(u,p,c)}function O(q,P){q*=x.uR;var U=(0,x.mC)(P*=x.uR),N=U*(0,x.mC)(q),F=U*(0,x.O$)(q),j=(0,x.O$)(P),G=p*j-c*F,te=c*N-u*j,J=u*F-p*N,X=(0,x._b)(G*G+te*te+J*J),Y=(0,x.ZR)(X),W=X&&-Y/X;i+=W*G,r+=W*te,n+=W*J,k+=Y,d+=Y*(u+(u=N)),a+=Y*(p+(p=F)),t+=Y*(c+(c=j)),m(u,p,c)}function R(q){A=k=l=T=b=d=a=t=i=r=n=0,(0,h.Z)(q,y);var P=i,U=r,N=n,F=P*P+U*U+N*N;return F<x.aW&&(P=d,U=a,N=t,k<x.Ho&&(P=l,U=T,N=b),(F=P*P+U*U+N*N)<x.aW)?[NaN,NaN]:[(0,x.fv)(U,P)*x.RW,(0,x.ZR)(N/(0,x._b)(F))*x.RW]}},7613:function(ee,D,e){"use strict";e.d(D,{m:function(){return b},Z:function(){return a}});var A=e(7620);function k(t){return function(){return t}}var l=e(39695),T=e(49386);function b(t,i,r,n,o,s){if(r){var u=(0,l.mC)(i),p=(0,l.O$)(i),c=n*r;null==o?(o=i+n*l.BZ,s=i-c/2):(o=d(u,o),s=d(u,s),(n>0?o<s:o>s)&&(o+=n*l.BZ));for(var x,g=o;n>0?g>s:g<s;g-=c)x=(0,A.Y1)([u,-p*(0,l.mC)(g),-p*(0,l.O$)(g)]),t.point(x[0],x[1])}}function d(t,i){(i=(0,A.Og)(i))[0]-=t,(0,A.iJ)(i);var r=(0,l.Kh)(-i[1]);return((-i[2]<0?-r:r)+l.BZ-l.Ho)%l.BZ}function a(){var t,i,r=k([0,0]),n=k(90),o=k(6),s={point:function(p,c){t.push(p=i(p,c)),p[0]*=l.RW,p[1]*=l.RW}};function u(){var p=r.apply(this,arguments),c=n.apply(this,arguments)*l.uR,x=o.apply(this,arguments)*l.uR;return t=[],i=(0,T.I)(-p[0]*l.uR,-p[1]*l.uR,0).invert,b(s,c,x,1),p={type:"Polygon",coordinates:[t]},t=i=null,p}return u.center=function(p){return arguments.length?(r="function"==typeof p?p:k([+p[0],+p[1]]),u):r},u.radius=function(p){return arguments.length?(n="function"==typeof p?p:k(+p),u):n},u.precision=function(p){return arguments.length?(o="function"==typeof p?p:k(+p),u):o},u}},87070:function(ee,D,e){"use strict";var A=e(97023),k=e(39695);D.Z=(0,A.Z)(function(){return!0},function(l){var T,b=NaN,d=NaN,a=NaN;return{lineStart:function(){l.lineStart(),T=1},point:function(t,i){var o,s,u,p,c,x,g,r=t>0?k.pi:-k.pi,n=(0,k.Wn)(t-b);(0,k.Wn)(n-k.pi)<k.Ho?(l.point(b,d=(d+i)/2>0?k.ou:-k.ou),l.point(a,d),l.lineEnd(),l.lineStart(),l.point(r,d),l.point(t,d),T=0):a!==r&&n>=k.pi&&((0,k.Wn)(b-a)<k.Ho&&(b-=a*k.Ho),(0,k.Wn)(t-r)<k.Ho&&(t-=r*k.Ho),s=d,p=i,g=(0,k.O$)((o=b)-(u=t)),d=(0,k.Wn)(g)>k.Ho?(0,k.z4)(((0,k.O$)(s)*(x=(0,k.mC)(p))*(0,k.O$)(u)-(0,k.O$)(p)*(c=(0,k.mC)(s))*(0,k.O$)(o))/(c*x*g)):(s+p)/2,l.point(a,d),l.lineEnd(),l.lineStart(),l.point(r,d),T=0),l.point(b=t,d=i),a=r},lineEnd:function(){l.lineEnd(),b=d=NaN},clean:function(){return 2-T}}},function(l,T,b,d){var a;if(null==l)d.point(-k.pi,a=b*k.ou),d.point(0,a),d.point(k.pi,a),d.point(k.pi,0),d.point(k.pi,-a),d.point(0,-a),d.point(-k.pi,-a),d.point(-k.pi,0),d.point(-k.pi,a);else if((0,k.Wn)(l[0]-T[0])>k.Ho){var t=l[0]<T[0]?k.pi:-k.pi;d.point(-t,a=b*t/2),d.point(0,a),d.point(t,a)}else d.point(T[0],T[1])},[-k.pi,-k.ou])},85272:function(ee,D,e){"use strict";e.d(D,{Z:function(){return k}});var A=e(73182);function k(){var l,T=[];return{point:function(b,d,a){l.push([b,d,a])},lineStart:function(){T.push(l=[])},lineEnd:A.Z,rejoin:function(){T.length>1&&T.push(T.pop().concat(T.shift()))},result:function(){var b=T;return T=[],l=null,b}}}},1457:function(ee,D,e){"use strict";e.d(D,{Z:function(){return d}});var A=e(7620),k=e(7613),l=e(39695),T=e(67108),b=e(97023);function d(a){var t=(0,l.mC)(a),i=6*l.uR,r=t>0,n=(0,l.Wn)(t)>l.Ho;function o(p,c){return(0,l.mC)(p)*(0,l.mC)(c)>t}function s(p,c,x){var g=(0,A.Og)(p),h=(0,A.Og)(c),y=[1,0,0],v=(0,A.T5)(g,h),m=(0,A.j9)(v,v),_=v[0],f=m-_*_;if(!f)return!x&&p;var S=t*m/f,w=-t*_/f,E=(0,A.T5)(y,v),L=(0,A.T)(y,S),C=(0,A.T)(v,w);(0,A.s0)(L,C);var O=E,R=(0,A.j9)(L,O),q=(0,A.j9)(O,O),P=R*R-q*((0,A.j9)(L,L)-1);if(!(P<0)){var U=(0,l._b)(P),N=(0,A.T)(O,(-R-U)/q);if((0,A.s0)(N,L),N=(0,A.Y1)(N),!x)return N;var F,j=p[0],G=c[0],te=p[1],J=c[1];G<j&&(F=j,j=G,G=F);var X=G-j,Y=(0,l.Wn)(X-l.pi)<l.Ho;if(!Y&&J<te&&(F=te,te=J,J=F),Y||X<l.Ho?Y?te+J>0^N[1]<((0,l.Wn)(N[0]-j)<l.Ho?te:J):te<=N[1]&&N[1]<=J:X>l.pi^(j<=N[0]&&N[0]<=G)){var W=(0,A.T)(O,(-R+U)/q);return(0,A.s0)(W,L),[N,(0,A.Y1)(W)]}}}function u(p,c){var x=r?a:l.pi-a,g=0;return p<-x?g|=1:p>x&&(g|=2),c<-x?g|=4:c>x&&(g|=8),g}return(0,b.Z)(o,function(p){var c,x,g,h,y;return{lineStart:function(){h=g=!1,y=1},point:function(v,m){var _,f=[v,m],S=o(v,m),w=r?S?0:u(v,m):S?u(v+(v<0?l.pi:-l.pi),m):0;if(!c&&(h=g=S)&&p.lineStart(),S!==g&&(!(_=s(c,f))||(0,T.Z)(c,_)||(0,T.Z)(f,_))&&(f[2]=1),S!==g)y=0,S?(p.lineStart(),_=s(f,c),p.point(_[0],_[1])):(_=s(c,f),p.point(_[0],_[1],2),p.lineEnd()),c=_;else if(n&&c&&r^S){var E;w&x||!(E=s(f,c,!0))||(y=0,r?(p.lineStart(),p.point(E[0][0],E[0][1]),p.point(E[1][0],E[1][1]),p.lineEnd()):(p.point(E[1][0],E[1][1]),p.lineEnd(),p.lineStart(),p.point(E[0][0],E[0][1],3)))}!S||c&&(0,T.Z)(c,f)||p.point(f[0],f[1]),c=f,g=S,x=w},lineEnd:function(){g&&p.lineEnd(),c=null},clean:function(){return y|(h&&g)<<1}}},function(p,c,x,g){(0,k.m)(g,a,i,x,p,c)},r?[0,-a]:[-l.pi,a-l.pi])}},97023:function(ee,D,e){"use strict";e.d(D,{Z:function(){return d}});var A=e(85272),k=e(46225),l=e(39695),T=e(23071),b=e(33064);function d(i,r,n,o){return function(s){var u,p,c,x=r(s),g=(0,A.Z)(),h=r(g),y=!1,v={point:m,lineStart:f,lineEnd:S,polygonStart:function(){v.point=w,v.lineStart=E,v.lineEnd=L,p=[],u=[]},polygonEnd:function(){v.point=m,v.lineStart=f,v.lineEnd=S,p=(0,b.TS)(p);var C=(0,T.Z)(u,o);p.length?(y||(s.polygonStart(),y=!0),(0,k.Z)(p,t,C,n,s)):C&&(y||(s.polygonStart(),y=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),y&&(s.polygonEnd(),y=!1),p=u=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function m(C,O){i(C,O)&&s.point(C,O)}function _(C,O){x.point(C,O)}function f(){v.point=_,x.lineStart()}function S(){v.point=m,x.lineEnd()}function w(C,O){c.push([C,O]),h.point(C,O)}function E(){h.lineStart(),c=[]}function L(){w(c[0][0],c[0][1]),h.lineEnd();var C,O,R,q,P=h.clean(),U=g.result(),N=U.length;if(c.pop(),u.push(c),c=null,N)if(1&P){if((O=(R=U[0]).length-1)>0){for(y||(s.polygonStart(),y=!0),s.lineStart(),C=0;C<O;++C)s.point((q=R[C])[0],q[1]);s.lineEnd()}}else N>1&&2&P&&U.push(U.pop().concat(U.shift())),p.push(U.filter(a))}return v}}function a(i){return i.length>1}function t(i,r){return((i=i.x)[0]<0?i[1]-l.ou-l.Ho:l.ou-i[1])-((r=r.x)[0]<0?r[1]-l.ou-l.Ho:l.ou-r[1])}},87605:function(ee,D,e){"use strict";e.d(D,{Z:function(){return a}});var A=e(39695),k=e(85272),l=e(46225),T=e(33064),b=1e9,d=-b;function a(t,i,r,n){function o(x,g){return t<=x&&x<=r&&i<=g&&g<=n}function s(x,g,h,y){var v=0,m=0;if(null==x||(v=u(x,h))!==(m=u(g,h))||c(x,g)<0^h>0)do{y.point(0===v||3===v?t:r,v>1?n:i)}while((v=(v+h+4)%4)!==m);else y.point(g[0],g[1])}function u(x,g){return(0,A.Wn)(x[0]-t)<A.Ho?g>0?0:3:(0,A.Wn)(x[0]-r)<A.Ho?g>0?2:1:(0,A.Wn)(x[1]-i)<A.Ho?g>0?1:0:g>0?3:2}function p(x,g){return c(x.x,g.x)}function c(x,g){var h=u(x,1),y=u(g,1);return h!==y?h-y:0===h?g[1]-x[1]:1===h?x[0]-g[0]:2===h?x[1]-g[1]:g[0]-x[0]}return function(x){var g,h,y,v,m,_,f,S,w,E,L,C=x,O=(0,k.Z)(),R={point:q,lineStart:function(){R.point=P,h&&h.push(y=[]),E=!0,w=!1,f=S=NaN},lineEnd:function(){g&&(P(v,m),_&&w&&O.rejoin(),g.push(O.result())),R.point=q,w&&C.lineEnd()},polygonStart:function(){C=O,g=[],h=[],L=!0},polygonEnd:function(){var U=function(){for(var j=0,G=0,te=h.length;G<te;++G)for(var J,X,Y=h[G],W=1,$=Y.length,ne=Y[0],re=ne[0],oe=ne[1];W<$;++W)J=re,X=oe,re=(ne=Y[W])[0],oe=ne[1],X<=n?oe>n&&(re-J)*(n-X)>(oe-X)*(t-J)&&++j:oe<=n&&(re-J)*(n-X)<(oe-X)*(t-J)&&--j;return j}(),N=L&&U,F=(g=(0,T.TS)(g)).length;(N||F)&&(x.polygonStart(),N&&(x.lineStart(),s(null,null,1,x),x.lineEnd()),F&&(0,l.Z)(g,p,U,s,x),x.polygonEnd()),C=x,g=h=y=null}};function q(U,N){o(U,N)&&C.point(U,N)}function P(U,N){var F=o(U,N);if(h&&y.push([U,N]),E)v=U,m=N,_=F,E=!1,F&&(C.lineStart(),C.point(U,N));else if(F&&w)C.point(U,N);else{var j=[f=Math.max(d,Math.min(b,f)),S=Math.max(d,Math.min(b,S))],G=[U=Math.max(d,Math.min(b,U)),N=Math.max(d,Math.min(b,N))];!function(te,J,X,Y,W,$){var ne,re=te[0],oe=te[1],ue=0,xe=1,Me=J[0]-re,me=J[1]-oe;if(ne=X-re,Me||!(ne>0)){if(ne/=Me,Me<0){if(ne<ue)return;ne<xe&&(xe=ne)}else if(Me>0){if(ne>xe)return;ne>ue&&(ue=ne)}if(ne=W-re,Me||!(ne<0)){if(ne/=Me,Me<0){if(ne>xe)return;ne>ue&&(ue=ne)}else if(Me>0){if(ne<ue)return;ne<xe&&(xe=ne)}if(ne=Y-oe,me||!(ne>0)){if(ne/=me,me<0){if(ne<ue)return;ne<xe&&(xe=ne)}else if(me>0){if(ne>xe)return;ne>ue&&(ue=ne)}if(ne=$-oe,me||!(ne<0)){if(ne/=me,me<0){if(ne>xe)return;ne>ue&&(ue=ne)}else if(me>0){if(ne<ue)return;ne<xe&&(xe=ne)}return ue>0&&(te[0]=re+ue*Me,te[1]=oe+ue*me),xe<1&&(J[0]=re+xe*Me,J[1]=oe+xe*me),!0}}}}}(j,G,t,i,r,n)?F&&(C.lineStart(),C.point(U,N),L=!1):(w||(C.lineStart(),C.point(j[0],j[1])),C.point(G[0],G[1]),F||C.lineEnd(),L=!1)}f=U,S=N,w=F}return R}}},46225:function(ee,D,e){"use strict";e.d(D,{Z:function(){return T}});var A=e(67108),k=e(39695);function l(d,a,t,i){this.x=d,this.z=a,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function T(d,a,t,i,r){var n,o,s=[],u=[];if(d.forEach(function(y){if(!((v=y.length-1)<=0)){var v,m,_=y[0],f=y[v];if((0,A.Z)(_,f)){if(!_[2]&&!f[2]){for(r.lineStart(),n=0;n<v;++n)r.point((_=y[n])[0],_[1]);return void r.lineEnd()}f[0]+=2*k.Ho}s.push(m=new l(_,y,null,!0)),u.push(m.o=new l(_,null,m,!1)),s.push(m=new l(f,y,null,!1)),u.push(m.o=new l(f,null,m,!0))}}),s.length){for(u.sort(a),b(s),b(u),n=0,o=u.length;n<o;++n)u[n].e=t=!t;for(var p,c,x=s[0];;){for(var g=x,h=!0;g.v;)if((g=g.n)===x)return;p=g.z,r.lineStart();do{if(g.v=g.o.v=!0,g.e){if(h)for(n=0,o=p.length;n<o;++n)r.point((c=p[n])[0],c[1]);else i(g.x,g.n.x,1,r);g=g.n}else{if(h)for(n=(p=g.p.z).length-1;n>=0;--n)r.point((c=p[n])[0],c[1]);else i(g.x,g.p.x,-1,r);g=g.p}p=(g=g.o).z,h=!h}while(!g.v);r.lineEnd()}}}function b(d){if(a=d.length){for(var a,t,i=0,r=d[0];++i<a;)r.n=t=d[i],t.p=r,r=t;r.n=t=d[0],t.p=r}}},96059:function(ee,D,e){"use strict";function A(k,l){function T(b,d){return b=k(b,d),l(b[0],b[1])}return k.invert&&l.invert&&(T.invert=function(b,d){return(b=l.invert(b,d))&&k.invert(b[0],b[1])}),T}e.d(D,{Z:function(){return A}})},8593:function(ee,D,e){"use strict";function A(k){return k}e.d(D,{Z:function(){return A}})},27362:function(ee,D,e){"use strict";e.r(D),e.d(D,{geoAlbers:function(){return vt},geoAlbersUsa:function(){return wt},geoArea:function(){return A.ZP},geoAzimuthalEqualArea:function(){return ct.Z},geoAzimuthalEqualAreaRaw:function(){return ct.l},geoAzimuthalEquidistant:function(){return ft.Z},geoAzimuthalEquidistantRaw:function(){return ft.N},geoBounds:function(){return k.Z},geoCentroid:function(){return l.Z},geoCircle:function(){return T.Z},geoClipAntimeridian:function(){return b.Z},geoClipCircle:function(){return d.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return a.Z},geoConicConformal:function(){return Yt},geoConicConformalRaw:function(){return jt},geoConicEqualArea:function(){return pt},geoConicEqualAreaRaw:function(){return gt},geoConicEquidistant:function(){return yn},geoConicEquidistantRaw:function(){return hn},geoContains:function(){return U},geoDistance:function(){return S},geoEqualEarth:function(){return gn},geoEqualEarthRaw:function(){return fn},geoEquirectangular:function(){return Gt.Z},geoEquirectangularRaw:function(){return Gt.k},geoGnomonic:function(){return An.Z},geoGnomonicRaw:function(){return An.M},geoGraticule:function(){return G},geoGraticule10:function(){return te},geoIdentity:function(){return bn},geoInterpolate:function(){return $.Z},geoLength:function(){return m},geoMercator:function(){return Dt},geoMercatorRaw:function(){return It},geoNaturalEarth1:function(){return Ln.Z},geoNaturalEarth1Raw:function(){return Ln.K},geoOrthographic:function(){return Wn.Z},geoOrthographicRaw:function(){return Wn.I},geoPath:function(){return Be},geoProjection:function(){return tt.Z},geoProjectionMutator:function(){return tt.r},geoRotation:function(){return bt.Z},geoStereographic:function(){return $n},geoStereographicRaw:function(){return ir},geoStream:function(){return c.Z},geoTransform:function(){return En.Z},geoTransverseMercator:function(){return dr},geoTransverseMercatorRaw:function(){return qn}});var A=e(97860),k=e(77338),l=e(66624),T=e(7613),b=e(87070),d=e(1457),a=e(87605);function t(){var Ft,tn,cn,dn=0,kn=0,Vn=960,In=500;return cn={stream:function(Dn){return Ft&&tn===Dn?Ft:Ft=(0,a.Z)(dn,kn,Vn,In)(tn=Dn)},extent:function(Dn){return arguments.length?(dn=+Dn[0][0],kn=+Dn[0][1],Vn=+Dn[1][0],In=+Dn[1][1],Ft=tn=null,cn):[[dn,kn],[Vn,In]]}}}var i,r,n,o=e(23071),s=e(33940),u=e(39695),p=e(73182),c=e(72736),x=(0,s.Z)(),g={sphere:p.Z,point:p.Z,lineStart:function(){g.point=y,g.lineEnd=h},lineEnd:p.Z,polygonStart:p.Z,polygonEnd:p.Z};function h(){g.point=g.lineEnd=p.Z}function y(Ft,tn){i=Ft*=u.uR,r=(0,u.O$)(tn*=u.uR),n=(0,u.mC)(tn),g.point=v}function v(Ft,tn){Ft*=u.uR;var cn=(0,u.O$)(tn*=u.uR),dn=(0,u.mC)(tn),kn=(0,u.Wn)(Ft-i),Vn=(0,u.mC)(kn),In=dn*(0,u.O$)(kn),Dn=n*cn-r*dn*Vn,Kn=r*cn+n*dn*Vn;x.add((0,u.fv)((0,u._b)(In*In+Dn*Dn),Kn)),i=Ft,r=cn,n=dn}function m(Ft){return x.reset(),(0,c.Z)(Ft,g),+x}var _=[null,null],f={type:"LineString",coordinates:_};function S(Ft,tn){return _[0]=Ft,_[1]=tn,m(f)}var w={Feature:function(Ft,tn){return L(Ft.geometry,tn)},FeatureCollection:function(Ft,tn){for(var cn=Ft.features,dn=-1,kn=cn.length;++dn<kn;)if(L(cn[dn].geometry,tn))return!0;return!1}},E={Sphere:function(){return!0},Point:function(Ft,tn){return C(Ft.coordinates,tn)},MultiPoint:function(Ft,tn){for(var cn=Ft.coordinates,dn=-1,kn=cn.length;++dn<kn;)if(C(cn[dn],tn))return!0;return!1},LineString:function(Ft,tn){return O(Ft.coordinates,tn)},MultiLineString:function(Ft,tn){for(var cn=Ft.coordinates,dn=-1,kn=cn.length;++dn<kn;)if(O(cn[dn],tn))return!0;return!1},Polygon:function(Ft,tn){return R(Ft.coordinates,tn)},MultiPolygon:function(Ft,tn){for(var cn=Ft.coordinates,dn=-1,kn=cn.length;++dn<kn;)if(R(cn[dn],tn))return!0;return!1},GeometryCollection:function(Ft,tn){for(var cn=Ft.geometries,dn=-1,kn=cn.length;++dn<kn;)if(L(cn[dn],tn))return!0;return!1}};function L(Ft,tn){return!(!Ft||!E.hasOwnProperty(Ft.type))&&E[Ft.type](Ft,tn)}function C(Ft,tn){return 0===S(Ft,tn)}function O(Ft,tn){for(var cn,dn,kn,Vn=0,In=Ft.length;Vn<In;Vn++){if(0===(dn=S(Ft[Vn],tn))||Vn>0&&(kn=S(Ft[Vn],Ft[Vn-1]))>0&&cn<=kn&&dn<=kn&&(cn+dn-kn)*(1-Math.pow((cn-dn)/kn,2))<u.aW*kn)return!0;cn=dn}return!1}function R(Ft,tn){return!!(0,o.Z)(Ft.map(q),P(tn))}function q(Ft){return(Ft=Ft.map(P)).pop(),Ft}function P(Ft){return[Ft[0]*u.uR,Ft[1]*u.uR]}function U(Ft,tn){return(Ft&&w.hasOwnProperty(Ft.type)?w[Ft.type]:L)(Ft,tn)}var N=e(33064);function F(Ft,tn,cn){var dn=(0,N.w6)(Ft,tn-u.Ho,cn).concat(tn);return function(kn){return dn.map(function(Vn){return[kn,Vn]})}}function j(Ft,tn,cn){var dn=(0,N.w6)(Ft,tn-u.Ho,cn).concat(tn);return function(kn){return dn.map(function(Vn){return[Vn,kn]})}}function G(){var Ft,tn,cn,dn,kn,Vn,In,Dn,Kn,Vt,_n,Mt,qt=10,Kt=qt,mn=90,xn=360,Mn=2.5;function ln(){return{type:"MultiLineString",coordinates:Wt()}}function Wt(){return(0,N.w6)((0,u.mD)(dn/mn)*mn,cn,mn).map(_n).concat((0,N.w6)((0,u.mD)(Dn/xn)*xn,In,xn).map(Mt)).concat((0,N.w6)((0,u.mD)(tn/qt)*qt,Ft,qt).filter(function(Jt){return(0,u.Wn)(Jt%mn)>u.Ho}).map(Kn)).concat((0,N.w6)((0,u.mD)(Vn/Kt)*Kt,kn,Kt).filter(function(Jt){return(0,u.Wn)(Jt%xn)>u.Ho}).map(Vt))}return ln.lines=function(){return Wt().map(function(Jt){return{type:"LineString",coordinates:Jt}})},ln.outline=function(){return{type:"Polygon",coordinates:[_n(dn).concat(Mt(In).slice(1),_n(cn).reverse().slice(1),Mt(Dn).reverse().slice(1))]}},ln.extent=function(Jt){return arguments.length?ln.extentMajor(Jt).extentMinor(Jt):ln.extentMinor()},ln.extentMajor=function(Jt){return arguments.length?(Dn=+Jt[0][1],In=+Jt[1][1],(dn=+Jt[0][0])>(cn=+Jt[1][0])&&(Jt=dn,dn=cn,cn=Jt),Dn>In&&(Jt=Dn,Dn=In,In=Jt),ln.precision(Mn)):[[dn,Dn],[cn,In]]},ln.extentMinor=function(Jt){return arguments.length?(Vn=+Jt[0][1],kn=+Jt[1][1],(tn=+Jt[0][0])>(Ft=+Jt[1][0])&&(Jt=tn,tn=Ft,Ft=Jt),Vn>kn&&(Jt=Vn,Vn=kn,kn=Jt),ln.precision(Mn)):[[tn,Vn],[Ft,kn]]},ln.step=function(Jt){return arguments.length?ln.stepMajor(Jt).stepMinor(Jt):ln.stepMinor()},ln.stepMajor=function(Jt){return arguments.length?(mn=+Jt[0],xn=+Jt[1],ln):[mn,xn]},ln.stepMinor=function(Jt){return arguments.length?(qt=+Jt[0],Kt=+Jt[1],ln):[qt,Kt]},ln.precision=function(Jt){return arguments.length?(Mn=+Jt,Kn=F(Vn,kn,90),Vt=j(tn,Ft,Mn),_n=F(Dn,In,90),Mt=j(dn,cn,Mn),ln):Mn},ln.extentMajor([[-180,-90+u.Ho],[180,90-u.Ho]]).extentMinor([[-180,-80-u.Ho],[180,80+u.Ho]])}function te(){return G()()}var J,X,Y,W,$=e(83074),ne=e(8593),re=(0,s.Z)(),oe=(0,s.Z)(),ue={point:p.Z,lineStart:p.Z,lineEnd:p.Z,polygonStart:function(){ue.lineStart=xe,ue.lineEnd=pe},polygonEnd:function(){ue.lineStart=ue.lineEnd=ue.point=p.Z,re.add((0,u.Wn)(oe)),oe.reset()},result:function(){var Ft=re/2;return re.reset(),Ft}};function xe(){ue.point=Me}function Me(Ft,tn){ue.point=me,J=Y=Ft,X=W=tn}function me(Ft,tn){oe.add(W*Ft-Y*tn),Y=Ft,W=tn}function pe(){me(J,X)}var ge,Pe,_e,we,se=ue,ae=e(3559),fe=0,Ee=0,ke=0,be=0,Ie=0,Fe=0,ce=0,Te=0,ve=0,Ce={point:Re,lineStart:Oe,lineEnd:Je,polygonStart:function(){Ce.lineStart=it,Ce.lineEnd=Qe},polygonEnd:function(){Ce.point=Re,Ce.lineStart=Oe,Ce.lineEnd=Je},result:function(){var Ft=ve?[ce/ve,Te/ve]:Fe?[be/Fe,Ie/Fe]:ke?[fe/ke,Ee/ke]:[NaN,NaN];return fe=Ee=ke=be=Ie=Fe=ce=Te=ve=0,Ft}};function Re(Ft,tn){fe+=Ft,Ee+=tn,++ke}function Oe(){Ce.point=je}function je(Ft,tn){Ce.point=qe,Re(_e=Ft,we=tn)}function qe(Ft,tn){var cn=Ft-_e,dn=tn-we,kn=(0,u._b)(cn*cn+dn*dn);be+=kn*(_e+Ft)/2,Ie+=kn*(we+tn)/2,Fe+=kn,Re(_e=Ft,we=tn)}function Je(){Ce.point=Re}function it(){Ce.point=dt}function Qe(){yt(ge,Pe)}function dt(Ft,tn){Ce.point=yt,Re(ge=_e=Ft,Pe=we=tn)}function yt(Ft,tn){var cn=Ft-_e,dn=tn-we,kn=(0,u._b)(cn*cn+dn*dn);be+=kn*(_e+Ft)/2,Ie+=kn*(we+tn)/2,Fe+=kn,ce+=(kn=we*Ft-_e*tn)*(_e+Ft),Te+=kn*(we+tn),ve+=3*kn,Re(_e=Ft,we=tn)}var mt=Ce;function at(Ft){this._context=Ft}at.prototype={_radius:4.5,pointRadius:function(Ft){return this._radius=Ft,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(Ft,tn){switch(this._point){case 0:this._context.moveTo(Ft,tn),this._point=1;break;case 1:this._context.lineTo(Ft,tn);break;default:this._context.moveTo(Ft+this._radius,tn),this._context.arc(Ft,tn,this._radius,0,u.BZ)}},result:p.Z};var st,Tt,At,Pt,kt,Ze=(0,s.Z)(),Xe={point:p.Z,lineStart:function(){Xe.point=He},lineEnd:function(){st&&We(Tt,At),Xe.point=p.Z},polygonStart:function(){st=!0},polygonEnd:function(){st=null},result:function(){var Ft=+Ze;return Ze.reset(),Ft}};function He(Ft,tn){Xe.point=We,Tt=Pt=Ft,At=kt=tn}function We(Ft,tn){Ze.add((0,u._b)((Pt-=Ft)*Pt+(kt-=tn)*kt)),Pt=Ft,kt=tn}var rt=Xe;function nt(){this._string=[]}function ze(Ft){return"m0,"+Ft+"a"+Ft+","+Ft+" 0 1,1 0,"+-2*Ft+"a"+Ft+","+Ft+" 0 1,1 0,"+2*Ft+"z"}function Be(Ft,tn){var cn,dn,kn=4.5;function Vn(In){return In&&("function"==typeof kn&&dn.pointRadius(+kn.apply(this,arguments)),(0,c.Z)(In,cn(dn))),dn.result()}return Vn.area=function(In){return(0,c.Z)(In,cn(se)),se.result()},Vn.measure=function(In){return(0,c.Z)(In,cn(rt)),rt.result()},Vn.bounds=function(In){return(0,c.Z)(In,cn(ae.Z)),ae.Z.result()},Vn.centroid=function(In){return(0,c.Z)(In,cn(mt)),mt.result()},Vn.projection=function(In){return arguments.length?(cn=null==In?(Ft=null,ne.Z):(Ft=In).stream,Vn):Ft},Vn.context=function(In){return arguments.length?(dn=null==In?(tn=null,new nt):new at(tn=In),"function"!=typeof kn&&dn.pointRadius(kn),Vn):tn},Vn.pointRadius=function(In){return arguments.length?(kn="function"==typeof In?In:(dn.pointRadius(+In),+In),Vn):kn},Vn.projection(Ft).context(tn)}nt.prototype={_radius:4.5,_circle:ze(4.5),pointRadius:function(Ft){return(Ft=+Ft)!==this._radius&&(this._radius=Ft,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(Ft,tn){switch(this._point){case 0:this._string.push("M",Ft,",",tn),this._point=1;break;case 1:this._string.push("L",Ft,",",tn);break;default:null==this._circle&&(this._circle=ze(this._radius)),this._string.push("M",Ft,",",tn,this._circle)}},result:function(){if(this._string.length){var Ft=this._string.join("");return this._string=[],Ft}return null}};var tt=e(15002);function et(Ft){var tn=0,cn=u.pi/3,dn=(0,tt.r)(Ft),kn=dn(tn,cn);return kn.parallels=function(Vn){return arguments.length?dn(tn=Vn[0]*u.uR,cn=Vn[1]*u.uR):[tn*u.RW,cn*u.RW]},kn}function gt(Ft,tn){var cn=(0,u.O$)(Ft),dn=(cn+(0,u.O$)(tn))/2;if((0,u.Wn)(dn)<u.Ho)return function(Dn){var Kn=(0,u.mC)(Dn);function Vt(_n,Mt){return[_n*Kn,(0,u.O$)(Mt)/Kn]}return Vt.invert=function(_n,Mt){return[_n/Kn,(0,u.ZR)(Mt*Kn)]},Vt}(Ft);var kn=1+cn*(2*dn-cn),Vn=(0,u._b)(kn)/dn;function In(Dn,Kn){var Vt=(0,u._b)(kn-2*dn*(0,u.O$)(Kn))/dn;return[Vt*(0,u.O$)(Dn*=dn),Vn-Vt*(0,u.mC)(Dn)]}return In.invert=function(Dn,Kn){var Vt=Vn-Kn,_n=(0,u.fv)(Dn,(0,u.Wn)(Vt))*(0,u.Xx)(Vt);return Vt*dn<0&&(_n-=u.pi*(0,u.Xx)(Dn)*(0,u.Xx)(Vt)),[_n/dn,(0,u.ZR)((kn-(Dn*Dn+Vt*Vt)*dn*dn)/(2*dn))]},In}function pt(){return et(gt).scale(155.424).center([0,33.6442])}function vt(){return pt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var ut=e(47589);function wt(){var Ft,tn,cn,dn,kn,Vn,In=vt(),Dn=pt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Kn=pt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Vt={point:function(qt,Kt){Vn=[qt,Kt]}};function _n(qt){var Kt=qt[0],mn=qt[1];return Vn=null,cn.point(Kt,mn),Vn||(dn.point(Kt,mn),Vn)||(kn.point(Kt,mn),Vn)}function Mt(){return Ft=tn=null,_n}return _n.invert=function(qt){var Kt=In.scale(),mn=In.translate(),xn=(qt[0]-mn[0])/Kt,Mn=(qt[1]-mn[1])/Kt;return(Mn>=.12&&Mn<.234&&xn>=-.425&&xn<-.214?Dn:Mn>=.166&&Mn<.234&&xn>=-.214&&xn<-.115?Kn:In).invert(qt)},_n.stream=function(qt){return Ft&&tn===qt?Ft:(Kt=[In.stream(tn=qt),Dn.stream(qt),Kn.stream(qt)],mn=Kt.length,Ft={point:function(xn,Mn){for(var ln=-1;++ln<mn;)Kt[ln].point(xn,Mn)},sphere:function(){for(var xn=-1;++xn<mn;)Kt[xn].sphere()},lineStart:function(){for(var xn=-1;++xn<mn;)Kt[xn].lineStart()},lineEnd:function(){for(var xn=-1;++xn<mn;)Kt[xn].lineEnd()},polygonStart:function(){for(var xn=-1;++xn<mn;)Kt[xn].polygonStart()},polygonEnd:function(){for(var xn=-1;++xn<mn;)Kt[xn].polygonEnd()}});var Kt,mn},_n.precision=function(qt){return arguments.length?(In.precision(qt),Dn.precision(qt),Kn.precision(qt),Mt()):In.precision()},_n.scale=function(qt){return arguments.length?(In.scale(qt),Dn.scale(.35*qt),Kn.scale(qt),_n.translate(In.translate())):In.scale()},_n.translate=function(qt){if(!arguments.length)return In.translate();var Kt=In.scale(),mn=+qt[0],xn=+qt[1];return cn=In.translate(qt).clipExtent([[mn-.455*Kt,xn-.238*Kt],[mn+.455*Kt,xn+.238*Kt]]).stream(Vt),dn=Dn.translate([mn-.307*Kt,xn+.201*Kt]).clipExtent([[mn-.425*Kt+u.Ho,xn+.12*Kt+u.Ho],[mn-.214*Kt-u.Ho,xn+.234*Kt-u.Ho]]).stream(Vt),kn=Kn.translate([mn-.205*Kt,xn+.212*Kt]).clipExtent([[mn-.214*Kt+u.Ho,xn+.166*Kt+u.Ho],[mn-.115*Kt-u.Ho,xn+.234*Kt-u.Ho]]).stream(Vt),Mt()},_n.fitExtent=function(qt,Kt){return(0,ut.qg)(_n,qt,Kt)},_n.fitSize=function(qt,Kt){return(0,ut.mF)(_n,qt,Kt)},_n.fitWidth=function(qt,Kt){return(0,ut.V6)(_n,qt,Kt)},_n.fitHeight=function(qt,Kt){return(0,ut.rf)(_n,qt,Kt)},_n.scale(1070)}var ct=e(12956),ft=e(17889),bt=e(49386);function It(Ft,tn){return[Ft,(0,u.cM)((0,u.OR)((u.ou+tn)/2))]}function Dt(){return Nt(It).scale(961/u.BZ)}function Nt(Ft){var tn,cn,dn,kn=(0,tt.Z)(Ft),Vn=kn.center,In=kn.scale,Dn=kn.translate,Kn=kn.clipExtent,Vt=null;function _n(){var Mt=u.pi*In(),qt=kn((0,bt.Z)(kn.rotate()).invert([0,0]));return Kn(null==Vt?[[qt[0]-Mt,qt[1]-Mt],[qt[0]+Mt,qt[1]+Mt]]:Ft===It?[[Math.max(qt[0]-Mt,Vt),tn],[Math.min(qt[0]+Mt,cn),dn]]:[[Vt,Math.max(qt[1]-Mt,tn)],[cn,Math.min(qt[1]+Mt,dn)]])}return kn.scale=function(Mt){return arguments.length?(In(Mt),_n()):In()},kn.translate=function(Mt){return arguments.length?(Dn(Mt),_n()):Dn()},kn.center=function(Mt){return arguments.length?(Vn(Mt),_n()):Vn()},kn.clipExtent=function(Mt){return arguments.length?(null==Mt?Vt=tn=cn=dn=null:(Vt=+Mt[0][0],tn=+Mt[0][1],cn=+Mt[1][0],dn=+Mt[1][1]),_n()):null==Vt?null:[[Vt,tn],[cn,dn]]},_n()}function $t(Ft){return(0,u.OR)((u.ou+Ft)/2)}function jt(Ft,tn){var cn=(0,u.mC)(Ft),dn=Ft===tn?(0,u.O$)(Ft):(0,u.cM)(cn/(0,u.mC)(tn))/(0,u.cM)($t(tn)/$t(Ft)),kn=cn*(0,u.sQ)($t(Ft),dn)/dn;if(!dn)return It;function Vn(In,Dn){kn>0?Dn<-u.ou+u.Ho&&(Dn=-u.ou+u.Ho):Dn>u.ou-u.Ho&&(Dn=u.ou-u.Ho);var Kn=kn/(0,u.sQ)($t(Dn),dn);return[Kn*(0,u.O$)(dn*In),kn-Kn*(0,u.mC)(dn*In)]}return Vn.invert=function(In,Dn){var Kn=kn-Dn,Vt=(0,u.Xx)(dn)*(0,u._b)(In*In+Kn*Kn),_n=(0,u.fv)(In,(0,u.Wn)(Kn))*(0,u.Xx)(Kn);return Kn*dn<0&&(_n-=u.pi*(0,u.Xx)(In)*(0,u.Xx)(Kn)),[_n/dn,2*(0,u.z4)((0,u.sQ)(kn/Vt,1/dn))-u.ou]},Vn}function Yt(){return et(jt).scale(109.5).parallels([30,30])}It.invert=function(Ft,tn){return[Ft,2*(0,u.z4)((0,u.Qq)(tn))-u.ou]};var Gt=e(97492);function hn(Ft,tn){var cn=(0,u.mC)(Ft),dn=Ft===tn?(0,u.O$)(Ft):(cn-(0,u.mC)(tn))/(tn-Ft),kn=cn/dn+Ft;if((0,u.Wn)(dn)<u.Ho)return Gt.k;function Vn(In,Dn){var Kn=kn-Dn,Vt=dn*In;return[Kn*(0,u.O$)(Vt),kn-Kn*(0,u.mC)(Vt)]}return Vn.invert=function(In,Dn){var Kn=kn-Dn,Vt=(0,u.fv)(In,(0,u.Wn)(Kn))*(0,u.Xx)(Kn);return Kn*dn<0&&(Vt-=u.pi*(0,u.Xx)(In)*(0,u.Xx)(Kn)),[Vt/dn,kn-(0,u.Xx)(dn)*(0,u._b)(In*In+Kn*Kn)]},Vn}function yn(){return et(hn).scale(131.154).center([0,13.9389])}var on=1.340264,Ut=-.081106,nn=893e-6,Xt=.003796,rn=(0,u._b)(3)/2;function fn(Ft,tn){var cn=(0,u.ZR)(rn*(0,u.O$)(tn)),dn=cn*cn,kn=dn*dn*dn;return[Ft*(0,u.mC)(cn)/(rn*(on+3*Ut*dn+kn*(7*nn+9*Xt*dn))),cn*(on+Ut*dn+kn*(nn+Xt*dn))]}function gn(){return(0,tt.Z)(fn).scale(177.158)}fn.invert=function(Ft,tn){for(var cn,dn=tn,kn=dn*dn,Vn=kn*kn*kn,In=0;In<12&&(Vn=(kn=(dn-=cn=(dn*(on+Ut*kn+Vn*(nn+Xt*kn))-tn)/(on+3*Ut*kn+Vn*(7*nn+9*Xt*kn)))*dn)*kn*kn,!((0,u.Wn)(cn)<u.aW));++In);return[rn*Ft*(on+3*Ut*kn+Vn*(7*nn+9*Xt*kn))/(0,u.mC)(dn),(0,u.ZR)((0,u.O$)(dn)/rn)]};var An=e(98936),En=e(64684);function bn(){var Ft,tn,cn,dn,kn,Vn,In,Dn=1,Kn=0,Vt=0,_n=1,Mt=1,qt=0,Kt=null,mn=1,xn=1,Mn=(0,En.l)({point:function(sn,un){var Sn=Jt([sn,un]);this.stream.point(Sn[0],Sn[1])}}),ln=ne.Z;function Wt(){return mn=Dn*_n,xn=Dn*Mt,Vn=In=null,Jt}function Jt(sn){var un=sn[0]*mn,Sn=sn[1]*xn;if(qt){var Cn=Sn*Ft-un*tn;un=un*Ft+Sn*tn,Sn=Cn}return[un+Kn,Sn+Vt]}return Jt.invert=function(sn){var un=sn[0]-Kn,Sn=sn[1]-Vt;if(qt){var Cn=Sn*Ft+un*tn;un=un*Ft-Sn*tn,Sn=Cn}return[un/mn,Sn/xn]},Jt.stream=function(sn){return Vn&&In===sn?Vn:Vn=Mn(ln(In=sn))},Jt.postclip=function(sn){return arguments.length?(ln=sn,Kt=cn=dn=kn=null,Wt()):ln},Jt.clipExtent=function(sn){return arguments.length?(ln=null==sn?(Kt=cn=dn=kn=null,ne.Z):(0,a.Z)(Kt=+sn[0][0],cn=+sn[0][1],dn=+sn[1][0],kn=+sn[1][1]),Wt()):null==Kt?null:[[Kt,cn],[dn,kn]]},Jt.scale=function(sn){return arguments.length?(Dn=+sn,Wt()):Dn},Jt.translate=function(sn){return arguments.length?(Kn=+sn[0],Vt=+sn[1],Wt()):[Kn,Vt]},Jt.angle=function(sn){return arguments.length?(tn=(0,u.O$)(qt=sn%360*u.uR),Ft=(0,u.mC)(qt),Wt()):qt*u.RW},Jt.reflectX=function(sn){return arguments.length?(_n=sn?-1:1,Wt()):_n<0},Jt.reflectY=function(sn){return arguments.length?(Mt=sn?-1:1,Wt()):Mt<0},Jt.fitExtent=function(sn,un){return(0,ut.qg)(Jt,sn,un)},Jt.fitSize=function(sn,un){return(0,ut.mF)(Jt,sn,un)},Jt.fitWidth=function(sn,un){return(0,ut.V6)(Jt,sn,un)},Jt.fitHeight=function(sn,un){return(0,ut.rf)(Jt,sn,un)},Jt}var Ln=e(26867),Wn=e(57962),Qn=e(25382);function ir(Ft,tn){var cn=(0,u.mC)(tn),dn=1+(0,u.mC)(Ft)*cn;return[cn*(0,u.O$)(Ft)/dn,(0,u.O$)(tn)/dn]}function $n(){return(0,tt.Z)(ir).scale(250).clipAngle(142)}function qn(Ft,tn){return[(0,u.cM)((0,u.OR)((u.ou+tn)/2)),-Ft]}function dr(){var Ft=Nt(qn),tn=Ft.center,cn=Ft.rotate;return Ft.center=function(dn){return arguments.length?tn([-dn[1],dn[0]]):[(dn=tn())[1],-dn[0]]},Ft.rotate=function(dn){return arguments.length?cn([dn[0],dn[1],dn.length>2?dn[2]+90:90]):[(dn=cn())[0],dn[1],dn[2]-90]},cn([0,0,90]).scale(159.155)}ir.invert=(0,Qn.O)(function(Ft){return 2*(0,u.z4)(Ft)}),qn.invert=function(Ft,tn){return[-tn,2*(0,u.z4)((0,u.Qq)(Ft))-u.ou]}},83074:function(ee,D,e){"use strict";e.d(D,{Z:function(){return k}});var A=e(39695);function k(l,T){var b=l[0]*A.uR,d=l[1]*A.uR,a=T[0]*A.uR,t=T[1]*A.uR,i=(0,A.mC)(d),r=(0,A.O$)(d),n=(0,A.mC)(t),o=(0,A.O$)(t),s=i*(0,A.mC)(b),u=i*(0,A.O$)(b),p=n*(0,A.mC)(a),c=n*(0,A.O$)(a),x=2*(0,A.ZR)((0,A._b)((0,A.Jy)(t-d)+i*n*(0,A.Jy)(a-b))),g=(0,A.O$)(x),h=x?function(y){var v=(0,A.O$)(y*=x)/g,m=(0,A.O$)(x-y)/g,_=m*s+v*p,f=m*u+v*c,S=m*r+v*o;return[(0,A.fv)(f,_)*A.RW,(0,A.fv)(S,(0,A._b)(_*_+f*f))*A.RW]}:function(){return[b*A.RW,d*A.RW]};return h.distance=x,h}},39695:function(ee,D,e){"use strict";e.d(D,{BZ:function(){return d},Ho:function(){return A},Jy:function(){return _},Kh:function(){return v},O$:function(){return x},OR:function(){return y},Qq:function(){return u},RW:function(){return a},Wn:function(){return i},Xx:function(){return g},ZR:function(){return m},_b:function(){return h},aW:function(){return k},cM:function(){return p},fv:function(){return n},mC:function(){return o},mD:function(){return s},ou:function(){return T},pi:function(){return l},pu:function(){return b},sQ:function(){return c},uR:function(){return t},z4:function(){return r}});var A=1e-6,k=1e-12,l=Math.PI,T=l/2,b=l/4,d=2*l,a=180/l,t=l/180,i=Math.abs,r=Math.atan,n=Math.atan2,o=Math.cos,s=Math.ceil,u=Math.exp,p=Math.log,c=Math.pow,x=Math.sin,g=Math.sign||function(f){return f>0?1:f<0?-1:0},h=Math.sqrt,y=Math.tan;function v(f){return f>1?0:f<-1?l:Math.acos(f)}function m(f){return f>1?T:f<-1?-T:Math.asin(f)}function _(f){return(f=x(f/2))*f}},73182:function(ee,D,e){"use strict";function A(){}e.d(D,{Z:function(){return A}})},3559:function(ee,D,e){"use strict";var A=e(73182),k=1/0,l=k,T=-k,b=T;D.Z={point:function(a,t){a<k&&(k=a),a>T&&(T=a),t<l&&(l=t),t>b&&(b=t)},lineStart:A.Z,lineEnd:A.Z,polygonStart:A.Z,polygonEnd:A.Z,result:function(){var a=[[k,l],[T,b]];return T=b=-(l=k=1/0),a}}},67108:function(ee,D,e){"use strict";e.d(D,{Z:function(){return k}});var A=e(39695);function k(l,T){return(0,A.Wn)(l[0]-T[0])<A.Ho&&(0,A.Wn)(l[1]-T[1])<A.Ho}},23071:function(ee,D,e){"use strict";e.d(D,{Z:function(){return d}});var A=e(33940),k=e(7620),l=e(39695),T=(0,A.Z)();function b(a){return(0,l.Wn)(a[0])<=l.pi?a[0]:(0,l.Xx)(a[0])*(((0,l.Wn)(a[0])+l.pi)%l.BZ-l.pi)}function d(a,t){var i=b(t),r=t[1],n=(0,l.O$)(r),o=[(0,l.O$)(i),-(0,l.mC)(i),0],s=0,u=0;T.reset(),1===n?r=l.ou+l.Ho:-1===n&&(r=-l.ou-l.Ho);for(var p=0,c=a.length;p<c;++p)if(g=(x=a[p]).length)for(var x,g,h=x[g-1],y=b(h),v=h[1]/2+l.pu,m=(0,l.O$)(v),_=(0,l.mC)(v),f=0;f<g;++f,y=w,m=L,_=C,h=S){var S=x[f],w=b(S),E=S[1]/2+l.pu,L=(0,l.O$)(E),C=(0,l.mC)(E),O=w-y,R=O>=0?1:-1,q=R*O,P=q>l.pi,U=m*L;if(T.add((0,l.fv)(U*R*(0,l.O$)(q),_*C+U*(0,l.mC)(q))),s+=P?O+R*l.BZ:O,P^y>=i^w>=i){var N=(0,k.T5)((0,k.Og)(h),(0,k.Og)(S));(0,k.iJ)(N);var F=(0,k.T5)(o,N);(0,k.iJ)(F);var j=(P^O>=0?-1:1)*(0,l.ZR)(F[2]);(r>j||r===j&&(N[0]||N[1]))&&(u+=P^O>=0?1:-1)}}return(s<-l.Ho||s<l.Ho&&T<-l.Ho)^1&u}},25382:function(ee,D,e){"use strict";e.d(D,{O:function(){return l},W:function(){return k}});var A=e(39695);function k(T){return function(b,d){var a=(0,A.mC)(b),t=(0,A.mC)(d),i=T(a*t);return[i*t*(0,A.O$)(b),i*(0,A.O$)(d)]}}function l(T){return function(b,d){var a=(0,A._b)(b*b+d*d),t=T(a),i=(0,A.O$)(t),r=(0,A.mC)(t);return[(0,A.fv)(b*i,a*r),(0,A.ZR)(a&&d*i/a)]}}},12956:function(ee,D,e){"use strict";e.d(D,{Z:function(){return b},l:function(){return T}});var A=e(39695),k=e(25382),l=e(15002),T=(0,k.W)(function(d){return(0,A._b)(2/(1+d))});function b(){return(0,l.Z)(T).scale(124.75).clipAngle(179.999)}T.invert=(0,k.O)(function(d){return 2*(0,A.ZR)(d/2)})},17889:function(ee,D,e){"use strict";e.d(D,{N:function(){return T},Z:function(){return b}});var A=e(39695),k=e(25382),l=e(15002),T=(0,k.W)(function(d){return(d=(0,A.Kh)(d))&&d/(0,A.O$)(d)});function b(){return(0,l.Z)(T).scale(79.4188).clipAngle(179.999)}T.invert=(0,k.O)(function(d){return d})},97492:function(ee,D,e){"use strict";e.d(D,{Z:function(){return l},k:function(){return k}});var A=e(15002);function k(T,b){return[T,b]}function l(){return(0,A.Z)(k).scale(152.63)}k.invert=k},47589:function(ee,D,e){"use strict";e.d(D,{V6:function(){return d},mF:function(){return b},qg:function(){return T},rf:function(){return a}});var A=e(72736),k=e(3559);function l(t,i,r){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=n&&t.clipExtent(null),(0,A.Z)(r,t.stream(k.Z)),i(k.Z.result()),null!=n&&t.clipExtent(n),t}function T(t,i,r){return l(t,function(n){var o=i[1][0]-i[0][0],s=i[1][1]-i[0][1],u=Math.min(o/(n[1][0]-n[0][0]),s/(n[1][1]-n[0][1])),p=+i[0][0]+(o-u*(n[1][0]+n[0][0]))/2,c=+i[0][1]+(s-u*(n[1][1]+n[0][1]))/2;t.scale(150*u).translate([p,c])},r)}function b(t,i,r){return T(t,[[0,0],i],r)}function d(t,i,r){return l(t,function(n){var o=+i,s=o/(n[1][0]-n[0][0]),u=(o-s*(n[1][0]+n[0][0]))/2,p=-s*n[0][1];t.scale(150*s).translate([u,p])},r)}function a(t,i,r){return l(t,function(n){var o=+i,s=o/(n[1][1]-n[0][1]),u=-s*n[0][0],p=(o-s*(n[1][1]+n[0][1]))/2;t.scale(150*s).translate([u,p])},r)}},98936:function(ee,D,e){"use strict";e.d(D,{M:function(){return T},Z:function(){return b}});var A=e(39695),k=e(25382),l=e(15002);function T(d,a){var t=(0,A.mC)(a),i=(0,A.mC)(d)*t;return[t*(0,A.O$)(d)/i,(0,A.O$)(a)/i]}function b(){return(0,l.Z)(T).scale(144.049).clipAngle(60)}T.invert=(0,k.O)(A.z4)},15002:function(ee,D,e){"use strict";e.d(D,{Z:function(){return x},r:function(){return g}});var A=e(87070),k=e(1457),l=e(87605),T=e(96059),b=e(8593),d=e(39695),a=e(49386),t=e(64684),i=e(47589),r=e(7620),n=16,o=(0,d.mC)(30*d.uR);function s(h,y){return+y?function(v,m){function _(f,S,w,E,L,C,O,R,q,P,U,N,F,j){var G=O-f,te=R-S,J=G*G+te*te;if(J>4*m&&F--){var X=E+P,Y=L+U,W=C+N,$=(0,d._b)(X*X+Y*Y+W*W),ne=(0,d.ZR)(W/=$),re=(0,d.Wn)((0,d.Wn)(W)-1)<d.Ho||(0,d.Wn)(w-q)<d.Ho?(w+q)/2:(0,d.fv)(Y,X),oe=v(re,ne),ue=oe[0],xe=oe[1],Me=ue-f,me=xe-S,pe=te*Me-G*me;(pe*pe/J>m||(0,d.Wn)((G*Me+te*me)/J-.5)>.3||E*P+L*U+C*N<o)&&(_(f,S,w,E,L,C,ue,xe,re,X/=$,Y/=$,W,F,j),j.point(ue,xe),_(ue,xe,re,X,Y,W,O,R,q,P,U,N,F,j))}}return function(f){var S,w,E,L,C,O,R,q,P,U,N,F,j={point:G,lineStart:te,lineEnd:X,polygonStart:function(){f.polygonStart(),j.lineStart=Y},polygonEnd:function(){f.polygonEnd(),j.lineStart=te}};function G(ne,re){ne=v(ne,re),f.point(ne[0],ne[1])}function te(){q=NaN,j.point=J,f.lineStart()}function J(ne,re){var oe=(0,r.Og)([ne,re]),ue=v(ne,re);_(q,P,R,U,N,F,q=ue[0],P=ue[1],R=ne,U=oe[0],N=oe[1],F=oe[2],n,f),f.point(q,P)}function X(){j.point=G,f.lineEnd()}function Y(){te(),j.point=W,j.lineEnd=$}function W(ne,re){J(S=ne,re),w=q,E=P,L=U,C=N,O=F,j.point=J}function $(){_(q,P,R,U,N,F,w,E,S,L,C,O,n,f),j.lineEnd=X,X()}return j}}(h,y):(v=h,(0,t.l)({point:function(m,_){m=v(m,_),this.stream.point(m[0],m[1])}}));var v}var u=(0,t.l)({point:function(h,y){this.stream.point(h*d.uR,y*d.uR)}});function p(h,y,v,m,_){function f(S,w){return[y+h*(S*=m),v-h*(w*=_)]}return f.invert=function(S,w){return[(S-y)/h*m,(v-w)/h*_]},f}function c(h,y,v,m,_,f){var S=(0,d.mC)(f),w=(0,d.O$)(f),E=S*h,L=w*h,C=S/h,O=w/h,R=(w*v-S*y)/h,q=(w*y+S*v)/h;function P(U,N){return[E*(U*=m)-L*(N*=_)+y,v-L*U-E*N]}return P.invert=function(U,N){return[m*(C*U-O*N+R),_*(q-O*U-C*N)]},P}function x(h){return g(function(){return h})()}function g(h){var y,v,m,_,f,S,w,E,L,C,O=150,R=480,q=250,P=0,U=0,N=0,F=0,j=0,G=0,te=1,J=1,X=null,Y=A.Z,W=null,$=b.Z,ne=.5;function re(Me){return E(Me[0]*d.uR,Me[1]*d.uR)}function oe(Me){return(Me=E.invert(Me[0],Me[1]))&&[Me[0]*d.RW,Me[1]*d.RW]}function ue(){var Me=c(O,0,0,te,J,G).apply(null,y(P,U)),me=(G?c:p)(O,R-Me[0],q-Me[1],te,J,G);return v=(0,a.I)(N,F,j),w=(0,T.Z)(y,me),E=(0,T.Z)(v,w),S=s(w,ne),xe()}function xe(){return L=C=null,re}return re.stream=function(Me){return L&&C===Me?L:L=u((me=v,(0,t.l)({point:function(pe,ge){var Pe=me(pe,ge);return this.stream.point(Pe[0],Pe[1])}}))(Y(S($(C=Me)))));var me},re.preclip=function(Me){return arguments.length?(Y=Me,X=void 0,xe()):Y},re.postclip=function(Me){return arguments.length?($=Me,W=m=_=f=null,xe()):$},re.clipAngle=function(Me){return arguments.length?(Y=+Me?(0,k.Z)(X=Me*d.uR):(X=null,A.Z),xe()):X*d.RW},re.clipExtent=function(Me){return arguments.length?($=null==Me?(W=m=_=f=null,b.Z):(0,l.Z)(W=+Me[0][0],m=+Me[0][1],_=+Me[1][0],f=+Me[1][1]),xe()):null==W?null:[[W,m],[_,f]]},re.scale=function(Me){return arguments.length?(O=+Me,ue()):O},re.translate=function(Me){return arguments.length?(R=+Me[0],q=+Me[1],ue()):[R,q]},re.center=function(Me){return arguments.length?(P=Me[0]%360*d.uR,U=Me[1]%360*d.uR,ue()):[P*d.RW,U*d.RW]},re.rotate=function(Me){return arguments.length?(N=Me[0]%360*d.uR,F=Me[1]%360*d.uR,j=Me.length>2?Me[2]%360*d.uR:0,ue()):[N*d.RW,F*d.RW,j*d.RW]},re.angle=function(Me){return arguments.length?(G=Me%360*d.uR,ue()):G*d.RW},re.reflectX=function(Me){return arguments.length?(te=Me?-1:1,ue()):te<0},re.reflectY=function(Me){return arguments.length?(J=Me?-1:1,ue()):J<0},re.precision=function(Me){return arguments.length?(S=s(w,ne=Me*Me),xe()):(0,d._b)(ne)},re.fitExtent=function(Me,me){return(0,i.qg)(re,Me,me)},re.fitSize=function(Me,me){return(0,i.mF)(re,Me,me)},re.fitWidth=function(Me,me){return(0,i.V6)(re,Me,me)},re.fitHeight=function(Me,me){return(0,i.rf)(re,Me,me)},function(){return y=h.apply(this,arguments),re.invert=y.invert&&oe,ue()}}},26867:function(ee,D,e){"use strict";e.d(D,{K:function(){return l},Z:function(){return T}});var A=e(15002),k=e(39695);function l(b,d){var a=d*d,t=a*a;return[b*(.8707-.131979*a+t*(t*(.003971*a-.001529*t)-.013791)),d*(1.007226+a*(.015085+t*(.028874*a-.044475-.005916*t)))]}function T(){return(0,A.Z)(l).scale(175.295)}l.invert=function(b,d){var a,t=d,i=25;do{var r=t*t,n=r*r;t-=a=(t*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))-d)/(1.007226+r*(.045255+n*(.259866*r-.311325-.06507600000000001*n)))}while((0,k.Wn)(a)>k.Ho&&--i>0);return[b/(.8707+(r=t*t)*(r*(r*r*r*(.003971-.001529*r)-.013791)-.131979)),t]}},57962:function(ee,D,e){"use strict";e.d(D,{I:function(){return T},Z:function(){return b}});var A=e(39695),k=e(25382),l=e(15002);function T(d,a){return[(0,A.mC)(a)*(0,A.O$)(d),(0,A.O$)(a)]}function b(){return(0,l.Z)(T).scale(249.5).clipAngle(90+A.Ho)}T.invert=(0,k.O)(A.ZR)},49386:function(ee,D,e){"use strict";e.d(D,{I:function(){return T},Z:function(){return t}});var A=e(96059),k=e(39695);function l(i,r){return[(0,k.Wn)(i)>k.pi?i+Math.round(-i/k.BZ)*k.BZ:i,r]}function T(i,r,n){return(i%=k.BZ)?r||n?(0,A.Z)(d(i),a(r,n)):d(i):r||n?a(r,n):l}function b(i){return function(r,n){return[(r+=i)>k.pi?r-k.BZ:r<-k.pi?r+k.BZ:r,n]}}function d(i){var r=b(i);return r.invert=b(-i),r}function a(i,r){var n=(0,k.mC)(i),o=(0,k.O$)(i),s=(0,k.mC)(r),u=(0,k.O$)(r);function p(c,x){var g=(0,k.mC)(x),h=(0,k.mC)(c)*g,y=(0,k.O$)(c)*g,v=(0,k.O$)(x),m=v*n+h*o;return[(0,k.fv)(y*s-m*u,h*n-v*o),(0,k.ZR)(m*s+y*u)]}return p.invert=function(c,x){var g=(0,k.mC)(x),h=(0,k.mC)(c)*g,y=(0,k.O$)(c)*g,v=(0,k.O$)(x),m=v*s-y*u;return[(0,k.fv)(y*s+v*u,h*n+m*o),(0,k.ZR)(m*n-h*o)]},p}function t(i){function r(n){return(n=i(n[0]*k.uR,n[1]*k.uR))[0]*=k.RW,n[1]*=k.RW,n}return i=T(i[0]*k.uR,i[1]*k.uR,i.length>2?i[2]*k.uR:0),r.invert=function(n){return(n=i.invert(n[0]*k.uR,n[1]*k.uR))[0]*=k.RW,n[1]*=k.RW,n},r}l.invert=l},72736:function(ee,D,e){"use strict";function A(a,t){a&&l.hasOwnProperty(a.type)&&l[a.type](a,t)}e.d(D,{Z:function(){return d}});var k={Feature:function(a,t){A(a.geometry,t)},FeatureCollection:function(a,t){for(var i=a.features,r=-1,n=i.length;++r<n;)A(i[r].geometry,t)}},l={Sphere:function(a,t){t.sphere()},Point:function(a,t){t.point((a=a.coordinates)[0],a[1],a[2])},MultiPoint:function(a,t){for(var i=a.coordinates,r=-1,n=i.length;++r<n;)t.point((a=i[r])[0],a[1],a[2])},LineString:function(a,t){T(a.coordinates,t,0)},MultiLineString:function(a,t){for(var i=a.coordinates,r=-1,n=i.length;++r<n;)T(i[r],t,0)},Polygon:function(a,t){b(a.coordinates,t)},MultiPolygon:function(a,t){for(var i=a.coordinates,r=-1,n=i.length;++r<n;)b(i[r],t)},GeometryCollection:function(a,t){for(var i=a.geometries,r=-1,n=i.length;++r<n;)A(i[r],t)}};function T(a,t,i){var r,n=-1,o=a.length-i;for(t.lineStart();++n<o;)t.point((r=a[n])[0],r[1],r[2]);t.lineEnd()}function b(a,t){var i=-1,r=a.length;for(t.polygonStart();++i<r;)T(a[i],t,1);t.polygonEnd()}function d(a,t){a&&k.hasOwnProperty(a.type)?k[a.type](a,t):A(a,t)}},64684:function(ee,D,e){"use strict";function A(T){return{stream:k(T)}}function k(T){return function(b){var d=new l;for(var a in T)d[a]=T[a];return d.stream=b,d}}function l(){}e.d(D,{Z:function(){return A},l:function(){return k}}),l.prototype={constructor:l,point:function(T,b){this.stream.point(T,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(ee,D,e){"use strict";function A(ae,fe){return ae.parent===fe.parent?1:2}function k(ae,fe){return ae+fe.x}function l(ae,fe){return Math.max(ae,fe.y)}function T(){var ae=A,fe=1,Ee=1,ke=!1;function be(Ie){var Fe,ce=0;Ie.eachAfter(function(Oe){var qe,je=Oe.children;je?(Oe.x=(qe=je).reduce(k,0)/qe.length,Oe.y=function(qe){return 1+qe.reduce(l,0)}(je)):(Oe.x=Fe?ce+=ae(Oe,Fe):0,Oe.y=0,Fe=Oe)});var Te=function(Oe){for(var je;je=Oe.children;)Oe=je[0];return Oe}(Ie),ve=function(Oe){for(var je;je=Oe.children;)Oe=je[je.length-1];return Oe}(Ie),Ce=Te.x-ae(Te,ve)/2,Re=ve.x+ae(ve,Te)/2;return Ie.eachAfter(ke?function(Oe){Oe.x=(Oe.x-Ie.x)*fe,Oe.y=(Ie.y-Oe.y)*Ee}:function(Oe){Oe.x=(Oe.x-Ce)/(Re-Ce)*fe,Oe.y=(1-(Ie.y?Oe.y/Ie.y:1))*Ee})}return be.separation=function(Ie){return arguments.length?(ae=Ie,be):ae},be.size=function(Ie){return arguments.length?(ke=!1,fe=+Ie[0],Ee=+Ie[1],be):ke?null:[fe,Ee]},be.nodeSize=function(Ie){return arguments.length?(ke=!0,fe=+Ie[0],Ee=+Ie[1],be):ke?[fe,Ee]:null},be}function b(ae){var fe=0,Ee=ae.children,ke=Ee&&Ee.length;if(ke)for(;--ke>=0;)fe+=Ee[ke].value;else fe=1;ae.value=fe}function d(ae,fe){var Ee,ke,be,Ie,Fe,ce=new r(ae),Te=+ae.value&&(ce.value=ae.value),ve=[ce];for(null==fe&&(fe=a);Ee=ve.pop();)if(Te&&(Ee.value=+Ee.data.value),(be=fe(Ee.data))&&(Fe=be.length))for(Ee.children=new Array(Fe),Ie=Fe-1;Ie>=0;--Ie)ve.push(ke=Ee.children[Ie]=new r(be[Ie])),ke.parent=Ee,ke.depth=Ee.depth+1;return ce.eachBefore(i)}function a(ae){return ae.children}function t(ae){ae.data=ae.data.data}function i(ae){var fe=0;do{ae.height=fe}while((ae=ae.parent)&&ae.height<++fe)}function r(ae){this.data=ae,this.depth=this.height=0,this.parent=null}e.r(D),e.d(D,{cluster:function(){return T},hierarchy:function(){return d},pack:function(){return O},packEnclose:function(){return o},packSiblings:function(){return S},partition:function(){return F},stratify:function(){return Y},tree:function(){return xe},treemap:function(){return Pe},treemapBinary:function(){return _e},treemapDice:function(){return N},treemapResquarify:function(){return se},treemapSlice:function(){return Me},treemapSliceDice:function(){return we},treemapSquarify:function(){return ge}}),r.prototype=d.prototype={constructor:r,count:function(){return this.eachAfter(b)},each:function(ae){var fe,Ee,ke,be,Ie=this,Fe=[Ie];do{for(fe=Fe.reverse(),Fe=[];Ie=fe.pop();)if(ae(Ie),Ee=Ie.children)for(ke=0,be=Ee.length;ke<be;++ke)Fe.push(Ee[ke])}while(Fe.length);return this},eachAfter:function(ae){for(var fe,Ee,ke,be=this,Ie=[be],Fe=[];be=Ie.pop();)if(Fe.push(be),fe=be.children)for(Ee=0,ke=fe.length;Ee<ke;++Ee)Ie.push(fe[Ee]);for(;be=Fe.pop();)ae(be);return this},eachBefore:function(ae){for(var fe,Ee,ke=this,be=[ke];ke=be.pop();)if(ae(ke),fe=ke.children)for(Ee=fe.length-1;Ee>=0;--Ee)be.push(fe[Ee]);return this},sum:function(ae){return this.eachAfter(function(fe){for(var Ee=+ae(fe.data)||0,ke=fe.children,be=ke&&ke.length;--be>=0;)Ee+=ke[be].value;fe.value=Ee})},sort:function(ae){return this.eachBefore(function(fe){fe.children&&fe.children.sort(ae)})},path:function(ae){for(var fe=this,Ee=function(Ie,Fe){if(Ie===Fe)return Ie;var ce=Ie.ancestors(),Te=Fe.ancestors(),ve=null;for(Ie=ce.pop(),Fe=Te.pop();Ie===Fe;)ve=Ie,Ie=ce.pop(),Fe=Te.pop();return ve}(fe,ae),ke=[fe];fe!==Ee;)ke.push(fe=fe.parent);for(var be=ke.length;ae!==Ee;)ke.splice(be,0,ae),ae=ae.parent;return ke},ancestors:function(){for(var ae=this,fe=[ae];ae=ae.parent;)fe.push(ae);return fe},descendants:function(){var ae=[];return this.each(function(fe){ae.push(fe)}),ae},leaves:function(){var ae=[];return this.eachBefore(function(fe){fe.children||ae.push(fe)}),ae},links:function(){var ae=this,fe=[];return ae.each(function(Ee){Ee!==ae&&fe.push({source:Ee.parent,target:Ee})}),fe},copy:function(){return d(this).eachBefore(t)}};var n=Array.prototype.slice;function o(ae){for(var fe,Ee,ke=0,be=(ae=function(Fe){for(var ce,Te,ve=Fe.length;ve;)Te=Math.random()*ve--|0,ce=Fe[ve],Fe[ve]=Fe[Te],Fe[Te]=ce;return Fe}(n.call(ae))).length,Ie=[];ke<be;)fe=ae[ke],Ee&&p(Ee,fe)?++ke:(Ee=x(Ie=s(Ie,fe)),ke=0);return Ee}function s(ae,fe){var Ee,ke;if(c(fe,ae))return[fe];for(Ee=0;Ee<ae.length;++Ee)if(u(fe,ae[Ee])&&c(g(ae[Ee],fe),ae))return[ae[Ee],fe];for(Ee=0;Ee<ae.length-1;++Ee)for(ke=Ee+1;ke<ae.length;++ke)if(u(g(ae[Ee],ae[ke]),fe)&&u(g(ae[Ee],fe),ae[ke])&&u(g(ae[ke],fe),ae[Ee])&&c(h(ae[Ee],ae[ke],fe),ae))return[ae[Ee],ae[ke],fe];throw new Error}function u(ae,fe){var Ee=ae.r-fe.r,ke=fe.x-ae.x,be=fe.y-ae.y;return Ee<0||Ee*Ee<ke*ke+be*be}function p(ae,fe){var Ee=ae.r-fe.r+1e-6,ke=fe.x-ae.x,be=fe.y-ae.y;return Ee>0&&Ee*Ee>ke*ke+be*be}function c(ae,fe){for(var Ee=0;Ee<fe.length;++Ee)if(!p(ae,fe[Ee]))return!1;return!0}function x(ae){switch(ae.length){case 1:return{x:(fe=ae[0]).x,y:fe.y,r:fe.r};case 2:return g(ae[0],ae[1]);case 3:return h(ae[0],ae[1],ae[2])}var fe}function g(ae,fe){var Ee=ae.x,ke=ae.y,be=ae.r,Ie=fe.x,Fe=fe.y,ce=fe.r,Te=Ie-Ee,ve=Fe-ke,Ce=ce-be,Re=Math.sqrt(Te*Te+ve*ve);return{x:(Ee+Ie+Te/Re*Ce)/2,y:(ke+Fe+ve/Re*Ce)/2,r:(Re+be+ce)/2}}function h(ae,fe,Ee){var ke=ae.x,be=ae.y,Ie=ae.r,Fe=fe.x,ce=fe.y,Te=fe.r,ve=Ee.x,Ce=Ee.y,Re=Ee.r,Oe=ke-Fe,je=ke-ve,qe=be-ce,Je=be-Ce,it=Te-Ie,Qe=Re-Ie,dt=ke*ke+be*be-Ie*Ie,yt=dt-Fe*Fe-ce*ce+Te*Te,mt=dt-ve*ve-Ce*Ce+Re*Re,at=je*qe-Oe*Je,st=(qe*mt-Je*yt)/(2*at)-ke,Tt=(Je*it-qe*Qe)/at,At=(je*yt-Oe*mt)/(2*at)-be,Pt=(Oe*Qe-je*it)/at,kt=Tt*Tt+Pt*Pt-1,Ze=2*(Ie+st*Tt+At*Pt),Xe=st*st+At*At-Ie*Ie,He=-(kt?(Ze+Math.sqrt(Ze*Ze-4*kt*Xe))/(2*kt):Xe/Ze);return{x:ke+st+Tt*He,y:be+At+Pt*He,r:He}}function y(ae,fe,Ee){var ke,be,Ie,Fe,ce=ae.x-fe.x,Te=ae.y-fe.y,ve=ce*ce+Te*Te;ve?(be=fe.r+Ee.r,Fe=ae.r+Ee.r,(be*=be)>(Fe*=Fe)?(ke=(ve+Fe-be)/(2*ve),Ie=Math.sqrt(Math.max(0,Fe/ve-ke*ke)),Ee.x=ae.x-ke*ce-Ie*Te,Ee.y=ae.y-ke*Te+Ie*ce):(ke=(ve+be-Fe)/(2*ve),Ie=Math.sqrt(Math.max(0,be/ve-ke*ke)),Ee.x=fe.x+ke*ce-Ie*Te,Ee.y=fe.y+ke*Te+Ie*ce)):(Ee.x=fe.x+Ee.r,Ee.y=fe.y)}function v(ae,fe){var Ee=ae.r+fe.r-1e-6,ke=fe.x-ae.x,be=fe.y-ae.y;return Ee>0&&Ee*Ee>ke*ke+be*be}function m(ae){var fe=ae._,Ee=ae.next._,ke=fe.r+Ee.r,be=(fe.x*Ee.r+Ee.x*fe.r)/ke,Ie=(fe.y*Ee.r+Ee.y*fe.r)/ke;return be*be+Ie*Ie}function _(ae){this._=ae,this.next=null,this.previous=null}function f(ae){if(!(be=ae.length))return 0;var fe,Ee,ke,be,Ie,Fe,ce,Te,ve,Ce,Re;if((fe=ae[0]).x=0,fe.y=0,!(be>1))return fe.r;if(fe.x=-(Ee=ae[1]).r,Ee.x=fe.r,Ee.y=0,!(be>2))return fe.r+Ee.r;y(Ee,fe,ke=ae[2]),fe=new _(fe),Ee=new _(Ee),ke=new _(ke),fe.next=ke.previous=Ee,Ee.next=fe.previous=ke,ke.next=Ee.previous=fe;e:for(ce=3;ce<be;++ce){y(fe._,Ee._,ke=ae[ce]),ke=new _(ke),Te=Ee.next,ve=fe.previous,Ce=Ee._.r,Re=fe._.r;do{if(Ce<=Re){if(v(Te._,ke._)){fe.next=Ee=Te,Ee.previous=fe,--ce;continue e}Ce+=Te._.r,Te=Te.next}else{if(v(ve._,ke._)){(fe=ve).next=Ee,Ee.previous=fe,--ce;continue e}Re+=ve._.r,ve=ve.previous}}while(Te!==ve.next);for(ke.previous=fe,ke.next=Ee,fe.next=Ee.previous=Ee=ke,Ie=m(fe);(ke=ke.next)!==Ee;)(Fe=m(ke))<Ie&&(fe=ke,Ie=Fe);Ee=fe.next}for(fe=[Ee._],ke=Ee;(ke=ke.next)!==Ee;)fe.push(ke._);for(ke=o(fe),ce=0;ce<be;++ce)(fe=ae[ce]).x-=ke.x,fe.y-=ke.y;return ke.r}function S(ae){return f(ae),ae}function w(ae){if("function"!=typeof ae)throw new Error;return ae}function E(){return 0}function L(ae){return function(){return ae}}function C(ae){return Math.sqrt(ae.value)}function O(){var ae=null,fe=1,Ee=1,ke=E;function be(Ie){return Ie.x=fe/2,Ie.y=Ee/2,ae?Ie.eachBefore(R(ae)).eachAfter(q(ke,.5)).eachBefore(P(1)):Ie.eachBefore(R(C)).eachAfter(q(E,1)).eachAfter(q(ke,Ie.r/Math.min(fe,Ee))).eachBefore(P(Math.min(fe,Ee)/(2*Ie.r))),Ie}return be.radius=function(Ie){return arguments.length?(ae=null==(Fe=Ie)?null:w(Fe),be):ae;var Fe},be.size=function(Ie){return arguments.length?(fe=+Ie[0],Ee=+Ie[1],be):[fe,Ee]},be.padding=function(Ie){return arguments.length?(ke="function"==typeof Ie?Ie:L(+Ie),be):ke},be}function R(ae){return function(fe){fe.children||(fe.r=Math.max(0,+ae(fe)||0))}}function q(ae,fe){return function(Ee){if(ke=Ee.children){var ke,be,Ie,Fe=ke.length,ce=ae(Ee)*fe||0;if(ce)for(be=0;be<Fe;++be)ke[be].r+=ce;if(Ie=f(ke),ce)for(be=0;be<Fe;++be)ke[be].r-=ce;Ee.r=Ie+ce}}}function P(ae){return function(fe){var Ee=fe.parent;fe.r*=ae,Ee&&(fe.x=Ee.x+ae*fe.x,fe.y=Ee.y+ae*fe.y)}}function U(ae){ae.x0=Math.round(ae.x0),ae.y0=Math.round(ae.y0),ae.x1=Math.round(ae.x1),ae.y1=Math.round(ae.y1)}function N(ae,fe,Ee,ke,be){for(var Ie,Fe=ae.children,ce=-1,Te=Fe.length,ve=ae.value&&(ke-fe)/ae.value;++ce<Te;)(Ie=Fe[ce]).y0=Ee,Ie.y1=be,Ie.x0=fe,Ie.x1=fe+=Ie.value*ve}function F(){var ae=1,fe=1,Ee=0,ke=!1;function be(Ie){var ce,Te,Fe=Ie.height+1;return Ie.x0=Ie.y0=Ee,Ie.x1=ae,Ie.y1=fe/Fe,Ie.eachBefore((ce=fe,Te=Fe,function(ve){ve.children&&N(ve,ve.x0,ce*(ve.depth+1)/Te,ve.x1,ce*(ve.depth+2)/Te);var Ce=ve.x0,Re=ve.y0,Oe=ve.x1-Ee,je=ve.y1-Ee;Oe<Ce&&(Ce=Oe=(Ce+Oe)/2),je<Re&&(Re=je=(Re+je)/2),ve.x0=Ce,ve.y0=Re,ve.x1=Oe,ve.y1=je})),ke&&Ie.eachBefore(U),Ie}return be.round=function(Ie){return arguments.length?(ke=!!Ie,be):ke},be.size=function(Ie){return arguments.length?(ae=+Ie[0],fe=+Ie[1],be):[ae,fe]},be.padding=function(Ie){return arguments.length?(Ee=+Ie,be):Ee},be}var j="$",G={depth:-1},te={};function J(ae){return ae.id}function X(ae){return ae.parentId}function Y(){var ae=J,fe=X;function Ee(ke){var be,Ie,Fe,ce,Te,ve,Ce,Re=ke.length,Oe=new Array(Re),je={};for(Ie=0;Ie<Re;++Ie)Te=Oe[Ie]=new r(be=ke[Ie]),null!=(ve=ae(be,Ie,ke))&&(ve+="")&&(je[Ce=j+(Te.id=ve)]=Ce in je?te:Te);for(Ie=0;Ie<Re;++Ie)if(Te=Oe[Ie],null!=(ve=fe(ke[Ie],Ie,ke))&&(ve+="")){if(!(ce=je[j+ve]))throw new Error("missing: "+ve);if(ce===te)throw new Error("ambiguous: "+ve);ce.children?ce.children.push(Te):ce.children=[Te],Te.parent=ce}else{if(Fe)throw new Error("multiple roots");Fe=Te}if(!Fe)throw new Error("no root");if(Fe.parent=G,Fe.eachBefore(function(qe){qe.depth=qe.parent.depth+1,--Re}).eachBefore(i),Fe.parent=null,Re>0)throw new Error("cycle");return Fe}return Ee.id=function(ke){return arguments.length?(ae=w(ke),Ee):ae},Ee.parentId=function(ke){return arguments.length?(fe=w(ke),Ee):fe},Ee}function W(ae,fe){return ae.parent===fe.parent?1:2}function $(ae){var fe=ae.children;return fe?fe[0]:ae.t}function ne(ae){var fe=ae.children;return fe?fe[fe.length-1]:ae.t}function re(ae,fe,Ee){var ke=Ee/(fe.i-ae.i);fe.c-=ke,fe.s+=Ee,ae.c+=ke,fe.z+=Ee,fe.m+=Ee}function oe(ae,fe,Ee){return ae.a.parent===fe.parent?ae.a:Ee}function ue(ae,fe){this._=ae,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=fe}function xe(){var ae=W,fe=1,Ee=1,ke=null;function be(Te){var ve=function(Qe){for(var dt,yt,mt,at,st,Tt=new ue(Qe,0),At=[Tt];dt=At.pop();)if(mt=dt._.children)for(dt.children=new Array(st=mt.length),at=st-1;at>=0;--at)At.push(yt=dt.children[at]=new ue(mt[at],at)),yt.parent=dt;return(Tt.parent=new ue(null,0)).children=[Tt],Tt}(Te);if(ve.eachAfter(Ie),ve.parent.m=-ve.z,ve.eachBefore(Fe),ke)Te.eachBefore(ce);else{var Ce=Te,Re=Te,Oe=Te;Te.eachBefore(function(Qe){Qe.x<Ce.x&&(Ce=Qe),Qe.x>Re.x&&(Re=Qe),Qe.depth>Oe.depth&&(Oe=Qe)});var je=Ce===Re?1:ae(Ce,Re)/2,qe=je-Ce.x,Je=fe/(Re.x+je+qe),it=Ee/(Oe.depth||1);Te.eachBefore(function(Qe){Qe.x=(Qe.x+qe)*Je,Qe.y=Qe.depth*it})}return Te}function Ie(Te){var ve=Te.children,Ce=Te.parent.children,Re=Te.i?Ce[Te.i-1]:null;if(ve){!function(je){for(var qe,Je=0,it=0,Qe=je.children,dt=Qe.length;--dt>=0;)(qe=Qe[dt]).z+=Je,qe.m+=Je,Je+=qe.s+(it+=qe.c)}(Te);var Oe=(ve[0].z+ve[ve.length-1].z)/2;Re?(Te.z=Re.z+ae(Te._,Re._),Te.m=Te.z-Oe):Te.z=Oe}else Re&&(Te.z=Re.z+ae(Te._,Re._));Te.parent.A=function(je,qe,Je){if(qe){for(var it,Qe=je,dt=je,yt=qe,mt=Qe.parent.children[0],at=Qe.m,st=dt.m,Tt=yt.m,At=mt.m;yt=ne(yt),Qe=$(Qe),yt&&Qe;)mt=$(mt),(dt=ne(dt)).a=je,(it=yt.z+Tt-Qe.z-at+ae(yt._,Qe._))>0&&(re(oe(yt,je,Je),je,it),at+=it,st+=it),Tt+=yt.m,at+=Qe.m,At+=mt.m,st+=dt.m;yt&&!ne(dt)&&(dt.t=yt,dt.m+=Tt-st),Qe&&!$(mt)&&(mt.t=Qe,mt.m+=at-At,Je=je)}return Je}(Te,Re,Te.parent.A||Ce[0])}function Fe(Te){Te._.x=Te.z+Te.parent.m,Te.m+=Te.parent.m}function ce(Te){Te.x*=fe,Te.y=Te.depth*Ee}return be.separation=function(Te){return arguments.length?(ae=Te,be):ae},be.size=function(Te){return arguments.length?(ke=!1,fe=+Te[0],Ee=+Te[1],be):ke?null:[fe,Ee]},be.nodeSize=function(Te){return arguments.length?(ke=!0,fe=+Te[0],Ee=+Te[1],be):ke?[fe,Ee]:null},be}function Me(ae,fe,Ee,ke,be){for(var Ie,Fe=ae.children,ce=-1,Te=Fe.length,ve=ae.value&&(be-Ee)/ae.value;++ce<Te;)(Ie=Fe[ce]).x0=fe,Ie.x1=ke,Ie.y0=Ee,Ie.y1=Ee+=Ie.value*ve}ue.prototype=Object.create(r.prototype);var me=(1+Math.sqrt(5))/2;function pe(ae,fe,Ee,ke,be,Ie){for(var Fe,ce,Te,ve,Ce,Re,Oe,je,qe,Je,it,Qe=[],dt=fe.children,yt=0,mt=0,at=dt.length,st=fe.value;yt<at;){Te=be-Ee,ve=Ie-ke;do{Ce=dt[mt++].value}while(!Ce&&mt<at);for(Re=Oe=Ce,it=Ce*Ce*(Je=Math.max(ve/Te,Te/ve)/(st*ae)),qe=Math.max(Oe/it,it/Re);mt<at;++mt){if(Ce+=ce=dt[mt].value,ce<Re&&(Re=ce),ce>Oe&&(Oe=ce),it=Ce*Ce*Je,(je=Math.max(Oe/it,it/Re))>qe){Ce-=ce;break}qe=je}Qe.push(Fe={value:Ce,dice:Te<ve,children:dt.slice(yt,mt)}),Fe.dice?N(Fe,Ee,ke,be,st?ke+=ve*Ce/st:Ie):Me(Fe,Ee,ke,st?Ee+=Te*Ce/st:be,Ie),st-=Ce,yt=mt}return Qe}var ge=function ae(fe){function Ee(ke,be,Ie,Fe,ce){pe(fe,ke,be,Ie,Fe,ce)}return Ee.ratio=function(ke){return ae((ke=+ke)>1?ke:1)},Ee}(me);function Pe(){var ae=ge,fe=!1,Ee=1,ke=1,be=[0],Ie=E,Fe=E,ce=E,Te=E,ve=E;function Ce(Oe){return Oe.x0=Oe.y0=0,Oe.x1=Ee,Oe.y1=ke,Oe.eachBefore(Re),be=[0],fe&&Oe.eachBefore(U),Oe}function Re(Oe){var je=be[Oe.depth],qe=Oe.x0+je,Je=Oe.y0+je,it=Oe.x1-je,Qe=Oe.y1-je;it<qe&&(qe=it=(qe+it)/2),Qe<Je&&(Je=Qe=(Je+Qe)/2),Oe.x0=qe,Oe.y0=Je,Oe.x1=it,Oe.y1=Qe,Oe.children&&(je=be[Oe.depth+1]=Ie(Oe)/2,qe+=ve(Oe)-je,Je+=Fe(Oe)-je,(it-=ce(Oe)-je)<qe&&(qe=it=(qe+it)/2),(Qe-=Te(Oe)-je)<Je&&(Je=Qe=(Je+Qe)/2),ae(Oe,qe,Je,it,Qe))}return Ce.round=function(Oe){return arguments.length?(fe=!!Oe,Ce):fe},Ce.size=function(Oe){return arguments.length?(Ee=+Oe[0],ke=+Oe[1],Ce):[Ee,ke]},Ce.tile=function(Oe){return arguments.length?(ae=w(Oe),Ce):ae},Ce.padding=function(Oe){return arguments.length?Ce.paddingInner(Oe).paddingOuter(Oe):Ce.paddingInner()},Ce.paddingInner=function(Oe){return arguments.length?(Ie="function"==typeof Oe?Oe:L(+Oe),Ce):Ie},Ce.paddingOuter=function(Oe){return arguments.length?Ce.paddingTop(Oe).paddingRight(Oe).paddingBottom(Oe).paddingLeft(Oe):Ce.paddingTop()},Ce.paddingTop=function(Oe){return arguments.length?(Fe="function"==typeof Oe?Oe:L(+Oe),Ce):Fe},Ce.paddingRight=function(Oe){return arguments.length?(ce="function"==typeof Oe?Oe:L(+Oe),Ce):ce},Ce.paddingBottom=function(Oe){return arguments.length?(Te="function"==typeof Oe?Oe:L(+Oe),Ce):Te},Ce.paddingLeft=function(Oe){return arguments.length?(ve="function"==typeof Oe?Oe:L(+Oe),Ce):ve},Ce}function _e(ae,fe,Ee,ke,be){var Ie,Fe,ce=ae.children,Te=ce.length,ve=new Array(Te+1);for(ve[0]=Fe=Ie=0;Ie<Te;++Ie)ve[Ie+1]=Fe+=ce[Ie].value;!function Ce(Re,Oe,je,qe,Je,it,Qe){if(Re>=Oe-1){var dt=ce[Re];return dt.x0=qe,dt.y0=Je,dt.x1=it,void(dt.y1=Qe)}for(var yt=ve[Re],mt=je/2+yt,at=Re+1,st=Oe-1;at<st;){var Tt=at+st>>>1;ve[Tt]<mt?at=Tt+1:st=Tt}mt-ve[at-1]<ve[at]-mt&&Re+1<at&&--at;var At=ve[at]-yt,Pt=je-At;if(it-qe>Qe-Je){var kt=(qe*Pt+it*At)/je;Ce(Re,at,At,qe,Je,kt,Qe),Ce(at,Oe,Pt,kt,Je,it,Qe)}else{var Ze=(Je*Pt+Qe*At)/je;Ce(Re,at,At,qe,Je,it,Ze),Ce(at,Oe,Pt,qe,Ze,it,Qe)}}(0,Te,ae.value,fe,Ee,ke,be)}function we(ae,fe,Ee,ke,be){(1&ae.depth?Me:N)(ae,fe,Ee,ke,be)}var se=function ae(fe){function Ee(ke,be,Ie,Fe,ce){if((Te=ke._squarify)&&Te.ratio===fe)for(var Te,ve,Ce,Re,Oe,je=-1,qe=Te.length,Je=ke.value;++je<qe;){for(Ce=(ve=Te[je]).children,Re=ve.value=0,Oe=Ce.length;Re<Oe;++Re)ve.value+=Ce[Re].value;ve.dice?N(ve,be,Ie,Fe,Ie+=(ce-Ie)*ve.value/Je):Me(ve,be,Ie,be+=(Fe-be)*ve.value/Je,ce),Je-=ve.value}else ke._squarify=Te=pe(fe,ke,be,Ie,Fe,ce),Te.ratio=fe}return Ee.ratio=function(ke){return ae((ke=+ke)>1?ke:1)},Ee}(me)},45879:function(ee,D,e){"use strict";e.d(D,{h5:function(){return p}});var A=Math.PI,k=2*A,l=1e-6,T=k-l;function b(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function d(){return new b}b.prototype=d.prototype={constructor:b,moveTo:function(c,x){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+x)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(c,x){this._+="L"+(this._x1=+c)+","+(this._y1=+x)},quadraticCurveTo:function(c,x,g,h){this._+="Q"+ +c+","+ +x+","+(this._x1=+g)+","+(this._y1=+h)},bezierCurveTo:function(c,x,g,h,y,v){this._+="C"+ +c+","+ +x+","+ +g+","+ +h+","+(this._x1=+y)+","+(this._y1=+v)},arcTo:function(c,x,g,h,y){var v=this._x1,m=this._y1,_=(g=+g)-(c=+c),f=(h=+h)-(x=+x),S=v-c,w=m-x,E=S*S+w*w;if((y=+y)<0)throw new Error("negative radius: "+y);if(null===this._x1)this._+="M"+(this._x1=c)+","+(this._y1=x);else if(E>l)if(Math.abs(w*_-f*S)>l&&y){var L=g-v,C=h-m,O=_*_+f*f,R=L*L+C*C,q=Math.sqrt(O),P=Math.sqrt(E),U=y*Math.tan((A-Math.acos((O+E-R)/(2*q*P)))/2),N=U/P,F=U/q;Math.abs(N-1)>l&&(this._+="L"+(c+N*S)+","+(x+N*w)),this._+="A"+y+","+y+",0,0,"+ +(w*L>S*C)+","+(this._x1=c+F*_)+","+(this._y1=x+F*f)}else this._+="L"+(this._x1=c)+","+(this._y1=x)},arc:function(c,x,g,h,y,v){c=+c,x=+x,v=!!v;var m=(g=+g)*Math.cos(h),_=g*Math.sin(h),f=c+m,S=x+_,w=1^v,E=v?h-y:y-h;if(g<0)throw new Error("negative radius: "+g);null===this._x1?this._+="M"+f+","+S:(Math.abs(this._x1-f)>l||Math.abs(this._y1-S)>l)&&(this._+="L"+f+","+S),g&&(E<0&&(E=E%k+k),E>T?this._+="A"+g+","+g+",0,1,"+w+","+(c-m)+","+(x-_)+"A"+g+","+g+",0,1,"+w+","+(this._x1=f)+","+(this._y1=S):E>l&&(this._+="A"+g+","+g+",0,"+ +(E>=A)+","+w+","+(this._x1=c+g*Math.cos(y))+","+(this._y1=x+g*Math.sin(y))))},rect:function(c,x,g,h){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+x)+"h"+ +g+"v"+ +h+"h"+-g+"Z"},toString:function(){return this._}};var a=d,t=Array.prototype.slice;function i(c){return function(){return c}}function r(c){return c[0]}function n(c){return c[1]}function o(c){return c.source}function s(c){return c.target}function u(c,x,g,h,y){c.moveTo(x,g),c.bezierCurveTo(x=(x+h)/2,g,x,y,h,y)}function p(){return function(c){var x=o,g=s,h=r,y=n,v=null;function m(){var _,f=t.call(arguments),S=x.apply(this,f),w=g.apply(this,f);if(v||(v=_=a()),c(v,+h.apply(this,(f[0]=S,f)),+y.apply(this,f),+h.apply(this,(f[0]=w,f)),+y.apply(this,f)),_)return v=null,_+""||null}return m.source=function(_){return arguments.length?(x=_,m):x},m.target=function(_){return arguments.length?(g=_,m):g},m.x=function(_){return arguments.length?(h="function"==typeof _?_:i(+_),m):h},m.y=function(_){return arguments.length?(y="function"==typeof _?_:i(+_),m):y},m.context=function(_){return arguments.length?(v=_??null,m):v},m}(u)}},84096:function(ee,D,e){"use strict";e.d(D,{i$:function(){return o},Dq:function(){return r},g0:function(){return s}});var A=e(58176),k=e(48480),l=e(59879),T=e(82301),b=e(34823),d=e(79791);function a(at){if(0<=at.y&&at.y<100){var st=new Date(-1,at.m,at.d,at.H,at.M,at.S,at.L);return st.setFullYear(at.y),st}return new Date(at.y,at.m,at.d,at.H,at.M,at.S,at.L)}function t(at){if(0<=at.y&&at.y<100){var st=new Date(Date.UTC(-1,at.m,at.d,at.H,at.M,at.S,at.L));return st.setUTCFullYear(at.y),st}return new Date(Date.UTC(at.y,at.m,at.d,at.H,at.M,at.S,at.L))}function i(at,st,Tt){return{y:at,m:st,d:Tt,H:0,M:0,S:0,L:0}}function r(at){var st=at.dateTime,Tt=at.date,At=at.time,Pt=at.periods,kt=at.days,Ze=at.shortDays,Xe=at.months,He=at.shortMonths,We=y(Pt),rt=v(Pt),nt=y(kt),ze=v(kt),Be=y(Ze),tt=v(Ze),et=y(Xe),gt=v(Xe),pt=y(He),vt=v(He),ut={a:function(Dt){return Ze[Dt.getDay()]},A:function(Dt){return kt[Dt.getDay()]},b:function(Dt){return He[Dt.getMonth()]},B:function(Dt){return Xe[Dt.getMonth()]},c:null,d:Y,e:Y,f:oe,H:W,I:$,j:ne,L:re,m:ue,M:xe,p:function(Dt){return Pt[+(Dt.getHours()>=12)]},q:function(Dt){return 1+~~(Dt.getMonth()/3)},Q:yt,s:mt,S:Me,u:me,U:pe,V:ge,w:Pe,W:_e,x:null,X:null,y:we,Y:se,Z:ae,"%":dt},wt={a:function(Dt){return Ze[Dt.getUTCDay()]},A:function(Dt){return kt[Dt.getUTCDay()]},b:function(Dt){return He[Dt.getUTCMonth()]},B:function(Dt){return Xe[Dt.getUTCMonth()]},c:null,d:fe,e:fe,f:Fe,H:Ee,I:ke,j:be,L:Ie,m:ce,M:Te,p:function(Dt){return Pt[+(Dt.getUTCHours()>=12)]},q:function(Dt){return 1+~~(Dt.getUTCMonth()/3)},Q:yt,s:mt,S:ve,u:Ce,U:Re,V:Oe,w:je,W:qe,x:null,X:null,y:Je,Y:it,Z:Qe,"%":dt},ct={a:function(Dt,Nt,$t){var jt=Be.exec(Nt.slice($t));return jt?(Dt.w=tt[jt[0].toLowerCase()],$t+jt[0].length):-1},A:function(Dt,Nt,$t){var jt=nt.exec(Nt.slice($t));return jt?(Dt.w=ze[jt[0].toLowerCase()],$t+jt[0].length):-1},b:function(Dt,Nt,$t){var jt=pt.exec(Nt.slice($t));return jt?(Dt.m=vt[jt[0].toLowerCase()],$t+jt[0].length):-1},B:function(Dt,Nt,$t){var jt=et.exec(Nt.slice($t));return jt?(Dt.m=gt[jt[0].toLowerCase()],$t+jt[0].length):-1},c:function(Dt,Nt,$t){return It(Dt,st,Nt,$t)},d:q,e:q,f:G,H:U,I:U,j:P,L:j,m:R,M:N,p:function(Dt,Nt,$t){var jt=We.exec(Nt.slice($t));return jt?(Dt.p=rt[jt[0].toLowerCase()],$t+jt[0].length):-1},q:O,Q:J,s:X,S:F,u:_,U:f,V:S,w:m,W:w,x:function(Dt,Nt,$t){return It(Dt,Tt,Nt,$t)},X:function(Dt,Nt,$t){return It(Dt,At,Nt,$t)},y:L,Y:E,Z:C,"%":te};function ft(Dt,Nt){return function($t){var jt,Yt,Gt,hn=[],yn=-1,on=0,Ut=Dt.length;for($t instanceof Date||($t=new Date(+$t));++yn<Ut;)37===Dt.charCodeAt(yn)&&(hn.push(Dt.slice(on,yn)),null!=(Yt=u[jt=Dt.charAt(++yn)])?jt=Dt.charAt(++yn):Yt="e"===jt?" ":"0",(Gt=Nt[jt])&&(jt=Gt($t,Yt)),hn.push(jt),on=yn+1);return hn.push(Dt.slice(on,yn)),hn.join("")}}function bt(Dt,Nt){return function($t){var jt,Yt,Gt=i(1900,void 0,1);if(It(Gt,Dt,$t+="",0)!=$t.length)return null;if("Q"in Gt)return new Date(Gt.Q);if("s"in Gt)return new Date(1e3*Gt.s+("L"in Gt?Gt.L:0));if(Nt&&!("Z"in Gt)&&(Gt.Z=0),"p"in Gt&&(Gt.H=Gt.H%12+12*Gt.p),void 0===Gt.m&&(Gt.m="q"in Gt?Gt.q:0),"V"in Gt){if(Gt.V<1||Gt.V>53)return null;"w"in Gt||(Gt.w=1),"Z"in Gt?(Yt=(jt=t(i(Gt.y,0,1))).getUTCDay(),jt=Yt>4||0===Yt?A.l6.ceil(jt):(0,A.l6)(jt),jt=k.Z.offset(jt,7*(Gt.V-1)),Gt.y=jt.getUTCFullYear(),Gt.m=jt.getUTCMonth(),Gt.d=jt.getUTCDate()+(Gt.w+6)%7):(Yt=(jt=a(i(Gt.y,0,1))).getDay(),jt=Yt>4||0===Yt?l.wA.ceil(jt):(0,l.wA)(jt),jt=T.Z.offset(jt,7*(Gt.V-1)),Gt.y=jt.getFullYear(),Gt.m=jt.getMonth(),Gt.d=jt.getDate()+(Gt.w+6)%7)}else("W"in Gt||"U"in Gt)&&("w"in Gt||(Gt.w="u"in Gt?Gt.u%7:"W"in Gt?1:0),Yt="Z"in Gt?t(i(Gt.y,0,1)).getUTCDay():a(i(Gt.y,0,1)).getDay(),Gt.m=0,Gt.d="W"in Gt?(Gt.w+6)%7+7*Gt.W-(Yt+5)%7:Gt.w+7*Gt.U-(Yt+6)%7);return"Z"in Gt?(Gt.H+=Gt.Z/100|0,Gt.M+=Gt.Z%100,t(Gt)):a(Gt)}}function It(Dt,Nt,$t,jt){for(var Yt,Gt,hn=0,yn=Nt.length,on=$t.length;hn<yn;){if(jt>=on)return-1;if(37===(Yt=Nt.charCodeAt(hn++))){if(Yt=Nt.charAt(hn++),!(Gt=ct[Yt in u?Nt.charAt(hn++):Yt])||(jt=Gt(Dt,$t,jt))<0)return-1}else if(Yt!=$t.charCodeAt(jt++))return-1}return jt}return ut.x=ft(Tt,ut),ut.X=ft(At,ut),ut.c=ft(st,ut),wt.x=ft(Tt,wt),wt.X=ft(At,wt),wt.c=ft(st,wt),{format:function(Dt){var Nt=ft(Dt+="",ut);return Nt.toString=function(){return Dt},Nt},parse:function(Dt){var Nt=bt(Dt+="",!1);return Nt.toString=function(){return Dt},Nt},utcFormat:function(Dt){var Nt=ft(Dt+="",wt);return Nt.toString=function(){return Dt},Nt},utcParse:function(Dt){var Nt=bt(Dt+="",!0);return Nt.toString=function(){return Dt},Nt}}}var n,o,s,u={"-":"",_:" ",0:"0"},p=/^\s*\d+/,c=/^%/,x=/[\\^$*+?|[\]().{}]/g;function g(at,st,Tt){var At=at<0?"-":"",Pt=(At?-at:at)+"",kt=Pt.length;return At+(kt<Tt?new Array(Tt-kt+1).join(st)+Pt:Pt)}function h(at){return at.replace(x,"\\$&")}function y(at){return new RegExp("^(?:"+at.map(h).join("|")+")","i")}function v(at){for(var st={},Tt=-1,At=at.length;++Tt<At;)st[at[Tt].toLowerCase()]=Tt;return st}function m(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+1));return At?(at.w=+At[0],Tt+At[0].length):-1}function _(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+1));return At?(at.u=+At[0],Tt+At[0].length):-1}function f(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+2));return At?(at.U=+At[0],Tt+At[0].length):-1}function S(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+2));return At?(at.V=+At[0],Tt+At[0].length):-1}function w(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+2));return At?(at.W=+At[0],Tt+At[0].length):-1}function E(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+4));return At?(at.y=+At[0],Tt+At[0].length):-1}function L(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+2));return At?(at.y=+At[0]+(+At[0]>68?1900:2e3),Tt+At[0].length):-1}function C(at,st,Tt){var At=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(st.slice(Tt,Tt+6));return At?(at.Z=At[1]?0:-(At[2]+(At[3]||"00")),Tt+At[0].length):-1}function O(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+1));return At?(at.q=3*At[0]-3,Tt+At[0].length):-1}function R(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+2));return At?(at.m=At[0]-1,Tt+At[0].length):-1}function q(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+2));return At?(at.d=+At[0],Tt+At[0].length):-1}function P(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+3));return At?(at.m=0,at.d=+At[0],Tt+At[0].length):-1}function U(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+2));return At?(at.H=+At[0],Tt+At[0].length):-1}function N(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+2));return At?(at.M=+At[0],Tt+At[0].length):-1}function F(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+2));return At?(at.S=+At[0],Tt+At[0].length):-1}function j(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+3));return At?(at.L=+At[0],Tt+At[0].length):-1}function G(at,st,Tt){var At=p.exec(st.slice(Tt,Tt+6));return At?(at.L=Math.floor(At[0]/1e3),Tt+At[0].length):-1}function te(at,st,Tt){var At=c.exec(st.slice(Tt,Tt+1));return At?Tt+At[0].length:-1}function J(at,st,Tt){var At=p.exec(st.slice(Tt));return At?(at.Q=+At[0],Tt+At[0].length):-1}function X(at,st,Tt){var At=p.exec(st.slice(Tt));return At?(at.s=+At[0],Tt+At[0].length):-1}function Y(at,st){return g(at.getDate(),st,2)}function W(at,st){return g(at.getHours(),st,2)}function $(at,st){return g(at.getHours()%12||12,st,2)}function ne(at,st){return g(1+T.Z.count((0,b.Z)(at),at),st,3)}function re(at,st){return g(at.getMilliseconds(),st,3)}function oe(at,st){return re(at,st)+"000"}function ue(at,st){return g(at.getMonth()+1,st,2)}function xe(at,st){return g(at.getMinutes(),st,2)}function Me(at,st){return g(at.getSeconds(),st,2)}function me(at){var st=at.getDay();return 0===st?7:st}function pe(at,st){return g(l.OM.count((0,b.Z)(at)-1,at),st,2)}function ge(at,st){var Tt=at.getDay();return at=Tt>=4||0===Tt?(0,l.bL)(at):l.bL.ceil(at),g(l.bL.count((0,b.Z)(at),at)+(4===(0,b.Z)(at).getDay()),st,2)}function Pe(at){return at.getDay()}function _e(at,st){return g(l.wA.count((0,b.Z)(at)-1,at),st,2)}function we(at,st){return g(at.getFullYear()%100,st,2)}function se(at,st){return g(at.getFullYear()%1e4,st,4)}function ae(at){var st=at.getTimezoneOffset();return(st>0?"-":(st*=-1,"+"))+g(st/60|0,"0",2)+g(st%60,"0",2)}function fe(at,st){return g(at.getUTCDate(),st,2)}function Ee(at,st){return g(at.getUTCHours(),st,2)}function ke(at,st){return g(at.getUTCHours()%12||12,st,2)}function be(at,st){return g(1+k.Z.count((0,d.Z)(at),at),st,3)}function Ie(at,st){return g(at.getUTCMilliseconds(),st,3)}function Fe(at,st){return Ie(at,st)+"000"}function ce(at,st){return g(at.getUTCMonth()+1,st,2)}function Te(at,st){return g(at.getUTCMinutes(),st,2)}function ve(at,st){return g(at.getUTCSeconds(),st,2)}function Ce(at){var st=at.getUTCDay();return 0===st?7:st}function Re(at,st){return g(A.Ox.count((0,d.Z)(at)-1,at),st,2)}function Oe(at,st){var Tt=at.getUTCDay();return at=Tt>=4||0===Tt?(0,A.hB)(at):A.hB.ceil(at),g(A.hB.count((0,d.Z)(at),at)+(4===(0,d.Z)(at).getUTCDay()),st,2)}function je(at){return at.getUTCDay()}function qe(at,st){return g(A.l6.count((0,d.Z)(at)-1,at),st,2)}function Je(at,st){return g(at.getUTCFullYear()%100,st,2)}function it(at,st){return g(at.getUTCFullYear()%1e4,st,4)}function Qe(){return"+0000"}function dt(){return"%"}function yt(at){return+at}function mt(at){return Math.floor(+at/1e3)}n=r({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),o=n.format,s=n.utcFormat},82301:function(ee,D,e){"use strict";e.d(D,{a:function(){return T}});var A=e(30052),k=e(54263),l=(0,A.Z)(function(b){b.setHours(0,0,0,0)},function(b,d){b.setDate(b.getDate()+d)},function(b,d){return(d-b-(d.getTimezoneOffset()-b.getTimezoneOffset())*k.yB)/k.UD},function(b){return b.getDate()-1});D.Z=l;var T=l.range},54263:function(ee,D,e){"use strict";e.d(D,{UD:function(){return T},Y2:function(){return l},Ym:function(){return A},iM:function(){return b},yB:function(){return k}});var A=1e3,k=6e4,l=36e5,T=864e5,b=6048e5},81041:function(ee,D,e){"use strict";e.r(D),e.d(D,{timeDay:function(){return p.Z},timeDays:function(){return p.a},timeFriday:function(){return c.mC},timeFridays:function(){return c.b$},timeHour:function(){return s},timeHours:function(){return u},timeInterval:function(){return A.Z},timeMillisecond:function(){return l},timeMilliseconds:function(){return T},timeMinute:function(){return r},timeMinutes:function(){return n},timeMonday:function(){return c.wA},timeMondays:function(){return c.bJ},timeMonth:function(){return g},timeMonths:function(){return h},timeSaturday:function(){return c.EY},timeSaturdays:function(){return c.Ff},timeSecond:function(){return a},timeSeconds:function(){return t},timeSunday:function(){return c.OM},timeSundays:function(){return c.vm},timeThursday:function(){return c.bL},timeThursdays:function(){return c.$t},timeTuesday:function(){return c.sy},timeTuesdays:function(){return c.aU},timeWednesday:function(){return c.zg},timeWednesdays:function(){return c.Ld},timeWeek:function(){return c.OM},timeWeeks:function(){return c.vm},timeYear:function(){return y.Z},timeYears:function(){return y.g},utcDay:function(){return E.Z},utcDays:function(){return E.y},utcFriday:function(){return L.QQ},utcFridays:function(){return L.fz},utcHour:function(){return S},utcHours:function(){return w},utcMillisecond:function(){return l},utcMilliseconds:function(){return T},utcMinute:function(){return m},utcMinutes:function(){return _},utcMonday:function(){return L.l6},utcMondays:function(){return L.$3},utcMonth:function(){return O},utcMonths:function(){return R},utcSaturday:function(){return L.g4},utcSaturdays:function(){return L.Q_},utcSecond:function(){return a},utcSeconds:function(){return t},utcSunday:function(){return L.Ox},utcSundays:function(){return L.SU},utcThursday:function(){return L.hB},utcThursdays:function(){return L.xj},utcTuesday:function(){return L.J1},utcTuesdays:function(){return L.DK},utcWednesday:function(){return L.b3},utcWednesdays:function(){return L.uy},utcWeek:function(){return L.Ox},utcWeeks:function(){return L.SU},utcYear:function(){return q.Z},utcYears:function(){return q.D}});var A=e(30052),k=(0,A.Z)(function(){},function(P,U){P.setTime(+P+U)},function(P,U){return U-P});k.every=function(P){return P=Math.floor(P),isFinite(P)&&P>0?P>1?(0,A.Z)(function(U){U.setTime(Math.floor(U/P)*P)},function(U,N){U.setTime(+U+N*P)},function(U,N){return(N-U)/P}):k:null};var l=k,T=k.range,b=e(54263),d=(0,A.Z)(function(P){P.setTime(P-P.getMilliseconds())},function(P,U){P.setTime(+P+U*b.Ym)},function(P,U){return(U-P)/b.Ym},function(P){return P.getUTCSeconds()}),a=d,t=d.range,i=(0,A.Z)(function(P){P.setTime(P-P.getMilliseconds()-P.getSeconds()*b.Ym)},function(P,U){P.setTime(+P+U*b.yB)},function(P,U){return(U-P)/b.yB},function(P){return P.getMinutes()}),r=i,n=i.range,o=(0,A.Z)(function(P){P.setTime(P-P.getMilliseconds()-P.getSeconds()*b.Ym-P.getMinutes()*b.yB)},function(P,U){P.setTime(+P+U*b.Y2)},function(P,U){return(U-P)/b.Y2},function(P){return P.getHours()}),s=o,u=o.range,p=e(82301),c=e(59879),x=(0,A.Z)(function(P){P.setDate(1),P.setHours(0,0,0,0)},function(P,U){P.setMonth(P.getMonth()+U)},function(P,U){return U.getMonth()-P.getMonth()+12*(U.getFullYear()-P.getFullYear())},function(P){return P.getMonth()}),g=x,h=x.range,y=e(34823),v=(0,A.Z)(function(P){P.setUTCSeconds(0,0)},function(P,U){P.setTime(+P+U*b.yB)},function(P,U){return(U-P)/b.yB},function(P){return P.getUTCMinutes()}),m=v,_=v.range,f=(0,A.Z)(function(P){P.setUTCMinutes(0,0,0)},function(P,U){P.setTime(+P+U*b.Y2)},function(P,U){return(U-P)/b.Y2},function(P){return P.getUTCHours()}),S=f,w=f.range,E=e(48480),L=e(58176),C=(0,A.Z)(function(P){P.setUTCDate(1),P.setUTCHours(0,0,0,0)},function(P,U){P.setUTCMonth(P.getUTCMonth()+U)},function(P,U){return U.getUTCMonth()-P.getUTCMonth()+12*(U.getUTCFullYear()-P.getUTCFullYear())},function(P){return P.getUTCMonth()}),O=C,R=C.range,q=e(79791)},30052:function(ee,D,e){"use strict";e.d(D,{Z:function(){return l}});var A=new Date,k=new Date;function l(T,b,d,a){function t(i){return T(i=0===arguments.length?new Date:new Date(+i)),i}return t.floor=function(i){return T(i=new Date(+i)),i},t.ceil=function(i){return T(i=new Date(i-1)),b(i,1),T(i),i},t.round=function(i){var r=t(i),n=t.ceil(i);return i-r<n-i?r:n},t.offset=function(i,r){return b(i=new Date(+i),null==r?1:Math.floor(r)),i},t.range=function(i,r,n){var o,s=[];if(i=t.ceil(i),n=null==n?1:Math.floor(n),!(i<r&&n>0))return s;do{s.push(o=new Date(+i)),b(i,n),T(i)}while(o<i&&i<r);return s},t.filter=function(i){return l(function(r){if(r>=r)for(;T(r),!i(r);)r.setTime(r-1)},function(r,n){if(r>=r)if(n<0)for(;++n<=0;)for(;b(r,-1),!i(r););else for(;--n>=0;)for(;b(r,1),!i(r););})},d&&(t.count=function(i,r){return A.setTime(+i),k.setTime(+r),T(A),T(k),Math.floor(d(A,k))},t.every=function(i){return i=Math.floor(i),isFinite(i)&&i>0?i>1?t.filter(a?function(r){return a(r)%i==0}:function(r){return t.count(0,r)%i==0}):t:null}),t}},48480:function(ee,D,e){"use strict";e.d(D,{y:function(){return T}});var A=e(30052),k=e(54263),l=(0,A.Z)(function(b){b.setUTCHours(0,0,0,0)},function(b,d){b.setUTCDate(b.getUTCDate()+d)},function(b,d){return(d-b)/k.UD},function(b){return b.getUTCDate()-1});D.Z=l;var T=l.range},58176:function(ee,D,e){"use strict";e.d(D,{$3:function(){return o},DK:function(){return s},J1:function(){return d},Ox:function(){return T},QQ:function(){return i},Q_:function(){return x},SU:function(){return n},b3:function(){return a},fz:function(){return c},g4:function(){return r},hB:function(){return t},l6:function(){return b},uy:function(){return u},xj:function(){return p}});var A=e(30052),k=e(54263);function l(g){return(0,A.Z)(function(h){h.setUTCDate(h.getUTCDate()-(h.getUTCDay()+7-g)%7),h.setUTCHours(0,0,0,0)},function(h,y){h.setUTCDate(h.getUTCDate()+7*y)},function(h,y){return(y-h)/k.iM})}var T=l(0),b=l(1),d=l(2),a=l(3),t=l(4),i=l(5),r=l(6),n=T.range,o=b.range,s=d.range,u=a.range,p=t.range,c=i.range,x=r.range},79791:function(ee,D,e){"use strict";e.d(D,{D:function(){return l}});var A=e(30052),k=(0,A.Z)(function(T){T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,b){T.setUTCFullYear(T.getUTCFullYear()+b)},function(T,b){return b.getUTCFullYear()-T.getUTCFullYear()},function(T){return T.getUTCFullYear()});k.every=function(T){return isFinite(T=Math.floor(T))&&T>0?(0,A.Z)(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/T)*T),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,d){b.setUTCFullYear(b.getUTCFullYear()+d*T)}):null},D.Z=k;var l=k.range},59879:function(ee,D,e){"use strict";e.d(D,{$t:function(){return p},EY:function(){return r},Ff:function(){return x},Ld:function(){return u},OM:function(){return T},aU:function(){return s},b$:function(){return c},bJ:function(){return o},bL:function(){return t},mC:function(){return i},sy:function(){return d},vm:function(){return n},wA:function(){return b},zg:function(){return a}});var A=e(30052),k=e(54263);function l(g){return(0,A.Z)(function(h){h.setDate(h.getDate()-(h.getDay()+7-g)%7),h.setHours(0,0,0,0)},function(h,y){h.setDate(h.getDate()+7*y)},function(h,y){return(y-h-(y.getTimezoneOffset()-h.getTimezoneOffset())*k.yB)/k.iM})}var T=l(0),b=l(1),d=l(2),a=l(3),t=l(4),i=l(5),r=l(6),n=T.range,o=b.range,s=d.range,u=a.range,p=t.range,c=i.range,x=r.range},34823:function(ee,D,e){"use strict";e.d(D,{g:function(){return l}});var A=e(30052),k=(0,A.Z)(function(T){T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,b){T.setFullYear(T.getFullYear()+b)},function(T,b){return b.getFullYear()-T.getFullYear()},function(T){return T.getFullYear()});k.every=function(T){return isFinite(T=Math.floor(T))&&T>0?(0,A.Z)(function(b){b.setFullYear(Math.floor(b.getFullYear()/T)*T),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,d){b.setFullYear(b.getFullYear()+d*T)}):null},D.Z=k;var l=k.range},17045:function(ee,D,e){"use strict";var A=e(8709),k="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),l=Object.prototype.toString,T=Array.prototype.concat,b=Object.defineProperty,d=e(55622)(),a=b&&d,t=function(r,n,o,s){if(n in r)if(!0===s){if(r[n]===o)return}else if("function"!=typeof(u=s)||"[object Function]"!==l.call(u)||!s())return;var u;a?b(r,n,{configurable:!0,enumerable:!1,value:o,writable:!0}):r[n]=o},i=function(r,n){var o=arguments.length>2?arguments[2]:{},s=A(n);k&&(s=T.call(s,Object.getOwnPropertySymbols(n)));for(var u=0;u<s.length;u+=1)t(r,s[u],n[s[u]],o[s[u]])};i.supportsDescriptors=!!a,ee.exports=i},46775:function(ee){ee.exports=function(){for(var D=0;D<arguments.length;D++)if(void 0!==arguments[D])return arguments[D]}},53545:function(ee){"use strict";ee.exports=A;var D=(A.canvas=document.createElement("canvas")).getContext("2d"),e=k([32,126]);function A(l,T){Array.isArray(l)&&(l=l.join(", "));var b,d={},a=16,t=.05;T&&(2===T.length&&"number"==typeof T[0]?b=k(T):Array.isArray(T)?b=T:(T.o?b=k(T.o):T.pairs&&(b=T.pairs),T.fontSize&&(a=T.fontSize),null!=T.threshold&&(t=T.threshold))),b||(b=e),D.font=a+"px "+l;for(var i=0;i<b.length;i++){var r=b[i],n=D.measureText(r[0]).width+D.measureText(r[1]).width,o=D.measureText(r).width;Math.abs(n-o)>a*t&&(d[r]=(o-n)/a*1e3)}return d}function k(l){for(var T=[],b=l[0];b<=l[1];b++)for(var d=String.fromCharCode(b),a=l[0];a<l[1];a++){var t=d+String.fromCharCode(a);T.push(t)}return T}A.createPairs=k,A.ascii=e},31457:function(ee,D,e){var A=e(65185),k=e(18625),l={M:"moveTo",C:"bezierCurveTo"};ee.exports=function(T,b){T.beginPath(),k(A(b)).forEach(function(d){var a=d[0],t=d.slice(1);T[l[a]].apply(T,t)}),T.closePath()}},90660:function(ee){ee.exports=function(D){switch(D){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(ee){"use strict";function D(e,A,k){var l=0|e[k];if(l<=0)return[];var T,b=new Array(l);if(k===e.length-1)for(T=0;T<l;++T)b[T]=A;else for(T=0;T<l;++T)b[T]=D(e,A,k+1);return b}ee.exports=function(e,A){switch(void 0===A&&(A=0),typeof e){case"number":if(e>0)return function(k,l){var T,b;for(T=new Array(k),b=0;b<k;++b)T[b]=l;return T}(0|e,A);break;case"object":if("number"==typeof e.length)return D(e,A,0)}return[]}},11474:function(ee){"use strict";function D(S,w,E){E=E||2;var L,C,O,R,q,P,U,N=w&&w.length,F=N?w[0]*E:S.length,j=e(S,0,F,E,!0),G=[];if(!j||j.next===j.prev)return G;if(N&&(j=function(J,X,Y,W){var $,ne,re,oe=[];for($=0,ne=X.length;$<ne;$++)(re=e(J,X[$]*W,$<ne-1?X[$+1]*W:J.length,W,!1))===re.next&&(re.steiner=!0),oe.push(n(re));for(oe.sort(a),$=0;$<oe.length;$++)t(oe[$],Y),Y=A(Y,Y.next);return Y}(S,w,j,E)),S.length>80*E){L=O=S[0],C=R=S[1];for(var te=E;te<F;te+=E)(q=S[te])<L&&(L=q),(P=S[te+1])<C&&(C=P),q>O&&(O=q),P>R&&(R=P);U=0!==(U=Math.max(O-L,R-C))?1/U:0}return k(j,G,E,L,C,U),G}function e(S,w,E,L,C){var O,R;if(C===f(S,w,E,L)>0)for(O=w;O<E;O+=L)R=v(O,S[O],S[O+1],R);else for(O=E-L;O>=w;O-=L)R=v(O,S[O],S[O+1],R);return R&&p(R,R.next)&&(m(R),R=R.next),R}function A(S,w){if(!S)return S;w||(w=S);var E,L=S;do{if(E=!1,L.steiner||!p(L,L.next)&&0!==u(L.prev,L,L.next))L=L.next;else{if(m(L),(L=w=L.prev)===L.next)break;E=!0}}while(E||L!==w);return w}function k(S,w,E,L,C,O,R){if(S){!R&&O&&function(N,F,j,G){var te=N;do{null===te.z&&(te.z=r(te.x,te.y,F,j,G)),te.prevZ=te.prev,te.nextZ=te.next,te=te.next}while(te!==N);te.prevZ.nextZ=null,te.prevZ=null,function(J){var X,Y,W,$,ne,re,oe,ue,xe=1;do{for(Y=J,J=null,ne=null,re=0;Y;){for(re++,W=Y,oe=0,X=0;X<xe&&(oe++,W=W.nextZ);X++);for(ue=xe;oe>0||ue>0&&W;)0!==oe&&(0===ue||!W||Y.z<=W.z)?($=Y,Y=Y.nextZ,oe--):($=W,W=W.nextZ,ue--),ne?ne.nextZ=$:J=$,$.prevZ=ne,ne=$;Y=W}ne.nextZ=null,xe*=2}while(re>1)}(te)}(S,L,C,O);for(var q,P,U=S;S.prev!==S.next;)if(q=S.prev,P=S.next,O?T(S,L,C,O):l(S))w.push(q.i/E),w.push(S.i/E),w.push(P.i/E),m(S),S=P.next,U=P.next;else if((S=P)===U){R?1===R?k(S=b(A(S),w,E),w,E,L,C,O,2):2===R&&d(S,w,E,L,C,O):k(A(S),w,E,L,C,O,1);break}}}function l(S){var w=S.prev,E=S,L=S.next;if(u(w,E,L)>=0)return!1;for(var C=S.next.next;C!==S.prev;){if(o(w.x,w.y,E.x,E.y,L.x,L.y,C.x,C.y)&&u(C.prev,C,C.next)>=0)return!1;C=C.next}return!0}function T(S,w,E,L){var C=S.prev,O=S,R=S.next;if(u(C,O,R)>=0)return!1;for(var U=C.x>O.x?C.x>R.x?C.x:R.x:O.x>R.x?O.x:R.x,N=C.y>O.y?C.y>R.y?C.y:R.y:O.y>R.y?O.y:R.y,F=r(C.x<O.x?C.x<R.x?C.x:R.x:O.x<R.x?O.x:R.x,C.y<O.y?C.y<R.y?C.y:R.y:O.y<R.y?O.y:R.y,w,E,L),j=r(U,N,w,E,L),G=S.prevZ,te=S.nextZ;G&&G.z>=F&&te&&te.z<=j;){if(G!==S.prev&&G!==S.next&&o(C.x,C.y,O.x,O.y,R.x,R.y,G.x,G.y)&&u(G.prev,G,G.next)>=0||(G=G.prevZ,te!==S.prev&&te!==S.next&&o(C.x,C.y,O.x,O.y,R.x,R.y,te.x,te.y)&&u(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;G&&G.z>=F;){if(G!==S.prev&&G!==S.next&&o(C.x,C.y,O.x,O.y,R.x,R.y,G.x,G.y)&&u(G.prev,G,G.next)>=0)return!1;G=G.prevZ}for(;te&&te.z<=j;){if(te!==S.prev&&te!==S.next&&o(C.x,C.y,O.x,O.y,R.x,R.y,te.x,te.y)&&u(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function b(S,w,E){var L=S;do{var C=L.prev,O=L.next.next;!p(C,O)&&c(C,L,L.next,O)&&h(C,O)&&h(O,C)&&(w.push(C.i/E),w.push(L.i/E),w.push(O.i/E),m(L),m(L.next),L=S=O),L=L.next}while(L!==S);return A(L)}function d(S,w,E,L,C,O){var R=S;do{for(var q=R.next.next;q!==R.prev;){if(R.i!==q.i&&s(R,q)){var P=y(R,q);return R=A(R,R.next),P=A(P,P.next),k(R,w,E,L,C,O),void k(P,w,E,L,C,O)}q=q.next}R=R.next}while(R!==S)}function a(S,w){return S.x-w.x}function t(S,w){if(w=function(L,C){var O,R=C,q=L.x,P=L.y,U=-1/0;do{if(P<=R.y&&P>=R.next.y&&R.next.y!==R.y){var N=R.x+(P-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(N<=q&&N>U){if(U=N,N===q){if(P===R.y)return R;if(P===R.next.y)return R.next}O=R.x<R.next.x?R:R.next}}R=R.next}while(R!==C);if(!O)return null;if(q===U)return O;var F,j=O,G=O.x,te=O.y,J=1/0;R=O;do{q>=R.x&&R.x>=G&&q!==R.x&&o(P<te?q:U,P,G,te,P<te?U:q,P,R.x,R.y)&&(F=Math.abs(P-R.y)/(q-R.x),h(R,L)&&(F<J||F===J&&(R.x>O.x||R.x===O.x&&i(O,R)))&&(O=R,J=F)),R=R.next}while(R!==j);return O}(S,w)){var E=y(w,S);A(w,w.next),A(E,E.next)}}function i(S,w){return u(S.prev,S,w.prev)<0&&u(w.next,S,S.next)<0}function r(S,w,E,L,C){return(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S=32767*(S-E)*C)|S<<8))|S<<4))|S<<2))|S<<1))|(w=1431655765&((w=858993459&((w=252645135&((w=16711935&((w=32767*(w-L)*C)|w<<8))|w<<4))|w<<2))|w<<1))<<1}function n(S){var w=S,E=S;do{(w.x<E.x||w.x===E.x&&w.y<E.y)&&(E=w),w=w.next}while(w!==S);return E}function o(S,w,E,L,C,O,R,q){return(C-R)*(w-q)-(S-R)*(O-q)>=0&&(S-R)*(L-q)-(E-R)*(w-q)>=0&&(E-R)*(O-q)-(C-R)*(L-q)>=0}function s(S,w){return S.next.i!==w.i&&S.prev.i!==w.i&&!function(E,L){var C=E;do{if(C.i!==E.i&&C.next.i!==E.i&&C.i!==L.i&&C.next.i!==L.i&&c(C,C.next,E,L))return!0;C=C.next}while(C!==E);return!1}(S,w)&&(h(S,w)&&h(w,S)&&function(E,L){var C=E,O=!1,R=(E.x+L.x)/2,q=(E.y+L.y)/2;do{C.y>q!=C.next.y>q&&C.next.y!==C.y&&R<(C.next.x-C.x)*(q-C.y)/(C.next.y-C.y)+C.x&&(O=!O),C=C.next}while(C!==E);return O}(S,w)&&(u(S.prev,S,w.prev)||u(S,w.prev,w))||p(S,w)&&u(S.prev,S,S.next)>0&&u(w.prev,w,w.next)>0)}function u(S,w,E){return(w.y-S.y)*(E.x-w.x)-(w.x-S.x)*(E.y-w.y)}function p(S,w){return S.x===w.x&&S.y===w.y}function c(S,w,E,L){var C=g(u(S,w,E)),O=g(u(S,w,L)),R=g(u(E,L,S)),q=g(u(E,L,w));return C!==O&&R!==q||!(0!==C||!x(S,E,w))||!(0!==O||!x(S,L,w))||!(0!==R||!x(E,S,L))||!(0!==q||!x(E,w,L))}function x(S,w,E){return w.x<=Math.max(S.x,E.x)&&w.x>=Math.min(S.x,E.x)&&w.y<=Math.max(S.y,E.y)&&w.y>=Math.min(S.y,E.y)}function g(S){return S>0?1:S<0?-1:0}function h(S,w){return u(S.prev,S,S.next)<0?u(S,w,S.next)>=0&&u(S,S.prev,w)>=0:u(S,w,S.prev)<0||u(S,S.next,w)<0}function y(S,w){var E=new _(S.i,S.x,S.y),L=new _(w.i,w.x,w.y),C=S.next,O=w.prev;return S.next=w,w.prev=S,E.next=C,C.prev=E,L.next=E,E.prev=L,O.next=L,L.prev=O,L}function v(S,w,E,L){var C=new _(S,w,E);return L?(C.next=L.next,C.prev=L,L.next.prev=C,L.next=C):(C.prev=C,C.next=C),C}function m(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function _(S,w,E){this.i=S,this.x=w,this.y=E,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function f(S,w,E,L){for(var C=0,O=w,R=E-L;O<E;O+=L)C+=(S[R]-S[O])*(S[O+1]+S[R+1]),R=O;return C}ee.exports=D,ee.exports.default=D,D.deviation=function(S,w,E,L){var C=w&&w.length,R=Math.abs(f(S,0,C?w[0]*E:S.length,E));if(C)for(var q=0,P=w.length;q<P;q++)R-=Math.abs(f(S,w[q]*E,q<P-1?w[q+1]*E:S.length,E));var F=0;for(q=0;q<L.length;q+=3){var j=L[q]*E,G=L[q+1]*E,te=L[q+2]*E;F+=Math.abs((S[j]-S[te])*(S[G+1]-S[j+1])-(S[j]-S[G])*(S[te+1]-S[j+1]))}return 0===R&&0===F?0:Math.abs((F-R)/R)},D.flatten=function(S){for(var w=S[0][0].length,E={vertices:[],holes:[],dimensions:w},L=0,C=0;C<S.length;C++){for(var O=0;O<S[C].length;O++)for(var R=0;R<w;R++)E.vertices.push(S[C][O][R]);C>0&&E.holes.push(L+=S[C-1].length)}return E}},2502:function(ee,D,e){var A=e(68664);ee.exports=function(k,l){var T,b=[],d=[],a=[],t={},i=[];function r(h){a[h]=!1,t.hasOwnProperty(h)&&Object.keys(t[h]).forEach(function(y){delete t[h][y],a[y]&&r(y)})}function n(h){var y,v,m=!1;for(d.push(h),a[h]=!0,y=0;y<i[h].length;y++)(v=i[h][y])===T?(o(T,d),m=!0):a[v]||(m=n(v));if(m)r(h);else for(y=0;y<i[h].length;y++){var _=t[v=i[h][y]];_||(t[v]=_={}),_[v]=!0}return d.pop(),m}function o(h,y){var v=[].concat(y).concat(h);l?l(n):b.push(v)}function s(h){!function(E){for(var L=0;L<k.length;L++)L<E&&(k[L]=[]),k[L]=k[L].filter(function(C){return C>=E})}(h);for(var y,v=A(k).components.filter(function(E){return E.length>1}),m=1/0,_=0;_<v.length;_++)for(var f=0;f<v[_].length;f++)v[_][f]<m&&(m=v[_][f],y=_);var S=v[y];return!!S&&{leastVertex:m,adjList:k.map(function(E,L){return-1===S.indexOf(L)?[]:E.filter(function(C){return-1!==S.indexOf(C)})})}}T=0;for(var u=k.length;T<u;){var p=s(T);if(T=p.leastVertex,i=p.adjList){for(var c=0;c<i.length;c++)for(var x=0;x<i[c].length;x++){var g=i[c][x];a[+g]=!1,t[g]={}}n(T),T+=1}else T=u}return l?void 0:b}},16134:function(ee,D,e){"use strict";var A=e(36672);ee.exports=function(){return A(this).length=0,this}},4892:function(ee,D,e){"use strict";ee.exports=e(64404)()?Array.from:e(49441)},64404:function(ee){"use strict";ee.exports=function(){var D,e,A=Array.from;return"function"==typeof A&&!(!(e=A(D=["raz","dwa"]))||e===D||"dwa"!==e[1])}},49441:function(ee,D,e){"use strict";var A=e(8260).iterator,k=e(73051),l=e(33717),T=e(35976),b=e(78513),d=e(36672),a=e(95296),t=e(87963),i=Array.isArray,r=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},o=Object.defineProperty;ee.exports=function(s){var u,p,c,x,g,h,y,v,m,_,f=arguments[1],S=arguments[2];if(s=Object(d(s)),a(f)&&b(f),this&&this!==Array&&l(this))u=this;else{if(!f){if(k(s))return 1!==(g=s.length)?Array.apply(null,s):((x=new Array(1))[0]=s[0],x);if(i(s)){for(x=new Array(g=s.length),p=0;p<g;++p)x[p]=s[p];return x}}x=[]}if(!i(s))if(void 0!==(m=s[A])){for(y=b(m).call(s),u&&(x=new u),v=y.next(),p=0;!v.done;)_=f?r.call(f,S,v.value,p):v.value,u?(n.value=_,o(x,p,n)):x[p]=_,v=y.next(),++p;g=p}else if(t(s)){for(g=s.length,u&&(x=new u),p=0,c=0;p<g;++p)_=s[p],p+1<g&&(h=_.charCodeAt(0))>=55296&&h<=56319&&(_+=s[++p]),_=f?r.call(f,S,_,c):_,u?(n.value=_,o(x,c,n)):x[c]=_,++c;g=c}if(void 0===g)for(g=T(s.length),u&&(x=new u(g)),p=0;p<g;++p)_=f?r.call(f,S,s[p],p):s[p],u?(n.value=_,o(x,p,n)):x[p]=_;return u&&(n.value=null,x.length=g),x}},73051:function(ee){"use strict";var D=Object.prototype.toString,e=D.call(function(){return arguments}());ee.exports=function(A){return D.call(A)===e}},33717:function(ee){"use strict";var D=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);ee.exports=function(A){return"function"==typeof A&&e(D.call(A))}},52345:function(ee){"use strict";ee.exports=function(){}},9953:function(ee,D,e){"use strict";ee.exports=e(90436)()?Math.sign:e(6069)},90436:function(ee){"use strict";ee.exports=function(){var D=Math.sign;return"function"==typeof D&&1===D(10)&&-1===D(-20)}},6069:function(ee){"use strict";ee.exports=function(D){return D=Number(D),isNaN(D)||0===D?D:D>0?1:-1}},56247:function(ee,D,e){"use strict";var A=e(9953),k=Math.abs,l=Math.floor;ee.exports=function(T){return isNaN(T)?0:0!==(T=Number(T))&&isFinite(T)?A(T)*l(k(T)):T}},35976:function(ee,D,e){"use strict";var A=e(56247),k=Math.max;ee.exports=function(l){return k(0,A(l))}},67260:function(ee,D,e){"use strict";var A=e(78513),k=e(36672),l=Function.prototype.bind,T=Function.prototype.call,b=Object.keys,d=Object.prototype.propertyIsEnumerable;ee.exports=function(a,t){return function(i,r){var n,o=arguments[2],s=arguments[3];return i=Object(k(i)),A(r),n=b(i),s&&n.sort("function"==typeof s?l.call(s,i):void 0),"function"!=typeof a&&(a=n[a]),T.call(a,n,function(u,p){return d.call(i,u)?T.call(r,o,i[u],u,i,p):t})}}},95879:function(ee,D,e){"use strict";ee.exports=e(73583)()?Object.assign:e(34205)},73583:function(ee){"use strict";ee.exports=function(){var D,e=Object.assign;return"function"==typeof e&&(e(D={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),D.foo+D.bar+D.trzy==="razdwatrzy")}},34205:function(ee,D,e){"use strict";var A=e(68700),k=e(36672),l=Math.max;ee.exports=function(T,b){var d,a,t,i=l(arguments.length,2);for(T=Object(k(T)),t=function(r){try{T[r]=b[r]}catch(n){d||(d=n)}},a=1;a<i;++a)A(b=arguments[a]).forEach(t);if(void 0!==d)throw d;return T}},19012:function(ee,D,e){"use strict";var A=e(4892),k=e(95879),l=e(36672);ee.exports=function(T){var b=Object(l(T)),d=arguments[1],a=Object(arguments[2]);if(b!==T&&!d)return b;var t={};return d?A(d,function(i){(a.ensure||i in T)&&(t[i]=T[i])}):k(t,T),t}},52818:function(ee,D,e){"use strict";var A,k,l,T,b=Object.create;e(33247)()||(A=e(51882)),ee.exports=A?1!==A.level?b:(k={},l={},T={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(d){l[d]="__proto__"!==d?T:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(k,l),Object.defineProperty(A,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:k}),function(d,a){return b(null===d?k:d,a)}):b},96437:function(ee,D,e){"use strict";ee.exports=e(67260)("forEach")},99611:function(ee,D,e){"use strict";var A=e(95296),k={function:!0,object:!0};ee.exports=function(l){return A(l)&&k[typeof l]||!1}},95296:function(ee,D,e){"use strict";var A=e(52345)();ee.exports=function(k){return k!==A&&null!==k}},68700:function(ee,D,e){"use strict";ee.exports=e(13895)()?Object.keys:e(25217)},13895:function(ee){"use strict";ee.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(ee,D,e){"use strict";var A=e(95296),k=Object.keys;ee.exports=function(l){return k(A(l)?Object(l):l)}},16906:function(ee,D,e){"use strict";var A=e(78513),k=e(96437),l=Function.prototype.call;ee.exports=function(T,b){var d={},a=arguments[2];return A(b),k(T,function(t,i,r,n){d[i]=l.call(b,a,t,i,r,n)}),d}},21780:function(ee,D,e){"use strict";var A=e(95296),k=Array.prototype.forEach,l=Object.create;ee.exports=function(T){var b=l(null);return k.call(arguments,function(d){A(d)&&function(a,t){var i;for(i in a)t[i]=a[i]}(Object(d),b)}),b}},1496:function(ee,D,e){"use strict";ee.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(ee){"use strict";var D=Object.create,e=Object.getPrototypeOf,A={};ee.exports=function(){var k=Object.setPrototypeOf;return"function"==typeof k&&e(k((arguments[0]||D)(null),A))===A}},51882:function(ee,D,e){"use strict";var A,k,l,T,b=e(99611),d=e(36672),a=Object.prototype.isPrototypeOf,t=Object.defineProperty,i={configurable:!0,enumerable:!1,writable:!0,value:void 0};A=function(r,n){if(d(r),null===n||b(n))return r;throw new TypeError("Prototype must be null or an object")},ee.exports=(k=function(){var r,n=Object.create(null),o={},s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(s){try{(r=s.set).call(n,o)}catch{}if(Object.getPrototypeOf(n)===o)return{set:r,level:2}}return n.__proto__=o,Object.getPrototypeOf(n)===o?{level:2}:((n={}).__proto__=o,Object.getPrototypeOf(n)===o&&{level:1})}())?(2===k.level?k.set?(T=k.set,l=function(r,n){return T.call(A(r,n),n),r}):l=function(r,n){return A(r,n).__proto__=n,r}:l=function r(n,o){var s;return A(n,o),(s=a.call(r.nullPolyfill,n))&&delete r.nullPolyfill.__proto__,null===o&&(o=r.nullPolyfill),n.__proto__=o,s&&t(r.nullPolyfill,"__proto__",i),n},Object.defineProperty(l,"level",{configurable:!1,enumerable:!1,writable:!1,value:k.level})):null,e(52818)},78513:function(ee){"use strict";ee.exports=function(D){if("function"!=typeof D)throw new TypeError(D+" is not a function");return D}},98976:function(ee,D,e){"use strict";var A=e(99611);ee.exports=function(k){if(!A(k))throw new TypeError(k+" is not an Object");return k}},36672:function(ee,D,e){"use strict";var A=e(95296);ee.exports=function(k){if(!A(k))throw new TypeError("Cannot use null or undefined");return k}},66741:function(ee,D,e){"use strict";ee.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(ee){"use strict";var D="razdwatrzy";ee.exports=function(){return"function"==typeof D.contains&&!0===D.contains("dwa")&&!1===D.contains("foo")}},60381:function(ee){"use strict";var D=String.prototype.indexOf;ee.exports=function(e){return D.call(this,e,arguments[1])>-1}},87963:function(ee){"use strict";var D=Object.prototype.toString,e=D.call("");ee.exports=function(A){return"string"==typeof A||A&&"object"==typeof A&&(A instanceof String||D.call(A)===e)||!1}},43043:function(ee){"use strict";var D=Object.create(null),e=Math.random;ee.exports=function(){var A;do{A=e().toString(36).slice(2)}while(D[A]);return A}},32411:function(ee,D,e){"use strict";var A,k=e(1496),l=e(66741),T=e(62072),b=e(8260),d=e(95426),a=Object.defineProperty;A=ee.exports=function(t,i){if(!(this instanceof A))throw new TypeError("Constructor requires 'new'");d.call(this,t),i=i?l.call(i,"key+value")?"key+value":l.call(i,"key")?"key":"value":"value",a(this,"__kind__",T("",i))},k&&k(A,d),delete A.prototype.constructor,A.prototype=Object.create(d.prototype,{_resolve:T(function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t})}),a(A.prototype,b.toStringTag,T("c","Array Iterator"))},27515:function(ee,D,e){"use strict";var A=e(73051),k=e(78513),l=e(87963),T=e(66661),b=Array.isArray,d=Function.prototype.call,a=Array.prototype.some;ee.exports=function(t,i){var r,n,o,s,u,p,c,x,g=arguments[2];if(b(t)||A(t)?r="array":l(t)?r="string":t=T(t),k(i),o=function(){s=!0},"array"!==r)if("string"!==r)for(n=t.next();!n.done;){if(d.call(i,g,n.value,o),s)return;n=t.next()}else for(p=t.length,u=0;u<p&&(c=t[u],u+1<p&&(x=c.charCodeAt(0))>=55296&&x<=56319&&(c+=t[++u]),d.call(i,g,c,o),!s);++u);else a.call(t,function(h){return d.call(i,g,h,o),s})}},66661:function(ee,D,e){"use strict";var A=e(73051),k=e(87963),l=e(32411),T=e(259),b=e(58095),d=e(8260).iterator;ee.exports=function(a){return"function"==typeof b(a)[d]?a[d]():A(a)?new l(a):k(a)?new T(a):new l(a)}},95426:function(ee,D,e){"use strict";var A,k=e(16134),l=e(95879),T=e(78513),b=e(36672),d=e(62072),a=e(55174),t=e(8260),i=Object.defineProperty,r=Object.defineProperties;ee.exports=A=function(n,o){if(!(this instanceof A))throw new TypeError("Constructor requires 'new'");r(this,{__list__:d("w",b(n)),__context__:d("w",o),__nextIndex__:d("w",0)}),o&&(T(o.on),o.on("_add",this._onAdd),o.on("_delete",this._onDelete),o.on("_clear",this._onClear))},delete A.prototype.constructor,r(A.prototype,l({_next:d(function(){var n;if(this.__list__)return this.__redo__&&void 0!==(n=this.__redo__.shift())?n:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:d(function(){return this._createResult(this._next())}),_createResult:d(function(n){return void 0===n?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:d(function(n){return this.__list__[n]}),_unBind:d(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:d(function(){return"[object "+(this[t.toStringTag]||"Object")+"]"})},a({_onAdd:d(function(n){n>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(o,s){o>=n&&(this.__redo__[s]=++o)},this),this.__redo__.push(n)):i(this,"__redo__",d("c",[n])))}),_onDelete:d(function(n){var o;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(o=this.__redo__.indexOf(n))&&this.__redo__.splice(o,1),this.__redo__.forEach(function(s,u){s>n&&(this.__redo__[u]=--s)},this)))}),_onClear:d(function(){this.__redo__&&k.call(this.__redo__),this.__nextIndex__=0})}))),i(A.prototype,t.iterator,d(function(){return this}))},35940:function(ee,D,e){"use strict";var A=e(73051),k=e(95296),l=e(87963),T=e(8260).iterator,b=Array.isArray;ee.exports=function(d){return!(!k(d)||!b(d)&&!l(d)&&!A(d)&&"function"!=typeof d[T])}},259:function(ee,D,e){"use strict";var A,k=e(1496),l=e(62072),T=e(8260),b=e(95426),d=Object.defineProperty;A=ee.exports=function(a){if(!(this instanceof A))throw new TypeError("Constructor requires 'new'");a=String(a),b.call(this,a),d(this,"__length__",l("",a.length))},k&&k(A,b),delete A.prototype.constructor,A.prototype=Object.create(b.prototype,{_next:l(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:l(function(a){var t,i=this.__list__[a];return this.__nextIndex__===this.__length__?i:(t=i.charCodeAt(0))>=55296&&t<=56319?i+this.__list__[this.__nextIndex__++]:i})}),d(A.prototype,T.toStringTag,l("c","String Iterator"))},58095:function(ee,D,e){"use strict";var A=e(35940);ee.exports=function(k){if(!A(k))throw new TypeError(k+" is not iterable");return k}},73523:function(ee){"use strict";function D(e,A){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var k=Object(e),l=1;l<arguments.length;l++){var T=arguments[l];if(null!=T)for(var b=Object.keys(Object(T)),d=0,a=b.length;d<a;d++){var t=b[d],i=Object.getOwnPropertyDescriptor(T,t);void 0!==i&&i.enumerable&&(k[t]=T[t])}}return k}ee.exports={assign:D,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:D})}}},8260:function(ee,D,e){"use strict";ee.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(ee,D,e){"use strict";var A=e(94908),k={object:!0,symbol:!0};ee.exports=function(){var l,T=A.Symbol;if("function"!=typeof T)return!1;l=T("test symbol");try{String(l)}catch{return!1}return!!k[typeof T.iterator]&&!!k[typeof T.toPrimitive]&&!!k[typeof T.toStringTag]}},82276:function(ee){"use strict";ee.exports=function(D){return!!D&&("symbol"==typeof D||!!D.constructor&&"Symbol"===D.constructor.name&&"Symbol"===D[D.constructor.toStringTag])}},29366:function(ee,D,e){"use strict";var A=e(62072),l=Object.defineProperty,T=Object.prototype,b=(0,Object.create)(null);ee.exports=function(d){for(var a,t,i=0;b[d+(i||"")];)++i;return b[d+=i||""]=!0,l(T,a="@@"+d,A.gs(null,function(r){t||(t=!0,l(this,a,A(r)),t=!1)})),a}},92842:function(ee,D,e){"use strict";var A=e(62072),k=e(94908).Symbol;ee.exports=function(l){return Object.defineProperties(l,{hasInstance:A("",k&&k.hasInstance||l("hasInstance")),isConcatSpreadable:A("",k&&k.isConcatSpreadable||l("isConcatSpreadable")),iterator:A("",k&&k.iterator||l("iterator")),match:A("",k&&k.match||l("match")),replace:A("",k&&k.replace||l("replace")),search:A("",k&&k.search||l("search")),species:A("",k&&k.species||l("species")),split:A("",k&&k.split||l("split")),toPrimitive:A("",k&&k.toPrimitive||l("toPrimitive")),toStringTag:A("",k&&k.toStringTag||l("toStringTag")),unscopables:A("",k&&k.unscopables||l("unscopables"))})}},13304:function(ee,D,e){"use strict";var A=e(62072),k=e(53308),l=Object.create(null);ee.exports=function(T){return Object.defineProperties(T,{for:A(function(b){return l[b]?l[b]:l[b]=T(String(b))}),keyFor:A(function(b){var d;for(d in k(b),l)if(l[d]===b)return d})})}},18415:function(ee,D,e){"use strict";var A,k,l,T=e(62072),b=e(53308),d=e(94908).Symbol,a=e(29366),t=e(92842),i=e(13304),r=Object.create,n=Object.defineProperties,o=Object.defineProperty;if("function"==typeof d)try{String(d()),l=!0}catch{}else d=null;k=function(s){if(this instanceof k)throw new TypeError("Symbol is not a constructor");return A(s)},ee.exports=A=function s(u){var p;if(this instanceof s)throw new TypeError("Symbol is not a constructor");return l?d(u):(p=r(k.prototype),u=void 0===u?"":String(u),n(p,{__description__:T("",u),__name__:T("",a(u))}))},t(A),i(A),n(k.prototype,{constructor:T(A),toString:T("",function(){return this.__name__})}),n(A.prototype,{toString:T(function(){return"Symbol ("+b(this).__description__+")"}),valueOf:T(function(){return b(this)})}),o(A.prototype,A.toPrimitive,T("",function(){var s=b(this);return"symbol"==typeof s?s:s.toString()})),o(A.prototype,A.toStringTag,T("c","Symbol")),o(k.prototype,A.toStringTag,T("c",A.prototype[A.toStringTag])),o(k.prototype,A.toPrimitive,T("c",A.prototype[A.toPrimitive]))},53308:function(ee,D,e){"use strict";var A=e(82276);ee.exports=function(k){if(!A(k))throw new TypeError(k+" is not a symbol");return k}},83522:function(ee,D,e){"use strict";ee.exports=e(96402)()?WeakMap:e(329)},96402:function(ee){"use strict";ee.exports=function(){var D,e;if("function"!=typeof WeakMap)return!1;try{D=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return"[object WeakMap]"===String(D)&&"function"==typeof D.set&&D.set({},1)===D&&"function"==typeof D.delete&&"function"==typeof D.has&&"one"===D.get(e)}},96416:function(ee){"use strict";ee.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},329:function(ee,D,e){"use strict";var A,k=e(95296),l=e(1496),T=e(98976),b=e(36672),d=e(43043),a=e(62072),t=e(66661),i=e(27515),r=e(8260).toStringTag,n=e(96416),o=Array.isArray,s=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getPrototypeOf;ee.exports=A=function(){var c,x=arguments[0];if(!(this instanceof A))throw new TypeError("Constructor requires 'new'");return c=n&&l&&WeakMap!==A?l(new WeakMap,p(this)):this,k(x)&&(o(x)||(x=t(x))),s(c,"__weakMapData__",a("c","$weakMap$"+d())),x&&i(x,function(g){b(g),c.set(g[0],g[1])}),c},n&&(l&&l(A,WeakMap),A.prototype=Object.create(WeakMap.prototype,{constructor:a(A)})),Object.defineProperties(A.prototype,{delete:a(function(c){return!!u.call(T(c),this.__weakMapData__)&&(delete c[this.__weakMapData__],!0)}),get:a(function(c){if(u.call(T(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:a(function(c){return u.call(T(c),this.__weakMapData__)}),set:a(function(c,x){return s(T(c),this.__weakMapData__,a("c",x)),this}),toString:a(function(){return"[object WeakMap]"})}),s(A.prototype,r,a("c","WeakMap"))},15398:function(ee){"use strict";var D,e="object"==typeof Reflect?Reflect:null,A=e&&"function"==typeof e.apply?e.apply:function(u,p,c){return Function.prototype.apply.call(u,p,c)};D=e&&"function"==typeof e.ownKeys?e.ownKeys:Object.getOwnPropertySymbols?function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:function(u){return Object.getOwnPropertyNames(u)};var k=Number.isNaN||function(u){return u!=u};function l(){l.init.call(this)}ee.exports=l,ee.exports.once=function(u,p){return new Promise(function(c,x){function g(y){u.removeListener(p,h),x(y)}function h(){"function"==typeof u.removeListener&&u.removeListener("error",g),c([].slice.call(arguments))}var y;s(u,p,h,{once:!0}),"error"!==p&&("function"==typeof(y=u).on&&s(y,"error",g,{once:!0}))})},l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var T=10;function b(u){if("function"!=typeof u)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function d(u){return void 0===u._maxListeners?l.defaultMaxListeners:u._maxListeners}function a(u,p,c,x){var g,h,y;if(b(c),void 0===(h=u._events)?(h=u._events=Object.create(null),u._eventsCount=0):(void 0!==h.newListener&&(u.emit("newListener",p,c.listener?c.listener:c),h=u._events),y=h[p]),void 0===y)y=h[p]=c,++u._eventsCount;else if("function"==typeof y?y=h[p]=x?[c,y]:[y,c]:x?y.unshift(c):y.push(c),(g=d(u))>0&&y.length>g&&!y.warned){y.warned=!0;var m=new Error("Possible EventEmitter memory leak detected. "+y.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");m.name="MaxListenersExceededWarning",m.emitter=u,m.type=p,m.count=y.length,console&&console.warn&&console.warn(m)}return u}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(u,p,c){var x={fired:!1,wrapFn:void 0,target:u,type:p,listener:c},g=t.bind(x);return g.listener=c,x.wrapFn=g,g}function r(u,p,c){var x=u._events;if(void 0===x)return[];var g=x[p];return void 0===g?[]:"function"==typeof g?c?[g.listener||g]:[g]:c?function(h){for(var y=new Array(h.length),v=0;v<y.length;++v)y[v]=h[v].listener||h[v];return y}(g):o(g,g.length)}function n(u){var p=this._events;if(void 0!==p){var c=p[u];if("function"==typeof c)return 1;if(void 0!==c)return c.length}return 0}function o(u,p){for(var c=new Array(p),x=0;x<p;++x)c[x]=u[x];return c}function s(u,p,c,x){if("function"==typeof u.on)x.once?u.once(p,c):u.on(p,c);else{if("function"!=typeof u.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(p,function g(h){x.once&&u.removeEventListener(p,g),c(h)})}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(u){if("number"!=typeof u||u<0||k(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");T=u}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(u){if("number"!=typeof u||u<0||k(u))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+u+".");return this._maxListeners=u,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(u){for(var p=[],c=1;c<arguments.length;c++)p.push(arguments[c]);var x="error"===u,g=this._events;if(void 0!==g)x=x&&void 0===g.error;else if(!x)return!1;if(x){var h;if(p.length>0&&(h=p[0]),h instanceof Error)throw h;var y=new Error("Unhandled error."+(h?" ("+h.message+")":""));throw y.context=h,y}var v=g[u];if(void 0===v)return!1;if("function"==typeof v)A(v,this,p);else{var m=v.length,_=o(v,m);for(c=0;c<m;++c)A(_[c],this,p)}return!0},l.prototype.on=l.prototype.addListener=function(u,p){return a(this,u,p,!1)},l.prototype.prependListener=function(u,p){return a(this,u,p,!0)},l.prototype.once=function(u,p){return b(p),this.on(u,i(this,u,p)),this},l.prototype.prependOnceListener=function(u,p){return b(p),this.prependListener(u,i(this,u,p)),this},l.prototype.off=l.prototype.removeListener=function(u,p){var c,x,g,h,y;if(b(p),void 0===(x=this._events))return this;if(void 0===(c=x[u]))return this;if(c===p||c.listener===p)0==--this._eventsCount?this._events=Object.create(null):(delete x[u],x.removeListener&&this.emit("removeListener",u,c.listener||p));else if("function"!=typeof c){for(g=-1,h=c.length-1;h>=0;h--)if(c[h]===p||c[h].listener===p){y=c[h].listener,g=h;break}if(g<0)return this;0===g?c.shift():function(v,m){for(;m+1<v.length;m++)v[m]=v[m+1];v.pop()}(c,g),1===c.length&&(x[u]=c[0]),void 0!==x.removeListener&&this.emit("removeListener",u,y||p)}return this},l.prototype.removeAllListeners=function(u){var p,c,x;if(void 0===(c=this._events))return this;if(void 0===c.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==c[u]&&(0==--this._eventsCount?this._events=Object.create(null):delete c[u]),this;if(0===arguments.length){var g,h=Object.keys(c);for(x=0;x<h.length;++x)"removeListener"!==(g=h[x])&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(p=c[u]))this.removeListener(u,p);else if(void 0!==p)for(x=p.length-1;x>=0;x--)this.removeListener(u,p[x]);return this},l.prototype.listeners=function(u){return r(this,u,!0)},l.prototype.rawListeners=function(u){return r(this,u,!1)},l.listenerCount=function(u,p){return"function"==typeof u.listenerCount?u.listenerCount(p):n.call(u,p)},l.prototype.listenerCount=n,l.prototype.eventNames=function(){return this._eventsCount>0?D(this._events):[]}},60774:function(ee){var D=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};ee.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return D()}try{return __global__||D()}finally{delete Object.prototype.__global__}}()},94908:function(ee,D,e){"use strict";ee.exports=e(51152)()?globalThis:e(60774)},51152:function(ee){"use strict";ee.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},92770:function(ee,D,e){"use strict";var A=e(18546);ee.exports=function(k){var l=typeof k;if("string"===l){var T=k;if(0==(k=+k)&&A(T))return!1}else if("number"!==l)return!1;return k-k<1}},30120:function(ee,D,e){var A=e(90660);ee.exports=function(k,l,T){if(!k)throw new TypeError("must specify data as first parameter");if(T=0|+(T||0),Array.isArray(k)&&k[0]&&"number"==typeof k[0][0]){var b,d,a,t,i=k[0].length,r=k.length*i;l&&"string"!=typeof l||(l=new(A(l||"float32"))(r+T));var n=l.length-T;if(r!==n)throw new Error("source length "+r+" ("+i+"x"+k.length+") does not match destination length "+n);for(b=0,a=T;b<k.length;b++)for(d=0;d<i;d++)l[a++]=null===k[b][d]?NaN:k[b][d]}else if(l&&"string"!=typeof l)l.set(k,T);else{var o=A(l||"float32");if(Array.isArray(k)||"array"===l)for(b=0,a=T,t=(l=new o(k.length+T)).length;a<t;a++,b++)l[a]=null===k[b]?NaN:k[b];else 0===T?l=new o(k):(l=new o(k.length+T)).set(k,T)}return l}},68016:function(ee,D,e){"use strict";var A=e(53313),k=[32,126];ee.exports=function(l){var T=(l=l||{}).shape?l.shape:l.canvas?[l.canvas.width,l.canvas.height]:[512,512],b=l.canvas||document.createElement("canvas"),d=l.font,a="number"==typeof l.step?[l.step,l.step]:l.step||[32,32],t=l.chars||k;if(d&&"string"!=typeof d&&(d=A(d)),Array.isArray(t)){if(2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]){for(var i=[],r=t[0],n=0;r<=t[1];r++)i[n++]=String.fromCharCode(r);t=i}}else t=String(t).split("");T=T.slice(),b.width=T[0],b.height=T[1];var o=b.getContext("2d");o.fillStyle="#000",o.fillRect(0,0,b.width,b.height),o.font=d,o.textAlign="center",o.textBaseline="middle",o.fillStyle="#fff";var s=a[0]/2,u=a[1]/2;for(r=0;r<t.length;r++)o.fillText(t[r],s,u),(s+=a[0])>T[0]-a[0]/2&&(s=a[0]/2,u+=a[1]);return b}},32879:function(ee){"use strict";function D(l,T){T||(T={}),("string"==typeof l||Array.isArray(l))&&(T.family=l);var b=Array.isArray(T.family)?T.family.join(", "):T.family;if(!b)throw Error("`family` must be defined");var d=T.size||T.fontSize||T.em||48,t=(l=[T.style||T.fontStyle||"",T.weight||T.fontWeight||"",d].join(" ")+"px "+b,T.origin||"top");if(D.cache[b]&&d<=D.cache[b].em)return e(D.cache[b],t);var i=T.canvas||D.canvas,r=i.getContext("2d"),n={upper:void 0!==T.upper?T.upper:"H",lower:void 0!==T.lower?T.lower:"x",descent:void 0!==T.descent?T.descent:"p",ascent:void 0!==T.ascent?T.ascent:"h",tittle:void 0!==T.tittle?T.tittle:"i",overshoot:void 0!==T.overshoot?T.overshoot:"O"},o=Math.ceil(1.5*d);i.height=o,i.width=.5*o,r.font=l;var s="H",u={top:0};r.clearRect(0,0,o,o),r.textBaseline="top",r.fillStyle="black",r.fillText(s,0,0);var p=A(r.getImageData(0,0,o,o));r.clearRect(0,0,o,o),r.textBaseline="bottom",r.fillText(s,0,o);var c=A(r.getImageData(0,0,o,o));u.lineHeight=u.bottom=o-c+p,r.clearRect(0,0,o,o),r.textBaseline="alphabetic",r.fillText(s,0,o);var x=o-A(r.getImageData(0,0,o,o))-1+p;u.baseline=u.alphabetic=x,r.clearRect(0,0,o,o),r.textBaseline="middle",r.fillText(s,0,.5*o);var g=A(r.getImageData(0,0,o,o));u.median=u.middle=o-g-1+p-.5*o,r.clearRect(0,0,o,o),r.textBaseline="hanging",r.fillText(s,0,.5*o);var h=A(r.getImageData(0,0,o,o));u.hanging=o-h-1+p-.5*o,r.clearRect(0,0,o,o),r.textBaseline="ideographic",r.fillText(s,0,o);var y=A(r.getImageData(0,0,o,o));if(u.ideographic=o-y-1+p,n.upper&&(r.clearRect(0,0,o,o),r.textBaseline="top",r.fillText(n.upper,0,0),u.upper=A(r.getImageData(0,0,o,o)),u.capHeight=u.baseline-u.upper),n.lower&&(r.clearRect(0,0,o,o),r.textBaseline="top",r.fillText(n.lower,0,0),u.lower=A(r.getImageData(0,0,o,o)),u.xHeight=u.baseline-u.lower),n.tittle&&(r.clearRect(0,0,o,o),r.textBaseline="top",r.fillText(n.tittle,0,0),u.tittle=A(r.getImageData(0,0,o,o))),n.ascent&&(r.clearRect(0,0,o,o),r.textBaseline="top",r.fillText(n.ascent,0,0),u.ascent=A(r.getImageData(0,0,o,o))),n.descent&&(r.clearRect(0,0,o,o),r.textBaseline="top",r.fillText(n.descent,0,0),u.descent=k(r.getImageData(0,0,o,o))),n.overshoot){r.clearRect(0,0,o,o),r.textBaseline="top",r.fillText(n.overshoot,0,0);var v=k(r.getImageData(0,0,o,o));u.overshoot=v-x}for(var m in u)u[m]/=d;return u.em=d,D.cache[b]=u,e(u,t)}function e(l,T){var b={};for(var d in"string"==typeof T&&(T=l[T]),l)"em"!==d&&(b[d]=l[d]-T);return b}function A(l){for(var T=l.height,b=l.data,d=3;d<b.length;d+=4)if(0!==b[d])return Math.floor(.25*(d-3)/T)}function k(l){for(var T=l.height,b=l.data,d=b.length-1;d>0;d-=4)if(0!==b[d])return Math.floor(.25*(d-3)/T)}ee.exports=D,D.canvas=document.createElement("canvas"),D.cache={}},31353:function(ee,D,e){"use strict";var A=e(85395),k=Object.prototype.toString,l=Object.prototype.hasOwnProperty;ee.exports=function(T,b,d){if(!A(b))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=d),"[object Array]"===k.call(T)?function(t,i,r){for(var n=0,o=t.length;n<o;n++)l.call(t,n)&&(null==r?i(t[n],n,t):i.call(r,t[n],n,t))}(T,b,a):"string"==typeof T?function(t,i,r){for(var n=0,o=t.length;n<o;n++)null==r?i(t.charAt(n),n,t):i.call(r,t.charAt(n),n,t)}(T,b,a):function(t,i,r){for(var n in t)l.call(t,n)&&(null==r?i(t[n],n,t):i.call(r,t[n],n,t))}(T,b,a)}},73047:function(ee){"use strict";var D=Array.prototype.slice,e=Object.prototype.toString;ee.exports=function(A){var k=this;if("function"!=typeof k||"[object Function]"!==e.call(k))throw new TypeError("Function.prototype.bind called on incompatible "+k);for(var l,T=D.call(arguments,1),b=Math.max(0,k.length-T.length),d=[],a=0;a<b;a++)d.push("$"+a);if(l=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof l){var i=k.apply(this,T.concat(D.call(arguments)));return Object(i)===i?i:this}return k.apply(A,T.concat(D.call(arguments)))}),k.prototype){var t=function(){};t.prototype=k.prototype,l.prototype=new t,t.prototype=null}return l}},77575:function(ee,D,e){"use strict";var A=e(73047);ee.exports=Function.prototype.bind||A},86249:function(ee){ee.exports=function(D,e){if("string"!=typeof D)throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var A=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(A.width=e.width),"number"==typeof e.height&&(A.height=e.height);var k,l=e;try{var T=[D];0===D.indexOf("webgl")&&T.push("experimental-"+D);for(var b=0;b<T.length;b++)if(k=A.getContext(T[b],l))return k}catch{k=null}return k||null}},68318:function(ee,D,e){"use strict";var A,k=SyntaxError,l=Function,T=TypeError,b=function(E){try{return l('"use strict"; return ('+E+").constructor;")()}catch{}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch{d=null}var a=function(){throw new T},t=d?function(){try{return a}catch{try{return d(arguments,"callee").get}catch{return a}}}():a,i=e(57877)(),r=Object.getPrototypeOf||function(E){return E.__proto__},n={},o=typeof Uint8Array>"u"?A:r(Uint8Array),s={"%AggregateError%":typeof AggregateError>"u"?A:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?A:ArrayBuffer,"%ArrayIteratorPrototype%":i?r([][Symbol.iterator]()):A,"%AsyncFromSyncIteratorPrototype%":A,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics>"u"?A:Atomics,"%BigInt%":typeof BigInt>"u"?A:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?A:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?A:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?A:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?A:Float32Array,"%Float64Array%":typeof Float64Array>"u"?A:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?A:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array>"u"?A:Int8Array,"%Int16Array%":typeof Int16Array>"u"?A:Int16Array,"%Int32Array%":typeof Int32Array>"u"?A:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i?r(r([][Symbol.iterator]())):A,"%JSON%":"object"==typeof JSON?JSON:A,"%Map%":typeof Map>"u"?A:Map,"%MapIteratorPrototype%":typeof Map<"u"&&i?r((new Map)[Symbol.iterator]()):A,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?A:Promise,"%Proxy%":typeof Proxy>"u"?A:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?A:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?A:Set,"%SetIteratorPrototype%":typeof Set<"u"&&i?r((new Set)[Symbol.iterator]()):A,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?A:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":i?r(""[Symbol.iterator]()):A,"%Symbol%":i?Symbol:A,"%SyntaxError%":k,"%ThrowTypeError%":t,"%TypedArray%":o,"%TypeError%":T,"%Uint8Array%":typeof Uint8Array>"u"?A:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?A:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?A:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?A:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?A:WeakMap,"%WeakRef%":typeof WeakRef>"u"?A:WeakRef,"%WeakSet%":typeof WeakSet>"u"?A:WeakSet};try{null.error}catch(E){var u=r(r(E));s["%Error.prototype%"]=u}var p=function E(L){var C;if("%AsyncFunction%"===L)C=b("async function () {}");else if("%GeneratorFunction%"===L)C=b("function* () {}");else if("%AsyncGeneratorFunction%"===L)C=b("async function* () {}");else if("%AsyncGenerator%"===L){var O=E("%AsyncGeneratorFunction%");O&&(C=O.prototype)}else if("%AsyncIteratorPrototype%"===L){var R=E("%AsyncGenerator%");R&&(C=r(R.prototype))}return s[L]=C,C},c={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=e(77575),g=e(35065),h=x.call(Function.call,Array.prototype.concat),y=x.call(Function.apply,Array.prototype.splice),v=x.call(Function.call,String.prototype.replace),m=x.call(Function.call,String.prototype.slice),_=x.call(Function.call,RegExp.prototype.exec),f=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,w=function(E,L){var C,O=E;if(g(c,O)&&(O="%"+(C=c[O])[0]+"%"),g(s,O)){var R=s[O];if(R===n&&(R=p(O)),void 0===R&&!L)throw new T("intrinsic "+E+" exists, but is not available. Please file an issue!");return{alias:C,name:O,value:R}}throw new k("intrinsic "+E+" does not exist!")};ee.exports=function(E,L){if("string"!=typeof E||0===E.length)throw new T("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof L)throw new T('"allowMissing" argument must be a boolean');if(null===_(/^%?[^%]*%?$/,E))throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var C=function(Y){var W=m(Y,0,1),$=m(Y,-1);if("%"===W&&"%"!==$)throw new k("invalid intrinsic syntax, expected closing `%`");if("%"===$&&"%"!==W)throw new k("invalid intrinsic syntax, expected opening `%`");var ne=[];return v(Y,f,function(re,oe,ue,xe){ne[ne.length]=ue?v(xe,S,"$1"):oe||re}),ne}(E),O=C.length>0?C[0]:"",R=w("%"+O+"%",L),q=R.name,P=R.value,U=!1,N=R.alias;N&&(O=N[0],y(C,h([0,1],N)));for(var F=1,j=!0;F<C.length;F+=1){var G=C[F],te=m(G,0,1),J=m(G,-1);if(('"'===te||"'"===te||"`"===te||'"'===J||"'"===J||"`"===J)&&te!==J)throw new k("property names with quotes must have matching quotes");if("constructor"!==G&&j||(U=!0),g(s,q="%"+(O+="."+G)+"%"))P=s[q];else if(null!=P){if(!(G in P)){if(!L)throw new T("base intrinsic for "+E+" exists, but the property is not available.");return}if(d&&F+1>=C.length){var X=d(P,G);P=(j=!!X)&&"get"in X&&!("originalValue"in X.get)?X.get:P[G]}else j=g(P,G),P=P[G];j&&!U&&(s[q]=P)}}return P}},85400:function(ee){ee.exports=function(D,e){var A=e[0],k=e[1],l=e[2],T=e[3],b=e[4],d=e[5],a=e[6],t=e[7],i=e[8],r=e[9],n=e[10],o=e[11],s=e[12],u=e[13],p=e[14],c=e[15];return D[0]=d*(n*c-o*p)-r*(a*c-t*p)+u*(a*o-t*n),D[1]=-(k*(n*c-o*p)-r*(l*c-T*p)+u*(l*o-T*n)),D[2]=k*(a*c-t*p)-d*(l*c-T*p)+u*(l*t-T*a),D[3]=-(k*(a*o-t*n)-d*(l*o-T*n)+r*(l*t-T*a)),D[4]=-(b*(n*c-o*p)-i*(a*c-t*p)+s*(a*o-t*n)),D[5]=A*(n*c-o*p)-i*(l*c-T*p)+s*(l*o-T*n),D[6]=-(A*(a*c-t*p)-b*(l*c-T*p)+s*(l*t-T*a)),D[7]=A*(a*o-t*n)-b*(l*o-T*n)+i*(l*t-T*a),D[8]=b*(r*c-o*u)-i*(d*c-t*u)+s*(d*o-t*r),D[9]=-(A*(r*c-o*u)-i*(k*c-T*u)+s*(k*o-T*r)),D[10]=A*(d*c-t*u)-b*(k*c-T*u)+s*(k*t-T*d),D[11]=-(A*(d*o-t*r)-b*(k*o-T*r)+i*(k*t-T*d)),D[12]=-(b*(r*p-n*u)-i*(d*p-a*u)+s*(d*n-a*r)),D[13]=A*(r*p-n*u)-i*(k*p-l*u)+s*(k*n-l*r),D[14]=-(A*(d*p-a*u)-b*(k*p-l*u)+s*(k*a-l*d)),D[15]=A*(d*n-a*r)-b*(k*n-l*r)+i*(k*a-l*d),D}},42331:function(ee){ee.exports=function(D){var e=new Float32Array(16);return e[0]=D[0],e[1]=D[1],e[2]=D[2],e[3]=D[3],e[4]=D[4],e[5]=D[5],e[6]=D[6],e[7]=D[7],e[8]=D[8],e[9]=D[9],e[10]=D[10],e[11]=D[11],e[12]=D[12],e[13]=D[13],e[14]=D[14],e[15]=D[15],e}},31042:function(ee){ee.exports=function(D,e){return D[0]=e[0],D[1]=e[1],D[2]=e[2],D[3]=e[3],D[4]=e[4],D[5]=e[5],D[6]=e[6],D[7]=e[7],D[8]=e[8],D[9]=e[9],D[10]=e[10],D[11]=e[11],D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15],D}},11902:function(ee){ee.exports=function(){var D=new Float32Array(16);return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},89887:function(ee){ee.exports=function(D){var e=D[0],A=D[1],k=D[2],l=D[3],T=D[4],b=D[5],d=D[6],a=D[7],t=D[8],i=D[9],r=D[10],n=D[11],o=D[12],s=D[13],u=D[14],p=D[15];return(e*b-A*T)*(r*p-n*u)-(e*d-k*T)*(i*p-n*s)+(e*a-l*T)*(i*u-r*s)+(A*d-k*b)*(t*p-n*o)-(A*a-l*b)*(t*u-r*o)+(k*a-l*d)*(t*s-i*o)}},27812:function(ee){ee.exports=function(D,e){var A=e[0],k=e[1],l=e[2],T=e[3],b=A+A,d=k+k,a=l+l,t=A*b,i=k*b,r=k*d,n=l*b,o=l*d,s=l*a,u=T*b,p=T*d,c=T*a;return D[0]=1-r-s,D[1]=i+c,D[2]=n-p,D[3]=0,D[4]=i-c,D[5]=1-t-s,D[6]=o+u,D[7]=0,D[8]=n+p,D[9]=o-u,D[10]=1-t-r,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},34045:function(ee){ee.exports=function(D,e,A){var k,l,T,b=A[0],d=A[1],a=A[2],t=Math.sqrt(b*b+d*d+a*a);return Math.abs(t)<1e-6?null:(b*=t=1/t,d*=t,a*=t,k=Math.sin(e),T=1-(l=Math.cos(e)),D[0]=b*b*T+l,D[1]=d*b*T+a*k,D[2]=a*b*T-d*k,D[3]=0,D[4]=b*d*T-a*k,D[5]=d*d*T+l,D[6]=a*d*T+b*k,D[7]=0,D[8]=b*a*T+d*k,D[9]=d*a*T-b*k,D[10]=a*a*T+l,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D)}},45973:function(ee){ee.exports=function(D,e,A){var k=e[0],l=e[1],T=e[2],b=e[3],d=k+k,a=l+l,t=T+T,i=k*d,r=k*a,n=k*t,o=l*a,s=l*t,u=T*t,p=b*d,c=b*a,x=b*t;return D[0]=1-(o+u),D[1]=r+x,D[2]=n-c,D[3]=0,D[4]=r-x,D[5]=1-(i+u),D[6]=s+p,D[7]=0,D[8]=n+c,D[9]=s-p,D[10]=1-(i+o),D[11]=0,D[12]=A[0],D[13]=A[1],D[14]=A[2],D[15]=1,D}},81472:function(ee){ee.exports=function(D,e){return D[0]=e[0],D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=e[1],D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=e[2],D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},14669:function(ee){ee.exports=function(D,e){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=e[0],D[13]=e[1],D[14]=e[2],D[15]=1,D}},75262:function(ee){ee.exports=function(D,e){var A=Math.sin(e),k=Math.cos(e);return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=k,D[6]=A,D[7]=0,D[8]=0,D[9]=-A,D[10]=k,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},331:function(ee){ee.exports=function(D,e){var A=Math.sin(e),k=Math.cos(e);return D[0]=k,D[1]=0,D[2]=-A,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=A,D[9]=0,D[10]=k,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},11049:function(ee){ee.exports=function(D,e){var A=Math.sin(e),k=Math.cos(e);return D[0]=k,D[1]=A,D[2]=0,D[3]=0,D[4]=-A,D[5]=k,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},75195:function(ee){ee.exports=function(D,e,A,k,l,T,b){var d=1/(A-e),a=1/(l-k),t=1/(T-b);return D[0]=2*T*d,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=2*T*a,D[6]=0,D[7]=0,D[8]=(A+e)*d,D[9]=(l+k)*a,D[10]=(b+T)*t,D[11]=-1,D[12]=0,D[13]=0,D[14]=b*T*2*t,D[15]=0,D}},71551:function(ee){ee.exports=function(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},79576:function(ee,D,e){ee.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(ee){ee.exports=function(D,e){var A=e[0],k=e[1],l=e[2],T=e[3],b=e[4],d=e[5],a=e[6],t=e[7],i=e[8],r=e[9],n=e[10],o=e[11],s=e[12],u=e[13],p=e[14],c=e[15],x=A*d-k*b,g=A*a-l*b,h=A*t-T*b,y=k*a-l*d,v=k*t-T*d,m=l*t-T*a,_=i*u-r*s,f=i*p-n*s,S=i*c-o*s,w=r*p-n*u,E=r*c-o*u,L=n*c-o*p,C=x*L-g*E+h*w+y*S-v*f+m*_;return C?(D[0]=(d*L-a*E+t*w)*(C=1/C),D[1]=(l*E-k*L-T*w)*C,D[2]=(u*m-p*v+c*y)*C,D[3]=(n*v-r*m-o*y)*C,D[4]=(a*S-b*L-t*f)*C,D[5]=(A*L-l*S+T*f)*C,D[6]=(p*h-s*m-c*g)*C,D[7]=(i*m-n*h+o*g)*C,D[8]=(b*E-d*S+t*_)*C,D[9]=(k*S-A*E-T*_)*C,D[10]=(s*v-u*h+c*x)*C,D[11]=(r*h-i*v-o*x)*C,D[12]=(d*f-b*w-a*_)*C,D[13]=(A*w-k*f+l*_)*C,D[14]=(u*g-s*y-p*x)*C,D[15]=(i*y-r*g+n*x)*C,D):null}},65551:function(ee,D,e){var A=e(71551);ee.exports=function(k,l,T,b){var d,a,t,i,r,n,o,s,u,p,c=l[0],x=l[1],g=l[2],h=b[0],y=b[1],v=b[2],m=T[0],_=T[1],f=T[2];return Math.abs(c-m)<1e-6&&Math.abs(x-_)<1e-6&&Math.abs(g-f)<1e-6?A(k):(o=c-m,s=x-_,u=g-f,d=y*(u*=p=1/Math.sqrt(o*o+s*s+u*u))-v*(s*=p),a=v*(o*=p)-h*u,t=h*s-y*o,(p=Math.sqrt(d*d+a*a+t*t))?(d*=p=1/p,a*=p,t*=p):(d=0,a=0,t=0),i=s*t-u*a,r=u*d-o*t,n=o*a-s*d,(p=Math.sqrt(i*i+r*r+n*n))?(i*=p=1/p,r*=p,n*=p):(i=0,r=0,n=0),k[0]=d,k[1]=i,k[2]=o,k[3]=0,k[4]=a,k[5]=r,k[6]=s,k[7]=0,k[8]=t,k[9]=n,k[10]=u,k[11]=0,k[12]=-(d*c+a*x+t*g),k[13]=-(i*c+r*x+n*g),k[14]=-(o*c+s*x+u*g),k[15]=1,k)}},91362:function(ee){ee.exports=function(D,e,A){var k=e[0],l=e[1],T=e[2],b=e[3],d=e[4],a=e[5],t=e[6],i=e[7],r=e[8],n=e[9],o=e[10],s=e[11],u=e[12],p=e[13],c=e[14],x=e[15],g=A[0],h=A[1],y=A[2],v=A[3];return D[0]=g*k+h*d+y*r+v*u,D[1]=g*l+h*a+y*n+v*p,D[2]=g*T+h*t+y*o+v*c,D[3]=g*b+h*i+y*s+v*x,D[4]=(g=A[4])*k+(h=A[5])*d+(y=A[6])*r+(v=A[7])*u,D[5]=g*l+h*a+y*n+v*p,D[6]=g*T+h*t+y*o+v*c,D[7]=g*b+h*i+y*s+v*x,D[8]=(g=A[8])*k+(h=A[9])*d+(y=A[10])*r+(v=A[11])*u,D[9]=g*l+h*a+y*n+v*p,D[10]=g*T+h*t+y*o+v*c,D[11]=g*b+h*i+y*s+v*x,D[12]=(g=A[12])*k+(h=A[13])*d+(y=A[14])*r+(v=A[15])*u,D[13]=g*l+h*a+y*n+v*p,D[14]=g*T+h*t+y*o+v*c,D[15]=g*b+h*i+y*s+v*x,D}},60378:function(ee){ee.exports=function(D,e,A,k,l,T,b){var d=1/(e-A),a=1/(k-l),t=1/(T-b);return D[0]=-2*d,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*a,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*t,D[11]=0,D[12]=(e+A)*d,D[13]=(l+k)*a,D[14]=(b+T)*t,D[15]=1,D}},7864:function(ee){ee.exports=function(D,e,A,k,l){var T=1/Math.tan(e/2),b=1/(k-l);return D[0]=T/A,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=T,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=(l+k)*b,D[11]=-1,D[12]=0,D[13]=0,D[14]=2*l*k*b,D[15]=0,D}},35279:function(ee){ee.exports=function(D,e,A,k){var l=Math.tan(e.upDegrees*Math.PI/180),T=Math.tan(e.downDegrees*Math.PI/180),b=Math.tan(e.leftDegrees*Math.PI/180),d=Math.tan(e.rightDegrees*Math.PI/180),a=2/(b+d),t=2/(l+T);return D[0]=a,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=t,D[6]=0,D[7]=0,D[8]=-(b-d)*a*.5,D[9]=(l-T)*t*.5,D[10]=k/(A-k),D[11]=-1,D[12]=0,D[13]=0,D[14]=k*A/(A-k),D[15]=0,D}},65074:function(ee){ee.exports=function(D,e,A,k){var l,T,b,d,a,t,i,r,n,o,s,u,p,c,x,g,h,y,v,m,_,f,S,w,E=k[0],L=k[1],C=k[2],O=Math.sqrt(E*E+L*L+C*C);return Math.abs(O)<1e-6?null:(E*=O=1/O,L*=O,C*=O,l=Math.sin(A),b=1-(T=Math.cos(A)),a=e[1],t=e[2],i=e[3],n=e[5],o=e[6],s=e[7],p=e[9],c=e[10],x=e[11],v=E*L*b-C*l,m=L*L*b+T,_=C*L*b+E*l,f=E*C*b+L*l,S=L*C*b-E*l,w=C*C*b+T,D[0]=(d=e[0])*(g=E*E*b+T)+(r=e[4])*(h=L*E*b+C*l)+(u=e[8])*(y=C*E*b-L*l),D[1]=a*g+n*h+p*y,D[2]=t*g+o*h+c*y,D[3]=i*g+s*h+x*y,D[4]=d*v+r*m+u*_,D[5]=a*v+n*m+p*_,D[6]=t*v+o*m+c*_,D[7]=i*v+s*m+x*_,D[8]=d*f+r*S+u*w,D[9]=a*f+n*S+p*w,D[10]=t*f+o*S+c*w,D[11]=i*f+s*S+x*w,e!==D&&(D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15]),D)}},35545:function(ee){ee.exports=function(D,e,A){var k=Math.sin(A),l=Math.cos(A),T=e[4],b=e[5],d=e[6],a=e[7],t=e[8],i=e[9],r=e[10],n=e[11];return e!==D&&(D[0]=e[0],D[1]=e[1],D[2]=e[2],D[3]=e[3],D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15]),D[4]=T*l+t*k,D[5]=b*l+i*k,D[6]=d*l+r*k,D[7]=a*l+n*k,D[8]=t*l-T*k,D[9]=i*l-b*k,D[10]=r*l-d*k,D[11]=n*l-a*k,D}},94918:function(ee){ee.exports=function(D,e,A){var k=Math.sin(A),l=Math.cos(A),T=e[0],b=e[1],d=e[2],a=e[3],t=e[8],i=e[9],r=e[10],n=e[11];return e!==D&&(D[4]=e[4],D[5]=e[5],D[6]=e[6],D[7]=e[7],D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15]),D[0]=T*l-t*k,D[1]=b*l-i*k,D[2]=d*l-r*k,D[3]=a*l-n*k,D[8]=T*k+t*l,D[9]=b*k+i*l,D[10]=d*k+r*l,D[11]=a*k+n*l,D}},15692:function(ee){ee.exports=function(D,e,A){var k=Math.sin(A),l=Math.cos(A),T=e[0],b=e[1],d=e[2],a=e[3],t=e[4],i=e[5],r=e[6],n=e[7];return e!==D&&(D[8]=e[8],D[9]=e[9],D[10]=e[10],D[11]=e[11],D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15]),D[0]=T*l+t*k,D[1]=b*l+i*k,D[2]=d*l+r*k,D[3]=a*l+n*k,D[4]=t*l-T*k,D[5]=i*l-b*k,D[6]=r*l-d*k,D[7]=n*l-a*k,D}},10789:function(ee){ee.exports=function(D,e,A){var k=A[0],l=A[1],T=A[2];return D[0]=e[0]*k,D[1]=e[1]*k,D[2]=e[2]*k,D[3]=e[3]*k,D[4]=e[4]*l,D[5]=e[5]*l,D[6]=e[6]*l,D[7]=e[7]*l,D[8]=e[8]*T,D[9]=e[9]*T,D[10]=e[10]*T,D[11]=e[11]*T,D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15],D}},6726:function(ee){ee.exports=function(D){return"mat4("+D[0]+", "+D[1]+", "+D[2]+", "+D[3]+", "+D[4]+", "+D[5]+", "+D[6]+", "+D[7]+", "+D[8]+", "+D[9]+", "+D[10]+", "+D[11]+", "+D[12]+", "+D[13]+", "+D[14]+", "+D[15]+")"}},31283:function(ee){ee.exports=function(D,e,A){var k,l,T,b,d,a,t,i,r,n,o,s,u=A[0],p=A[1],c=A[2];return e===D?(D[12]=e[0]*u+e[4]*p+e[8]*c+e[12],D[13]=e[1]*u+e[5]*p+e[9]*c+e[13],D[14]=e[2]*u+e[6]*p+e[10]*c+e[14],D[15]=e[3]*u+e[7]*p+e[11]*c+e[15]):(l=e[1],T=e[2],b=e[3],d=e[4],a=e[5],t=e[6],i=e[7],r=e[8],n=e[9],o=e[10],s=e[11],D[0]=k=e[0],D[1]=l,D[2]=T,D[3]=b,D[4]=d,D[5]=a,D[6]=t,D[7]=i,D[8]=r,D[9]=n,D[10]=o,D[11]=s,D[12]=k*u+d*p+r*c+e[12],D[13]=l*u+a*p+n*c+e[13],D[14]=T*u+t*p+o*c+e[14],D[15]=b*u+i*p+s*c+e[15]),D}},88654:function(ee){ee.exports=function(D,e){if(D===e){var A=e[1],k=e[2],l=e[3],T=e[6],b=e[7],d=e[11];D[1]=e[4],D[2]=e[8],D[3]=e[12],D[4]=A,D[6]=e[9],D[7]=e[13],D[8]=k,D[9]=T,D[11]=e[14],D[12]=l,D[13]=b,D[14]=d}else D[0]=e[0],D[1]=e[4],D[2]=e[8],D[3]=e[12],D[4]=e[1],D[5]=e[5],D[6]=e[9],D[7]=e[13],D[8]=e[2],D[9]=e[6],D[10]=e[10],D[11]=e[14],D[12]=e[3],D[13]=e[7],D[14]=e[11],D[15]=e[15];return D}},42505:function(ee,D,e){"use strict";var A=e(72791),k=e(71299),l=e(98580),T=e(12018),b=e(83522),d=e(25075),a=e(68016),t=e(58404),i=e(18863),r=e(10973),n=e(25677),o=e(75686),s=e(53545),u=e(56131),p=e(32879),c=e(30120),x=e(13547).nextPow2,g=new b,h=!1;if(document.body){var y=document.body.appendChild(document.createElement("div"));y.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(y).fontStretch&&(h=!0),document.body.removeChild(y)}var v=function(m){var _;this.gl="function"==typeof(_=m)&&_._gl&&_.prop&&_.texture&&_.buffer?(m={regl:m}).regl._gl:T(m),this.shader=g.get(this.gl),this.regl=this.shader?this.shader.regl:m.regl||l({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),g.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(r(m)?m:{})};v.prototype.createShader=function(){var m=this.regl,_=m({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:m.prop("count"),offset:m.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:m.this("sizeBuffer")},width:{offset:0,stride:8,buffer:m.this("sizeBuffer")},char:m.this("charBuffer"),position:m.this("position")},uniforms:{atlasSize:function(f,S){return[S.atlas.width,S.atlas.height]},atlasDim:function(f,S){return[S.atlas.cols,S.atlas.rows]},atlas:function(f,S){return S.atlas.texture},charStep:function(f,S){return S.atlas.step},em:function(f,S){return S.atlas.em},color:m.prop("color"),opacity:m.prop("opacity"),viewport:m.this("viewportArray"),scale:m.this("scale"),align:m.prop("align"),baseline:m.prop("baseline"),translate:m.this("translate"),positionOffset:m.prop("positionOffset")},primitive:"points",viewport:m.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:m,draw:_,atlas:{}}},v.prototype.update=function(m){var _=this;if("string"==typeof m)m={text:m};else if(!m)return;null!=(m=k(m,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(this.opacity=Array.isArray(m.opacity)?m.opacity.map(function(fe){return parseFloat(fe)}):parseFloat(m.opacity)),null!=m.viewport&&(this.viewport=i(m.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=m.kerning&&(this.kerning=m.kerning),null!=m.offset&&("number"==typeof m.offset&&(m.offset=[m.offset,0]),this.positionOffset=c(m.offset)),m.direction&&(this.direction=m.direction),m.range&&(this.range=m.range,this.scale=[1/(m.range[2]-m.range[0]),1/(m.range[3]-m.range[1])],this.translate=[-m.range[0],-m.range[1]]),m.scale&&(this.scale=m.scale),m.translate&&(this.translate=m.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||m.font||(m.font=v.baseFontSize+"px sans-serif");var f,S=!1,w=!1;if(m.font&&(Array.isArray(m.font)?m.font:[m.font]).forEach(function(fe,Ee){if("string"==typeof fe)try{fe=A.parse(fe)}catch{fe=A.parse(v.baseFontSize+"px "+fe)}else fe=A.parse(A.stringify(fe));var ke=A.stringify({size:v.baseFontSize,family:fe.family,stretch:h?fe.stretch:void 0,variant:fe.variant,weight:fe.weight,style:fe.style}),be=n(fe.size),Ie=Math.round(be[0]*o(be[1]));if(Ie!==_.fontSize[Ee]&&(w=!0,_.fontSize[Ee]=Ie),!(_.font[Ee]&&ke==_.font[Ee].baseString||(S=!0,_.font[Ee]=v.fonts[ke],_.font[Ee]))){var Fe=fe.family.join(", "),ce=[fe.style];fe.style!=fe.variant&&ce.push(fe.variant),fe.variant!=fe.weight&&ce.push(fe.weight),h&&fe.weight!=fe.stretch&&ce.push(fe.stretch),_.font[Ee]={baseString:ke,family:Fe,weight:fe.weight,stretch:fe.stretch,style:fe.style,variant:fe.variant,width:{},kerning:{},metrics:p(Fe,{origin:"top",fontSize:v.baseFontSize,fontStyle:ce.join(" ")})},v.fonts[ke]=_.font[Ee]}}),(S||w)&&this.font.forEach(function(fe,Ee){var ke=A.stringify({size:_.fontSize[Ee],family:fe.family,stretch:h?fe.stretch:void 0,variant:fe.variant,weight:fe.weight,style:fe.style});_.fontAtlas[Ee]=_.shader.atlas[ke],_.fontAtlas[Ee]||(_.shader.atlas[ke]=_.fontAtlas[Ee]={fontString:ke,step:2*Math.ceil(_.fontSize[Ee]*fe.metrics.bottom*.5),em:_.fontSize[Ee],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:_.regl.texture()}),null==m.text&&(m.text=_.text)}),"string"==typeof m.text&&m.position&&m.position.length>2){for(var E=Array(.5*m.position.length),L=0;L<E.length;L++)E[L]=m.text;m.text=E}if(null!=m.text||S){if(this.textOffsets=[0],Array.isArray(m.text)){this.count=m.text[0].length,this.counts=[this.count];for(var C=1;C<m.text.length;C++)this.textOffsets[C]=this.textOffsets[C-1]+m.text[C-1].length,this.count+=m.text[C].length,this.counts.push(m.text[C].length);this.text=m.text.join("")}else this.text=m.text,this.count=this.text.length,this.counts=[this.count];f=[],this.font.forEach(function(fe,Ee){v.atlasContext.font=fe.baseString;for(var ke=_.fontAtlas[Ee],be=0;be<_.text.length;be++){var Ie=_.text.charAt(be);if(null==ke.ids[Ie]&&(ke.ids[Ie]=ke.chars.length,ke.chars.push(Ie),f.push(Ie)),null==fe.width[Ie]&&(fe.width[Ie]=v.atlasContext.measureText(Ie).width/v.baseFontSize,_.kerning)){var Fe=[];for(var ce in fe.width)Fe.push(ce+Ie,Ie+ce);u(fe.kerning,s(fe.family,{pairs:Fe}))}}})}if(m.position)if(m.position.length>2){for(var O=!m.position[0].length,R=t.mallocFloat(2*this.count),q=0,P=0;q<this.counts.length;q++){var U=this.counts[q];if(O)for(var N=0;N<U;N++)R[P++]=m.position[2*q],R[P++]=m.position[2*q+1];else for(var F=0;F<U;F++)R[P++]=m.position[q][0],R[P++]=m.position[q][1]}this.position.call?this.position({type:"float",data:R}):this.position=this.regl.buffer({type:"float",data:R}),t.freeFloat(R)}else this.position.destroy&&this.position.destroy(),this.position={constant:m.position};if(m.text||S){var j=t.mallocUint8(this.count),G=t.mallocFloat(2*this.count);this.textWidth=[];for(var te=0,J=0;te<this.counts.length;te++){for(var X=this.counts[te],Y=this.font[te]||this.font[0],W=this.fontAtlas[te]||this.fontAtlas[0],$=0;$<X;$++){var ne=this.text.charAt(J),re=this.text.charAt(J-1);if(j[J]=W.ids[ne],G[2*J]=Y.width[ne],$){var xe=G[2*J-1]+.5*G[2*J-2]+.5*G[2*J];if(this.kerning){var Me=Y.kerning[re+ne];Me&&(xe+=.001*Me)}G[2*J+1]=xe}else G[2*J+1]=.5*G[2*J];J++}this.textWidth.push(G.length?.5*G[2*J-2]+G[2*J-1]:0)}m.align||(m.align=this.align),this.charBuffer({data:j,type:"uint8",usage:"stream"}),this.sizeBuffer({data:G,type:"float",usage:"stream"}),t.freeUint8(j),t.freeFloat(G),f.length&&this.font.forEach(function(fe,Ee){var ke=_.fontAtlas[Ee],be=ke.step,Ie=Math.floor(v.maxAtlasSize/be),Fe=Math.min(Ie,ke.chars.length),ce=Math.ceil(ke.chars.length/Fe),Te=x(Fe*be),ve=x(ce*be);ke.width=Te,ke.height=ve,ke.rows=ce,ke.cols=Fe,ke.em&&ke.texture({data:a({canvas:v.atlasCanvas,font:ke.fontString,chars:ke.chars,shape:[Te,ve],step:[be,be]})})})}if(m.align&&(this.align=m.align,this.alignOffset=this.textWidth.map(function(fe,Ee){var ke=Array.isArray(_.align)?_.align.length>1?_.align[Ee]:_.align[0]:_.align;if("number"==typeof ke)return ke;switch(ke){case"right":case"end":return-fe;case"center":case"centre":case"middle":return.5*-fe}return 0})),null==this.baseline&&null==m.baseline&&(m.baseline=0),null!=m.baseline&&(this.baseline=m.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(fe,Ee){var ke=(_.font[Ee]||_.font[0]).metrics,be=0;return-1*((be+=.5*ke.bottom)+("number"==typeof fe?fe-ke.baseline:-ke[fe]))})),null!=m.color)if(m.color||(m.color="transparent"),"string"!=typeof m.color&&isNaN(m.color)){var me;if("number"==typeof m.color[0]&&m.color.length>this.counts.length){var pe=m.color.length;me=t.mallocUint8(pe);for(var ge=(m.color.subarray||m.color.slice).bind(m.color),Pe=0;Pe<pe;Pe+=4)me.set(d(ge(Pe,Pe+4),"uint8"),Pe)}else{var _e=m.color.length;me=t.mallocUint8(4*_e);for(var we=0;we<_e;we++)me.set(d(m.color[we]||0,"uint8"),4*we)}this.color=me}else this.color=d(m.color,"uint8");if(m.position||m.text||m.color||m.baseline||m.align||m.font||m.offset||m.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var se=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(se);for(var ae=0;ae<this.batch.length;ae++)this.batch[ae]={count:this.counts.length>1?this.counts[ae]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[ae]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*ae,4*ae+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[ae]:this.opacity,baseline:null!=this.baselineOffset[ae]?this.baselineOffset[ae]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[ae]?this.alignOffset[ae]:this.alignOffset[0]:0,atlas:this.fontAtlas[ae]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*ae,2*ae+2):this.positionOffset}}else this.batch=this.count?[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:[]},v.prototype.destroy=function(){},v.prototype.kerning=!0,v.prototype.position={constant:new Float32Array(2)},v.prototype.translate=null,v.prototype.scale=null,v.prototype.font=null,v.prototype.text="",v.prototype.positionOffset=[0,0],v.prototype.opacity=1,v.prototype.color=new Uint8Array([0,0,0,255]),v.prototype.alignOffset=[0,0],v.maxAtlasSize=1024,v.atlasCanvas=document.createElement("canvas"),v.atlasContext=v.atlasCanvas.getContext("2d",{alpha:!1}),v.baseFontSize=64,v.fonts={},ee.exports=v},12018:function(ee,D,e){"use strict";var A=e(71299);function k(b){if(b.container)if(b.container==document.body)document.body.style.width||(b.canvas.width=b.width||b.pixelRatio*e.g.innerWidth),document.body.style.height||(b.canvas.height=b.height||b.pixelRatio*e.g.innerHeight);else{var d=b.container.getBoundingClientRect();b.canvas.width=b.width||d.right-d.left,b.canvas.height=b.height||d.bottom-d.top}}function l(b){return"function"==typeof b.getContext&&"width"in b&&"height"in b}function T(){var b=document.createElement("canvas");return b.style.position="absolute",b.style.top=0,b.style.left=0,b}ee.exports=function(b){var d,t;if(b?"string"==typeof b&&(b={container:b}):b={},(b=l(b)||"string"==typeof(d=b).nodeName&&"function"==typeof d.appendChild&&"function"==typeof d.getBoundingClientRect?{container:b}:(t=b,"function"==typeof t.drawArrays||"function"==typeof t.drawElements?{gl:b}:A(b,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0))).pixelRatio||(b.pixelRatio=e.g.pixelRatio||1),b.gl)return b.gl;if(b.canvas&&(b.container=b.canvas.parentNode),b.container){if("string"==typeof b.container){var a=document.querySelector(b.container);if(!a)throw Error("Element "+b.container+" is not found");b.container=a}l(b.container)?(b.canvas=b.container,b.container=b.canvas.parentNode):b.canvas||(b.canvas=T(),b.container.appendChild(b.canvas),k(b))}else if(!b.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");b.container=document.body||document.documentElement,b.canvas=T(),b.container.appendChild(b.canvas),k(b)}return b.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(t){try{b.gl=b.canvas.getContext(t,b.attrs)}catch{}return b.gl}),b.gl}},56068:function(ee){ee.exports=function(D){"string"==typeof D&&(D=[D]);for(var e=[].slice.call(arguments,1),A=[],k=0;k<D.length-1;k++)A.push(D[k],e[k]||"");return A.push(D[k]),A.join("")}},40383:function(ee,D,e){"use strict";var A=e(68318)("%Object.getOwnPropertyDescriptor%",!0);if(A)try{A([],"length")}catch{A=null}ee.exports=A},57035:function(ee,D,e){"use strict";var A,k=e(54404);A="function"==typeof e.g.matchMedia?!e.g.matchMedia("(hover: none)").matches:k,ee.exports=A},38520:function(ee,D,e){"use strict";var A=e(54404);ee.exports=A&&function(){var k=!1;try{var l=Object.defineProperty({},"passive",{get:function(){k=!0}});window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch{k=!1}return k}()},55622:function(ee,D,e){"use strict";var A=e(68318)("%Object.defineProperty%",!0),k=function(){if(A)try{return A({},"a",{value:1}),!0}catch{return!1}return!1};k.hasArrayLengthDefineBug=function(){if(!k())return null;try{return 1!==A([],"length",{value:1}).length}catch{return!0}},ee.exports=k},57877:function(ee,D,e){"use strict";var A=typeof Symbol<"u"&&Symbol,k=e(35638);ee.exports=function(){return"function"==typeof A&&"function"==typeof Symbol&&"symbol"==typeof A("foo")&&"symbol"==typeof Symbol("bar")&&k()}},35638:function(ee){"use strict";ee.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var D={},e=Symbol("test"),A=Object(e);if("string"==typeof e||"[object Symbol]"!==Object.prototype.toString.call(e)||"[object Symbol]"!==Object.prototype.toString.call(A))return!1;for(e in D[e]=42,D)return!1;if("function"==typeof Object.keys&&0!==Object.keys(D).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(D).length)return!1;var k=Object.getOwnPropertySymbols(D);if(1!==k.length||k[0]!==e||!Object.prototype.propertyIsEnumerable.call(D,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var l=Object.getOwnPropertyDescriptor(D,e);if(42!==l.value||!0!==l.enumerable)return!1}return!0}},84543:function(ee,D,e){"use strict";var A=e(35638);ee.exports=function(){return A()&&!!Symbol.toStringTag}},35065:function(ee,D,e){"use strict";var A=e(77575);ee.exports=A.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(ee,D){D.read=function(e,A,k,l,T){var b,d,a=8*T-l-1,t=(1<<a)-1,i=t>>1,r=-7,n=k?T-1:0,o=k?-1:1,s=e[A+n];for(n+=o,b=s&(1<<-r)-1,s>>=-r,r+=a;r>0;b=256*b+e[A+n],n+=o,r-=8);for(d=b&(1<<-r)-1,b>>=-r,r+=l;r>0;d=256*d+e[A+n],n+=o,r-=8);if(0===b)b=1-i;else{if(b===t)return d?NaN:1/0*(s?-1:1);d+=Math.pow(2,l),b-=i}return(s?-1:1)*d*Math.pow(2,b-l)},D.write=function(e,A,k,l,T,b){var d,a,t,i=8*b-T-1,r=(1<<i)-1,n=r>>1,o=23===T?Math.pow(2,-24)-Math.pow(2,-77):0,s=l?0:b-1,u=l?1:-1,p=A<0||0===A&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(a=isNaN(A)?1:0,d=r):(d=Math.floor(Math.log(A)/Math.LN2),A*(t=Math.pow(2,-d))<1&&(d--,t*=2),(A+=d+n>=1?o/t:o*Math.pow(2,1-n))*t>=2&&(d++,t/=2),d+n>=r?(a=0,d=r):d+n>=1?(a=(A*t-1)*Math.pow(2,T),d+=n):(a=A*Math.pow(2,n-1)*Math.pow(2,T),d=0));T>=8;e[k+s]=255&a,s+=u,a/=256,T-=8);for(d=d<<T|a,i+=T;i>0;e[k+s]=255&d,s+=u,d/=256,i-=8);e[k+s-u]|=128*p}},42018:function(ee){ee.exports="function"==typeof Object.create?function(D,e){e&&(D.super_=e,D.prototype=Object.create(e.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}))}:function(D,e){if(e){D.super_=e;var A=function(){};A.prototype=e.prototype,D.prototype=new A,D.prototype.constructor=D}}},47216:function(ee,D,e){"use strict";var A=e(84543)(),k=e(6614)("Object.prototype.toString"),l=function(d){return!(A&&d&&"object"==typeof d&&Symbol.toStringTag in d)&&"[object Arguments]"===k(d)},T=function(d){return!!l(d)||null!==d&&"object"==typeof d&&"number"==typeof d.length&&d.length>=0&&"[object Array]"!==k(d)&&"[object Function]"===k(d.callee)},b=function(){return l(arguments)}();l.isLegacyArguments=T,ee.exports=b?l:T},54404:function(ee){ee.exports=!0},85395:function(ee){"use strict";var D,e,A=Function.prototype.toString,k="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof k&&"function"==typeof Object.defineProperty)try{D=Object.defineProperty({},"length",{get:function(){throw e}}),e={},k(function(){throw 42},null,D)}catch(n){n!==e&&(k=null)}else k=null;var l=/^\s*class\b/,T=function(n){try{var o=A.call(n);return l.test(o)}catch{return!1}},b=function(n){try{return!T(n)&&(A.call(n),!0)}catch{return!1}},d=Object.prototype.toString,a="function"==typeof Symbol&&!!Symbol.toStringTag,t=!(0 in[,]),i=function(){return!1};if("object"==typeof document){var r=document.all;d.call(r)===d.call(document.all)&&(i=function(n){if((t||!n)&&(void 0===n||"object"==typeof n))try{var o=d.call(n);return("[object HTMLAllCollection]"===o||"[object HTML document.all class]"===o||"[object HTMLCollection]"===o||"[object Object]"===o)&&null==n("")}catch{}return!1})}ee.exports=k?function(n){if(i(n))return!0;if(!n||"function"!=typeof n&&"object"!=typeof n)return!1;try{k(n,null,D)}catch(o){if(o!==e)return!1}return!T(n)&&b(n)}:function(n){if(i(n))return!0;if(!n||"function"!=typeof n&&"object"!=typeof n)return!1;if(a)return b(n);if(T(n))return!1;var o=d.call(n);return!("[object Function]"!==o&&"[object GeneratorFunction]"!==o&&!/^\[object HTML/.test(o))&&b(n)}},65481:function(ee,D,e){"use strict";var A,k=Object.prototype.toString,l=Function.prototype.toString,T=/^\s*(?:function)?\*/,b=e(84543)(),d=Object.getPrototypeOf;ee.exports=function(a){if("function"!=typeof a)return!1;if(T.test(l.call(a)))return!0;if(!b)return"[object GeneratorFunction]"===k.call(a);if(!d)return!1;if(void 0===A){var t=function(){if(!b)return!1;try{return Function("return function*() {}")()}catch{}}();A=!!t&&d(t)}return d(a)===A}},62683:function(ee){"use strict";ee.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(ee){"use strict";ee.exports=function(D){return D!=D}},15567:function(ee,D,e){"use strict";var A=e(68222),k=e(17045),l=e(64274),T=e(14922),b=e(22442),d=A(T(),Number);k(d,{getPolyfill:T,implementation:l,shim:b}),ee.exports=d},14922:function(ee,D,e){"use strict";var A=e(64274);ee.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:A}},22442:function(ee,D,e){"use strict";var A=e(17045),k=e(14922);ee.exports=function(){var l=k();return A(Number,{isNaN:l},{isNaN:function(){return Number.isNaN!==l}}),l}},64941:function(ee){"use strict";ee.exports=function(D){var e=typeof D;return null!==D&&("object"===e||"function"===e)}},10973:function(ee){"use strict";var D=Object.prototype.toString;ee.exports=function(e){var A;return"[object Object]"===D.call(e)&&(null===(A=Object.getPrototypeOf(e))||A===Object.getPrototypeOf({}))}},18546:function(ee){"use strict";ee.exports=function(D){for(var e,A=D.length,k=0;k<A;k++)if(((e=D.charCodeAt(k))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}},89546:function(ee){"use strict";ee.exports=function(D){return"string"==typeof D&&(D=D.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(D)&&/[\dz]$/i.test(D)&&D.length>4))}},9187:function(ee,D,e){"use strict";var A=e(31353),k=e(72077),l=e(6614),T=l("Object.prototype.toString"),b=e(84543)(),d=e(40383),a=typeof globalThis>"u"?e.g:globalThis,t=k(),i=l("Array.prototype.indexOf",!0)||function(s,u){for(var p=0;p<s.length;p+=1)if(s[p]===u)return p;return-1},r=l("String.prototype.slice"),n={},o=Object.getPrototypeOf;b&&d&&o&&A(t,function(s){var u=new a[s];if(Symbol.toStringTag in u){var p=o(u),c=d(p,Symbol.toStringTag);if(!c){var x=o(p);c=d(x,Symbol.toStringTag)}n[s]=c.get}}),ee.exports=function(s){if(!s||"object"!=typeof s)return!1;if(!b||!(Symbol.toStringTag in s)){var u=r(T(s),8,-1);return i(t,u)>-1}return!!d&&(p=s,c=!1,A(n,function(x,g){if(!c)try{c=x.call(p)===g}catch{}}),c);var p,c}},44517:function(ee){ee.exports=function(){"use strict";var D,e,A;function k(l,T){if(D)if(e){var b="var sharedChunk = {}; ("+D+")(sharedChunk); ("+e+")(sharedChunk);",d={};D(d),(A=T(d)).workerUrl=window.URL.createObjectURL(new Blob([b],{type:"text/javascript"}))}else e=T;else D=T}return k(0,function(l){function T(M,I){return M(I={exports:{}},I.exports),I.exports}var b="1.10.1",d=a;function a(M,I,Z,le){this.cx=3*M,this.bx=3*(Z-M)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*I,this.by=3*(le-I)-this.cy,this.ay=1-this.cy-this.by,this.p1x=M,this.p1y=le,this.p2x=Z,this.p2y=le}a.prototype.sampleCurveX=function(M){return((this.ax*M+this.bx)*M+this.cx)*M},a.prototype.sampleCurveY=function(M){return((this.ay*M+this.by)*M+this.cy)*M},a.prototype.sampleCurveDerivativeX=function(M){return(3*this.ax*M+2*this.bx)*M+this.cx},a.prototype.solveCurveX=function(M,I){var Z,le,Se,De,Ue;for(void 0===I&&(I=1e-6),Se=M,Ue=0;Ue<8;Ue++){if(De=this.sampleCurveX(Se)-M,Math.abs(De)<I)return Se;var Ke=this.sampleCurveDerivativeX(Se);if(Math.abs(Ke)<1e-6)break;Se-=De/Ke}if((Se=M)<(Z=0))return Z;if(Se>(le=1))return le;for(;Z<le;){if(De=this.sampleCurveX(Se),Math.abs(De-M)<I)return Se;M>De?Z=Se:le=Se,Se=.5*(le-Z)+Z}return Se},a.prototype.solve=function(M,I){return this.sampleCurveY(this.solveCurveX(M,I))};var t=i;function i(M,I){this.x=M,this.y=I}function r(M,I,Z,le){var Se=new d(M,I,Z,le);return function(De){return Se.solve(De)}}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(M){return this.clone()._add(M)},sub:function(M){return this.clone()._sub(M)},multByPoint:function(M){return this.clone()._multByPoint(M)},divByPoint:function(M){return this.clone()._divByPoint(M)},mult:function(M){return this.clone()._mult(M)},div:function(M){return this.clone()._div(M)},rotate:function(M){return this.clone()._rotate(M)},rotateAround:function(M,I){return this.clone()._rotateAround(M,I)},matMult:function(M){return this.clone()._matMult(M)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(M){return this.x===M.x&&this.y===M.y},dist:function(M){return Math.sqrt(this.distSqr(M))},distSqr:function(M){var I=M.x-this.x,Z=M.y-this.y;return I*I+Z*Z},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(M){return Math.atan2(this.y-M.y,this.x-M.x)},angleWith:function(M){return this.angleWithSep(M.x,M.y)},angleWithSep:function(M,I){return Math.atan2(this.x*I-this.y*M,this.x*M+this.y*I)},_matMult:function(M){var Z=M[2]*this.x+M[3]*this.y;return this.x=M[0]*this.x+M[1]*this.y,this.y=Z,this},_add:function(M){return this.x+=M.x,this.y+=M.y,this},_sub:function(M){return this.x-=M.x,this.y-=M.y,this},_mult:function(M){return this.x*=M,this.y*=M,this},_div:function(M){return this.x/=M,this.y/=M,this},_multByPoint:function(M){return this.x*=M.x,this.y*=M.y,this},_divByPoint:function(M){return this.x/=M.x,this.y/=M.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var M=this.y;return this.y=this.x,this.x=-M,this},_rotate:function(M){var I=Math.cos(M),Z=Math.sin(M),Se=Z*this.x+I*this.y;return this.x=I*this.x-Z*this.y,this.y=Se,this},_rotateAround:function(M,I){var Z=Math.cos(M),le=Math.sin(M),De=I.y+le*(this.x-I.x)+Z*(this.y-I.y);return this.x=I.x+Z*(this.x-I.x)-le*(this.y-I.y),this.y=De,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(M){return M instanceof i?M:Array.isArray(M)?new i(M[0],M[1]):M};var n=r(.25,.1,.25,1);function o(M,I,Z){return Math.min(Z,Math.max(I,M))}function s(M,I,Z){var le=Z-I,Se=((M-I)%le+le)%le+I;return Se===I?Z:Se}function u(M){for(var I=[],Z=arguments.length-1;Z-- >0;)I[Z]=arguments[Z+1];for(var le=0,Se=I;le<Se.length;le+=1){var De=Se[le];for(var Ue in De)M[Ue]=De[Ue]}return M}var p=1;function c(){return p++}function x(){return function M(I){return I?(I^16*Math.random()>>I/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,M)}()}function g(M){return!!M&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(M)}function h(M,I){M.forEach(function(Z){I[Z]&&(I[Z]=I[Z].bind(I))})}function y(M,I){return-1!==M.indexOf(I,M.length-I.length)}function v(M,I,Z){var le={};for(var Se in M)le[Se]=I.call(Z||this,M[Se],Se,M);return le}function m(M,I,Z){var le={};for(var Se in M)I.call(Z||this,M[Se],Se,M)&&(le[Se]=M[Se]);return le}function _(M){return Array.isArray(M)?M.map(_):"object"==typeof M&&M?v(M,_):M}var f={};function S(M){f[M]||(typeof console<"u"&&console.warn(M),f[M]=!0)}function w(M,I,Z){return(Z.y-M.y)*(I.x-M.x)>(I.y-M.y)*(Z.x-M.x)}function E(M){for(var I=0,Z=0,le=M.length,Se=le-1,De=void 0,Ue=void 0;Z<le;Se=Z++)I+=((Ue=M[Se]).x-(De=M[Z]).x)*(De.y+Ue.y);return I}function L(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function C(M){var I={};if(M.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(le,Se,De,Ue){var Ke=De||Ue;return I[Se]=!Ke||Ke.toLowerCase(),""}),I["max-age"]){var Z=parseInt(I["max-age"],10);isNaN(Z)?delete I["max-age"]:I["max-age"]=Z}return I}var O=null;function R(M){if(null==O){var I=M.navigator?M.navigator.userAgent:null;O=!!M.safari||!(!I||!(/\b(iPad|iPhone|iPod)\b/.test(I)||I.match("Safari")&&!I.match("Chrome")))}return O}function q(M){try{var I=self[M];return I.setItem("_mapbox_test_",1),I.removeItem("_mapbox_test_"),!0}catch{return!1}}var P,U,N,F,j=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),G=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,te=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,J={now:j,frame:function(M){var I=G(M);return{cancel:function(){return te(I)}}},getImageData:function(M,I){void 0===I&&(I=0);var Z=self.document.createElement("canvas"),le=Z.getContext("2d");if(!le)throw new Error("failed to create canvas 2d context");return Z.width=M.width,Z.height=M.height,le.drawImage(M,0,0,M.width,M.height),le.getImageData(-I,-I,M.width+2*I,M.height+2*I)},resolveURL:function(M){return P||(P=self.document.createElement("a")),P.href=M,P.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==U&&(U=self.matchMedia("(prefers-reduced-motion: reduce)")),U.matches)}},X={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Y={supported:!1,testSupport:function(M){!W&&F&&($?ne(M):N=M)}},W=!1,$=!1;function ne(M){var I=M.createTexture();M.bindTexture(M.TEXTURE_2D,I);try{if(M.texImage2D(M.TEXTURE_2D,0,M.RGBA,M.RGBA,M.UNSIGNED_BYTE,F),M.isContextLost())return;Y.supported=!0}catch{}M.deleteTexture(I),W=!0}self.document&&((F=self.document.createElement("img")).onload=function(){N&&ne(N),N=null,$=!0},F.onerror=function(){W=!0,N=null},F.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var re="01",oe=function(M,I){this._transformRequestFn=M,this._customAccessToken=I,this._createSkuToken()};function ue(M){return 0===M.indexOf("mapbox:")}oe.prototype._createSkuToken=function(){var M=function(){for(var I="",Z=0;Z<10;Z++)I+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",re,I].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=M.token,this._skuTokenExpiresAt=M.tokenExpiresAt},oe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},oe.prototype.transformRequest=function(M,I){return this._transformRequestFn&&this._transformRequestFn(M,I)||{url:M}},oe.prototype.normalizeStyleURL=function(M,I){if(!ue(M))return M;var Z=pe(M);return Z.path="/styles/v1"+Z.path,this._makeAPIURL(Z,this._customAccessToken||I)},oe.prototype.normalizeGlyphsURL=function(M,I){if(!ue(M))return M;var Z=pe(M);return Z.path="/fonts/v1"+Z.path,this._makeAPIURL(Z,this._customAccessToken||I)},oe.prototype.normalizeSourceURL=function(M,I){if(!ue(M))return M;var Z=pe(M);return Z.path="/v4/"+Z.authority+".json",Z.params.push("secure"),this._makeAPIURL(Z,this._customAccessToken||I)},oe.prototype.normalizeSpriteURL=function(M,I,Z,le){var Se=pe(M);return ue(M)?(Se.path="/styles/v1"+Se.path+"/sprite"+I+Z,this._makeAPIURL(Se,this._customAccessToken||le)):(Se.path+=""+I+Z,ge(Se))},oe.prototype.normalizeTileURL=function(M,I){if(this._isSkuTokenExpired()&&this._createSkuToken(),M&&!ue(M))return M;var Z=pe(M);Z.path=Z.path.replace(/(\.(png|jpg)\d*)(?=$)/,(J.devicePixelRatio>=2||512===I?"@2x":"")+(Y.supported?".webp":"$1")),Z.path=Z.path.replace(/^.+\/v4\//,"/"),Z.path="/v4"+Z.path;var De=this._customAccessToken||function(Ue){for(var Ke=0,ot=Ue;Ke<ot.length;Ke+=1){var xt=ot[Ke].match(/^access_token=(.*)$/);if(xt)return xt[1]}return null}(Z.params)||X.ACCESS_TOKEN;return X.REQUIRE_ACCESS_TOKEN&&De&&this._skuToken&&Z.params.push("sku="+this._skuToken),this._makeAPIURL(Z,De)},oe.prototype.canonicalizeTileURL=function(M,I){var Z=pe(M);if(!Z.path.match(/(^\/v4\/)/)||!Z.path.match(/\.[\w]+$/))return M;var le="mapbox://tiles/";le+=Z.path.replace("/v4/","");var Se=Z.params;return I&&(Se=Se.filter(function(De){return!De.match(/^access_token=/)})),Se.length&&(le+="?"+Se.join("&")),le},oe.prototype.canonicalizeTileset=function(M,I){for(var Z=!!I&&ue(I),le=[],Se=0,De=M.tiles||[];Se<De.length;Se+=1){var Ue=De[Se];Me(Ue)?le.push(this.canonicalizeTileURL(Ue,Z)):le.push(Ue)}return le},oe.prototype._makeAPIURL=function(M,I){var Z="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",le=pe(X.API_URL);if(M.protocol=le.protocol,M.authority=le.authority,"/"!==le.path&&(M.path=""+le.path+M.path),!X.REQUIRE_ACCESS_TOKEN)return ge(M);if(!(I=I||X.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+Z);if("s"===I[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+Z);return M.params=M.params.filter(function(Se){return-1===Se.indexOf("access_token")}),M.params.push("access_token="+I),ge(M)};var xe=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Me(M){return xe.test(M)}var me=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function pe(M){var I=M.match(me);if(!I)throw new Error("Unable to parse URL object");return{protocol:I[1],authority:I[2],path:I[3]||"/",params:I[4]?I[4].split("&"):[]}}function ge(M){var I=M.params.length?"?"+M.params.join("&"):"";return M.protocol+"://"+M.authority+M.path+I}var Pe="mapbox.eventData";function _e(M){if(!M)return null;var Z=M.split(".");if(!Z||3!==Z.length)return null;try{return JSON.parse(decodeURIComponent(self.atob(Z[1]).split("").map(function(le){return"%"+("00"+le.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var we=function(M){this.type=M,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};we.prototype.getStorageKey=function(M){var I,le=_e(X.ACCESS_TOKEN);return I=le&&le.u?self.btoa(encodeURIComponent(le.u).replace(/%([0-9A-F]{2})/g,function(Se,De){return String.fromCharCode(+("0x"+De))})):X.ACCESS_TOKEN||"",M?Pe+"."+M+":"+I:Pe+":"+I},we.prototype.fetchEventData=function(){var M=q("localStorage"),I=this.getStorageKey(),Z=this.getStorageKey("uuid");if(M)try{var le=self.localStorage.getItem(I);le&&(this.eventData=JSON.parse(le));var Se=self.localStorage.getItem(Z);Se&&(this.anonId=Se)}catch{S("Unable to read from LocalStorage")}},we.prototype.saveEventData=function(){var M=q("localStorage"),I=this.getStorageKey(),Z=this.getStorageKey("uuid");if(M)try{self.localStorage.setItem(Z,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(I,JSON.stringify(this.eventData))}catch{S("Unable to write to LocalStorage")}},we.prototype.processRequests=function(M){},we.prototype.postEvent=function(M,I,Z,le){var Se=this;if(X.EVENTS_URL){var De=pe(X.EVENTS_URL);De.params.push("access_token="+(le||X.ACCESS_TOKEN||""));var Ue={event:this.type,created:new Date(M).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:b,skuId:re,userId:this.anonId},Ke=I?u(Ue,I):Ue,ot={url:ge(De),headers:{"Content-Type":"text/plain"},body:JSON.stringify([Ke])};this.pendingRequest=At(ot,function(xt){Se.pendingRequest=null,Z(xt),Se.saveEventData(),Se.processRequests(le)})}},we.prototype.queueRequest=function(M,I){this.queue.push(M),this.processRequests(I)};var se,ae,fe=function(M){function I(){M.call(this,"map.load"),this.success={},this.skuToken=""}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.postMapLoadEvent=function(Z,le,Se,De){this.skuToken=Se,(X.EVENTS_URL&&De||X.ACCESS_TOKEN&&Array.isArray(Z)&&Z.some(function(Ue){return ue(Ue)||Me(Ue)}))&&this.queueRequest({id:le,timestamp:Date.now()},De)},I.prototype.processRequests=function(Z){var le=this;if(!this.pendingRequest&&0!==this.queue.length){var Se=this.queue.shift(),De=Se.id,Ue=Se.timestamp;De&&this.success[De]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=x()),this.postEvent(Ue,{skuToken:this.skuToken},function(Ke){Ke||De&&(le.success[De]=!0)},Z))}},I}(we),Ee=function(M){function I(Z){M.call(this,"appUserTurnstile"),this._customAccessToken=Z}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.postTurnstileEvent=function(Z,le){X.EVENTS_URL&&X.ACCESS_TOKEN&&Array.isArray(Z)&&Z.some(function(Se){return ue(Se)||Me(Se)})&&this.queueRequest(Date.now(),le)},I.prototype.processRequests=function(Z){var le=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Se=_e(X.ACCESS_TOKEN),De=Se?Se.u:X.ACCESS_TOKEN,Ue=De!==this.eventData.tokenU;g(this.anonId)||(this.anonId=x(),Ue=!0);var Ke=this.queue.shift();if(this.eventData.lastSuccess){var ot=new Date(this.eventData.lastSuccess),xt=new Date(Ke),_t=(Ke-this.eventData.lastSuccess)/864e5;Ue=Ue||_t>=1||_t<-1||ot.getDate()!==xt.getDate()}else Ue=!0;if(!Ue)return this.processRequests();this.postEvent(Ke,{"enabled.telemetry":!1},function(Ot){Ot||(le.eventData.lastSuccess=Ke,le.eventData.tokenU=De)},Z)}},I}(we),ke=new Ee,be=ke.postTurnstileEvent.bind(ke),Ie=new fe,Fe=Ie.postMapLoadEvent.bind(Ie),ce="mapbox-tiles",Te=500,ve=50,Ce=42e4;function Re(){self.caches&&!se&&(se=self.caches.open(ce))}function je(M){var I=M.indexOf("?");return I<0?M:M.slice(0,I)}var Je,it=1/0;function Qe(){return null==Je&&(Je=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof self.createImageBitmap),Je}var dt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(dt);var yt=function(M){function I(Z,le,Se){401===le&&Me(Se)&&(Z+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),M.call(this,Z),this.status=le,this.url=Se,this.name=this.constructor.name,this.message=Z}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},I}(Error),mt=L()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function at(M,I){var Z,le=new self.AbortController,Se=new self.Request(M.url,{method:M.method||"GET",body:M.body,credentials:M.credentials,headers:M.headers,referrer:mt(),signal:le.signal}),De=!1,Ue=!1,Ke=(Z=Se.url).indexOf("sku=")>0&&Me(Z);"json"===M.type&&Se.headers.set("Accept","application/json");var ot=function(_t,Ot,Bt){if(!Ue){if(_t&&"SecurityError"!==_t.message&&S(_t),Ot&&Bt)return xt(Ot);var Rt=Date.now();self.fetch(Se).then(function(Qt){if(Qt.ok){var an=Ke?Qt.clone():null;return xt(Qt,an,Rt)}return I(new yt(Qt.statusText,Qt.status,M.url))}).catch(function(Qt){20!==Qt.code&&I(new Error(Qt.message))})}},xt=function(_t,Ot,Bt){("arrayBuffer"===M.type?_t.arrayBuffer():"json"===M.type?_t.json():_t.text()).then(function(Rt){Ue||(Ot&&Bt&&function Oe(M,I,Z){if(Re(),se){var le={status:I.status,statusText:I.statusText,headers:new self.Headers};I.headers.forEach(function(De,Ue){return le.headers.set(Ue,De)});var Se=C(I.headers.get("Cache-Control")||"");Se["no-store"]||(Se["max-age"]&&le.headers.set("Expires",new Date(Z+1e3*Se["max-age"]).toUTCString()),new Date(le.headers.get("Expires")).getTime()-Z<Ce||function(De,Ue){if(void 0===ae)try{new Response(new ReadableStream),ae=!0}catch{ae=!1}ae?Ue(De.body):De.blob().then(Ue)}(I,function(De){var Ue=new self.Response(De,le);Re(),se&&se.then(function(Ke){return Ke.put(je(M.url),Ue)}).catch(function(Ke){return S(Ke.message)})}))}}(Se,Ot,Bt),De=!0,I(null,Rt,_t.headers.get("Cache-Control"),_t.headers.get("Expires")))}).catch(function(Rt){Ue||I(new Error(Rt.message))})};return Ke?function qe(M,I){if(Re(),!se)return I(null);var Z=je(M.url);se.then(function(le){le.match(Z).then(function(Se){var De=function(Ue){if(!Ue)return!1;var Ke=new Date(Ue.headers.get("Expires")||0),ot=C(Ue.headers.get("Cache-Control")||"");return Ke>Date.now()&&!ot["no-cache"]}(Se);le.delete(Z),De&&le.put(Z,Se.clone()),I(null,Se,De)}).catch(I)}).catch(I)}(Se,ot):ot(null,null),{cancel:function(){Ue=!0,De||le.abort()}}}var Pt,kt,st=function(M,I){if(!(/^file:/.test(Z=M.url)||/^file:/.test(mt())&&!/^\w+:/.test(Z))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return at(M,I);if(L()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",M,I,void 0,!0)}var Z;return function(le,Se){var De=new self.XMLHttpRequest;for(var Ue in De.open(le.method||"GET",le.url,!0),"arrayBuffer"===le.type&&(De.responseType="arraybuffer"),le.headers)De.setRequestHeader(Ue,le.headers[Ue]);return"json"===le.type&&(De.responseType="text",De.setRequestHeader("Accept","application/json")),De.withCredentials="include"===le.credentials,De.onerror=function(){Se(new Error(De.statusText))},De.onload=function(){if((De.status>=200&&De.status<300||0===De.status)&&null!==De.response){var Ke=De.response;if("json"===le.type)try{Ke=JSON.parse(De.response)}catch(ot){return Se(ot)}Se(null,Ke,De.getResponseHeader("Cache-Control"),De.getResponseHeader("Expires"))}else Se(new yt(De.statusText,De.status,le.url))},De.send(le.body),{cancel:function(){return De.abort()}}}(M,I)},Tt=function(M,I){return st(u(M,{type:"arrayBuffer"}),I)},At=function(M,I){return st(u(M,{method:"POST"}),I)};Pt=[],kt=0;var Ze=function(M,I){if(Y.supported&&(M.headers||(M.headers={}),M.headers.accept="image/webp,*/*"),kt>=X.MAX_PARALLEL_IMAGE_REQUESTS){var Z={requestParameters:M,callback:I,cancelled:!1,cancel:function(){this.cancelled=!0}};return Pt.push(Z),Z}kt++;var le=!1,Se=function(){if(!le)for(le=!0,kt--;Pt.length&&kt<X.MAX_PARALLEL_IMAGE_REQUESTS;){var Ue=Pt.shift();Ue.cancelled||(Ue.cancel=Ze(Ue.requestParameters,Ue.callback).cancel)}},De=Tt(M,function(Ue,Ke,ot,xt){var Ot,Bt;Se(),Ue?I(Ue):Ke&&(Qe()?(Ot=I,Bt=new self.Blob([new Uint8Array(Ke)],{type:"image/png"}),self.createImageBitmap(Bt).then(function(Rt){Ot(null,Rt)}).catch(function(Rt){Ot(new Error("Could not load image because of "+Rt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function(_t,Ot,Bt,Rt){var Qt=new self.Image,an=self.URL;Qt.onload=function(){Ot(null,Qt),an.revokeObjectURL(Qt.src)},Qt.onerror=function(){return Ot(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Tn=new self.Blob([new Uint8Array(_t)],{type:"image/png"});Qt.cacheControl=Bt,Qt.expires=Rt,Qt.src=_t.byteLength?an.createObjectURL(Tn):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(Ke,I,ot,xt))});return{cancel:function(){De.cancel(),Se()}}};function Xe(M,I,Z){Z[M]&&-1!==Z[M].indexOf(I)||(Z[M]=Z[M]||[],Z[M].push(I))}function He(M,I,Z){if(Z&&Z[M]){var le=Z[M].indexOf(I);-1!==le&&Z[M].splice(le,1)}}var We=function(M,I){void 0===I&&(I={}),u(this,I),this.type=M},rt=function(M){function I(Z,le){void 0===le&&(le={}),M.call(this,"error",u({error:Z},le))}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I}(We),nt=function(){};nt.prototype.on=function(M,I){return this._listeners=this._listeners||{},Xe(M,I,this._listeners),this},nt.prototype.off=function(M,I){return He(M,I,this._listeners),He(M,I,this._oneTimeListeners),this},nt.prototype.once=function(M,I){return this._oneTimeListeners=this._oneTimeListeners||{},Xe(M,I,this._oneTimeListeners),this},nt.prototype.fire=function(M,I){"string"==typeof M&&(M=new We(M,I||{}));var Z=M.type;if(this.listens(Z)){M.target=this;for(var le=0,Se=this._listeners&&this._listeners[Z]?this._listeners[Z].slice():[];le<Se.length;le+=1)Se[le].call(this,M);for(var De=0,Ue=this._oneTimeListeners&&this._oneTimeListeners[Z]?this._oneTimeListeners[Z].slice():[];De<Ue.length;De+=1){var Ke=Ue[De];He(Z,Ke,this._oneTimeListeners),Ke.call(this,M)}var ot=this._eventedParent;ot&&(u(M,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),ot.fire(M))}else M instanceof rt&&console.error(M.error);return this},nt.prototype.listens=function(M){return this._listeners&&this._listeners[M]&&this._listeners[M].length>0||this._oneTimeListeners&&this._oneTimeListeners[M]&&this._oneTimeListeners[M].length>0||this._eventedParent&&this._eventedParent.listens(M)},nt.prototype.setEventedParent=function(M,I){return this._eventedParent=M,this._eventedParentData=I,this};var ze={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Be=function(M,I,Z,le){this.message=(M?M+": ":"")+Z,le&&(this.identifier=le),null!=I&&I.__line__&&(this.line=I.__line__)};function tt(M){var Z=M.value;return Z?[new Be(M.key,Z,"constants have been deprecated as of v8")]:[]}function et(M){for(var I=[],Z=arguments.length-1;Z-- >0;)I[Z]=arguments[Z+1];for(var le=0,Se=I;le<Se.length;le+=1){var De=Se[le];for(var Ue in De)M[Ue]=De[Ue]}return M}function gt(M){return M instanceof Number||M instanceof String||M instanceof Boolean?M.valueOf():M}function pt(M){if(Array.isArray(M))return M.map(pt);if(M instanceof Object&&!(M instanceof Number||M instanceof String||M instanceof Boolean)){var I={};for(var Z in M)I[Z]=pt(M[Z]);return I}return gt(M)}var vt=function(M){function I(Z,le){M.call(this,le),this.message=le,this.key=Z}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I}(Error),ut=function(M,I){void 0===I&&(I=[]),this.parent=M,this.bindings={};for(var Z=0,le=I;Z<le.length;Z+=1){var Se=le[Z];this.bindings[Se[0]]=Se[1]}};ut.prototype.concat=function(M){return new ut(this,M)},ut.prototype.get=function(M){if(this.bindings[M])return this.bindings[M];if(this.parent)return this.parent.get(M);throw new Error(M+" not found in scope.")},ut.prototype.has=function(M){return!!this.bindings[M]||!!this.parent&&this.parent.has(M)};var wt={kind:"null"},ct={kind:"number"},ft={kind:"string"},bt={kind:"boolean"},It={kind:"color"},Dt={kind:"object"},Nt={kind:"value"},$t={kind:"collator"},jt={kind:"formatted"},Yt={kind:"resolvedImage"};function Gt(M,I){return{kind:"array",itemType:M,N:I}}function hn(M){if("array"===M.kind){var I=hn(M.itemType);return"number"==typeof M.N?"array<"+I+", "+M.N+">":"value"===M.itemType.kind?"array":"array<"+I+">"}return M.kind}var yn=[wt,ct,ft,bt,It,jt,Dt,Gt(Nt),Yt];function on(M,I){if("error"===I.kind)return null;if("array"===M.kind){if("array"===I.kind&&(0===I.N&&"value"===I.itemType.kind||!on(M.itemType,I.itemType))&&("number"!=typeof M.N||M.N===I.N))return null}else{if(M.kind===I.kind)return null;if("value"===M.kind)for(var Z=0,le=yn;Z<le.length;Z+=1)if(!on(le[Z],I))return null}return"Expected "+hn(M)+" but found "+hn(I)+" instead."}function Ut(M,I){return I.some(function(Z){return Z.kind===M.kind})}function nn(M,I){return I.some(function(Z){return"null"===Z?null===M:"array"===Z?Array.isArray(M):"object"===Z?M&&!Array.isArray(M)&&"object"==typeof M:Z===typeof M})}var rn=T(function(M,I){var Z={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function le(ot){return(ot=Math.round(ot))<0?0:ot>255?255:ot}function De(ot){return le("%"===ot[ot.length-1]?parseFloat(ot)/100*255:parseInt(ot))}function Ue(ot){return function Se(ot){return ot<0?0:ot>1?1:ot}("%"===ot[ot.length-1]?parseFloat(ot)/100:parseFloat(ot))}function Ke(ot,xt,_t){return _t<0?_t+=1:_t>1&&(_t-=1),6*_t<1?ot+(xt-ot)*_t*6:2*_t<1?xt:3*_t<2?ot+(xt-ot)*(2/3-_t)*6:ot}try{I.parseCSSColor=function(ot){var xt,_t=ot.replace(/ /g,"").toLowerCase();if(_t in Z)return Z[_t].slice();if("#"===_t[0])return 4===_t.length?(xt=parseInt(_t.substr(1),16))>=0&&xt<=4095?[(3840&xt)>>4|(3840&xt)>>8,240&xt|(240&xt)>>4,15&xt|(15&xt)<<4,1]:null:7===_t.length&&(xt=parseInt(_t.substr(1),16))>=0&&xt<=16777215?[(16711680&xt)>>16,(65280&xt)>>8,255&xt,1]:null;var Ot=_t.indexOf("("),Bt=_t.indexOf(")");if(-1!==Ot&&Bt+1===_t.length){var Rt=_t.substr(0,Ot),Qt=_t.substr(Ot+1,Bt-(Ot+1)).split(","),an=1;switch(Rt){case"rgba":if(4!==Qt.length)return null;an=Ue(Qt.pop());case"rgb":return 3!==Qt.length?null:[De(Qt[0]),De(Qt[1]),De(Qt[2]),an];case"hsla":if(4!==Qt.length)return null;an=Ue(Qt.pop());case"hsl":if(3!==Qt.length)return null;var Tn=(parseFloat(Qt[0])%360+360)%360/360,wn=Ue(Qt[1]),Pn=Ue(Qt[2]),On=Pn<=.5?Pn*(wn+1):Pn+wn-Pn*wn,Nn=2*Pn-On;return[le(255*Ke(Nn,On,Tn+1/3)),le(255*Ke(Nn,On,Tn)),le(255*Ke(Nn,On,Tn-1/3)),an];default:return null}}return null}}catch{}}).parseCSSColor,fn=function(M,I,Z,le){void 0===le&&(le=1),this.r=M,this.g=I,this.b=Z,this.a=le};fn.parse=function(M){if(M){if(M instanceof fn)return M;if("string"==typeof M){var I=rn(M);if(I)return new fn(I[0]/255*I[3],I[1]/255*I[3],I[2]/255*I[3],I[3])}}},fn.prototype.toString=function(){var M=this.toArray(),Z=M[1],le=M[2],Se=M[3];return"rgba("+Math.round(M[0])+","+Math.round(Z)+","+Math.round(le)+","+Se+")"},fn.prototype.toArray=function(){var M=this,Se=M.a;return 0===Se?[0,0,0,0]:[255*M.r/Se,255*M.g/Se,255*M.b/Se,Se]},fn.black=new fn(0,0,0,1),fn.white=new fn(1,1,1,1),fn.transparent=new fn(0,0,0,0),fn.red=new fn(1,0,0,1);var gn=function(M,I,Z){this.sensitivity=M?I?"variant":"case":I?"accent":"base",this.locale=Z,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};gn.prototype.compare=function(M,I){return this.collator.compare(M,I)},gn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var An=function(M,I,Z,le,Se){this.text=M,this.image=I,this.scale=Z,this.fontStack=le,this.textColor=Se},En=function(M){this.sections=M};En.fromString=function(M){return new En([new An(M,null,null,null,null)])},En.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(M){return 0!==M.text.length||M.image&&0!==M.image.name.length})},En.factory=function(M){return M instanceof En?M:En.fromString(M)},En.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(M){return M.text}).join("")},En.prototype.serialize=function(){for(var M=["format"],I=0,Z=this.sections;I<Z.length;I+=1){var le=Z[I];if(le.image)M.push(["image",le.image.name]);else{M.push(le.text);var Se={};le.fontStack&&(Se["text-font"]=["literal",le.fontStack.split(",")]),le.scale&&(Se["font-scale"]=le.scale),le.textColor&&(Se["text-color"]=["rgba"].concat(le.textColor.toArray())),M.push(Se)}}return M};var bn=function(M){this.name=M.name,this.available=M.available};function Ln(M,I,Z,le){return"number"==typeof M&&M>=0&&M<=255&&"number"==typeof I&&I>=0&&I<=255&&"number"==typeof Z&&Z>=0&&Z<=255?void 0===le||"number"==typeof le&&le>=0&&le<=1?null:"Invalid rgba value ["+[M,I,Z,le].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof le?[M,I,Z,le]:[M,I,Z]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Wn(M){if(null===M||"string"==typeof M||"boolean"==typeof M||"number"==typeof M||M instanceof fn||M instanceof gn||M instanceof En||M instanceof bn)return!0;if(Array.isArray(M)){for(var I=0,Z=M;I<Z.length;I+=1)if(!Wn(Z[I]))return!1;return!0}if("object"==typeof M){for(var le in M)if(!Wn(M[le]))return!1;return!0}return!1}function Qn(M){if(null===M)return wt;if("string"==typeof M)return ft;if("boolean"==typeof M)return bt;if("number"==typeof M)return ct;if(M instanceof fn)return It;if(M instanceof gn)return $t;if(M instanceof En)return jt;if(M instanceof bn)return Yt;if(Array.isArray(M)){for(var I,Z=M.length,le=0,Se=M;le<Se.length;le+=1){var De=Qn(Se[le]);if(I){if(I===De)continue;I=Nt;break}I=De}return Gt(I||Nt,Z)}return Dt}function ir(M){var I=typeof M;return null===M?"":"string"===I||"number"===I||"boolean"===I?String(M):M instanceof fn||M instanceof En||M instanceof bn?M.toString():JSON.stringify(M)}bn.prototype.toString=function(){return this.name},bn.fromString=function(M){return M?new bn({name:M,available:!1}):null},bn.prototype.serialize=function(){return["image",this.name]};var $n=function(M,I){this.type=M,this.value=I};$n.parse=function(M,I){if(2!==M.length)return I.error("'literal' expression requires exactly one argument, but found "+(M.length-1)+" instead.");if(!Wn(M[1]))return I.error("invalid value");var Z=M[1],le=Qn(Z),Se=I.expectedType;return"array"!==le.kind||0!==le.N||!Se||"array"!==Se.kind||"number"==typeof Se.N&&0!==Se.N||(le=Se),new $n(le,Z)},$n.prototype.evaluate=function(){return this.value},$n.prototype.eachChild=function(){},$n.prototype.outputDefined=function(){return!0},$n.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof fn?["rgba"].concat(this.value.toArray()):this.value instanceof En?this.value.serialize():this.value};var qn=function(M){this.name="ExpressionEvaluationError",this.message=M};qn.prototype.toJSON=function(){return this.message};var dr={string:ft,number:ct,boolean:bt,object:Dt},Ft=function(M,I){this.type=M,this.args=I};Ft.parse=function(M,I){if(M.length<2)return I.error("Expected at least one argument.");var Z,le=1,Se=M[0];if("array"===Se){var De,Ue;if(M.length>2){var Ke=M[1];if("string"!=typeof Ke||!(Ke in dr)||"object"===Ke)return I.error('The item type argument of "array" must be one of string, number, boolean',1);De=dr[Ke],le++}else De=Nt;if(M.length>3){if(null!==M[2]&&("number"!=typeof M[2]||M[2]<0||M[2]!==Math.floor(M[2])))return I.error('The length argument to "array" must be a positive integer literal',2);Ue=M[2],le++}Z=Gt(De,Ue)}else Z=dr[Se];for(var ot=[];le<M.length;le++){var xt=I.parse(M[le],le,Nt);if(!xt)return null;ot.push(xt)}return new Ft(Z,ot)},Ft.prototype.evaluate=function(M){for(var I=0;I<this.args.length;I++){var Z=this.args[I].evaluate(M);if(!on(this.type,Qn(Z)))return Z;if(I===this.args.length-1)throw new qn("Expected value to be of type "+hn(this.type)+", but found "+hn(Qn(Z))+" instead.")}return null},Ft.prototype.eachChild=function(M){this.args.forEach(M)},Ft.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},Ft.prototype.serialize=function(){var M=this.type,I=[M.kind];if("array"===M.kind){var Z=M.itemType;if("string"===Z.kind||"number"===Z.kind||"boolean"===Z.kind){I.push(Z.kind);var le=M.N;("number"==typeof le||this.args.length>1)&&I.push(le)}}return I.concat(this.args.map(function(Se){return Se.serialize()}))};var tn=function(M){this.type=jt,this.sections=M};tn.parse=function(M,I){if(M.length<2)return I.error("Expected at least one argument.");var Z=M[1];if(!Array.isArray(Z)&&"object"==typeof Z)return I.error("First argument must be an image or text section.");for(var le=[],Se=!1,De=1;De<=M.length-1;++De){var Ue=M[De];if(Se&&"object"==typeof Ue&&!Array.isArray(Ue)){Se=!1;var Ke=null;if(Ue["font-scale"]&&!(Ke=I.parse(Ue["font-scale"],1,ct)))return null;var ot=null;if(Ue["text-font"]&&!(ot=I.parse(Ue["text-font"],1,Gt(ft))))return null;var xt=null;if(Ue["text-color"]&&!(xt=I.parse(Ue["text-color"],1,It)))return null;var _t=le[le.length-1];_t.scale=Ke,_t.font=ot,_t.textColor=xt}else{var Ot=I.parse(M[De],1,Nt);if(!Ot)return null;var Bt=Ot.type.kind;if("string"!==Bt&&"value"!==Bt&&"null"!==Bt&&"resolvedImage"!==Bt)return I.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Se=!0,le.push({content:Ot,scale:null,font:null,textColor:null})}}return new tn(le)},tn.prototype.evaluate=function(M){return new En(this.sections.map(function(I){var Z=I.content.evaluate(M);return Qn(Z)===Yt?new An("",Z,null,null,null):new An(ir(Z),null,I.scale?I.scale.evaluate(M):null,I.font?I.font.evaluate(M).join(","):null,I.textColor?I.textColor.evaluate(M):null)}))},tn.prototype.eachChild=function(M){for(var I=0,Z=this.sections;I<Z.length;I+=1){var le=Z[I];M(le.content),le.scale&&M(le.scale),le.font&&M(le.font),le.textColor&&M(le.textColor)}},tn.prototype.outputDefined=function(){return!1},tn.prototype.serialize=function(){for(var M=["format"],I=0,Z=this.sections;I<Z.length;I+=1){var le=Z[I];M.push(le.content.serialize());var Se={};le.scale&&(Se["font-scale"]=le.scale.serialize()),le.font&&(Se["text-font"]=le.font.serialize()),le.textColor&&(Se["text-color"]=le.textColor.serialize()),M.push(Se)}return M};var cn=function(M){this.type=Yt,this.input=M};cn.parse=function(M,I){if(2!==M.length)return I.error("Expected two arguments.");var Z=I.parse(M[1],1,ft);return Z?new cn(Z):I.error("No image name provided.")},cn.prototype.evaluate=function(M){var I=this.input.evaluate(M),Z=bn.fromString(I);return Z&&M.availableImages&&(Z.available=M.availableImages.indexOf(I)>-1),Z},cn.prototype.eachChild=function(M){M(this.input)},cn.prototype.outputDefined=function(){return!1},cn.prototype.serialize=function(){return["image",this.input.serialize()]};var dn={"to-boolean":bt,"to-color":It,"to-number":ct,"to-string":ft},kn=function(M,I){this.type=M,this.args=I};kn.parse=function(M,I){if(M.length<2)return I.error("Expected at least one argument.");var Z=M[0];if(("to-boolean"===Z||"to-string"===Z)&&2!==M.length)return I.error("Expected one argument.");for(var le=dn[Z],Se=[],De=1;De<M.length;De++){var Ue=I.parse(M[De],De,Nt);if(!Ue)return null;Se.push(Ue)}return new kn(le,Se)},kn.prototype.evaluate=function(M){if("boolean"===this.type.kind)return!!this.args[0].evaluate(M);if("color"===this.type.kind){for(var I,Z,le=0,Se=this.args;le<Se.length;le+=1){if(Z=null,(I=Se[le].evaluate(M))instanceof fn)return I;if("string"==typeof I){var De=M.parseColor(I);if(De)return De}else if(Array.isArray(I)&&!(Z=I.length<3||I.length>4?"Invalid rbga value "+JSON.stringify(I)+": expected an array containing either three or four numeric values.":Ln(I[0],I[1],I[2],I[3])))return new fn(I[0]/255,I[1]/255,I[2]/255,I[3])}throw new qn(Z||"Could not parse color from value '"+("string"==typeof I?I:String(JSON.stringify(I)))+"'")}if("number"===this.type.kind){for(var Ue=null,Ke=0,ot=this.args;Ke<ot.length;Ke+=1){if(null===(Ue=ot[Ke].evaluate(M)))return 0;var xt=Number(Ue);if(!isNaN(xt))return xt}throw new qn("Could not convert "+JSON.stringify(Ue)+" to number.")}return"formatted"===this.type.kind?En.fromString(ir(this.args[0].evaluate(M))):"resolvedImage"===this.type.kind?bn.fromString(ir(this.args[0].evaluate(M))):ir(this.args[0].evaluate(M))},kn.prototype.eachChild=function(M){this.args.forEach(M)},kn.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},kn.prototype.serialize=function(){if("formatted"===this.type.kind)return new tn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new cn(this.args[0]).serialize();var M=["to-"+this.type.kind];return this.eachChild(function(I){M.push(I.serialize())}),M};var Vn=["Unknown","Point","LineString","Polygon"],In=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};In.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},In.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Vn[this.feature.type]:this.feature.type:null},In.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},In.prototype.canonicalID=function(){return this.canonical},In.prototype.properties=function(){return this.feature&&this.feature.properties||{}},In.prototype.parseColor=function(M){var I=this._parseColorCache[M];return I||(I=this._parseColorCache[M]=fn.parse(M)),I};var Dn=function(M,I,Z,le){this.name=M,this.type=I,this._evaluate=Z,this.args=le};Dn.prototype.evaluate=function(M){return this._evaluate(M,this.args)},Dn.prototype.eachChild=function(M){this.args.forEach(M)},Dn.prototype.outputDefined=function(){return!1},Dn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(M){return M.serialize()}))},Dn.parse=function(M,I){var Z,le=M[0],Se=Dn.definitions[le];if(!Se)return I.error('Unknown expression "'+le+'". If you wanted a literal array, use ["literal", [...]].',0);for(var De=Array.isArray(Se)?Se[0]:Se.type,Ue=Array.isArray(Se)?[[Se[1],Se[2]]]:Se.overloads,Ke=Ue.filter(function(zr){var Ar=zr[0];return!Array.isArray(Ar)||Ar.length===M.length-1}),ot=null,xt=0,_t=Ke;xt<_t.length;xt+=1){var Ot=_t[xt],Bt=Ot[0],Rt=Ot[1];ot=new tr(I.registry,I.path,null,I.scope);for(var Qt=[],an=!1,Tn=1;Tn<M.length;Tn++){var wn=M[Tn],Pn=Array.isArray(Bt)?Bt[Tn-1]:Bt.type,On=ot.parse(wn,1+Qt.length,Pn);if(!On){an=!0;break}Qt.push(On)}if(!an)if(Array.isArray(Bt)&&Bt.length!==Qt.length)ot.error("Expected "+Bt.length+" arguments, but found "+Qt.length+" instead.");else{for(var Nn=0;Nn<Qt.length;Nn++){var Gn=Array.isArray(Bt)?Bt[Nn]:Bt.type,Jn=Qt[Nn];ot.concat(Nn+1).checkSubtype(Gn,Jn.type)}if(0===ot.errors.length)return new Dn(le,De,Rt,Qt)}}if(1===Ke.length)(Z=I.errors).push.apply(Z,ot.errors);else{for(var hr=(Ke.length?Ke:Ue).map(function(zr){return Ar=zr[0],Array.isArray(Ar)?"("+Ar.map(hn).join(", ")+")":"("+hn(Ar.type)+"...)";var Ar}).join(" | "),sr=[],gr=1;gr<M.length;gr++){var wr=I.parse(M[gr],1+sr.length);if(!wr)return null;sr.push(hn(wr.type))}I.error("Expected arguments of type "+hr+", but found ("+sr.join(", ")+") instead.")}return null},Dn.register=function(M,I){for(var Z in Dn.definitions=I,I)M[Z]=Dn};var Kn=function(M,I,Z){this.type=$t,this.locale=Z,this.caseSensitive=M,this.diacriticSensitive=I};Kn.parse=function(M,I){if(2!==M.length)return I.error("Expected one argument.");var Z=M[1];if("object"!=typeof Z||Array.isArray(Z))return I.error("Collator options argument must be an object.");var le=I.parse(void 0!==Z["case-sensitive"]&&Z["case-sensitive"],1,bt);if(!le)return null;var Se=I.parse(void 0!==Z["diacritic-sensitive"]&&Z["diacritic-sensitive"],1,bt);if(!Se)return null;var De=null;return Z.locale&&!(De=I.parse(Z.locale,1,ft))?null:new Kn(le,Se,De)},Kn.prototype.evaluate=function(M){return new gn(this.caseSensitive.evaluate(M),this.diacriticSensitive.evaluate(M),this.locale?this.locale.evaluate(M):null)},Kn.prototype.eachChild=function(M){M(this.caseSensitive),M(this.diacriticSensitive),this.locale&&M(this.locale)},Kn.prototype.outputDefined=function(){return!1},Kn.prototype.serialize=function(){var M={};return M["case-sensitive"]=this.caseSensitive.serialize(),M["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(M.locale=this.locale.serialize()),["collator",M]};var Vt=8192;function _n(M,I){M[0]=Math.min(M[0],I[0]),M[1]=Math.min(M[1],I[1]),M[2]=Math.max(M[2],I[0]),M[3]=Math.max(M[3],I[1])}function Mt(M,I){return!(M[0]<=I[0]||M[2]>=I[2]||M[1]<=I[1]||M[3]>=I[3])}function qt(M,I){var le=(180+M[0])/360,Se=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+M[1]*Math.PI/360)))/360,De=Math.pow(2,I.z);return[Math.round(le*De*Vt),Math.round(Se*De*Vt)]}function Kt(M,I,Z){return I[1]>M[1]!=Z[1]>M[1]&&M[0]<(Z[0]-I[0])*(M[1]-I[1])/(Z[1]-I[1])+I[0]}function mn(M,I){for(var Z=!1,le=0,Se=I.length;le<Se;le++)for(var De=I[le],Ue=0,Ke=De.length;Ue<Ke-1;Ue++){if(void 0,void 0,void 0,void 0,(Ot=(ot=M)[0]-(xt=De[Ue])[0])*(Qt=ot[1]-(_t=De[Ue+1])[1])-(Rt=ot[0]-_t[0])*(Bt=ot[1]-xt[1])==0&&Ot*Rt<=0&&Bt*Qt<=0)return!1;Kt(M,De[Ue],De[Ue+1])&&(Z=!Z)}var ot,xt,_t,Ot,Bt,Rt,Qt;return Z}function xn(M,I){for(var Z=0;Z<I.length;Z++)if(mn(M,I[Z]))return!0;return!1}function Mn(M,I,Z,le){var ot=le[0]-Z[0],xt=le[1]-Z[1],_t=(M[0]-Z[0])*xt-ot*(M[1]-Z[1]),Ot=(I[0]-Z[0])*xt-ot*(I[1]-Z[1]);return _t>0&&Ot<0||_t<0&&Ot>0}function ln(M,I,Z){for(var le=0,Se=Z;le<Se.length;le+=1)for(var De=Se[le],Ue=0;Ue<De.length-1;++Ue)if(void 0,void 0,(Ot=[(_t=De[Ue+1])[0]-(xt=De[Ue])[0],_t[1]-xt[1]])[0]*(Bt=[(ot=I)[0]-(Ke=M)[0],ot[1]-Ke[1]])[1]-Ot[1]*Bt[0]!=0&&Mn(Ke,ot,xt,_t)&&Mn(xt,_t,Ke,ot))return!0;var Ke,ot,xt,_t,Ot,Bt;return!1}function Wt(M,I){for(var Z=0;Z<M.length;++Z)if(!mn(M[Z],I))return!1;for(var le=0;le<M.length-1;++le)if(ln(M[le],M[le+1],I))return!1;return!0}function Jt(M,I){for(var Z=0;Z<I.length;Z++)if(Wt(M,I[Z]))return!0;return!1}function sn(M,I,Z){for(var le=[],Se=0;Se<M.length;Se++){for(var De=[],Ue=0;Ue<M[Se].length;Ue++){var Ke=qt(M[Se][Ue],Z);_n(I,Ke),De.push(Ke)}le.push(De)}return le}function un(M,I,Z){for(var le=[],Se=0;Se<M.length;Se++){var De=sn(M[Se],I,Z);le.push(De)}return le}function Sn(M,I,Z,le){if(M[0]<Z[0]||M[0]>Z[2]){var Se=.5*le,De=M[0]-Z[0]>Se?-le:Z[0]-M[0]>Se?le:0;0===De&&(De=M[0]-Z[2]>Se?-le:Z[2]-M[0]>Se?le:0),M[0]+=De}_n(I,M)}function Cn(M,I,Z,le){for(var Se=Math.pow(2,le.z)*Vt,De=[le.x*Vt,le.y*Vt],Ue=[],Ke=0,ot=M;Ke<ot.length;Ke+=1)for(var xt=0,_t=ot[Ke];xt<_t.length;xt+=1){var Ot=_t[xt],Bt=[Ot.x+De[0],Ot.y+De[1]];Sn(Bt,I,Z,Se),Ue.push(Bt)}return Ue}function jn(M,I,Z,le){for(var Se=Math.pow(2,le.z)*Vt,De=[le.x*Vt,le.y*Vt],Ue=[],Ke=0,ot=M;Ke<ot.length;Ke+=1){for(var xt=[],_t=0,Ot=ot[Ke];_t<Ot.length;_t+=1){var Bt=Ot[_t],Rt=[Bt.x+De[0],Bt.y+De[1]];_n(I,Rt),xt.push(Rt)}Ue.push(xt)}if(I[2]-I[0]<=Se/2){(Pn=I)[0]=Pn[1]=1/0,Pn[2]=Pn[3]=-1/0;for(var Qt=0,an=Ue;Qt<an.length;Qt+=1)for(var Tn=0,wn=an[Qt];Tn<wn.length;Tn+=1)Sn(wn[Tn],I,Z,Se)}var Pn;return Ue}var Fn=function(M,I){this.type=bt,this.geojson=M,this.geometries=I};function Xn(M){if(M instanceof Dn&&("get"===M.name&&1===M.args.length||"feature-state"===M.name||"has"===M.name&&1===M.args.length||"properties"===M.name||"geometry-type"===M.name||"id"===M.name||/^filter-/.test(M.name))||M instanceof Fn)return!1;var I=!0;return M.eachChild(function(Z){I&&!Xn(Z)&&(I=!1)}),I}function Hn(M){if(M instanceof Dn&&"feature-state"===M.name)return!1;var I=!0;return M.eachChild(function(Z){I&&!Hn(Z)&&(I=!1)}),I}function nr(M,I){if(M instanceof Dn&&I.indexOf(M.name)>=0)return!1;var Z=!0;return M.eachChild(function(le){Z&&!nr(le,I)&&(Z=!1)}),Z}Fn.parse=function(M,I){if(2!==M.length)return I.error("'within' expression requires exactly one argument, but found "+(M.length-1)+" instead.");if(Wn(M[1])){var Z=M[1];if("FeatureCollection"===Z.type)for(var le=0;le<Z.features.length;++le){var Se=Z.features[le].geometry.type;if("Polygon"===Se||"MultiPolygon"===Se)return new Fn(Z,Z.features[le].geometry)}else if("Feature"===Z.type){var De=Z.geometry.type;if("Polygon"===De||"MultiPolygon"===De)return new Fn(Z,Z.geometry)}else if("Polygon"===Z.type||"MultiPolygon"===Z.type)return new Fn(Z,Z)}return I.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Fn.prototype.evaluate=function(M){if(null!=M.geometry()&&null!=M.canonicalID()){if("Point"===M.geometryType())return function(I,Z){var le=[1/0,1/0,-1/0,-1/0],Se=[1/0,1/0,-1/0,-1/0],De=I.canonicalID();if("Polygon"===Z.type){var Ue=sn(Z.coordinates,Se,De),Ke=Cn(I.geometry(),le,Se,De);if(!Mt(le,Se))return!1;for(var ot=0,xt=Ke;ot<xt.length;ot+=1)if(!mn(xt[ot],Ue))return!1}if("MultiPolygon"===Z.type){var _t=un(Z.coordinates,Se,De),Ot=Cn(I.geometry(),le,Se,De);if(!Mt(le,Se))return!1;for(var Bt=0,Rt=Ot;Bt<Rt.length;Bt+=1)if(!xn(Rt[Bt],_t))return!1}return!0}(M,this.geometries);if("LineString"===M.geometryType())return function(I,Z){var le=[1/0,1/0,-1/0,-1/0],Se=[1/0,1/0,-1/0,-1/0],De=I.canonicalID();if("Polygon"===Z.type){var Ue=sn(Z.coordinates,Se,De),Ke=jn(I.geometry(),le,Se,De);if(!Mt(le,Se))return!1;for(var ot=0,xt=Ke;ot<xt.length;ot+=1)if(!Wt(xt[ot],Ue))return!1}if("MultiPolygon"===Z.type){var _t=un(Z.coordinates,Se,De),Ot=jn(I.geometry(),le,Se,De);if(!Mt(le,Se))return!1;for(var Bt=0,Rt=Ot;Bt<Rt.length;Bt+=1)if(!Jt(Rt[Bt],_t))return!1}return!0}(M,this.geometries)}return!1},Fn.prototype.eachChild=function(){},Fn.prototype.outputDefined=function(){return!0},Fn.prototype.serialize=function(){return["within",this.geojson]};var er=function(M,I){this.type=I.type,this.name=M,this.boundExpression=I};er.parse=function(M,I){if(2!==M.length||"string"!=typeof M[1])return I.error("'var' expression requires exactly one string literal argument.");var Z=M[1];return I.scope.has(Z)?new er(Z,I.scope.get(Z)):I.error('Unknown variable "'+Z+'". Make sure "'+Z+'" has been bound in an enclosing "let" expression before using it.',1)},er.prototype.evaluate=function(M){return this.boundExpression.evaluate(M)},er.prototype.eachChild=function(){},er.prototype.outputDefined=function(){return!1},er.prototype.serialize=function(){return["var",this.name]};var tr=function(M,I,Z,le,Se){void 0===I&&(I=[]),void 0===le&&(le=new ut),void 0===Se&&(Se=[]),this.registry=M,this.path=I,this.key=I.map(function(De){return"["+De+"]"}).join(""),this.scope=le,this.errors=Se,this.expectedType=Z};function lr(M){if(M instanceof er)return lr(M.boundExpression);if(M instanceof Dn&&"error"===M.name||M instanceof Kn||M instanceof Fn)return!1;var I=M instanceof kn||M instanceof Ft,Z=!0;return M.eachChild(function(le){Z=I?Z&&lr(le):Z&&le instanceof $n}),!!Z&&Xn(M)&&nr(M,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function ur(M,I){for(var Z,Se=M.length-1,De=0,Ue=Se,Ke=0;De<=Ue;)if((Z=M[Ke=Math.floor((De+Ue)/2)])<=I){if(Ke===Se||I<M[Ke+1])return Ke;De=Ke+1}else{if(!(Z>I))throw new qn("Input is not a number.");Ue=Ke-1}return 0}tr.prototype.parse=function(M,I,Z,le,Se){return void 0===Se&&(Se={}),I?this.concat(I,Z,le)._parse(M,Se):this._parse(M,Se)},tr.prototype._parse=function(M,I){function Z(xt,_t,Ot){return"assert"===Ot?new Ft(_t,[xt]):"coerce"===Ot?new kn(_t,[xt]):xt}if(null!==M&&"string"!=typeof M&&"boolean"!=typeof M&&"number"!=typeof M||(M=["literal",M]),Array.isArray(M)){if(0===M.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var le=M[0];if("string"!=typeof le)return this.error("Expression name must be a string, but found "+typeof le+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Se=this.registry[le];if(Se){var De=Se.parse(M,this);if(!De)return null;if(this.expectedType){var Ue=this.expectedType,Ke=De.type;if("string"!==Ue.kind&&"number"!==Ue.kind&&"boolean"!==Ue.kind&&"object"!==Ue.kind&&"array"!==Ue.kind||"value"!==Ke.kind)if("color"!==Ue.kind&&"formatted"!==Ue.kind&&"resolvedImage"!==Ue.kind||"value"!==Ke.kind&&"string"!==Ke.kind){if(this.checkSubtype(Ue,Ke))return null}else De=Z(De,Ue,I.typeAnnotation||"coerce");else De=Z(De,Ue,I.typeAnnotation||"assert")}if(!(De instanceof $n)&&"resolvedImage"!==De.type.kind&&lr(De)){var ot=new In;try{De=new $n(De.type,De.evaluate(ot))}catch(xt){return this.error(xt.message),null}}return De}return this.error('Unknown expression "'+le+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===M?"'undefined' value invalid. Use null instead.":"object"==typeof M?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof M+" instead.")},tr.prototype.concat=function(M,I,Z){var le="number"==typeof M?this.path.concat(M):this.path,Se=Z?this.scope.concat(Z):this.scope;return new tr(this.registry,le,I||null,Se,this.errors)},tr.prototype.error=function(M){for(var I=[],Z=arguments.length-1;Z-- >0;)I[Z]=arguments[Z+1];var le=""+this.key+I.map(function(Se){return"["+Se+"]"}).join("");this.errors.push(new vt(le,M))},tr.prototype.checkSubtype=function(M,I){var Z=on(M,I);return Z&&this.error(Z),Z};var _r=function(M,I,Z){this.type=M,this.input=I,this.labels=[],this.outputs=[];for(var le=0,Se=Z;le<Se.length;le+=1){var De=Se[le],Ke=De[1];this.labels.push(De[0]),this.outputs.push(Ke)}};function Zn(M,I,Z){return M*(1-Z)+I*Z}_r.parse=function(M,I){if(M.length-1<4)return I.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if((M.length-1)%2!=0)return I.error("Expected an even number of arguments.");var Z=I.parse(M[1],1,ct);if(!Z)return null;var le=[],Se=null;I.expectedType&&"value"!==I.expectedType.kind&&(Se=I.expectedType);for(var De=1;De<M.length;De+=2){var Ue=1===De?-1/0:M[De],Ke=M[De+1],ot=De,xt=De+1;if("number"!=typeof Ue)return I.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ot);if(le.length&&le[le.length-1][0]>=Ue)return I.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ot);var _t=I.parse(Ke,xt,Se);if(!_t)return null;Se=Se||_t.type,le.push([Ue,_t])}return new _r(Se,Z,le)},_r.prototype.evaluate=function(M){var I=this.labels,Z=this.outputs;if(1===I.length)return Z[0].evaluate(M);var le=this.input.evaluate(M);if(le<=I[0])return Z[0].evaluate(M);var Se=I.length;return le>=I[Se-1]?Z[Se-1].evaluate(M):Z[ur(I,le)].evaluate(M)},_r.prototype.eachChild=function(M){M(this.input);for(var I=0,Z=this.outputs;I<Z.length;I+=1)M(Z[I])},_r.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})},_r.prototype.serialize=function(){for(var M=["step",this.input.serialize()],I=0;I<this.labels.length;I++)I>0&&M.push(this.labels[I]),M.push(this.outputs[I].serialize());return M};var pr=Object.freeze({__proto__:null,number:Zn,color:function(M,I,Z){return new fn(Zn(M.r,I.r,Z),Zn(M.g,I.g,Z),Zn(M.b,I.b,Z),Zn(M.a,I.a,Z))},array:function(M,I,Z){return M.map(function(le,Se){return Zn(le,I[Se],Z)})}}),ii=4/29,hi=6/29,Qr=3*hi*hi,wi=hi*hi*hi,qa=Math.PI/180,da=180/Math.PI;function no(M){return M>wi?Math.pow(M,.3333333333333333):M/Qr+ii}function Gs(M){return M>hi?M*M*M:Qr*(M-ii)}function Bo(M){return 255*(M<=.0031308?12.92*M:1.055*Math.pow(M,.4166666666666667)-.055)}function gs(M){return(M/=255)<=.04045?M/12.92:Math.pow((M+.055)/1.055,2.4)}function qs(M){var I=gs(M.r),Z=gs(M.g),le=gs(M.b),Se=no((.4124564*I+.3575761*Z+.1804375*le)/.95047),De=no((.2126729*I+.7151522*Z+.072175*le)/1);return{l:116*De-16,a:500*(Se-De),b:200*(De-no((.0193339*I+.119192*Z+.9503041*le)/1.08883)),alpha:M.a}}function Za(M){var I=(M.l+16)/116,Z=isNaN(M.a)?I:I+M.a/500,le=isNaN(M.b)?I:I-M.b/200;return I=1*Gs(I),Z=.95047*Gs(Z),le=1.08883*Gs(le),new fn(Bo(3.2404542*Z-1.5371385*I-.4985314*le),Bo(-.969266*Z+1.8760108*I+.041556*le),Bo(.0556434*Z-.2040259*I+1.0572252*le),M.alpha)}function il(M,I,Z){var le=I-M;return M+Z*(le>180||le<-180?le-360*Math.round(le/360):le)}var No={forward:qs,reverse:Za,interpolate:function(M,I,Z){return{l:Zn(M.l,I.l,Z),a:Zn(M.a,I.a,Z),b:Zn(M.b,I.b,Z),alpha:Zn(M.alpha,I.alpha,Z)}}},jo={forward:function(M){var I=qs(M),Z=I.l,le=I.a,Se=I.b,De=Math.atan2(Se,le)*da;return{h:De<0?De+360:De,c:Math.sqrt(le*le+Se*Se),l:Z,alpha:M.a}},reverse:function(M){var I=M.h*qa,Z=M.c;return Za({l:M.l,a:Math.cos(I)*Z,b:Math.sin(I)*Z,alpha:M.alpha})},interpolate:function(M,I,Z){return{h:il(M.h,I.h,Z),c:Zn(M.c,I.c,Z),l:Zn(M.l,I.l,Z),alpha:Zn(M.alpha,I.alpha,Z)}}},Ya=Object.freeze({__proto__:null,lab:No,hcl:jo}),Li=function(M,I,Z,le,Se){this.type=M,this.operator=I,this.interpolation=Z,this.input=le,this.labels=[],this.outputs=[];for(var De=0,Ue=Se;De<Ue.length;De+=1){var Ke=Ue[De],xt=Ke[1];this.labels.push(Ke[0]),this.outputs.push(xt)}};function vs(M,I,Z,le){var Se=le-Z,De=M-Z;return 0===Se?0:1===I?De/Se:(Math.pow(I,De)-1)/(Math.pow(I,Se)-1)}Li.interpolationFactor=function(M,I,Z,le){var Se=0;if("exponential"===M.name)Se=vs(I,M.base,Z,le);else if("linear"===M.name)Se=vs(I,1,Z,le);else if("cubic-bezier"===M.name){var De=M.controlPoints;Se=new d(De[0],De[1],De[2],De[3]).solve(vs(I,1,Z,le))}return Se},Li.parse=function(M,I){var Z=M[0],le=M[1],Se=M[2],De=M.slice(3);if(!Array.isArray(le)||0===le.length)return I.error("Expected an interpolation type expression.",1);if("linear"===le[0])le={name:"linear"};else if("exponential"===le[0]){var Ue=le[1];if("number"!=typeof Ue)return I.error("Exponential interpolation requires a numeric base.",1,1);le={name:"exponential",base:Ue}}else{if("cubic-bezier"!==le[0])return I.error("Unknown interpolation type "+String(le[0]),1,0);var Ke=le.slice(1);if(4!==Ke.length||Ke.some(function(Tn){return"number"!=typeof Tn||Tn<0||Tn>1}))return I.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);le={name:"cubic-bezier",controlPoints:Ke}}if(M.length-1<4)return I.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if((M.length-1)%2!=0)return I.error("Expected an even number of arguments.");if(!(Se=I.parse(Se,2,ct)))return null;var ot=[],xt=null;"interpolate-hcl"===Z||"interpolate-lab"===Z?xt=It:I.expectedType&&"value"!==I.expectedType.kind&&(xt=I.expectedType);for(var _t=0;_t<De.length;_t+=2){var Ot=De[_t],Bt=De[_t+1],Rt=_t+3,Qt=_t+4;if("number"!=typeof Ot)return I.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Rt);if(ot.length&&ot[ot.length-1][0]>=Ot)return I.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Rt);var an=I.parse(Bt,Qt,xt);if(!an)return null;xt=xt||an.type,ot.push([Ot,an])}return"number"===xt.kind||"color"===xt.kind||"array"===xt.kind&&"number"===xt.itemType.kind&&"number"==typeof xt.N?new Li(xt,Z,le,Se,ot):I.error("Type "+hn(xt)+" is not interpolatable.")},Li.prototype.evaluate=function(M){var I=this.labels,Z=this.outputs;if(1===I.length)return Z[0].evaluate(M);var le=this.input.evaluate(M);if(le<=I[0])return Z[0].evaluate(M);var Se=I.length;if(le>=I[Se-1])return Z[Se-1].evaluate(M);var De=ur(I,le),ot=Li.interpolationFactor(this.interpolation,le,I[De],I[De+1]),xt=Z[De].evaluate(M),_t=Z[De+1].evaluate(M);return"interpolate"===this.operator?pr[this.type.kind.toLowerCase()](xt,_t,ot):"interpolate-hcl"===this.operator?jo.reverse(jo.interpolate(jo.forward(xt),jo.forward(_t),ot)):No.reverse(No.interpolate(No.forward(xt),No.forward(_t),ot))},Li.prototype.eachChild=function(M){M(this.input);for(var I=0,Z=this.outputs;I<Z.length;I+=1)M(Z[I])},Li.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})},Li.prototype.serialize=function(){var M;M="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var I=[this.operator,M,this.input.serialize()],Z=0;Z<this.labels.length;Z++)I.push(this.labels[Z],this.outputs[Z].serialize());return I};var Gr=function(M,I){this.type=M,this.args=I};Gr.parse=function(M,I){if(M.length<2)return I.error("Expectected at least one argument.");var Z=null,le=I.expectedType;le&&"value"!==le.kind&&(Z=le);for(var Se=[],De=0,Ue=M.slice(1);De<Ue.length;De+=1){var ot=I.parse(Ue[De],1+Se.length,Z,void 0,{typeAnnotation:"omit"});if(!ot)return null;Z=Z||ot.type,Se.push(ot)}var xt=le&&Se.some(function(_t){return on(le,_t.type)});return new Gr(xt?Nt:Z,Se)},Gr.prototype.evaluate=function(M){for(var I,Z=null,le=0,Se=0,De=this.args;Se<De.length&&(le++,(Z=De[Se].evaluate(M))&&Z instanceof bn&&!Z.available&&(I||(I=Z.name),Z=null,le===this.args.length&&(Z=I)),null===Z);Se+=1);return Z},Gr.prototype.eachChild=function(M){this.args.forEach(M)},Gr.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},Gr.prototype.serialize=function(){var M=["coalesce"];return this.eachChild(function(I){M.push(I.serialize())}),M};var Wa=function(M,I){this.type=I.type,this.bindings=[].concat(M),this.result=I};Wa.prototype.evaluate=function(M){return this.result.evaluate(M)},Wa.prototype.eachChild=function(M){for(var I=0,Z=this.bindings;I<Z.length;I+=1)M(Z[I][1]);M(this.result)},Wa.parse=function(M,I){if(M.length<4)return I.error("Expected at least 3 arguments, but found "+(M.length-1)+" instead.");for(var Z=[],le=1;le<M.length-1;le+=2){var Se=M[le];if("string"!=typeof Se)return I.error("Expected string, but found "+typeof Se+" instead.",le);if(/[^a-zA-Z0-9_]/.test(Se))return I.error("Variable names must contain only alphanumeric characters or '_'.",le);var De=I.parse(M[le+1],le+1);if(!De)return null;Z.push([Se,De])}var Ue=I.parse(M[M.length-1],M.length-1,I.expectedType,Z);return Ue?new Wa(Z,Ue):null},Wa.prototype.outputDefined=function(){return this.result.outputDefined()},Wa.prototype.serialize=function(){for(var M=["let"],I=0,Z=this.bindings;I<Z.length;I+=1){var le=Z[I];M.push(le[0],le[1].serialize())}return M.push(this.result.serialize()),M};var wa=function(M,I,Z){this.type=M,this.index=I,this.input=Z};wa.parse=function(M,I){if(3!==M.length)return I.error("Expected 2 arguments, but found "+(M.length-1)+" instead.");var Z=I.parse(M[1],1,ct),le=I.parse(M[2],2,Gt(I.expectedType||Nt));return Z&&le?new wa(le.type.itemType,Z,le):null},wa.prototype.evaluate=function(M){var I=this.index.evaluate(M),Z=this.input.evaluate(M);if(I<0)throw new qn("Array index out of bounds: "+I+" < 0.");if(I>=Z.length)throw new qn("Array index out of bounds: "+I+" > "+(Z.length-1)+".");if(I!==Math.floor(I))throw new qn("Array index must be an integer, but found "+I+" instead.");return Z[I]},wa.prototype.eachChild=function(M){M(this.index),M(this.input)},wa.prototype.outputDefined=function(){return!1},wa.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ro=function(M,I){this.type=bt,this.needle=M,this.haystack=I};ro.parse=function(M,I){if(3!==M.length)return I.error("Expected 2 arguments, but found "+(M.length-1)+" instead.");var Z=I.parse(M[1],1,Nt),le=I.parse(M[2],2,Nt);return Z&&le?Ut(Z.type,[bt,ft,ct,wt,Nt])?new ro(Z,le):I.error("Expected first argument to be of type boolean, string, number or null, but found "+hn(Z.type)+" instead"):null},ro.prototype.evaluate=function(M){var I=this.needle.evaluate(M),Z=this.haystack.evaluate(M);if(!Z)return!1;if(!nn(I,["boolean","string","number","null"]))throw new qn("Expected first argument to be of type boolean, string, number or null, but found "+hn(Qn(I))+" instead.");if(!nn(Z,["string","array"]))throw new qn("Expected second argument to be of type array or string, but found "+hn(Qn(Z))+" instead.");return Z.indexOf(I)>=0},ro.prototype.eachChild=function(M){M(this.needle),M(this.haystack)},ro.prototype.outputDefined=function(){return!0},ro.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Ra=function(M,I,Z){this.type=ct,this.needle=M,this.haystack=I,this.fromIndex=Z};Ra.parse=function(M,I){if(M.length<=2||M.length>=5)return I.error("Expected 3 or 4 arguments, but found "+(M.length-1)+" instead.");var Z=I.parse(M[1],1,Nt),le=I.parse(M[2],2,Nt);if(!Z||!le)return null;if(!Ut(Z.type,[bt,ft,ct,wt,Nt]))return I.error("Expected first argument to be of type boolean, string, number or null, but found "+hn(Z.type)+" instead");if(4===M.length){var Se=I.parse(M[3],3,ct);return Se?new Ra(Z,le,Se):null}return new Ra(Z,le)},Ra.prototype.evaluate=function(M){var I=this.needle.evaluate(M),Z=this.haystack.evaluate(M);if(!nn(I,["boolean","string","number","null"]))throw new qn("Expected first argument to be of type boolean, string, number or null, but found "+hn(Qn(I))+" instead.");if(!nn(Z,["string","array"]))throw new qn("Expected second argument to be of type array or string, but found "+hn(Qn(Z))+" instead.");if(this.fromIndex){var le=this.fromIndex.evaluate(M);return Z.indexOf(I,le)}return Z.indexOf(I)},Ra.prototype.eachChild=function(M){M(this.needle),M(this.haystack),this.fromIndex&&M(this.fromIndex)},Ra.prototype.outputDefined=function(){return!1},Ra.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var M=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),M]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var xo=function(M,I,Z,le,Se,De){this.inputType=M,this.type=I,this.input=Z,this.cases=le,this.outputs=Se,this.otherwise=De};xo.parse=function(M,I){if(M.length<5)return I.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if(M.length%2!=1)return I.error("Expected an even number of arguments.");var Z,le;I.expectedType&&"value"!==I.expectedType.kind&&(le=I.expectedType);for(var Se={},De=[],Ue=2;Ue<M.length-1;Ue+=2){var Ke=M[Ue],ot=M[Ue+1];Array.isArray(Ke)||(Ke=[Ke]);var xt=I.concat(Ue);if(0===Ke.length)return xt.error("Expected at least one branch label.");for(var _t=0,Ot=Ke;_t<Ot.length;_t+=1){var Bt=Ot[_t];if("number"!=typeof Bt&&"string"!=typeof Bt)return xt.error("Branch labels must be numbers or strings.");if("number"==typeof Bt&&Math.abs(Bt)>Number.MAX_SAFE_INTEGER)return xt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof Bt&&Math.floor(Bt)!==Bt)return xt.error("Numeric branch labels must be integer values.");if(Z){if(xt.checkSubtype(Z,Qn(Bt)))return null}else Z=Qn(Bt);if(void 0!==Se[String(Bt)])return xt.error("Branch labels must be unique.");Se[String(Bt)]=De.length}var Rt=I.parse(ot,Ue,le);if(!Rt)return null;le=le||Rt.type,De.push(Rt)}var Qt=I.parse(M[1],1,Nt);if(!Qt)return null;var an=I.parse(M[M.length-1],M.length-1,le);return an?"value"!==Qt.type.kind&&I.concat(1).checkSubtype(Z,Qt.type)?null:new xo(Z,le,Qt,Se,De,an):null},xo.prototype.evaluate=function(M){var I=this.input.evaluate(M);return(Qn(I)===this.inputType&&this.outputs[this.cases[I]]||this.otherwise).evaluate(M)},xo.prototype.eachChild=function(M){M(this.input),this.outputs.forEach(M),M(this.otherwise)},xo.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})&&this.otherwise.outputDefined()},xo.prototype.serialize=function(){for(var M=this,I=["match",this.input.serialize()],Z=[],le={},Se=0,De=Object.keys(this.cases).sort();Se<De.length;Se+=1){var Ue=De[Se];void 0===(Ot=le[this.cases[Ue]])?(le[this.cases[Ue]]=Z.length,Z.push([this.cases[Ue],[Ue]])):Z[Ot][1].push(Ue)}for(var Ke=function(Rt){return"number"===M.inputType.kind?Number(Rt):Rt},ot=0,xt=Z;ot<xt.length;ot+=1){var _t=xt[ot],Ot=_t[0],Bt=_t[1];I.push(1===Bt.length?Ke(Bt[0]):Bt.map(Ke)),I.push(this.outputs[outputIndex$1].serialize())}return I.push(this.otherwise.serialize()),I};var io=function(M,I,Z){this.type=M,this.branches=I,this.otherwise=Z};io.parse=function(M,I){if(M.length<4)return I.error("Expected at least 3 arguments, but found only "+(M.length-1)+".");if(M.length%2!=0)return I.error("Expected an odd number of arguments.");var Z;I.expectedType&&"value"!==I.expectedType.kind&&(Z=I.expectedType);for(var le=[],Se=1;Se<M.length-1;Se+=2){var De=I.parse(M[Se],Se,bt);if(!De)return null;var Ue=I.parse(M[Se+1],Se+1,Z);if(!Ue)return null;le.push([De,Ue]),Z=Z||Ue.type}var Ke=I.parse(M[M.length-1],M.length-1,Z);return Ke?new io(Z,le,Ke):null},io.prototype.evaluate=function(M){for(var I=0,Z=this.branches;I<Z.length;I+=1){var le=Z[I],De=le[1];if(le[0].evaluate(M))return De.evaluate(M)}return this.otherwise.evaluate(M)},io.prototype.eachChild=function(M){for(var I=0,Z=this.branches;I<Z.length;I+=1){var le=Z[I],De=le[1];M(le[0]),M(De)}M(this.otherwise)},io.prototype.outputDefined=function(){return this.branches.every(function(M){return M[1].outputDefined()})&&this.otherwise.outputDefined()},io.prototype.serialize=function(){var M=["case"];return this.eachChild(function(I){M.push(I.serialize())}),M};var ao=function(M,I,Z,le){this.type=M,this.input=I,this.beginIndex=Z,this.endIndex=le};function Os(M,I){return"=="===M||"!="===M?"boolean"===I.kind||"string"===I.kind||"number"===I.kind||"null"===I.kind||"value"===I.kind:"string"===I.kind||"number"===I.kind||"value"===I.kind}function al(M,I,Z,le){return 0===le.compare(I,Z)}function bo(M,I,Z){var le="=="!==M&&"!="!==M;return function(){function Se(De,Ue,Ke){this.type=bt,this.lhs=De,this.rhs=Ue,this.collator=Ke,this.hasUntypedArgument="value"===De.type.kind||"value"===Ue.type.kind}return Se.parse=function(De,Ue){if(3!==De.length&&4!==De.length)return Ue.error("Expected two or three arguments.");var Ke=De[0],ot=Ue.parse(De[1],1,Nt);if(!ot)return null;if(!Os(Ke,ot.type))return Ue.concat(1).error('"'+Ke+"\" comparisons are not supported for type '"+hn(ot.type)+"'.");var xt=Ue.parse(De[2],2,Nt);if(!xt)return null;if(!Os(Ke,xt.type))return Ue.concat(2).error('"'+Ke+"\" comparisons are not supported for type '"+hn(xt.type)+"'.");if(ot.type.kind!==xt.type.kind&&"value"!==ot.type.kind&&"value"!==xt.type.kind)return Ue.error("Cannot compare types '"+hn(ot.type)+"' and '"+hn(xt.type)+"'.");le&&("value"===ot.type.kind&&"value"!==xt.type.kind?ot=new Ft(xt.type,[ot]):"value"!==ot.type.kind&&"value"===xt.type.kind&&(xt=new Ft(ot.type,[xt])));var _t=null;if(4===De.length){if("string"!==ot.type.kind&&"string"!==xt.type.kind&&"value"!==ot.type.kind&&"value"!==xt.type.kind)return Ue.error("Cannot use collator to compare non-string types.");if(!(_t=Ue.parse(De[3],3,$t)))return null}return new Se(ot,xt,_t)},Se.prototype.evaluate=function(De){var Ue=this.lhs.evaluate(De),Ke=this.rhs.evaluate(De);if(le&&this.hasUntypedArgument){var ot=Qn(Ue),xt=Qn(Ke);if(ot.kind!==xt.kind||"string"!==ot.kind&&"number"!==ot.kind)throw new qn('Expected arguments for "'+M+'" to be (string, string) or (number, number), but found ('+ot.kind+", "+xt.kind+") instead.")}if(this.collator&&!le&&this.hasUntypedArgument){var _t=Qn(Ue),Ot=Qn(Ke);if("string"!==_t.kind||"string"!==Ot.kind)return I(De,Ue,Ke)}return this.collator?Z(De,Ue,Ke,this.collator.evaluate(De)):I(De,Ue,Ke)},Se.prototype.eachChild=function(De){De(this.lhs),De(this.rhs),this.collator&&De(this.collator)},Se.prototype.outputDefined=function(){return!0},Se.prototype.serialize=function(){var De=[M];return this.eachChild(function(Ue){De.push(Ue.serialize())}),De},Se}()}ao.parse=function(M,I){if(M.length<=2||M.length>=5)return I.error("Expected 3 or 4 arguments, but found "+(M.length-1)+" instead.");var Z=I.parse(M[1],1,Nt),le=I.parse(M[2],2,ct);if(!Z||!le)return null;if(!Ut(Z.type,[Gt(Nt),ft,Nt]))return I.error("Expected first argument to be of type array or string, but found "+hn(Z.type)+" instead");if(4===M.length){var Se=I.parse(M[3],3,ct);return Se?new ao(Z.type,Z,le,Se):null}return new ao(Z.type,Z,le)},ao.prototype.evaluate=function(M){var I=this.input.evaluate(M),Z=this.beginIndex.evaluate(M);if(!nn(I,["string","array"]))throw new qn("Expected first argument to be of type array or string, but found "+hn(Qn(I))+" instead.");if(this.endIndex){var le=this.endIndex.evaluate(M);return I.slice(Z,le)}return I.slice(Z)},ao.prototype.eachChild=function(M){M(this.input),M(this.beginIndex),this.endIndex&&M(this.endIndex)},ao.prototype.outputDefined=function(){return!1},ao.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var M=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),M]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var ol=bo("==",function(M,I,Z){return I===Z},al),Zs=bo("!=",function(M,I,Z){return I!==Z},function(M,I,Z,le){return!al(0,I,Z,le)}),sl=bo("<",function(M,I,Z){return I<Z},function(M,I,Z,le){return le.compare(I,Z)<0}),Ys=bo(">",function(M,I,Z){return I>Z},function(M,I,Z,le){return le.compare(I,Z)>0}),ll=bo("<=",function(M,I,Z){return I<=Z},function(M,I,Z,le){return le.compare(I,Z)<=0}),rs=bo(">=",function(M,I,Z){return I>=Z},function(M,I,Z,le){return le.compare(I,Z)>=0}),_o=function(M,I,Z,le,Se){this.type=ft,this.number=M,this.locale=I,this.currency=Z,this.minFractionDigits=le,this.maxFractionDigits=Se};_o.parse=function(M,I){if(3!==M.length)return I.error("Expected two arguments.");var Z=I.parse(M[1],1,ct);if(!Z)return null;var le=M[2];if("object"!=typeof le||Array.isArray(le))return I.error("NumberFormat options argument must be an object.");var Se=null;if(le.locale&&!(Se=I.parse(le.locale,1,ft)))return null;var De=null;if(le.currency&&!(De=I.parse(le.currency,1,ft)))return null;var Ue=null;if(le["min-fraction-digits"]&&!(Ue=I.parse(le["min-fraction-digits"],1,ct)))return null;var Ke=null;return le["max-fraction-digits"]&&!(Ke=I.parse(le["max-fraction-digits"],1,ct))?null:new _o(Z,Se,De,Ue,Ke)},_o.prototype.evaluate=function(M){return new Intl.NumberFormat(this.locale?this.locale.evaluate(M):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(M):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(M):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(M):void 0}).format(this.number.evaluate(M))},_o.prototype.eachChild=function(M){M(this.number),this.locale&&M(this.locale),this.currency&&M(this.currency),this.minFractionDigits&&M(this.minFractionDigits),this.maxFractionDigits&&M(this.maxFractionDigits)},_o.prototype.outputDefined=function(){return!1},_o.prototype.serialize=function(){var M={};return this.locale&&(M.locale=this.locale.serialize()),this.currency&&(M.currency=this.currency.serialize()),this.minFractionDigits&&(M["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(M["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),M]};var Uo=function(M){this.type=ct,this.input=M};Uo.parse=function(M,I){if(2!==M.length)return I.error("Expected 1 argument, but found "+(M.length-1)+" instead.");var Z=I.parse(M[1],1);return Z?"array"!==Z.type.kind&&"string"!==Z.type.kind&&"value"!==Z.type.kind?I.error("Expected argument of type string or array, but found "+hn(Z.type)+" instead."):new Uo(Z):null},Uo.prototype.evaluate=function(M){var I=this.input.evaluate(M);if("string"==typeof I||Array.isArray(I))return I.length;throw new qn("Expected value to be of type string or array, but found "+hn(Qn(I))+" instead.")},Uo.prototype.eachChild=function(M){M(this.input)},Uo.prototype.outputDefined=function(){return!1},Uo.prototype.serialize=function(){var M=["length"];return this.eachChild(function(I){M.push(I.serialize())}),M};var is={"==":ol,"!=":Zs,">":Ys,"<":sl,">=":rs,"<=":ll,array:Ft,at:wa,boolean:Ft,case:io,coalesce:Gr,collator:Kn,format:tn,image:cn,in:ro,"index-of":Ra,interpolate:Li,"interpolate-hcl":Li,"interpolate-lab":Li,length:Uo,let:Wa,literal:$n,match:xo,number:Ft,"number-format":_o,object:Ft,slice:ao,step:_r,string:Ft,"to-boolean":kn,"to-color":kn,"to-number":kn,"to-string":kn,var:er,within:Fn};function Is(M,I){var Z=I[0],le=I[1],Se=I[2],De=I[3];Z=Z.evaluate(M),le=le.evaluate(M),Se=Se.evaluate(M);var Ue=De?De.evaluate(M):1,Ke=Ln(Z,le,Se,Ue);if(Ke)throw new qn(Ke);return new fn(Z/255*Ue,le/255*Ue,Se/255*Ue,Ue)}function Ws(M,I){return M in I}function Xs(M,I){var Z=I[M];return void 0===Z?null:Z}function Sa(M){return{type:M}}function Vo(M){return{result:"success",value:M}}function Xa(M){return{result:"error",value:M}}function oo(M){return"data-driven"===M["property-type"]||"cross-faded-data-driven"===M["property-type"]}function ul(M){return!!M.expression&&M.expression.parameters.indexOf("zoom")>-1}function wo(M){return!!M.expression&&M.expression.interpolated}function ei(M){return M instanceof Number?"number":M instanceof String?"string":M instanceof Boolean?"boolean":Array.isArray(M)?"array":null===M?"null":typeof M}function za(M){return"object"==typeof M&&null!==M&&!Array.isArray(M)}function ms(M){return M}function Ea(M,I){var Z,le,Se,De="color"===I.type,Ue=M.stops&&"object"==typeof M.stops[0][0],ot=Ue||!(Ue||void 0!==M.property),xt=M.type||(wo(I)?"exponential":"interval");if(De&&((M=et({},M)).stops&&(M.stops=M.stops.map(function(sr){return[sr[0],fn.parse(sr[1])]})),M.default=fn.parse(M.default?M.default:I.default)),M.colorSpace&&"rgb"!==M.colorSpace&&!Ya[M.colorSpace])throw new Error("Unknown color space: "+M.colorSpace);if("exponential"===xt)Z=cl;else if("interval"===xt)Z=Ds;else if("categorical"===xt){Z=bl,le=Object.create(null);for(var _t=0,Ot=M.stops;_t<Ot.length;_t+=1){var Bt=Ot[_t];le[Bt[0]]=Bt[1]}Se=typeof M.stops[0][0]}else{if("identity"!==xt)throw new Error('Unknown function type "'+xt+'"');Z=fl}if(Ue){for(var Rt={},Qt=[],an=0;an<M.stops.length;an++){var Tn=M.stops[an],wn=Tn[0].zoom;void 0===Rt[wn]&&(Rt[wn]={zoom:wn,type:M.type,property:M.property,default:M.default,stops:[]},Qt.push(wn)),Rt[wn].stops.push([Tn[0].value,Tn[1]])}for(var Pn=[],On=0,Nn=Qt;On<Nn.length;On+=1){var Gn=Nn[On];Pn.push([Rt[Gn].zoom,Ea(Rt[Gn],I)])}var Jn={name:"linear"};return{kind:"composite",interpolationType:Jn,interpolationFactor:Li.interpolationFactor.bind(void 0,Jn),zoomStops:Pn.map(function(sr){return sr[0]}),evaluate:function(sr,gr){var wr=sr.zoom;return cl({stops:Pn,base:M.base},I,wr).evaluate(wr,gr)}}}if(ot){var hr="exponential"===xt?{name:"exponential",base:void 0!==M.base?M.base:1}:null;return{kind:"camera",interpolationType:hr,interpolationFactor:Li.interpolationFactor.bind(void 0,hr),zoomStops:M.stops.map(function(sr){return sr[0]}),evaluate:function(sr){return Z(M,I,sr.zoom,le,Se)}}}return{kind:"source",evaluate:function(sr,gr){var wr=gr&&gr.properties?gr.properties[M.property]:void 0;return void 0===wr?Ho(M.default,I.default):Z(M,I,wr,le,Se)}}}function Ho(M,I,Z){return void 0!==M?M:void 0!==I?I:void 0!==Z?Z:void 0}function bl(M,I,Z,le,Se){return Ho(typeof Z===Se?le[Z]:void 0,M.default,I.default)}function Ds(M,I,Z){if("number"!==ei(Z))return Ho(M.default,I.default);var le=M.stops.length;if(1===le||Z<=M.stops[0][0])return M.stops[0][1];if(Z>=M.stops[le-1][0])return M.stops[le-1][1];var Se=ur(M.stops.map(function(De){return De[0]}),Z);return M.stops[Se][1]}function cl(M,I,Z){var le=void 0!==M.base?M.base:1;if("number"!==ei(Z))return Ho(M.default,I.default);var Se=M.stops.length;if(1===Se||Z<=M.stops[0][0])return M.stops[0][1];if(Z>=M.stops[Se-1][0])return M.stops[Se-1][1];var Bt,Rt,an,Tn,De=ur(M.stops.map(function(Ot){return Ot[0]}),Z),Ue=(Bt=le,Tn=Z-(Rt=M.stops[De][0]),0==(an=M.stops[De+1][0]-Rt)?0:1===Bt?Tn/an:(Math.pow(Bt,Tn)-1)/(Math.pow(Bt,an)-1)),Ke=M.stops[De][1],ot=M.stops[De+1][1],xt=pr[I.type]||ms;if(M.colorSpace&&"rgb"!==M.colorSpace){var _t=Ya[M.colorSpace];xt=function(Ot,Bt){return _t.reverse(_t.interpolate(_t.forward(Ot),_t.forward(Bt),Ue))}}return"function"==typeof Ke.evaluate?{evaluate:function(){for(var Ot=[],Bt=arguments.length;Bt--;)Ot[Bt]=arguments[Bt];var Rt=Ke.evaluate.apply(void 0,Ot),Qt=ot.evaluate.apply(void 0,Ot);if(void 0!==Rt&&void 0!==Qt)return xt(Rt,Qt,Ue)}}:xt(Ke,ot,Ue)}function fl(M,I,Z){return"color"===I.type?Z=fn.parse(Z):"formatted"===I.type?Z=En.fromString(Z.toString()):"resolvedImage"===I.type?Z=bn.fromString(Z.toString()):ei(Z)===I.type||"enum"===I.type&&I.values[Z]||(Z=void 0),Ho(Z,M.default,I.default)}Dn.register(is,{error:[{kind:"error"},[ft],function(M,I){throw new qn(I[0].evaluate(M))}],typeof:[ft,[Nt],function(M,I){return hn(Qn(I[0].evaluate(M)))}],"to-rgba":[Gt(ct,4),[It],function(M,I){return I[0].evaluate(M).toArray()}],rgb:[It,[ct,ct,ct],Is],rgba:[It,[ct,ct,ct,ct],Is],has:{type:bt,overloads:[[[ft],function(M,I){return Ws(I[0].evaluate(M),M.properties())}],[[ft,Dt],function(M,I){var le=I[1];return Ws(I[0].evaluate(M),le.evaluate(M))}]]},get:{type:Nt,overloads:[[[ft],function(M,I){return Xs(I[0].evaluate(M),M.properties())}],[[ft,Dt],function(M,I){var le=I[1];return Xs(I[0].evaluate(M),le.evaluate(M))}]]},"feature-state":[Nt,[ft],function(M,I){return Xs(I[0].evaluate(M),M.featureState||{})}],properties:[Dt,[],function(M){return M.properties()}],"geometry-type":[ft,[],function(M){return M.geometryType()}],id:[Nt,[],function(M){return M.id()}],zoom:[ct,[],function(M){return M.globals.zoom}],"heatmap-density":[ct,[],function(M){return M.globals.heatmapDensity||0}],"line-progress":[ct,[],function(M){return M.globals.lineProgress||0}],accumulated:[Nt,[],function(M){return void 0===M.globals.accumulated?null:M.globals.accumulated}],"+":[ct,Sa(ct),function(M,I){for(var Z=0,le=0,Se=I;le<Se.length;le+=1)Z+=Se[le].evaluate(M);return Z}],"*":[ct,Sa(ct),function(M,I){for(var Z=1,le=0,Se=I;le<Se.length;le+=1)Z*=Se[le].evaluate(M);return Z}],"-":{type:ct,overloads:[[[ct,ct],function(M,I){var le=I[1];return I[0].evaluate(M)-le.evaluate(M)}],[[ct],function(M,I){return-I[0].evaluate(M)}]]},"/":[ct,[ct,ct],function(M,I){var le=I[1];return I[0].evaluate(M)/le.evaluate(M)}],"%":[ct,[ct,ct],function(M,I){var le=I[1];return I[0].evaluate(M)%le.evaluate(M)}],ln2:[ct,[],function(){return Math.LN2}],pi:[ct,[],function(){return Math.PI}],e:[ct,[],function(){return Math.E}],"^":[ct,[ct,ct],function(M,I){var le=I[1];return Math.pow(I[0].evaluate(M),le.evaluate(M))}],sqrt:[ct,[ct],function(M,I){return Math.sqrt(I[0].evaluate(M))}],log10:[ct,[ct],function(M,I){return Math.log(I[0].evaluate(M))/Math.LN10}],ln:[ct,[ct],function(M,I){return Math.log(I[0].evaluate(M))}],log2:[ct,[ct],function(M,I){return Math.log(I[0].evaluate(M))/Math.LN2}],sin:[ct,[ct],function(M,I){return Math.sin(I[0].evaluate(M))}],cos:[ct,[ct],function(M,I){return Math.cos(I[0].evaluate(M))}],tan:[ct,[ct],function(M,I){return Math.tan(I[0].evaluate(M))}],asin:[ct,[ct],function(M,I){return Math.asin(I[0].evaluate(M))}],acos:[ct,[ct],function(M,I){return Math.acos(I[0].evaluate(M))}],atan:[ct,[ct],function(M,I){return Math.atan(I[0].evaluate(M))}],min:[ct,Sa(ct),function(M,I){return Math.min.apply(Math,I.map(function(Z){return Z.evaluate(M)}))}],max:[ct,Sa(ct),function(M,I){return Math.max.apply(Math,I.map(function(Z){return Z.evaluate(M)}))}],abs:[ct,[ct],function(M,I){return Math.abs(I[0].evaluate(M))}],round:[ct,[ct],function(M,I){var Z=I[0].evaluate(M);return Z<0?-Math.round(-Z):Math.round(Z)}],floor:[ct,[ct],function(M,I){return Math.floor(I[0].evaluate(M))}],ceil:[ct,[ct],function(M,I){return Math.ceil(I[0].evaluate(M))}],"filter-==":[bt,[ft,Nt],function(M,I){var Z=I[0],le=I[1];return M.properties()[Z.value]===le.value}],"filter-id-==":[bt,[Nt],function(M,I){var Z=I[0];return M.id()===Z.value}],"filter-type-==":[bt,[ft],function(M,I){var Z=I[0];return M.geometryType()===Z.value}],"filter-<":[bt,[ft,Nt],function(M,I){var Z=I[0],le=I[1],Se=M.properties()[Z.value],De=le.value;return typeof Se==typeof De&&Se<De}],"filter-id-<":[bt,[Nt],function(M,I){var Z=I[0],le=M.id(),Se=Z.value;return typeof le==typeof Se&&le<Se}],"filter->":[bt,[ft,Nt],function(M,I){var Z=I[0],le=I[1],Se=M.properties()[Z.value],De=le.value;return typeof Se==typeof De&&Se>De}],"filter-id->":[bt,[Nt],function(M,I){var Z=I[0],le=M.id(),Se=Z.value;return typeof le==typeof Se&&le>Se}],"filter-<=":[bt,[ft,Nt],function(M,I){var Z=I[0],le=I[1],Se=M.properties()[Z.value],De=le.value;return typeof Se==typeof De&&Se<=De}],"filter-id-<=":[bt,[Nt],function(M,I){var Z=I[0],le=M.id(),Se=Z.value;return typeof le==typeof Se&&le<=Se}],"filter->=":[bt,[ft,Nt],function(M,I){var Z=I[0],le=I[1],Se=M.properties()[Z.value],De=le.value;return typeof Se==typeof De&&Se>=De}],"filter-id->=":[bt,[Nt],function(M,I){var Z=I[0],le=M.id(),Se=Z.value;return typeof le==typeof Se&&le>=Se}],"filter-has":[bt,[Nt],function(M,I){return I[0].value in M.properties()}],"filter-has-id":[bt,[],function(M){return null!==M.id()&&void 0!==M.id()}],"filter-type-in":[bt,[Gt(ft)],function(M,I){return I[0].value.indexOf(M.geometryType())>=0}],"filter-id-in":[bt,[Gt(Nt)],function(M,I){return I[0].value.indexOf(M.id())>=0}],"filter-in-small":[bt,[ft,Gt(Nt)],function(M,I){var Z=I[0];return I[1].value.indexOf(M.properties()[Z.value])>=0}],"filter-in-large":[bt,[ft,Gt(Nt)],function(M,I){var Z=I[0],le=I[1];return function(Se,De,Ue,Ke){for(;Ue<=Ke;){var ot=Ue+Ke>>1;if(De[ot]===Se)return!0;De[ot]>Se?Ke=ot-1:Ue=ot+1}return!1}(M.properties()[Z.value],le.value,0,le.value.length-1)}],all:{type:bt,overloads:[[[bt,bt],function(M,I){var le=I[1];return I[0].evaluate(M)&&le.evaluate(M)}],[Sa(bt),function(M,I){for(var Z=0,le=I;Z<le.length;Z+=1)if(!le[Z].evaluate(M))return!1;return!0}]]},any:{type:bt,overloads:[[[bt,bt],function(M,I){var le=I[1];return I[0].evaluate(M)||le.evaluate(M)}],[Sa(bt),function(M,I){for(var Z=0,le=I;Z<le.length;Z+=1)if(le[Z].evaluate(M))return!0;return!1}]]},"!":[bt,[bt],function(M,I){return!I[0].evaluate(M)}],"is-supported-script":[bt,[ft],function(M,I){var le=M.globals&&M.globals.isSupportedScript;return!le||le(I[0].evaluate(M))}],upcase:[ft,[ft],function(M,I){return I[0].evaluate(M).toUpperCase()}],downcase:[ft,[ft],function(M,I){return I[0].evaluate(M).toLowerCase()}],concat:[ft,Sa(Nt),function(M,I){return I.map(function(Z){return ir(Z.evaluate(M))}).join("")}],"resolved-locale":[ft,[$t],function(M,I){return I[0].evaluate(M).resolvedLocale()}]});var ys=function(M,I){var Z;this.expression=M,this._warningHistory={},this._evaluator=new In,this._defaultValue=I?"color"===(Z=I).type&&za(Z.default)?new fn(0,0,0,0):"color"===Z.type?fn.parse(Z.default)||null:void 0===Z.default?null:Z.default:null,this._enumValues=I&&"enum"===I.type?I.values:null};function as(M){return Array.isArray(M)&&M.length>0&&"string"==typeof M[0]&&M[0]in is}function xs(M,I){var Se,De,Z=new tr(is,[],I?(De={color:It,string:ft,number:ct,enum:ft,boolean:bt,formatted:jt,resolvedImage:Yt},"array"===(Se=I).type?Gt(De[Se.value]||Nt,Se.length):De[Se.type]):void 0),le=Z.parse(M,void 0,void 0,void 0,I&&"string"===I.type?{typeAnnotation:"coerce"}:void 0);return le?Vo(new ys(le,I)):Xa(Z.errors)}ys.prototype.evaluateWithoutErrorHandling=function(M,I,Z,le,Se,De){return this._evaluator.globals=M,this._evaluator.feature=I,this._evaluator.featureState=Z,this._evaluator.canonical=le,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=De,this.expression.evaluate(this._evaluator)},ys.prototype.evaluate=function(M,I,Z,le,Se,De){this._evaluator.globals=M,this._evaluator.feature=I||null,this._evaluator.featureState=Z||null,this._evaluator.canonical=le,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=De||null;try{var Ue=this.expression.evaluate(this._evaluator);if(null==Ue||"number"==typeof Ue&&Ue!=Ue)return this._defaultValue;if(this._enumValues&&!(Ue in this._enumValues))throw new qn("Expected value to be one of "+Object.keys(this._enumValues).map(function(Ke){return JSON.stringify(Ke)}).join(", ")+", but found "+JSON.stringify(Ue)+" instead.");return Ue}catch(Ke){return this._warningHistory[Ke.message]||(this._warningHistory[Ke.message]=!0,typeof console<"u"&&console.warn(Ke.message)),this._defaultValue}};var To=function(M,I){this.kind=M,this._styleExpression=I,this.isStateDependent="constant"!==M&&!Hn(I.expression)};To.prototype.evaluateWithoutErrorHandling=function(M,I,Z,le,Se,De){return this._styleExpression.evaluateWithoutErrorHandling(M,I,Z,le,Se,De)},To.prototype.evaluate=function(M,I,Z,le,Se,De){return this._styleExpression.evaluate(M,I,Z,le,Se,De)};var so=function(M,I,Z,le){this.kind=M,this.zoomStops=Z,this._styleExpression=I,this.isStateDependent="camera"!==M&&!Hn(I.expression),this.interpolationType=le};function ko(M,I){if("error"===(M=xs(M,I)).result)return M;var Z=M.value.expression,le=Xn(Z);if(!le&&!oo(I))return Xa([new vt("","data expressions not supported")]);var Se=nr(Z,["zoom"]);if(!Se&&!ul(I))return Xa([new vt("","zoom expressions not supported")]);var De=Rs(Z);return De||Se?De instanceof vt?Xa([De]):De instanceof Li&&!wo(I)?Xa([new vt("",'"interpolate" expressions cannot be used with this property')]):Vo(De?new so(le?"camera":"composite",M.value,De.labels,De instanceof Li?De.interpolation:void 0):new To(le?"constant":"source",M.value)):Xa([new vt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}so.prototype.evaluateWithoutErrorHandling=function(M,I,Z,le,Se,De){return this._styleExpression.evaluateWithoutErrorHandling(M,I,Z,le,Se,De)},so.prototype.evaluate=function(M,I,Z,le,Se,De){return this._styleExpression.evaluate(M,I,Z,le,Se,De)},so.prototype.interpolationFactor=function(M,I,Z){return this.interpolationType?Li.interpolationFactor(this.interpolationType,M,I,Z):0};var lo=function(M,I){this._parameters=M,this._specification=I,et(this,Ea(this._parameters,this._specification))};function Rs(M){var I=null;if(M instanceof Wa)I=Rs(M.result);else if(M instanceof Gr)for(var Z=0,le=M.args;Z<le.length&&!(I=Rs(le[Z]));Z+=1);else(M instanceof _r||M instanceof Li)&&M.input instanceof Dn&&"zoom"===M.input.name&&(I=M);return I instanceof vt||M.eachChild(function(De){var Ue=Rs(De);Ue instanceof vt?I=Ue:!I&&Ue?I=new vt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):I&&Ue&&I!==Ue&&(I=new vt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),I}function Fa(M){var I=M.key,Z=M.value,le=M.valueSpec||{},Se=M.objectElementValidators||{},De=M.style,Ue=M.styleSpec,Ke=[],ot=ei(Z);if("object"!==ot)return[new Be(I,Z,"object expected, "+ot+" found")];for(var xt in Z){var _t=xt.split(".")[0],Ot=le[_t]||le["*"],Bt=void 0;if(Se[_t])Bt=Se[_t];else if(le[_t])Bt=vi;else if(Se["*"])Bt=Se["*"];else{if(!le["*"]){Ke.push(new Be(I,Z[xt],'unknown property "'+xt+'"'));continue}Bt=vi}Ke=Ke.concat(Bt({key:(I&&I+".")+xt,value:Z[xt],valueSpec:Ot,style:De,styleSpec:Ue,object:Z,objectKey:xt},Z))}for(var Rt in le)Se[Rt]||le[Rt].required&&void 0===le[Rt].default&&void 0===Z[Rt]&&Ke.push(new Be(I,Z,'missing required property "'+Rt+'"'));return Ke}function hl(M){var I=M.value,Z=M.valueSpec,le=M.style,Se=M.styleSpec,De=M.key,Ue=M.arrayElementValidator||vi;if("array"!==ei(I))return[new Be(De,I,"array expected, "+ei(I)+" found")];if(Z.length&&I.length!==Z.length)return[new Be(De,I,"array length "+Z.length+" expected, length "+I.length+" found")];if(Z["min-length"]&&I.length<Z["min-length"])return[new Be(De,I,"array length at least "+Z["min-length"]+" expected, length "+I.length+" found")];var Ke={type:Z.value,values:Z.values};Se.$version<7&&(Ke.function=Z.function),"object"===ei(Z.value)&&(Ke=Z.value);for(var ot=[],xt=0;xt<I.length;xt++)ot=ot.concat(Ue({array:I,arrayIndex:xt,value:I[xt],valueSpec:Ke,style:le,styleSpec:Se,key:De+"["+xt+"]"}));return ot}function pl(M){var I=M.key,Z=M.value,le=M.valueSpec,Se=ei(Z);return"number"===Se&&Z!=Z&&(Se="NaN"),"number"!==Se?[new Be(I,Z,"number expected, "+Se+" found")]:"minimum"in le&&Z<le.minimum?[new Be(I,Z,Z+" is less than the minimum value "+le.minimum)]:"maximum"in le&&Z>le.maximum?[new Be(I,Z,Z+" is greater than the maximum value "+le.maximum)]:[]}function zs(M){var I,Z,le,Se=M.valueSpec,De=gt(M.value.type),Ue={},Ke="categorical"!==De&&void 0===M.value.property,ot=!Ke,xt="array"===ei(M.value.stops)&&"array"===ei(M.value.stops[0])&&"object"===ei(M.value.stops[0][0]),_t=Fa({key:M.key,value:M.value,valueSpec:M.styleSpec.function,style:M.style,styleSpec:M.styleSpec,objectElementValidators:{stops:function(Rt){if("identity"===De)return[new Be(Rt.key,Rt.value,'identity function may not have a "stops" property')];var Qt=[],an=Rt.value;return Qt=Qt.concat(hl({key:Rt.key,value:an,valueSpec:Rt.valueSpec,style:Rt.style,styleSpec:Rt.styleSpec,arrayElementValidator:Ot})),"array"===ei(an)&&0===an.length&&Qt.push(new Be(Rt.key,an,"array must have at least one stop")),Qt},default:function(Rt){return vi({key:Rt.key,value:Rt.value,valueSpec:Se,style:Rt.style,styleSpec:Rt.styleSpec})}}});return"identity"===De&&Ke&&_t.push(new Be(M.key,M.value,'missing required property "property"')),"identity"===De||M.value.stops||_t.push(new Be(M.key,M.value,'missing required property "stops"')),"exponential"===De&&M.valueSpec.expression&&!wo(M.valueSpec)&&_t.push(new Be(M.key,M.value,"exponential functions not supported")),M.styleSpec.$version>=8&&(ot&&!oo(M.valueSpec)?_t.push(new Be(M.key,M.value,"property functions not supported")):Ke&&!ul(M.valueSpec)&&_t.push(new Be(M.key,M.value,"zoom functions not supported"))),"categorical"!==De&&!xt||void 0!==M.value.property||_t.push(new Be(M.key,M.value,'"property" property is required')),_t;function Ot(Rt){var Qt=[],an=Rt.value,Tn=Rt.key;if("array"!==ei(an))return[new Be(Tn,an,"array expected, "+ei(an)+" found")];if(2!==an.length)return[new Be(Tn,an,"array length 2 expected, length "+an.length+" found")];if(xt){if("object"!==ei(an[0]))return[new Be(Tn,an,"object expected, "+ei(an[0])+" found")];if(void 0===an[0].zoom)return[new Be(Tn,an,"object stop key must have zoom")];if(void 0===an[0].value)return[new Be(Tn,an,"object stop key must have value")];if(le&&le>gt(an[0].zoom))return[new Be(Tn,an[0].zoom,"stop zoom values must appear in ascending order")];gt(an[0].zoom)!==le&&(le=gt(an[0].zoom),Z=void 0,Ue={}),Qt=Qt.concat(Fa({key:Tn+"[0]",value:an[0],valueSpec:{zoom:{}},style:Rt.style,styleSpec:Rt.styleSpec,objectElementValidators:{zoom:pl,value:Bt}}))}else Qt=Qt.concat(Bt({key:Tn+"[0]",value:an[0],valueSpec:{},style:Rt.style,styleSpec:Rt.styleSpec},an));return as(pt(an[1]))?Qt.concat([new Be(Tn+"[1]",an[1],"expressions are not allowed in function stops.")]):Qt.concat(vi({key:Tn+"[1]",value:an[1],valueSpec:Se,style:Rt.style,styleSpec:Rt.styleSpec}))}function Bt(Rt,Qt){var an=ei(Rt.value),Tn=gt(Rt.value),wn=null!==Rt.value?Rt.value:Qt;if(I){if(an!==I)return[new Be(Rt.key,wn,an+" stop domain type must match previous stop domain type "+I)]}else I=an;if("number"!==an&&"string"!==an&&"boolean"!==an)return[new Be(Rt.key,wn,"stop domain value must be a number, string, or boolean")];if("number"!==an&&"categorical"!==De){var Pn="number expected, "+an+" found";return oo(Se)&&void 0===De&&(Pn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Be(Rt.key,wn,Pn)]}return"categorical"!==De||"number"!==an||isFinite(Tn)&&Math.floor(Tn)===Tn?"categorical"!==De&&"number"===an&&void 0!==Z&&Tn<Z?[new Be(Rt.key,wn,"stop domain values must appear in ascending order")]:(Z=Tn,"categorical"===De&&Tn in Ue?[new Be(Rt.key,wn,"stop domain values must be unique")]:(Ue[Tn]=!0,[])):[new Be(Rt.key,wn,"integer expected, found "+Tn)]}}function Mo(M){var I=("property"===M.expressionContext?ko:xs)(pt(M.value),M.valueSpec);if("error"===I.result)return I.value.map(function(le){return new Be(""+M.key+le.key,M.value,le.message)});var Z=I.value.expression||I.value._styleExpression.expression;if("property"===M.expressionContext&&"text-font"===M.propertyKey&&!Z.outputDefined())return[new Be(M.key,M.value,'Invalid data expression for "'+M.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===M.expressionContext&&"layout"===M.propertyType&&!Hn(Z))return[new Be(M.key,M.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===M.expressionContext&&!Hn(Z))return[new Be(M.key,M.value,'"feature-state" data expressions are not supported with filters.')];if(M.expressionContext&&0===M.expressionContext.indexOf("cluster")){if(!nr(Z,["zoom","feature-state"]))return[new Be(M.key,M.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===M.expressionContext&&!Xn(Z))return[new Be(M.key,M.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Fs(M){var I=M.key,Z=M.value,le=M.valueSpec,Se=[];return Array.isArray(le.values)?-1===le.values.indexOf(gt(Z))&&Se.push(new Be(I,Z,"expected one of ["+le.values.join(", ")+"], "+JSON.stringify(Z)+" found")):-1===Object.keys(le.values).indexOf(gt(Z))&&Se.push(new Be(I,Z,"expected one of ["+Object.keys(le.values).join(", ")+"], "+JSON.stringify(Z)+" found")),Se}function Go(M){if(!0===M||!1===M)return!0;if(!Array.isArray(M)||0===M.length)return!1;switch(M[0]){case"has":return M.length>=2&&"$id"!==M[1]&&"$type"!==M[1];case"in":return M.length>=3&&("string"!=typeof M[1]||Array.isArray(M[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==M.length||Array.isArray(M[1])||Array.isArray(M[2]);case"any":case"all":for(var I=0,Z=M.slice(1);I<Z.length;I+=1){var le=Z[I];if(!Go(le)&&"boolean"!=typeof le)return!1}return!0;default:return!0}}lo.deserialize=function(M){return new lo(M._parameters,M._specification)},lo.serialize=function(M){return{_parameters:M._parameters,_specification:M._specification}};var Js={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function os(M){if(null==M)return{filter:function(){return!0},needGeometry:!1};Go(M)||(M=ss(M));var I=xs(M,Js);if("error"===I.result)throw new Error(I.value.map(function(Z){return Z.key+": "+Z.message}).join(", "));return{filter:function(Z,le,Se){return I.value.evaluate(Z,le,{},Se)},needGeometry:bs(M)}}function qo(M,I){return M<I?-1:M>I?1:0}function bs(M){if(!Array.isArray(M))return!1;if("within"===M[0])return!0;for(var I=1;I<M.length;I++)if(bs(M[I]))return!0;return!1}function ss(M){if(!M)return!0;var I,Z=M[0];return M.length<=1?"any"!==Z:"=="===Z?ti(M[1],M[2],"=="):"!="===Z?Ui(ti(M[1],M[2],"==")):"<"===Z||">"===Z||"<="===Z||">="===Z?ti(M[1],M[2],Z):"any"===Z?(I=M.slice(1),["any"].concat(I.map(ss))):"all"===Z?["all"].concat(M.slice(1).map(ss)):"none"===Z?["all"].concat(M.slice(1).map(ss).map(Ui)):"in"===Z?Ao(M[1],M.slice(2)):"!in"===Z?Ui(Ao(M[1],M.slice(2))):"has"===Z?uo(M[1]):"!has"===Z?Ui(uo(M[1])):"within"!==Z||M}function ti(M,I,Z){switch(M){case"$type":return["filter-type-"+Z,I];case"$id":return["filter-id-"+Z,I];default:return["filter-"+Z,M,I]}}function Ao(M,I){if(0===I.length)return!1;switch(M){case"$type":return["filter-type-in",["literal",I]];case"$id":return["filter-id-in",["literal",I]];default:return I.length>200&&!I.some(function(Z){return typeof Z!=typeof I[0]})?["filter-in-large",M,["literal",I.sort(qo)]]:["filter-in-small",M,["literal",I]]}}function uo(M){switch(M){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",M]}}function Ui(M){return["!",M]}function Ur(M){return Go(pt(M.value))?Mo(et({},M,{expressionContext:"filter",valueSpec:{value:"boolean"}})):qr(M)}function qr(M){var I=M.value,Z=M.key;if("array"!==ei(I))return[new Be(Z,I,"array expected, "+ei(I)+" found")];var le,Se=M.styleSpec,De=[];if(I.length<1)return[new Be(Z,I,"filter array must have at least 1 element")];switch(De=De.concat(Fs({key:Z+"[0]",value:I[0],valueSpec:Se.filter_operator,style:M.style,styleSpec:M.styleSpec})),gt(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&"$type"===gt(I[1])&&De.push(new Be(Z,I,'"$type" cannot be use with operator "'+I[0]+'"'));case"==":case"!=":3!==I.length&&De.push(new Be(Z,I,'filter array for operator "'+I[0]+'" must have 3 elements'));case"in":case"!in":I.length>=2&&"string"!==(le=ei(I[1]))&&De.push(new Be(Z+"[1]",I[1],"string expected, "+le+" found"));for(var Ue=2;Ue<I.length;Ue++)le=ei(I[Ue]),"$type"===gt(I[1])?De=De.concat(Fs({key:Z+"["+Ue+"]",value:I[Ue],valueSpec:Se.geometry_type,style:M.style,styleSpec:M.styleSpec})):"string"!==le&&"number"!==le&&"boolean"!==le&&De.push(new Be(Z+"["+Ue+"]",I[Ue],"string, number, or boolean expected, "+le+" found"));break;case"any":case"all":case"none":for(var Ke=1;Ke<I.length;Ke++)De=De.concat(qr({key:Z+"["+Ke+"]",value:I[Ke],style:M.style,styleSpec:M.styleSpec}));break;case"has":case"!has":le=ei(I[1]),2!==I.length?De.push(new Be(Z,I,'filter array for "'+I[0]+'" operator must have 2 elements')):"string"!==le&&De.push(new Be(Z+"[1]",I[1],"string expected, "+le+" found"));break;case"within":le=ei(I[1]),2!==I.length?De.push(new Be(Z,I,'filter array for "'+I[0]+'" operator must have 2 elements')):"object"!==le&&De.push(new Be(Z+"[1]",I[1],"object expected, "+le+" found"))}return De}function So(M,I){var Z=M.key,le=M.style,Se=M.styleSpec,De=M.value,Ue=M.objectKey,Ke=Se[I+"_"+M.layerType];if(!Ke)return[];var ot=Ue.match(/^(.*)-transition$/);if("paint"===I&&ot&&Ke[ot[1]]&&Ke[ot[1]].transition)return vi({key:Z,value:De,valueSpec:Se.transition,style:le,styleSpec:Se});var xt,_t=M.valueSpec||Ke[Ue];if(!_t)return[new Be(Z,De,'unknown property "'+Ue+'"')];if("string"===ei(De)&&oo(_t)&&!_t.tokens&&(xt=/^{([^}]+)}$/.exec(De)))return[new Be(Z,De,'"'+Ue+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(xt[1])+" }`.")];var Ot=[];return"symbol"===M.layerType&&("text-field"===Ue&&le&&!le.glyphs&&Ot.push(new Be(Z,De,'use of "text-field" requires a style "glyphs" property')),"text-font"===Ue&&za(pt(De))&&"identity"===gt(De.type)&&Ot.push(new Be(Z,De,'"text-font" does not support identity functions'))),Ot.concat(vi({key:M.key,value:De,valueSpec:_t,style:le,styleSpec:Se,expressionContext:"property",propertyType:I,propertyKey:Ue}))}function co(M){return So(M,"paint")}function Ks(M){return So(M,"layout")}function _s(M){var I=[],Z=M.value,le=M.key,Se=M.style,De=M.styleSpec;Z.type||Z.ref||I.push(new Be(le,Z,'either "type" or "ref" is required'));var Ue,Ke=gt(Z.type),ot=gt(Z.ref);if(Z.id)for(var xt=gt(Z.id),_t=0;_t<M.arrayIndex;_t++){var Ot=Se.layers[_t];gt(Ot.id)===xt&&I.push(new Be(le,Z.id,'duplicate layer id "'+Z.id+'", previously used at line '+Ot.id.__line__))}if("ref"in Z)["type","source","source-layer","filter","layout"].forEach(function(Qt){Qt in Z&&I.push(new Be(le,Z[Qt],'"'+Qt+'" is prohibited for ref layers'))}),Se.layers.forEach(function(Qt){gt(Qt.id)===ot&&(Ue=Qt)}),Ue?Ue.ref?I.push(new Be(le,Z.ref,"ref cannot reference another ref layer")):Ke=gt(Ue.type):I.push(new Be(le,Z.ref,'ref layer "'+ot+'" not found'));else if("background"!==Ke)if(Z.source){var Bt=Se.sources&&Se.sources[Z.source],Rt=Bt&&gt(Bt.type);Bt?"vector"===Rt&&"raster"===Ke?I.push(new Be(le,Z.source,'layer "'+Z.id+'" requires a raster source')):"raster"===Rt&&"raster"!==Ke?I.push(new Be(le,Z.source,'layer "'+Z.id+'" requires a vector source')):"vector"!==Rt||Z["source-layer"]?"raster-dem"===Rt&&"hillshade"!==Ke?I.push(new Be(le,Z.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==Ke||!Z.paint||!Z.paint["line-gradient"]||"geojson"===Rt&&Bt.lineMetrics||I.push(new Be(le,Z,'layer "'+Z.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):I.push(new Be(le,Z,'layer "'+Z.id+'" must specify a "source-layer"')):I.push(new Be(le,Z.source,'source "'+Z.source+'" not found'))}else I.push(new Be(le,Z,'missing required property "source"'));return I=I.concat(Fa({key:le,value:Z,valueSpec:De.layer,style:M.style,styleSpec:M.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return vi({key:le+".type",value:Z.type,valueSpec:De.layer.type,style:M.style,styleSpec:M.styleSpec,object:Z,objectKey:"type"})},filter:Ur,layout:function(Qt){return Fa({layer:Z,key:Qt.key,value:Qt.value,style:Qt.style,styleSpec:Qt.styleSpec,objectElementValidators:{"*":function(an){return Ks(et({layerType:Ke},an))}}})},paint:function(Qt){return Fa({layer:Z,key:Qt.key,value:Qt.value,style:Qt.style,styleSpec:Qt.styleSpec,objectElementValidators:{"*":function(an){return co(et({layerType:Ke},an))}}})}}}))}function Eo(M){var I=M.value,Z=M.key,le=ei(I);return"string"!==le?[new Be(Z,I,"string expected, "+le+" found")]:[]}var ws={promoteId:function(M){var I=M.key,Z=M.value;if("string"===ei(Z))return Eo({key:I,value:Z});var le=[];for(var Se in Z)le.push.apply(le,Eo({key:I+"."+Se,value:Z[Se]}));return le}};function fo(M){var I=M.value,Z=M.key,le=M.styleSpec,Se=M.style;if(!I.type)return[new Be(Z,I,'"type" is required')];var De,Ue=gt(I.type);switch(Ue){case"vector":case"raster":case"raster-dem":return Fa({key:Z,value:I,valueSpec:le["source_"+Ue.replace("-","_")],style:M.style,styleSpec:le,objectElementValidators:ws});case"geojson":if(De=Fa({key:Z,value:I,valueSpec:le.source_geojson,style:Se,styleSpec:le,objectElementValidators:ws}),I.cluster)for(var Ke in I.clusterProperties){var ot=I.clusterProperties[Ke],xt=ot[0],Ot="string"==typeof xt?[xt,["accumulated"],["get",Ke]]:xt;De.push.apply(De,Mo({key:Z+"."+Ke+".map",value:ot[1],expressionContext:"cluster-map"})),De.push.apply(De,Mo({key:Z+"."+Ke+".reduce",value:Ot,expressionContext:"cluster-reduce"}))}return De;case"video":return Fa({key:Z,value:I,valueSpec:le.source_video,style:Se,styleSpec:le});case"image":return Fa({key:Z,value:I,valueSpec:le.source_image,style:Se,styleSpec:le});case"canvas":return[new Be(Z,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Fs({key:Z+".type",value:I.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Se,styleSpec:le})}}function Zo(M){var I=M.value,Z=M.styleSpec,le=Z.light,Se=M.style,De=[],Ue=ei(I);if(void 0===I)return De;if("object"!==Ue)return De.concat([new Be("light",I,"object expected, "+Ue+" found")]);for(var Ke in I){var ot=Ke.match(/^(.*)-transition$/);De=De.concat(ot&&le[ot[1]]&&le[ot[1]].transition?vi({key:Ke,value:I[Ke],valueSpec:Z.transition,style:Se,styleSpec:Z}):le[Ke]?vi({key:Ke,value:I[Ke],valueSpec:le[Ke],style:Se,styleSpec:Z}):[new Be(Ke,I[Ke],'unknown property "'+Ke+'"')])}return De}var Lo={"*":function(){return[]},array:hl,boolean:function(M){var I=M.value,Z=M.key,le=ei(I);return"boolean"!==le?[new Be(Z,I,"boolean expected, "+le+" found")]:[]},number:pl,color:function(M){var I=M.key,Z=M.value,le=ei(Z);return"string"!==le?[new Be(I,Z,"color expected, "+le+" found")]:null===rn(Z)?[new Be(I,Z,'color expected, "'+Z+'" found')]:[]},constants:tt,enum:Fs,filter:Ur,function:zs,layer:_s,object:Fa,source:fo,light:Zo,string:Eo,formatted:function(M){return 0===Eo(M).length?[]:Mo(M)},resolvedImage:function(M){return 0===Eo(M).length?[]:Mo(M)}};function vi(M){var I=M.value,Z=M.valueSpec,le=M.styleSpec;return Z.expression&&za(gt(I))?zs(M):Z.expression&&as(pt(I))?Mo(M):Z.type&&Lo[Z.type]?Lo[Z.type](M):Fa(et({},M,{valueSpec:Z.type?le[Z.type]:Z}))}function Yo(M){var I=M.value,Z=M.key,le=Eo(M);return le.length||(-1===I.indexOf("{fontstack}")&&le.push(new Be(Z,I,'"glyphs" url must include a "{fontstack}" token')),-1===I.indexOf("{range}")&&le.push(new Be(Z,I,'"glyphs" url must include a "{range}" token'))),le}function Wo(M,I){void 0===I&&(I=ze);var Z=[];return Z=Z.concat(vi({key:"",value:M,valueSpec:I.$root,styleSpec:I,style:M,objectElementValidators:{glyphs:Yo,"*":function(){return[]}}})),M.constants&&(Z=Z.concat(tt({key:"constants",value:M.constants,style:M,styleSpec:I}))),Ii(Z)}function Ii(M){return[].concat(M).sort(function(I,Z){return I.line-Z.line})}function $i(M){return function(){for(var I=[],Z=arguments.length;Z--;)I[Z]=arguments[Z];return Ii(M.apply(this,I))}}Wo.source=$i(fo),Wo.light=$i(Zo),Wo.layer=$i(_s),Wo.filter=$i(Ur),Wo.paintProperty=$i(co),Wo.layoutProperty=$i(Ks);var Wi=Wo,Di=Wi.light,aa=Wi.paintProperty,Co=Wi.layoutProperty;function Ba(M,I){var Z=!1;if(I&&I.length)for(var le=0,Se=I;le<Se.length;le+=1)M.fire(new rt(new Error(Se[le].message))),Z=!0;return Z}var Vi=La,Ta=3;function La(M,I,Z){var le=this.cells=[];if(M instanceof ArrayBuffer){this.arrayBuffer=M;var Se=new Int32Array(this.arrayBuffer);M=Se[0],this.d=(I=Se[1])+2*(Z=Se[2]);for(var De=0;De<this.d*this.d;De++){var Ue=Se[Ta+De],Ke=Se[Ta+De+1];le.push(Ue===Ke?null:Se.subarray(Ue,Ke))}var xt=Se[Ta+le.length+1];this.keys=Se.subarray(Se[Ta+le.length],xt),this.bboxes=Se.subarray(xt),this.insert=this._insertReadonly}else{this.d=I+2*Z;for(var _t=0;_t<this.d*this.d;_t++)le.push([]);this.keys=[],this.bboxes=[]}this.n=I,this.extent=M,this.padding=Z,this.scale=I/M,this.uid=0;var Ot=Z/I*M;this.min=-Ot,this.max=M+Ot}La.prototype.insert=function(M,I,Z,le,Se){this._forEachCell(I,Z,le,Se,this._insertCell,this.uid++),this.keys.push(M),this.bboxes.push(I),this.bboxes.push(Z),this.bboxes.push(le),this.bboxes.push(Se)},La.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},La.prototype._insertCell=function(M,I,Z,le,Se,De){this.cells[Se].push(De)},La.prototype.query=function(M,I,Z,le,Se){var De=this.min,Ue=this.max;if(M<=De&&I<=De&&Ue<=Z&&Ue<=le&&!Se)return Array.prototype.slice.call(this.keys);var Ke=[];return this._forEachCell(M,I,Z,le,this._queryCell,Ke,{},Se),Ke},La.prototype._queryCell=function(M,I,Z,le,Se,De,Ue,Ke){var ot=this.cells[Se];if(null!==ot)for(var xt=this.keys,_t=this.bboxes,Ot=0;Ot<ot.length;Ot++){var Bt=ot[Ot];if(void 0===Ue[Bt]){var Rt=4*Bt;(Ke?Ke(_t[Rt+0],_t[Rt+1],_t[Rt+2],_t[Rt+3]):M<=_t[Rt+2]&&I<=_t[Rt+3]&&Z>=_t[Rt+0]&&le>=_t[Rt+1])?(Ue[Bt]=!0,De.push(xt[Bt])):Ue[Bt]=!1}}},La.prototype._forEachCell=function(M,I,Z,le,Se,De,Ue,Ke){for(var ot=this._convertToCellCoord(M),xt=this._convertToCellCoord(I),_t=this._convertToCellCoord(Z),Ot=this._convertToCellCoord(le),Bt=ot;Bt<=_t;Bt++)for(var Rt=xt;Rt<=Ot;Rt++){var Qt=this.d*Rt+Bt;if((!Ke||Ke(this._convertFromCellCoord(Bt),this._convertFromCellCoord(Rt),this._convertFromCellCoord(Bt+1),this._convertFromCellCoord(Rt+1)))&&Se.call(this,M,I,Z,le,Qt,De,Ue,Ke))return}},La.prototype._convertFromCellCoord=function(M){return(M-this.padding)/this.scale},La.prototype._convertToCellCoord=function(M){return Math.max(0,Math.min(this.d-1,Math.floor(M*this.scale)+this.padding))},La.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var M=this.cells,I=Ta+this.cells.length+1+1,Z=0,le=0;le<this.cells.length;le++)Z+=this.cells[le].length;var Se=new Int32Array(I+Z+this.keys.length+this.bboxes.length);Se[0]=this.extent,Se[1]=this.n,Se[2]=this.padding;for(var De=I,Ue=0;Ue<M.length;Ue++){var Ke=M[Ue];Se[Ta+Ue]=De,Se.set(Ke,De),De+=Ke.length}return Se[Ta+M.length]=De,Se.set(this.keys,De),Se[Ta+M.length+1]=De+=this.keys.length,Se.set(this.bboxes,De),De+=this.bboxes.length,Se.buffer};var Bs=self.ImageData,Ca=self.ImageBitmap,Hi={};function br(M,I,Z){void 0===Z&&(Z={}),Object.defineProperty(I,"_classRegistryKey",{value:M,writeable:!1}),Hi[M]={klass:I,omit:Z.omit||[],shallow:Z.shallow||[]}}for(var Qi in br("Object",Object),Vi.serialize=function(M,I){var Z=M.toArrayBuffer();return I&&I.push(Z),{buffer:Z}},Vi.deserialize=function(M){return new Vi(M.buffer)},br("Grid",Vi),br("Color",fn),br("Error",Error),br("ResolvedImage",bn),br("StylePropertyFunction",lo),br("StyleExpression",ys,{omit:["_evaluator"]}),br("ZoomDependentExpression",so),br("ZoomConstantExpression",To),br("CompoundExpression",Dn,{omit:["_evaluate"]}),is)is[Qi]._classRegistryKey||br("Expression_"+Qi,is[Qi]);function Ts(M){return M&&typeof ArrayBuffer<"u"&&(M instanceof ArrayBuffer||M.constructor&&"ArrayBuffer"===M.constructor.name)}function Ns(M){return Ca&&M instanceof Ca}function Xo(M,I){if(null==M||"boolean"==typeof M||"number"==typeof M||"string"==typeof M||M instanceof Boolean||M instanceof Number||M instanceof String||M instanceof Date||M instanceof RegExp)return M;if(Ts(M)||Ns(M))return I&&I.push(M),M;if(ArrayBuffer.isView(M)){var Z=M;return I&&I.push(Z.buffer),Z}if(M instanceof Bs)return I&&I.push(M.data.buffer),M;if(Array.isArray(M)){for(var le=[],Se=0,De=M;Se<De.length;Se+=1)le.push(Xo(De[Se],I));return le}if("object"==typeof M){var Ke=M.constructor,ot=Ke._classRegistryKey;if(!ot)throw new Error("can't serialize object of unregistered class");var xt=Ke.serialize?Ke.serialize(M,I):{};if(!Ke.serialize){for(var _t in M)if(M.hasOwnProperty(_t)&&!(Hi[ot].omit.indexOf(_t)>=0)){var Ot=M[_t];xt[_t]=Hi[ot].shallow.indexOf(_t)>=0?Ot:Xo(Ot,I)}M instanceof Error&&(xt.message=M.message)}if(xt.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==ot&&(xt.$name=ot),xt}throw new Error("can't serialize object of type "+typeof M)}function Jo(M){if(null==M||"boolean"==typeof M||"number"==typeof M||"string"==typeof M||M instanceof Boolean||M instanceof Number||M instanceof String||M instanceof Date||M instanceof RegExp||Ts(M)||Ns(M)||ArrayBuffer.isView(M)||M instanceof Bs)return M;if(Array.isArray(M))return M.map(Jo);if("object"==typeof M){var I=M.$name||"Object",Z=Hi[I].klass;if(!Z)throw new Error("can't deserialize unregistered class "+I);if(Z.deserialize)return Z.deserialize(M);for(var le=Object.create(Z.prototype),Se=0,De=Object.keys(M);Se<De.length;Se+=1){var Ue=De[Se];if("$name"!==Ue){var Ke=M[Ue];le[Ue]=Hi[I].shallow.indexOf(Ue)>=0?Ke:Jo(Ke)}}return le}throw new Error("can't deserialize object of type "+typeof M)}var ho=function(){this.first=!0};ho.prototype.update=function(M,I){var Z=Math.floor(M);return this.first?(this.first=!1,this.lastIntegerZoom=Z,this.lastIntegerZoomTime=0,this.lastZoom=M,this.lastFloorZoom=Z,!0):(this.lastFloorZoom>Z?(this.lastIntegerZoom=Z+1,this.lastIntegerZoomTime=I):this.lastFloorZoom<Z&&(this.lastIntegerZoom=Z,this.lastIntegerZoomTime=I),M!==this.lastZoom&&(this.lastZoom=M,this.lastFloorZoom=Z,!0))};var mr={"Latin-1 Supplement":function(M){return M>=128&&M<=255},Arabic:function(M){return M>=1536&&M<=1791},"Arabic Supplement":function(M){return M>=1872&&M<=1919},"Arabic Extended-A":function(M){return M>=2208&&M<=2303},"Hangul Jamo":function(M){return M>=4352&&M<=4607},"Unified Canadian Aboriginal Syllabics":function(M){return M>=5120&&M<=5759},Khmer:function(M){return M>=6016&&M<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(M){return M>=6320&&M<=6399},"General Punctuation":function(M){return M>=8192&&M<=8303},"Letterlike Symbols":function(M){return M>=8448&&M<=8527},"Number Forms":function(M){return M>=8528&&M<=8591},"Miscellaneous Technical":function(M){return M>=8960&&M<=9215},"Control Pictures":function(M){return M>=9216&&M<=9279},"Optical Character Recognition":function(M){return M>=9280&&M<=9311},"Enclosed Alphanumerics":function(M){return M>=9312&&M<=9471},"Geometric Shapes":function(M){return M>=9632&&M<=9727},"Miscellaneous Symbols":function(M){return M>=9728&&M<=9983},"Miscellaneous Symbols and Arrows":function(M){return M>=11008&&M<=11263},"CJK Radicals Supplement":function(M){return M>=11904&&M<=12031},"Kangxi Radicals":function(M){return M>=12032&&M<=12255},"Ideographic Description Characters":function(M){return M>=12272&&M<=12287},"CJK Symbols and Punctuation":function(M){return M>=12288&&M<=12351},Hiragana:function(M){return M>=12352&&M<=12447},Katakana:function(M){return M>=12448&&M<=12543},Bopomofo:function(M){return M>=12544&&M<=12591},"Hangul Compatibility Jamo":function(M){return M>=12592&&M<=12687},Kanbun:function(M){return M>=12688&&M<=12703},"Bopomofo Extended":function(M){return M>=12704&&M<=12735},"CJK Strokes":function(M){return M>=12736&&M<=12783},"Katakana Phonetic Extensions":function(M){return M>=12784&&M<=12799},"Enclosed CJK Letters and Months":function(M){return M>=12800&&M<=13055},"CJK Compatibility":function(M){return M>=13056&&M<=13311},"CJK Unified Ideographs Extension A":function(M){return M>=13312&&M<=19903},"Yijing Hexagram Symbols":function(M){return M>=19904&&M<=19967},"CJK Unified Ideographs":function(M){return M>=19968&&M<=40959},"Yi Syllables":function(M){return M>=40960&&M<=42127},"Yi Radicals":function(M){return M>=42128&&M<=42191},"Hangul Jamo Extended-A":function(M){return M>=43360&&M<=43391},"Hangul Syllables":function(M){return M>=44032&&M<=55215},"Hangul Jamo Extended-B":function(M){return M>=55216&&M<=55295},"Private Use Area":function(M){return M>=57344&&M<=63743},"CJK Compatibility Ideographs":function(M){return M>=63744&&M<=64255},"Arabic Presentation Forms-A":function(M){return M>=64336&&M<=65023},"Vertical Forms":function(M){return M>=65040&&M<=65055},"CJK Compatibility Forms":function(M){return M>=65072&&M<=65103},"Small Form Variants":function(M){return M>=65104&&M<=65135},"Arabic Presentation Forms-B":function(M){return M>=65136&&M<=65279},"Halfwidth and Fullwidth Forms":function(M){return M>=65280&&M<=65519}};function Na(M){for(var I=0,Z=M;I<Z.length;I+=1)if(ls(Z[I].charCodeAt(0)))return!0;return!1}function ls(M){return!(746!==M&&747!==M&&(M<4352||!(mr["Bopomofo Extended"](M)||mr.Bopomofo(M)||mr["CJK Compatibility Forms"](M)&&!(M>=65097&&M<=65103)||mr["CJK Compatibility Ideographs"](M)||mr["CJK Compatibility"](M)||mr["CJK Radicals Supplement"](M)||mr["CJK Strokes"](M)||!(!mr["CJK Symbols and Punctuation"](M)||M>=12296&&M<=12305||M>=12308&&M<=12319||12336===M)||mr["CJK Unified Ideographs Extension A"](M)||mr["CJK Unified Ideographs"](M)||mr["Enclosed CJK Letters and Months"](M)||mr["Hangul Compatibility Jamo"](M)||mr["Hangul Jamo Extended-A"](M)||mr["Hangul Jamo Extended-B"](M)||mr["Hangul Jamo"](M)||mr["Hangul Syllables"](M)||mr.Hiragana(M)||mr["Ideographic Description Characters"](M)||mr.Kanbun(M)||mr["Kangxi Radicals"](M)||mr["Katakana Phonetic Extensions"](M)||mr.Katakana(M)&&12540!==M||!(!mr["Halfwidth and Fullwidth Forms"](M)||65288===M||65289===M||65293===M||M>=65306&&M<=65310||65339===M||65341===M||65343===M||M>=65371&&M<=65503||65507===M||M>=65512&&M<=65519)||!(!mr["Small Form Variants"](M)||M>=65112&&M<=65118||M>=65123&&M<=65126)||mr["Unified Canadian Aboriginal Syllabics"](M)||mr["Unified Canadian Aboriginal Syllabics Extended"](M)||mr["Vertical Forms"](M)||mr["Yijing Hexagram Symbols"](M)||mr["Yi Syllables"](M)||mr["Yi Radicals"](M))))}function ks(M){return!(ls(M)||(I=M,mr["Latin-1 Supplement"](I)&&(167===I||169===I||174===I||177===I||188===I||189===I||190===I||215===I||247===I)||mr["General Punctuation"](I)&&(8214===I||8224===I||8225===I||8240===I||8241===I||8251===I||8252===I||8258===I||8263===I||8264===I||8265===I||8273===I)||mr["Letterlike Symbols"](I)||mr["Number Forms"](I)||mr["Miscellaneous Technical"](I)&&(I>=8960&&I<=8967||I>=8972&&I<=8991||I>=8996&&I<=9e3||9003===I||I>=9085&&I<=9114||I>=9150&&I<=9165||9167===I||I>=9169&&I<=9179||I>=9186&&I<=9215)||mr["Control Pictures"](I)&&9251!==I||mr["Optical Character Recognition"](I)||mr["Enclosed Alphanumerics"](I)||mr["Geometric Shapes"](I)||mr["Miscellaneous Symbols"](I)&&!(I>=9754&&I<=9759)||mr["Miscellaneous Symbols and Arrows"](I)&&(I>=11026&&I<=11055||I>=11088&&I<=11097||I>=11192&&I<=11243)||mr["CJK Symbols and Punctuation"](I)||mr.Katakana(I)||mr["Private Use Area"](I)||mr["CJK Compatibility Forms"](I)||mr["Small Form Variants"](I)||mr["Halfwidth and Fullwidth Forms"](I)||8734===I||8756===I||8757===I||I>=9984&&I<=10087||I>=10102&&I<=10131||65532===I||65533===I));var I}function ea(M){return mr.Arabic(M)||mr["Arabic Supplement"](M)||mr["Arabic Extended-A"](M)||mr["Arabic Presentation Forms-A"](M)||mr["Arabic Presentation Forms-B"](M)}function ja(M){return M>=1424&&M<=2303||mr["Arabic Presentation Forms-A"](M)||mr["Arabic Presentation Forms-B"](M)}function Pa(M,I){return!(!I&&ja(M)||M>=2304&&M<=3583||M>=3840&&M<=4255||mr.Khmer(M))}function ka(M){for(var I=0,Z=M;I<Z.length;I+=1)if(ja(Z[I].charCodeAt(0)))return!0;return!1}var Ja="deferred",po="loading",Ri="loaded",us=null,Gi="unavailable",ni=null,Ms=function(M){M&&"string"==typeof M&&M.indexOf("NetworkError")>-1&&(Gi="error"),us&&us(M)};function ga(){zi.fire(new We("pluginStateChange",{pluginStatus:Gi,pluginURL:ni}))}var zi=new nt,Ka=function(){return Gi},$s=function(){if(Gi!==Ja||!ni)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Gi=po,ga(),ni&&Tt({url:ni},function(M){M?Ms(M):(Gi=Ri,ga())})},Ti={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Gi===Ri||null!=Ti.applyArabicShaping},isLoading:function(){return Gi===po},setState:function(M){Gi=M.pluginStatus,ni=M.pluginURL},isParsed:function(){return null!=Ti.applyArabicShaping&&null!=Ti.processBidirectionalText&&null!=Ti.processStyledBidirectionalText},getPluginURL:function(){return ni}},Kr=function(M,I){this.zoom=M,I?(this.now=I.now,this.fadeDuration=I.fadeDuration,this.zoomHistory=I.zoomHistory,this.transition=I.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ho,this.transition={})};Kr.prototype.isSupportedScript=function(M){return function(I,Z){for(var le=0,Se=I;le<Se.length;le+=1)if(!Pa(Se[le].charCodeAt(0),Z))return!1;return!0}(M,Ti.isLoaded())},Kr.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Kr.prototype.getCrossfadeParameters=function(){var M=this.zoom,I=M-Math.floor(M),Z=this.crossFadingFactor();return M>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:I+(1-I)*Z}:{fromScale:.5,toScale:1,t:1-(1-Z)*I}};var Ma=function(M,I){this.property=M,this.value=I,this.expression=function(Z,le){if(za(Z))return new lo(Z,le);if(as(Z)){var Se=ko(Z,le);if("error"===Se.result)throw new Error(Se.value.map(function(Ue){return Ue.key+": "+Ue.message}).join(", "));return Se.value}var De=Z;return"string"==typeof Z&&"color"===le.type&&(De=fn.parse(Z)),{kind:"constant",evaluate:function(){return De}}}(void 0===I?M.specification.default:I,M.specification)};Ma.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Ma.prototype.possiblyEvaluate=function(M,I,Z){return this.property.possiblyEvaluate(this,M,I,Z)};var $a=function(M){this.property=M,this.value=new Ma(M,void 0)};$a.prototype.transitioned=function(M,I){return new js(this.property,this.value,I,u({},M.transition,this.transition),M.now)},$a.prototype.untransitioned=function(){return new js(this.property,this.value,null,{},0)};var Ua=function(M){this._properties=M,this._values=Object.create(M.defaultTransitionablePropertyValues)};Ua.prototype.getValue=function(M){return _(this._values[M].value.value)},Ua.prototype.setValue=function(M,I){this._values.hasOwnProperty(M)||(this._values[M]=new $a(this._values[M].property)),this._values[M].value=new Ma(this._values[M].property,null===I?void 0:_(I))},Ua.prototype.getTransition=function(M){return _(this._values[M].transition)},Ua.prototype.setTransition=function(M,I){this._values.hasOwnProperty(M)||(this._values[M]=new $a(this._values[M].property)),this._values[M].transition=_(I)||void 0},Ua.prototype.serialize=function(){for(var M={},I=0,Z=Object.keys(this._values);I<Z.length;I+=1){var le=Z[I],Se=this.getValue(le);void 0!==Se&&(M[le]=Se);var De=this.getTransition(le);void 0!==De&&(M[le+"-transition"]=De)}return M},Ua.prototype.transitioned=function(M,I){for(var Z=new Po(this._properties),le=0,Se=Object.keys(this._values);le<Se.length;le+=1){var De=Se[le];Z._values[De]=this._values[De].transitioned(M,I._values[De])}return Z},Ua.prototype.untransitioned=function(){for(var M=new Po(this._properties),I=0,Z=Object.keys(this._values);I<Z.length;I+=1){var le=Z[I];M._values[le]=this._values[le].untransitioned()}return M};var js=function(M,I,Z,le,Se){this.property=M,this.value=I,this.begin=Se+le.delay||0,this.end=this.begin+le.duration||0,M.specification.transition&&(le.delay||le.duration)&&(this.prior=Z)};js.prototype.possiblyEvaluate=function(M,I,Z){var le=M.now||0,Se=this.value.possiblyEvaluate(M,I,Z),De=this.prior;if(De){if(le>this.end)return this.prior=null,Se;if(this.value.isDataDriven())return this.prior=null,Se;if(le<this.begin)return De.possiblyEvaluate(M,I,Z);var Ue=(le-this.begin)/(this.end-this.begin);return this.property.interpolate(De.possiblyEvaluate(M,I,Z),Se,function(Ke){if(Ke<=0)return 0;if(Ke>=1)return 1;var ot=Ke*Ke,xt=ot*Ke;return 4*(Ke<.5?xt:3*(Ke-ot)+xt-.75)}(Ue))}return Se};var Po=function(M){this._properties=M,this._values=Object.create(M.defaultTransitioningPropertyValues)};Po.prototype.possiblyEvaluate=function(M,I,Z){for(var le=new Xi(this._properties),Se=0,De=Object.keys(this._values);Se<De.length;Se+=1){var Ue=De[Se];le._values[Ue]=this._values[Ue].possiblyEvaluate(M,I,Z)}return le},Po.prototype.hasTransition=function(){for(var M=0,I=Object.keys(this._values);M<I.length;M+=1)if(this._values[I[M]].prior)return!0;return!1};var $o=function(M){this._properties=M,this._values=Object.create(M.defaultPropertyValues)};$o.prototype.getValue=function(M){return _(this._values[M].value)},$o.prototype.setValue=function(M,I){this._values[M]=new Ma(this._values[M].property,null===I?void 0:_(I))},$o.prototype.serialize=function(){for(var M={},I=0,Z=Object.keys(this._values);I<Z.length;I+=1){var le=Z[I],Se=this.getValue(le);void 0!==Se&&(M[le]=Se)}return M},$o.prototype.possiblyEvaluate=function(M,I,Z){for(var le=new Xi(this._properties),Se=0,De=Object.keys(this._values);Se<De.length;Se+=1){var Ue=De[Se];le._values[Ue]=this._values[Ue].possiblyEvaluate(M,I,Z)}return le};var Ci=function(M,I,Z){this.property=M,this.value=I,this.parameters=Z};Ci.prototype.isConstant=function(){return"constant"===this.value.kind},Ci.prototype.constantOr=function(M){return"constant"===this.value.kind?this.value.value:M},Ci.prototype.evaluate=function(M,I,Z,le){return this.property.evaluate(this.value,this.parameters,M,I,Z,le)};var Xi=function(M){this._properties=M,this._values=Object.create(M.defaultPossiblyEvaluatedValues)};Xi.prototype.get=function(M){return this._values[M]};var Mr=function(M){this.specification=M};Mr.prototype.possiblyEvaluate=function(M,I){return M.expression.evaluate(I)},Mr.prototype.interpolate=function(M,I,Z){var le=pr[this.specification.type];return le?le(M,I,Z):M};var Sr=function(M,I){this.specification=M,this.overrides=I};Sr.prototype.possiblyEvaluate=function(M,I,Z,le){return new Ci(this,"constant"===M.expression.kind||"camera"===M.expression.kind?{kind:"constant",value:M.expression.evaluate(I,null,{},Z,le)}:M.expression,I)},Sr.prototype.interpolate=function(M,I,Z){if("constant"!==M.value.kind||"constant"!==I.value.kind)return M;if(void 0===M.value.value||void 0===I.value.value)return new Ci(this,{kind:"constant",value:void 0},M.parameters);var le=pr[this.specification.type];return le?new Ci(this,{kind:"constant",value:le(M.value.value,I.value.value,Z)},M.parameters):M},Sr.prototype.evaluate=function(M,I,Z,le,Se,De){return"constant"===M.kind?M.value:M.evaluate(I,Z,le,Se,De)};var cs=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.possiblyEvaluate=function(Z,le,Se,De){if(void 0===Z.value)return new Ci(this,{kind:"constant",value:void 0},le);if("constant"===Z.expression.kind){var Ue=Z.expression.evaluate(le,null,{},Se,De),Ke="resolvedImage"===Z.property.specification.type&&"string"!=typeof Ue?Ue.name:Ue,ot=this._calculate(Ke,Ke,Ke,le);return new Ci(this,{kind:"constant",value:ot},le)}if("camera"===Z.expression.kind){var xt=this._calculate(Z.expression.evaluate({zoom:le.zoom-1}),Z.expression.evaluate({zoom:le.zoom}),Z.expression.evaluate({zoom:le.zoom+1}),le);return new Ci(this,{kind:"constant",value:xt},le)}return new Ci(this,Z.expression,le)},I.prototype.evaluate=function(Z,le,Se,De,Ue,Ke){if("source"===Z.kind){var ot=Z.evaluate(le,Se,De,Ue,Ke);return this._calculate(ot,ot,ot,le)}return"composite"===Z.kind?this._calculate(Z.evaluate({zoom:Math.floor(le.zoom)-1},Se,De),Z.evaluate({zoom:Math.floor(le.zoom)},Se,De),Z.evaluate({zoom:Math.floor(le.zoom)+1},Se,De),le):Z.value},I.prototype._calculate=function(Z,le,Se,De){return De.zoom>De.zoomHistory.lastIntegerZoom?{from:Z,to:le}:{from:Se,to:le}},I.prototype.interpolate=function(Z){return Z},I}(Sr),oa=function(M){this.specification=M};oa.prototype.possiblyEvaluate=function(M,I,Z,le){if(void 0!==M.value){if("constant"===M.expression.kind){var Se=M.expression.evaluate(I,null,{},Z,le);return this._calculate(Se,Se,Se,I)}return this._calculate(M.expression.evaluate(new Kr(Math.floor(I.zoom-1),I)),M.expression.evaluate(new Kr(Math.floor(I.zoom),I)),M.expression.evaluate(new Kr(Math.floor(I.zoom+1),I)),I)}},oa.prototype._calculate=function(M,I,Z,le){return le.zoom>le.zoomHistory.lastIntegerZoom?{from:M,to:I}:{from:Z,to:I}},oa.prototype.interpolate=function(M){return M};var Oo=function(M){this.specification=M};Oo.prototype.possiblyEvaluate=function(M,I,Z,le){return!!M.expression.evaluate(I,null,{},Z,le)},Oo.prototype.interpolate=function(){return!1};var Ji=function(M){for(var I in this.properties=M,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],M){var Z=M[I];Z.specification.overridable&&this.overridableProperties.push(I);var le=this.defaultPropertyValues[I]=new Ma(Z,void 0),Se=this.defaultTransitionablePropertyValues[I]=new $a(Z);this.defaultTransitioningPropertyValues[I]=Se.untransitioned(),this.defaultPossiblyEvaluatedValues[I]=le.possiblyEvaluate({})}};br("DataDrivenProperty",Sr),br("DataConstantProperty",Mr),br("CrossFadedDataDrivenProperty",cs),br("CrossFadedProperty",oa),br("ColorRampProperty",Oo);var fs="-transition",Ki=function(M){function I(Z,le){if(M.call(this),this.id=Z.id,this.type=Z.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==Z.type&&(this.metadata=Z.metadata,this.minzoom=Z.minzoom,this.maxzoom=Z.maxzoom,"background"!==Z.type&&(this.source=Z.source,this.sourceLayer=Z["source-layer"],this.filter=Z.filter),le.layout&&(this._unevaluatedLayout=new $o(le.layout)),le.paint)){for(var Se in this._transitionablePaint=new Ua(le.paint),Z.paint)this.setPaintProperty(Se,Z.paint[Se],{validate:!1});for(var De in Z.layout)this.setLayoutProperty(De,Z.layout[De],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Xi(le.paint)}}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},I.prototype.getLayoutProperty=function(Z){return"visibility"===Z?this.visibility:this._unevaluatedLayout.getValue(Z)},I.prototype.setLayoutProperty=function(Z,le,Se){void 0===Se&&(Se={}),null!=le&&this._validate(Co,"layers."+this.id+".layout."+Z,Z,le,Se)||("visibility"!==Z?this._unevaluatedLayout.setValue(Z,le):this.visibility=le)},I.prototype.getPaintProperty=function(Z){return y(Z,fs)?this._transitionablePaint.getTransition(Z.slice(0,-11)):this._transitionablePaint.getValue(Z)},I.prototype.setPaintProperty=function(Z,le,Se){if(void 0===Se&&(Se={}),null!=le&&this._validate(aa,"layers."+this.id+".paint."+Z,Z,le,Se))return!1;if(y(Z,fs))return this._transitionablePaint.setTransition(Z.slice(0,-11),le||void 0),!1;var Ue=this._transitionablePaint._values[Z],Ke="cross-faded-data-driven"===Ue.property.specification["property-type"],ot=Ue.value.isDataDriven(),xt=Ue.value;this._transitionablePaint.setValue(Z,le),this._handleSpecialPaintPropertyUpdate(Z);var _t=this._transitionablePaint._values[Z].value;return _t.isDataDriven()||ot||Ke||this._handleOverridablePaintPropertyUpdate(Z,xt,_t)},I.prototype._handleSpecialPaintPropertyUpdate=function(Z){},I.prototype._handleOverridablePaintPropertyUpdate=function(Z,le,Se){return!1},I.prototype.isHidden=function(Z){return!!(this.minzoom&&Z<this.minzoom)||!!(this.maxzoom&&Z>=this.maxzoom)||"none"===this.visibility},I.prototype.updateTransitions=function(Z){this._transitioningPaint=this._transitionablePaint.transitioned(Z,this._transitioningPaint)},I.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},I.prototype.recalculate=function(Z,le){Z.getCrossfadeParameters&&(this._crossfadeParameters=Z.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(Z,void 0,le)),this.paint=this._transitioningPaint.possiblyEvaluate(Z,void 0,le)},I.prototype.serialize=function(){var Z={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(Z.layout=Z.layout||{},Z.layout.visibility=this.visibility),m(Z,function(le,Se){return!(void 0===le||"layout"===Se&&!Object.keys(le).length||"paint"===Se&&!Object.keys(le).length)})},I.prototype._validate=function(Z,le,Se,De,Ue){return void 0===Ue&&(Ue={}),(!Ue||!1!==Ue.validate)&&Ba(this,Z.call(Wi,{key:le,layerType:this.type,objectKey:Se,value:De,styleSpec:ze,style:{glyphs:!0,sprite:!0}}))},I.prototype.is3D=function(){return!1},I.prototype.isTileClipped=function(){return!1},I.prototype.hasOffscreenPass=function(){return!1},I.prototype.resize=function(){},I.prototype.isStateDependent=function(){for(var Z in this.paint._values){var le=this.paint.get(Z);if(le instanceof Ci&&oo(le.property.specification)&&("source"===le.value.kind||"composite"===le.value.kind)&&le.value.isStateDependent)return!0}return!1},I}(nt),Io={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Do=function(M,I){this._structArray=M,this._pos1=I*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Or=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Fi(M,I){void 0===I&&(I=1);var Z=0,le=0;return{members:M.map(function(Se){var Ue=Io[Se.type].BYTES_PER_ELEMENT,Ke=Z=Qa(Z,Math.max(I,Ue)),ot=Se.components||1;return le=Math.max(le,Ue),Z+=Ue*ot,{name:Se.name,type:Se.type,components:ot,offset:Ke}}),size:Qa(Z,Math.max(le,I)),alignment:I}}function Qa(M,I){return Math.ceil(M/I)*I}Or.serialize=function(M,I){return M._trim(),I&&(M.isTransferred=!0,I.push(M.arrayBuffer)),{length:M.length,arrayBuffer:M.arrayBuffer}},Or.deserialize=function(M){var I=Object.create(this.prototype);return I.arrayBuffer=M.arrayBuffer,I.length=M.length,I.capacity=M.arrayBuffer.byteLength/I.bytesPerElement,I._refreshViews(),I},Or.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Or.prototype.clear=function(){this.length=0},Or.prototype.resize=function(M){this.reserve(M),this.length=M},Or.prototype.reserve=function(M){if(M>this.capacity){this.capacity=Math.max(M,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var I=this.uint8;this._refreshViews(),I&&this.uint8.set(I)}},Or.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var va=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le){var Se=this.length;return this.resize(Se+1),this.emplace(Se,Z,le)},I.prototype.emplace=function(Z,le,Se){var De=2*Z;return this.int16[De+0]=le,this.int16[De+1]=Se,Z},I}(Or);va.prototype.bytesPerElement=4,br("StructArrayLayout2i4",va);var Qo=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se,De){var Ue=this.length;return this.resize(Ue+1),this.emplace(Ue,Z,le,Se,De)},I.prototype.emplace=function(Z,le,Se,De,Ue){var Ke=4*Z;return this.int16[Ke+0]=le,this.int16[Ke+1]=Se,this.int16[Ke+2]=De,this.int16[Ke+3]=Ue,Z},I}(Or);Qo.prototype.bytesPerElement=8,br("StructArrayLayout4i8",Qo);var hs=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se,De,Ue,Ke){var ot=this.length;return this.resize(ot+1),this.emplace(ot,Z,le,Se,De,Ue,Ke)},I.prototype.emplace=function(Z,le,Se,De,Ue,Ke,ot){var xt=6*Z;return this.int16[xt+0]=le,this.int16[xt+1]=Se,this.int16[xt+2]=De,this.int16[xt+3]=Ue,this.int16[xt+4]=Ke,this.int16[xt+5]=ot,Z},I}(Or);hs.prototype.bytesPerElement=12,br("StructArrayLayout2i4i12",hs);var es=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se,De,Ue,Ke){var ot=this.length;return this.resize(ot+1),this.emplace(ot,Z,le,Se,De,Ue,Ke)},I.prototype.emplace=function(Z,le,Se,De,Ue,Ke,ot){var xt=4*Z,_t=8*Z;return this.int16[xt+0]=le,this.int16[xt+1]=Se,this.uint8[_t+4]=De,this.uint8[_t+5]=Ue,this.uint8[_t+6]=Ke,this.uint8[_t+7]=ot,Z},I}(Or);es.prototype.bytesPerElement=8,br("StructArrayLayout2i4ub8",es);var go=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot){var Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot)},I.prototype.emplace=function(Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt){var Rt=9*Z,Qt=18*Z;return this.uint16[Rt+0]=le,this.uint16[Rt+1]=Se,this.uint16[Rt+2]=De,this.uint16[Rt+3]=Ue,this.uint16[Rt+4]=Ke,this.uint16[Rt+5]=ot,this.uint16[Rt+6]=xt,this.uint16[Rt+7]=_t,this.uint8[Qt+16]=Ot,this.uint8[Qt+17]=Bt,Z},I}(Or);go.prototype.bytesPerElement=18,br("StructArrayLayout8ui2ub18",go);var z=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt,Rt){var Qt=this.length;return this.resize(Qt+1),this.emplace(Qt,Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt,Rt)},I.prototype.emplace=function(Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt,Rt,Qt){var an=12*Z;return this.int16[an+0]=le,this.int16[an+1]=Se,this.int16[an+2]=De,this.int16[an+3]=Ue,this.uint16[an+4]=Ke,this.uint16[an+5]=ot,this.uint16[an+6]=xt,this.uint16[an+7]=_t,this.int16[an+8]=Ot,this.int16[an+9]=Bt,this.int16[an+10]=Rt,this.int16[an+11]=Qt,Z},I}(Or);z.prototype.bytesPerElement=24,br("StructArrayLayout4i4ui4i24",z);var H=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se){var De=this.length;return this.resize(De+1),this.emplace(De,Z,le,Se)},I.prototype.emplace=function(Z,le,Se,De){var Ue=3*Z;return this.float32[Ue+0]=le,this.float32[Ue+1]=Se,this.float32[Ue+2]=De,Z},I}(Or);H.prototype.bytesPerElement=12,br("StructArrayLayout3f12",H);var V=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z){var le=this.length;return this.resize(le+1),this.emplace(le,Z)},I.prototype.emplace=function(Z,le){return this.uint32[1*Z+0]=le,Z},I}(Or);V.prototype.bytesPerElement=4,br("StructArrayLayout1ul4",V);var K=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se,De,Ue,Ke,ot,xt,_t){var Ot=this.length;return this.resize(Ot+1),this.emplace(Ot,Z,le,Se,De,Ue,Ke,ot,xt,_t)},I.prototype.emplace=function(Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot){var Bt=10*Z,Rt=5*Z;return this.int16[Bt+0]=le,this.int16[Bt+1]=Se,this.int16[Bt+2]=De,this.int16[Bt+3]=Ue,this.int16[Bt+4]=Ke,this.int16[Bt+5]=ot,this.uint32[Rt+3]=xt,this.uint16[Bt+8]=_t,this.uint16[Bt+9]=Ot,Z},I}(Or);K.prototype.bytesPerElement=20,br("StructArrayLayout6i1ul2ui20",K);var he=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se,De,Ue,Ke){var ot=this.length;return this.resize(ot+1),this.emplace(ot,Z,le,Se,De,Ue,Ke)},I.prototype.emplace=function(Z,le,Se,De,Ue,Ke,ot){var xt=6*Z;return this.int16[xt+0]=le,this.int16[xt+1]=Se,this.int16[xt+2]=De,this.int16[xt+3]=Ue,this.int16[xt+4]=Ke,this.int16[xt+5]=ot,Z},I}(Or);he.prototype.bytesPerElement=12,br("StructArrayLayout2i2i2i12",he);var Ae=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se,De,Ue){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,Z,le,Se,De,Ue)},I.prototype.emplace=function(Z,le,Se,De,Ue,Ke){var ot=4*Z,xt=8*Z;return this.float32[ot+0]=le,this.float32[ot+1]=Se,this.float32[ot+2]=De,this.int16[xt+6]=Ue,this.int16[xt+7]=Ke,Z},I}(Or);Ae.prototype.bytesPerElement=16,br("StructArrayLayout2f1f2i16",Ae);var B=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se,De){var Ue=this.length;return this.resize(Ue+1),this.emplace(Ue,Z,le,Se,De)},I.prototype.emplace=function(Z,le,Se,De,Ue){var Ke=12*Z,ot=3*Z;return this.uint8[Ke+0]=le,this.uint8[Ke+1]=Se,this.float32[ot+1]=De,this.float32[ot+2]=Ue,Z},I}(Or);B.prototype.bytesPerElement=12,br("StructArrayLayout2ub2f12",B);var Q=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se){var De=this.length;return this.resize(De+1),this.emplace(De,Z,le,Se)},I.prototype.emplace=function(Z,le,Se,De){var Ue=3*Z;return this.uint16[Ue+0]=le,this.uint16[Ue+1]=Se,this.uint16[Ue+2]=De,Z},I}(Or);Q.prototype.bytesPerElement=6,br("StructArrayLayout3ui6",Q);var ie=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt,Rt,Qt,an,Tn,wn,Pn){var On=this.length;return this.resize(On+1),this.emplace(On,Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt,Rt,Qt,an,Tn,wn,Pn)},I.prototype.emplace=function(Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt,Rt,Qt,an,Tn,wn,Pn,On){var Nn=24*Z,Gn=12*Z,Jn=48*Z;return this.int16[Nn+0]=le,this.int16[Nn+1]=Se,this.uint16[Nn+2]=De,this.uint16[Nn+3]=Ue,this.uint32[Gn+2]=Ke,this.uint32[Gn+3]=ot,this.uint32[Gn+4]=xt,this.uint16[Nn+10]=_t,this.uint16[Nn+11]=Ot,this.uint16[Nn+12]=Bt,this.float32[Gn+7]=Rt,this.float32[Gn+8]=Qt,this.uint8[Jn+36]=an,this.uint8[Jn+37]=Tn,this.uint8[Jn+38]=wn,this.uint32[Gn+10]=Pn,this.int16[Nn+22]=On,Z},I}(Or);ie.prototype.bytesPerElement=48,br("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ie);var de=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt,Rt,Qt,an,Tn,wn,Pn,On,Nn,Gn,Jn,hr,sr,gr,wr,zr,Ar,Dr){var Cr=this.length;return this.resize(Cr+1),this.emplace(Cr,Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt,Rt,Qt,an,Tn,wn,Pn,On,Nn,Gn,Jn,hr,sr,gr,wr,zr,Ar,Dr)},I.prototype.emplace=function(Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt,Rt,Qt,an,Tn,wn,Pn,On,Nn,Gn,Jn,hr,sr,gr,wr,zr,Ar,Dr,Cr){var Tr=34*Z,Vr=17*Z;return this.int16[Tr+0]=le,this.int16[Tr+1]=Se,this.int16[Tr+2]=De,this.int16[Tr+3]=Ue,this.int16[Tr+4]=Ke,this.int16[Tr+5]=ot,this.int16[Tr+6]=xt,this.int16[Tr+7]=_t,this.uint16[Tr+8]=Ot,this.uint16[Tr+9]=Bt,this.uint16[Tr+10]=Rt,this.uint16[Tr+11]=Qt,this.uint16[Tr+12]=an,this.uint16[Tr+13]=Tn,this.uint16[Tr+14]=wn,this.uint16[Tr+15]=Pn,this.uint16[Tr+16]=On,this.uint16[Tr+17]=Nn,this.uint16[Tr+18]=Gn,this.uint16[Tr+19]=Jn,this.uint16[Tr+20]=hr,this.uint16[Tr+21]=sr,this.uint16[Tr+22]=gr,this.uint32[Vr+12]=wr,this.float32[Vr+13]=zr,this.float32[Vr+14]=Ar,this.float32[Vr+15]=Dr,this.float32[Vr+16]=Cr,Z},I}(Or);de.prototype.bytesPerElement=68,br("StructArrayLayout8i15ui1ul4f68",de);var ye=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z){var le=this.length;return this.resize(le+1),this.emplace(le,Z)},I.prototype.emplace=function(Z,le){return this.float32[1*Z+0]=le,Z},I}(Or);ye.prototype.bytesPerElement=4,br("StructArrayLayout1f4",ye);var Le=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se){var De=this.length;return this.resize(De+1),this.emplace(De,Z,le,Se)},I.prototype.emplace=function(Z,le,Se,De){var Ue=3*Z;return this.int16[Ue+0]=le,this.int16[Ue+1]=Se,this.int16[Ue+2]=De,Z},I}(Or);Le.prototype.bytesPerElement=6,br("StructArrayLayout3i6",Le);var Ne=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se){var De=this.length;return this.resize(De+1),this.emplace(De,Z,le,Se)},I.prototype.emplace=function(Z,le,Se,De){var Ke=4*Z;return this.uint32[2*Z+0]=le,this.uint16[Ke+2]=Se,this.uint16[Ke+3]=De,Z},I}(Or);Ne.prototype.bytesPerElement=8,br("StructArrayLayout1ul2ui8",Ne);var Ve=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le){var Se=this.length;return this.resize(Se+1),this.emplace(Se,Z,le)},I.prototype.emplace=function(Z,le,Se){var De=2*Z;return this.uint16[De+0]=le,this.uint16[De+1]=Se,Z},I}(Or);Ve.prototype.bytesPerElement=4,br("StructArrayLayout2ui4",Ve);var Ge=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z){var le=this.length;return this.resize(le+1),this.emplace(le,Z)},I.prototype.emplace=function(Z,le){return this.uint16[1*Z+0]=le,Z},I}(Or);Ge.prototype.bytesPerElement=2,br("StructArrayLayout1ui2",Ge);var Ye=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le){var Se=this.length;return this.resize(Se+1),this.emplace(Se,Z,le)},I.prototype.emplace=function(Z,le,Se){var De=2*Z;return this.float32[De+0]=le,this.float32[De+1]=Se,Z},I}(Or);Ye.prototype.bytesPerElement=8,br("StructArrayLayout2f8",Ye);var $e=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,Se,De){var Ue=this.length;return this.resize(Ue+1),this.emplace(Ue,Z,le,Se,De)},I.prototype.emplace=function(Z,le,Se,De,Ue){var Ke=4*Z;return this.float32[Ke+0]=le,this.float32[Ke+1]=Se,this.float32[Ke+2]=De,this.float32[Ke+3]=Ue,Z},I}(Or);$e.prototype.bytesPerElement=16,br("StructArrayLayout4f16",$e);var lt=function(M){function I(){M.apply(this,arguments)}M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I;var Z={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return Z.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},Z.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},Z.x1.get=function(){return this._structArray.int16[this._pos2+2]},Z.y1.get=function(){return this._structArray.int16[this._pos2+3]},Z.x2.get=function(){return this._structArray.int16[this._pos2+4]},Z.y2.get=function(){return this._structArray.int16[this._pos2+5]},Z.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Z.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},Z.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Z.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(I.prototype,Z),I}(Do);lt.prototype.size=20;var ht=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.get=function(Z){return new lt(this,Z)},I}(K);br("CollisionBoxArray",ht);var Et=function(M){function I(){M.apply(this,arguments)}M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I;var Z={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return Z.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Z.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Z.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Z.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},Z.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},Z.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Z.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},Z.segment.get=function(){return this._structArray.uint16[this._pos2+10]},Z.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},Z.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},Z.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},Z.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},Z.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},Z.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},Z.placedOrientation.set=function(le){this._structArray.uint8[this._pos1+37]=le},Z.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},Z.hidden.set=function(le){this._structArray.uint8[this._pos1+38]=le},Z.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},Z.crossTileID.set=function(le){this._structArray.uint32[this._pos4+10]=le},Z.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(I.prototype,Z),I}(Do);Et.prototype.size=48;var Ct=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.get=function(Z){return new Et(this,Z)},I}(ie);br("PlacedSymbolArray",Ct);var St=function(M){function I(){M.apply(this,arguments)}M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I;var Z={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return Z.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Z.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Z.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},Z.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},Z.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},Z.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},Z.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},Z.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},Z.key.get=function(){return this._structArray.uint16[this._pos2+8]},Z.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Z.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},Z.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},Z.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},Z.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},Z.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},Z.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},Z.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},Z.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},Z.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},Z.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},Z.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},Z.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},Z.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},Z.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},Z.crossTileID.set=function(le){this._structArray.uint32[this._pos4+12]=le},Z.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},Z.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},Z.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},Z.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(I.prototype,Z),I}(Do);St.prototype.size=68;var zt=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.get=function(Z){return new St(this,Z)},I}(de);br("SymbolInstanceArray",zt);var Lt=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.getoffsetX=function(Z){return this.float32[1*Z+0]},I}(ye);br("GlyphOffsetArray",Lt);var en=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.getx=function(Z){return this.int16[3*Z+0]},I.prototype.gety=function(Z){return this.int16[3*Z+1]},I.prototype.gettileUnitDistanceFromAnchor=function(Z){return this.int16[3*Z+2]},I}(Le);br("SymbolLineVertexArray",en);var Zt=function(M){function I(){M.apply(this,arguments)}M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I;var Z={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return Z.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},Z.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Z.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(I.prototype,Z),I}(Do);Zt.prototype.size=8;var Ht=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.get=function(Z){return new Zt(this,Z)},I}(Ne);br("FeatureIndexArray",Ht);var pn=Fi([{name:"a_pos",components:2,type:"Int16"}],4).members,vn=function(M){void 0===M&&(M=[]),this.segments=M};function Rn(M,I){return 256*(M=o(Math.floor(M),0,255))+o(Math.floor(I),0,255)}vn.prototype.prepareSegment=function(M,I,Z,le){var Se=this.segments[this.segments.length-1];return M>vn.MAX_VERTEX_ARRAY_LENGTH&&S("Max vertices per segment is "+vn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+M),(!Se||Se.vertexLength+M>vn.MAX_VERTEX_ARRAY_LENGTH||Se.sortKey!==le)&&(Se={vertexOffset:I.length,primitiveOffset:Z.length,vertexLength:0,primitiveLength:0},void 0!==le&&(Se.sortKey=le),this.segments.push(Se)),Se},vn.prototype.get=function(){return this.segments},vn.prototype.destroy=function(){for(var M=0,I=this.segments;M<I.length;M+=1){var Z=I[M];for(var le in Z.vaos)Z.vaos[le].destroy()}},vn.simpleSegment=function(M,I,Z,le){return new vn([{vertexOffset:M,primitiveOffset:I,vertexLength:Z,primitiveLength:le,vaos:{},sortKey:0}])},vn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,br("SegmentVector",vn);var zn=Fi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),Un=T(function(M){M.exports=function(I,Z){var le,Se,De,Ue,Ke,ot,xt,_t;for(Se=I.length-(le=3&I.length),De=Z,Ke=3432918353,ot=461845907,_t=0;_t<Se;)xt=255&I.charCodeAt(_t)|(255&I.charCodeAt(++_t))<<8|(255&I.charCodeAt(++_t))<<16|(255&I.charCodeAt(++_t))<<24,++_t,De=27492+(65535&(Ue=5*(65535&(De=(De^=xt=(65535&(xt=(xt=(65535&xt)*Ke+(((xt>>>16)*Ke&65535)<<16)&4294967295)<<15|xt>>>17))*ot+(((xt>>>16)*ot&65535)<<16)&4294967295)<<13|De>>>19))+((5*(De>>>16)&65535)<<16)&4294967295))+((58964+(Ue>>>16)&65535)<<16);switch(xt=0,le){case 3:xt^=(255&I.charCodeAt(_t+2))<<16;case 2:xt^=(255&I.charCodeAt(_t+1))<<8;case 1:De^=xt=(65535&(xt=(xt=(65535&(xt^=255&I.charCodeAt(_t)))*Ke+(((xt>>>16)*Ke&65535)<<16)&4294967295)<<15|xt>>>17))*ot+(((xt>>>16)*ot&65535)<<16)&4294967295}return De^=I.length,De=2246822507*(65535&(De^=De>>>16))+((2246822507*(De>>>16)&65535)<<16)&4294967295,De=3266489909*(65535&(De^=De>>>13))+((3266489909*(De>>>16)&65535)<<16)&4294967295,(De^=De>>>16)>>>0}}),Yn=T(function(M){M.exports=function(I,Z){for(var le,Se=I.length,De=Z^Se,Ue=0;Se>=4;)le=1540483477*(65535&(le=255&I.charCodeAt(Ue)|(255&I.charCodeAt(++Ue))<<8|(255&I.charCodeAt(++Ue))<<16|(255&I.charCodeAt(++Ue))<<24))+((1540483477*(le>>>16)&65535)<<16),De=1540483477*(65535&De)+((1540483477*(De>>>16)&65535)<<16)^(le=1540483477*(65535&(le^=le>>>24))+((1540483477*(le>>>16)&65535)<<16)),Se-=4,++Ue;switch(Se){case 3:De^=(255&I.charCodeAt(Ue+2))<<16;case 2:De^=(255&I.charCodeAt(Ue+1))<<8;case 1:De=1540483477*(65535&(De^=255&I.charCodeAt(Ue)))+((1540483477*(De>>>16)&65535)<<16)}return De=1540483477*(65535&(De^=De>>>13))+((1540483477*(De>>>16)&65535)<<16),(De^=De>>>15)>>>0}}),or=Un,cr=Yn;or.murmur3=Un,or.murmur2=cr;var yr=function(){this.ids=[],this.positions=[],this.indexed=!1};yr.prototype.add=function(M,I,Z,le){this.ids.push(Bn(M)),this.positions.push(I,Z,le)},yr.prototype.getPositions=function(M){for(var I=Bn(M),Z=0,le=this.ids.length-1;Z<le;){var Se=Z+le>>1;this.ids[Se]>=I?le=Se:Z=Se+1}for(var De=[];this.ids[Z]===I;)De.push({index:this.positions[3*Z],start:this.positions[3*Z+1],end:this.positions[3*Z+2]}),Z++;return De},yr.serialize=function(M,I){var Z=new Float64Array(M.ids),le=new Uint32Array(M.positions);return rr(Z,le,0,Z.length-1),I&&I.push(Z.buffer,le.buffer),{ids:Z,positions:le}},yr.deserialize=function(M){var I=new yr;return I.ids=M.ids,I.positions=M.positions,I.indexed=!0,I};var Pr=Math.pow(2,53)-1;function Bn(M){var I=+M;return!isNaN(I)&&I<=Pr?I:or(String(M))}function rr(M,I,Z,le){for(;Z<le;){for(var Se=M[Z+le>>1],De=Z-1,Ue=le+1;;){do{De++}while(M[De]<Se);do{Ue--}while(M[Ue]>Se);if(De>=Ue)break;fr(M,De,Ue),fr(I,3*De,3*Ue),fr(I,3*De+1,3*Ue+1),fr(I,3*De+2,3*Ue+2)}Ue-Z<le-Ue?(rr(M,I,Z,Ue),Z=Ue+1):(rr(M,I,Ue+1,le),le=Ue)}}function fr(M,I,Z){var le=M[I];M[I]=M[Z],M[Z]=le}br("FeaturePositionMap",yr);var xr=function(M,I){this.gl=M.gl,this.location=I},Er=function(M){function I(Z,le){M.call(this,Z,le),this.current=0}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.set=function(Z){this.current!==Z&&(this.current=Z,this.gl.uniform1i(this.location,Z))},I}(xr),Rr=function(M){function I(Z,le){M.call(this,Z,le),this.current=0}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.set=function(Z){this.current!==Z&&(this.current=Z,this.gl.uniform1f(this.location,Z))},I}(xr),jr=function(M){function I(Z,le){M.call(this,Z,le),this.current=[0,0]}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.set=function(Z){Z[0]===this.current[0]&&Z[1]===this.current[1]||(this.current=Z,this.gl.uniform2f(this.location,Z[0],Z[1]))},I}(xr),Wr=function(M){function I(Z,le){M.call(this,Z,le),this.current=[0,0,0]}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.set=function(Z){Z[0]===this.current[0]&&Z[1]===this.current[1]&&Z[2]===this.current[2]||(this.current=Z,this.gl.uniform3f(this.location,Z[0],Z[1],Z[2]))},I}(xr),li=function(M){function I(Z,le){M.call(this,Z,le),this.current=[0,0,0,0]}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.set=function(Z){Z[0]===this.current[0]&&Z[1]===this.current[1]&&Z[2]===this.current[2]&&Z[3]===this.current[3]||(this.current=Z,this.gl.uniform4f(this.location,Z[0],Z[1],Z[2],Z[3]))},I}(xr),ui=function(M){function I(Z,le){M.call(this,Z,le),this.current=fn.transparent}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.set=function(Z){Z.r===this.current.r&&Z.g===this.current.g&&Z.b===this.current.b&&Z.a===this.current.a||(this.current=Z,this.gl.uniform4f(this.location,Z.r,Z.g,Z.b,Z.a))},I}(xr),Xr=new Float32Array(16),ki=function(M){function I(Z,le){M.call(this,Z,le),this.current=Xr}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.set=function(Z){if(Z[12]!==this.current[12]||Z[0]!==this.current[0])return this.current=Z,void this.gl.uniformMatrix4fv(this.location,!1,Z);for(var le=1;le<16;le++)if(Z[le]!==this.current[le]){this.current=Z,this.gl.uniformMatrix4fv(this.location,!1,Z);break}},I}(xr);function qi(M){return[Rn(255*M.r,255*M.g),Rn(255*M.b,255*M.a)]}var Pi=function(M,I,Z){this.value=M,this.uniformNames=I.map(function(le){return"u_"+le}),this.type=Z};Pi.prototype.setUniform=function(M,I,Z){M.set(Z.constantOr(this.value))},Pi.prototype.getBinding=function(M,I,Z){return"color"===this.type?new ui(M,I):new Rr(M,I)};var Bi=function(M,I){this.uniformNames=I.map(function(Z){return"u_"+Z}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Bi.prototype.setConstantPatternPositions=function(M,I){this.pixelRatioFrom=I.pixelRatio,this.pixelRatioTo=M.pixelRatio,this.patternFrom=I.tlbr,this.patternTo=M.tlbr},Bi.prototype.setUniform=function(M,I,Z,le){var Se="u_pattern_to"===le?this.patternTo:"u_pattern_from"===le?this.patternFrom:"u_pixel_ratio_to"===le?this.pixelRatioTo:"u_pixel_ratio_from"===le?this.pixelRatioFrom:null;Se&&M.set(Se)},Bi.prototype.getBinding=function(M,I,Z){return"u_pattern"===Z.substr(0,9)?new li(M,I):new Rr(M,I)};var Hr=function(M,I,Z,le){this.expression=M,this.type=Z,this.maxValue=0,this.paintVertexAttributes=I.map(function(Se){return{name:"a_"+Se,type:"Float32",components:"color"===Z?2:1,offset:0}}),this.paintVertexArray=new le};Hr.prototype.populatePaintArray=function(M,I,Z,le,Se){var De=this.paintVertexArray.length,Ue=this.expression.evaluate(new Kr(0),I,{},le,[],Se);this.paintVertexArray.resize(M),this._setPaintValue(De,M,Ue)},Hr.prototype.updatePaintArray=function(M,I,Z,le){var Se=this.expression.evaluate({zoom:0},Z,le);this._setPaintValue(M,I,Se)},Hr.prototype._setPaintValue=function(M,I,Z){if("color"===this.type)for(var le=qi(Z),Se=M;Se<I;Se++)this.paintVertexArray.emplace(Se,le[0],le[1]);else{for(var De=M;De<I;De++)this.paintVertexArray.emplace(De,Z);this.maxValue=Math.max(this.maxValue,Math.abs(Z))}},Hr.prototype.upload=function(M){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=M.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Hr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Nr=function(M,I,Z,le,Se,De){this.expression=M,this.uniformNames=I.map(function(Ue){return"u_"+Ue+"_t"}),this.type=Z,this.useIntegerZoom=le,this.zoom=Se,this.maxValue=0,this.paintVertexAttributes=I.map(function(Ue){return{name:"a_"+Ue,type:"Float32",components:"color"===Z?4:2,offset:0}}),this.paintVertexArray=new De};Nr.prototype.populatePaintArray=function(M,I,Z,le,Se){var De=this.expression.evaluate(new Kr(this.zoom),I,{},le,[],Se),Ue=this.expression.evaluate(new Kr(this.zoom+1),I,{},le,[],Se),Ke=this.paintVertexArray.length;this.paintVertexArray.resize(M),this._setPaintValue(Ke,M,De,Ue)},Nr.prototype.updatePaintArray=function(M,I,Z,le){var Se=this.expression.evaluate({zoom:this.zoom},Z,le),De=this.expression.evaluate({zoom:this.zoom+1},Z,le);this._setPaintValue(M,I,Se,De)},Nr.prototype._setPaintValue=function(M,I,Z,le){if("color"===this.type)for(var Se=qi(Z),De=qi(le),Ue=M;Ue<I;Ue++)this.paintVertexArray.emplace(Ue,Se[0],Se[1],De[0],De[1]);else{for(var Ke=M;Ke<I;Ke++)this.paintVertexArray.emplace(Ke,Z,le);this.maxValue=Math.max(this.maxValue,Math.abs(Z),Math.abs(le))}},Nr.prototype.upload=function(M){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=M.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Nr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Nr.prototype.setUniform=function(M,I){var Z=this.useIntegerZoom?Math.floor(I.zoom):I.zoom,le=o(this.expression.interpolationFactor(Z,this.zoom,this.zoom+1),0,1);M.set(le)},Nr.prototype.getBinding=function(M,I,Z){return new Rr(M,I)};var ci=function(M,I,Z,le,Se,De){this.expression=M,this.type=I,this.useIntegerZoom=Z,this.zoom=le,this.layerId=De,this.zoomInPaintVertexArray=new Se,this.zoomOutPaintVertexArray=new Se};ci.prototype.populatePaintArray=function(M,I,Z){var le=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(M),this.zoomOutPaintVertexArray.resize(M),this._setPaintValues(le,M,I.patterns&&I.patterns[this.layerId],Z)},ci.prototype.updatePaintArray=function(M,I,Z,le,Se){this._setPaintValues(M,I,Z.patterns&&Z.patterns[this.layerId],Se)},ci.prototype._setPaintValues=function(M,I,Z,le){if(le&&Z){var Ke=le[Z.min],ot=le[Z.mid],xt=le[Z.max];if(Ke&&ot&&xt)for(var _t=M;_t<I;_t++)this.zoomInPaintVertexArray.emplace(_t,ot.tl[0],ot.tl[1],ot.br[0],ot.br[1],Ke.tl[0],Ke.tl[1],Ke.br[0],Ke.br[1],ot.pixelRatio,Ke.pixelRatio),this.zoomOutPaintVertexArray.emplace(_t,ot.tl[0],ot.tl[1],ot.br[0],ot.br[1],xt.tl[0],xt.tl[1],xt.br[0],xt.br[1],ot.pixelRatio,xt.pixelRatio)}},ci.prototype.upload=function(M){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=M.createVertexBuffer(this.zoomInPaintVertexArray,zn.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=M.createVertexBuffer(this.zoomOutPaintVertexArray,zn.members,this.expression.isStateDependent))},ci.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ri=function(M,I,Z,le){this.binders={},this.layoutAttributes=le,this._buffers=[];var Se=[];for(var De in M.paint._values)if(Z(De)){var Ue=M.paint.get(De);if(Ue instanceof Ci&&oo(Ue.property.specification)){var Ke=ua(De,M.type),ot=Ue.value,xt=Ue.property.specification.type,_t=Ue.property.useIntegerZoom,Ot=Ue.property.specification["property-type"],Bt="cross-faded"===Ot||"cross-faded-data-driven"===Ot;if("constant"===ot.kind)this.binders[De]=Bt?new Bi(ot.value,Ke):new Pi(ot.value,Ke,xt),Se.push("/u_"+De);else if("source"===ot.kind||Bt){var Rt=xi(De,xt,"source");this.binders[De]=Bt?new ci(ot,xt,_t,I,Rt,M.id):new Hr(ot,Ke,xt,Rt),Se.push("/a_"+De)}else{var Qt=xi(De,xt,"composite");this.binders[De]=new Nr(ot,Ke,xt,_t,I,Qt),Se.push("/z_"+De)}}}this.cacheKey=Se.sort().join("")};ri.prototype.getMaxValue=function(M){var I=this.binders[M];return I instanceof Hr||I instanceof Nr?I.maxValue:0},ri.prototype.populatePaintArrays=function(M,I,Z,le,Se){for(var De in this.binders){var Ue=this.binders[De];(Ue instanceof Hr||Ue instanceof Nr||Ue instanceof ci)&&Ue.populatePaintArray(M,I,Z,le,Se)}},ri.prototype.setConstantPatternPositions=function(M,I){for(var Z in this.binders){var le=this.binders[Z];le instanceof Bi&&le.setConstantPatternPositions(M,I)}},ri.prototype.updatePaintArrays=function(M,I,Z,le,Se){var De=!1;for(var Ue in M)for(var Ke=0,ot=I.getPositions(Ue);Ke<ot.length;Ke+=1){var xt=ot[Ke],_t=Z.feature(xt.index);for(var Ot in this.binders){var Bt=this.binders[Ot];if((Bt instanceof Hr||Bt instanceof Nr||Bt instanceof ci)&&!0===Bt.expression.isStateDependent){var Rt=le.paint.get(Ot);Bt.expression=Rt.value,Bt.updatePaintArray(xt.start,xt.end,_t,M[Ue],Se),De=!0}}}return De},ri.prototype.defines=function(){var M=[];for(var I in this.binders){var Z=this.binders[I];(Z instanceof Pi||Z instanceof Bi)&&M.push.apply(M,Z.uniformNames.map(function(le){return"#define HAS_UNIFORM_"+le}))}return M},ri.prototype.getPaintVertexBuffers=function(){return this._buffers},ri.prototype.getUniforms=function(M,I){var Z=[];for(var le in this.binders){var Se=this.binders[le];if(Se instanceof Pi||Se instanceof Bi||Se instanceof Nr)for(var De=0,Ue=Se.uniformNames;De<Ue.length;De+=1){var Ke=Ue[De];if(I[Ke]){var ot=Se.getBinding(M,I[Ke],Ke);Z.push({name:Ke,property:le,binding:ot})}}}return Z},ri.prototype.setUniforms=function(M,I,Z,le){for(var Se=0,De=I;Se<De.length;Se+=1){var Ue=De[Se],Ke=Ue.name,ot=Ue.property;this.binders[ot].setUniform(Ue.binding,le,Z.get(ot),Ke)}},ri.prototype.updatePaintBuffers=function(M){for(var I in this._buffers=[],this.binders){var Z=this.binders[I];if(M&&Z instanceof ci){var le=2===M.fromScale?Z.zoomInPaintVertexBuffer:Z.zoomOutPaintVertexBuffer;le&&this._buffers.push(le)}else(Z instanceof Hr||Z instanceof Nr)&&Z.paintVertexBuffer&&this._buffers.push(Z.paintVertexBuffer)}},ri.prototype.upload=function(M){for(var I in this.binders){var Z=this.binders[I];(Z instanceof Hr||Z instanceof Nr||Z instanceof ci)&&Z.upload(M)}this.updatePaintBuffers()},ri.prototype.destroy=function(){for(var M in this.binders){var I=this.binders[M];(I instanceof Hr||I instanceof Nr||I instanceof ci)&&I.destroy()}};var pi=function(M,I,Z,le){void 0===le&&(le=function(){return!0}),this.programConfigurations={};for(var Se=0,De=I;Se<De.length;Se+=1){var Ue=De[Se];this.programConfigurations[Ue.id]=new ri(Ue,Z,le,M)}this.needsUpload=!1,this._featureMap=new yr,this._bufferOffset=0};function ua(M,I){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[M]||[M.replace(I+"-","").replace(/-/g,"_")]}function xi(M,I,Z){var Se={"line-pattern":{source:go,composite:go},"fill-pattern":{source:go,composite:go},"fill-extrusion-pattern":{source:go,composite:go}}[M];return Se&&Se[Z]||{color:{source:Ye,composite:$e},number:{source:ye,composite:Ye}}[I][Z]}pi.prototype.populatePaintArrays=function(M,I,Z,le,Se,De){for(var Ue in this.programConfigurations)this.programConfigurations[Ue].populatePaintArrays(M,I,le,Se,De);void 0!==I.id&&this._featureMap.add(I.id,Z,this._bufferOffset,M),this._bufferOffset=M,this.needsUpload=!0},pi.prototype.updatePaintArrays=function(M,I,Z,le){for(var Se=0,De=Z;Se<De.length;Se+=1){var Ue=De[Se];this.needsUpload=this.programConfigurations[Ue.id].updatePaintArrays(M,this._featureMap,I,Ue,le)||this.needsUpload}},pi.prototype.get=function(M){return this.programConfigurations[M]},pi.prototype.upload=function(M){if(this.needsUpload){for(var I in this.programConfigurations)this.programConfigurations[I].upload(M);this.needsUpload=!1}},pi.prototype.destroy=function(){for(var M in this.programConfigurations)this.programConfigurations[M].destroy()},br("ConstantBinder",Pi),br("CrossFadedConstantBinder",Bi),br("SourceExpressionBinder",Hr),br("CrossFadedCompositeBinder",ci),br("CompositeExpressionBinder",Nr),br("ProgramConfiguration",ri,{omit:["_buffers"]}),br("ProgramConfigurationSet",pi);var Jr=8192,ma=(15,{min:-1*Math.pow(2,14),max:Math.pow(2,14)-1});function Oa(M){for(var I=Jr/M.extent,Z=M.loadGeometry(),le=0;le<Z.length;le++)for(var Se=Z[le],De=0;De<Se.length;De++){var Ue=Se[De];Ue.x=Math.round(Ue.x*I),Ue.y=Math.round(Ue.y*I),(Ue.x<ma.min||Ue.x>ma.max||Ue.y<ma.min||Ue.y>ma.max)&&(S("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ue.x=o(Ue.x,ma.min,ma.max),Ue.y=o(Ue.y,ma.min,ma.max))}return Z}function Si(M,I,Z,le,Se){M.emplaceBack(2*I+(le+1)/2,2*Z+(Se+1)/2)}var Zi=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=M.index,this.hasPattern=!1,this.layoutVertexArray=new va,this.indexArray=new Q,this.segments=new vn,this.programConfigurations=new pi(pn,M.layers,M.zoom),this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id})};function Va(M,I){for(var Z=0;Z<M.length;Z++)if(dl(I,M[Z]))return!0;for(var le=0;le<I.length;le++)if(dl(M,I[le]))return!0;return!!ru(M,I)}function Il(M,I,Z){return!!dl(M,I)||!!iu(I,M,Z)}function Iu(M,I){if(1===M.length)return Du(I,M[0]);for(var Z=0;Z<I.length;Z++)for(var le=I[Z],Se=0;Se<le.length;Se++)if(dl(M,le[Se]))return!0;for(var De=0;De<M.length;De++)if(Du(I,M[De]))return!0;for(var Ue=0;Ue<I.length;Ue++)if(ru(M,I[Ue]))return!0;return!1}function yc(M,I,Z){if(M.length>1){if(ru(M,I))return!0;for(var le=0;le<I.length;le++)if(iu(I[le],M,Z))return!0}for(var Se=0;Se<M.length;Se++)if(iu(M[Se],I,Z))return!0;return!1}function ru(M,I){if(0===M.length||0===I.length)return!1;for(var Z=0;Z<M.length-1;Z++)for(var le=M[Z],Se=M[Z+1],De=0;De<I.length-1;De++)if(Dl(le,Se,I[De],I[De+1]))return!0;return!1}function Dl(M,I,Z,le){return w(M,Z,le)!==w(I,Z,le)&&w(M,I,Z)!==w(M,I,le)}function iu(M,I,Z){var le=Z*Z;if(1===I.length)return M.distSqr(I[0])<le;for(var Se=1;Se<I.length;Se++)if(_l(M,I[Se-1],I[Se])<le)return!0;return!1}function _l(M,I,Z){var le=I.distSqr(Z);if(0===le)return M.distSqr(I);var Se=((M.x-I.x)*(Z.x-I.x)+(M.y-I.y)*(Z.y-I.y))/le;return M.distSqr(Se<0?I:Se>1?Z:Z.sub(I)._mult(Se)._add(I))}function Du(M,I){for(var Z,le,Se,De=!1,Ue=0;Ue<M.length;Ue++)for(var Ke=0,ot=(Z=M[Ue]).length-1;Ke<Z.length;ot=Ke++)(le=Z[Ke]).y>I.y!=(Se=Z[ot]).y>I.y&&I.x<(Se.x-le.x)*(I.y-le.y)/(Se.y-le.y)+le.x&&(De=!De);return De}function dl(M,I){for(var Z=!1,le=0,Se=M.length-1;le<M.length;Se=le++){var De=M[le],Ue=M[Se];De.y>I.y!=Ue.y>I.y&&I.x<(Ue.x-De.x)*(I.y-De.y)/(Ue.y-De.y)+De.x&&(Z=!Z)}return Z}function au(M,I,Z){var le=Z[0],Se=Z[2];if(M.x<le.x&&I.x<le.x||M.x>Se.x&&I.x>Se.x||M.y<le.y&&I.y<le.y||M.y>Se.y&&I.y>Se.y)return!1;var De=w(M,I,Z[0]);return De!==w(M,I,Z[1])||De!==w(M,I,Z[2])||De!==w(M,I,Z[3])}function ou(M,I,Z){var le=I.paint.get(M).value;return"constant"===le.kind?le.value:Z.programConfigurations.get(I.id).getMaxValue(M)}function Ru(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])}function zu(M,I,Z,le,Se){if(!I[0]&&!I[1])return M;var De=t.convert(I)._mult(Se);"viewport"===Z&&De._rotate(-le);for(var Ue=[],Ke=0;Ke<M.length;Ke++)Ue.push(M[Ke].sub(De));return Ue}Zi.prototype.populate=function(M,I,Z){var le=this.layers[0],Se=[],De=null;"circle"===le.type&&(De=le.layout.get("circle-sort-key"));for(var Ue=0,Ke=M;Ue<Ke.length;Ue+=1){var ot=Ke[Ue],xt=ot.feature,_t=ot.id,Ot=ot.index,Bt=ot.sourceLayerIndex,Rt=this.layers[0]._featureFilter.needGeometry,Qt={type:xt.type,id:_t,properties:xt.properties,geometry:Rt?Oa(xt):[]};if(this.layers[0]._featureFilter.filter(new Kr(this.zoom),Qt,Z)){Rt||(Qt.geometry=Oa(xt));var an=De?De.evaluate(Qt,{},Z):void 0;Se.push({id:_t,properties:xt.properties,type:xt.type,sourceLayerIndex:Bt,index:Ot,geometry:Qt.geometry,patterns:{},sortKey:an})}}De&&Se.sort(function(gr,wr){return gr.sortKey-wr.sortKey});for(var wn=0,Pn=Se;wn<Pn.length;wn+=1){var On=Pn[wn],Gn=On.geometry,Jn=On.index,hr=On.sourceLayerIndex,sr=M[Jn].feature;this.addFeature(On,Gn,Jn,Z),I.featureIndex.insert(sr,Gn,Jn,hr,this.index)}},Zi.prototype.update=function(M,I,Z){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,I,this.stateDependentLayers,Z)},Zi.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Zi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Zi.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,pn),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},Zi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Zi.prototype.addFeature=function(M,I,Z,le){for(var Se=0,De=I;Se<De.length;Se+=1)for(var Ue=0,Ke=De[Se];Ue<Ke.length;Ue+=1){var ot=Ke[Ue],xt=ot.x,_t=ot.y;if(!(xt<0||xt>=Jr||_t<0||_t>=Jr)){var Ot=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,M.sortKey),Bt=Ot.vertexLength;Si(this.layoutVertexArray,xt,_t,-1,-1),Si(this.layoutVertexArray,xt,_t,1,-1),Si(this.layoutVertexArray,xt,_t,1,1),Si(this.layoutVertexArray,xt,_t,-1,1),this.indexArray.emplaceBack(Bt,Bt+1,Bt+2),this.indexArray.emplaceBack(Bt,Bt+3,Bt+2),Ot.vertexLength+=4,Ot.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,Z,{},le)},br("CircleBucket",Zi,{omit:["layers"]});var jh=new Ji({"circle-sort-key":new Sr(ze.layout_circle["circle-sort-key"])}),Uh={paint:new Ji({"circle-radius":new Sr(ze.paint_circle["circle-radius"]),"circle-color":new Sr(ze.paint_circle["circle-color"]),"circle-blur":new Sr(ze.paint_circle["circle-blur"]),"circle-opacity":new Sr(ze.paint_circle["circle-opacity"]),"circle-translate":new Mr(ze.paint_circle["circle-translate"]),"circle-translate-anchor":new Mr(ze.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Mr(ze.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Mr(ze.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Sr(ze.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Sr(ze.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Sr(ze.paint_circle["circle-stroke-opacity"])}),layout:jh},Ro=typeof Float32Array<"u"?Float32Array:Array;function xc(M){return M[0]=1,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=1,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=1,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}function af(M,I,Z){var le=I[0],Se=I[1],De=I[2],Ue=I[3],Ke=I[4],ot=I[5],xt=I[6],_t=I[7],Ot=I[8],Bt=I[9],Rt=I[10],Qt=I[11],an=I[12],Tn=I[13],wn=I[14],Pn=I[15],On=Z[0],Nn=Z[1],Gn=Z[2],Jn=Z[3];return M[0]=On*le+Nn*Ke+Gn*Ot+Jn*an,M[1]=On*Se+Nn*ot+Gn*Bt+Jn*Tn,M[2]=On*De+Nn*xt+Gn*Rt+Jn*wn,M[3]=On*Ue+Nn*_t+Gn*Qt+Jn*Pn,M[4]=(On=Z[4])*le+(Nn=Z[5])*Ke+(Gn=Z[6])*Ot+(Jn=Z[7])*an,M[5]=On*Se+Nn*ot+Gn*Bt+Jn*Tn,M[6]=On*De+Nn*xt+Gn*Rt+Jn*wn,M[7]=On*Ue+Nn*_t+Gn*Qt+Jn*Pn,M[8]=(On=Z[8])*le+(Nn=Z[9])*Ke+(Gn=Z[10])*Ot+(Jn=Z[11])*an,M[9]=On*Se+Nn*ot+Gn*Bt+Jn*Tn,M[10]=On*De+Nn*xt+Gn*Rt+Jn*wn,M[11]=On*Ue+Nn*_t+Gn*Qt+Jn*Pn,M[12]=(On=Z[12])*le+(Nn=Z[13])*Ke+(Gn=Z[14])*Ot+(Jn=Z[15])*an,M[13]=On*Se+Nn*ot+Gn*Bt+Jn*Tn,M[14]=On*De+Nn*xt+Gn*Rt+Jn*wn,M[15]=On*Ue+Nn*_t+Gn*Qt+Jn*Pn,M}Math.hypot||(Math.hypot=function(){for(var M=arguments,I=0,Z=arguments.length;Z--;)I+=M[Z]*M[Z];return Math.sqrt(I)});var Fu,M,Vh=af;function Bu(M,I,Z){var le=I[0],Se=I[1],De=I[2],Ue=I[3];return M[0]=Z[0]*le+Z[4]*Se+Z[8]*De+Z[12]*Ue,M[1]=Z[1]*le+Z[5]*Se+Z[9]*De+Z[13]*Ue,M[2]=Z[2]*le+Z[6]*Se+Z[10]*De+Z[14]*Ue,M[3]=Z[3]*le+Z[7]*Se+Z[11]*De+Z[15]*Ue,M}Fu=new Ro(3),Ro!=Float32Array&&(Fu[0]=0,Fu[1]=0,Fu[2]=0),M=new Ro(4),Ro!=Float32Array&&(M[0]=0,M[1]=0,M[2]=0,M[3]=0);var qh=(function(){var M=new Ro(2);Ro!=Float32Array&&(M[0]=0,M[1]=0)}(),function(M){function I(Z){M.call(this,Z,Uh)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.createBucket=function(Z){return new Zi(Z)},I.prototype.queryRadius=function(Z){var le=Z;return ou("circle-radius",this,le)+ou("circle-stroke-width",this,le)+Ru(this.paint.get("circle-translate"))},I.prototype.queryIntersectsFeature=function(Z,le,Se,De,Ue,Ke,ot,xt){for(var _t=zu(Z,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),Ke.angle,ot),Ot=this.paint.get("circle-radius").evaluate(le,Se)+this.paint.get("circle-stroke-width").evaluate(le,Se),Bt="map"===this.paint.get("circle-pitch-alignment"),Rt=Bt?_t:function(hr,sr){return hr.map(function(gr){return of(gr,sr)})}(_t,xt),Qt=Bt?Ot*ot:Ot,an=0,Tn=De;an<Tn.length;an+=1)for(var wn=0,Pn=Tn[an];wn<Pn.length;wn+=1){var On=Pn[wn],Nn=Bt?On:of(On,xt),Gn=Qt,Jn=Bu([],[On.x,On.y,0,1],xt);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Gn*=Jn[3]/Ke.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Gn*=Ke.cameraToCenterDistance/Jn[3]),Il(Rt,Nn,Gn))return!0}return!1},I}(Ki));function of(M,I){var Z=Bu([],[M.x,M.y,0,1],I);return new t(Z[0]/Z[3],Z[1]/Z[3])}var sf=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I}(Zi);function bc(M,I,Z,le){var Se=I.width,De=I.height;if(le){if(le instanceof Uint8ClampedArray)le=new Uint8Array(le.buffer);else if(le.length!==Se*De*Z)throw new RangeError("mismatched image size")}else le=new Uint8Array(Se*De*Z);return M.width=Se,M.height=De,M.data=le,M}function lf(M,I,Z){var le=I.width,Se=I.height;if(le!==M.width||Se!==M.height){var De=bc({},{width:le,height:Se},Z);_c(M,De,{x:0,y:0},{x:0,y:0},{width:Math.min(M.width,le),height:Math.min(M.height,Se)},Z),M.width=le,M.height=Se,M.data=De.data}}function _c(M,I,Z,le,Se,De){if(0===Se.width||0===Se.height)return I;if(Se.width>M.width||Se.height>M.height||Z.x>M.width-Se.width||Z.y>M.height-Se.height)throw new RangeError("out of range source coordinates for image copy");if(Se.width>I.width||Se.height>I.height||le.x>I.width-Se.width||le.y>I.height-Se.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ue=M.data,Ke=I.data,ot=0;ot<Se.height;ot++)for(var xt=((Z.y+ot)*M.width+Z.x)*De,_t=((le.y+ot)*I.width+le.x)*De,Ot=0;Ot<Se.width*De;Ot++)Ke[_t+Ot]=Ue[xt+Ot];return I}br("HeatmapBucket",sf,{omit:["layers"]});var wl=function(M,I){bc(this,M,1,I)};wl.prototype.resize=function(M){lf(this,M,1)},wl.prototype.clone=function(){return new wl({width:this.width,height:this.height},new Uint8Array(this.data))},wl.copy=function(M,I,Z,le,Se){_c(M,I,Z,le,Se,1)};var eo=function(M,I){bc(this,M,4,I)};eo.prototype.resize=function(M){lf(this,M,4)},eo.prototype.replace=function(M,I){I?this.data.set(M):this.data=M instanceof Uint8ClampedArray?new Uint8Array(M.buffer):M},eo.prototype.clone=function(){return new eo({width:this.width,height:this.height},new Uint8Array(this.data))},eo.copy=function(M,I,Z,le,Se){_c(M,I,Z,le,Se,4)},br("AlphaImage",wl),br("RGBAImage",eo);var Zh={paint:new Ji({"heatmap-radius":new Sr(ze.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Sr(ze.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Mr(ze.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Oo(ze.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Mr(ze.paint_heatmap["heatmap-opacity"])})};function uf(M,I){for(var Z=new Uint8Array(1024),le={},Se=0,De=0;Se<256;Se++,De+=4){le[I]=Se/255;var Ue=M.evaluate(le);Z[De+0]=Math.floor(255*Ue.r/Ue.a),Z[De+1]=Math.floor(255*Ue.g/Ue.a),Z[De+2]=Math.floor(255*Ue.b/Ue.a),Z[De+3]=Math.floor(255*Ue.a)}return new eo({width:256,height:1},Z)}var Yh=function(M){function I(Z){M.call(this,Z,Zh),this._updateColorRamp()}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.createBucket=function(Z){return new sf(Z)},I.prototype._handleSpecialPaintPropertyUpdate=function(Z){"heatmap-color"===Z&&this._updateColorRamp()},I.prototype._updateColorRamp=function(){this.colorRamp=uf(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},I.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},I}(Ki),Wh={paint:new Ji({"hillshade-illumination-direction":new Mr(ze.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Mr(ze.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Mr(ze.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Mr(ze.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Mr(ze.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Mr(ze.paint_hillshade["hillshade-accent-color"])})},Xh=function(M){function I(Z){M.call(this,Z,Wh)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},I}(Ki),cf=Fi([{name:"a_pos",components:2,type:"Int16"}],4).members,wc=Nu,Jh=Nu;function Nu(M,I,Z){Z=Z||2;var le,Se,De,Ue,Ke,ot,xt,_t=I&&I.length,Ot=_t?I[0]*Z:M.length,Bt=ff(M,0,Ot,Z,!0),Rt=[];if(!Bt||Bt.next===Bt.prev)return Rt;if(_t&&(Bt=function(an,Tn,wn,Pn){var On,Nn,Gn,Jn=[];for(On=0,Nn=Tn.length;On<Nn;On++)(Gn=ff(an,Tn[On]*Pn,On<Nn-1?Tn[On+1]*Pn:an.length,Pn,!1))===Gn.next&&(Gn.steiner=!0),Jn.push(ip(Gn));for(Jn.sort(tp),On=0;On<Jn.length;On++)np(Jn[On],wn),wn=vl(wn,wn.next);return wn}(M,I,Bt,Z)),M.length>80*Z){le=De=M[0],Se=Ue=M[1];for(var Qt=Z;Qt<Ot;Qt+=Z)(Ke=M[Qt])<le&&(le=Ke),(ot=M[Qt+1])<Se&&(Se=ot),Ke>De&&(De=Ke),ot>Ue&&(Ue=ot);xt=0!==(xt=Math.max(De-le,Ue-Se))?1/xt:0}return su(Bt,Rt,Z,le,Se,xt),Rt}function ff(M,I,Z,le,Se){var De,Ue;if(Se===Mc(M,I,Z,le)>0)for(De=I;De<Z;De+=le)Ue=df(De,M[De],M[De+1],Ue);else for(De=Z-le;De>=I;De-=le)Ue=df(De,M[De],M[De+1],Ue);return Ue&&ju(Ue,Ue.next)&&(uu(Ue),Ue=Ue.next),Ue}function vl(M,I){if(!M)return M;I||(I=M);var Z,le=M;do{if(Z=!1,le.steiner||!ju(le,le.next)&&0!==ta(le.prev,le,le.next))le=le.next;else{if(uu(le),(le=I=le.prev)===le.next)break;Z=!0}}while(Z||le!==I);return I}function su(M,I,Z,le,Se,De,Ue){if(M){!Ue&&De&&function(_t,Ot,Bt,Rt){var Qt=_t;do{null===Qt.z&&(Qt.z=Tc(Qt.x,Qt.y,Ot,Bt,Rt)),Qt.prevZ=Qt.prev,Qt.nextZ=Qt.next,Qt=Qt.next}while(Qt!==_t);Qt.prevZ.nextZ=null,Qt.prevZ=null,function(an){var Tn,wn,Pn,On,Nn,Gn,Jn,hr,sr=1;do{for(wn=an,an=null,Nn=null,Gn=0;wn;){for(Gn++,Pn=wn,Jn=0,Tn=0;Tn<sr&&(Jn++,Pn=Pn.nextZ);Tn++);for(hr=sr;Jn>0||hr>0&&Pn;)0!==Jn&&(0===hr||!Pn||wn.z<=Pn.z)?(On=wn,wn=wn.nextZ,Jn--):(On=Pn,Pn=Pn.nextZ,hr--),Nn?Nn.nextZ=On:an=On,On.prevZ=Nn,Nn=On;wn=Pn}Nn.nextZ=null,sr*=2}while(Gn>1)}(Qt)}(M,le,Se,De);for(var Ke,ot,xt=M;M.prev!==M.next;)if(Ke=M.prev,ot=M.next,De?$h(M,le,Se,De):Kh(M))I.push(Ke.i/Z),I.push(M.i/Z),I.push(ot.i/Z),uu(M),M=ot.next,xt=ot.next;else if((M=ot)===xt){Ue?1===Ue?su(M=Qh(vl(M),I,Z),I,Z,le,Se,De,2):2===Ue&&ep(M,I,Z,le,Se,De):su(vl(M),I,Z,le,Se,De,1);break}}}function Kh(M){var I=M.prev,Z=M,le=M.next;if(ta(I,Z,le)>=0)return!1;for(var Se=M.next.next;Se!==M.prev;){if(Rl(I.x,I.y,Z.x,Z.y,le.x,le.y,Se.x,Se.y)&&ta(Se.prev,Se,Se.next)>=0)return!1;Se=Se.next}return!0}function $h(M,I,Z,le){var Se=M.prev,De=M,Ue=M.next;if(ta(Se,De,Ue)>=0)return!1;for(var xt=Se.x>De.x?Se.x>Ue.x?Se.x:Ue.x:De.x>Ue.x?De.x:Ue.x,_t=Se.y>De.y?Se.y>Ue.y?Se.y:Ue.y:De.y>Ue.y?De.y:Ue.y,Ot=Tc(Se.x<De.x?Se.x<Ue.x?Se.x:Ue.x:De.x<Ue.x?De.x:Ue.x,Se.y<De.y?Se.y<Ue.y?Se.y:Ue.y:De.y<Ue.y?De.y:Ue.y,I,Z,le),Bt=Tc(xt,_t,I,Z,le),Rt=M.prevZ,Qt=M.nextZ;Rt&&Rt.z>=Ot&&Qt&&Qt.z<=Bt;){if(Rt!==M.prev&&Rt!==M.next&&Rl(Se.x,Se.y,De.x,De.y,Ue.x,Ue.y,Rt.x,Rt.y)&&ta(Rt.prev,Rt,Rt.next)>=0||(Rt=Rt.prevZ,Qt!==M.prev&&Qt!==M.next&&Rl(Se.x,Se.y,De.x,De.y,Ue.x,Ue.y,Qt.x,Qt.y)&&ta(Qt.prev,Qt,Qt.next)>=0))return!1;Qt=Qt.nextZ}for(;Rt&&Rt.z>=Ot;){if(Rt!==M.prev&&Rt!==M.next&&Rl(Se.x,Se.y,De.x,De.y,Ue.x,Ue.y,Rt.x,Rt.y)&&ta(Rt.prev,Rt,Rt.next)>=0)return!1;Rt=Rt.prevZ}for(;Qt&&Qt.z<=Bt;){if(Qt!==M.prev&&Qt!==M.next&&Rl(Se.x,Se.y,De.x,De.y,Ue.x,Ue.y,Qt.x,Qt.y)&&ta(Qt.prev,Qt,Qt.next)>=0)return!1;Qt=Qt.nextZ}return!0}function Qh(M,I,Z){var le=M;do{var Se=le.prev,De=le.next.next;!ju(Se,De)&&hf(Se,le,le.next,De)&&lu(Se,De)&&lu(De,Se)&&(I.push(Se.i/Z),I.push(le.i/Z),I.push(De.i/Z),uu(le),uu(le.next),le=M=De),le=le.next}while(le!==M);return vl(le)}function ep(M,I,Z,le,Se,De){var Ue=M;do{for(var Ke=Ue.next.next;Ke!==Ue.prev;){if(Ue.i!==Ke.i&&ap(Ue,Ke)){var ot=pf(Ue,Ke);return Ue=vl(Ue,Ue.next),ot=vl(ot,ot.next),su(Ue,I,Z,le,Se,De),void su(ot,I,Z,le,Se,De)}Ke=Ke.next}Ue=Ue.next}while(Ue!==M)}function tp(M,I){return M.x-I.x}function np(M,I){if(I=function(le,Se){var De,Ue=Se,Ke=le.x,ot=le.y,xt=-1/0;do{if(ot<=Ue.y&&ot>=Ue.next.y&&Ue.next.y!==Ue.y){var _t=Ue.x+(ot-Ue.y)*(Ue.next.x-Ue.x)/(Ue.next.y-Ue.y);if(_t<=Ke&&_t>xt){if(xt=_t,_t===Ke){if(ot===Ue.y)return Ue;if(ot===Ue.next.y)return Ue.next}De=Ue.x<Ue.next.x?Ue:Ue.next}}Ue=Ue.next}while(Ue!==Se);if(!De)return null;if(Ke===xt)return De;var Ot,Bt=De,Rt=De.x,Qt=De.y,an=1/0;Ue=De;do{Ke>=Ue.x&&Ue.x>=Rt&&Ke!==Ue.x&&Rl(ot<Qt?Ke:xt,ot,Rt,Qt,ot<Qt?xt:Ke,ot,Ue.x,Ue.y)&&(Ot=Math.abs(ot-Ue.y)/(Ke-Ue.x),lu(Ue,le)&&(Ot<an||Ot===an&&(Ue.x>De.x||Ue.x===De.x&&rp(De,Ue)))&&(De=Ue,an=Ot)),Ue=Ue.next}while(Ue!==Bt);return De}(M,I)){var Z=pf(I,M);vl(I,I.next),vl(Z,Z.next)}}function rp(M,I){return ta(M.prev,M,I.prev)<0&&ta(I.next,M,M.next)<0}function Tc(M,I,Z,le,Se){return(M=1431655765&((M=858993459&((M=252645135&((M=16711935&((M=32767*(M-Z)*Se)|M<<8))|M<<4))|M<<2))|M<<1))|(I=1431655765&((I=858993459&((I=252645135&((I=16711935&((I=32767*(I-le)*Se)|I<<8))|I<<4))|I<<2))|I<<1))<<1}function ip(M){var I=M,Z=M;do{(I.x<Z.x||I.x===Z.x&&I.y<Z.y)&&(Z=I),I=I.next}while(I!==M);return Z}function Rl(M,I,Z,le,Se,De,Ue,Ke){return(Se-Ue)*(I-Ke)-(M-Ue)*(De-Ke)>=0&&(M-Ue)*(le-Ke)-(Z-Ue)*(I-Ke)>=0&&(Z-Ue)*(De-Ke)-(Se-Ue)*(le-Ke)>=0}function ap(M,I){return M.next.i!==I.i&&M.prev.i!==I.i&&!function(Z,le){var Se=Z;do{if(Se.i!==Z.i&&Se.next.i!==Z.i&&Se.i!==le.i&&Se.next.i!==le.i&&hf(Se,Se.next,Z,le))return!0;Se=Se.next}while(Se!==Z);return!1}(M,I)&&(lu(M,I)&&lu(I,M)&&function(Z,le){var Se=Z,De=!1,Ue=(Z.x+le.x)/2,Ke=(Z.y+le.y)/2;do{Se.y>Ke!=Se.next.y>Ke&&Se.next.y!==Se.y&&Ue<(Se.next.x-Se.x)*(Ke-Se.y)/(Se.next.y-Se.y)+Se.x&&(De=!De),Se=Se.next}while(Se!==Z);return De}(M,I)&&(ta(M.prev,M,I.prev)||ta(M,I.prev,I))||ju(M,I)&&ta(M.prev,M,M.next)>0&&ta(I.prev,I,I.next)>0)}function ta(M,I,Z){return(I.y-M.y)*(Z.x-I.x)-(I.x-M.x)*(Z.y-I.y)}function ju(M,I){return M.x===I.x&&M.y===I.y}function hf(M,I,Z,le){var Se=Vu(ta(M,I,Z)),De=Vu(ta(M,I,le)),Ue=Vu(ta(Z,le,M)),Ke=Vu(ta(Z,le,I));return Se!==De&&Ue!==Ke||!(0!==Se||!Uu(M,Z,I))||!(0!==De||!Uu(M,le,I))||!(0!==Ue||!Uu(Z,M,le))||!(0!==Ke||!Uu(Z,I,le))}function Uu(M,I,Z){return I.x<=Math.max(M.x,Z.x)&&I.x>=Math.min(M.x,Z.x)&&I.y<=Math.max(M.y,Z.y)&&I.y>=Math.min(M.y,Z.y)}function Vu(M){return M>0?1:M<0?-1:0}function lu(M,I){return ta(M.prev,M,M.next)<0?ta(M,I,M.next)>=0&&ta(M,M.prev,I)>=0:ta(M,I,M.prev)<0||ta(M,M.next,I)<0}function pf(M,I){var Z=new kc(M.i,M.x,M.y),le=new kc(I.i,I.x,I.y),Se=M.next,De=I.prev;return M.next=I,I.prev=M,Z.next=Se,Se.prev=Z,le.next=Z,Z.prev=le,De.next=le,le.prev=De,le}function df(M,I,Z,le){var Se=new kc(M,I,Z);return le?(Se.next=le.next,Se.prev=le,le.next.prev=Se,le.next=Se):(Se.prev=Se,Se.next=Se),Se}function uu(M){M.next.prev=M.prev,M.prev.next=M.next,M.prevZ&&(M.prevZ.nextZ=M.nextZ),M.nextZ&&(M.nextZ.prevZ=M.prevZ)}function kc(M,I,Z){this.i=M,this.x=I,this.y=Z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Mc(M,I,Z,le){for(var Se=0,De=I,Ue=Z-le;De<Z;De+=le)Se+=(M[Ue]-M[De])*(M[De+1]+M[Ue+1]),Ue=De;return Se}function op(M,I,Z,le,Se){gf(M,I,Z||0,le||M.length-1,Se||sp)}function gf(M,I,Z,le,Se){for(;le>Z;){if(le-Z>600){var De=le-Z+1,Ue=I-Z+1,Ke=Math.log(De),ot=.5*Math.exp(2*Ke/3),xt=.5*Math.sqrt(Ke*ot*(De-ot)/De)*(Ue-De/2<0?-1:1);gf(M,I,Math.max(Z,Math.floor(I-Ue*ot/De+xt)),Math.min(le,Math.floor(I+(De-Ue)*ot/De+xt)),Se)}var _t=M[I],Ot=Z,Bt=le;for(cu(M,Z,I),Se(M[le],_t)>0&&cu(M,Z,le);Ot<Bt;){for(cu(M,Ot,Bt),Ot++,Bt--;Se(M[Ot],_t)<0;)Ot++;for(;Se(M[Bt],_t)>0;)Bt--}0===Se(M[Z],_t)?cu(M,Z,Bt):cu(M,++Bt,le),Bt<=I&&(Z=Bt+1),I<=Bt&&(le=Bt-1)}}function cu(M,I,Z){var le=M[I];M[I]=M[Z],M[Z]=le}function sp(M,I){return M<I?-1:M>I?1:0}function Ac(M,I){var Z=M.length;if(Z<=1)return[M];for(var le,Se,De=[],Ue=0;Ue<Z;Ue++){var Ke=E(M[Ue]);0!==Ke&&(M[Ue].area=Math.abs(Ke),void 0===Se&&(Se=Ke<0),Se===Ke<0?(le&&De.push(le),le=[M[Ue]]):le.push(M[Ue]))}if(le&&De.push(le),I>1)for(var ot=0;ot<De.length;ot++)De[ot].length<=I||(op(De[ot],I,1,De[ot].length-1,lp),De[ot]=De[ot].slice(0,I));return De}function lp(M,I){return I.area-M.area}function Sc(M,I,Z){for(var le=Z.patternDependencies,Se=!1,De=0,Ue=I;De<Ue.length;De+=1){var Ke=Ue[De].paint.get(M+"-pattern");Ke.isConstant()||(Se=!0);var ot=Ke.constantOr(null);ot&&(Se=!0,le[ot.to]=!0,le[ot.from]=!0)}return Se}function Ec(M,I,Z,le,Se){for(var De=Se.patternDependencies,Ue=0,Ke=I;Ue<Ke.length;Ue+=1){var ot=Ke[Ue],xt=ot.paint.get(M+"-pattern").value;if("constant"!==xt.kind){var _t=xt.evaluate({zoom:le-1},Z,{},Se.availableImages),Ot=xt.evaluate({zoom:le},Z,{},Se.availableImages),Bt=xt.evaluate({zoom:le+1},Z,{},Se.availableImages);Ot=Ot&&Ot.name?Ot.name:Ot,Bt=Bt&&Bt.name?Bt.name:Bt,De[_t=_t&&_t.name?_t.name:_t]=!0,De[Ot]=!0,De[Bt]=!0,Z.patterns[ot.id]={min:_t,mid:Ot,max:Bt}}}return Z}Nu.deviation=function(M,I,Z,le){var Se=I&&I.length,Ue=Math.abs(Mc(M,0,Se?I[0]*Z:M.length,Z));if(Se)for(var Ke=0,ot=I.length;Ke<ot;Ke++)Ue-=Math.abs(Mc(M,I[Ke]*Z,Ke<ot-1?I[Ke+1]*Z:M.length,Z));var Ot=0;for(Ke=0;Ke<le.length;Ke+=3){var Bt=le[Ke]*Z,Rt=le[Ke+1]*Z,Qt=le[Ke+2]*Z;Ot+=Math.abs((M[Bt]-M[Qt])*(M[Rt+1]-M[Bt+1])-(M[Bt]-M[Rt])*(M[Qt+1]-M[Bt+1]))}return 0===Ue&&0===Ot?0:Math.abs((Ot-Ue)/Ue)},Nu.flatten=function(M){for(var I=M[0][0].length,Z={vertices:[],holes:[],dimensions:I},le=0,Se=0;Se<M.length;Se++){for(var De=0;De<M[Se].length;De++)for(var Ue=0;Ue<I;Ue++)Z.vertices.push(M[Se][De][Ue]);Se>0&&Z.holes.push(le+=M[Se-1].length)}return Z},wc.default=Jh;var As=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=M.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new va,this.indexArray=new Q,this.indexArray2=new Ve,this.programConfigurations=new pi(cf,M.layers,M.zoom),this.segments=new vn,this.segments2=new vn,this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id})};As.prototype.populate=function(M,I,Z){this.hasPattern=Sc("fill",this.layers,I);for(var le=this.layers[0].layout.get("fill-sort-key"),Se=[],De=0,Ue=M;De<Ue.length;De+=1){var Ke=Ue[De],ot=Ke.feature,xt=Ke.id,_t=Ke.index,Ot=Ke.sourceLayerIndex,Bt=this.layers[0]._featureFilter.needGeometry,Rt={type:ot.type,id:xt,properties:ot.properties,geometry:Bt?Oa(ot):[]};if(this.layers[0]._featureFilter.filter(new Kr(this.zoom),Rt,Z)){Bt||(Rt.geometry=Oa(ot));var Qt=le?le.evaluate(Rt,{},Z,I.availableImages):void 0;Se.push({id:xt,properties:ot.properties,type:ot.type,sourceLayerIndex:Ot,index:_t,geometry:Rt.geometry,patterns:{},sortKey:Qt})}}le&&Se.sort(function(gr,wr){return gr.sortKey-wr.sortKey});for(var Tn=0,wn=Se;Tn<wn.length;Tn+=1){var Pn=wn[Tn],Nn=Pn.geometry,Gn=Pn.index,Jn=Pn.sourceLayerIndex;if(this.hasPattern){var hr=Ec("fill",this.layers,Pn,this.zoom,I);this.patternFeatures.push(hr)}else this.addFeature(Pn,Nn,Gn,Z,{});I.featureIndex.insert(M[Gn].feature,Nn,Gn,Jn,this.index)}},As.prototype.update=function(M,I,Z){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,I,this.stateDependentLayers,Z)},As.prototype.addFeatures=function(M,I,Z){for(var le=0,Se=this.patternFeatures;le<Se.length;le+=1){var De=Se[le];this.addFeature(De,De.geometry,De.index,I,Z)}},As.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},As.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},As.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,cf),this.indexBuffer=M.createIndexBuffer(this.indexArray),this.indexBuffer2=M.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(M),this.uploaded=!0},As.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},As.prototype.addFeature=function(M,I,Z,le,Se){for(var De=0,Ue=Ac(I,500);De<Ue.length;De+=1){for(var Ke=Ue[De],ot=0,xt=0,_t=Ke;xt<_t.length;xt+=1)ot+=_t[xt].length;for(var Ot=this.segments.prepareSegment(ot,this.layoutVertexArray,this.indexArray),Bt=Ot.vertexLength,Rt=[],Qt=[],an=0,Tn=Ke;an<Tn.length;an+=1){var wn=Tn[an];if(0!==wn.length){wn!==Ke[0]&&Qt.push(Rt.length/2);var Pn=this.segments2.prepareSegment(wn.length,this.layoutVertexArray,this.indexArray2),On=Pn.vertexLength;this.layoutVertexArray.emplaceBack(wn[0].x,wn[0].y),this.indexArray2.emplaceBack(On+wn.length-1,On),Rt.push(wn[0].x),Rt.push(wn[0].y);for(var Nn=1;Nn<wn.length;Nn++)this.layoutVertexArray.emplaceBack(wn[Nn].x,wn[Nn].y),this.indexArray2.emplaceBack(On+Nn-1,On+Nn),Rt.push(wn[Nn].x),Rt.push(wn[Nn].y);Pn.vertexLength+=wn.length,Pn.primitiveLength+=wn.length}}for(var Gn=wc(Rt,Qt),Jn=0;Jn<Gn.length;Jn+=3)this.indexArray.emplaceBack(Bt+Gn[Jn],Bt+Gn[Jn+1],Bt+Gn[Jn+2]);Ot.vertexLength+=ot,Ot.primitiveLength+=Gn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,Z,Se,le)},br("FillBucket",As,{omit:["layers","patternFeatures"]});var up=new Ji({"fill-sort-key":new Sr(ze.layout_fill["fill-sort-key"])}),cp={paint:new Ji({"fill-antialias":new Mr(ze.paint_fill["fill-antialias"]),"fill-opacity":new Sr(ze.paint_fill["fill-opacity"]),"fill-color":new Sr(ze.paint_fill["fill-color"]),"fill-outline-color":new Sr(ze.paint_fill["fill-outline-color"]),"fill-translate":new Mr(ze.paint_fill["fill-translate"]),"fill-translate-anchor":new Mr(ze.paint_fill["fill-translate-anchor"]),"fill-pattern":new cs(ze.paint_fill["fill-pattern"])}),layout:up},fp=function(M){function I(Z){M.call(this,Z,cp)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.recalculate=function(Z,le){M.prototype.recalculate.call(this,Z,le);var Se=this.paint._values["fill-outline-color"];"constant"===Se.value.kind&&void 0===Se.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},I.prototype.createBucket=function(Z){return new As(Z)},I.prototype.queryRadius=function(){return Ru(this.paint.get("fill-translate"))},I.prototype.queryIntersectsFeature=function(Z,le,Se,De,Ue,Ke,ot){return Iu(zu(Z,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),Ke.angle,ot),De)},I.prototype.isTileClipped=function(){return!0},I}(Ki),vf=Fi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,mf=zl;function zl(M,I,Z,le,Se){this.properties={},this.extent=Z,this.type=0,this._pbf=M,this._geometry=-1,this._keys=le,this._values=Se,M.readFields(hp,this,I)}function hp(M,I,Z){1==M?I.id=Z.readVarint():2==M?function(le,Se){for(var De=le.readVarint()+le.pos;le.pos<De;){var Ue=Se._keys[le.readVarint()],Ke=Se._values[le.readVarint()];Se.properties[Ue]=Ke}}(Z,I):3==M?I.type=Z.readVarint():4==M&&(I._geometry=Z.pos)}function pp(M){for(var I,Z,le=0,Se=0,De=M.length,Ue=De-1;Se<De;Ue=Se++)le+=((Z=M[Ue]).x-(I=M[Se]).x)*(I.y+Z.y);return le}zl.types=["Unknown","Point","LineString","Polygon"],zl.prototype.loadGeometry=function(){var M=this._pbf;M.pos=this._geometry;for(var I,Z=M.readVarint()+M.pos,le=1,Se=0,De=0,Ue=0,Ke=[];M.pos<Z;){if(Se<=0){var ot=M.readVarint();le=7&ot,Se=ot>>3}if(Se--,1===le||2===le)De+=M.readSVarint(),Ue+=M.readSVarint(),1===le&&(I&&Ke.push(I),I=[]),I.push(new t(De,Ue));else{if(7!==le)throw new Error("unknown command "+le);I&&I.push(I[0].clone())}}return I&&Ke.push(I),Ke},zl.prototype.bbox=function(){var M=this._pbf;M.pos=this._geometry;for(var I=M.readVarint()+M.pos,Z=1,le=0,Se=0,De=0,Ue=1/0,Ke=-1/0,ot=1/0,xt=-1/0;M.pos<I;){if(le<=0){var _t=M.readVarint();Z=7&_t,le=_t>>3}if(le--,1===Z||2===Z)(Se+=M.readSVarint())<Ue&&(Ue=Se),Se>Ke&&(Ke=Se),(De+=M.readSVarint())<ot&&(ot=De),De>xt&&(xt=De);else if(7!==Z)throw new Error("unknown command "+Z)}return[Ue,ot,Ke,xt]},zl.prototype.toGeoJSON=function(M,I,Z){var le,Se,De=this.extent*Math.pow(2,Z),Ue=this.extent*M,Ke=this.extent*I,ot=this.loadGeometry(),xt=zl.types[this.type];function _t(Rt){for(var Qt=0;Qt<Rt.length;Qt++){var an=Rt[Qt];Rt[Qt]=[360*(an.x+Ue)/De-180,360/Math.PI*Math.atan(Math.exp((180-360*(an.y+Ke)/De)*Math.PI/180))-90]}}switch(this.type){case 1:var Ot=[];for(le=0;le<ot.length;le++)Ot[le]=ot[le][0];_t(ot=Ot);break;case 2:for(le=0;le<ot.length;le++)_t(ot[le]);break;case 3:for(ot=function(Rt){var Qt=Rt.length;if(Qt<=1)return[Rt];for(var an,Tn,wn=[],Pn=0;Pn<Qt;Pn++){var On=pp(Rt[Pn]);0!==On&&(void 0===Tn&&(Tn=On<0),Tn===On<0?(an&&wn.push(an),an=[Rt[Pn]]):an.push(Rt[Pn]))}return an&&wn.push(an),wn}(ot),le=0;le<ot.length;le++)for(Se=0;Se<ot[le].length;Se++)_t(ot[le][Se])}1===ot.length?ot=ot[0]:xt="Multi"+xt;var Bt={type:"Feature",geometry:{type:xt,coordinates:ot},properties:this.properties};return"id"in this&&(Bt.id=this.id),Bt};var yf=xf;function xf(M,I){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=M,this._keys=[],this._values=[],this._features=[],M.readFields(dp,this,I),this.length=this._features.length}function dp(M,I,Z){15===M?I.version=Z.readVarint():1===M?I.name=Z.readString():5===M?I.extent=Z.readVarint():2===M?I._features.push(Z.pos):3===M?I._keys.push(Z.readString()):4===M&&I._values.push(function(le){for(var Se=null,De=le.readVarint()+le.pos;le.pos<De;){var Ue=le.readVarint()>>3;Se=1===Ue?le.readString():2===Ue?le.readFloat():3===Ue?le.readDouble():4===Ue?le.readVarint64():5===Ue?le.readVarint():6===Ue?le.readSVarint():7===Ue?le.readBoolean():null}return Se}(Z))}function gp(M,I,Z){if(3===M){var le=new yf(Z,Z.readVarint()+Z.pos);le.length&&(I[le.name]=le)}}xf.prototype.feature=function(M){if(M<0||M>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[M];var I=this._pbf.readVarint()+this._pbf.pos;return new mf(this._pbf,I,this.extent,this._keys,this._values)};var Fl={VectorTile:function(M,I){this.layers=M.readFields(gp,{},I)},VectorTileFeature:mf,VectorTileLayer:yf},vp=Fl.VectorTileFeature.types,Lc=Math.pow(2,13);function fu(M,I,Z,le,Se,De,Ue,Ke){M.emplaceBack(I,Z,2*Math.floor(le*Lc)+Ue,Se*Lc*2,De*Lc*2,Math.round(Ke))}var Ss=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=M.index,this.hasPattern=!1,this.layoutVertexArray=new hs,this.indexArray=new Q,this.programConfigurations=new pi(vf,M.layers,M.zoom),this.segments=new vn,this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id})};function mp(M,I){return M.x===I.x&&(M.x<0||M.x>Jr)||M.y===I.y&&(M.y<0||M.y>Jr)}Ss.prototype.populate=function(M,I,Z){this.features=[],this.hasPattern=Sc("fill-extrusion",this.layers,I);for(var le=0,Se=M;le<Se.length;le+=1){var De=Se[le],Ue=De.feature,Ke=De.id,ot=De.index,xt=De.sourceLayerIndex,_t=this.layers[0]._featureFilter.needGeometry,Ot={type:Ue.type,id:Ke,properties:Ue.properties,geometry:_t?Oa(Ue):[]};if(this.layers[0]._featureFilter.filter(new Kr(this.zoom),Ot,Z)){var Bt={id:Ke,sourceLayerIndex:xt,index:ot,geometry:_t?Ot.geometry:Oa(Ue),properties:Ue.properties,type:Ue.type,patterns:{}};void 0!==Ue.id&&(Bt.id=Ue.id),this.hasPattern?this.features.push(Ec("fill-extrusion",this.layers,Bt,this.zoom,I)):this.addFeature(Bt,Bt.geometry,ot,Z,{}),I.featureIndex.insert(Ue,Bt.geometry,ot,xt,this.index,!0)}}},Ss.prototype.addFeatures=function(M,I,Z){for(var le=0,Se=this.features;le<Se.length;le+=1){var De=Se[le];this.addFeature(De,De.geometry,De.index,I,Z)}},Ss.prototype.update=function(M,I,Z){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,I,this.stateDependentLayers,Z)},Ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ss.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,vf),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},Ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ss.prototype.addFeature=function(M,I,Z,le,Se){for(var De=0,Ue=Ac(I,500);De<Ue.length;De+=1){for(var Ke=Ue[De],ot=0,xt=0,_t=Ke;xt<_t.length;xt+=1)ot+=_t[xt].length;for(var Ot=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Bt=0,Rt=Ke;Bt<Rt.length;Bt+=1){var Qt=Rt[Bt];if(0!==Qt.length&&!((Vr=Qt).every(function(Fr){return Fr.x<0})||Vr.every(function(Fr){return Fr.x>Jr})||Vr.every(function(Fr){return Fr.y<0})||Vr.every(function(Fr){return Fr.y>Jr})))for(var an=0,Tn=0;Tn<Qt.length;Tn++){var wn=Qt[Tn];if(Tn>=1){var Pn=Qt[Tn-1];if(!mp(wn,Pn)){Ot.vertexLength+4>vn.MAX_VERTEX_ARRAY_LENGTH&&(Ot=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var On=wn.sub(Pn)._perp()._unit(),Nn=Pn.dist(wn);an+Nn>32768&&(an=0),fu(this.layoutVertexArray,wn.x,wn.y,On.x,On.y,0,0,an),fu(this.layoutVertexArray,wn.x,wn.y,On.x,On.y,0,1,an),fu(this.layoutVertexArray,Pn.x,Pn.y,On.x,On.y,0,0,an+=Nn),fu(this.layoutVertexArray,Pn.x,Pn.y,On.x,On.y,0,1,an);var Gn=Ot.vertexLength;this.indexArray.emplaceBack(Gn,Gn+2,Gn+1),this.indexArray.emplaceBack(Gn+1,Gn+2,Gn+3),Ot.vertexLength+=4,Ot.primitiveLength+=2}}}}if(Ot.vertexLength+ot>vn.MAX_VERTEX_ARRAY_LENGTH&&(Ot=this.segments.prepareSegment(ot,this.layoutVertexArray,this.indexArray)),"Polygon"===vp[M.type]){for(var Jn=[],hr=[],sr=Ot.vertexLength,gr=0,wr=Ke;gr<wr.length;gr+=1){var zr=wr[gr];if(0!==zr.length){zr!==Ke[0]&&hr.push(Jn.length/2);for(var Ar=0;Ar<zr.length;Ar++){var Dr=zr[Ar];fu(this.layoutVertexArray,Dr.x,Dr.y,0,0,1,1,0),Jn.push(Dr.x),Jn.push(Dr.y)}}}for(var Cr=wc(Jn,hr),Tr=0;Tr<Cr.length;Tr+=3)this.indexArray.emplaceBack(sr+Cr[Tr],sr+Cr[Tr+2],sr+Cr[Tr+1]);Ot.primitiveLength+=Cr.length/3,Ot.vertexLength+=ot}}var Vr;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,Z,Se,le)},br("FillExtrusionBucket",Ss,{omit:["layers","features"]});var yp={paint:new Ji({"fill-extrusion-opacity":new Mr(ze["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Sr(ze["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Mr(ze["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Mr(ze["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new cs(ze["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Sr(ze["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Sr(ze["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Mr(ze["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},xp=function(M){function I(Z){M.call(this,Z,yp)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.createBucket=function(Z){return new Ss(Z)},I.prototype.queryRadius=function(){return Ru(this.paint.get("fill-extrusion-translate"))},I.prototype.is3D=function(){return!0},I.prototype.queryIntersectsFeature=function(Z,le,Se,De,Ue,Ke,ot,xt){var _t=zu(Z,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),Ke.angle,ot),Ot=this.paint.get("fill-extrusion-height").evaluate(le,Se),Bt=this.paint.get("fill-extrusion-base").evaluate(le,Se),Rt=function(an,Tn,wn,Pn){for(var On=[],Nn=0,Gn=an;Nn<Gn.length;Nn+=1){var Jn=Gn[Nn],hr=[Jn.x,Jn.y,0,1];Bu(hr,hr,Tn),On.push(new t(hr[0]/hr[3],hr[1]/hr[3]))}return On}(_t,xt),Qt=function(an,Tn,wn,Pn){for(var On=[],Nn=[],Gn=Pn[8]*Tn,Jn=Pn[9]*Tn,hr=Pn[10]*Tn,sr=Pn[11]*Tn,gr=Pn[8]*wn,wr=Pn[9]*wn,zr=Pn[10]*wn,Ar=Pn[11]*wn,Dr=0,Cr=an;Dr<Cr.length;Dr+=1){for(var Tr=[],Vr=[],Fr=0,di=Cr[Dr];Fr<di.length;Fr+=1){var Ir=di[Fr],oi=Ir.x,yi=Ir.y,bi=Pn[0]*oi+Pn[4]*yi+Pn[12],_i=Pn[1]*oi+Pn[5]*yi+Pn[13],gi=Pn[2]*oi+Pn[6]*yi+Pn[14],ia=Pn[3]*oi+Pn[7]*yi+Pn[15],Ei=gi+hr,fa=ia+sr,Aa=bi+gr,xa=_i+wr,Ha=gi+zr,ba=ia+Ar,sa=new t((bi+Gn)/fa,(_i+Jn)/fa);sa.z=Ei/fa,Tr.push(sa);var _a=new t(Aa/ba,xa/ba);_a.z=Ha/ba,Vr.push(_a)}On.push(Tr),Nn.push(Vr)}return[On,Nn]}(De,Bt,Ot,xt);return function(an,Tn,wn){var Pn=1/0;Iu(wn,Tn)&&(Pn=bf(wn,Tn[0]));for(var On=0;On<Tn.length;On++)for(var Nn=Tn[On],Gn=an[On],Jn=0;Jn<Nn.length-1;Jn++){var hr=Nn[Jn],wr=[hr,Nn[Jn+1],Gn[Jn+1],Gn[Jn],hr];Va(wn,wr)&&(Pn=Math.min(Pn,bf(wn,wr)))}return Pn!==1/0&&Pn}(Qt[0],Qt[1],Rt)},I}(Ki);function hu(M,I){return M.x*I.x+M.y*I.y}function bf(M,I){if(1===M.length){for(var Z,le=0,Se=I[le++];!Z||Se.equals(Z);)if(!(Z=I[le++]))return 1/0;for(;le<I.length;le++){var De=I[le],Ue=M[0],Ke=Z.sub(Se),ot=De.sub(Se),xt=Ue.sub(Se),_t=hu(Ke,Ke),Ot=hu(Ke,ot),Bt=hu(ot,ot),Rt=hu(xt,Ke),Qt=hu(xt,ot),an=_t*Bt-Ot*Ot,Tn=(Bt*Rt-Ot*Qt)/an,wn=(_t*Qt-Ot*Rt)/an,On=Se.z*(1-Tn-wn)+Z.z*Tn+De.z*wn;if(isFinite(On))return On}return 1/0}for(var Nn=1/0,Gn=0,Jn=I;Gn<Jn.length;Gn+=1)Nn=Math.min(Nn,Jn[Gn].z);return Nn}var _f=Fi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,bp=Fl.VectorTileFeature.types,_p=Math.cos(Math.PI/180*37.5),wf=Math.pow(2,14)/.5,to=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=M.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new es,this.indexArray=new Q,this.programConfigurations=new pi(_f,M.layers,M.zoom),this.segments=new vn,this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id})};to.prototype.populate=function(M,I,Z){this.hasPattern=Sc("line",this.layers,I);for(var le=this.layers[0].layout.get("line-sort-key"),Se=[],De=0,Ue=M;De<Ue.length;De+=1){var Ke=Ue[De],ot=Ke.feature,xt=Ke.id,_t=Ke.index,Ot=Ke.sourceLayerIndex,Bt=this.layers[0]._featureFilter.needGeometry,Rt={type:ot.type,id:xt,properties:ot.properties,geometry:Bt?Oa(ot):[]};if(this.layers[0]._featureFilter.filter(new Kr(this.zoom),Rt,Z)){Bt||(Rt.geometry=Oa(ot));var Qt=le?le.evaluate(Rt,{},Z):void 0;Se.push({id:xt,properties:ot.properties,type:ot.type,sourceLayerIndex:Ot,index:_t,geometry:Rt.geometry,patterns:{},sortKey:Qt})}}le&&Se.sort(function(gr,wr){return gr.sortKey-wr.sortKey});for(var Tn=0,wn=Se;Tn<wn.length;Tn+=1){var Pn=wn[Tn],Nn=Pn.geometry,Gn=Pn.index,Jn=Pn.sourceLayerIndex;if(this.hasPattern){var hr=Ec("line",this.layers,Pn,this.zoom,I);this.patternFeatures.push(hr)}else this.addFeature(Pn,Nn,Gn,Z,{});I.featureIndex.insert(M[Gn].feature,Nn,Gn,Jn,this.index)}},to.prototype.update=function(M,I,Z){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,I,this.stateDependentLayers,Z)},to.prototype.addFeatures=function(M,I,Z){for(var le=0,Se=this.patternFeatures;le<Se.length;le+=1){var De=Se[le];this.addFeature(De,De.geometry,De.index,I,Z)}},to.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},to.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},to.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,_f),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},to.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},to.prototype.addFeature=function(M,I,Z,le,Se){for(var De=this.layers[0].layout,Ue=De.get("line-join").evaluate(M,{}),Ke=De.get("line-cap"),ot=De.get("line-miter-limit"),xt=De.get("line-round-limit"),_t=0,Ot=I;_t<Ot.length;_t+=1)this.addLine(Ot[_t],M,Ue,Ke,ot,xt);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,Z,Se,le)},to.prototype.addLine=function(M,I,Z,le,Se,De){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,I.properties&&I.properties.hasOwnProperty("mapbox_clip_start")&&I.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+I.properties.mapbox_clip_start,this.clipEnd=+I.properties.mapbox_clip_end;for(var Ue=0;Ue<M.length-1;Ue++)this.totalDistance+=M[Ue].dist(M[Ue+1]);this.updateScaledDistance()}for(var Ke="Polygon"===bp[I.type],ot=M.length;ot>=2&&M[ot-1].equals(M[ot-2]);)ot--;for(var xt=0;xt<ot-1&&M[xt].equals(M[xt+1]);)xt++;if(!(ot<(Ke?3:2))){"bevel"===Z&&(Se=1.05);var _t,Ot=this.overscaling<=16?15*Jr/(512*this.overscaling):0,Bt=this.segments.prepareSegment(10*ot,this.layoutVertexArray,this.indexArray),Rt=void 0,Qt=void 0,an=void 0,Tn=void 0;this.e1=this.e2=-1,Ke&&(Tn=M[xt].sub(_t=M[ot-2])._unit()._perp());for(var wn=xt;wn<ot;wn++)if(!(Qt=wn===ot-1?Ke?M[xt+1]:void 0:M[wn+1])||!M[wn].equals(Qt)){Tn&&(an=Tn),_t&&(Rt=_t),_t=M[wn],Tn=Qt?Qt.sub(_t)._unit()._perp():an;var Pn=(an=an||Tn).add(Tn);0===Pn.x&&0===Pn.y||Pn._unit();var On=an.x*Tn.x+an.y*Tn.y,Nn=Pn.x*Tn.x+Pn.y*Tn.y,Gn=0!==Nn?1/Nn:1/0,Jn=2*Math.sqrt(2-2*Nn),hr=Nn<_p&&Rt&&Qt,sr=an.x*Tn.y-an.y*Tn.x>0;if(hr&&wn>xt){var gr=_t.dist(Rt);if(gr>2*Ot){var wr=_t.sub(_t.sub(Rt)._mult(Ot/gr)._round());this.updateDistance(Rt,wr),this.addCurrentVertex(wr,an,0,0,Bt),Rt=wr}}var zr=Rt&&Qt,Ar=zr?Z:Ke?"butt":le;if(zr&&"round"===Ar&&(Gn<De?Ar="miter":Gn<=2&&(Ar="fakeround")),"miter"===Ar&&Gn>Se&&(Ar="bevel"),"bevel"===Ar&&(Gn>2&&(Ar="flipbevel"),Gn<Se&&(Ar="miter")),Rt&&this.updateDistance(Rt,_t),"miter"===Ar)Pn._mult(Gn),this.addCurrentVertex(_t,Pn,0,0,Bt);else if("flipbevel"===Ar){if(Gn>100)Pn=Tn.mult(-1);else{var Dr=Gn*an.add(Tn).mag()/an.sub(Tn).mag();Pn._perp()._mult(Dr*(sr?-1:1))}this.addCurrentVertex(_t,Pn,0,0,Bt),this.addCurrentVertex(_t,Pn.mult(-1),0,0,Bt)}else if("bevel"===Ar||"fakeround"===Ar){var Cr=-Math.sqrt(Gn*Gn-1),Tr=sr?Cr:0,Vr=sr?0:Cr;if(Rt&&this.addCurrentVertex(_t,an,Tr,Vr,Bt),"fakeround"===Ar)for(var Fr=Math.round(180*Jn/Math.PI/20),di=1;di<Fr;di++){var Ir=di/Fr;if(.5!==Ir){var oi=Ir-.5;Ir+=Ir*oi*(Ir-1)*((1.0904+On*(On*(3.55645-1.43519*On)-3.2452))*oi*oi+(.848013+On*(.215638*On-1.06021)))}var yi=Tn.sub(an)._mult(Ir)._add(an)._unit()._mult(sr?-1:1);this.addHalfVertex(_t,yi.x,yi.y,!1,sr,0,Bt)}Qt&&this.addCurrentVertex(_t,Tn,-Tr,-Vr,Bt)}else if("butt"===Ar)this.addCurrentVertex(_t,Pn,0,0,Bt);else if("square"===Ar){var bi=Rt?1:-1;this.addCurrentVertex(_t,Pn,bi,bi,Bt)}else"round"===Ar&&(Rt&&(this.addCurrentVertex(_t,an,0,0,Bt),this.addCurrentVertex(_t,an,1,1,Bt,!0)),Qt&&(this.addCurrentVertex(_t,Tn,-1,-1,Bt,!0),this.addCurrentVertex(_t,Tn,0,0,Bt)));if(hr&&wn<ot-1){var _i=_t.dist(Qt);if(_i>2*Ot){var gi=_t.add(Qt.sub(_t)._mult(Ot/_i)._round());this.updateDistance(_t,gi),this.addCurrentVertex(gi,Tn,0,0,Bt),_t=gi}}}}},to.prototype.addCurrentVertex=function(M,I,Z,le,Se,De){void 0===De&&(De=!1);var ot=I.y*le-I.x,xt=-I.y-I.x*le;this.addHalfVertex(M,I.x+I.y*Z,I.y-I.x*Z,De,!1,Z,Se),this.addHalfVertex(M,ot,xt,De,!0,-le,Se),this.distance>wf/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(M,I,Z,le,Se,De))},to.prototype.addHalfVertex=function(M,I,Z,le,Se,De,Ue){var xt=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((M.x<<1)+(le?1:0),(M.y<<1)+(Se?1:0),Math.round(63*I)+128,Math.round(63*Z)+128,1+(0===De?0:De<0?-1:1)|(63&xt)<<2,xt>>6);var _t=Ue.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,_t),Ue.primitiveLength++),Se?this.e2=_t:this.e1=_t},to.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(wf-1):this.distance},to.prototype.updateDistance=function(M,I){this.distance+=M.dist(I),this.updateScaledDistance()},br("LineBucket",to,{omit:["layers","patternFeatures"]});var wp=new Ji({"line-cap":new Mr(ze.layout_line["line-cap"]),"line-join":new Sr(ze.layout_line["line-join"]),"line-miter-limit":new Mr(ze.layout_line["line-miter-limit"]),"line-round-limit":new Mr(ze.layout_line["line-round-limit"]),"line-sort-key":new Sr(ze.layout_line["line-sort-key"])}),Tf={paint:new Ji({"line-opacity":new Sr(ze.paint_line["line-opacity"]),"line-color":new Sr(ze.paint_line["line-color"]),"line-translate":new Mr(ze.paint_line["line-translate"]),"line-translate-anchor":new Mr(ze.paint_line["line-translate-anchor"]),"line-width":new Sr(ze.paint_line["line-width"]),"line-gap-width":new Sr(ze.paint_line["line-gap-width"]),"line-offset":new Sr(ze.paint_line["line-offset"]),"line-blur":new Sr(ze.paint_line["line-blur"]),"line-dasharray":new oa(ze.paint_line["line-dasharray"]),"line-pattern":new cs(ze.paint_line["line-pattern"]),"line-gradient":new Oo(ze.paint_line["line-gradient"])}),layout:wp},Tp=function(M){function I(){M.apply(this,arguments)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.possiblyEvaluate=function(Z,le){return le=new Kr(Math.floor(le.zoom),{now:le.now,fadeDuration:le.fadeDuration,zoomHistory:le.zoomHistory,transition:le.transition}),M.prototype.possiblyEvaluate.call(this,Z,le)},I.prototype.evaluate=function(Z,le,Se,De){return le=u({},le,{zoom:Math.floor(le.zoom)}),M.prototype.evaluate.call(this,Z,le,Se,De)},I}(Sr),kf=new Tp(Tf.paint.properties["line-width"].specification);kf.useIntegerZoom=!0;var kp=function(M){function I(Z){M.call(this,Z,Tf)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype._handleSpecialPaintPropertyUpdate=function(Z){"line-gradient"===Z&&this._updateGradient()},I.prototype._updateGradient=function(){this.gradient=uf(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},I.prototype.recalculate=function(Z,le){M.prototype.recalculate.call(this,Z,le),this.paint._values["line-floorwidth"]=kf.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,Z)},I.prototype.createBucket=function(Z){return new to(Z)},I.prototype.queryRadius=function(Z){var le=Z,Se=Mf(ou("line-width",this,le),ou("line-gap-width",this,le)),De=ou("line-offset",this,le);return Se/2+Math.abs(De)+Ru(this.paint.get("line-translate"))},I.prototype.queryIntersectsFeature=function(Z,le,Se,De,Ue,Ke,ot){var xt=zu(Z,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),Ke.angle,ot),_t=ot/2*Mf(this.paint.get("line-width").evaluate(le,Se),this.paint.get("line-gap-width").evaluate(le,Se)),Ot=this.paint.get("line-offset").evaluate(le,Se);return Ot&&(De=function(Bt,Rt){for(var Qt=[],an=new t(0,0),Tn=0;Tn<Bt.length;Tn++){for(var wn=Bt[Tn],Pn=[],On=0;On<wn.length;On++){var Gn=wn[On],Jn=wn[On+1],hr=0===On?an:Gn.sub(wn[On-1])._unit()._perp(),sr=On===wn.length-1?an:Jn.sub(Gn)._unit()._perp(),gr=hr._add(sr)._unit();gr._mult(1/(gr.x*sr.x+gr.y*sr.y)),Pn.push(gr._mult(Rt)._add(Gn))}Qt.push(Pn)}return Qt}(De,Ot*ot)),function(Bt,Rt,Qt){for(var an=0;an<Rt.length;an++){var Tn=Rt[an];if(Bt.length>=3)for(var wn=0;wn<Tn.length;wn++)if(dl(Bt,Tn[wn]))return!0;if(yc(Bt,Tn,Qt))return!0}return!1}(xt,De,_t)},I.prototype.isTileClipped=function(){return!0},I}(Ki);function Mf(M,I){return I>0?I+2*M:M}var Cc=Fi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Mp=Fi([{name:"a_projected_pos",components:3,type:"Float32"}],4),Ap=(Fi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Fi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Af=(Fi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Fi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Sp=Fi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Ep(M,I,Z){return M.sections.forEach(function(le){var Se,Ue,Ke;le.text=(Se=le.text,Ue=Z,"uppercase"===(Ke=I.layout.get("text-transform").evaluate(Ue,{}))?Se=Se.toLocaleUpperCase():"lowercase"===Ke&&(Se=Se.toLocaleLowerCase()),Ti.applyArabicShaping&&(Se=Ti.applyArabicShaping(Se)),Se)}),M}Fi([{name:"triangle",components:3,type:"Uint16"}]),Fi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Fi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Fi([{type:"Float32",name:"offsetX"}]),Fi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var pu={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},ya=24,Sf=function(M,I,Z,le,Se){var De,Ue,Ke=8*Se-le-1,ot=(1<<Ke)-1,xt=ot>>1,_t=-7,Ot=Z?Se-1:0,Bt=Z?-1:1,Rt=M[I+Ot];for(Ot+=Bt,De=Rt&(1<<-_t)-1,Rt>>=-_t,_t+=Ke;_t>0;De=256*De+M[I+Ot],Ot+=Bt,_t-=8);for(Ue=De&(1<<-_t)-1,De>>=-_t,_t+=le;_t>0;Ue=256*Ue+M[I+Ot],Ot+=Bt,_t-=8);if(0===De)De=1-xt;else{if(De===ot)return Ue?NaN:1/0*(Rt?-1:1);Ue+=Math.pow(2,le),De-=xt}return(Rt?-1:1)*Ue*Math.pow(2,De-le)},Ef=function(M,I,Z,le,Se,De){var Ue,Ke,ot,xt=8*De-Se-1,_t=(1<<xt)-1,Ot=_t>>1,Bt=23===Se?Math.pow(2,-24)-Math.pow(2,-77):0,Rt=le?0:De-1,Qt=le?1:-1,an=I<0||0===I&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(Ke=isNaN(I)?1:0,Ue=_t):(Ue=Math.floor(Math.log(I)/Math.LN2),I*(ot=Math.pow(2,-Ue))<1&&(Ue--,ot*=2),(I+=Ue+Ot>=1?Bt/ot:Bt*Math.pow(2,1-Ot))*ot>=2&&(Ue++,ot/=2),Ue+Ot>=_t?(Ke=0,Ue=_t):Ue+Ot>=1?(Ke=(I*ot-1)*Math.pow(2,Se),Ue+=Ot):(Ke=I*Math.pow(2,Ot-1)*Math.pow(2,Se),Ue=0));Se>=8;M[Z+Rt]=255&Ke,Rt+=Qt,Ke/=256,Se-=8);for(Ue=Ue<<Se|Ke,xt+=Se;xt>0;M[Z+Rt]=255&Ue,Rt+=Qt,Ue/=256,xt-=8);M[Z+Rt-Qt]|=128*an},Hu=mi;function mi(M){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(M)?M:new Uint8Array(M||0),this.pos=0,this.type=0,this.length=this.buf.length}mi.Varint=0,mi.Fixed64=1,mi.Bytes=2,mi.Fixed32=5;var Pc=4294967296,Lf=1/Pc,Cf=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Qs(M){return M.type===mi.Bytes?M.readVarint()+M.pos:M.pos+1}function Pf(M,I,Z){var le=I<=16383?1:I<=2097151?2:I<=268435455?3:Math.floor(Math.log(I)/(7*Math.LN2));Z.realloc(le);for(var Se=Z.pos-1;Se>=M;Se--)Z.buf[Se+le]=Z.buf[Se]}function Lp(M,I){for(var Z=0;Z<M.length;Z++)I.writeVarint(M[Z])}function Cp(M,I){for(var Z=0;Z<M.length;Z++)I.writeSVarint(M[Z])}function Pp(M,I){for(var Z=0;Z<M.length;Z++)I.writeFloat(M[Z])}function Op(M,I){for(var Z=0;Z<M.length;Z++)I.writeDouble(M[Z])}function Ip(M,I){for(var Z=0;Z<M.length;Z++)I.writeBoolean(M[Z])}function Dp(M,I){for(var Z=0;Z<M.length;Z++)I.writeFixed32(M[Z])}function Rp(M,I){for(var Z=0;Z<M.length;Z++)I.writeSFixed32(M[Z])}function zp(M,I){for(var Z=0;Z<M.length;Z++)I.writeFixed64(M[Z])}function Fp(M,I){for(var Z=0;Z<M.length;Z++)I.writeSFixed64(M[Z])}function Gu(M,I){return(M[I]|M[I+1]<<8|M[I+2]<<16)+16777216*M[I+3]}function Nl(M,I,Z){M[Z]=I,M[Z+1]=I>>>8,M[Z+2]=I>>>16,M[Z+3]=I>>>24}function Of(M,I){return(M[I]|M[I+1]<<8|M[I+2]<<16)+(M[I+3]<<24)}mi.prototype={destroy:function(){this.buf=null},readFields:function(M,I,Z){for(Z=Z||this.length;this.pos<Z;){var le=this.readVarint(),Se=le>>3,De=this.pos;this.type=7&le,M(Se,I,this),this.pos===De&&this.skip(le)}return I},readMessage:function(M,I){return this.readFields(M,I,this.readVarint()+this.pos)},readFixed32:function(){var M=Gu(this.buf,this.pos);return this.pos+=4,M},readSFixed32:function(){var M=Of(this.buf,this.pos);return this.pos+=4,M},readFixed64:function(){var M=Gu(this.buf,this.pos)+Gu(this.buf,this.pos+4)*Pc;return this.pos+=8,M},readSFixed64:function(){var M=Gu(this.buf,this.pos)+Of(this.buf,this.pos+4)*Pc;return this.pos+=8,M},readFloat:function(){var M=Sf(this.buf,this.pos,!0,23,4);return this.pos+=4,M},readDouble:function(){var M=Sf(this.buf,this.pos,!0,52,8);return this.pos+=8,M},readVarint:function(M){var I,Z,le=this.buf;return I=127&(Z=le[this.pos++]),Z<128?I:(I|=(127&(Z=le[this.pos++]))<<7,Z<128?I:(I|=(127&(Z=le[this.pos++]))<<14,Z<128?I:(I|=(127&(Z=le[this.pos++]))<<21,Z<128?I:function(Se,De,Ue){var Ke,ot,xt=Ue.buf;if(Ke=(112&(ot=xt[Ue.pos++]))>>4,ot<128||(Ke|=(127&(ot=xt[Ue.pos++]))<<3,ot<128)||(Ke|=(127&(ot=xt[Ue.pos++]))<<10,ot<128)||(Ke|=(127&(ot=xt[Ue.pos++]))<<17,ot<128)||(Ke|=(127&(ot=xt[Ue.pos++]))<<24,ot<128)||(Ke|=(1&(ot=xt[Ue.pos++]))<<31,ot<128))return function Bl(M,I,Z){return Z?4294967296*I+(M>>>0):4294967296*(I>>>0)+(M>>>0)}(Se,Ke,De);throw new Error("Expected varint not more than 10 bytes")}(I|=(15&(Z=le[this.pos]))<<28,M,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var M=this.readVarint();return M%2==1?(M+1)/-2:M/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var M=this.readVarint()+this.pos,I=this.pos;return this.pos=M,M-I>=12&&Cf?Cf.decode(this.buf.subarray(I,M)):function(Z,le,Se){for(var De="",Ue=le;Ue<Se;){var Ke,ot,xt,_t=Z[Ue],Ot=null,Bt=_t>239?4:_t>223?3:_t>191?2:1;if(Ue+Bt>Se)break;1===Bt?_t<128&&(Ot=_t):2===Bt?128==(192&(Ke=Z[Ue+1]))&&(Ot=(31&_t)<<6|63&Ke)<=127&&(Ot=null):3===Bt?(ot=Z[Ue+2],128==(192&(Ke=Z[Ue+1]))&&128==(192&ot)&&((Ot=(15&_t)<<12|(63&Ke)<<6|63&ot)<=2047||Ot>=55296&&Ot<=57343)&&(Ot=null)):4===Bt&&(ot=Z[Ue+2],xt=Z[Ue+3],128==(192&(Ke=Z[Ue+1]))&&128==(192&ot)&&128==(192&xt)&&((Ot=(15&_t)<<18|(63&Ke)<<12|(63&ot)<<6|63&xt)<=65535||Ot>=1114112)&&(Ot=null)),null===Ot?(Ot=65533,Bt=1):Ot>65535&&(Ot-=65536,De+=String.fromCharCode(Ot>>>10&1023|55296),Ot=56320|1023&Ot),De+=String.fromCharCode(Ot),Ue+=Bt}return De}(this.buf,I,M)},readBytes:function(){var M=this.readVarint()+this.pos,I=this.buf.subarray(this.pos,M);return this.pos=M,I},readPackedVarint:function(M,I){if(this.type!==mi.Bytes)return M.push(this.readVarint(I));var Z=Qs(this);for(M=M||[];this.pos<Z;)M.push(this.readVarint(I));return M},readPackedSVarint:function(M){if(this.type!==mi.Bytes)return M.push(this.readSVarint());var I=Qs(this);for(M=M||[];this.pos<I;)M.push(this.readSVarint());return M},readPackedBoolean:function(M){if(this.type!==mi.Bytes)return M.push(this.readBoolean());var I=Qs(this);for(M=M||[];this.pos<I;)M.push(this.readBoolean());return M},readPackedFloat:function(M){if(this.type!==mi.Bytes)return M.push(this.readFloat());var I=Qs(this);for(M=M||[];this.pos<I;)M.push(this.readFloat());return M},readPackedDouble:function(M){if(this.type!==mi.Bytes)return M.push(this.readDouble());var I=Qs(this);for(M=M||[];this.pos<I;)M.push(this.readDouble());return M},readPackedFixed32:function(M){if(this.type!==mi.Bytes)return M.push(this.readFixed32());var I=Qs(this);for(M=M||[];this.pos<I;)M.push(this.readFixed32());return M},readPackedSFixed32:function(M){if(this.type!==mi.Bytes)return M.push(this.readSFixed32());var I=Qs(this);for(M=M||[];this.pos<I;)M.push(this.readSFixed32());return M},readPackedFixed64:function(M){if(this.type!==mi.Bytes)return M.push(this.readFixed64());var I=Qs(this);for(M=M||[];this.pos<I;)M.push(this.readFixed64());return M},readPackedSFixed64:function(M){if(this.type!==mi.Bytes)return M.push(this.readSFixed64());var I=Qs(this);for(M=M||[];this.pos<I;)M.push(this.readSFixed64());return M},skip:function(M){var I=7&M;if(I===mi.Varint)for(;this.buf[this.pos++]>127;);else if(I===mi.Bytes)this.pos=this.readVarint()+this.pos;else if(I===mi.Fixed32)this.pos+=4;else{if(I!==mi.Fixed64)throw new Error("Unimplemented type: "+I);this.pos+=8}},writeTag:function(M,I){this.writeVarint(M<<3|I)},realloc:function(M){for(var I=this.length||16;I<this.pos+M;)I*=2;if(I!==this.length){var Z=new Uint8Array(I);Z.set(this.buf),this.buf=Z,this.length=I}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(M){this.realloc(4),Nl(this.buf,M,this.pos),this.pos+=4},writeSFixed32:function(M){this.realloc(4),Nl(this.buf,M,this.pos),this.pos+=4},writeFixed64:function(M){this.realloc(8),Nl(this.buf,-1&M,this.pos),Nl(this.buf,Math.floor(M*Lf),this.pos+4),this.pos+=8},writeSFixed64:function(M){this.realloc(8),Nl(this.buf,-1&M,this.pos),Nl(this.buf,Math.floor(M*Lf),this.pos+4),this.pos+=8},writeVarint:function(M){(M=+M||0)>268435455||M<0?function(I,Z){var le,Se,De,Ke;if(I>=0?(le=I%4294967296|0,Se=I/4294967296|0):(Se=~(-I/4294967296),4294967295^(le=~(-I%4294967296))?le=le+1|0:(le=0,Se=Se+1|0)),I>=0x10000000000000000||I<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");Z.realloc(10),De=le,(Ke=Z).buf[Ke.pos++]=127&De|128,De>>>=7,Ke.buf[Ke.pos++]=127&De|128,De>>>=7,Ke.buf[Ke.pos++]=127&De|128,De>>>=7,Ke.buf[Ke.pos++]=127&De|128,Ke.buf[Ke.pos]=127&(De>>>=7),function(De,Ue){var Ke=(7&De)<<4;Ue.buf[Ue.pos++]|=Ke|((De>>>=3)?128:0),De&&(Ue.buf[Ue.pos++]=127&De|((De>>>=7)?128:0),De&&(Ue.buf[Ue.pos++]=127&De|((De>>>=7)?128:0),De&&(Ue.buf[Ue.pos++]=127&De|((De>>>=7)?128:0),De&&(Ue.buf[Ue.pos++]=127&De|((De>>>=7)?128:0),De&&(Ue.buf[Ue.pos++]=127&De)))))}(Se,Z)}(M,this):(this.realloc(4),this.buf[this.pos++]=127&M|(M>127?128:0),M<=127||(this.buf[this.pos++]=127&(M>>>=7)|(M>127?128:0),M<=127||(this.buf[this.pos++]=127&(M>>>=7)|(M>127?128:0),M<=127||(this.buf[this.pos++]=M>>>7&127))))},writeSVarint:function(M){this.writeVarint(M<0?2*-M-1:2*M)},writeBoolean:function(M){this.writeVarint(!!M)},writeString:function(M){M=String(M),this.realloc(4*M.length),this.pos++;var I=this.pos;this.pos=function(le,Se,De){for(var Ue,Ke,ot=0;ot<Se.length;ot++){if((Ue=Se.charCodeAt(ot))>55295&&Ue<57344){if(!Ke){Ue>56319||ot+1===Se.length?(le[De++]=239,le[De++]=191,le[De++]=189):Ke=Ue;continue}if(Ue<56320){le[De++]=239,le[De++]=191,le[De++]=189,Ke=Ue;continue}Ue=Ke-55296<<10|Ue-56320|65536,Ke=null}else Ke&&(le[De++]=239,le[De++]=191,le[De++]=189,Ke=null);Ue<128?le[De++]=Ue:(Ue<2048?le[De++]=Ue>>6|192:(Ue<65536?le[De++]=Ue>>12|224:(le[De++]=Ue>>18|240,le[De++]=Ue>>12&63|128),le[De++]=Ue>>6&63|128),le[De++]=63&Ue|128)}return De}(this.buf,M,this.pos);var Z=this.pos-I;Z>=128&&Pf(I,Z,this),this.pos=I-1,this.writeVarint(Z),this.pos+=Z},writeFloat:function(M){this.realloc(4),Ef(this.buf,M,this.pos,!0,23,4),this.pos+=4},writeDouble:function(M){this.realloc(8),Ef(this.buf,M,this.pos,!0,52,8),this.pos+=8},writeBytes:function(M){var I=M.length;this.writeVarint(I),this.realloc(I);for(var Z=0;Z<I;Z++)this.buf[this.pos++]=M[Z]},writeRawMessage:function(M,I){this.pos++;var Z=this.pos;M(I,this);var le=this.pos-Z;le>=128&&Pf(Z,le,this),this.pos=Z-1,this.writeVarint(le),this.pos+=le},writeMessage:function(M,I,Z){this.writeTag(M,mi.Bytes),this.writeRawMessage(I,Z)},writePackedVarint:function(M,I){I.length&&this.writeMessage(M,Lp,I)},writePackedSVarint:function(M,I){I.length&&this.writeMessage(M,Cp,I)},writePackedBoolean:function(M,I){I.length&&this.writeMessage(M,Ip,I)},writePackedFloat:function(M,I){I.length&&this.writeMessage(M,Pp,I)},writePackedDouble:function(M,I){I.length&&this.writeMessage(M,Op,I)},writePackedFixed32:function(M,I){I.length&&this.writeMessage(M,Dp,I)},writePackedSFixed32:function(M,I){I.length&&this.writeMessage(M,Rp,I)},writePackedFixed64:function(M,I){I.length&&this.writeMessage(M,zp,I)},writePackedSFixed64:function(M,I){I.length&&this.writeMessage(M,Fp,I)},writeBytesField:function(M,I){this.writeTag(M,mi.Bytes),this.writeBytes(I)},writeFixed32Field:function(M,I){this.writeTag(M,mi.Fixed32),this.writeFixed32(I)},writeSFixed32Field:function(M,I){this.writeTag(M,mi.Fixed32),this.writeSFixed32(I)},writeFixed64Field:function(M,I){this.writeTag(M,mi.Fixed64),this.writeFixed64(I)},writeSFixed64Field:function(M,I){this.writeTag(M,mi.Fixed64),this.writeSFixed64(I)},writeVarintField:function(M,I){this.writeTag(M,mi.Varint),this.writeVarint(I)},writeSVarintField:function(M,I){this.writeTag(M,mi.Varint),this.writeSVarint(I)},writeStringField:function(M,I){this.writeTag(M,mi.Bytes),this.writeString(I)},writeFloatField:function(M,I){this.writeTag(M,mi.Fixed32),this.writeFloat(I)},writeDoubleField:function(M,I){this.writeTag(M,mi.Fixed64),this.writeDouble(I)},writeBooleanField:function(M,I){this.writeVarintField(M,!!I)}};var Oc=3;function Bp(M,I,Z){1===M&&Z.readMessage(Np,I)}function Np(M,I,Z){if(3===M){var le=Z.readMessage(jp,{}),Ue=le.width,Ke=le.height,ot=le.left,xt=le.top,_t=le.advance;I.push({id:le.id,bitmap:new wl({width:Ue+2*Oc,height:Ke+2*Oc},le.bitmap),metrics:{width:Ue,height:Ke,left:ot,top:xt,advance:_t}})}}function jp(M,I,Z){1===M?I.id=Z.readVarint():2===M?I.bitmap=Z.readBytes():3===M?I.width=Z.readVarint():4===M?I.height=Z.readVarint():5===M?I.left=Z.readSVarint():6===M?I.top=Z.readSVarint():7===M&&(I.advance=Z.readVarint())}var If=Oc;function Df(M){for(var I=0,Z=0,le=0,Se=M;le<Se.length;le+=1){var De=Se[le];I+=De.w*De.h,Z=Math.max(Z,De.w)}M.sort(function(an,Tn){return Tn.h-an.h});for(var Ue=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(I/.95)),Z),h:1/0}],Ke=0,ot=0,xt=0,_t=M;xt<_t.length;xt+=1)for(var Ot=_t[xt],Bt=Ue.length-1;Bt>=0;Bt--){var Rt=Ue[Bt];if(!(Ot.w>Rt.w||Ot.h>Rt.h)){if(Ot.x=Rt.x,Ot.y=Rt.y,ot=Math.max(ot,Ot.y+Ot.h),Ke=Math.max(Ke,Ot.x+Ot.w),Ot.w===Rt.w&&Ot.h===Rt.h){var Qt=Ue.pop();Bt<Ue.length&&(Ue[Bt]=Qt)}else Ot.h===Rt.h?(Rt.x+=Ot.w,Rt.w-=Ot.w):Ot.w===Rt.w?(Rt.y+=Ot.h,Rt.h-=Ot.h):(Ue.push({x:Rt.x+Ot.w,y:Rt.y,w:Rt.w-Ot.w,h:Ot.h}),Rt.y+=Ot.h,Rt.h-=Ot.h);break}}return{w:Ke,h:ot,fill:I/(Ke*ot)||0}}var qu=function(M,I){var Z=I.pixelRatio,le=I.version,Se=I.stretchX,De=I.stretchY,Ue=I.content;this.paddedRect=M,this.pixelRatio=Z,this.stretchX=Se,this.stretchY=De,this.content=Ue,this.version=le},du={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};du.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},du.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},du.tlbr.get=function(){return this.tl.concat(this.br)},du.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(qu.prototype,du);var gu=function(M,I){var Z={},le={};this.haveRenderCallbacks=[];var Se=[];this.addImages(M,Z,Se),this.addImages(I,le,Se);var De=Df(Se),ot=new eo({width:De.w||1,height:De.h||1});for(var xt in M){var _t=M[xt],Ot=Z[xt].paddedRect;eo.copy(_t.data,ot,{x:0,y:0},{x:Ot.x+1,y:Ot.y+1},_t.data)}for(var Bt in I){var Rt=I[Bt],Qt=le[Bt].paddedRect,an=Qt.x+1,Tn=Qt.y+1,wn=Rt.data.width,Pn=Rt.data.height;eo.copy(Rt.data,ot,{x:0,y:0},{x:an,y:Tn},Rt.data),eo.copy(Rt.data,ot,{x:0,y:Pn-1},{x:an,y:Tn-1},{width:wn,height:1}),eo.copy(Rt.data,ot,{x:0,y:0},{x:an,y:Tn+Pn},{width:wn,height:1}),eo.copy(Rt.data,ot,{x:wn-1,y:0},{x:an-1,y:Tn},{width:1,height:Pn}),eo.copy(Rt.data,ot,{x:0,y:0},{x:an+wn,y:Tn},{width:1,height:Pn})}this.image=ot,this.iconPositions=Z,this.patternPositions=le};gu.prototype.addImages=function(M,I,Z){for(var le in M){var Se=M[le],De={x:0,y:0,w:Se.data.width+2,h:Se.data.height+2};Z.push(De),I[le]=new qu(De,Se),Se.hasRenderCallback&&this.haveRenderCallbacks.push(le)}},gu.prototype.patchUpdatedImages=function(M,I){for(var Z in M.dispatchRenderCallbacks(this.haveRenderCallbacks),M.updatedImages)this.patchUpdatedImage(this.iconPositions[Z],M.getImage(Z),I),this.patchUpdatedImage(this.patternPositions[Z],M.getImage(Z),I)},gu.prototype.patchUpdatedImage=function(M,I,Z){if(M&&I&&M.version!==I.version){M.version=I.version;var le=M.tl;Z.update(I.data,void 0,{x:le[0],y:le[1]})}},br("ImagePosition",qu),br("ImageAtlas",gu);var zo={horizontal:1,vertical:2,horizontalOnly:3},jl=function(){this.scale=1,this.fontStack="",this.imageName=null};jl.forText=function(M,I){var Z=new jl;return Z.scale=M||1,Z.fontStack=I,Z},jl.forImage=function(M){var I=new jl;return I.imageName=M,I};var Ia=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Zu(M,I,Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt,Rt,Qt,an){var Tn,wn=Ia.fromFeature(M,Se);Ot===zo.vertical&&wn.verticalizePunctuation();var Pn=Ti.processBidirectionalText,On=Ti.processStyledBidirectionalText;if(Pn&&1===wn.sections.length){Tn=[];for(var Nn=0,Gn=Pn(wn.toString(),Ic(wn,xt,De,I,le,Rt,Qt));Nn<Gn.length;Nn+=1){var Jn=Gn[Nn],hr=new Ia;hr.text=Jn,hr.sections=wn.sections;for(var sr=0;sr<Jn.length;sr++)hr.sectionIndex.push(0);Tn.push(hr)}}else if(On){Tn=[];for(var gr=0,wr=On(wn.text,wn.sectionIndex,Ic(wn,xt,De,I,le,Rt,Qt));gr<wr.length;gr+=1){var zr=wr[gr],Ar=new Ia;Ar.text=zr[0],Ar.sectionIndex=zr[1],Ar.sections=wn.sections,Tn.push(Ar)}}else Tn=function(Tr,Vr){for(var Fr=[],di=Tr.text,Ir=0,oi=0,yi=Vr;oi<yi.length;oi+=1){var bi=yi[oi];Fr.push(Tr.substring(Ir,bi)),Ir=bi}return Ir<di.length&&Fr.push(Tr.substring(Ir,di.length)),Fr}(wn,Ic(wn,xt,De,I,le,Rt,Qt));var Dr=[],Cr={positionedLines:Dr,text:wn.toString(),top:_t[1],bottom:_t[1],left:_t[0],right:_t[0],writingMode:Ot,iconsInText:!1,verticalizable:!1};return function(Tr,Vr,Fr,di,Ir,oi,yi,bi,_i,gi,ia,Ei){for(var fa=0,Aa=-17,xa=0,Ha=0,ba="right"===bi?1:"left"===bi?0:.5,sa=0,_a=0,ha=Ir;_a<ha.length;_a+=1){var la=ha[_a];la.trim();var Br=la.getMaxScale(),Zr=(Br-1)*ya,Ni={positionedGlyphs:[],lineOffset:0};Tr.positionedLines[sa]=Ni;var fi=Ni.positionedGlyphs,Oi=0;if(la.length()){for(var Ai=0;Ai<la.length();Ai++){var $r=la.getSection(Ai),ji=la.getSectionIndex(Ai),Ga=la.getCharCode(Ai),yo=0,Da=null,Ls=null,nl=null,pa=ya,Cs=!(_i===zo.horizontal||!ia&&!ls(Ga)||ia&&(Yu[Ga]||ea(Ga)));if($r.imageName){var ps=di[$r.imageName];if(!ps)continue;nl=$r.imageName,Tr.iconsInText=Tr.iconsInText||!0,Ls=ps.paddedRect;var ds=ps.displaySize;$r.scale=$r.scale*ya/Ei,yo=Zr+(ya-ds[1]*$r.scale),pa=(Da={width:ds[0],height:ds[1],left:1,top:-If,advance:Cs?ds[1]:ds[0]}).advance;var Al=Cs?ds[0]*$r.scale-ya*Br:ds[1]*$r.scale-ya*Br;Al>0&&Al>Oi&&(Oi=Al)}else{var nc=Fr[$r.fontStack],Sl=nc&&nc[Ga];if(Sl&&Sl.rect)Ls=Sl.rect,Da=Sl.metrics;else{var rc=Vr[$r.fontStack],bu=rc&&rc[Ga];if(!bu)continue;Da=bu.metrics}yo=(Br-$r.scale)*ya}Cs?(Tr.verticalizable=!0,fi.push({glyph:Ga,imageName:nl,x:fa,y:Aa+yo,vertical:Cs,scale:$r.scale,fontStack:$r.fontStack,sectionIndex:ji,metrics:Da,rect:Ls}),fa+=pa*$r.scale+gi):(fi.push({glyph:Ga,imageName:nl,x:fa,y:Aa+yo,vertical:Cs,scale:$r.scale,fontStack:$r.fontStack,sectionIndex:ji,metrics:Da,rect:Ls}),fa+=Da.advance*$r.scale+gi)}0!==fi.length&&(xa=Math.max(fa-gi,xa),Vp(fi,0,fi.length-1,ba,Oi)),fa=0;var ic=oi*Br+Oi;Ni.lineOffset=Math.max(Oi,Zr),Aa+=ic,Ha=Math.max(ic,Ha),++sa}else Aa+=oi,++sa}var Jl=Aa- -17,ac=Dc(yi),oc=ac.horizontalAlign,_u=ac.verticalAlign;(function(Gc,wu,El,Kl,sc,lc,$l,uc,cc){var ku,Tu=(wu-El)*sc;ku=lc!==$l?-uc*Kl- -17:(-Kl*cc+.5)*$l;for(var Ll=0,Mu=Gc;Ll<Mu.length;Ll+=1)for(var Cl=0,Au=Mu[Ll].positionedGlyphs;Cl<Au.length;Cl+=1){var Su=Au[Cl];Su.x+=Tu,Su.y+=ku}})(Tr.positionedLines,ba,oc,_u,xa,Ha,oi,Jl,Ir.length),Tr.top+=-_u*Jl,Tr.bottom=Tr.top+Jl,Tr.left+=-oc*xa,Tr.right=Tr.left+xa}(Cr,I,Z,le,Tn,Ue,Ke,ot,Ot,xt,Bt,an),!function(Tr){for(var Vr=0,Fr=Tr;Vr<Fr.length;Vr+=1)if(0!==Fr[Vr].positionedGlyphs.length)return!1;return!0}(Dr)&&Cr}Ia.fromFeature=function(M,I){for(var Z=new Ia,le=0;le<M.sections.length;le++){var Se=M.sections[le];Se.image?Z.addImageSection(Se):Z.addTextSection(Se,I)}return Z},Ia.prototype.length=function(){return this.text.length},Ia.prototype.getSection=function(M){return this.sections[this.sectionIndex[M]]},Ia.prototype.getSectionIndex=function(M){return this.sectionIndex[M]},Ia.prototype.getCharCode=function(M){return this.text.charCodeAt(M)},Ia.prototype.verticalizePunctuation=function(){this.text=function(M){for(var I="",Z=0;Z<M.length;Z++){var le=M.charCodeAt(Z+1)||null,Se=M.charCodeAt(Z-1)||null;le&&ks(le)&&!pu[M[Z+1]]||Se&&ks(Se)&&!pu[M[Z-1]]||!pu[M[Z]]?I+=M[Z]:I+=pu[M[Z]]}return I}(this.text)},Ia.prototype.trim=function(){for(var M=0,I=0;I<this.text.length&&Yu[this.text.charCodeAt(I)];I++)M++;for(var Z=this.text.length,le=this.text.length-1;le>=0&&le>=M&&Yu[this.text.charCodeAt(le)];le--)Z--;this.text=this.text.substring(M,Z),this.sectionIndex=this.sectionIndex.slice(M,Z)},Ia.prototype.substring=function(M,I){var Z=new Ia;return Z.text=this.text.substring(M,I),Z.sectionIndex=this.sectionIndex.slice(M,I),Z.sections=this.sections,Z},Ia.prototype.toString=function(){return this.text},Ia.prototype.getMaxScale=function(){var M=this;return this.sectionIndex.reduce(function(I,Z){return Math.max(I,M.sections[Z].scale)},0)},Ia.prototype.addTextSection=function(M,I){this.text+=M.text,this.sections.push(jl.forText(M.scale,M.fontStack||I));for(var Z=this.sections.length-1,le=0;le<M.text.length;++le)this.sectionIndex.push(Z)},Ia.prototype.addImageSection=function(M){var I=M.image?M.image.name:"";if(0!==I.length){var Z=this.getNextImageSectionCharCode();Z?(this.text+=String.fromCharCode(Z),this.sections.push(jl.forImage(I)),this.sectionIndex.push(this.sections.length-1)):S("Reached maximum number of images 6401")}else S("Can't add FormattedSection with an empty image.")},Ia.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Yu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},mo={};function Rf(M,I,Z,le,Se,De){if(I.imageName){var Ue=le[I.imageName];return Ue?Ue.displaySize[0]*I.scale*ya/De+Se:0}var Ke=Z[I.fontStack],ot=Ke&&Ke[M];return ot?ot.metrics.advance*I.scale+Se:0}function zf(M,I,Z,le){var Se=Math.pow(M-I,2);return le?M<I?Se/2:2*Se:Se+Math.abs(Z)*Z}function Up(M,I,Z){var le=0;return 10===M&&(le-=1e4),Z&&(le+=150),40!==M&&65288!==M||(le+=50),41!==I&&65289!==I||(le+=50),le}function Ff(M,I,Z,le,Se,De){for(var Ue=null,Ke=zf(I,Z,Se,De),ot=0,xt=le;ot<xt.length;ot+=1){var _t=xt[ot],Ot=zf(I-_t.x,Z,Se,De)+_t.badness;Ot<=Ke&&(Ue=_t,Ke=Ot)}return{index:M,x:I,priorBreak:Ue,badness:Ke}}function Bf(M){return M?Bf(M.priorBreak).concat(M.index):[]}function Ic(M,I,Z,le,Se,De,Ue){if("point"!==De)return[];if(!M)return[];for(var Ke=[],ot=function(Tn,wn,Pn,On,Nn,Gn){for(var Jn=0,hr=0;hr<Tn.length();hr++){var sr=Tn.getSection(hr);Jn+=Rf(Tn.getCharCode(hr),sr,On,Nn,wn,Gn)}return Jn/Math.max(1,Math.ceil(Jn/Pn))}(M,I,Z,le,Se,Ue),xt=M.text.indexOf("\u200b")>=0,_t=0,Ot=0;Ot<M.length();Ot++){var Bt=M.getSection(Ot),Rt=M.getCharCode(Ot);if(Yu[Rt]||(_t+=Rf(Rt,Bt,le,Se,I,Ue)),Ot<M.length()-1){var Qt=!((an=Rt)<11904||!(mr["Bopomofo Extended"](an)||mr.Bopomofo(an)||mr["CJK Compatibility Forms"](an)||mr["CJK Compatibility Ideographs"](an)||mr["CJK Compatibility"](an)||mr["CJK Radicals Supplement"](an)||mr["CJK Strokes"](an)||mr["CJK Symbols and Punctuation"](an)||mr["CJK Unified Ideographs Extension A"](an)||mr["CJK Unified Ideographs"](an)||mr["Enclosed CJK Letters and Months"](an)||mr["Halfwidth and Fullwidth Forms"](an)||mr.Hiragana(an)||mr["Ideographic Description Characters"](an)||mr["Kangxi Radicals"](an)||mr["Katakana Phonetic Extensions"](an)||mr.Katakana(an)||mr["Vertical Forms"](an)||mr["Yi Radicals"](an)||mr["Yi Syllables"](an)));(mo[Rt]||Qt||Bt.imageName)&&Ke.push(Ff(Ot+1,_t,ot,Ke,Up(Rt,M.getCharCode(Ot+1),Qt&&xt),!1))}}var an;return Bf(Ff(M.length(),_t,ot,Ke,0,!0))}function Dc(M){var I=.5,Z=.5;switch(M){case"right":case"top-right":case"bottom-right":I=1;break;case"left":case"top-left":case"bottom-left":I=0}switch(M){case"bottom":case"bottom-right":case"bottom-left":Z=1;break;case"top":case"top-right":case"top-left":Z=0}return{horizontalAlign:I,verticalAlign:Z}}function Vp(M,I,Z,le,Se){if(le||Se)for(var De=M[Z],Ke=(M[Z].x+De.metrics.advance*De.scale)*le,ot=I;ot<=Z;ot++)M[ot].x-=Ke,M[ot].y+=Se}function Nf(M,I,Z,le,Se,De){var Ue,Ke=M.image;if(Ke.content){var ot=Ke.content,xt=Ke.pixelRatio||1;Ue=[ot[0]/xt,ot[1]/xt,Ke.displaySize[0]-ot[2]/xt,Ke.displaySize[1]-ot[3]/xt]}var _t,Ot,Bt,Rt,Qt=I.left*De,an=I.right*De;"width"===Z||"both"===Z?(Rt=Se[0]+Qt-le[3],Ot=Se[0]+an+le[1]):Ot=(Rt=Se[0]+(Qt+an-Ke.displaySize[0])/2)+Ke.displaySize[0];var Tn=I.top*De,wn=I.bottom*De;return"height"===Z||"both"===Z?(_t=Se[1]+Tn-le[0],Bt=Se[1]+wn+le[2]):Bt=(_t=Se[1]+(Tn+wn-Ke.displaySize[1])/2)+Ke.displaySize[1],{image:Ke,top:_t,right:Ot,bottom:Bt,left:Rt,collisionPadding:Ue}}mo[10]=!0,mo[32]=!0,mo[38]=!0,mo[40]=!0,mo[41]=!0,mo[43]=!0,mo[45]=!0,mo[47]=!0,mo[173]=!0,mo[183]=!0,mo[8203]=!0,mo[8208]=!0,mo[8211]=!0,mo[8231]=!0;var Ul=function(M){function I(Z,le,Se,De){M.call(this,Z,le),this.angle=Se,void 0!==De&&(this.segment=De)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.clone=function(){return new I(this.x,this.y,this.angle,this.segment)},I}(t);br("Anchor",Ul);var Es=128;function Rc(M,I){var Z=I.expression;if("constant"===Z.kind)return{kind:"constant",layoutSize:Z.evaluate(new Kr(M+1))};if("source"===Z.kind)return{kind:"source"};for(var le=Z.zoomStops,Se=Z.interpolationType,De=0;De<le.length&&le[De]<=M;)De++;for(var Ue=De=Math.max(0,De-1);Ue<le.length&&le[Ue]<M+1;)Ue++;Ue=Math.min(le.length-1,Ue);var Ke=le[De],ot=le[Ue];return"composite"===Z.kind?{kind:"composite",minZoom:Ke,maxZoom:ot,interpolationType:Se}:{kind:"camera",minZoom:Ke,maxZoom:ot,minSize:Z.evaluate(new Kr(Ke)),maxSize:Z.evaluate(new Kr(ot)),interpolationType:Se}}function jf(M,I,Z){var le=I.uSize,De=Z.lowerSize;return"source"===M.kind?De/Es:"composite"===M.kind?Zn(De/Es,Z.upperSize/Es,I.uSizeT):le}function Uf(M,I){var Z=0,le=0;if("constant"===M.kind)le=M.layoutSize;else if("source"!==M.kind){var Se=M.interpolationType,Ke=Se?o(Li.interpolationFactor(Se,I,M.minZoom,M.maxZoom),0,1):0;"camera"===M.kind?le=Zn(M.minSize,M.maxSize,Ke):Z=Ke}return{uSizeT:Z,uSize:le}}var Hp=Object.freeze({__proto__:null,getSizeData:Rc,evaluateSizeForFeature:jf,evaluateSizeForZoom:Uf,SIZE_PACK_FACTOR:Es});function Vf(M,I,Z,le,Se){if(void 0===I.segment)return!0;for(var De=I,Ue=I.segment+1,Ke=0;Ke>-Z/2;){if(--Ue<0)return!1;Ke-=M[Ue].dist(De),De=M[Ue]}Ke+=M[Ue].dist(M[Ue+1]),Ue++;for(var ot=[],xt=0;Ke<Z/2;){var Ot=M[Ue],Bt=M[Ue+1];if(!Bt)return!1;var Rt=M[Ue-1].angleTo(Ot)-Ot.angleTo(Bt);for(Rt=Math.abs((Rt+3*Math.PI)%(2*Math.PI)-Math.PI),ot.push({distance:Ke,angleDelta:Rt}),xt+=Rt;Ke-ot[0].distance>le;)xt-=ot.shift().angleDelta;if(xt>Se)return!1;Ue++,Ke+=Ot.dist(Bt)}return!0}function Hf(M){for(var I=0,Z=0;Z<M.length-1;Z++)I+=M[Z].dist(M[Z+1]);return I}function Gf(M,I,Z){return M?.6*I*Z:0}function qf(M,I){return Math.max(M?M.right-M.left:0,I?I.right-I.left:0)}function Gp(M,I,Z,le,Se,De){for(var Ue=Gf(Z,Se,De),Ke=qf(Z,le)*De,ot=0,xt=Hf(M)/2,_t=0;_t<M.length-1;_t++){var Ot=M[_t],Bt=M[_t+1],Rt=Ot.dist(Bt);if(ot+Rt>xt){var Qt=(xt-ot)/Rt,an=Zn(Ot.x,Bt.x,Qt),Tn=Zn(Ot.y,Bt.y,Qt),wn=new Ul(an,Tn,Bt.angleTo(Ot),_t);return wn._round(),!Ue||Vf(M,wn,Ke,Ue,I)?wn:void 0}ot+=Rt}}function qp(M,I,Z,le,Se,De,Ue,Ke,ot){var xt=Gf(le,De,Ue),_t=qf(le,Se),Ot=_t*Ue,Bt=0===M[0].x||M[0].x===ot||0===M[0].y||M[0].y===ot;return I-Ot<I/4&&(I=Ot+I/4),Zf(M,Bt?I/2*Ke%I:(_t/2+2*De)*Ue*Ke%I,I,xt,Z,Ot,Bt,!1,ot)}function Zf(M,I,Z,le,Se,De,Ue,Ke,ot){for(var xt=De/2,_t=Hf(M),Ot=0,Bt=I-Z,Rt=[],Qt=0;Qt<M.length-1;Qt++){for(var an=M[Qt],Tn=M[Qt+1],wn=an.dist(Tn),Pn=Tn.angleTo(an);Bt+Z<Ot+wn;){var On=((Bt+=Z)-Ot)/wn,Nn=Zn(an.x,Tn.x,On),Gn=Zn(an.y,Tn.y,On);if(Nn>=0&&Nn<ot&&Gn>=0&&Gn<ot&&Bt-xt>=0&&Bt+xt<=_t){var Jn=new Ul(Nn,Gn,Pn,Qt);Jn._round(),le&&!Vf(M,Jn,De,le,Se)||Rt.push(Jn)}}Ot+=wn}return Ke||Rt.length||Ue||(Rt=Zf(M,Ot/2,Z,le,Se,De,Ue,!0,ot)),Rt}function Yf(M,I,Z,le,Se){for(var De=[],Ue=0;Ue<M.length;Ue++)for(var Ke=M[Ue],ot=void 0,xt=0;xt<Ke.length-1;xt++){var _t=Ke[xt],Ot=Ke[xt+1];_t.x<I&&Ot.x<I||(_t.x<I?_t=new t(I,_t.y+(I-_t.x)/(Ot.x-_t.x)*(Ot.y-_t.y))._round():Ot.x<I&&(Ot=new t(I,_t.y+(I-_t.x)/(Ot.x-_t.x)*(Ot.y-_t.y))._round()),_t.y<Z&&Ot.y<Z||(_t.y<Z?_t=new t(_t.x+(Z-_t.y)/(Ot.y-_t.y)*(Ot.x-_t.x),Z)._round():Ot.y<Z&&(Ot=new t(_t.x+(Z-_t.y)/(Ot.y-_t.y)*(Ot.x-_t.x),Z)._round()),_t.x>=le&&Ot.x>=le||(_t.x>=le?_t=new t(le,_t.y+(le-_t.x)/(Ot.x-_t.x)*(Ot.y-_t.y))._round():Ot.x>=le&&(Ot=new t(le,_t.y+(le-_t.x)/(Ot.x-_t.x)*(Ot.y-_t.y))._round()),_t.y>=Se&&Ot.y>=Se||(_t.y>=Se?_t=new t(_t.x+(Se-_t.y)/(Ot.y-_t.y)*(Ot.x-_t.x),Se)._round():Ot.y>=Se&&(Ot=new t(_t.x+(Se-_t.y)/(Ot.y-_t.y)*(Ot.x-_t.x),Se)._round()),ot&&_t.equals(ot[ot.length-1])||De.push(ot=[_t]),ot.push(Ot)))))}return De}var Vl=1;function Wf(M,I,Z,le){var Se=[],De=M.image,Ue=De.pixelRatio,Ke=De.paddedRect.w-2*Vl,ot=De.paddedRect.h-2*Vl,xt=M.right-M.left,_t=M.bottom-M.top,Ot=De.stretchX||[[0,Ke]],Bt=De.stretchY||[[0,ot]],Rt=function(oi,yi){return oi+yi[1]-yi[0]},Qt=Ot.reduce(Rt,0),an=Bt.reduce(Rt,0),Tn=Ke-Qt,wn=ot-an,Pn=0,On=Qt,Nn=0,Gn=an,Jn=0,hr=Tn,sr=0,gr=wn;if(De.content&&le){var wr=De.content;Pn=Wu(Ot,0,wr[0]),Nn=Wu(Bt,0,wr[1]),On=Wu(Ot,wr[0],wr[2]),Gn=Wu(Bt,wr[1],wr[3]),Jn=wr[0]-Pn,sr=wr[1]-Nn,hr=wr[2]-wr[0]-On,gr=wr[3]-wr[1]-Gn}var zr=function(oi,yi,bi,_i){var gi=Xu(oi.stretch-Pn,On,xt,M.left),ia=Ju(oi.fixed-Jn,hr,oi.stretch,Qt),Ei=Xu(yi.stretch-Nn,Gn,_t,M.top),fa=Ju(yi.fixed-sr,gr,yi.stretch,an),Aa=Xu(bi.stretch-Pn,On,xt,M.left),xa=Ju(bi.fixed-Jn,hr,bi.stretch,Qt),Ha=Xu(_i.stretch-Nn,Gn,_t,M.top),ba=Ju(_i.fixed-sr,gr,_i.stretch,an),sa=new t(gi,Ei),_a=new t(Aa,Ei),ha=new t(Aa,Ha),la=new t(gi,Ha),Br=new t(ia/Ue,fa/Ue),Zr=new t(xa/Ue,ba/Ue),Ni=I*Math.PI/180;if(Ni){var fi=Math.sin(Ni),Oi=Math.cos(Ni),Ai=[Oi,-fi,fi,Oi];sa._matMult(Ai),_a._matMult(Ai),la._matMult(Ai),ha._matMult(Ai)}var $r=oi.stretch+oi.fixed,Ga=yi.stretch+yi.fixed;return{tl:sa,tr:_a,bl:la,br:ha,tex:{x:De.paddedRect.x+Vl+$r,y:De.paddedRect.y+Vl+Ga,w:bi.stretch+bi.fixed-$r,h:_i.stretch+_i.fixed-Ga},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Br,pixelOffsetBR:Zr,minFontScaleX:hr/Ue/xt,minFontScaleY:gr/Ue/_t,isSDF:Z}};if(le&&(De.stretchX||De.stretchY))for(var Ar=Xf(Ot,Tn,Qt),Dr=Xf(Bt,wn,an),Cr=0;Cr<Ar.length-1;Cr++)for(var Tr=Ar[Cr],Vr=Ar[Cr+1],Fr=0;Fr<Dr.length-1;Fr++)Se.push(zr(Tr,Dr[Fr],Vr,Dr[Fr+1]));else Se.push(zr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Ke+1},{fixed:0,stretch:ot+1}));return Se}function Wu(M,I,Z){for(var le=0,Se=0,De=M;Se<De.length;Se+=1){var Ue=De[Se];le+=Math.max(I,Math.min(Z,Ue[1]))-Math.max(I,Math.min(Z,Ue[0]))}return le}function Xf(M,I,Z){for(var le=[{fixed:-Vl,stretch:0}],Se=0,De=M;Se<De.length;Se+=1){var Ue=De[Se],Ke=Ue[0],ot=Ue[1],xt=le[le.length-1];le.push({fixed:Ke-xt.stretch,stretch:xt.stretch}),le.push({fixed:Ke-xt.stretch,stretch:xt.stretch+(ot-Ke)})}return le.push({fixed:I+Vl,stretch:Z}),le}function Xu(M,I,Z,le){return M/I*Z+le}function Ju(M,I,Z,le){return M-I*Z/le}var Ku=function(M,I,Z,le,Se,De,Ue,Ke,ot,xt){if(this.boxStartIndex=M.length,ot){var _t=De.top,Ot=De.bottom,Bt=De.collisionPadding;Bt&&(_t-=Bt[1],Ot+=Bt[3]);var Rt=Ot-_t;Rt>0&&(Rt=Math.max(10,Rt),this.circleDiameter=Rt)}else{var Qt=De.top*Ue-Ke,an=De.bottom*Ue+Ke,Tn=De.left*Ue-Ke,wn=De.right*Ue+Ke,Pn=De.collisionPadding;if(Pn&&(Tn-=Pn[0]*Ue,Qt-=Pn[1]*Ue,wn+=Pn[2]*Ue,an+=Pn[3]*Ue),xt){var On=new t(Tn,Qt),Nn=new t(wn,Qt),Gn=new t(Tn,an),Jn=new t(wn,an),hr=xt*Math.PI/180;On._rotate(hr),Nn._rotate(hr),Gn._rotate(hr),Jn._rotate(hr),Tn=Math.min(On.x,Nn.x,Gn.x,Jn.x),wn=Math.max(On.x,Nn.x,Gn.x,Jn.x),Qt=Math.min(On.y,Nn.y,Gn.y,Jn.y),an=Math.max(On.y,Nn.y,Gn.y,Jn.y)}M.emplaceBack(I.x,I.y,Tn,Qt,wn,an,Z,le,Se)}this.boxEndIndex=M.length},Hl=function(M,I){if(void 0===M&&(M=[]),void 0===I&&(I=Zp),this.data=M,this.length=this.data.length,this.compare=I,this.length>0)for(var Z=(this.length>>1)-1;Z>=0;Z--)this._down(Z)};function Zp(M,I){return M<I?-1:M>I?1:0}function Yp(M,I,Z){void 0===I&&(I=1),void 0===Z&&(Z=!1);for(var le=1/0,Se=1/0,De=-1/0,Ue=-1/0,Ke=M[0],ot=0;ot<Ke.length;ot++){var xt=Ke[ot];(!ot||xt.x<le)&&(le=xt.x),(!ot||xt.y<Se)&&(Se=xt.y),(!ot||xt.x>De)&&(De=xt.x),(!ot||xt.y>Ue)&&(Ue=xt.y)}var Bt=Math.min(De-le,Ue-Se),Rt=Bt/2,Qt=new Hl([],Wp);if(0===Bt)return new t(le,Se);for(var an=le;an<De;an+=Bt)for(var Tn=Se;Tn<Ue;Tn+=Bt)Qt.push(new Gl(an+Rt,Tn+Rt,Rt,M));for(var wn=function(Nn){for(var Gn=0,Jn=0,hr=0,sr=Nn[0],gr=0,wr=sr.length,zr=wr-1;gr<wr;zr=gr++){var Ar=sr[gr],Dr=sr[zr],Cr=Ar.x*Dr.y-Dr.x*Ar.y;Jn+=(Ar.x+Dr.x)*Cr,hr+=(Ar.y+Dr.y)*Cr,Gn+=3*Cr}return new Gl(Jn/Gn,hr/Gn,0,Nn)}(M),Pn=Qt.length;Qt.length;){var On=Qt.pop();(On.d>wn.d||!wn.d)&&(wn=On,Z&&console.log("found best %d after %d probes",Math.round(1e4*On.d)/1e4,Pn)),On.max-wn.d<=I||(Qt.push(new Gl(On.p.x-(Rt=On.h/2),On.p.y-Rt,Rt,M)),Qt.push(new Gl(On.p.x+Rt,On.p.y-Rt,Rt,M)),Qt.push(new Gl(On.p.x-Rt,On.p.y+Rt,Rt,M)),Qt.push(new Gl(On.p.x+Rt,On.p.y+Rt,Rt,M)),Pn+=4)}return Z&&(console.log("num probes: "+Pn),console.log("best distance: "+wn.d)),wn.p}function Wp(M,I){return I.max-M.max}function Gl(M,I,Z,le){this.p=new t(M,I),this.h=Z,this.d=function(Se,De){for(var Ue=!1,Ke=1/0,ot=0;ot<De.length;ot++)for(var xt=De[ot],_t=0,Ot=xt.length,Bt=Ot-1;_t<Ot;Bt=_t++){var Rt=xt[_t],Qt=xt[Bt];Rt.y>Se.y!=Qt.y>Se.y&&Se.x<(Qt.x-Rt.x)*(Se.y-Rt.y)/(Qt.y-Rt.y)+Rt.x&&(Ue=!Ue),Ke=Math.min(Ke,_l(Se,Rt,Qt))}return(Ue?1:-1)*Math.sqrt(Ke)}(this.p,le),this.max=this.d+this.h*Math.SQRT2}Hl.prototype.push=function(M){this.data.push(M),this.length++,this._up(this.length-1)},Hl.prototype.pop=function(){if(0!==this.length){var M=this.data[0],I=this.data.pop();return this.length--,this.length>0&&(this.data[0]=I,this._down(0)),M}},Hl.prototype.peek=function(){return this.data[0]},Hl.prototype._up=function(M){for(var I=this.data,Z=this.compare,le=I[M];M>0;){var Se=M-1>>1,De=I[Se];if(Z(le,De)>=0)break;I[M]=De,M=Se}I[M]=le},Hl.prototype._down=function(M){for(var I=this.data,Z=this.compare,le=this.length>>1,Se=I[M];M<le;){var De=1+(M<<1),Ue=I[De],Ke=De+1;if(Ke<this.length&&Z(I[Ke],Ue)<0&&(De=Ke,Ue=I[Ke]),Z(Ue,Se)>=0)break;I[M]=Ue,M=De}I[M]=Se};var zc=Number.POSITIVE_INFINITY;function Jf(M,I){return I[1]!==zc?function(Z,le,Se){var De=0,Ue=0;switch(le=Math.abs(le),Se=Math.abs(Se),Z){case"top-right":case"top-left":case"top":Ue=Se-7;break;case"bottom-right":case"bottom-left":case"bottom":Ue=7-Se}switch(Z){case"top-right":case"bottom-right":case"right":De=-le;break;case"top-left":case"bottom-left":case"left":De=le}return[De,Ue]}(M,I[0],I[1]):function(Z,le){var Se=0,De=0;le<0&&(le=0);var Ue=le/Math.sqrt(2);switch(Z){case"top-right":case"top-left":De=Ue-7;break;case"bottom-right":case"bottom-left":De=7-Ue;break;case"bottom":De=7-le;break;case"top":De=le-7}switch(Z){case"top-right":case"bottom-right":Se=-Ue;break;case"top-left":case"bottom-left":Se=Ue;break;case"left":Se=le;break;case"right":Se=-le}return[Se,De]}(M,I[0])}function Fc(M){switch(M){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var ml=32640;function Kf(M,I,Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt,Rt,Qt){var an=function(Nn,Gn,Jn,hr,sr,gr,wr,zr){for(var Ar=hr.layout.get("text-rotate").evaluate(gr,{})*Math.PI/180,Dr=[],Cr=0,Tr=Gn.positionedLines;Cr<Tr.length;Cr+=1)for(var Vr=Tr[Cr],Fr=0,di=Vr.positionedGlyphs;Fr<di.length;Fr+=1){var Ir=di[Fr];if(Ir.rect){var oi=Ir.rect||{},yi=If+1,bi=!0,_i=1,gi=0,ia=(sr||zr)&&Ir.vertical,Ei=Ir.metrics.advance*Ir.scale/2;if(zr&&Gn.verticalizable&&(gi=Vr.lineOffset/2-(Ir.imageName?-(ya-Ir.metrics.width*Ir.scale)/2:(Ir.scale-1)*ya)),Ir.imageName){var xa=wr[Ir.imageName];bi=xa.sdf,yi=1/(_i=xa.pixelRatio)}var Ha=sr?[Ir.x+Ei,Ir.y]:[0,0],ba=sr?[0,0]:[Ir.x+Ei+Jn[0],Ir.y+Jn[1]-gi],sa=[0,0];ia&&(sa=ba,ba=[0,0]);var _a=(Ir.metrics.left-yi)*Ir.scale-Ei+ba[0],ha=(-Ir.metrics.top-yi)*Ir.scale+ba[1],la=_a+oi.w*Ir.scale/_i,Br=ha+oi.h*Ir.scale/_i,Zr=new t(_a,ha),Ni=new t(la,ha),fi=new t(_a,Br),Oi=new t(la,Br);if(ia){var Ai=new t(-Ei,Ei- -17),$r=-Math.PI/2,ji=ya/2-Ei,yo=new t(22-ji,-(Ir.imageName?ji:0)),Da=new(Function.prototype.bind.apply(t,[null].concat(sa)));Zr._rotateAround($r,Ai)._add(yo)._add(Da),Ni._rotateAround($r,Ai)._add(yo)._add(Da),fi._rotateAround($r,Ai)._add(yo)._add(Da),Oi._rotateAround($r,Ai)._add(yo)._add(Da)}if(Ar){var Ls=Math.sin(Ar),nl=Math.cos(Ar),pa=[nl,-Ls,Ls,nl];Zr._matMult(pa),Ni._matMult(pa),fi._matMult(pa),Oi._matMult(pa)}var Cs=new t(0,0),ps=new t(0,0);Dr.push({tl:Zr,tr:Ni,bl:fi,br:Oi,tex:oi,writingMode:Gn.writingMode,glyphOffset:Ha,sectionIndex:Ir.sectionIndex,isSDF:bi,pixelOffsetTL:Cs,pixelOffsetBR:ps,minFontScaleX:0,minFontScaleY:0})}}return Dr}(0,Z,Ke,Se,De,Ue,le,M.allowVerticalPlacement),Tn=M.textSizeData,wn=null;"source"===Tn.kind?(wn=[Es*Se.layout.get("text-size").evaluate(Ue,{})])[0]>ml&&S(M.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===Tn.kind&&((wn=[Es*Rt.compositeTextSizes[0].evaluate(Ue,{},Qt),Es*Rt.compositeTextSizes[1].evaluate(Ue,{},Qt)])[0]>ml||wn[1]>ml)&&S(M.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),M.addSymbols(M.text,an,wn,Ke,De,Ue,xt,I,ot.lineStartIndex,ot.lineLength,Bt,Qt);for(var Pn=0,On=_t;Pn<On.length;Pn+=1)Ot[On[Pn]]=M.text.placedSymbolArray.length-1;return 4*an.length}function $f(M){for(var I in M)return M[I];return null}function Xp(M,I,Z,le){var Se=M.compareText;if(I in Se){for(var De=Se[I],Ue=De.length-1;Ue>=0;Ue--)if(le.dist(De[Ue])<Z)return!0}else Se[I]=[];return Se[I].push(le),!1}var Jp=Fl.VectorTileFeature.types,Kp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function $u(M,I,Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt){var Rt=Ke?Math.min(ml,Math.round(Ke[0])):0,Qt=Ke?Math.min(ml,Math.round(Ke[1])):0;M.emplaceBack(I,Z,Math.round(32*le),Math.round(32*Se),De,Ue,(Rt<<1)+(ot?1:0),Qt,16*xt,16*_t,256*Ot,256*Bt)}function Bc(M,I,Z){M.emplaceBack(I.x,I.y,Z),M.emplaceBack(I.x,I.y,Z),M.emplaceBack(I.x,I.y,Z),M.emplaceBack(I.x,I.y,Z)}function $p(M){for(var I=0,Z=M.sections;I<Z.length;I+=1)if(ka(Z[I].text))return!0;return!1}var Zl=function(M){this.layoutVertexArray=new z,this.indexArray=new Q,this.programConfigurations=M,this.segments=new vn,this.dynamicLayoutVertexArray=new H,this.opacityVertexArray=new V,this.placedSymbolArray=new Ct};Zl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},Zl.prototype.upload=function(M,I,Z,le){this.isEmpty()||(Z&&(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,Cc.members),this.indexBuffer=M.createIndexBuffer(this.indexArray,I),this.dynamicLayoutVertexBuffer=M.createVertexBuffer(this.dynamicLayoutVertexArray,Mp.members,!0),this.opacityVertexBuffer=M.createVertexBuffer(this.opacityVertexArray,Kp,!0),this.opacityVertexBuffer.itemSize=1),(Z||le)&&this.programConfigurations.upload(M))},Zl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},br("SymbolBuffers",Zl);var yu=function(M,I,Z){this.layoutVertexArray=new M,this.layoutAttributes=I,this.indexArray=new Z,this.segments=new vn,this.collisionVertexArray=new B};yu.prototype.upload=function(M){this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=M.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=M.createVertexBuffer(this.collisionVertexArray,Ap.members,!0)},yu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},br("CollisionBuffers",yu);var ai=function(M){this.collisionBoxArray=M.collisionBoxArray,this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(Ue){return Ue.id}),this.index=M.index,this.pixelRatio=M.pixelRatio,this.sourceLayerIndex=M.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=xc([]),this.placementViewportMatrix=xc([]);var I=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Rc(this.zoom,I["text-size"]),this.iconSizeData=Rc(this.zoom,I["icon-size"]);var Z=this.layers[0].layout,le=Z.get("symbol-sort-key"),Se=Z.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==Se&&void 0!==le.constantOr(1),this.sortFeaturesByY=("viewport-y"===Se||"auto"===Se&&!this.sortFeaturesByKey)&&(Z.get("text-allow-overlap")||Z.get("icon-allow-overlap")||Z.get("text-ignore-placement")||Z.get("icon-ignore-placement")),"point"===Z.get("symbol-placement")&&(this.writingModes=Z.get("text-writing-mode").map(function(Ue){return zo[Ue]})),this.stateDependentLayerIds=this.layers.filter(function(Ue){return Ue.isStateDependent()}).map(function(Ue){return Ue.id}),this.sourceID=M.sourceID};ai.prototype.createArrays=function(){this.text=new Zl(new pi(Cc.members,this.layers,this.zoom,function(M){return/^text/.test(M)})),this.icon=new Zl(new pi(Cc.members,this.layers,this.zoom,function(M){return/^icon/.test(M)})),this.glyphOffsetArray=new Lt,this.lineVertexArray=new en,this.symbolInstances=new zt},ai.prototype.calculateGlyphDependencies=function(M,I,Z,le,Se){for(var De=0;De<M.length;De++)if(I[M.charCodeAt(De)]=!0,(Z||le)&&Se){var Ue=pu[M.charAt(De)];Ue&&(I[Ue.charCodeAt(0)]=!0)}},ai.prototype.populate=function(M,I,Z){var le=this.layers[0],Se=le.layout,De=Se.get("text-font"),Ue=Se.get("text-field"),Ke=Se.get("icon-image"),ot=("constant"!==Ue.value.kind||Ue.value.value instanceof En&&!Ue.value.value.isEmpty()||Ue.value.value.toString().length>0)&&("constant"!==De.value.kind||De.value.value.length>0),xt="constant"!==Ke.value.kind||!!Ke.value.value||Object.keys(Ke.parameters).length>0,_t=Se.get("symbol-sort-key");if(this.features=[],ot||xt){for(var Ot=I.iconDependencies,Bt=I.glyphDependencies,Rt=I.availableImages,Qt=new Kr(this.zoom),an=0,Tn=M;an<Tn.length;an+=1){var wn=Tn[an],Pn=wn.feature,On=wn.id,Nn=wn.index,Gn=wn.sourceLayerIndex,Jn=le._featureFilter.needGeometry,hr={type:Pn.type,id:On,properties:Pn.properties,geometry:Jn?Oa(Pn):[]};if(le._featureFilter.filter(Qt,hr,Z)){Jn||(hr.geometry=Oa(Pn));var sr=void 0;if(ot){var gr=le.getValueAndResolveTokens("text-field",hr,Z,Rt),wr=En.factory(gr);$p(wr)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Ka()||this.hasRTLText&&Ti.isParsed())&&(sr=Ep(wr,le,hr))}var zr=void 0;if(xt){var Ar=le.getValueAndResolveTokens("icon-image",hr,Z,Rt);zr=Ar instanceof bn?Ar:bn.fromString(Ar)}if(sr||zr){var Dr=this.sortFeaturesByKey?_t.evaluate(hr,{},Z):void 0,Cr={id:On,text:sr,icon:zr,index:Nn,sourceLayerIndex:Gn,geometry:Oa(Pn),properties:Pn.properties,type:Jp[Pn.type],sortKey:Dr};if(this.features.push(Cr),zr&&(Ot[zr.name]=!0),sr){var Tr=De.evaluate(hr,{},Z).join(","),Vr="map"===Se.get("text-rotation-alignment")&&"point"!==Se.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(zo.vertical)>=0;for(var Fr=0,di=sr.sections;Fr<di.length;Fr+=1){var Ir=di[Fr];if(Ir.image)Ot[Ir.image.name]=!0;else{var oi=Na(sr.toString()),yi=Ir.fontStack||Tr,bi=Bt[yi]=Bt[yi]||{};this.calculateGlyphDependencies(Ir.text,bi,Vr,this.allowVerticalPlacement,oi)}}}}}}"line"===Se.get("symbol-placement")&&(this.features=function(_i){var gi={},ia={},Ei=[],fa=0;function Aa(Oi){Ei.push(_i[Oi]),fa++}function xa(Oi,Ai,$r){var ji=ia[Oi];return delete ia[Oi],ia[Ai]=ji,Ei[ji].geometry[0].pop(),Ei[ji].geometry[0]=Ei[ji].geometry[0].concat($r[0]),ji}function Ha(Oi,Ai,$r){var ji=gi[Ai];return delete gi[Ai],gi[Oi]=ji,Ei[ji].geometry[0].shift(),Ei[ji].geometry[0]=$r[0].concat(Ei[ji].geometry[0]),ji}function ba(Oi,Ai,$r){var ji=$r?Ai[0][Ai[0].length-1]:Ai[0][0];return Oi+":"+ji.x+":"+ji.y}for(var sa=0;sa<_i.length;sa++){var _a=_i[sa],ha=_a.geometry,la=_a.text?_a.text.toString():null;if(la){var Br=ba(la,ha),Zr=ba(la,ha,!0);if(Br in ia&&Zr in gi&&ia[Br]!==gi[Zr]){var Ni=Ha(Br,Zr,ha),fi=xa(Br,Zr,Ei[Ni].geometry);delete gi[Br],delete ia[Zr],ia[ba(la,Ei[fi].geometry,!0)]=fi,Ei[Ni].geometry=null}else Br in ia?xa(Br,Zr,ha):Zr in gi?Ha(Br,Zr,ha):(Aa(sa),gi[Br]=fa-1,ia[Zr]=fa-1)}else Aa(sa)}return Ei.filter(function(Oi){return Oi.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(_i,gi){return _i.sortKey-gi.sortKey})}},ai.prototype.update=function(M,I,Z){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(M,I,this.layers,Z),this.icon.programConfigurations.updatePaintArrays(M,I,this.layers,Z))},ai.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},ai.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},ai.prototype.upload=function(M){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(M),this.iconCollisionBox.upload(M)),this.text.upload(M,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(M,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},ai.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},ai.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},ai.prototype.addToLineVertexArray=function(M,I){var Z=this.lineVertexArray.length;if(void 0!==M.segment){for(var le=M.dist(I[M.segment+1]),Se=M.dist(I[M.segment]),De={},Ue=M.segment+1;Ue<I.length;Ue++)De[Ue]={x:I[Ue].x,y:I[Ue].y,tileUnitDistanceFromAnchor:le},Ue<I.length-1&&(le+=I[Ue+1].dist(I[Ue]));for(var Ke=M.segment||0;Ke>=0;Ke--)De[Ke]={x:I[Ke].x,y:I[Ke].y,tileUnitDistanceFromAnchor:Se},Ke>0&&(Se+=I[Ke-1].dist(I[Ke]));for(var ot=0;ot<I.length;ot++){var xt=De[ot];this.lineVertexArray.emplaceBack(xt.x,xt.y,xt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:Z,lineLength:this.lineVertexArray.length-Z}},ai.prototype.addSymbols=function(M,I,Z,le,Se,De,Ue,Ke,ot,xt,_t,Ot){for(var Bt=M.indexArray,Rt=M.layoutVertexArray,Qt=M.segments.prepareSegment(4*I.length,Rt,Bt,De.sortKey),an=this.glyphOffsetArray.length,Tn=Qt.vertexLength,wn=this.allowVerticalPlacement&&Ue===zo.vertical?Math.PI/2:0,Pn=De.text&&De.text.sections,On=0;On<I.length;On++){var Nn=I[On],Gn=Nn.tl,Jn=Nn.tr,hr=Nn.bl,sr=Nn.br,gr=Nn.tex,wr=Nn.pixelOffsetTL,zr=Nn.pixelOffsetBR,Ar=Nn.minFontScaleX,Dr=Nn.minFontScaleY,Cr=Nn.glyphOffset,Tr=Nn.isSDF,Vr=Nn.sectionIndex,Fr=Qt.vertexLength,di=Cr[1];$u(Rt,Ke.x,Ke.y,Gn.x,di+Gn.y,gr.x,gr.y,Z,Tr,wr.x,wr.y,Ar,Dr),$u(Rt,Ke.x,Ke.y,Jn.x,di+Jn.y,gr.x+gr.w,gr.y,Z,Tr,zr.x,wr.y,Ar,Dr),$u(Rt,Ke.x,Ke.y,hr.x,di+hr.y,gr.x,gr.y+gr.h,Z,Tr,wr.x,zr.y,Ar,Dr),$u(Rt,Ke.x,Ke.y,sr.x,di+sr.y,gr.x+gr.w,gr.y+gr.h,Z,Tr,zr.x,zr.y,Ar,Dr),Bc(M.dynamicLayoutVertexArray,Ke,wn),Bt.emplaceBack(Fr,Fr+1,Fr+2),Bt.emplaceBack(Fr+1,Fr+2,Fr+3),Qt.vertexLength+=4,Qt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Cr[0]),On!==I.length-1&&Vr===I[On+1].sectionIndex||M.programConfigurations.populatePaintArrays(Rt.length,De,De.index,{},Ot,Pn&&Pn[Vr])}M.placedSymbolArray.emplaceBack(Ke.x,Ke.y,an,this.glyphOffsetArray.length-an,Tn,ot,xt,Ke.segment,Z?Z[0]:0,Z?Z[1]:0,le[0],le[1],Ue,0,!1,0,_t)},ai.prototype._addCollisionDebugVertex=function(M,I,Z,le,Se,De){return I.emplaceBack(0,0),M.emplaceBack(Z.x,Z.y,le,Se,Math.round(De.x),Math.round(De.y))},ai.prototype.addCollisionDebugVertices=function(M,I,Z,le,Se,De,Ue){var Ke=Se.segments.prepareSegment(4,Se.layoutVertexArray,Se.indexArray),ot=Ke.vertexLength,xt=Se.layoutVertexArray,_t=Se.collisionVertexArray,Ot=Ue.anchorX,Bt=Ue.anchorY;this._addCollisionDebugVertex(xt,_t,De,Ot,Bt,new t(M,I)),this._addCollisionDebugVertex(xt,_t,De,Ot,Bt,new t(Z,I)),this._addCollisionDebugVertex(xt,_t,De,Ot,Bt,new t(Z,le)),this._addCollisionDebugVertex(xt,_t,De,Ot,Bt,new t(M,le)),Ke.vertexLength+=4;var Rt=Se.indexArray;Rt.emplaceBack(ot,ot+1),Rt.emplaceBack(ot+1,ot+2),Rt.emplaceBack(ot+2,ot+3),Rt.emplaceBack(ot+3,ot),Ke.primitiveLength+=4},ai.prototype.addDebugCollisionBoxes=function(M,I,Z,le){for(var Se=M;Se<I;Se++){var De=this.collisionBoxArray.get(Se);this.addCollisionDebugVertices(De.x1,De.y1,De.x2,De.y2,le?this.textCollisionBox:this.iconCollisionBox,De.anchorPoint,Z)}},ai.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new yu(he,Af.members,Ve),this.iconCollisionBox=new yu(he,Af.members,Ve);for(var M=0;M<this.symbolInstances.length;M++){var I=this.symbolInstances.get(M);this.addDebugCollisionBoxes(I.textBoxStartIndex,I.textBoxEndIndex,I,!0),this.addDebugCollisionBoxes(I.verticalTextBoxStartIndex,I.verticalTextBoxEndIndex,I,!0),this.addDebugCollisionBoxes(I.iconBoxStartIndex,I.iconBoxEndIndex,I,!1),this.addDebugCollisionBoxes(I.verticalIconBoxStartIndex,I.verticalIconBoxEndIndex,I,!1)}},ai.prototype._deserializeCollisionBoxesForSymbol=function(M,I,Z,le,Se,De,Ue,Ke,ot){for(var xt={},_t=I;_t<Z;_t++){var Ot=M.get(_t);xt.textBox={x1:Ot.x1,y1:Ot.y1,x2:Ot.x2,y2:Ot.y2,anchorPointX:Ot.anchorPointX,anchorPointY:Ot.anchorPointY},xt.textFeatureIndex=Ot.featureIndex;break}for(var Bt=le;Bt<Se;Bt++){var Rt=M.get(Bt);xt.verticalTextBox={x1:Rt.x1,y1:Rt.y1,x2:Rt.x2,y2:Rt.y2,anchorPointX:Rt.anchorPointX,anchorPointY:Rt.anchorPointY},xt.verticalTextFeatureIndex=Rt.featureIndex;break}for(var Qt=De;Qt<Ue;Qt++){var an=M.get(Qt);xt.iconBox={x1:an.x1,y1:an.y1,x2:an.x2,y2:an.y2,anchorPointX:an.anchorPointX,anchorPointY:an.anchorPointY},xt.iconFeatureIndex=an.featureIndex;break}for(var Tn=Ke;Tn<ot;Tn++){var wn=M.get(Tn);xt.verticalIconBox={x1:wn.x1,y1:wn.y1,x2:wn.x2,y2:wn.y2,anchorPointX:wn.anchorPointX,anchorPointY:wn.anchorPointY},xt.verticalIconFeatureIndex=wn.featureIndex;break}return xt},ai.prototype.deserializeCollisionBoxes=function(M){this.collisionArrays=[];for(var I=0;I<this.symbolInstances.length;I++){var Z=this.symbolInstances.get(I);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(M,Z.textBoxStartIndex,Z.textBoxEndIndex,Z.verticalTextBoxStartIndex,Z.verticalTextBoxEndIndex,Z.iconBoxStartIndex,Z.iconBoxEndIndex,Z.verticalIconBoxStartIndex,Z.verticalIconBoxEndIndex))}},ai.prototype.hasTextData=function(){return this.text.segments.get().length>0},ai.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ai.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},ai.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},ai.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},ai.prototype.addIndicesForPlacedSymbol=function(M,I){for(var Z=M.placedSymbolArray.get(I),le=Z.vertexStartIndex+4*Z.numGlyphs,Se=Z.vertexStartIndex;Se<le;Se+=4)M.indexArray.emplaceBack(Se,Se+1,Se+2),M.indexArray.emplaceBack(Se+1,Se+2,Se+3)},ai.prototype.getSortedSymbolIndexes=function(M){if(this.sortedAngle===M&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var I=Math.sin(M),Z=Math.cos(M),le=[],Se=[],De=[],Ue=0;Ue<this.symbolInstances.length;++Ue){De.push(Ue);var Ke=this.symbolInstances.get(Ue);le.push(0|Math.round(I*Ke.anchorX+Z*Ke.anchorY)),Se.push(Ke.featureIndex)}return De.sort(function(ot,xt){return le[ot]-le[xt]||Se[xt]-Se[ot]}),De},ai.prototype.addToSortKeyRanges=function(M,I){var Z=this.sortKeyRanges[this.sortKeyRanges.length-1];Z&&Z.sortKey===I?Z.symbolInstanceEnd=M+1:this.sortKeyRanges.push({sortKey:I,symbolInstanceStart:M,symbolInstanceEnd:M+1})},ai.prototype.sortFeatures=function(M){var I=this;if(this.sortFeaturesByY&&this.sortedAngle!==M&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(M),this.sortedAngle=M,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var Z=0,le=this.symbolInstanceIndexes;Z<le.length;Z+=1){var De=this.symbolInstances.get(le[Z]);this.featureSortOrder.push(De.featureIndex),[De.rightJustifiedTextSymbolIndex,De.centerJustifiedTextSymbolIndex,De.leftJustifiedTextSymbolIndex].forEach(function(Ue,Ke,ot){Ue>=0&&ot.indexOf(Ue)===Ke&&I.addIndicesForPlacedSymbol(I.text,Ue)}),De.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,De.verticalPlacedTextSymbolIndex),De.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.placedIconSymbolIndex),De.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},br("SymbolBucket",ai,{omit:["layers","collisionBoxArray","features","compareText"]}),ai.MAX_GLYPHS=65535,ai.addDynamicAttributes=Bc;var Qp=new Ji({"symbol-placement":new Mr(ze.layout_symbol["symbol-placement"]),"symbol-spacing":new Mr(ze.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Mr(ze.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Sr(ze.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Mr(ze.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Mr(ze.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Mr(ze.layout_symbol["icon-ignore-placement"]),"icon-optional":new Mr(ze.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Mr(ze.layout_symbol["icon-rotation-alignment"]),"icon-size":new Sr(ze.layout_symbol["icon-size"]),"icon-text-fit":new Mr(ze.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Mr(ze.layout_symbol["icon-text-fit-padding"]),"icon-image":new Sr(ze.layout_symbol["icon-image"]),"icon-rotate":new Sr(ze.layout_symbol["icon-rotate"]),"icon-padding":new Mr(ze.layout_symbol["icon-padding"]),"icon-keep-upright":new Mr(ze.layout_symbol["icon-keep-upright"]),"icon-offset":new Sr(ze.layout_symbol["icon-offset"]),"icon-anchor":new Sr(ze.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Mr(ze.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Mr(ze.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Mr(ze.layout_symbol["text-rotation-alignment"]),"text-field":new Sr(ze.layout_symbol["text-field"]),"text-font":new Sr(ze.layout_symbol["text-font"]),"text-size":new Sr(ze.layout_symbol["text-size"]),"text-max-width":new Sr(ze.layout_symbol["text-max-width"]),"text-line-height":new Mr(ze.layout_symbol["text-line-height"]),"text-letter-spacing":new Sr(ze.layout_symbol["text-letter-spacing"]),"text-justify":new Sr(ze.layout_symbol["text-justify"]),"text-radial-offset":new Sr(ze.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Mr(ze.layout_symbol["text-variable-anchor"]),"text-anchor":new Sr(ze.layout_symbol["text-anchor"]),"text-max-angle":new Mr(ze.layout_symbol["text-max-angle"]),"text-writing-mode":new Mr(ze.layout_symbol["text-writing-mode"]),"text-rotate":new Sr(ze.layout_symbol["text-rotate"]),"text-padding":new Mr(ze.layout_symbol["text-padding"]),"text-keep-upright":new Mr(ze.layout_symbol["text-keep-upright"]),"text-transform":new Sr(ze.layout_symbol["text-transform"]),"text-offset":new Sr(ze.layout_symbol["text-offset"]),"text-allow-overlap":new Mr(ze.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Mr(ze.layout_symbol["text-ignore-placement"]),"text-optional":new Mr(ze.layout_symbol["text-optional"])}),Nc={paint:new Ji({"icon-opacity":new Sr(ze.paint_symbol["icon-opacity"]),"icon-color":new Sr(ze.paint_symbol["icon-color"]),"icon-halo-color":new Sr(ze.paint_symbol["icon-halo-color"]),"icon-halo-width":new Sr(ze.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Sr(ze.paint_symbol["icon-halo-blur"]),"icon-translate":new Mr(ze.paint_symbol["icon-translate"]),"icon-translate-anchor":new Mr(ze.paint_symbol["icon-translate-anchor"]),"text-opacity":new Sr(ze.paint_symbol["text-opacity"]),"text-color":new Sr(ze.paint_symbol["text-color"],{runtimeType:It,getOverride:function(M){return M.textColor},hasOverride:function(M){return!!M.textColor}}),"text-halo-color":new Sr(ze.paint_symbol["text-halo-color"]),"text-halo-width":new Sr(ze.paint_symbol["text-halo-width"]),"text-halo-blur":new Sr(ze.paint_symbol["text-halo-blur"]),"text-translate":new Mr(ze.paint_symbol["text-translate"]),"text-translate-anchor":new Mr(ze.paint_symbol["text-translate-anchor"])}),layout:Qp},Yl=function(M){this.type=M.property.overrides?M.property.overrides.runtimeType:wt,this.defaultValue=M};Yl.prototype.evaluate=function(M){if(M.formattedSection){var I=this.defaultValue.property.overrides;if(I&&I.hasOverride(M.formattedSection))return I.getOverride(M.formattedSection)}return M.feature&&M.featureState?this.defaultValue.evaluate(M.feature,M.featureState):this.defaultValue.property.specification.default},Yl.prototype.eachChild=function(M){this.defaultValue.isConstant()||M(this.defaultValue.value._styleExpression.expression)},Yl.prototype.outputDefined=function(){return!1},Yl.prototype.serialize=function(){return null},br("FormatSectionOverride",Yl,{omit:["defaultValue"]});var ed=function(M){function I(Z){M.call(this,Z,Nc)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.recalculate=function(Z,le){if(M.prototype.recalculate.call(this,Z,le),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var Se=this.layout.get("text-writing-mode");if(Se){for(var De=[],Ue=0,Ke=Se;Ue<Ke.length;Ue+=1){var ot=Ke[Ue];De.indexOf(ot)<0&&De.push(ot)}this.layout._values["text-writing-mode"]=De}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},I.prototype.getValueAndResolveTokens=function(Z,le,Se,De){var ot,Ue=this.layout.get(Z).evaluate(le,{},Se,De),Ke=this._unevaluatedLayout._values[Z];return Ke.isDataDriven()||as(Ke.value)||!Ue?Ue:(ot=le.properties,Ue.replace(/{([^{}]+)}/g,function(_t,Ot){return Ot in ot?String(ot[Ot]):""}))},I.prototype.createBucket=function(Z){return new ai(Z)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype._setPaintOverrides=function(){for(var Z=0,le=Nc.paint.overridableProperties;Z<le.length;Z+=1){var Se=le[Z];if(I.hasPaintOverride(this.layout,Se)){var De,Ue=this.paint.get(Se),Ke=new Yl(Ue),ot=new ys(Ke,Ue.property.specification);De="constant"===Ue.value.kind||"source"===Ue.value.kind?new To("source",ot):new so("composite",ot,Ue.value.zoomStops,Ue.value._interpolationType),this.paint._values[Se]=new Ci(Ue.property,De,Ue.parameters)}}},I.prototype._handleOverridablePaintPropertyUpdate=function(Z,le,Se){return!(!this.layout||le.isDataDriven()||Se.isDataDriven())&&I.hasPaintOverride(this.layout,Z)},I.hasPaintOverride=function(Z,le){var Se=Z.get("text-field"),De=Nc.paint.properties[le],Ue=!1,Ke=function(_t){for(var Ot=0,Bt=_t;Ot<Bt.length;Ot+=1)if(De.overrides&&De.overrides.hasOverride(Bt[Ot]))return void(Ue=!0)};if("constant"===Se.value.kind&&Se.value.value instanceof En)Ke(Se.value.value.sections);else if("source"===Se.value.kind){var ot=function(_t){Ue||(_t instanceof $n&&Qn(_t.value)===jt?Ke(_t.value.sections):_t instanceof tn?Ke(_t.sections):_t.eachChild(ot))},xt=Se.value;xt._styleExpression&&ot(xt._styleExpression.expression)}return Ue},I}(Ki),td={paint:new Ji({"background-color":new Mr(ze.paint_background["background-color"]),"background-pattern":new oa(ze.paint_background["background-pattern"]),"background-opacity":new Mr(ze.paint_background["background-opacity"])})},nd=function(M){function I(Z){M.call(this,Z,td)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I}(Ki),rd={paint:new Ji({"raster-opacity":new Mr(ze.paint_raster["raster-opacity"]),"raster-hue-rotate":new Mr(ze.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Mr(ze.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Mr(ze.paint_raster["raster-brightness-max"]),"raster-saturation":new Mr(ze.paint_raster["raster-saturation"]),"raster-contrast":new Mr(ze.paint_raster["raster-contrast"]),"raster-resampling":new Mr(ze.paint_raster["raster-resampling"]),"raster-fade-duration":new Mr(ze.paint_raster["raster-fade-duration"])})},id=function(M){function I(Z){M.call(this,Z,rd)}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I}(Ki),ad=function(M){function I(Z){M.call(this,Z,{}),this.implementation=Z}return M&&(I.__proto__=M),(I.prototype=Object.create(M&&M.prototype)).constructor=I,I.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},I.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},I.prototype.recalculate=function(){},I.prototype.updateTransitions=function(){},I.prototype.hasTransition=function(){},I.prototype.serialize=function(){},I.prototype.onAdd=function(Z){this.implementation.onAdd&&this.implementation.onAdd(Z,Z.painter.context.gl)},I.prototype.onRemove=function(Z){this.implementation.onRemove&&this.implementation.onRemove(Z,Z.painter.context.gl)},I}(Ki),od={circle:qh,heatmap:Yh,hillshade:Xh,fill:fp,"fill-extrusion":xp,line:kp,symbol:ed,background:nd,raster:id},Qf=self.HTMLImageElement,eh=self.HTMLCanvasElement,th=self.HTMLVideoElement,nh=self.ImageData,Qu=self.ImageBitmap,Tl=function(M,I,Z,le){this.context=M,this.format=Z,this.texture=M.gl.createTexture(),this.update(I,le)};Tl.prototype.update=function(M,I,Z){var le=M.width,Se=M.height,De=!(this.size&&this.size[0]===le&&this.size[1]===Se||Z),Ue=this.context,Ke=Ue.gl;if(this.useMipmap=!(!I||!I.useMipmap),Ke.bindTexture(Ke.TEXTURE_2D,this.texture),Ue.pixelStoreUnpackFlipY.set(!1),Ue.pixelStoreUnpack.set(1),Ue.pixelStoreUnpackPremultiplyAlpha.set(this.format===Ke.RGBA&&(!I||!1!==I.premultiply)),De)this.size=[le,Se],M instanceof Qf||M instanceof eh||M instanceof th||M instanceof nh||Qu&&M instanceof Qu?Ke.texImage2D(Ke.TEXTURE_2D,0,this.format,this.format,Ke.UNSIGNED_BYTE,M):Ke.texImage2D(Ke.TEXTURE_2D,0,this.format,le,Se,0,this.format,Ke.UNSIGNED_BYTE,M.data);else{var ot=Z||{x:0,y:0},xt=ot.x,_t=ot.y;M instanceof Qf||M instanceof eh||M instanceof th||M instanceof nh||Qu&&M instanceof Qu?Ke.texSubImage2D(Ke.TEXTURE_2D,0,xt,_t,Ke.RGBA,Ke.UNSIGNED_BYTE,M):Ke.texSubImage2D(Ke.TEXTURE_2D,0,xt,_t,le,Se,Ke.RGBA,Ke.UNSIGNED_BYTE,M.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Ke.generateMipmap(Ke.TEXTURE_2D)},Tl.prototype.bind=function(M,I,Z){var le=this.context.gl;le.bindTexture(le.TEXTURE_2D,this.texture),Z!==le.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(Z=le.LINEAR),M!==this.filter&&(le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MAG_FILTER,M),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MIN_FILTER,Z||M),this.filter=M),I!==this.wrap&&(le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_S,I),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_T,I),this.wrap=I)},Tl.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Tl.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var jc=function(M){var I=this;this._callback=M,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){I._triggered=!1,I._callback()})};jc.prototype.trigger=function(){var M=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){M._triggered=!1,M._callback()},0))},jc.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Wl=function(M,I,Z){this.target=M,this.parent=I,this.mapId=Z,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},h(["receive","process"],this),this.invoker=new jc(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=L()?M:self};function rh(M,I,Z){var le=2*Math.PI*6378137/256/Math.pow(2,Z);return[M*le-2*Math.PI*6378137/2,I*le-2*Math.PI*6378137/2]}Wl.prototype.send=function(M,I,Z,le,Se){var De=this;void 0===Se&&(Se=!1);var Ue=Math.round(1e18*Math.random()).toString(36).substring(0,10);Z&&(this.callbacks[Ue]=Z);var Ke=R(this.globalScope)?void 0:[];return this.target.postMessage({id:Ue,type:M,hasCallback:!!Z,targetMapId:le,mustQueue:Se,sourceMapId:this.mapId,data:Xo(I,Ke)},Ke),{cancel:function(){Z&&delete De.callbacks[Ue],De.target.postMessage({id:Ue,type:"<cancel>",targetMapId:le,sourceMapId:De.mapId})}}},Wl.prototype.receive=function(M){var I=M.data,Z=I.id;if(Z&&(!I.targetMapId||this.mapId===I.targetMapId))if("<cancel>"===I.type){delete this.tasks[Z];var le=this.cancelCallbacks[Z];delete this.cancelCallbacks[Z],le&&le()}else L()||I.mustQueue?(this.tasks[Z]=I,this.taskQueue.push(Z),this.invoker.trigger()):this.processTask(Z,I)},Wl.prototype.process=function(){if(this.taskQueue.length){var M=this.taskQueue.shift(),I=this.tasks[M];delete this.tasks[M],this.taskQueue.length&&this.invoker.trigger(),I&&this.processTask(M,I)}},Wl.prototype.processTask=function(M,I){var Z=this;if("<response>"===I.type){var le=this.callbacks[M];delete this.callbacks[M],le&&(I.error?le(Jo(I.error)):le(null,Jo(I.data)))}else{var Se=!1,De=R(this.globalScope)?void 0:[],Ue=I.hasCallback?function(_t,Ot){Se=!0,delete Z.cancelCallbacks[M],Z.target.postMessage({id:M,type:"<response>",sourceMapId:Z.mapId,error:_t?Xo(_t):null,data:Xo(Ot,De)},De)}:function(_t){Se=!0},Ke=null,ot=Jo(I.data);if(this.parent[I.type])Ke=this.parent[I.type](I.sourceMapId,ot,Ue);else if(this.parent.getWorkerSource){var xt=I.type.split(".");Ke=this.parent.getWorkerSource(I.sourceMapId,xt[0],ot.source)[xt[1]](ot,Ue)}else Ue(new Error("Could not find function "+I.type));!Se&&Ke&&Ke.cancel&&(this.cancelCallbacks[M]=Ke.cancel)}},Wl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var na=function(M,I){M&&(I?this.setSouthWest(M).setNorthEast(I):4===M.length?this.setSouthWest([M[0],M[1]]).setNorthEast([M[2],M[3]]):this.setSouthWest(M[0]).setNorthEast(M[1]))};na.prototype.setNorthEast=function(M){return this._ne=M instanceof Mi?new Mi(M.lng,M.lat):Mi.convert(M),this},na.prototype.setSouthWest=function(M){return this._sw=M instanceof Mi?new Mi(M.lng,M.lat):Mi.convert(M),this},na.prototype.extend=function(M){var I,Z,le=this._sw,Se=this._ne;if(M instanceof Mi)I=M,Z=M;else{if(!(M instanceof na))return Array.isArray(M)?4===M.length||M.every(Array.isArray)?this.extend(na.convert(M)):this.extend(Mi.convert(M)):this;if(Z=M._ne,!(I=M._sw)||!Z)return this}return le||Se?(le.lng=Math.min(I.lng,le.lng),le.lat=Math.min(I.lat,le.lat),Se.lng=Math.max(Z.lng,Se.lng),Se.lat=Math.max(Z.lat,Se.lat)):(this._sw=new Mi(I.lng,I.lat),this._ne=new Mi(Z.lng,Z.lat)),this},na.prototype.getCenter=function(){return new Mi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},na.prototype.getSouthWest=function(){return this._sw},na.prototype.getNorthEast=function(){return this._ne},na.prototype.getNorthWest=function(){return new Mi(this.getWest(),this.getNorth())},na.prototype.getSouthEast=function(){return new Mi(this.getEast(),this.getSouth())},na.prototype.getWest=function(){return this._sw.lng},na.prototype.getSouth=function(){return this._sw.lat},na.prototype.getEast=function(){return this._ne.lng},na.prototype.getNorth=function(){return this._ne.lat},na.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},na.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},na.prototype.isEmpty=function(){return!(this._sw&&this._ne)},na.prototype.contains=function(M){var I=Mi.convert(M),Z=I.lng,le=I.lat,De=this._sw.lng<=Z&&Z<=this._ne.lng;return this._sw.lng>this._ne.lng&&(De=this._sw.lng>=Z&&Z>=this._ne.lng),this._sw.lat<=le&&le<=this._ne.lat&&De},na.convert=function(M){return!M||M instanceof na?M:new na(M)};var ih=6371008.8,Mi=function(M,I){if(isNaN(M)||isNaN(I))throw new Error("Invalid LngLat object: ("+M+", "+I+")");if(this.lng=+M,this.lat=+I,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Mi.prototype.wrap=function(){return new Mi(s(this.lng,-180,180),this.lat)},Mi.prototype.toArray=function(){return[this.lng,this.lat]},Mi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Mi.prototype.distanceTo=function(M){var I=Math.PI/180,Z=this.lat*I,le=M.lat*I,Se=Math.sin(Z)*Math.sin(le)+Math.cos(Z)*Math.cos(le)*Math.cos((M.lng-this.lng)*I);return ih*Math.acos(Math.min(Se,1))},Mi.prototype.toBounds=function(M){void 0===M&&(M=0);var I=360*M/40075017,Z=I/Math.cos(Math.PI/180*this.lat);return new na(new Mi(this.lng-Z,this.lat-I),new Mi(this.lng+Z,this.lat+I))},Mi.convert=function(M){if(M instanceof Mi)return M;if(Array.isArray(M)&&(2===M.length||3===M.length))return new Mi(Number(M[0]),Number(M[1]));if(!Array.isArray(M)&&"object"==typeof M&&null!==M)return new Mi(Number("lng"in M?M.lng:M.lon),Number(M.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var ah=2*Math.PI*ih;function oh(M){return ah*Math.cos(M*Math.PI/180)}function sh(M){return(180+M)/360}function lh(M){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+M*Math.PI/360)))/360}function uh(M,I){return M/oh(I)}function Uc(M){return 360/Math.PI*Math.atan(Math.exp((180-360*M)*Math.PI/180))-90}var kl=function(M,I,Z){void 0===Z&&(Z=0),this.x=+M,this.y=+I,this.z=+Z};kl.fromLngLat=function(M,I){void 0===I&&(I=0);var Z=Mi.convert(M);return new kl(sh(Z.lng),lh(Z.lat),uh(I,Z.lat))},kl.prototype.toLngLat=function(){return new Mi(360*this.x-180,Uc(this.y))},kl.prototype.toAltitude=function(){return this.z*oh(Uc(this.y))},kl.prototype.meterInMercatorCoordinateUnits=function(){return 1/ah*(M=Uc(this.y),1/Math.cos(M*Math.PI/180));var M};var Ml=function(M,I,Z){this.z=M,this.x=I,this.y=Z,this.key=xu(0,M,M,I,Z)};Ml.prototype.equals=function(M){return this.z===M.z&&this.x===M.x&&this.y===M.y},Ml.prototype.url=function(M,I){var Z,le,Se,De,Ue,Ke=(le=this.y,Se=this.z,De=rh(256*(Z=this.x),256*(le=Math.pow(2,Se)-le-1),Se),Ue=rh(256*(Z+1),256*(le+1),Se),De[0]+","+De[1]+","+Ue[0]+","+Ue[1]),ot=function(xt,_t,Ot){for(var Bt,Rt="",Qt=xt;Qt>0;Qt--)Rt+=(_t&(Bt=1<<Qt-1)?1:0)+(Ot&Bt?2:0);return Rt}(this.z,this.x,this.y);return M[(this.x+this.y)%M.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===I?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ot).replace("{bbox-epsg-3857}",Ke)},Ml.prototype.getTilePoint=function(M){var I=Math.pow(2,this.z);return new t((M.x*I-this.x)*Jr,(M.y*I-this.y)*Jr)},Ml.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var ch=function(M,I){this.wrap=M,this.canonical=I,this.key=xu(M,I.z,I.z,I.x,I.y)},ra=function(M,I,Z,le,Se){this.overscaledZ=M,this.wrap=I,this.canonical=new Ml(Z,+le,+Se),this.key=xu(I,M,Z,le,Se)};function xu(M,I,Z,le,Se){(M*=2)<0&&(M=-1*M-1);var De=1<<Z;return(De*De*M+De*Se+le).toString(36)+Z.toString(36)+I.toString(36)}ra.prototype.equals=function(M){return this.overscaledZ===M.overscaledZ&&this.wrap===M.wrap&&this.canonical.equals(M.canonical)},ra.prototype.scaledTo=function(M){var I=this.canonical.z-M;return M>this.canonical.z?new ra(M,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ra(M,this.wrap,M,this.canonical.x>>I,this.canonical.y>>I)},ra.prototype.calculateScaledKey=function(M,I){var Z=this.canonical.z-M;return M>this.canonical.z?xu(this.wrap*+I,M,this.canonical.z,this.canonical.x,this.canonical.y):xu(this.wrap*+I,M,M,this.canonical.x>>Z,this.canonical.y>>Z)},ra.prototype.isChildOf=function(M){if(M.wrap!==this.wrap)return!1;var I=this.canonical.z-M.canonical.z;return 0===M.overscaledZ||M.overscaledZ<this.overscaledZ&&M.canonical.x===this.canonical.x>>I&&M.canonical.y===this.canonical.y>>I},ra.prototype.children=function(M){if(this.overscaledZ>=M)return[new ra(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var I=this.canonical.z+1,Z=2*this.canonical.x,le=2*this.canonical.y;return[new ra(I,this.wrap,I,Z,le),new ra(I,this.wrap,I,Z+1,le),new ra(I,this.wrap,I,Z,le+1),new ra(I,this.wrap,I,Z+1,le+1)]},ra.prototype.isLessThan=function(M){return this.wrap<M.wrap||!(this.wrap>M.wrap)&&(this.overscaledZ<M.overscaledZ||!(this.overscaledZ>M.overscaledZ)&&(this.canonical.x<M.canonical.x||!(this.canonical.x>M.canonical.x)&&this.canonical.y<M.canonical.y))},ra.prototype.wrapped=function(){return new ra(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ra.prototype.unwrapTo=function(M){return new ra(this.overscaledZ,M,this.canonical.z,this.canonical.x,this.canonical.y)},ra.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ra.prototype.toUnwrapped=function(){return new ch(this.wrap,this.canonical)},ra.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ra.prototype.getTilePoint=function(M){return this.canonical.getTilePoint(new kl(M.x-this.wrap,M.y))},br("CanonicalTileID",Ml),br("OverscaledTileID",ra,{omit:["posMatrix"]});var el=function(M,I,Z){if(this.uid=M,I.height!==I.width)throw new RangeError("DEM tiles must be square");if(Z&&"mapbox"!==Z&&"terrarium"!==Z)return S('"'+Z+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=I.height;var le=this.dim=I.height-2;this.data=new Uint32Array(I.data.buffer),this.encoding=Z||"mapbox";for(var Se=0;Se<le;Se++)this.data[this._idx(-1,Se)]=this.data[this._idx(0,Se)],this.data[this._idx(le,Se)]=this.data[this._idx(le-1,Se)],this.data[this._idx(Se,-1)]=this.data[this._idx(Se,0)],this.data[this._idx(Se,le)]=this.data[this._idx(Se,le-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(le,-1)]=this.data[this._idx(le-1,0)],this.data[this._idx(-1,le)]=this.data[this._idx(0,le-1)],this.data[this._idx(le,le)]=this.data[this._idx(le-1,le-1)]};el.prototype.get=function(M,I){var Z=new Uint8Array(this.data.buffer),le=4*this._idx(M,I);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(Z[le],Z[le+1],Z[le+2])},el.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},el.prototype._idx=function(M,I){if(M<-1||M>=this.dim+1||I<-1||I>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(I+1)*this.stride+(M+1)},el.prototype._unpackMapbox=function(M,I,Z){return(256*M*256+256*I+Z)/10-1e4},el.prototype._unpackTerrarium=function(M,I,Z){return 256*M+I+Z/256-32768},el.prototype.getPixels=function(){return new eo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},el.prototype.backfillBorder=function(M,I,Z){if(this.dim!==M.dim)throw new Error("dem dimension mismatch");var le=I*this.dim,Se=I*this.dim+this.dim,De=Z*this.dim,Ue=Z*this.dim+this.dim;switch(I){case-1:le=Se-1;break;case 1:Se=le+1}switch(Z){case-1:De=Ue-1;break;case 1:Ue=De+1}for(var Ke=-I*this.dim,ot=-Z*this.dim,xt=De;xt<Ue;xt++)for(var _t=le;_t<Se;_t++)this.data[this._idx(_t,xt)]=M.data[this._idx(_t+Ke,xt+ot)]},br("DEMData",el);var ec=function(M){this._stringToNumber={},this._numberToString=[];for(var I=0;I<M.length;I++){var Z=M[I];this._stringToNumber[Z]=I,this._numberToString[I]=Z}};ec.prototype.encode=function(M){return this._stringToNumber[M]},ec.prototype.decode=function(M){return this._numberToString[M]};var tc=function(M,I,Z,le,Se){this.type="Feature",this._vectorTileFeature=M,M._z=I,M._x=Z,M._y=le,this.properties=M.properties,this.id=Se},Vc={geometry:{configurable:!0}};Vc.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Vc.geometry.set=function(M){this._geometry=M},tc.prototype.toJSON=function(){var M={geometry:this.geometry};for(var I in this)"_geometry"!==I&&"_vectorTileFeature"!==I&&(M[I]=this[I]);return M},Object.defineProperties(tc.prototype,Vc);var Xl=function(){this.state={},this.stateChanges={},this.deletedStates={}};Xl.prototype.updateState=function(M,I,Z){var le=String(I);if(this.stateChanges[M]=this.stateChanges[M]||{},this.stateChanges[M][le]=this.stateChanges[M][le]||{},u(this.stateChanges[M][le],Z),null===this.deletedStates[M])for(var Se in this.deletedStates[M]={},this.state[M])Se!==le&&(this.deletedStates[M][Se]=null);else if(this.deletedStates[M]&&null===this.deletedStates[M][le])for(var De in this.deletedStates[M][le]={},this.state[M][le])Z[De]||(this.deletedStates[M][le][De]=null);else for(var Ue in Z)this.deletedStates[M]&&this.deletedStates[M][le]&&null===this.deletedStates[M][le][Ue]&&delete this.deletedStates[M][le][Ue]},Xl.prototype.removeFeatureState=function(M,I,Z){if(null!==this.deletedStates[M]){var le=String(I);if(this.deletedStates[M]=this.deletedStates[M]||{},Z&&void 0!==I)null!==this.deletedStates[M][le]&&(this.deletedStates[M][le]=this.deletedStates[M][le]||{},this.deletedStates[M][le][Z]=null);else if(void 0!==I)if(this.stateChanges[M]&&this.stateChanges[M][le])for(Z in this.deletedStates[M][le]={},this.stateChanges[M][le])this.deletedStates[M][le][Z]=null;else this.deletedStates[M][le]=null;else this.deletedStates[M]=null}},Xl.prototype.getState=function(M,I){var Z=String(I),De=u({},(this.state[M]||{})[Z],(this.stateChanges[M]||{})[Z]);if(null===this.deletedStates[M])return{};if(this.deletedStates[M]){var Ue=this.deletedStates[M][I];if(null===Ue)return{};for(var Ke in Ue)delete De[Ke]}return De},Xl.prototype.initializeTileState=function(M,I){M.setFeatureState(this.state,I)},Xl.prototype.coalesceChanges=function(M,I){var Z={};for(var le in this.stateChanges){this.state[le]=this.state[le]||{};var Se={};for(var De in this.stateChanges[le])this.state[le][De]||(this.state[le][De]={}),u(this.state[le][De],this.stateChanges[le][De]),Se[De]=this.state[le][De];Z[le]=Se}for(var Ue in this.deletedStates){this.state[Ue]=this.state[Ue]||{};var Ke={};if(null===this.deletedStates[Ue])for(var ot in this.state[Ue])Ke[ot]={},this.state[Ue][ot]={};else for(var xt in this.deletedStates[Ue]){if(null===this.deletedStates[Ue][xt])this.state[Ue][xt]={};else for(var _t=0,Ot=Object.keys(this.deletedStates[Ue][xt]);_t<Ot.length;_t+=1)delete this.state[Ue][xt][Ot[_t]];Ke[xt]=this.state[Ue][xt]}Z[Ue]=Z[Ue]||{},u(Z[Ue],Ke)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(Z).length)for(var Rt in M)M[Rt].setFeatureState(Z,I)};var tl=function(M,I){this.tileID=M,this.x=M.canonical.x,this.y=M.canonical.y,this.z=M.canonical.z,this.grid=new Vi(Jr,16,0),this.grid3D=new Vi(Jr,16,0),this.featureIndexArray=new Ht,this.promoteId=I};function fh(M,I,Z,le,Se){return v(M,function(De,Ue){var Ke=I instanceof Xi?I.get(Ue):null;return Ke&&Ke.evaluate?Ke.evaluate(Z,le,Se):Ke})}function hh(M){for(var I=1/0,Z=1/0,le=-1/0,Se=-1/0,De=0,Ue=M;De<Ue.length;De+=1){var Ke=Ue[De];I=Math.min(I,Ke.x),Z=Math.min(Z,Ke.y),le=Math.max(le,Ke.x),Se=Math.max(Se,Ke.y)}return{minX:I,minY:Z,maxX:le,maxY:Se}}function sd(M,I){return I-M}tl.prototype.insert=function(M,I,Z,le,Se,De){var Ue=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(Z,le,Se);for(var Ke=De?this.grid3D:this.grid,ot=0;ot<I.length;ot++){for(var xt=I[ot],_t=[1/0,1/0,-1/0,-1/0],Ot=0;Ot<xt.length;Ot++){var Bt=xt[Ot];_t[0]=Math.min(_t[0],Bt.x),_t[1]=Math.min(_t[1],Bt.y),_t[2]=Math.max(_t[2],Bt.x),_t[3]=Math.max(_t[3],Bt.y)}_t[0]<Jr&&_t[1]<Jr&&_t[2]>=0&&_t[3]>=0&&Ke.insert(Ue,_t[0],_t[1],_t[2],_t[3])}},tl.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Fl.VectorTile(new Hu(this.rawTileData)).layers,this.sourceLayerCoder=new ec(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},tl.prototype.query=function(M,I,Z,le){var Se=this;this.loadVTLayers();for(var De=M.params||{},Ue=Jr/M.tileSize/M.scale,Ke=os(De.filter),ot=M.queryGeometry,xt=M.queryPadding*Ue,_t=hh(ot),Ot=this.grid.query(_t.minX-xt,_t.minY-xt,_t.maxX+xt,_t.maxY+xt),Bt=hh(M.cameraQueryGeometry),Rt=0,Qt=this.grid3D.query(Bt.minX-xt,Bt.minY-xt,Bt.maxX+xt,Bt.maxY+xt,function(Nn,Gn,Jn,hr){return function(sr,gr,wr,zr,Ar){for(var Dr=0,Cr=sr;Dr<Cr.length;Dr+=1){var Tr=Cr[Dr];if(gr<=Tr.x&&wr<=Tr.y&&zr>=Tr.x&&Ar>=Tr.y)return!0}var Vr=[new t(gr,wr),new t(gr,Ar),new t(zr,Ar),new t(zr,wr)];if(sr.length>2)for(var Fr=0,di=Vr;Fr<di.length;Fr+=1)if(dl(sr,di[Fr]))return!0;for(var Ir=0;Ir<sr.length-1;Ir++)if(au(sr[Ir],sr[Ir+1],Vr))return!0;return!1}(M.cameraQueryGeometry,Nn-xt,Gn-xt,Jn+xt,hr+xt)});Rt<Qt.length;Rt+=1)Ot.push(Qt[Rt]);Ot.sort(sd);for(var Tn,wn={},Pn=function(Nn){var Gn=Ot[Nn];if(Gn!==Tn){Tn=Gn;var Jn=Se.featureIndexArray.get(Gn),hr=null;Se.loadMatchingFeature(wn,Jn.bucketIndex,Jn.sourceLayerIndex,Jn.featureIndex,Ke,De.layers,De.availableImages,I,Z,le,function(sr,gr,wr){return hr||(hr=Oa(sr)),gr.queryIntersectsFeature(ot,sr,wr,hr,Se.z,M.transform,Ue,M.pixelPosMatrix)})}},On=0;On<Ot.length;On++)Pn(On);return wn},tl.prototype.loadMatchingFeature=function(M,I,Z,le,Se,De,Ue,Ke,ot,xt,_t){var Ot=this.bucketLayerIDs[I];if(!De||function(hr,sr){for(var gr=0;gr<hr.length;gr++)if(sr.indexOf(hr[gr])>=0)return!0;return!1}(De,Ot)){var Bt=this.sourceLayerCoder.decode(Z),Rt=this.vtLayers[Bt].feature(le);if(Se.filter(new Kr(this.tileID.overscaledZ),Rt))for(var Qt=this.getId(Rt,Bt),an=0;an<Ot.length;an++){var Tn=Ot[an];if(!(De&&De.indexOf(Tn)<0)){var wn=Ke[Tn];if(wn){var Pn={};void 0!==Qt&&xt&&(Pn=xt.getState(wn.sourceLayer||"_geojsonTileLayer",Qt));var On=ot[Tn];On.paint=fh(On.paint,wn.paint,Rt,Pn,Ue),On.layout=fh(On.layout,wn.layout,Rt,Pn,Ue);var Nn=!_t||_t(Rt,wn,Pn);if(Nn){var Gn=new tc(Rt,this.z,this.x,this.y,Qt);Gn.layer=On;var Jn=M[Tn];void 0===Jn&&(Jn=M[Tn]=[]),Jn.push({featureIndex:le,feature:Gn,intersectionZ:Nn})}}}}}},tl.prototype.lookupSymbolFeatures=function(M,I,Z,le,Se,De,Ue,Ke){var ot={};this.loadVTLayers();for(var xt=os(Se),_t=0,Ot=M;_t<Ot.length;_t+=1)this.loadMatchingFeature(ot,Z,le,Ot[_t],xt,De,Ue,Ke,I);return ot},tl.prototype.hasLayer=function(M){for(var I=0,Z=this.bucketLayerIDs;I<Z.length;I+=1)for(var le=0,Se=Z[I];le<Se.length;le+=1)if(M===Se[le])return!0;return!1},tl.prototype.getId=function(M,I){var Z=M.id;return this.promoteId&&"boolean"==typeof(Z=M.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[I]])&&(Z=Number(Z)),Z},br("FeatureIndex",tl,{omit:["rawTileData","sourceLayerCoder"]});var ca=function(M,I){this.tileID=M,this.uid=c(),this.uses=0,this.tileSize=I,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ca.prototype.registerFadeDuration=function(M){var I=M+this.timeAdded;I<J.now()||this.fadeEndTime&&I<this.fadeEndTime||(this.fadeEndTime=I)},ca.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ca.prototype.loadVectorData=function(M,I,Z){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",M){for(var le in M.featureIndex&&(this.latestFeatureIndex=M.featureIndex,M.rawTileData?(this.latestRawTileData=M.rawTileData,this.latestFeatureIndex.rawTileData=M.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=M.collisionBoxArray,this.buckets=function(xt,_t){var Ot={};if(!_t)return Ot;for(var Bt=function(){var an=Qt[Rt],Tn=an.layerIds.map(function(Nn){return _t.getLayer(Nn)}).filter(Boolean);if(0!==Tn.length){an.layers=Tn,an.stateDependentLayerIds&&(an.stateDependentLayers=an.stateDependentLayerIds.map(function(Nn){return Tn.filter(function(Gn){return Gn.id===Nn})[0]}));for(var wn=0,Pn=Tn;wn<Pn.length;wn+=1)Ot[Pn[wn].id]=an}},Rt=0,Qt=xt;Rt<Qt.length;Rt+=1)Bt();return Ot}(M.buckets,I.style),this.hasSymbolBuckets=!1,this.buckets){var Se=this.buckets[le];if(Se instanceof ai){if(this.hasSymbolBuckets=!0,!Z)break;Se.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var De in this.buckets){var Ue=this.buckets[De];if(Ue instanceof ai&&Ue.hasRTLText){this.hasRTLText=!0,Ti.isLoading()||Ti.isLoaded()||"deferred"!==Ka()||$s();break}}for(var Ke in this.queryPadding=0,this.buckets){var ot=this.buckets[Ke];this.queryPadding=Math.max(this.queryPadding,I.style.getLayer(Ke).queryRadius(ot))}M.imageAtlas&&(this.imageAtlas=M.imageAtlas),M.glyphAtlasImage&&(this.glyphAtlasImage=M.glyphAtlasImage)}else this.collisionBoxArray=new ht},ca.prototype.unloadVectorData=function(){for(var M in this.buckets)this.buckets[M].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ca.prototype.getBucket=function(M){return this.buckets[M.id]},ca.prototype.upload=function(M){for(var I in this.buckets){var Z=this.buckets[I];Z.uploadPending()&&Z.upload(M)}var le=M.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Tl(M,this.imageAtlas.image,le.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Tl(M,this.glyphAtlasImage,le.ALPHA),this.glyphAtlasImage=null)},ca.prototype.prepare=function(M){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(M,this.imageAtlasTexture)},ca.prototype.queryRenderedFeatures=function(M,I,Z,le,Se,De,Ue,Ke,ot,xt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:le,cameraQueryGeometry:Se,scale:De,tileSize:this.tileSize,pixelPosMatrix:xt,transform:Ke,params:Ue,queryPadding:this.queryPadding*ot},M,I,Z):{}},ca.prototype.querySourceFeatures=function(M,I){var Z=this.latestFeatureIndex;if(Z&&Z.rawTileData){var le=Z.loadVTLayers(),Se=I?I.sourceLayer:"",De=le._geojsonTileLayer||le[Se];if(De)for(var Ue=os(I&&I.filter),Ke=this.tileID.canonical,ot=Ke.z,xt=Ke.x,_t=Ke.y,Ot={z:ot,x:xt,y:_t},Bt=0;Bt<De.length;Bt++){var Rt=De.feature(Bt);if(Ue.filter(new Kr(this.tileID.overscaledZ),Rt)){var Qt=Z.getId(Rt,Se),an=new tc(Rt,ot,xt,_t,Qt);an.tile=Ot,M.push(an)}}}},ca.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ca.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ca.prototype.setExpiryData=function(M){var I=this.expirationTime;if(M.cacheControl){var Z=C(M.cacheControl);Z["max-age"]&&(this.expirationTime=Date.now()+1e3*Z["max-age"])}else M.expires&&(this.expirationTime=new Date(M.expires).getTime());if(this.expirationTime){var le=Date.now(),Se=!1;if(this.expirationTime>le)Se=!1;else if(I)if(this.expirationTime<I)Se=!0;else{var De=this.expirationTime-I;De?this.expirationTime=le+Math.max(De,3e4):Se=!0}else Se=!0;Se?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ca.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ca.prototype.setFeatureState=function(M,I){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(M).length){var Z=this.latestFeatureIndex.loadVTLayers();for(var le in this.buckets)if(I.style.hasLayer(le)){var Se=this.buckets[le],De=Se.layers[0].sourceLayer||"_geojsonTileLayer",Ue=Z[De],Ke=M[De];if(Ue&&Ke&&0!==Object.keys(Ke).length){Se.update(Ke,Ue,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ot=I&&I.style&&I.style.getLayer(le);ot&&(this.queryPadding=Math.max(this.queryPadding,ot.queryRadius(Se)))}}}},ca.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ca.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<J.now()},ca.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ca.prototype.setHoldDuration=function(M){this.symbolFadeHoldUntil=J.now()+M},ca.prototype.setDependencies=function(M,I){for(var Z={},le=0,Se=I;le<Se.length;le+=1)Z[Se[le]]=!0;this.dependencies[M]=Z},ca.prototype.hasDependency=function(M,I){for(var Z=0,le=M;Z<le.length;Z+=1){var De=this.dependencies[le[Z]];if(De)for(var Ue=0,Ke=I;Ue<Ke.length;Ue+=1)if(De[Ke[Ue]])return!0}return!1};var yl=self.performance,ph=function(M){this._marks={start:[M.url,"start"].join("#"),end:[M.url,"end"].join("#"),measure:M.url.toString()},yl.mark(this._marks.start)};ph.prototype.finish=function(){yl.mark(this._marks.end);var M=yl.getEntriesByName(this._marks.measure);return 0===M.length&&(yl.measure(this._marks.measure,this._marks.start,this._marks.end),M=yl.getEntriesByName(this._marks.measure),yl.clearMarks(this._marks.start),yl.clearMarks(this._marks.end),yl.clearMeasures(this._marks.measure)),M},l.Actor=Wl,l.AlphaImage=wl,l.CanonicalTileID=Ml,l.CollisionBoxArray=ht,l.Color=fn,l.DEMData=el,l.DataConstantProperty=Mr,l.DictionaryCoder=ec,l.EXTENT=Jr,l.ErrorEvent=rt,l.EvaluationParameters=Kr,l.Event=We,l.Evented=nt,l.FeatureIndex=tl,l.FillBucket=As,l.FillExtrusionBucket=Ss,l.ImageAtlas=gu,l.ImagePosition=qu,l.LineBucket=to,l.LngLat=Mi,l.LngLatBounds=na,l.MercatorCoordinate=kl,l.ONE_EM=ya,l.OverscaledTileID=ra,l.Point=t,l.Point$1=t,l.Properties=Ji,l.Protobuf=Hu,l.RGBAImage=eo,l.RequestManager=oe,l.RequestPerformance=ph,l.ResourceType=dt,l.SegmentVector=vn,l.SourceFeatureState=Xl,l.StructArrayLayout1ui2=Ge,l.StructArrayLayout2f1f2i16=Ae,l.StructArrayLayout2i4=va,l.StructArrayLayout3ui6=Q,l.StructArrayLayout4i8=Qo,l.SymbolBucket=ai,l.Texture=Tl,l.Tile=ca,l.Transitionable=Ua,l.Uniform1f=Rr,l.Uniform1i=Er,l.Uniform2f=jr,l.Uniform3f=Wr,l.Uniform4f=li,l.UniformColor=ui,l.UniformMatrix4f=ki,l.UnwrappedTileID=ch,l.ValidationError=Be,l.WritingMode=zo,l.ZoomHistory=ho,l.add=function(M,I,Z){return M[0]=I[0]+Z[0],M[1]=I[1]+Z[1],M[2]=I[2]+Z[2],M},l.addDynamicAttributes=Bc,l.asyncAll=function(M,I,Z){if(!M.length)return Z(null,[]);var le=M.length,Se=new Array(M.length),De=null;M.forEach(function(Ue,Ke){I(Ue,function(ot,xt){ot&&(De=ot),Se[Ke]=xt,0==--le&&Z(De,Se)})})},l.bezier=r,l.bindAll=h,l.browser=J,l.cacheEntryPossiblyAdded=function(M){++it>ve&&(M.getActor().send("enforceCacheSizeLimit",Te),it=0)},l.clamp=o,l.clearTileCache=function(M){var I=self.caches.delete(ce);M&&I.catch(M).then(function(){return M()})},l.clipLine=Yf,l.clone=function(M){var I=new Ro(16);return I[0]=M[0],I[1]=M[1],I[2]=M[2],I[3]=M[3],I[4]=M[4],I[5]=M[5],I[6]=M[6],I[7]=M[7],I[8]=M[8],I[9]=M[9],I[10]=M[10],I[11]=M[11],I[12]=M[12],I[13]=M[13],I[14]=M[14],I[15]=M[15],I},l.clone$1=_,l.clone$2=function(M){var I=new Ro(3);return I[0]=M[0],I[1]=M[1],I[2]=M[2],I},l.collisionCircleLayout=Sp,l.config=X,l.create=function(){var M=new Ro(16);return Ro!=Float32Array&&(M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[11]=0,M[12]=0,M[13]=0,M[14]=0),M[0]=1,M[5]=1,M[10]=1,M[15]=1,M},l.create$1=function(){var M=new Ro(9);return Ro!=Float32Array&&(M[1]=0,M[2]=0,M[3]=0,M[5]=0,M[6]=0,M[7]=0),M[0]=1,M[4]=1,M[8]=1,M},l.create$2=function(){var M=new Ro(4);return Ro!=Float32Array&&(M[1]=0,M[2]=0),M[0]=1,M[3]=1,M},l.createCommonjsModule=T,l.createExpression=xs,l.createLayout=Fi,l.createStyleLayer=function(M){return"custom"===M.type?new ad(M):new od[M.type](M)},l.cross=function(M,I,Z){var le=I[0],Se=I[1],De=I[2],Ue=Z[0],Ke=Z[1],ot=Z[2];return M[0]=Se*ot-De*Ke,M[1]=De*Ue-le*ot,M[2]=le*Ke-Se*Ue,M},l.deepEqual=function M(I,Z){if(Array.isArray(I)){if(!Array.isArray(Z)||I.length!==Z.length)return!1;for(var le=0;le<I.length;le++)if(!M(I[le],Z[le]))return!1;return!0}if("object"==typeof I&&null!==I&&null!==Z){if("object"!=typeof Z||Object.keys(I).length!==Object.keys(Z).length)return!1;for(var Se in I)if(!M(I[Se],Z[Se]))return!1;return!0}return I===Z},l.dot=function(M,I){return M[0]*I[0]+M[1]*I[1]+M[2]*I[2]},l.dot$1=function(M,I){return M[0]*I[0]+M[1]*I[1]+M[2]*I[2]+M[3]*I[3]},l.ease=n,l.emitValidationErrors=Ba,l.endsWith=y,l.enforceCacheSizeLimit=function(M){Re(),se&&se.then(function(I){I.keys().then(function(Z){for(var le=0;le<Z.length-M;le++)I.delete(Z[le])})})},l.evaluateSizeForFeature=jf,l.evaluateSizeForZoom=Uf,l.evaluateVariableOffset=Jf,l.evented=zi,l.extend=u,l.featureFilter=os,l.filterObject=m,l.fromRotation=function(M,I){var Z=Math.sin(I),le=Math.cos(I);return M[0]=le,M[1]=Z,M[2]=0,M[3]=-Z,M[4]=le,M[5]=0,M[6]=0,M[7]=0,M[8]=1,M},l.getAnchorAlignment=Dc,l.getAnchorJustification=Fc,l.getArrayBuffer=Tt,l.getImage=Ze,l.getJSON=function(M,I){return st(u(M,{type:"json"}),I)},l.getRTLTextPluginStatus=Ka,l.getReferrer=mt,l.getVideo=function(M,I){var Z,le,Se=self.document.createElement("video");Se.muted=!0,Se.onloadstart=function(){I(null,Se)};for(var De=0;De<M.length;De++){var Ue=self.document.createElement("source");Z=M[De],le=void 0,(le=self.document.createElement("a")).href=Z,le.protocol===self.document.location.protocol&&le.host===self.document.location.host||(Se.crossOrigin="Anonymous"),Ue.src=M[De],Se.appendChild(Ue)}return{cancel:function(){}}},l.identity=xc,l.invert=function(M,I){var Z=I[0],le=I[1],Se=I[2],De=I[3],Ue=I[4],Ke=I[5],ot=I[6],xt=I[7],_t=I[8],Ot=I[9],Bt=I[10],Rt=I[11],Qt=I[12],an=I[13],Tn=I[14],wn=I[15],Pn=Z*Ke-le*Ue,On=Z*ot-Se*Ue,Nn=Z*xt-De*Ue,Gn=le*ot-Se*Ke,Jn=le*xt-De*Ke,hr=Se*xt-De*ot,sr=_t*an-Ot*Qt,gr=_t*Tn-Bt*Qt,wr=_t*wn-Rt*Qt,zr=Ot*Tn-Bt*an,Ar=Ot*wn-Rt*an,Dr=Bt*wn-Rt*Tn,Cr=Pn*Dr-On*Ar+Nn*zr+Gn*wr-Jn*gr+hr*sr;return Cr?(M[0]=(Ke*Dr-ot*Ar+xt*zr)*(Cr=1/Cr),M[1]=(Se*Ar-le*Dr-De*zr)*Cr,M[2]=(an*hr-Tn*Jn+wn*Gn)*Cr,M[3]=(Bt*Jn-Ot*hr-Rt*Gn)*Cr,M[4]=(ot*wr-Ue*Dr-xt*gr)*Cr,M[5]=(Z*Dr-Se*wr+De*gr)*Cr,M[6]=(Tn*Nn-Qt*hr-wn*On)*Cr,M[7]=(_t*hr-Bt*Nn+Rt*On)*Cr,M[8]=(Ue*Ar-Ke*wr+xt*sr)*Cr,M[9]=(le*wr-Z*Ar-De*sr)*Cr,M[10]=(Qt*Jn-an*Nn+wn*Pn)*Cr,M[11]=(Ot*Nn-_t*Jn-Rt*Pn)*Cr,M[12]=(Ke*gr-Ue*zr-ot*sr)*Cr,M[13]=(Z*zr-le*gr+Se*sr)*Cr,M[14]=(an*On-Qt*Gn-Tn*Pn)*Cr,M[15]=(_t*Gn-Ot*On+Bt*Pn)*Cr,M):null},l.isChar=mr,l.isMapboxURL=ue,l.keysDifference=function(M,I){var Z=[];for(var le in M)le in I||Z.push(le);return Z},l.makeRequest=st,l.mapObject=v,l.mercatorXfromLng=sh,l.mercatorYfromLat=lh,l.mercatorZfromAltitude=uh,l.mul=Vh,l.multiply=af,l.mvt=Fl,l.normalize=function(M,I){var Z=I[0],le=I[1],Se=I[2],De=Z*Z+le*le+Se*Se;return De>0&&(De=1/Math.sqrt(De)),M[0]=I[0]*De,M[1]=I[1]*De,M[2]=I[2]*De,M},l.number=Zn,l.offscreenCanvasSupported=Qe,l.ortho=function(M,I,Z,le,Se,De,Ue){var Ke=1/(I-Z),ot=1/(le-Se),xt=1/(De-Ue);return M[0]=-2*Ke,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=-2*ot,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=2*xt,M[11]=0,M[12]=(I+Z)*Ke,M[13]=(Se+le)*ot,M[14]=(Ue+De)*xt,M[15]=1,M},l.parseGlyphPBF=function(M){return new Hu(M).readFields(Bp,[])},l.pbf=Hu,l.performSymbolLayout=function(M,I,Z,le,Se,De,Ue){M.createArrays(),M.tilePixelRatio=Jr/(512*M.overscaling),M.compareText={},M.iconsNeedLinear=!1;var ot=M.layers[0].layout,xt=M.layers[0]._unevaluatedLayout._values,_t={};if("composite"===M.textSizeData.kind){var Ot=M.textSizeData,Rt=Ot.maxZoom;_t.compositeTextSizes=[xt["text-size"].possiblyEvaluate(new Kr(Ot.minZoom),Ue),xt["text-size"].possiblyEvaluate(new Kr(Rt),Ue)]}if("composite"===M.iconSizeData.kind){var Qt=M.iconSizeData,Tn=Qt.maxZoom;_t.compositeIconSizes=[xt["icon-size"].possiblyEvaluate(new Kr(Qt.minZoom),Ue),xt["icon-size"].possiblyEvaluate(new Kr(Tn),Ue)]}_t.layoutTextSize=xt["text-size"].possiblyEvaluate(new Kr(M.zoom+1),Ue),_t.layoutIconSize=xt["icon-size"].possiblyEvaluate(new Kr(M.zoom+1),Ue),_t.textMaxSize=xt["text-size"].possiblyEvaluate(new Kr(18));for(var wn=ot.get("text-line-height")*ya,Pn="map"===ot.get("text-rotation-alignment")&&"point"!==ot.get("symbol-placement"),On=ot.get("text-keep-upright"),Nn=ot.get("text-size"),Gn=function(){var sr=hr[Jn],gr=ot.get("text-font").evaluate(sr,{},Ue).join(","),wr=Nn.evaluate(sr,{},Ue),zr=_t.layoutTextSize.evaluate(sr,{},Ue),Ar=_t.layoutIconSize.evaluate(sr,{},Ue),Dr={horizontal:{},vertical:void 0},Cr=sr.text,Tr=[0,0];if(Cr){var Vr=Cr.toString(),Fr=ot.get("text-letter-spacing").evaluate(sr,{},Ue)*ya,di=function(Br){for(var Zr=0,Ni=Br;Zr<Ni.length;Zr+=1)if(fi=Ni[Zr].charCodeAt(0),mr.Arabic(fi)||mr["Arabic Supplement"](fi)||mr["Arabic Extended-A"](fi)||mr["Arabic Presentation Forms-A"](fi)||mr["Arabic Presentation Forms-B"](fi))return!1;var fi;return!0}(Vr)?Fr:0,Ir=ot.get("text-anchor").evaluate(sr,{},Ue),oi=ot.get("text-variable-anchor");if(!oi){var yi=ot.get("text-radial-offset").evaluate(sr,{},Ue);Tr=yi?Jf(Ir,[yi*ya,zc]):ot.get("text-offset").evaluate(sr,{},Ue).map(function(Br){return Br*ya})}var bi=Pn?"center":ot.get("text-justify").evaluate(sr,{},Ue),_i=ot.get("symbol-placement"),gi="point"===_i?ot.get("text-max-width").evaluate(sr,{},Ue)*ya:0,ia=function(){M.allowVerticalPlacement&&Na(Vr)&&(Dr.vertical=Zu(Cr,I,Z,Se,gr,gi,wn,Ir,"left",di,Tr,zo.vertical,!0,_i,zr,wr))};if(!Pn&&oi){for(var Ei="auto"===bi?oi.map(function(Br){return Fc(Br)}):[bi],fa=!1,Aa=0;Aa<Ei.length;Aa++){var xa=Ei[Aa];if(!Dr.horizontal[xa])if(fa)Dr.horizontal[xa]=Dr.horizontal[0];else{var Ha=Zu(Cr,I,Z,Se,gr,gi,wn,"center",xa,di,Tr,zo.horizontal,!1,_i,zr,wr);Ha&&(Dr.horizontal[xa]=Ha,fa=1===Ha.positionedLines.length)}}ia()}else{"auto"===bi&&(bi=Fc(Ir));var ba=Zu(Cr,I,Z,Se,gr,gi,wn,Ir,bi,di,Tr,zo.horizontal,!1,_i,zr,wr);ba&&(Dr.horizontal[bi]=ba),ia(),Na(Vr)&&Pn&&On&&(Dr.vertical=Zu(Cr,I,Z,Se,gr,gi,wn,Ir,bi,di,Tr,zo.vertical,!1,_i,zr,wr))}}var Br,Zr,fi,Ga,Da,sa=void 0,_a=!1;if(sr.icon&&sr.icon.name){var ha=le[sr.icon.name];ha&&(Br=Se[sr.icon.name],Zr=ot.get("icon-offset").evaluate(sr,{},Ue),fi=Dc(ot.get("icon-anchor").evaluate(sr,{},Ue)),sa={image:Br,top:Da=Zr[1]-Br.displaySize[1]*fi.verticalAlign,bottom:Da+Br.displaySize[1],left:Ga=Zr[0]-Br.displaySize[0]*fi.horizontalAlign,right:Ga+Br.displaySize[0]},_a=ha.sdf,void 0===M.sdfIcons?M.sdfIcons=ha.sdf:M.sdfIcons!==ha.sdf&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ha.pixelRatio!==M.pixelRatio||0!==ot.get("icon-rotate").constantOr(1))&&(M.iconsNeedLinear=!0))}var la=$f(Dr.horizontal)||Dr.vertical;M.iconsInText=!!la&&la.iconsInText,(la||sa)&&function(Br,Zr,Ni,fi,Oi,Ai,$r,ji,Ga,yo,Da){var Ls=Ai.textMaxSize.evaluate(Zr,{});void 0===Ls&&(Ls=$r);var nl,pa=Br.layers[0].layout,Cs=pa.get("icon-offset").evaluate(Zr,{},Da),ps=$f(Ni.horizontal),Al=$r/24,nc=Br.tilePixelRatio*Al,Sl=Br.tilePixelRatio*Ls/24,rc=Br.tilePixelRatio*ji,bu=Br.tilePixelRatio*pa.get("symbol-spacing"),Hc=pa.get("text-padding")*Br.tilePixelRatio,ic=pa.get("icon-padding")*Br.tilePixelRatio,Jl=pa.get("text-max-angle")/180*Math.PI,ac="map"===pa.get("text-rotation-alignment")&&"point"!==pa.get("symbol-placement"),oc="map"===pa.get("icon-rotation-alignment")&&"point"!==pa.get("symbol-placement"),_u=pa.get("symbol-placement"),Gc=bu/2,wu=pa.get("icon-text-fit");fi&&"none"!==wu&&(Br.allowVerticalPlacement&&Ni.vertical&&(nl=Nf(fi,Ni.vertical,wu,pa.get("icon-text-fit-padding"),Cs,Al)),ps&&(fi=Nf(fi,ps,wu,pa.get("icon-text-fit-padding"),Cs,Al)));var El=function(ld,Eu){Eu.x<0||Eu.x>=Jr||Eu.y<0||Eu.y>=Jr||function(Yi,Ps,ud,xl,Jc,yh,fc,Us,hc,Lu,pc,dc,Kc,xh,Cu,bh,_h,wh,Th,kh,Fo,gc,Mh,Vs,cd){var Ah,Pl,Ql,eu,tu,nu=Yi.addToLineVertexArray(Ps,ud),Sh=0,Eh=0,Lh=0,Ch=0,$c=-1,Qc=-1,rl={},Ph=or(""),ef=0,tf=0;if(void 0===Us._unevaluatedLayout.getValue("text-radial-offset")?(ef=(Ah=Us.layout.get("text-offset").evaluate(Fo,{},Vs).map(function(Ou){return Ou*ya}))[0],tf=Ah[1]):(ef=Us.layout.get("text-radial-offset").evaluate(Fo,{},Vs)*ya,tf=zc),Yi.allowVerticalPlacement&&xl.vertical){var Oh=Us.layout.get("text-rotate").evaluate(Fo,{},Vs)+90;eu=new Ku(hc,Ps,Lu,pc,dc,xl.vertical,Kc,xh,Cu,Oh),fc&&(tu=new Ku(hc,Ps,Lu,pc,dc,fc,_h,wh,Cu,Oh))}if(Jc){var nf=Us.layout.get("icon-rotate").evaluate(Fo,{}),Ih="none"!==Us.layout.get("icon-text-fit"),Dh=Wf(Jc,nf,Mh,Ih),rf=fc?Wf(fc,nf,Mh,Ih):void 0;Ql=new Ku(hc,Ps,Lu,pc,dc,Jc,_h,wh,!1,nf),Sh=4*Dh.length;var Rh=Yi.iconSizeData,Pu=null;"source"===Rh.kind?(Pu=[Es*Us.layout.get("icon-size").evaluate(Fo,{})])[0]>ml&&S(Yi.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Rh.kind&&((Pu=[Es*gc.compositeIconSizes[0].evaluate(Fo,{},Vs),Es*gc.compositeIconSizes[1].evaluate(Fo,{},Vs)])[0]>ml||Pu[1]>ml)&&S(Yi.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Yi.addSymbols(Yi.icon,Dh,Pu,kh,Th,Fo,!1,Ps,nu.lineStartIndex,nu.lineLength,-1,Vs),$c=Yi.icon.placedSymbolArray.length-1,rf&&(Eh=4*rf.length,Yi.addSymbols(Yi.icon,rf,Pu,kh,Th,Fo,zo.vertical,Ps,nu.lineStartIndex,nu.lineLength,-1,Vs),Qc=Yi.icon.placedSymbolArray.length-1)}for(var zh in xl.horizontal){var vc=xl.horizontal[zh];if(!Pl){Ph=or(vc.text);var hd=Us.layout.get("text-rotate").evaluate(Fo,{},Vs);Pl=new Ku(hc,Ps,Lu,pc,dc,vc,Kc,xh,Cu,hd)}var Fh=1===vc.positionedLines.length;if(Lh+=Kf(Yi,Ps,vc,yh,Us,Cu,Fo,bh,nu,xl.vertical?zo.horizontal:zo.horizontalOnly,Fh?Object.keys(xl.horizontal):[zh],rl,$c,gc,Vs),Fh)break}xl.vertical&&(Ch+=Kf(Yi,Ps,xl.vertical,yh,Us,Cu,Fo,bh,nu,zo.vertical,["vertical"],rl,Qc,gc,Vs));var pd=Pl?Pl.boxStartIndex:Yi.collisionBoxArray.length,dd=Pl?Pl.boxEndIndex:Yi.collisionBoxArray.length,gd=eu?eu.boxStartIndex:Yi.collisionBoxArray.length,vd=eu?eu.boxEndIndex:Yi.collisionBoxArray.length,md=Ql?Ql.boxStartIndex:Yi.collisionBoxArray.length,yd=Ql?Ql.boxEndIndex:Yi.collisionBoxArray.length,xd=tu?tu.boxStartIndex:Yi.collisionBoxArray.length,bd=tu?tu.boxEndIndex:Yi.collisionBoxArray.length,Hs=-1,mc=function(Ou,Nh){return Ou&&Ou.circleDiameter?Math.max(Ou.circleDiameter,Nh):Nh};Hs=mc(Pl,Hs),Hs=mc(eu,Hs),Hs=mc(Ql,Hs);var Bh=(Hs=mc(tu,Hs))>-1?1:0;Bh&&(Hs*=cd/ya),Yi.glyphOffsetArray.length>=ai.MAX_GLYPHS&&S("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Fo.sortKey&&Yi.addToSortKeyRanges(Yi.symbolInstances.length,Fo.sortKey),Yi.symbolInstances.emplaceBack(Ps.x,Ps.y,rl.right>=0?rl.right:-1,rl.center>=0?rl.center:-1,rl.left>=0?rl.left:-1,rl.vertical||-1,$c,Qc,Ph,pd,dd,gd,vd,md,yd,xd,bd,Lu,Lh,Ch,Sh,Eh,Bh,0,Kc,ef,tf,Hs)}(Br,Eu,ld,Ni,fi,Oi,nl,Br.layers[0],Br.collisionBoxArray,Zr.index,Zr.sourceLayerIndex,Br.index,nc,Hc,ac,Ga,rc,ic,oc,Cs,Zr,Ai,yo,Da,$r)};if("line"===_u)for(var Kl=0,sc=Yf(Zr.geometry,0,0,Jr,Jr);Kl<sc.length;Kl+=1)for(var lc=sc[Kl],$l=0,uc=qp(lc,bu,Jl,Ni.vertical||ps,fi,24,Sl,Br.overscaling,Jr);$l<uc.length;$l+=1){var cc=uc[$l];ps&&Xp(Br,ps.text,Gc,cc)||El(lc,cc)}else if("line-center"===_u)for(var Tu=0,ku=Zr.geometry;Tu<ku.length;Tu+=1){var Ll=ku[Tu];if(Ll.length>1){var Mu=Gp(Ll,Jl,Ni.vertical||ps,fi,24,Sl);Mu&&El(Ll,Mu)}}else if("Polygon"===Zr.type)for(var Cl=0,Au=Ac(Zr.geometry,0);Cl<Au.length;Cl+=1){var Su=Au[Cl],dh=Yp(Su,16);El(Su[0],new Ul(dh.x,dh.y,0))}else if("LineString"===Zr.type)for(var qc=0,gh=Zr.geometry;qc<gh.length;qc+=1){var Zc=gh[qc];El(Zc,new Ul(Zc[0].x,Zc[0].y,0))}else if("Point"===Zr.type)for(var Yc=0,vh=Zr.geometry;Yc<vh.length;Yc+=1)for(var Wc=0,mh=vh[Yc];Wc<mh.length;Wc+=1){var Xc=mh[Wc];El([Xc],new Ul(Xc.x,Xc.y,0))}}(M,sr,Dr,sa,le,_t,zr,Ar,Tr,_a,Ue)},Jn=0,hr=M.features;Jn<hr.length;Jn+=1)Gn();De&&M.generateCollisionDebugBuffers()},l.perspective=function(M,I,Z,le,Se){var De,Ue=1/Math.tan(I/2);return M[0]=Ue/Z,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=Ue,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[11]=-1,M[12]=0,M[13]=0,M[15]=0,null!=Se&&Se!==1/0?(M[10]=(Se+le)*(De=1/(le-Se)),M[14]=2*Se*le*De):(M[10]=-1,M[14]=-2*le),M},l.pick=function(M,I){for(var Z={},le=0;le<I.length;le++){var Se=I[le];Se in M&&(Z[Se]=M[Se])}return Z},l.plugin=Ti,l.polygonIntersectsPolygon=Va,l.postMapLoadEvent=Fe,l.postTurnstileEvent=be,l.potpack=Df,l.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],l.register=br,l.registerForPluginStateChange=function(M){return M({pluginStatus:Gi,pluginURL:ni}),zi.on("pluginStateChange",M),M},l.rotate=function(M,I,Z){var le=I[0],Se=I[1],De=I[2],Ue=I[3],Ke=Math.sin(Z),ot=Math.cos(Z);return M[0]=le*ot+De*Ke,M[1]=Se*ot+Ue*Ke,M[2]=le*-Ke+De*ot,M[3]=Se*-Ke+Ue*ot,M},l.rotateX=function(M,I,Z){var le=Math.sin(Z),Se=Math.cos(Z),De=I[4],Ue=I[5],Ke=I[6],ot=I[7],xt=I[8],_t=I[9],Ot=I[10],Bt=I[11];return I!==M&&(M[0]=I[0],M[1]=I[1],M[2]=I[2],M[3]=I[3],M[12]=I[12],M[13]=I[13],M[14]=I[14],M[15]=I[15]),M[4]=De*Se+xt*le,M[5]=Ue*Se+_t*le,M[6]=Ke*Se+Ot*le,M[7]=ot*Se+Bt*le,M[8]=xt*Se-De*le,M[9]=_t*Se-Ue*le,M[10]=Ot*Se-Ke*le,M[11]=Bt*Se-ot*le,M},l.rotateZ=function(M,I,Z){var le=Math.sin(Z),Se=Math.cos(Z),De=I[0],Ue=I[1],Ke=I[2],ot=I[3],xt=I[4],_t=I[5],Ot=I[6],Bt=I[7];return I!==M&&(M[8]=I[8],M[9]=I[9],M[10]=I[10],M[11]=I[11],M[12]=I[12],M[13]=I[13],M[14]=I[14],M[15]=I[15]),M[0]=De*Se+xt*le,M[1]=Ue*Se+_t*le,M[2]=Ke*Se+Ot*le,M[3]=ot*Se+Bt*le,M[4]=xt*Se-De*le,M[5]=_t*Se-Ue*le,M[6]=Ot*Se-Ke*le,M[7]=Bt*Se-ot*le,M},l.scale=function(M,I,Z){var le=Z[0],Se=Z[1],De=Z[2];return M[0]=I[0]*le,M[1]=I[1]*le,M[2]=I[2]*le,M[3]=I[3]*le,M[4]=I[4]*Se,M[5]=I[5]*Se,M[6]=I[6]*Se,M[7]=I[7]*Se,M[8]=I[8]*De,M[9]=I[9]*De,M[10]=I[10]*De,M[11]=I[11]*De,M[12]=I[12],M[13]=I[13],M[14]=I[14],M[15]=I[15],M},l.scale$1=function(M,I,Z){return M[0]=I[0]*Z,M[1]=I[1]*Z,M[2]=I[2]*Z,M[3]=I[3]*Z,M},l.scale$2=function(M,I,Z){return M[0]=I[0]*Z,M[1]=I[1]*Z,M[2]=I[2]*Z,M},l.setCacheLimits=function(M,I){Te=M,ve=I},l.setRTLTextPlugin=function(M,I,Z){if(void 0===Z&&(Z=!1),Gi===Ja||Gi===po||Gi===Ri)throw new Error("setRTLTextPlugin cannot be called multiple times.");ni=J.resolveURL(M),Gi=Ja,us=I,ga(),Z||$s()},l.sphericalToCartesian=function(M){var I=M[0],Z=M[1],le=M[2];return Z+=90,Z*=Math.PI/180,le*=Math.PI/180,{x:I*Math.cos(Z)*Math.sin(le),y:I*Math.sin(Z)*Math.sin(le),z:I*Math.cos(le)}},l.sqrLen=function(M){var I=M[0],Z=M[1];return I*I+Z*Z},l.styleSpec=ze,l.sub=function(M,I,Z){return M[0]=I[0]-Z[0],M[1]=I[1]-Z[1],M[2]=I[2]-Z[2],M},l.symbolSize=Hp,l.transformMat3=function(M,I,Z){var le=I[0],Se=I[1],De=I[2];return M[0]=le*Z[0]+Se*Z[3]+De*Z[6],M[1]=le*Z[1]+Se*Z[4]+De*Z[7],M[2]=le*Z[2]+Se*Z[5]+De*Z[8],M},l.transformMat4=Bu,l.translate=function(M,I,Z){var le,Se,De,Ue,Ke,ot,xt,_t,Ot,Bt,Rt,Qt,an=Z[0],Tn=Z[1],wn=Z[2];return I===M?(M[12]=I[0]*an+I[4]*Tn+I[8]*wn+I[12],M[13]=I[1]*an+I[5]*Tn+I[9]*wn+I[13],M[14]=I[2]*an+I[6]*Tn+I[10]*wn+I[14],M[15]=I[3]*an+I[7]*Tn+I[11]*wn+I[15]):(Se=I[1],De=I[2],Ue=I[3],Ke=I[4],ot=I[5],xt=I[6],_t=I[7],Ot=I[8],Bt=I[9],Rt=I[10],Qt=I[11],M[0]=le=I[0],M[1]=Se,M[2]=De,M[3]=Ue,M[4]=Ke,M[5]=ot,M[6]=xt,M[7]=_t,M[8]=Ot,M[9]=Bt,M[10]=Rt,M[11]=Qt,M[12]=le*an+Ke*Tn+Ot*wn+I[12],M[13]=Se*an+ot*Tn+Bt*wn+I[13],M[14]=De*an+xt*Tn+Rt*wn+I[14],M[15]=Ue*an+_t*Tn+Qt*wn+I[15]),M},l.triggerPluginCompletionEvent=Ms,l.uniqueId=c,l.validateCustomStyleLayer=function(M){var I=[],Z=M.id;return void 0===Z&&I.push({message:"layers."+Z+': missing required property "id"'}),void 0===M.render&&I.push({message:"layers."+Z+': missing required method "render"'}),M.renderingMode&&"2d"!==M.renderingMode&&"3d"!==M.renderingMode&&I.push({message:"layers."+Z+': property "renderingMode" must be either "2d" or "3d"'}),I},l.validateLight=Di,l.validateStyle=Wi,l.values=function(M){var I=[];for(var Z in M)I.push(M[Z]);return I},l.vectorTile=Fl,l.version=b,l.warnOnce=S,l.webpSupported=Y,l.window=self,l.wrap=s}),k(0,function(l){function T(Ze){var Xe=typeof Ze;if("number"===Xe||"boolean"===Xe||"string"===Xe||null==Ze)return JSON.stringify(Ze);if(Array.isArray(Ze)){for(var He="[",We=0,rt=Ze;We<rt.length;We+=1)He+=T(rt[We])+",";return He+"]"}for(var nt=Object.keys(Ze).sort(),ze="{",Be=0;Be<nt.length;Be++)ze+=JSON.stringify(nt[Be])+":"+T(Ze[nt[Be]])+",";return ze+"}"}function b(Ze){for(var Xe="",He=0,We=l.refProperties;He<We.length;He+=1)Xe+="/"+T(Ze[We[He]]);return Xe}var d=function(Ze){this.keyCache={},Ze&&this.replace(Ze)};d.prototype.replace=function(Ze){this._layerConfigs={},this._layers={},this.update(Ze,[])},d.prototype.update=function(Ze,Xe){for(var He=this,We=0,rt=Ze;We<rt.length;We+=1){var nt=rt[We];this._layerConfigs[nt.id]=nt;var ze=this._layers[nt.id]=l.createStyleLayer(nt);ze._featureFilter=l.featureFilter(ze.filter),this.keyCache[nt.id]&&delete this.keyCache[nt.id]}for(var Be=0,tt=Xe;Be<tt.length;Be+=1){var et=tt[Be];delete this.keyCache[et],delete this._layerConfigs[et],delete this._layers[et]}this.familiesBySource={};for(var gt=0,pt=function(It,Dt){for(var Nt={},$t=0;$t<It.length;$t++){var jt=Dt&&Dt[It[$t].id]||b(It[$t]);Dt&&(Dt[It[$t].id]=jt);var Yt=Nt[jt];Yt||(Yt=Nt[jt]=[]),Yt.push(It[$t])}var Gt=[];for(var hn in Nt)Gt.push(Nt[hn]);return Gt}(l.values(this._layerConfigs),this.keyCache);gt<pt.length;gt+=1){var vt=pt[gt].map(function(It){return He._layers[It.id]}),ut=vt[0];if("none"!==ut.visibility){var wt=ut.source||"",ct=this.familiesBySource[wt];ct||(ct=this.familiesBySource[wt]={});var ft=ut.sourceLayer||"_geojsonTileLayer",bt=ct[ft];bt||(bt=ct[ft]=[]),bt.push(vt)}}};var a=function(Ze){var Xe={},He=[];for(var We in Ze){var rt=Ze[We],nt=Xe[We]={};for(var ze in rt){var Be=rt[+ze];if(Be&&0!==Be.bitmap.width&&0!==Be.bitmap.height){var tt={x:0,y:0,w:Be.bitmap.width+2,h:Be.bitmap.height+2};He.push(tt),nt[ze]={rect:tt,metrics:Be.metrics}}}}var et=l.potpack(He),vt=new l.AlphaImage({width:et.w||1,height:et.h||1});for(var ut in Ze){var wt=Ze[ut];for(var ct in wt){var ft=wt[+ct];if(ft&&0!==ft.bitmap.width&&0!==ft.bitmap.height){var bt=Xe[ut][ct].rect;l.AlphaImage.copy(ft.bitmap,vt,{x:0,y:0},{x:bt.x+1,y:bt.y+1},ft.bitmap)}}}this.image=vt,this.positions=Xe};l.register("GlyphAtlas",a);var t=function(Ze){this.tileID=new l.OverscaledTileID(Ze.tileID.overscaledZ,Ze.tileID.wrap,Ze.tileID.canonical.z,Ze.tileID.canonical.x,Ze.tileID.canonical.y),this.uid=Ze.uid,this.zoom=Ze.zoom,this.pixelRatio=Ze.pixelRatio,this.tileSize=Ze.tileSize,this.source=Ze.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Ze.showCollisionBoxes,this.collectResourceTiming=!!Ze.collectResourceTiming,this.returnDependencies=!!Ze.returnDependencies,this.promoteId=Ze.promoteId};function i(Ze,Xe,He){for(var We=new l.EvaluationParameters(Xe),rt=0,nt=Ze;rt<nt.length;rt+=1)nt[rt].recalculate(We,He)}function r(Ze,Xe){var He=l.getArrayBuffer(Ze.request,function(We,rt,nt,ze){We?Xe(We):rt&&Xe(null,{vectorTile:new l.vectorTile.VectorTile(new l.pbf(rt)),rawData:rt,cacheControl:nt,expires:ze})});return function(){He.cancel(),Xe()}}t.prototype.parse=function(Ze,Xe,He,We,rt){var nt=this;this.status="parsing",this.data=Ze,this.collisionBoxArray=new l.CollisionBoxArray;var ze=new l.DictionaryCoder(Object.keys(Ze.layers).sort()),Be=new l.FeatureIndex(this.tileID,this.promoteId);Be.bucketLayerIDs=[];var tt,et,gt,pt,vt={},ut={featureIndex:Be,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:He},wt=Xe.familiesBySource[this.source];for(var ct in wt){var ft=Ze.layers[ct];if(ft){1===ft.version&&l.warnOnce('Vector tile source "'+this.source+'" layer "'+ct+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var bt=ze.encode(ct),It=[],Dt=0;Dt<ft.length;Dt++){var Nt=ft.feature(Dt),$t=Be.getId(Nt,ct);It.push({feature:Nt,id:$t,index:Dt,sourceLayerIndex:bt})}for(var jt=0,Yt=wt[ct];jt<Yt.length;jt+=1){var Gt=Yt[jt],hn=Gt[0];hn.minzoom&&this.zoom<Math.floor(hn.minzoom)||hn.maxzoom&&this.zoom>=hn.maxzoom||"none"!==hn.visibility&&(i(Gt,this.zoom,He),(vt[hn.id]=hn.createBucket({index:Be.bucketLayerIDs.length,layers:Gt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:bt,sourceID:this.source})).populate(It,ut,this.tileID.canonical),Be.bucketLayerIDs.push(Gt.map(function(Xt){return Xt.id})))}}}var yn=l.mapObject(ut.glyphDependencies,function(Xt){return Object.keys(Xt).map(Number)});Object.keys(yn).length?We.send("getGlyphs",{uid:this.uid,stacks:yn},function(Xt,rn){tt||(tt=Xt,et=rn,nn.call(nt))}):et={};var on=Object.keys(ut.iconDependencies);on.length?We.send("getImages",{icons:on,source:this.source,tileID:this.tileID,type:"icons"},function(Xt,rn){tt||(tt=Xt,gt=rn,nn.call(nt))}):gt={};var Ut=Object.keys(ut.patternDependencies);function nn(){if(tt)return rt(tt);if(et&&gt&&pt){var Xt=new a(et),rn=new l.ImageAtlas(gt,pt);for(var fn in vt){var gn=vt[fn];gn instanceof l.SymbolBucket?(i(gn.layers,this.zoom,He),l.performSymbolLayout(gn,et,Xt.positions,gt,rn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):gn.hasPattern&&(gn instanceof l.LineBucket||gn instanceof l.FillBucket||gn instanceof l.FillExtrusionBucket)&&(i(gn.layers,this.zoom,He),gn.addFeatures(ut,this.tileID.canonical,rn.patternPositions))}this.status="done",rt(null,{buckets:l.values(vt).filter(function(An){return!An.isEmpty()}),featureIndex:Be,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Xt.image,imageAtlas:rn,glyphMap:this.returnDependencies?et:null,iconMap:this.returnDependencies?gt:null,glyphPositions:this.returnDependencies?Xt.positions:null})}}Ut.length?We.send("getImages",{icons:Ut,source:this.source,tileID:this.tileID,type:"patterns"},function(Xt,rn){tt||(tt=Xt,pt=rn,nn.call(nt))}):pt={},nn.call(this)};var n=function(Ze,Xe,He,We){this.actor=Ze,this.layerIndex=Xe,this.availableImages=He,this.loadVectorData=We||r,this.loading={},this.loaded={}};n.prototype.loadTile=function(Ze,Xe){var He=this,We=Ze.uid;this.loading||(this.loading={});var rt=!!(Ze&&Ze.request&&Ze.request.collectResourceTiming)&&new l.RequestPerformance(Ze.request),nt=this.loading[We]=new t(Ze);nt.abort=this.loadVectorData(Ze,function(ze,Be){if(delete He.loading[We],ze||!Be)return nt.status="done",He.loaded[We]=nt,Xe(ze);var tt=Be.rawData,et={};Be.expires&&(et.expires=Be.expires),Be.cacheControl&&(et.cacheControl=Be.cacheControl);var gt={};if(rt){var pt=rt.finish();pt&&(gt.resourceTiming=JSON.parse(JSON.stringify(pt)))}nt.vectorTile=Be.vectorTile,nt.parse(Be.vectorTile,He.layerIndex,He.availableImages,He.actor,function(vt,ut){if(vt||!ut)return Xe(vt);Xe(null,l.extend({rawTileData:tt.slice(0)},ut,et,gt))}),He.loaded=He.loaded||{},He.loaded[We]=nt})},n.prototype.reloadTile=function(Ze,Xe){var He=this,We=this.loaded,rt=Ze.uid,nt=this;if(We&&We[rt]){var ze=We[rt];ze.showCollisionBoxes=Ze.showCollisionBoxes;var Be=function(tt,et){var gt=ze.reloadCallback;gt&&(delete ze.reloadCallback,ze.parse(ze.vectorTile,nt.layerIndex,He.availableImages,nt.actor,gt)),Xe(tt,et)};"parsing"===ze.status?ze.reloadCallback=Be:"done"===ze.status&&(ze.vectorTile?ze.parse(ze.vectorTile,this.layerIndex,this.availableImages,this.actor,Be):Be())}},n.prototype.abortTile=function(Ze,Xe){var He=this.loading,We=Ze.uid;He&&He[We]&&He[We].abort&&(He[We].abort(),delete He[We]),Xe()},n.prototype.removeTile=function(Ze,Xe){var He=this.loaded,We=Ze.uid;He&&He[We]&&delete He[We],Xe()};var o=l.window.ImageBitmap,s=function(){this.loaded={}};s.prototype.loadTile=function(Ze,Xe){var He=Ze.uid,We=Ze.encoding,rt=Ze.rawImageData,nt=o&&rt instanceof o?this.getImageData(rt):rt,ze=new l.DEMData(He,nt,We);this.loaded=this.loaded||{},this.loaded[He]=ze,Xe(null,ze)},s.prototype.getImageData=function(Ze){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Ze.width,Ze.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Ze.width,this.offscreenCanvas.height=Ze.height,this.offscreenCanvasContext.drawImage(Ze,0,0,Ze.width,Ze.height);var Xe=this.offscreenCanvasContext.getImageData(-1,-1,Ze.width+2,Ze.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new l.RGBAImage({width:Xe.width,height:Xe.height},Xe.data)},s.prototype.removeTile=function(Ze){var Xe=this.loaded,He=Ze.uid;Xe&&Xe[He]&&delete Xe[He]};var u=function Ze(Xe,He){var We,rt=Xe&&Xe.type;if("FeatureCollection"===rt)for(We=0;We<Xe.features.length;We++)Ze(Xe.features[We],He);else if("GeometryCollection"===rt)for(We=0;We<Xe.geometries.length;We++)Ze(Xe.geometries[We],He);else if("Feature"===rt)Ze(Xe.geometry,He);else if("Polygon"===rt)p(Xe.coordinates,He);else if("MultiPolygon"===rt)for(We=0;We<Xe.coordinates.length;We++)p(Xe.coordinates[We],He);return Xe};function p(Ze,Xe){if(0!==Ze.length){c(Ze[0],Xe);for(var He=1;He<Ze.length;He++)c(Ze[He],!Xe)}}function c(Ze,Xe){for(var He=0,We=0,rt=Ze.length,nt=rt-1;We<rt;nt=We++)He+=(Ze[We][0]-Ze[nt][0])*(Ze[nt][1]+Ze[We][1]);He>=0!=!!Xe&&Ze.reverse()}var x=l.vectorTile.VectorTileFeature.prototype.toGeoJSON,g=function(Ze){this._feature=Ze,this.extent=l.EXTENT,this.type=Ze.type,this.properties=Ze.tags,"id"in Ze&&!isNaN(Ze.id)&&(this.id=parseInt(Ze.id,10))};g.prototype.loadGeometry=function(){if(1===this._feature.type){for(var Ze=[],Xe=0,He=this._feature.geometry;Xe<He.length;Xe+=1){var We=He[Xe];Ze.push([new l.Point$1(We[0],We[1])])}return Ze}for(var rt=[],nt=0,ze=this._feature.geometry;nt<ze.length;nt+=1){for(var Be=[],tt=0,et=ze[nt];tt<et.length;tt+=1){var gt=et[tt];Be.push(new l.Point$1(gt[0],gt[1]))}rt.push(Be)}return rt},g.prototype.toGeoJSON=function(Ze,Xe,He){return x.call(this,Ze,Xe,He)};var h=function(Ze){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=l.EXTENT,this.length=Ze.length,this._features=Ze};h.prototype.feature=function(Ze){return new g(this._features[Ze])};var y=l.vectorTile.VectorTileFeature,v=m;function m(Ze,Xe){this.options=Xe||{},this.features=Ze,this.length=Ze.length}function _(Ze,Xe){this.id="number"==typeof Ze.id?Ze.id:void 0,this.type=Ze.type,this.rawGeometry=1===Ze.type?[Ze.geometry]:Ze.geometry,this.properties=Ze.tags,this.extent=Xe||4096}m.prototype.feature=function(Ze){return new _(this.features[Ze],this.options.extent)},_.prototype.loadGeometry=function(){var Ze=this.rawGeometry;this.geometry=[];for(var Xe=0;Xe<Ze.length;Xe++){for(var He=Ze[Xe],We=[],rt=0;rt<He.length;rt++)We.push(new l.Point$1(He[rt][0],He[rt][1]));this.geometry.push(We)}return this.geometry},_.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ze=this.geometry,Xe=1/0,He=-1/0,We=1/0,rt=-1/0,nt=0;nt<Ze.length;nt++)for(var ze=Ze[nt],Be=0;Be<ze.length;Be++){var tt=ze[Be];Xe=Math.min(Xe,tt.x),He=Math.max(He,tt.x),We=Math.min(We,tt.y),rt=Math.max(rt,tt.y)}return[Xe,We,He,rt]},_.prototype.toGeoJSON=y.prototype.toGeoJSON;var f=L,E=v;function L(Ze){var Xe=new l.pbf;return function(He,We){for(var rt in He.layers)We.writeMessage(3,C,He.layers[rt])}(Ze,Xe),Xe.finish()}function C(Ze,Xe){var He;Xe.writeVarintField(15,Ze.version||1),Xe.writeStringField(1,Ze.name||""),Xe.writeVarintField(5,Ze.extent||4096);var We={keys:[],values:[],keycache:{},valuecache:{}};for(He=0;He<Ze.length;He++)We.feature=Ze.feature(He),Xe.writeMessage(2,O,We);var rt=We.keys;for(He=0;He<rt.length;He++)Xe.writeStringField(3,rt[He]);var nt=We.values;for(He=0;He<nt.length;He++)Xe.writeMessage(4,N,nt[He])}function O(Ze,Xe){var He=Ze.feature;void 0!==He.id&&Xe.writeVarintField(1,He.id),Xe.writeMessage(2,R,Ze),Xe.writeVarintField(3,He.type),Xe.writeMessage(4,U,He)}function R(Ze,Xe){var He=Ze.feature,We=Ze.keys,rt=Ze.values,nt=Ze.keycache,ze=Ze.valuecache;for(var Be in He.properties){var tt=nt[Be];void 0===tt&&(We.push(Be),nt[Be]=tt=We.length-1),Xe.writeVarint(tt);var et=He.properties[Be],gt=typeof et;"string"!==gt&&"boolean"!==gt&&"number"!==gt&&(et=JSON.stringify(et));var pt=gt+":"+et,vt=ze[pt];void 0===vt&&(rt.push(et),ze[pt]=vt=rt.length-1),Xe.writeVarint(vt)}}function q(Ze,Xe){return(Xe<<3)+(7&Ze)}function P(Ze){return Ze<<1^Ze>>31}function U(Ze,Xe){for(var He=Ze.loadGeometry(),We=Ze.type,rt=0,nt=0,ze=He.length,Be=0;Be<ze;Be++){var tt=He[Be],et=1;1===We&&(et=tt.length),Xe.writeVarint(q(1,et));for(var gt=3===We?tt.length-1:tt.length,pt=0;pt<gt;pt++){1===pt&&1!==We&&Xe.writeVarint(q(2,gt-1));var vt=tt[pt].x-rt,ut=tt[pt].y-nt;Xe.writeVarint(P(vt)),Xe.writeVarint(P(ut)),rt+=vt,nt+=ut}3===We&&Xe.writeVarint(q(7,1))}}function N(Ze,Xe){var He=typeof Ze;"string"===He?Xe.writeStringField(1,Ze):"boolean"===He?Xe.writeBooleanField(7,Ze):"number"===He&&(Ze%1!=0?Xe.writeDoubleField(3,Ze):Ze<0?Xe.writeSVarintField(6,Ze):Xe.writeVarintField(5,Ze))}function F(Ze,Xe,He,We,rt,nt){if(!(rt-We<=He)){var ze=We+rt>>1;j(Ze,Xe,ze,We,rt,nt%2),F(Ze,Xe,He,We,ze-1,nt+1),F(Ze,Xe,He,ze+1,rt,nt+1)}}function j(Ze,Xe,He,We,rt,nt){for(;rt>We;){if(rt-We>600){var ze=rt-We+1,Be=He-We+1,tt=Math.log(ze),et=.5*Math.exp(2*tt/3),gt=.5*Math.sqrt(tt*et*(ze-et)/ze)*(Be-ze/2<0?-1:1);j(Ze,Xe,He,Math.max(We,Math.floor(He-Be*et/ze+gt)),Math.min(rt,Math.floor(He+(ze-Be)*et/ze+gt)),nt)}var pt=Xe[2*He+nt],vt=We,ut=rt;for(G(Ze,Xe,We,He),Xe[2*rt+nt]>pt&&G(Ze,Xe,We,rt);vt<ut;){for(G(Ze,Xe,vt,ut),vt++,ut--;Xe[2*vt+nt]<pt;)vt++;for(;Xe[2*ut+nt]>pt;)ut--}Xe[2*We+nt]===pt?G(Ze,Xe,We,ut):G(Ze,Xe,++ut,rt),ut<=He&&(We=ut+1),He<=ut&&(rt=ut-1)}}function G(Ze,Xe,He,We){te(Ze,He,We),te(Xe,2*He,2*We),te(Xe,2*He+1,2*We+1)}function te(Ze,Xe,He){var We=Ze[Xe];Ze[Xe]=Ze[He],Ze[He]=We}function J(Ze,Xe,He,We){var rt=Ze-He,nt=Xe-We;return rt*rt+nt*nt}f.fromVectorTileJs=L,f.fromGeojsonVt=function(Ze,Xe){Xe=Xe||{};var He={};for(var We in Ze)He[We]=new v(Ze[We].features,Xe),He[We].name=We,He[We].version=Xe.version,He[We].extent=Xe.extent;return L({layers:He})},f.GeoJSONWrapper=E;var X=function(Ze){return Ze[0]},Y=function(Ze){return Ze[1]},W=function(Ze,Xe,He,We,rt){void 0===Xe&&(Xe=X),void 0===He&&(He=Y),void 0===We&&(We=64),void 0===rt&&(rt=Float64Array),this.nodeSize=We,this.points=Ze;for(var nt=Ze.length<65536?Uint16Array:Uint32Array,ze=this.ids=new nt(Ze.length),Be=this.coords=new rt(2*Ze.length),tt=0;tt<Ze.length;tt++)ze[tt]=tt,Be[2*tt]=Xe(Ze[tt]),Be[2*tt+1]=He(Ze[tt]);F(ze,Be,We,0,ze.length-1,0)};W.prototype.range=function(Ze,Xe,He,We){return function(rt,nt,ze,Be,tt,et,gt){for(var pt,vt,ut=[0,rt.length-1,0],wt=[];ut.length;){var ct=ut.pop(),ft=ut.pop(),bt=ut.pop();if(ft-bt<=gt)for(var It=bt;It<=ft;It++)vt=nt[2*It+1],(pt=nt[2*It])>=ze&&pt<=tt&&vt>=Be&&vt<=et&&wt.push(rt[It]);else{var Dt=Math.floor((bt+ft)/2);vt=nt[2*Dt+1],(pt=nt[2*Dt])>=ze&&pt<=tt&&vt>=Be&&vt<=et&&wt.push(rt[Dt]);var Nt=(ct+1)%2;(0===ct?ze<=pt:Be<=vt)&&(ut.push(bt),ut.push(Dt-1),ut.push(Nt)),(0===ct?tt>=pt:et>=vt)&&(ut.push(Dt+1),ut.push(ft),ut.push(Nt))}}return wt}(this.ids,this.coords,Ze,Xe,He,We,this.nodeSize)},W.prototype.within=function(Ze,Xe,He){return function(We,rt,nt,ze,Be,tt){for(var et=[0,We.length-1,0],gt=[],pt=Be*Be;et.length;){var vt=et.pop(),ut=et.pop(),wt=et.pop();if(ut-wt<=tt)for(var ct=wt;ct<=ut;ct++)J(rt[2*ct],rt[2*ct+1],nt,ze)<=pt&&gt.push(We[ct]);else{var ft=Math.floor((wt+ut)/2),bt=rt[2*ft],It=rt[2*ft+1];J(bt,It,nt,ze)<=pt&&gt.push(We[ft]);var Dt=(vt+1)%2;(0===vt?nt-Be<=bt:ze-Be<=It)&&(et.push(wt),et.push(ft-1),et.push(Dt)),(0===vt?nt+Be>=bt:ze+Be>=It)&&(et.push(ft+1),et.push(ut),et.push(Dt))}}return gt}(this.ids,this.coords,Ze,Xe,He,this.nodeSize)};var $={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Ze){return Ze}},ne=function(Ze){this.options=pe(Object.create($),Ze),this.trees=new Array(this.options.maxZoom+1)};function re(Ze,Xe,He,We,rt){return{x:Ze,y:Xe,zoom:1/0,id:He,parentId:-1,numPoints:We,properties:rt}}function oe(Ze,Xe){var He=Ze.geometry.coordinates,rt=He[1];return{x:Me(He[0]),y:me(rt),zoom:1/0,index:Xe,parentId:-1}}function ue(Ze){return{type:"Feature",id:Ze.id,properties:xe(Ze),geometry:{type:"Point",coordinates:[(We=Ze.x,360*(We-.5)),(Xe=Ze.y,He=(180-360*Xe)*Math.PI/180,360*Math.atan(Math.exp(He))/Math.PI-90)]}};var Xe,He,We}function xe(Ze){var Xe=Ze.numPoints,He=Xe>=1e4?Math.round(Xe/1e3)+"k":Xe>=1e3?Math.round(Xe/100)/10+"k":Xe;return pe(pe({},Ze.properties),{cluster:!0,cluster_id:Ze.id,point_count:Xe,point_count_abbreviated:He})}function Me(Ze){return Ze/360+.5}function me(Ze){var Xe=Math.sin(Ze*Math.PI/180),He=.5-.25*Math.log((1+Xe)/(1-Xe))/Math.PI;return He<0?0:He>1?1:He}function pe(Ze,Xe){for(var He in Xe)Ze[He]=Xe[He];return Ze}function ge(Ze){return Ze.x}function Pe(Ze){return Ze.y}function _e(Ze,Xe,He,We){for(var rt,nt=We,ze=He-Xe>>1,Be=He-Xe,tt=Ze[Xe],et=Ze[Xe+1],gt=Ze[He],pt=Ze[He+1],vt=Xe+3;vt<He;vt+=3){var ut=we(Ze[vt],Ze[vt+1],tt,et,gt,pt);if(ut>nt)rt=vt,nt=ut;else if(ut===nt){var wt=Math.abs(vt-ze);wt<Be&&(rt=vt,Be=wt)}}nt>We&&(rt-Xe>3&&_e(Ze,Xe,rt,We),Ze[rt+2]=nt,He-rt>3&&_e(Ze,rt,He,We))}function we(Ze,Xe,He,We,rt,nt){var ze=rt-He,Be=nt-We;if(0!==ze||0!==Be){var tt=((Ze-He)*ze+(Xe-We)*Be)/(ze*ze+Be*Be);tt>1?(He=rt,We=nt):tt>0&&(He+=ze*tt,We+=Be*tt)}return(ze=Ze-He)*ze+(Be=Xe-We)*Be}function se(Ze,Xe,He,We){var rt={id:void 0===Ze?null:Ze,type:Xe,geometry:He,tags:We,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(nt){var ze=nt.geometry,Be=nt.type;if("Point"===Be||"MultiPoint"===Be||"LineString"===Be)ae(nt,ze);else if("Polygon"===Be||"MultiLineString"===Be)for(var tt=0;tt<ze.length;tt++)ae(nt,ze[tt]);else if("MultiPolygon"===Be)for(tt=0;tt<ze.length;tt++)for(var et=0;et<ze[tt].length;et++)ae(nt,ze[tt][et])}(rt),rt}function ae(Ze,Xe){for(var He=0;He<Xe.length;He+=3)Ze.minX=Math.min(Ze.minX,Xe[He]),Ze.minY=Math.min(Ze.minY,Xe[He+1]),Ze.maxX=Math.max(Ze.maxX,Xe[He]),Ze.maxY=Math.max(Ze.maxY,Xe[He+1])}function fe(Ze,Xe,He,We){if(Xe.geometry){var rt=Xe.geometry.coordinates,nt=Xe.geometry.type,ze=Math.pow(He.tolerance/((1<<He.maxZoom)*He.extent),2),Be=[],tt=Xe.id;if(He.promoteId?tt=Xe.properties[He.promoteId]:He.generateId&&(tt=We||0),"Point"===nt)Ee(rt,Be);else if("MultiPoint"===nt)for(var et=0;et<rt.length;et++)Ee(rt[et],Be);else if("LineString"===nt)ke(rt,Be,ze,!1);else if("MultiLineString"===nt){if(He.lineMetrics){for(et=0;et<rt.length;et++)ke(rt[et],Be=[],ze,!1),Ze.push(se(tt,"LineString",Be,Xe.properties));return}be(rt,Be,ze,!1)}else if("Polygon"===nt)be(rt,Be,ze,!0);else{if("MultiPolygon"!==nt){if("GeometryCollection"===nt){for(et=0;et<Xe.geometry.geometries.length;et++)fe(Ze,{id:tt,geometry:Xe.geometry.geometries[et],properties:Xe.properties},He,We);return}throw new Error("Input data is not a valid GeoJSON object.")}for(et=0;et<rt.length;et++){var gt=[];be(rt[et],gt,ze,!0),Be.push(gt)}}Ze.push(se(tt,nt,Be,Xe.properties))}}function Ee(Ze,Xe){Xe.push(Ie(Ze[0])),Xe.push(Fe(Ze[1])),Xe.push(0)}function ke(Ze,Xe,He,We){for(var rt,nt,ze=0,Be=0;Be<Ze.length;Be++){var tt=Ie(Ze[Be][0]),et=Fe(Ze[Be][1]);Xe.push(tt),Xe.push(et),Xe.push(0),Be>0&&(ze+=We?(rt*et-tt*nt)/2:Math.sqrt(Math.pow(tt-rt,2)+Math.pow(et-nt,2))),rt=tt,nt=et}var gt=Xe.length-3;Xe[2]=1,_e(Xe,0,gt,He),Xe[gt+2]=1,Xe.size=Math.abs(ze),Xe.start=0,Xe.end=Xe.size}function be(Ze,Xe,He,We){for(var rt=0;rt<Ze.length;rt++){var nt=[];ke(Ze[rt],nt,He,We),Xe.push(nt)}}function Ie(Ze){return Ze/360+.5}function Fe(Ze){var Xe=Math.sin(Ze*Math.PI/180),He=.5-.25*Math.log((1+Xe)/(1-Xe))/Math.PI;return He<0?0:He>1?1:He}function ce(Ze,Xe,He,We,rt,nt,ze,Be){if(We/=Xe,nt>=(He/=Xe)&&ze<We)return Ze;if(ze<He||nt>=We)return null;for(var tt=[],et=0;et<Ze.length;et++){var gt=Ze[et],pt=gt.geometry,vt=gt.type,ut=0===rt?gt.minX:gt.minY,wt=0===rt?gt.maxX:gt.maxY;if(ut>=He&&wt<We)tt.push(gt);else if(!(wt<He||ut>=We)){var ct=[];if("Point"===vt||"MultiPoint"===vt)Te(pt,ct,He,We,rt);else if("LineString"===vt)ve(pt,ct,He,We,rt,!1,Be.lineMetrics);else if("MultiLineString"===vt)Re(pt,ct,He,We,rt,!1);else if("Polygon"===vt)Re(pt,ct,He,We,rt,!0);else if("MultiPolygon"===vt)for(var ft=0;ft<pt.length;ft++){var bt=[];Re(pt[ft],bt,He,We,rt,!0),bt.length&&ct.push(bt)}if(ct.length){if(Be.lineMetrics&&"LineString"===vt){for(ft=0;ft<ct.length;ft++)tt.push(se(gt.id,vt,ct[ft],gt.tags));continue}"LineString"!==vt&&"MultiLineString"!==vt||(1===ct.length?(vt="LineString",ct=ct[0]):vt="MultiLineString"),"Point"!==vt&&"MultiPoint"!==vt||(vt=3===ct.length?"Point":"MultiPoint"),tt.push(se(gt.id,vt,ct,gt.tags))}}}return tt.length?tt:null}function Te(Ze,Xe,He,We,rt){for(var nt=0;nt<Ze.length;nt+=3){var ze=Ze[nt+rt];ze>=He&&ze<=We&&(Xe.push(Ze[nt]),Xe.push(Ze[nt+1]),Xe.push(Ze[nt+2]))}}function ve(Ze,Xe,He,We,rt,nt,ze){for(var Be,tt,et=Ce(Ze),gt=0===rt?je:qe,pt=Ze.start,vt=0;vt<Ze.length-3;vt+=3){var ut=Ze[vt],wt=Ze[vt+1],ct=Ze[vt+2],ft=Ze[vt+3],bt=Ze[vt+4],It=0===rt?ut:wt,Dt=0===rt?ft:bt,Nt=!1;ze&&(Be=Math.sqrt(Math.pow(ut-ft,2)+Math.pow(wt-bt,2))),It<He?Dt>He&&(tt=gt(et,ut,wt,ft,bt,He),ze&&(et.start=pt+Be*tt)):It>We?Dt<We&&(tt=gt(et,ut,wt,ft,bt,We),ze&&(et.start=pt+Be*tt)):Oe(et,ut,wt,ct),Dt<He&&It>=He&&(tt=gt(et,ut,wt,ft,bt,He),Nt=!0),Dt>We&&It<=We&&(tt=gt(et,ut,wt,ft,bt,We),Nt=!0),!nt&&Nt&&(ze&&(et.end=pt+Be*tt),Xe.push(et),et=Ce(Ze)),ze&&(pt+=Be)}var $t=Ze.length-3;ut=Ze[$t],wt=Ze[$t+1],ct=Ze[$t+2],(It=0===rt?ut:wt)>=He&&It<=We&&Oe(et,ut,wt,ct),$t=et.length-3,nt&&$t>=3&&(et[$t]!==et[0]||et[$t+1]!==et[1])&&Oe(et,et[0],et[1],et[2]),et.length&&Xe.push(et)}function Ce(Ze){var Xe=[];return Xe.size=Ze.size,Xe.start=Ze.start,Xe.end=Ze.end,Xe}function Re(Ze,Xe,He,We,rt,nt){for(var ze=0;ze<Ze.length;ze++)ve(Ze[ze],Xe,He,We,rt,nt,!1)}function Oe(Ze,Xe,He,We){Ze.push(Xe),Ze.push(He),Ze.push(We)}function je(Ze,Xe,He,We,rt,nt){var ze=(nt-Xe)/(We-Xe);return Ze.push(nt),Ze.push(He+(rt-He)*ze),Ze.push(1),ze}function qe(Ze,Xe,He,We,rt,nt){var ze=(nt-He)/(rt-He);return Ze.push(Xe+(We-Xe)*ze),Ze.push(nt),Ze.push(1),ze}function Je(Ze,Xe){for(var He=[],We=0;We<Ze.length;We++){var rt,nt=Ze[We],ze=nt.type;if("Point"===ze||"MultiPoint"===ze||"LineString"===ze)rt=it(nt.geometry,Xe);else if("MultiLineString"===ze||"Polygon"===ze){rt=[];for(var Be=0;Be<nt.geometry.length;Be++)rt.push(it(nt.geometry[Be],Xe))}else if("MultiPolygon"===ze)for(rt=[],Be=0;Be<nt.geometry.length;Be++){for(var tt=[],et=0;et<nt.geometry[Be].length;et++)tt.push(it(nt.geometry[Be][et],Xe));rt.push(tt)}He.push(se(nt.id,ze,rt,nt.tags))}return He}function it(Ze,Xe){var He=[];He.size=Ze.size,void 0!==Ze.start&&(He.start=Ze.start,He.end=Ze.end);for(var We=0;We<Ze.length;We+=3)He.push(Ze[We]+Xe,Ze[We+1],Ze[We+2]);return He}function Qe(Ze,Xe){if(Ze.transformed)return Ze;var He,We,rt,nt=1<<Ze.z,ze=Ze.x,Be=Ze.y;for(He=0;He<Ze.features.length;He++){var tt=Ze.features[He],et=tt.geometry,gt=tt.type;if(tt.geometry=[],1===gt)for(We=0;We<et.length;We+=2)tt.geometry.push(dt(et[We],et[We+1],Xe,nt,ze,Be));else for(We=0;We<et.length;We++){var pt=[];for(rt=0;rt<et[We].length;rt+=2)pt.push(dt(et[We][rt],et[We][rt+1],Xe,nt,ze,Be));tt.geometry.push(pt)}}return Ze.transformed=!0,Ze}function dt(Ze,Xe,He,We,rt,nt){return[Math.round(He*(Ze*We-rt)),Math.round(He*(Xe*We-nt))]}function yt(Ze,Xe,He,We,rt){for(var nt=Xe===rt.maxZoom?0:rt.tolerance/((1<<Xe)*rt.extent),ze={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:He,y:We,z:Xe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Be=0;Be<Ze.length;Be++){ze.numFeatures++,mt(ze,Ze[Be],nt,rt);var tt=Ze[Be].minX,et=Ze[Be].minY,gt=Ze[Be].maxX,pt=Ze[Be].maxY;tt<ze.minX&&(ze.minX=tt),et<ze.minY&&(ze.minY=et),gt>ze.maxX&&(ze.maxX=gt),pt>ze.maxY&&(ze.maxY=pt)}return ze}function mt(Ze,Xe,He,We){var rt=Xe.geometry,nt=Xe.type,ze=[];if("Point"===nt||"MultiPoint"===nt)for(var Be=0;Be<rt.length;Be+=3)ze.push(rt[Be]),ze.push(rt[Be+1]),Ze.numPoints++,Ze.numSimplified++;else if("LineString"===nt)at(ze,rt,Ze,He,!1,!1);else if("MultiLineString"===nt||"Polygon"===nt)for(Be=0;Be<rt.length;Be++)at(ze,rt[Be],Ze,He,"Polygon"===nt,0===Be);else if("MultiPolygon"===nt)for(var tt=0;tt<rt.length;tt++){var et=rt[tt];for(Be=0;Be<et.length;Be++)at(ze,et[Be],Ze,He,!0,0===Be)}if(ze.length){var gt=Xe.tags||null;if("LineString"===nt&&We.lineMetrics){for(var pt in gt={},Xe.tags)gt[pt]=Xe.tags[pt];gt.mapbox_clip_start=rt.start/rt.size,gt.mapbox_clip_end=rt.end/rt.size}var vt={geometry:ze,type:"Polygon"===nt||"MultiPolygon"===nt?3:"LineString"===nt||"MultiLineString"===nt?2:1,tags:gt};null!==Xe.id&&(vt.id=Xe.id),Ze.features.push(vt)}}function at(Ze,Xe,He,We,rt,nt){var ze=We*We;if(We>0&&Xe.size<(rt?ze:We))He.numPoints+=Xe.length/3;else{for(var Be=[],tt=0;tt<Xe.length;tt+=3)(0===We||Xe[tt+2]>ze)&&(He.numSimplified++,Be.push(Xe[tt]),Be.push(Xe[tt+1])),He.numPoints++;rt&&function(et,gt){for(var pt=0,vt=0,ut=et.length,wt=ut-2;vt<ut;wt=vt,vt+=2)pt+=(et[vt]-et[wt])*(et[vt+1]+et[wt+1]);if(pt>0===gt)for(vt=0,ut=et.length;vt<ut/2;vt+=2){var ct=et[vt],ft=et[vt+1];et[vt]=et[ut-2-vt],et[vt+1]=et[ut-1-vt],et[ut-2-vt]=ct,et[ut-1-vt]=ft}}(Be,nt),Ze.push(Be)}}function st(Ze,Xe){var He=(Xe=this.options=function(rt,nt){for(var ze in nt)rt[ze]=nt[ze];return rt}(Object.create(this.options),Xe)).debug;if(He&&console.time("preprocess data"),Xe.maxZoom<0||Xe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Xe.promoteId&&Xe.generateId)throw new Error("promoteId and generateId cannot be used together.");var rt,nt,ze,Be,tt,et,We=function(rt,nt){var ze=[];if("FeatureCollection"===rt.type)for(var Be=0;Be<rt.features.length;Be++)fe(ze,rt.features[Be],nt,Be);else fe(ze,"Feature"===rt.type?rt:{geometry:rt},nt);return ze}(Ze,Xe);this.tiles={},this.tileCoords=[],He&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Xe.indexMaxZoom,Xe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(rt=We,nt=Xe,ze=nt.buffer/nt.extent,Be=rt,tt=ce(rt,1,-1-ze,ze,0,-1,2,nt),et=ce(rt,1,1-ze,2+ze,0,-1,2,nt),(tt||et)&&(Be=ce(rt,1,-ze,1+ze,0,-1,2,nt)||[],tt&&(Be=Je(tt,1).concat(Be)),et&&(Be=Be.concat(Je(et,-1)))),We=Be).length&&this.splitTile(We,0,0,0),He&&(We.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Tt(Ze,Xe,He){return 32*((1<<Ze)*He+Xe)+Ze}function At(Ze,Xe){var He=Ze.tileID.canonical;if(!this._geoJSONIndex)return Xe(null,null);var We=this._geoJSONIndex.getTile(He.z,He.x,He.y);if(!We)return Xe(null,null);var rt=new h(We.features),nt=f(rt);0===nt.byteOffset&&nt.byteLength===nt.buffer.byteLength||(nt=new Uint8Array(nt)),Xe(null,{vectorTile:rt,rawData:nt.buffer})}ne.prototype.load=function(Ze){var Xe=this.options,He=Xe.log,We=Xe.minZoom,rt=Xe.maxZoom,nt=Xe.nodeSize;He&&console.time("total time");var ze="prepare "+Ze.length+" points";He&&console.time(ze),this.points=Ze;for(var Be=[],tt=0;tt<Ze.length;tt++)Ze[tt].geometry&&Be.push(oe(Ze[tt],tt));this.trees[rt+1]=new W(Be,ge,Pe,nt,Float32Array),He&&console.timeEnd(ze);for(var et=rt;et>=We;et--){var gt=+Date.now();Be=this._cluster(Be,et),this.trees[et]=new W(Be,ge,Pe,nt,Float32Array),He&&console.log("z%d: %d clusters in %dms",et,Be.length,+Date.now()-gt)}return He&&console.timeEnd("total time"),this},ne.prototype.getClusters=function(Ze,Xe){var He=((Ze[0]+180)%360+360)%360-180,We=Math.max(-90,Math.min(90,Ze[1])),rt=180===Ze[2]?180:((Ze[2]+180)%360+360)%360-180,nt=Math.max(-90,Math.min(90,Ze[3]));if(Ze[2]-Ze[0]>=360)He=-180,rt=180;else if(He>rt){var ze=this.getClusters([He,We,180,nt],Xe),Be=this.getClusters([-180,We,rt,nt],Xe);return ze.concat(Be)}for(var tt=this.trees[this._limitZoom(Xe)],et=[],gt=0,pt=tt.range(Me(He),me(nt),Me(rt),me(We));gt<pt.length;gt+=1){var ut=tt.points[pt[gt]];et.push(ut.numPoints?ue(ut):this.points[ut.index])}return et},ne.prototype.getChildren=function(Ze){var Xe=this._getOriginId(Ze),He=this._getOriginZoom(Ze),We="No cluster with the specified id.",rt=this.trees[He];if(!rt)throw new Error(We);var nt=rt.points[Xe];if(!nt)throw new Error(We);for(var ze=this.options.radius/(this.options.extent*Math.pow(2,He-1)),Be=[],tt=0,et=rt.within(nt.x,nt.y,ze);tt<et.length;tt+=1){var pt=rt.points[et[tt]];pt.parentId===Ze&&Be.push(pt.numPoints?ue(pt):this.points[pt.index])}if(0===Be.length)throw new Error(We);return Be},ne.prototype.getLeaves=function(Ze,Xe,He){var We=[];return this._appendLeaves(We,Ze,Xe=Xe||10,He=He||0,0),We},ne.prototype.getTile=function(Ze,Xe,He){var We=this.trees[this._limitZoom(Ze)],rt=Math.pow(2,Ze),nt=this.options,Be=nt.radius/nt.extent,tt=(He-Be)/rt,et=(He+1+Be)/rt,gt={features:[]};return this._addTileFeatures(We.range((Xe-Be)/rt,tt,(Xe+1+Be)/rt,et),We.points,Xe,He,rt,gt),0===Xe&&this._addTileFeatures(We.range(1-Be/rt,tt,1,et),We.points,rt,He,rt,gt),Xe===rt-1&&this._addTileFeatures(We.range(0,tt,Be/rt,et),We.points,-1,He,rt,gt),gt.features.length?gt:null},ne.prototype.getClusterExpansionZoom=function(Ze){for(var Xe=this._getOriginZoom(Ze)-1;Xe<=this.options.maxZoom;){var He=this.getChildren(Ze);if(Xe++,1!==He.length)break;Ze=He[0].properties.cluster_id}return Xe},ne.prototype._appendLeaves=function(Ze,Xe,He,We,rt){for(var nt=0,ze=this.getChildren(Xe);nt<ze.length;nt+=1){var Be=ze[nt],tt=Be.properties;if(tt&&tt.cluster?rt+tt.point_count<=We?rt+=tt.point_count:rt=this._appendLeaves(Ze,tt.cluster_id,He,We,rt):rt<We?rt++:Ze.push(Be),Ze.length===He)break}return rt},ne.prototype._addTileFeatures=function(Ze,Xe,He,We,rt,nt){for(var ze=0,Be=Ze;ze<Be.length;ze+=1){var tt=Xe[Be[ze]],et=tt.numPoints,gt={type:1,geometry:[[Math.round(this.options.extent*(tt.x*rt-He)),Math.round(this.options.extent*(tt.y*rt-We))]],tags:et?xe(tt):this.points[tt.index].properties},pt=void 0;et?pt=tt.id:this.options.generateId?pt=tt.index:this.points[tt.index].id&&(pt=this.points[tt.index].id),void 0!==pt&&(gt.id=pt),nt.features.push(gt)}},ne.prototype._limitZoom=function(Ze){return Math.max(this.options.minZoom,Math.min(Ze,this.options.maxZoom+1))},ne.prototype._cluster=function(Ze,Xe){for(var He=[],We=this.options,ze=We.reduce,Be=We.radius/(We.extent*Math.pow(2,Xe)),tt=0;tt<Ze.length;tt++){var et=Ze[tt];if(!(et.zoom<=Xe)){et.zoom=Xe;for(var gt=this.trees[Xe+1],pt=gt.within(et.x,et.y,Be),vt=et.numPoints||1,ut=et.x*vt,wt=et.y*vt,ct=ze&&vt>1?this._map(et,!0):null,ft=(tt<<5)+(Xe+1)+this.points.length,bt=0,It=pt;bt<It.length;bt+=1){var Nt=gt.points[It[bt]];if(!(Nt.zoom<=Xe)){Nt.zoom=Xe;var $t=Nt.numPoints||1;ut+=Nt.x*$t,wt+=Nt.y*$t,vt+=$t,Nt.parentId=ft,ze&&(ct||(ct=this._map(et,!0)),ze(ct,this._map(Nt)))}}1===vt?He.push(et):(et.parentId=ft,He.push(re(ut/vt,wt/vt,ft,vt,ct)))}}return He},ne.prototype._getOriginId=function(Ze){return Ze-this.points.length>>5},ne.prototype._getOriginZoom=function(Ze){return(Ze-this.points.length)%32},ne.prototype._map=function(Ze,Xe){if(Ze.numPoints)return Xe?pe({},Ze.properties):Ze.properties;var He=this.points[Ze.index].properties,We=this.options.map(He);return Xe&&We===He?pe({},We):We},st.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},st.prototype.splitTile=function(Ze,Xe,He,We,rt,nt,ze){for(var Be=[Ze,Xe,He,We],tt=this.options,et=tt.debug;Be.length;){We=Be.pop(),He=Be.pop(),Xe=Be.pop(),Ze=Be.pop();var gt=1<<Xe,pt=Tt(Xe,He,We),vt=this.tiles[pt];if(!vt&&(et>1&&console.time("creation"),vt=this.tiles[pt]=yt(Ze,Xe,He,We,tt),this.tileCoords.push({z:Xe,x:He,y:We}),et)){et>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Xe,He,We,vt.numFeatures,vt.numPoints,vt.numSimplified),console.timeEnd("creation"));var ut="z"+Xe;this.stats[ut]=(this.stats[ut]||0)+1,this.total++}if(vt.source=Ze,rt){if(Xe===tt.maxZoom||Xe===rt)continue;var wt=1<<rt-Xe;if(He!==Math.floor(nt/wt)||We!==Math.floor(ze/wt))continue}else if(Xe===tt.indexMaxZoom||vt.numPoints<=tt.indexMaxPoints)continue;if(vt.source=null,0!==Ze.length){et>1&&console.time("clipping");var ct,ft,bt,It,Dt,Nt,$t=.5*tt.buffer/tt.extent,jt=.5-$t,Yt=.5+$t,Gt=1+$t;ct=ft=bt=It=null,Dt=ce(Ze,gt,He-$t,He+Yt,0,vt.minX,vt.maxX,tt),Nt=ce(Ze,gt,He+jt,He+Gt,0,vt.minX,vt.maxX,tt),Ze=null,Dt&&(ct=ce(Dt,gt,We-$t,We+Yt,1,vt.minY,vt.maxY,tt),ft=ce(Dt,gt,We+jt,We+Gt,1,vt.minY,vt.maxY,tt),Dt=null),Nt&&(bt=ce(Nt,gt,We-$t,We+Yt,1,vt.minY,vt.maxY,tt),It=ce(Nt,gt,We+jt,We+Gt,1,vt.minY,vt.maxY,tt),Nt=null),et>1&&console.timeEnd("clipping"),Be.push(ct||[],Xe+1,2*He,2*We),Be.push(ft||[],Xe+1,2*He,2*We+1),Be.push(bt||[],Xe+1,2*He+1,2*We),Be.push(It||[],Xe+1,2*He+1,2*We+1)}}},st.prototype.getTile=function(Ze,Xe,He){var We=this.options,rt=We.extent,nt=We.debug;if(Ze<0||Ze>24)return null;var ze=1<<Ze,Be=Tt(Ze,Xe=(Xe%ze+ze)%ze,He);if(this.tiles[Be])return Qe(this.tiles[Be],rt);nt>1&&console.log("drilling down to z%d-%d-%d",Ze,Xe,He);for(var tt,et=Ze,gt=Xe,pt=He;!tt&&et>0;)et--,gt=Math.floor(gt/2),pt=Math.floor(pt/2),tt=this.tiles[Tt(et,gt,pt)];return tt&&tt.source?(nt>1&&console.log("found parent tile z%d-%d-%d",et,gt,pt),nt>1&&console.time("drilling down"),this.splitTile(tt.source,et,gt,pt,Ze,Xe,He),nt>1&&console.timeEnd("drilling down"),this.tiles[Be]?Qe(this.tiles[Be],rt):null):null};var Pt=function(Ze){function Xe(He,We,rt,nt){Ze.call(this,He,We,rt,At),nt&&(this.loadGeoJSON=nt)}return Ze&&(Xe.__proto__=Ze),(Xe.prototype=Object.create(Ze&&Ze.prototype)).constructor=Xe,Xe.prototype.loadData=function(He,We){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=We,this._pendingLoadDataParams=He,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Xe.prototype._loadData=function(){var He=this;if(this._pendingCallback&&this._pendingLoadDataParams){var We=this._pendingCallback,rt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var nt=!!(rt&&rt.request&&rt.request.collectResourceTiming)&&new l.RequestPerformance(rt.request);this.loadGeoJSON(rt,function(ze,Be){if(ze||!Be)return We(ze);if("object"!=typeof Be)return We(new Error("Input data given to '"+rt.source+"' is not a valid GeoJSON object."));u(Be,!0);try{He._geoJSONIndex=rt.cluster?new ne(function(gt){var pt=gt.superclusterOptions,vt=gt.clusterProperties;if(!vt||!pt)return pt;for(var ut={},wt={},ct={accumulated:null,zoom:0},ft={properties:null},bt=Object.keys(vt),It=0,Dt=bt;It<Dt.length;It+=1){var Nt=Dt[It],$t=vt[Nt],jt=$t[0],Gt=l.createExpression($t[1]),hn=l.createExpression("string"==typeof jt?[jt,["accumulated"],["get",Nt]]:jt);ut[Nt]=Gt.value,wt[Nt]=hn.value}return pt.map=function(yn){ft.properties=yn;for(var on={},Ut=0,nn=bt;Ut<nn.length;Ut+=1){var Xt=nn[Ut];on[Xt]=ut[Xt].evaluate(ct,ft)}return on},pt.reduce=function(yn,on){ft.properties=on;for(var Ut=0,nn=bt;Ut<nn.length;Ut+=1){var Xt=nn[Ut];ct.accumulated=yn[Xt],yn[Xt]=wt[Xt].evaluate(ct,ft)}},pt}(rt)).load(Be.features):new st(gt=Be,rt.geojsonVtOptions)}catch(gt){return We(gt)}var gt;He.loaded={};var tt={};if(nt){var et=nt.finish();et&&(tt.resourceTiming={},tt.resourceTiming[rt.source]=JSON.parse(JSON.stringify(et)))}We(null,tt)})}},Xe.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},Xe.prototype.reloadTile=function(He,We){var rt=this.loaded;return rt&&rt[He.uid]?Ze.prototype.reloadTile.call(this,He,We):this.loadTile(He,We)},Xe.prototype.loadGeoJSON=function(He,We){if(He.request)l.getJSON(He.request,We);else{if("string"!=typeof He.data)return We(new Error("Input data given to '"+He.source+"' is not a valid GeoJSON object."));try{return We(null,JSON.parse(He.data))}catch{return We(new Error("Input data given to '"+He.source+"' is not a valid GeoJSON object."))}}},Xe.prototype.removeSource=function(He,We){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),We()},Xe.prototype.getClusterExpansionZoom=function(He,We){try{We(null,this._geoJSONIndex.getClusterExpansionZoom(He.clusterId))}catch(rt){We(rt)}},Xe.prototype.getClusterChildren=function(He,We){try{We(null,this._geoJSONIndex.getChildren(He.clusterId))}catch(rt){We(rt)}},Xe.prototype.getClusterLeaves=function(He,We){try{We(null,this._geoJSONIndex.getLeaves(He.clusterId,He.limit,He.offset))}catch(rt){We(rt)}},Xe}(n),kt=function(Ze){var Xe=this;this.self=Ze,this.actor=new l.Actor(Ze,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:n,geojson:Pt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(He,We){if(Xe.workerSourceTypes[He])throw new Error('Worker source with name "'+He+'" already registered.');Xe.workerSourceTypes[He]=We},this.self.registerRTLTextPlugin=function(He){if(l.plugin.isParsed())throw new Error("RTL text plugin already registered.");l.plugin.applyArabicShaping=He.applyArabicShaping,l.plugin.processBidirectionalText=He.processBidirectionalText,l.plugin.processStyledBidirectionalText=He.processStyledBidirectionalText}};return kt.prototype.setReferrer=function(Ze,Xe){this.referrer=Xe},kt.prototype.setImages=function(Ze,Xe,He){for(var We in this.availableImages[Ze]=Xe,this.workerSources[Ze]){var rt=this.workerSources[Ze][We];for(var nt in rt)rt[nt].availableImages=Xe}He()},kt.prototype.setLayers=function(Ze,Xe,He){this.getLayerIndex(Ze).replace(Xe),He()},kt.prototype.updateLayers=function(Ze,Xe,He){this.getLayerIndex(Ze).update(Xe.layers,Xe.removedIds),He()},kt.prototype.loadTile=function(Ze,Xe,He){this.getWorkerSource(Ze,Xe.type,Xe.source).loadTile(Xe,He)},kt.prototype.loadDEMTile=function(Ze,Xe,He){this.getDEMWorkerSource(Ze,Xe.source).loadTile(Xe,He)},kt.prototype.reloadTile=function(Ze,Xe,He){this.getWorkerSource(Ze,Xe.type,Xe.source).reloadTile(Xe,He)},kt.prototype.abortTile=function(Ze,Xe,He){this.getWorkerSource(Ze,Xe.type,Xe.source).abortTile(Xe,He)},kt.prototype.removeTile=function(Ze,Xe,He){this.getWorkerSource(Ze,Xe.type,Xe.source).removeTile(Xe,He)},kt.prototype.removeDEMTile=function(Ze,Xe){this.getDEMWorkerSource(Ze,Xe.source).removeTile(Xe)},kt.prototype.removeSource=function(Ze,Xe,He){if(this.workerSources[Ze]&&this.workerSources[Ze][Xe.type]&&this.workerSources[Ze][Xe.type][Xe.source]){var We=this.workerSources[Ze][Xe.type][Xe.source];delete this.workerSources[Ze][Xe.type][Xe.source],void 0!==We.removeSource?We.removeSource(Xe,He):He()}},kt.prototype.loadWorkerSource=function(Ze,Xe,He){try{this.self.importScripts(Xe.url),He()}catch(We){He(We.toString())}},kt.prototype.syncRTLPluginState=function(Ze,Xe,He){try{l.plugin.setState(Xe);var We=l.plugin.getPluginURL();if(l.plugin.isLoaded()&&!l.plugin.isParsed()&&null!=We){this.self.importScripts(We);var rt=l.plugin.isParsed();He(rt?void 0:new Error("RTL Text Plugin failed to import scripts from "+We),rt)}}catch(nt){He(nt.toString())}},kt.prototype.getAvailableImages=function(Ze){var Xe=this.availableImages[Ze];return Xe||(Xe=[]),Xe},kt.prototype.getLayerIndex=function(Ze){var Xe=this.layerIndexes[Ze];return Xe||(Xe=this.layerIndexes[Ze]=new d),Xe},kt.prototype.getWorkerSource=function(Ze,Xe,He){var We=this;return this.workerSources[Ze]||(this.workerSources[Ze]={}),this.workerSources[Ze][Xe]||(this.workerSources[Ze][Xe]={}),this.workerSources[Ze][Xe][He]||(this.workerSources[Ze][Xe][He]=new this.workerSourceTypes[Xe]({send:function(nt,ze,Be){We.actor.send(nt,ze,Be,Ze)}},this.getLayerIndex(Ze),this.getAvailableImages(Ze))),this.workerSources[Ze][Xe][He]},kt.prototype.getDEMWorkerSource=function(Ze,Xe){return this.demWorkerSources[Ze]||(this.demWorkerSources[Ze]={}),this.demWorkerSources[Ze][Xe]||(this.demWorkerSources[Ze][Xe]=new s),this.demWorkerSources[Ze][Xe]},kt.prototype.enforceCacheSizeLimit=function(Ze,Xe){l.enforceCacheSizeLimit(Xe)},typeof WorkerGlobalScope<"u"&&void 0!==l.window&&l.window instanceof WorkerGlobalScope&&(l.window.worker=new kt(l.window)),kt}),k(0,function(l){var T=l.createCommonjsModule(function(z){function H(he){return!V(he)}function V(he){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var B,Q,ie=new Blob([""],{type:"text/javascript"}),de=URL.createObjectURL(ie);try{Q=new Worker(de),B=!0}catch{B=!1}return Q&&Q.terminate(),URL.revokeObjectURL(de),B}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var B=document.createElement("canvas");B.width=B.height=1;var Q=B.getContext("2d");if(!Q)return!1;var ie=Q.getImageData(0,0,1,1);return ie&&ie.width===B.width}()?(void 0===K[Ae=he&&he.failIfMajorPerformanceCaveat]&&(K[Ae]=function(B){var de,ye,Le,Q=(de=B,ye=document.createElement("canvas"),(Le=Object.create(H.webGLContextAttributes)).failIfMajorPerformanceCaveat=de,ye.probablySupportsContext?ye.probablySupportsContext("webgl",Le)||ye.probablySupportsContext("experimental-webgl",Le):ye.supportsContext?ye.supportsContext("webgl",Le)||ye.supportsContext("experimental-webgl",Le):ye.getContext("webgl",Le)||ye.getContext("experimental-webgl",Le));if(!Q)return!1;var ie=Q.createShader(Q.VERTEX_SHADER);return!(!ie||Q.isContextLost())&&(Q.shaderSource(ie,"void main() {}"),Q.compileShader(ie),!0===Q.getShaderParameter(ie,Q.COMPILE_STATUS))}(Ae)),K[Ae]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var Ae}z.exports?z.exports=H:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=H,window.mapboxgl.notSupportedReason=V);var K={};H.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),b={create:function(z,H,V){var K=l.window.document.createElement(z);return void 0!==H&&(K.className=H),V&&V.appendChild(K),K},createNS:function(z,H){return l.window.document.createElementNS(z,H)}},d=l.window.document.documentElement.style;function a(z){if(!d)return z[0];for(var H=0;H<z.length;H++)if(z[H]in d)return z[H];return z[0]}var t,i=a(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);b.disableDrag=function(){d&&i&&(t=d[i],d[i]="none")},b.enableDrag=function(){d&&i&&(d[i]=t)};var r=a(["transform","WebkitTransform"]);b.setTransform=function(z,H){z.style[r]=H};var n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){n=!0}});l.window.addEventListener("test",o,o),l.window.removeEventListener("test",o,o)}catch{n=!1}b.addEventListener=function(z,H,V,K){void 0===K&&(K={}),z.addEventListener(H,V,"passive"in K&&n?K:K.capture)},b.removeEventListener=function(z,H,V,K){void 0===K&&(K={}),z.removeEventListener(H,V,"passive"in K&&n?K:K.capture)};var s=function(z){z.preventDefault(),z.stopPropagation(),l.window.removeEventListener("click",s,!0)};function u(z){var H=z.userImage;return!!(H&&H.render&&H.render())&&(z.data.replace(new Uint8Array(H.data.buffer)),!0)}b.suppressClick=function(){l.window.addEventListener("click",s,!0),l.window.setTimeout(function(){l.window.removeEventListener("click",s,!0)},0)},b.mousePos=function(z,H){var V=z.getBoundingClientRect();return new l.Point(H.clientX-V.left-z.clientLeft,H.clientY-V.top-z.clientTop)},b.touchPos=function(z,H){for(var V=z.getBoundingClientRect(),K=[],he=0;he<H.length;he++)K.push(new l.Point(H[he].clientX-V.left-z.clientLeft,H[he].clientY-V.top-z.clientTop));return K},b.mouseButton=function(z){return void 0!==l.window.InstallTrigger&&2===z.button&&z.ctrlKey&&l.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:z.button},b.remove=function(z){z.parentNode&&z.parentNode.removeChild(z)};var p=function(z){function H(){z.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new l.RGBAImage({width:1,height:1}),this.dirty=!0}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.isLoaded=function(){return this.loaded},H.prototype.setLoaded=function(V){if(this.loaded!==V&&(this.loaded=V,V)){for(var K=0,he=this.requestors;K<he.length;K+=1){var Ae=he[K];this._notify(Ae.ids,Ae.callback)}this.requestors=[]}},H.prototype.getImage=function(V){return this.images[V]},H.prototype.addImage=function(V,K){this._validate(V,K)&&(this.images[V]=K)},H.prototype._validate=function(V,K){var he=!0;return this._validateStretch(K.stretchX,K.data&&K.data.width)||(this.fire(new l.ErrorEvent(new Error('Image "'+V+'" has invalid "stretchX" value'))),he=!1),this._validateStretch(K.stretchY,K.data&&K.data.height)||(this.fire(new l.ErrorEvent(new Error('Image "'+V+'" has invalid "stretchY" value'))),he=!1),this._validateContent(K.content,K)||(this.fire(new l.ErrorEvent(new Error('Image "'+V+'" has invalid "content" value'))),he=!1),he},H.prototype._validateStretch=function(V,K){if(!V)return!0;for(var he=0,Ae=0,B=V;Ae<B.length;Ae+=1){var Q=B[Ae];if(Q[0]<he||Q[1]<Q[0]||K<Q[1])return!1;he=Q[1]}return!0},H.prototype._validateContent=function(V,K){return!(V&&(4!==V.length||V[0]<0||K.data.width<V[0]||V[1]<0||K.data.height<V[1]||V[2]<0||K.data.width<V[2]||V[3]<0||K.data.height<V[3]||V[2]<V[0]||V[3]<V[1]))},H.prototype.updateImage=function(V,K){K.version=this.images[V].version+1,this.images[V]=K,this.updatedImages[V]=!0},H.prototype.removeImage=function(V){var K=this.images[V];delete this.images[V],delete this.patterns[V],K.userImage&&K.userImage.onRemove&&K.userImage.onRemove()},H.prototype.listImages=function(){return Object.keys(this.images)},H.prototype.getImages=function(V,K){var he=!0;if(!this.isLoaded())for(var Ae=0,B=V;Ae<B.length;Ae+=1)this.images[B[Ae]]||(he=!1);this.isLoaded()||he?this._notify(V,K):this.requestors.push({ids:V,callback:K})},H.prototype._notify=function(V,K){for(var he={},Ae=0,B=V;Ae<B.length;Ae+=1){var Q=B[Ae];this.images[Q]||this.fire(new l.Event("styleimagemissing",{id:Q}));var ie=this.images[Q];ie?he[Q]={data:ie.data.clone(),pixelRatio:ie.pixelRatio,sdf:ie.sdf,version:ie.version,stretchX:ie.stretchX,stretchY:ie.stretchY,content:ie.content,hasRenderCallback:!(!ie.userImage||!ie.userImage.render)}:l.warnOnce('Image "'+Q+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}K(null,he)},H.prototype.getPixelSize=function(){var V=this.atlasImage;return{width:V.width,height:V.height}},H.prototype.getPattern=function(V){var K=this.patterns[V],he=this.getImage(V);if(!he)return null;if(K&&K.position.version===he.version)return K.position;if(K)K.position.version=he.version;else{var Ae={w:he.data.width+2,h:he.data.height+2,x:0,y:0},B=new l.ImagePosition(Ae,he);this.patterns[V]={bin:Ae,position:B}}return this._updatePatternAtlas(),this.patterns[V].position},H.prototype.bind=function(V){var K=V.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new l.Texture(V,this.atlasImage,K.RGBA),this.atlasTexture.bind(K.LINEAR,K.CLAMP_TO_EDGE)},H.prototype._updatePatternAtlas=function(){var V=[];for(var K in this.patterns)V.push(this.patterns[K].bin);var he=l.potpack(V),Ae=he.w,B=he.h,Q=this.atlasImage;for(var ie in Q.resize({width:Ae||1,height:B||1}),this.patterns){var de=this.patterns[ie].bin,ye=de.x+1,Le=de.y+1,Ne=this.images[ie].data,Ve=Ne.width,Ge=Ne.height;l.RGBAImage.copy(Ne,Q,{x:0,y:0},{x:ye,y:Le},{width:Ve,height:Ge}),l.RGBAImage.copy(Ne,Q,{x:0,y:Ge-1},{x:ye,y:Le-1},{width:Ve,height:1}),l.RGBAImage.copy(Ne,Q,{x:0,y:0},{x:ye,y:Le+Ge},{width:Ve,height:1}),l.RGBAImage.copy(Ne,Q,{x:Ve-1,y:0},{x:ye-1,y:Le},{width:1,height:Ge}),l.RGBAImage.copy(Ne,Q,{x:0,y:0},{x:ye+Ve,y:Le},{width:1,height:Ge})}this.dirty=!0},H.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},H.prototype.dispatchRenderCallbacks=function(V){for(var K=0,he=V;K<he.length;K+=1){var Ae=he[K];if(!this.callbackDispatchedThisFrame[Ae]){this.callbackDispatchedThisFrame[Ae]=!0;var B=this.images[Ae];u(B)&&this.updateImage(Ae,B)}}},H}(l.Evented),c=h,x=h,g=1e20;function h(z,H,V,K,he,Ae){this.fontSize=z||24,this.buffer=void 0===H?3:H,this.cutoff=K||.25,this.fontFamily=he||"sans-serif",this.fontWeight=Ae||"normal",this.radius=V||8;var B=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=B,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(B*B),this.gridInner=new Float64Array(B*B),this.f=new Float64Array(B),this.d=new Float64Array(B),this.z=new Float64Array(B+1),this.v=new Int16Array(B),this.middle=Math.round(B/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function y(z,H,V,K,he,Ae,B){for(var Q=0;Q<H;Q++){for(var ie=0;ie<V;ie++)K[ie]=z[ie*H+Q];for(v(K,he,Ae,B,V),ie=0;ie<V;ie++)z[ie*H+Q]=he[ie]}for(ie=0;ie<V;ie++){for(Q=0;Q<H;Q++)K[Q]=z[ie*H+Q];for(v(K,he,Ae,B,H),Q=0;Q<H;Q++)z[ie*H+Q]=Math.sqrt(he[Q])}}function v(z,H,V,K,he){V[0]=0,K[0]=-g,K[1]=+g;for(var Ae=1,B=0;Ae<he;Ae++){for(var Q=(z[Ae]+Ae*Ae-(z[V[B]]+V[B]*V[B]))/(2*Ae-2*V[B]);Q<=K[B];)B--,Q=(z[Ae]+Ae*Ae-(z[V[B]]+V[B]*V[B]))/(2*Ae-2*V[B]);V[++B]=Ae,K[B]=Q,K[B+1]=+g}for(Ae=0,B=0;Ae<he;Ae++){for(;K[B+1]<Ae;)B++;H[Ae]=(Ae-V[B])*(Ae-V[B])+z[V[B]]}}h.prototype.draw=function(z){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(z,this.buffer,this.middle);for(var H=this.ctx.getImageData(0,0,this.size,this.size),V=new Uint8ClampedArray(this.size*this.size),K=0;K<this.size*this.size;K++){var he=H.data[4*K+3]/255;this.gridOuter[K]=1===he?0:0===he?g:Math.pow(Math.max(0,.5-he),2),this.gridInner[K]=1===he?g:0===he?0:Math.pow(Math.max(0,he-.5),2)}for(y(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),y(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),K=0;K<this.size*this.size;K++)V[K]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[K]-this.gridInner[K])/this.radius+this.cutoff))));return V},c.default=x;var m=function(z,H){this.requestManager=z,this.localIdeographFontFamily=H,this.entries={}};m.prototype.setURL=function(z){this.url=z},m.prototype.getGlyphs=function(z,H){var V=this,K=[];for(var he in z)for(var Ae=0,B=z[he];Ae<B.length;Ae+=1)K.push({stack:he,id:B[Ae]});l.asyncAll(K,function(ie,de){var ye=ie.stack,Le=ie.id,Ne=V.entries[ye];Ne||(Ne=V.entries[ye]={glyphs:{},requests:{},ranges:{}});var Ve=Ne.glyphs[Le];if(void 0===Ve){if(Ve=V._tinySDF(Ne,ye,Le))return Ne.glyphs[Le]=Ve,void de(null,{stack:ye,id:Le,glyph:Ve});var Ge=Math.floor(Le/256);if(256*Ge>65535)de(new Error("glyphs > 65535 not supported"));else if(Ne.ranges[Ge])de(null,{stack:ye,id:Le,glyph:Ve});else{var Ye=Ne.requests[Ge];Ye||(Ye=Ne.requests[Ge]=[],m.loadGlyphRange(ye,Ge,V.url,V.requestManager,function($e,lt){if(lt){for(var ht in lt)V._doesCharSupportLocalGlyph(+ht)||(Ne.glyphs[+ht]=lt[+ht]);Ne.ranges[Ge]=!0}for(var Et=0,Ct=Ye;Et<Ct.length;Et+=1)(0,Ct[Et])($e,lt);delete Ne.requests[Ge]})),Ye.push(function($e,lt){$e?de($e):lt&&de(null,{stack:ye,id:Le,glyph:lt[Le]||null})})}}else de(null,{stack:ye,id:Le,glyph:Ve})},function(ie,de){if(ie)H(ie);else if(de){for(var ye={},Le=0,Ne=de;Le<Ne.length;Le+=1){var Ve=Ne[Le],Ge=Ve.stack,Ye=Ve.id,$e=Ve.glyph;(ye[Ge]||(ye[Ge]={}))[Ye]=$e&&{id:$e.id,bitmap:$e.bitmap.clone(),metrics:$e.metrics}}H(null,ye)}})},m.prototype._doesCharSupportLocalGlyph=function(z){return!!this.localIdeographFontFamily&&(l.isChar["CJK Unified Ideographs"](z)||l.isChar["Hangul Syllables"](z)||l.isChar.Hiragana(z)||l.isChar.Katakana(z))},m.prototype._tinySDF=function(z,H,V){var K=this.localIdeographFontFamily;if(K&&this._doesCharSupportLocalGlyph(V)){var he=z.tinySDF;if(!he){var Ae="400";/bold/i.test(H)?Ae="900":/medium/i.test(H)?Ae="500":/light/i.test(H)&&(Ae="200"),he=z.tinySDF=new m.TinySDF(24,3,8,.25,K,Ae)}return{id:V,bitmap:new l.AlphaImage({width:30,height:30},he.draw(String.fromCharCode(V))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},m.loadGlyphRange=function(z,H,V,K,he){var Ae=256*H,B=Ae+255,Q=K.transformRequest(K.normalizeGlyphsURL(V).replace("{fontstack}",z).replace("{range}",Ae+"-"+B),l.ResourceType.Glyphs);l.getArrayBuffer(Q,function(ie,de){if(ie)he(ie);else if(de){for(var ye={},Le=0,Ne=l.parseGlyphPBF(de);Le<Ne.length;Le+=1){var Ve=Ne[Le];ye[Ve.id]=Ve}he(null,ye)}})},m.TinySDF=c;var _=function(){this.specification=l.styleSpec.light.position};_.prototype.possiblyEvaluate=function(z,H){return l.sphericalToCartesian(z.expression.evaluate(H))},_.prototype.interpolate=function(z,H,V){return{x:l.number(z.x,H.x,V),y:l.number(z.y,H.y,V),z:l.number(z.z,H.z,V)}};var f=new l.Properties({anchor:new l.DataConstantProperty(l.styleSpec.light.anchor),position:new _,color:new l.DataConstantProperty(l.styleSpec.light.color),intensity:new l.DataConstantProperty(l.styleSpec.light.intensity)}),w=function(z){function H(V){z.call(this),this._transitionable=new l.Transitionable(f),this.setLight(V),this._transitioning=this._transitionable.untransitioned()}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getLight=function(){return this._transitionable.serialize()},H.prototype.setLight=function(V,K){if(void 0===K&&(K={}),!this._validate(l.validateLight,V,K))for(var he in V){var Ae=V[he];l.endsWith(he,"-transition")?this._transitionable.setTransition(he.slice(0,-11),Ae):this._transitionable.setValue(he,Ae)}},H.prototype.updateTransitions=function(V){this._transitioning=this._transitionable.transitioned(V,this._transitioning)},H.prototype.hasTransition=function(){return this._transitioning.hasTransition()},H.prototype.recalculate=function(V){this.properties=this._transitioning.possiblyEvaluate(V)},H.prototype._validate=function(V,K,he){return(!he||!1!==he.validate)&&l.emitValidationErrors(this,V.call(l.validateStyle,l.extend({value:K,style:{glyphs:!0,sprite:!0},styleSpec:l.styleSpec})))},H}(l.Evented),E=function(z,H){this.width=z,this.height=H,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};E.prototype.getDash=function(z,H){var V=z.join(",")+String(H);return this.dashEntry[V]||(this.dashEntry[V]=this.addDash(z,H)),this.dashEntry[V]},E.prototype.getDashRanges=function(z,H,V){var K=[],he=z.length%2==1?-z[z.length-1]*V:0,Ae=z[0]*V,B=!0;K.push({left:he,right:Ae,isDash:B,zeroLength:0===z[0]});for(var Q=z[0],ie=1;ie<z.length;ie++){var de=z[ie];he=Q*V,Ae=(Q+=de)*V,K.push({left:he,right:Ae,isDash:B=!B,zeroLength:0===de})}return K},E.prototype.addRoundDash=function(z,H,V){for(var K=H/2,he=-V;he<=V;he++)for(var B=this.width*(this.nextRow+V+he),Q=0,ie=z[Q],de=0;de<this.width;de++){de/ie.right>1&&(ie=z[++Q]);var ye=Math.abs(de-ie.left),Le=Math.abs(de-ie.right),Ne=Math.min(ye,Le),Ve=void 0,Ge=he/V*(K+1);if(ie.isDash){var Ye=K-Math.abs(Ge);Ve=Math.sqrt(Ne*Ne+Ye*Ye)}else Ve=K-Math.sqrt(Ne*Ne+Ge*Ge);this.data[B+de]=Math.max(0,Math.min(255,Ve+128))}},E.prototype.addRegularDash=function(z){for(var H=z.length-1;H>=0;--H){var V=z[H],K=z[H+1];V.zeroLength?z.splice(H,1):K&&K.isDash===V.isDash&&(K.left=V.left,z.splice(H,1))}var he=z[0],Ae=z[z.length-1];he.isDash===Ae.isDash&&(he.left=Ae.left-this.width,Ae.right=he.right+this.width);for(var B=this.width*this.nextRow,Q=0,ie=z[Q],de=0;de<this.width;de++){de/ie.right>1&&(ie=z[++Q]);var ye=Math.abs(de-ie.left),Le=Math.abs(de-ie.right),Ne=Math.min(ye,Le);this.data[B+de]=Math.max(0,Math.min(255,(ie.isDash?Ne:-Ne)+128))}},E.prototype.addDash=function(z,H){var V=H?7:0,K=2*V+1;if(this.nextRow+K>this.height)return l.warnOnce("LineAtlas out of space"),null;for(var he=0,Ae=0;Ae<z.length;Ae++)he+=z[Ae];if(0!==he){var B=this.width/he,Q=this.getDashRanges(z,this.width,B);H?this.addRoundDash(Q,B,V):this.addRegularDash(Q)}var ie={y:(this.nextRow+V+.5)/this.height,height:2*V/this.height,width:he};return this.nextRow+=K,this.dirty=!0,ie},E.prototype.bind=function(z){var H=z.gl;this.texture?(H.bindTexture(H.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,H.texSubImage2D(H.TEXTURE_2D,0,0,0,this.width,this.height,H.ALPHA,H.UNSIGNED_BYTE,this.data))):(this.texture=H.createTexture(),H.bindTexture(H.TEXTURE_2D,this.texture),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_WRAP_S,H.REPEAT),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_WRAP_T,H.REPEAT),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,H.LINEAR),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,H.LINEAR),H.texImage2D(H.TEXTURE_2D,0,H.ALPHA,this.width,this.height,0,H.ALPHA,H.UNSIGNED_BYTE,this.data))};var L=function z(H,V){this.workerPool=H,this.actors=[],this.currentActor=0,this.id=l.uniqueId();for(var K=this.workerPool.acquire(this.id),he=0;he<K.length;he++){var B=new z.Actor(K[he],V,this.id);B.name="Worker "+he,this.actors.push(B)}};function C(z,H,V){var K=function(he,Ae){if(he)return V(he);if(Ae){var B=l.pick(l.extend(Ae,z),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Ae.vector_layers&&(B.vectorLayers=Ae.vector_layers,B.vectorLayerIds=B.vectorLayers.map(function(Q){return Q.id})),B.tiles=H.canonicalizeTileset(B,z.url),V(null,B)}};return z.url?l.getJSON(H.transformRequest(H.normalizeSourceURL(z.url),l.ResourceType.Source),K):l.browser.frame(function(){return K(null,z)})}L.prototype.broadcast=function(z,H,V){l.asyncAll(this.actors,function(K,he){K.send(z,H,he)},V=V||function(){})},L.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},L.prototype.remove=function(){this.actors.forEach(function(z){z.remove()}),this.actors=[],this.workerPool.release(this.id)},L.Actor=l.Actor;var O=function(z,H,V){this.bounds=l.LngLatBounds.convert(this.validateBounds(z)),this.minzoom=H||0,this.maxzoom=V||24};O.prototype.validateBounds=function(z){return Array.isArray(z)&&4===z.length?[Math.max(-180,z[0]),Math.max(-90,z[1]),Math.min(180,z[2]),Math.min(90,z[3])]:[-180,-90,180,90]},O.prototype.contains=function(z){var H=Math.pow(2,z.z),V=Math.floor(l.mercatorXfromLng(this.bounds.getWest())*H),K=Math.floor(l.mercatorYfromLat(this.bounds.getNorth())*H),he=Math.ceil(l.mercatorXfromLng(this.bounds.getEast())*H),Ae=Math.ceil(l.mercatorYfromLat(this.bounds.getSouth())*H);return z.x>=V&&z.x<he&&z.y>=K&&z.y<Ae};var R=function(z){function H(V,K,he,Ae){if(z.call(this),this.id=V,this.dispatcher=he,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,l.extend(this,l.pick(K,["url","scheme","tileSize","promoteId"])),this._options=l.extend({type:"vector"},K),this._collectResourceTiming=K.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Ae)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.load=function(){var V=this;this._loaded=!1,this.fire(new l.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._requestManager,function(K,he){V._tileJSONRequest=null,V._loaded=!0,K?V.fire(new l.ErrorEvent(K)):he&&(l.extend(V,he),he.bounds&&(V.tileBounds=new O(he.bounds,V.minzoom,V.maxzoom)),l.postTurnstileEvent(he.tiles,V.map._requestManager._customAccessToken),l.postMapLoadEvent(he.tiles,V.map._getMapId(),V.map._requestManager._skuToken,V.map._requestManager._customAccessToken),V.fire(new l.Event("data",{dataType:"source",sourceDataType:"metadata"})),V.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"})))})},H.prototype.loaded=function(){return this._loaded},H.prototype.hasTile=function(V){return!this.tileBounds||this.tileBounds.contains(V.canonical)},H.prototype.onAdd=function(V){this.map=V,this.load()},H.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},H.prototype.serialize=function(){return l.extend({},this._options)},H.prototype.loadTile=function(V,K){var he=this.map._requestManager.normalizeTileURL(V.tileID.canonical.url(this.tiles,this.scheme)),Ae={request:this.map._requestManager.transformRequest(he,l.ResourceType.Tile),uid:V.uid,tileID:V.tileID,zoom:V.tileID.overscaledZ,tileSize:this.tileSize*V.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:l.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function B(Q,ie){return delete V.request,V.aborted?K(null):Q&&404!==Q.status?K(Q):(ie&&ie.resourceTiming&&(V.resourceTiming=ie.resourceTiming),this.map._refreshExpiredTiles&&ie&&V.setExpiryData(ie),V.loadVectorData(ie,this.map.painter),l.cacheEntryPossiblyAdded(this.dispatcher),K(null),void(V.reloadCallback&&(this.loadTile(V,V.reloadCallback),V.reloadCallback=null)))}Ae.request.collectResourceTiming=this._collectResourceTiming,V.actor&&"expired"!==V.state?"loading"===V.state?V.reloadCallback=K:V.request=V.actor.send("reloadTile",Ae,B.bind(this)):(V.actor=this.dispatcher.getActor(),V.request=V.actor.send("loadTile",Ae,B.bind(this)))},H.prototype.abortTile=function(V){V.request&&(V.request.cancel(),delete V.request),V.actor&&V.actor.send("abortTile",{uid:V.uid,type:this.type,source:this.id},void 0)},H.prototype.unloadTile=function(V){V.unloadVectorData(),V.actor&&V.actor.send("removeTile",{uid:V.uid,type:this.type,source:this.id},void 0)},H.prototype.hasTransition=function(){return!1},H}(l.Evented),q=function(z){function H(V,K,he,Ae){z.call(this),this.id=V,this.dispatcher=he,this.setEventedParent(Ae),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=l.extend({type:"raster"},K),l.extend(this,l.pick(K,["url","scheme","tileSize"]))}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.load=function(){var V=this;this._loaded=!1,this.fire(new l.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._requestManager,function(K,he){V._tileJSONRequest=null,V._loaded=!0,K?V.fire(new l.ErrorEvent(K)):he&&(l.extend(V,he),he.bounds&&(V.tileBounds=new O(he.bounds,V.minzoom,V.maxzoom)),l.postTurnstileEvent(he.tiles),l.postMapLoadEvent(he.tiles,V.map._getMapId(),V.map._requestManager._skuToken),V.fire(new l.Event("data",{dataType:"source",sourceDataType:"metadata"})),V.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"})))})},H.prototype.loaded=function(){return this._loaded},H.prototype.onAdd=function(V){this.map=V,this.load()},H.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},H.prototype.serialize=function(){return l.extend({},this._options)},H.prototype.hasTile=function(V){return!this.tileBounds||this.tileBounds.contains(V.canonical)},H.prototype.loadTile=function(V,K){var he=this,Ae=this.map._requestManager.normalizeTileURL(V.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);V.request=l.getImage(this.map._requestManager.transformRequest(Ae,l.ResourceType.Tile),function(B,Q){if(delete V.request,V.aborted)V.state="unloaded",K(null);else if(B)V.state="errored",K(B);else if(Q){he.map._refreshExpiredTiles&&V.setExpiryData(Q),delete Q.cacheControl,delete Q.expires;var ie=he.map.painter.context,de=ie.gl;V.texture=he.map.painter.getTileTexture(Q.width),V.texture?V.texture.update(Q,{useMipmap:!0}):(V.texture=new l.Texture(ie,Q,de.RGBA,{useMipmap:!0}),V.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE,de.LINEAR_MIPMAP_NEAREST),ie.extTextureFilterAnisotropic&&de.texParameterf(de.TEXTURE_2D,ie.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ie.extTextureFilterAnisotropicMax)),V.state="loaded",l.cacheEntryPossiblyAdded(he.dispatcher),K(null)}})},H.prototype.abortTile=function(V,K){V.request&&(V.request.cancel(),delete V.request),K()},H.prototype.unloadTile=function(V,K){V.texture&&this.map.painter.saveTileTexture(V.texture),K()},H.prototype.hasTransition=function(){return!1},H}(l.Evented),P=function(z){function H(V,K,he,Ae){z.call(this,V,K,he,Ae),this.type="raster-dem",this.maxzoom=22,this._options=l.extend({type:"raster-dem"},K),this.encoding=K.encoding||"mapbox"}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},H.prototype.loadTile=function(V,K){var he=this.map._requestManager.normalizeTileURL(V.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function Ae(B,Q){B&&(V.state="errored",K(B)),Q&&(V.dem=Q,V.needsHillshadePrepare=!0,V.state="loaded",K(null))}V.request=l.getImage(this.map._requestManager.transformRequest(he,l.ResourceType.Tile),function(B,Q){if(delete V.request,V.aborted)V.state="unloaded",K(null);else if(B)V.state="errored",K(B);else if(Q){this.map._refreshExpiredTiles&&V.setExpiryData(Q),delete Q.cacheControl,delete Q.expires;var ie=l.window.ImageBitmap&&Q instanceof l.window.ImageBitmap&&l.offscreenCanvasSupported()?Q:l.browser.getImageData(Q,1),de={uid:V.uid,coord:V.tileID,source:this.id,rawImageData:ie,encoding:this.encoding};V.actor&&"expired"!==V.state||(V.actor=this.dispatcher.getActor(),V.actor.send("loadDEMTile",de,Ae.bind(this)))}}.bind(this)),V.neighboringTiles=this._getNeighboringTiles(V.tileID)},H.prototype._getNeighboringTiles=function(V){var K=V.canonical,he=Math.pow(2,K.z),Ae=(K.x-1+he)%he,B=0===K.x?V.wrap-1:V.wrap,Q=(K.x+1+he)%he,ie=K.x+1===he?V.wrap+1:V.wrap,de={};return de[new l.OverscaledTileID(V.overscaledZ,B,K.z,Ae,K.y).key]={backfilled:!1},de[new l.OverscaledTileID(V.overscaledZ,ie,K.z,Q,K.y).key]={backfilled:!1},K.y>0&&(de[new l.OverscaledTileID(V.overscaledZ,B,K.z,Ae,K.y-1).key]={backfilled:!1},de[new l.OverscaledTileID(V.overscaledZ,V.wrap,K.z,K.x,K.y-1).key]={backfilled:!1},de[new l.OverscaledTileID(V.overscaledZ,ie,K.z,Q,K.y-1).key]={backfilled:!1}),K.y+1<he&&(de[new l.OverscaledTileID(V.overscaledZ,B,K.z,Ae,K.y+1).key]={backfilled:!1},de[new l.OverscaledTileID(V.overscaledZ,V.wrap,K.z,K.x,K.y+1).key]={backfilled:!1},de[new l.OverscaledTileID(V.overscaledZ,ie,K.z,Q,K.y+1).key]={backfilled:!1}),de},H.prototype.unloadTile=function(V){V.demTexture&&this.map.painter.saveTileTexture(V.demTexture),V.fbo&&(V.fbo.destroy(),delete V.fbo),V.dem&&delete V.dem,delete V.neighboringTiles,V.state="unloaded",V.actor&&V.actor.send("removeDEMTile",{uid:V.uid,source:this.id})},H}(q),U=function(z){function H(V,K,he,Ae){z.call(this),this.id=V,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=he.getActor(),this.setEventedParent(Ae),this._data=K.data,this._options=l.extend({},K),this._collectResourceTiming=K.collectResourceTiming,this._resourceTiming=[],void 0!==K.maxzoom&&(this.maxzoom=K.maxzoom),K.type&&(this.type=K.type),K.attribution&&(this.attribution=K.attribution),this.promoteId=K.promoteId;var B=l.EXTENT/this.tileSize;this.workerOptions=l.extend({source:this.id,cluster:K.cluster||!1,geojsonVtOptions:{buffer:(void 0!==K.buffer?K.buffer:128)*B,tolerance:(void 0!==K.tolerance?K.tolerance:.375)*B,extent:l.EXTENT,maxZoom:this.maxzoom,lineMetrics:K.lineMetrics||!1,generateId:K.generateId||!1},superclusterOptions:{maxZoom:void 0!==K.clusterMaxZoom?Math.min(K.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:l.EXTENT,radius:(K.clusterRadius||50)*B,log:!1,generateId:K.generateId||!1},clusterProperties:K.clusterProperties},K.workerOptions)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.load=function(){var V=this;this.fire(new l.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(K){if(K)V.fire(new l.ErrorEvent(K));else{var he={dataType:"source",sourceDataType:"metadata"};V._collectResourceTiming&&V._resourceTiming&&V._resourceTiming.length>0&&(he.resourceTiming=V._resourceTiming,V._resourceTiming=[]),V.fire(new l.Event("data",he))}})},H.prototype.onAdd=function(V){this.map=V,this.load()},H.prototype.setData=function(V){var K=this;return this._data=V,this.fire(new l.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(he){if(he)K.fire(new l.ErrorEvent(he));else{var Ae={dataType:"source",sourceDataType:"content"};K._collectResourceTiming&&K._resourceTiming&&K._resourceTiming.length>0&&(Ae.resourceTiming=K._resourceTiming,K._resourceTiming=[]),K.fire(new l.Event("data",Ae))}}),this},H.prototype.getClusterExpansionZoom=function(V,K){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:V,source:this.id},K),this},H.prototype.getClusterChildren=function(V,K){return this.actor.send("geojson.getClusterChildren",{clusterId:V,source:this.id},K),this},H.prototype.getClusterLeaves=function(V,K,he,Ae){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:V,limit:K,offset:he},Ae),this},H.prototype._updateWorkerData=function(V){var K=this;this._loaded=!1;var he=l.extend({},this.workerOptions),Ae=this._data;"string"==typeof Ae?(he.request=this.map._requestManager.transformRequest(l.browser.resolveURL(Ae),l.ResourceType.Source),he.request.collectResourceTiming=this._collectResourceTiming):he.data=JSON.stringify(Ae),this.actor.send(this.type+".loadData",he,function(B,Q){K._removed||Q&&Q.abandoned||(K._loaded=!0,Q&&Q.resourceTiming&&Q.resourceTiming[K.id]&&(K._resourceTiming=Q.resourceTiming[K.id].slice(0)),K.actor.send(K.type+".coalesce",{source:he.source},null),V(B))})},H.prototype.loaded=function(){return this._loaded},H.prototype.loadTile=function(V,K){var he=this,Ae=V.actor?"reloadTile":"loadTile";V.actor=this.actor,V.request=this.actor.send(Ae,{type:this.type,uid:V.uid,tileID:V.tileID,zoom:V.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:l.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(Q,ie){return delete V.request,V.unloadVectorData(),V.aborted?K(null):Q?K(Q):(V.loadVectorData(ie,he.map.painter,"reloadTile"===Ae),K(null))})},H.prototype.abortTile=function(V){V.request&&(V.request.cancel(),delete V.request),V.aborted=!0},H.prototype.unloadTile=function(V){V.unloadVectorData(),this.actor.send("removeTile",{uid:V.uid,type:this.type,source:this.id})},H.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},H.prototype.serialize=function(){return l.extend({},this._options,{type:this.type,data:this._data})},H.prototype.hasTransition=function(){return!1},H}(l.Evented),N=l.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),F=function(z){function H(V,K,he,Ae){z.call(this),this.id=V,this.dispatcher=he,this.coordinates=K.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Ae),this.options=K}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.load=function(V,K){var he=this;this._loaded=!1,this.fire(new l.Event("dataloading",{dataType:"source"})),this.url=this.options.url,l.getImage(this.map._requestManager.transformRequest(this.url,l.ResourceType.Image),function(Ae,B){he._loaded=!0,Ae?he.fire(new l.ErrorEvent(Ae)):B&&(he.image=B,V&&(he.coordinates=V),K&&K(),he._finishLoading())})},H.prototype.loaded=function(){return this._loaded},H.prototype.updateImage=function(V){var K=this;return this.image&&V.url?(this.options.url=V.url,this.load(V.coordinates,function(){K.texture=null}),this):this},H.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"metadata"})))},H.prototype.onAdd=function(V){this.map=V,this.load()},H.prototype.setCoordinates=function(V){var K=this;this.coordinates=V;var he=V.map(l.MercatorCoordinate.fromLngLat);this.tileID=function(B){for(var Q=1/0,ie=1/0,de=-1/0,ye=-1/0,Le=0,Ne=B;Le<Ne.length;Le+=1){var Ve=Ne[Le];Q=Math.min(Q,Ve.x),ie=Math.min(ie,Ve.y),de=Math.max(de,Ve.x),ye=Math.max(ye,Ve.y)}var $e=Math.max(de-Q,ye-ie),lt=Math.max(0,Math.floor(-Math.log($e)/Math.LN2)),ht=Math.pow(2,lt);return new l.CanonicalTileID(lt,Math.floor((Q+de)/2*ht),Math.floor((ie+ye)/2*ht))}(he),this.minzoom=this.maxzoom=this.tileID.z;var Ae=he.map(function(B){return K.tileID.getTilePoint(B)._round()});return this._boundsArray=new l.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ae[0].x,Ae[0].y,0,0),this._boundsArray.emplaceBack(Ae[1].x,Ae[1].y,l.EXTENT,0),this._boundsArray.emplaceBack(Ae[3].x,Ae[3].y,0,l.EXTENT),this._boundsArray.emplaceBack(Ae[2].x,Ae[2].y,l.EXTENT,l.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"})),this},H.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var V=this.map.painter.context,K=V.gl;for(var he in this.boundsBuffer||(this.boundsBuffer=V.createVertexBuffer(this._boundsArray,N.members)),this.boundsSegments||(this.boundsSegments=l.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new l.Texture(V,this.image,K.RGBA),this.texture.bind(K.LINEAR,K.CLAMP_TO_EDGE)),this.tiles){var Ae=this.tiles[he];"loaded"!==Ae.state&&(Ae.state="loaded",Ae.texture=this.texture)}}},H.prototype.loadTile=function(V,K){this.tileID&&this.tileID.equals(V.tileID.canonical)?(this.tiles[String(V.tileID.wrap)]=V,V.buckets={},K(null)):(V.state="errored",K(null))},H.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},H.prototype.hasTransition=function(){return!1},H}(l.Evented),j=function(z){function H(V,K,he,Ae){z.call(this,V,K,he,Ae),this.roundZoom=!0,this.type="video",this.options=K}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.load=function(){var V=this;this._loaded=!1;var K=this.options;this.urls=[];for(var he=0,Ae=K.urls;he<Ae.length;he+=1)this.urls.push(this.map._requestManager.transformRequest(Ae[he],l.ResourceType.Source).url);l.getVideo(this.urls,function(Q,ie){V._loaded=!0,Q?V.fire(new l.ErrorEvent(Q)):ie&&(V.video=ie,V.video.loop=!0,V.video.addEventListener("playing",function(){V.map.triggerRepaint()}),V.map&&V.video.play(),V._finishLoading())})},H.prototype.pause=function(){this.video&&this.video.pause()},H.prototype.play=function(){this.video&&this.video.play()},H.prototype.seek=function(V){if(this.video){var K=this.video.seekable;V<K.start(0)||V>K.end(0)?this.fire(new l.ErrorEvent(new l.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+K.start(0)+" and "+K.end(0)+"-second mark."))):this.video.currentTime=V}},H.prototype.getVideo=function(){return this.video},H.prototype.onAdd=function(V){this.map||(this.map=V,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},H.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var V=this.map.painter.context,K=V.gl;for(var he in this.boundsBuffer||(this.boundsBuffer=V.createVertexBuffer(this._boundsArray,N.members)),this.boundsSegments||(this.boundsSegments=l.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(K.LINEAR,K.CLAMP_TO_EDGE),K.texSubImage2D(K.TEXTURE_2D,0,0,0,K.RGBA,K.UNSIGNED_BYTE,this.video)):(this.texture=new l.Texture(V,this.video,K.RGBA),this.texture.bind(K.LINEAR,K.CLAMP_TO_EDGE)),this.tiles){var Ae=this.tiles[he];"loaded"!==Ae.state&&(Ae.state="loaded",Ae.texture=this.texture)}}},H.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},H.prototype.hasTransition=function(){return this.video&&!this.video.paused},H}(F),G=function(z){function H(V,K,he,Ae){z.call(this,V,K,he,Ae),K.coordinates?Array.isArray(K.coordinates)&&4===K.coordinates.length&&!K.coordinates.some(function(B){return!Array.isArray(B)||2!==B.length||B.some(function(Q){return"number"!=typeof Q})})||this.fire(new l.ErrorEvent(new l.ValidationError("sources."+V,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new l.ErrorEvent(new l.ValidationError("sources."+V,null,'missing required property "coordinates"'))),K.animate&&"boolean"!=typeof K.animate&&this.fire(new l.ErrorEvent(new l.ValidationError("sources."+V,null,'optional "animate" property must be a boolean value'))),K.canvas?"string"==typeof K.canvas||K.canvas instanceof l.window.HTMLCanvasElement||this.fire(new l.ErrorEvent(new l.ValidationError("sources."+V,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new l.ErrorEvent(new l.ValidationError("sources."+V,null,'missing required property "canvas"'))),this.options=K,this.animate=void 0===K.animate||K.animate}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof l.window.HTMLCanvasElement?this.options.canvas:l.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new l.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},H.prototype.getCanvas=function(){return this.canvas},H.prototype.onAdd=function(V){this.map=V,this.load(),this.canvas&&this.animate&&this.play()},H.prototype.onRemove=function(){this.pause()},H.prototype.prepare=function(){var V=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,V=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,V=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var K=this.map.painter.context,he=K.gl;for(var Ae in this.boundsBuffer||(this.boundsBuffer=K.createVertexBuffer(this._boundsArray,N.members)),this.boundsSegments||(this.boundsSegments=l.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(V||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new l.Texture(K,this.canvas,he.RGBA,{premultiply:!0}),this.tiles){var B=this.tiles[Ae];"loaded"!==B.state&&(B.state="loaded",B.texture=this.texture)}}},H.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},H.prototype.hasTransition=function(){return this._playing},H.prototype._hasInvalidDimensions=function(){for(var V=0,K=[this.canvas.width,this.canvas.height];V<K.length;V+=1){var he=K[V];if(isNaN(he)||he<=0)return!0}return!1},H}(F),te={vector:R,raster:q,"raster-dem":P,geojson:U,video:j,image:F,canvas:G};function J(z,H){var V=l.identity([]);return l.translate(V,V,[1,1,0]),l.scale(V,V,[.5*z.width,.5*z.height,1]),l.multiply(V,V,z.calculatePosMatrix(H.toUnwrapped()))}function X(z,H,V,K,he,Ae){var B=function(Ye,$e,lt){if(Ye)for(var ht=0,Et=Ye;ht<Et.length;ht+=1){var Ct=$e[Et[ht]];if(Ct&&Ct.source===lt&&"fill-extrusion"===Ct.type)return!0}else for(var St in $e){var zt=$e[St];if(zt.source===lt&&"fill-extrusion"===zt.type)return!0}return!1}(he&&he.layers,H,z.id),Q=Ae.maxPitchScaleFactor(),ie=z.tilesIn(K,Q,B);ie.sort(Y);for(var de=[],ye=0,Le=ie;ye<Le.length;ye+=1){var Ne=Le[ye];de.push({wrappedTileID:Ne.tileID.wrapped().key,queryResults:Ne.tile.queryRenderedFeatures(H,V,z._state,Ne.queryGeometry,Ne.cameraQueryGeometry,Ne.scale,he,Ae,Q,J(z.transform,Ne.tileID))})}var Ve=function(Ye){for(var $e={},lt={},ht=0,Et=Ye;ht<Et.length;ht+=1){var Ct=Et[ht],St=Ct.queryResults,zt=Ct.wrappedTileID,Lt=lt[zt]=lt[zt]||{};for(var en in St)for(var Zt=St[en],Ht=Lt[en]=Lt[en]||{},pn=$e[en]=$e[en]||[],vn=0,Rn=Zt;vn<Rn.length;vn+=1){var zn=Rn[vn];Ht[zn.featureIndex]||(Ht[zn.featureIndex]=!0,pn.push(zn))}}return $e}(de);for(var Ge in Ve)Ve[Ge].forEach(function(Ye){var $e=Ye.feature,lt=z.getFeatureState($e.layer["source-layer"],$e.id);$e.source=$e.layer.source,$e.layer["source-layer"]&&($e.sourceLayer=$e.layer["source-layer"]),$e.state=lt});return Ve}function Y(z,H){var V=z.tileID,K=H.tileID;return V.overscaledZ-K.overscaledZ||V.canonical.y-K.canonical.y||V.wrap-K.wrap||V.canonical.x-K.canonical.x}var W=function(z,H){this.max=z,this.onRemove=H,this.reset()};W.prototype.reset=function(){for(var z in this.data)for(var H=0,V=this.data[z];H<V.length;H+=1){var K=V[H];K.timeout&&clearTimeout(K.timeout),this.onRemove(K.value)}return this.data={},this.order=[],this},W.prototype.add=function(z,H,V){var K=this,he=z.wrapped().key;void 0===this.data[he]&&(this.data[he]=[]);var Ae={value:H,timeout:void 0};if(void 0!==V&&(Ae.timeout=setTimeout(function(){K.remove(z,Ae)},V)),this.data[he].push(Ae),this.order.push(he),this.order.length>this.max){var B=this._getAndRemoveByKey(this.order[0]);B&&this.onRemove(B)}return this},W.prototype.has=function(z){return z.wrapped().key in this.data},W.prototype.getAndRemove=function(z){return this.has(z)?this._getAndRemoveByKey(z.wrapped().key):null},W.prototype._getAndRemoveByKey=function(z){var H=this.data[z].shift();return H.timeout&&clearTimeout(H.timeout),0===this.data[z].length&&delete this.data[z],this.order.splice(this.order.indexOf(z),1),H.value},W.prototype.getByKey=function(z){var H=this.data[z];return H?H[0].value:null},W.prototype.get=function(z){return this.has(z)?this.data[z.wrapped().key][0].value:null},W.prototype.remove=function(z,H){if(!this.has(z))return this;var V=z.wrapped().key,K=void 0===H?0:this.data[V].indexOf(H),he=this.data[V][K];return this.data[V].splice(K,1),he.timeout&&clearTimeout(he.timeout),0===this.data[V].length&&delete this.data[V],this.onRemove(he.value),this.order.splice(this.order.indexOf(V),1),this},W.prototype.setMaxSize=function(z){for(this.max=z;this.order.length>this.max;){var H=this._getAndRemoveByKey(this.order[0]);H&&this.onRemove(H)}return this},W.prototype.filter=function(z){var H=[];for(var V in this.data)for(var K=0,he=this.data[V];K<he.length;K+=1){var Ae=he[K];z(Ae.value)||H.push(Ae)}for(var B=0,Q=H;B<Q.length;B+=1){var ie=Q[B];this.remove(ie.value.tileID,ie)}};var $=function(z,H,V){this.context=z;var K=z.gl;this.buffer=K.createBuffer(),this.dynamicDraw=!!V,this.context.unbindVAO(),z.bindElementBuffer.set(this.buffer),K.bufferData(K.ELEMENT_ARRAY_BUFFER,H.arrayBuffer,this.dynamicDraw?K.DYNAMIC_DRAW:K.STATIC_DRAW),this.dynamicDraw||delete H.arrayBuffer};$.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},$.prototype.updateData=function(z){var H=this.context.gl;this.context.unbindVAO(),this.bind(),H.bufferSubData(H.ELEMENT_ARRAY_BUFFER,0,z.arrayBuffer)},$.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var ne={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},re=function(z,H,V,K){this.length=H.length,this.attributes=V,this.itemSize=H.bytesPerElement,this.dynamicDraw=K,this.context=z;var he=z.gl;this.buffer=he.createBuffer(),z.bindVertexBuffer.set(this.buffer),he.bufferData(he.ARRAY_BUFFER,H.arrayBuffer,this.dynamicDraw?he.DYNAMIC_DRAW:he.STATIC_DRAW),this.dynamicDraw||delete H.arrayBuffer};re.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},re.prototype.updateData=function(z){var H=this.context.gl;this.bind(),H.bufferSubData(H.ARRAY_BUFFER,0,z.arrayBuffer)},re.prototype.enableAttributes=function(z,H){for(var V=0;V<this.attributes.length;V++){var he=H.attributes[this.attributes[V].name];void 0!==he&&z.enableVertexAttribArray(he)}},re.prototype.setVertexAttribPointers=function(z,H,V){for(var K=0;K<this.attributes.length;K++){var he=this.attributes[K],Ae=H.attributes[he.name];void 0!==Ae&&z.vertexAttribPointer(Ae,he.components,z[ne[he.type]],!1,this.itemSize,he.offset+this.itemSize*(V||0))}},re.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var oe=function(z){this.gl=z.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};oe.prototype.get=function(){return this.current},oe.prototype.set=function(z){},oe.prototype.getDefault=function(){return this.default},oe.prototype.setDefault=function(){this.set(this.default)};var ue=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return l.Color.transparent},H.prototype.set=function(V){var K=this.current;(V.r!==K.r||V.g!==K.g||V.b!==K.b||V.a!==K.a||this.dirty)&&(this.gl.clearColor(V.r,V.g,V.b,V.a),this.current=V,this.dirty=!1)},H}(oe),xe=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return 1},H.prototype.set=function(V){(V!==this.current||this.dirty)&&(this.gl.clearDepth(V),this.current=V,this.dirty=!1)},H}(oe),Me=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return 0},H.prototype.set=function(V){(V!==this.current||this.dirty)&&(this.gl.clearStencil(V),this.current=V,this.dirty=!1)},H}(oe),me=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return[!0,!0,!0,!0]},H.prototype.set=function(V){var K=this.current;(V[0]!==K[0]||V[1]!==K[1]||V[2]!==K[2]||V[3]!==K[3]||this.dirty)&&(this.gl.colorMask(V[0],V[1],V[2],V[3]),this.current=V,this.dirty=!1)},H}(oe),pe=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return!0},H.prototype.set=function(V){(V!==this.current||this.dirty)&&(this.gl.depthMask(V),this.current=V,this.dirty=!1)},H}(oe),ge=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return 255},H.prototype.set=function(V){(V!==this.current||this.dirty)&&(this.gl.stencilMask(V),this.current=V,this.dirty=!1)},H}(oe),Pe=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},H.prototype.set=function(V){var K=this.current;(V.func!==K.func||V.ref!==K.ref||V.mask!==K.mask||this.dirty)&&(this.gl.stencilFunc(V.func,V.ref,V.mask),this.current=V,this.dirty=!1)},H}(oe),_e=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){var V=this.gl;return[V.KEEP,V.KEEP,V.KEEP]},H.prototype.set=function(V){var K=this.current;(V[0]!==K[0]||V[1]!==K[1]||V[2]!==K[2]||this.dirty)&&(this.gl.stencilOp(V[0],V[1],V[2]),this.current=V,this.dirty=!1)},H}(oe),we=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return!1},H.prototype.set=function(V){if(V!==this.current||this.dirty){var K=this.gl;V?K.enable(K.STENCIL_TEST):K.disable(K.STENCIL_TEST),this.current=V,this.dirty=!1}},H}(oe),se=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return[0,1]},H.prototype.set=function(V){var K=this.current;(V[0]!==K[0]||V[1]!==K[1]||this.dirty)&&(this.gl.depthRange(V[0],V[1]),this.current=V,this.dirty=!1)},H}(oe),ae=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return!1},H.prototype.set=function(V){if(V!==this.current||this.dirty){var K=this.gl;V?K.enable(K.DEPTH_TEST):K.disable(K.DEPTH_TEST),this.current=V,this.dirty=!1}},H}(oe),fe=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return this.gl.LESS},H.prototype.set=function(V){(V!==this.current||this.dirty)&&(this.gl.depthFunc(V),this.current=V,this.dirty=!1)},H}(oe),Ee=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return!1},H.prototype.set=function(V){if(V!==this.current||this.dirty){var K=this.gl;V?K.enable(K.BLEND):K.disable(K.BLEND),this.current=V,this.dirty=!1}},H}(oe),ke=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){var V=this.gl;return[V.ONE,V.ZERO]},H.prototype.set=function(V){var K=this.current;(V[0]!==K[0]||V[1]!==K[1]||this.dirty)&&(this.gl.blendFunc(V[0],V[1]),this.current=V,this.dirty=!1)},H}(oe),be=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return l.Color.transparent},H.prototype.set=function(V){var K=this.current;(V.r!==K.r||V.g!==K.g||V.b!==K.b||V.a!==K.a||this.dirty)&&(this.gl.blendColor(V.r,V.g,V.b,V.a),this.current=V,this.dirty=!1)},H}(oe),Ie=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return this.gl.FUNC_ADD},H.prototype.set=function(V){(V!==this.current||this.dirty)&&(this.gl.blendEquation(V),this.current=V,this.dirty=!1)},H}(oe),Fe=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return!1},H.prototype.set=function(V){if(V!==this.current||this.dirty){var K=this.gl;V?K.enable(K.CULL_FACE):K.disable(K.CULL_FACE),this.current=V,this.dirty=!1}},H}(oe),ce=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return this.gl.BACK},H.prototype.set=function(V){(V!==this.current||this.dirty)&&(this.gl.cullFace(V),this.current=V,this.dirty=!1)},H}(oe),Te=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return this.gl.CCW},H.prototype.set=function(V){(V!==this.current||this.dirty)&&(this.gl.frontFace(V),this.current=V,this.dirty=!1)},H}(oe),ve=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return null},H.prototype.set=function(V){(V!==this.current||this.dirty)&&(this.gl.useProgram(V),this.current=V,this.dirty=!1)},H}(oe),Ce=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return this.gl.TEXTURE0},H.prototype.set=function(V){(V!==this.current||this.dirty)&&(this.gl.activeTexture(V),this.current=V,this.dirty=!1)},H}(oe),Re=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){var V=this.gl;return[0,0,V.drawingBufferWidth,V.drawingBufferHeight]},H.prototype.set=function(V){var K=this.current;(V[0]!==K[0]||V[1]!==K[1]||V[2]!==K[2]||V[3]!==K[3]||this.dirty)&&(this.gl.viewport(V[0],V[1],V[2],V[3]),this.current=V,this.dirty=!1)},H}(oe),Oe=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return null},H.prototype.set=function(V){if(V!==this.current||this.dirty){var K=this.gl;K.bindFramebuffer(K.FRAMEBUFFER,V),this.current=V,this.dirty=!1}},H}(oe),je=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return null},H.prototype.set=function(V){if(V!==this.current||this.dirty){var K=this.gl;K.bindRenderbuffer(K.RENDERBUFFER,V),this.current=V,this.dirty=!1}},H}(oe),qe=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return null},H.prototype.set=function(V){if(V!==this.current||this.dirty){var K=this.gl;K.bindTexture(K.TEXTURE_2D,V),this.current=V,this.dirty=!1}},H}(oe),Je=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return null},H.prototype.set=function(V){if(V!==this.current||this.dirty){var K=this.gl;K.bindBuffer(K.ARRAY_BUFFER,V),this.current=V,this.dirty=!1}},H}(oe),it=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return null},H.prototype.set=function(V){var K=this.gl;K.bindBuffer(K.ELEMENT_ARRAY_BUFFER,V),this.current=V,this.dirty=!1},H}(oe),Qe=function(z){function H(V){z.call(this,V),this.vao=V.extVertexArrayObject}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return null},H.prototype.set=function(V){this.vao&&(V!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(V),this.current=V,this.dirty=!1)},H}(oe),dt=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return 4},H.prototype.set=function(V){if(V!==this.current||this.dirty){var K=this.gl;K.pixelStorei(K.UNPACK_ALIGNMENT,V),this.current=V,this.dirty=!1}},H}(oe),yt=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return!1},H.prototype.set=function(V){if(V!==this.current||this.dirty){var K=this.gl;K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V),this.current=V,this.dirty=!1}},H}(oe),mt=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return!1},H.prototype.set=function(V){if(V!==this.current||this.dirty){var K=this.gl;K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,V),this.current=V,this.dirty=!1}},H}(oe),at=function(z){function H(V,K){z.call(this,V),this.context=V,this.parent=K}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getDefault=function(){return null},H}(oe),st=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.setDirty=function(){this.dirty=!0},H.prototype.set=function(V){if(V!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var K=this.gl;K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,V,0),this.current=V,this.dirty=!1}},H}(at),Tt=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.set=function(V){if(V!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var K=this.gl;K.framebufferRenderbuffer(K.FRAMEBUFFER,K.DEPTH_ATTACHMENT,K.RENDERBUFFER,V),this.current=V,this.dirty=!1}},H}(at),At=function(z,H,V,K){this.context=z,this.width=H,this.height=V;var Ae=this.framebuffer=z.gl.createFramebuffer();this.colorAttachment=new st(z,Ae),K&&(this.depthAttachment=new Tt(z,Ae))};At.prototype.destroy=function(){var z=this.context.gl,H=this.colorAttachment.get();if(H&&z.deleteTexture(H),this.depthAttachment){var V=this.depthAttachment.get();V&&z.deleteRenderbuffer(V)}z.deleteFramebuffer(this.framebuffer)};var Pt=function(z,H,V){this.func=z,this.mask=H,this.range=V};Pt.ReadOnly=!1,Pt.ReadWrite=!0,Pt.disabled=new Pt(519,Pt.ReadOnly,[0,1]);var Ze=function(z,H,V,K,he,Ae){this.test=z,this.ref=H,this.mask=V,this.fail=K,this.depthFail=he,this.pass=Ae};Ze.disabled=new Ze({func:519,mask:0},0,0,7680,7680,7680);var Xe=function(z,H,V){this.blendFunction=z,this.blendColor=H,this.mask=V};Xe.disabled=new Xe(Xe.Replace=[1,0],l.Color.transparent,[!1,!1,!1,!1]),Xe.unblended=new Xe(Xe.Replace,l.Color.transparent,[!0,!0,!0,!0]),Xe.alphaBlended=new Xe([1,771],l.Color.transparent,[!0,!0,!0,!0]);var He=function(z,H,V){this.enable=z,this.mode=H,this.frontFace=V};He.disabled=new He(!1,1029,2305),He.backCCW=new He(!0,1029,2305);var We=function(z){this.gl=z,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ue(this),this.clearDepth=new xe(this),this.clearStencil=new Me(this),this.colorMask=new me(this),this.depthMask=new pe(this),this.stencilMask=new ge(this),this.stencilFunc=new Pe(this),this.stencilOp=new _e(this),this.stencilTest=new we(this),this.depthRange=new se(this),this.depthTest=new ae(this),this.depthFunc=new fe(this),this.blend=new Ee(this),this.blendFunc=new ke(this),this.blendColor=new be(this),this.blendEquation=new Ie(this),this.cullFace=new Fe(this),this.cullFaceSide=new ce(this),this.frontFace=new Te(this),this.program=new ve(this),this.activeTexture=new Ce(this),this.viewport=new Re(this),this.bindFramebuffer=new Oe(this),this.bindRenderbuffer=new je(this),this.bindTexture=new qe(this),this.bindVertexBuffer=new Je(this),this.bindElementBuffer=new it(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Qe(this),this.pixelStoreUnpack=new dt(this),this.pixelStoreUnpackPremultiplyAlpha=new yt(this),this.pixelStoreUnpackFlipY=new mt(this),this.extTextureFilterAnisotropic=z.getExtension("EXT_texture_filter_anisotropic")||z.getExtension("MOZ_EXT_texture_filter_anisotropic")||z.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=z.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=z.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(z.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=z.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=z.getExtension("EXT_disjoint_timer_query")};We.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},We.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},We.prototype.createIndexBuffer=function(z,H){return new $(this,z,H)},We.prototype.createVertexBuffer=function(z,H,V){return new re(this,z,H,V)},We.prototype.createRenderbuffer=function(z,H,V){var K=this.gl,he=K.createRenderbuffer();return this.bindRenderbuffer.set(he),K.renderbufferStorage(K.RENDERBUFFER,z,H,V),this.bindRenderbuffer.set(null),he},We.prototype.createFramebuffer=function(z,H,V){return new At(this,z,H,V)},We.prototype.clear=function(z){var H=z.color,V=z.depth,K=this.gl,he=0;H&&(he|=K.COLOR_BUFFER_BIT,this.clearColor.set(H),this.colorMask.set([!0,!0,!0,!0])),void 0!==V&&(he|=K.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(V),this.depthMask.set(!0)),K.clear(he)},We.prototype.setCullFace=function(z){!1===z.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(z.mode),this.frontFace.set(z.frontFace))},We.prototype.setDepthMode=function(z){z.func!==this.gl.ALWAYS||z.mask?(this.depthTest.set(!0),this.depthFunc.set(z.func),this.depthMask.set(z.mask),this.depthRange.set(z.range)):this.depthTest.set(!1)},We.prototype.setStencilMode=function(z){z.test.func!==this.gl.ALWAYS||z.mask?(this.stencilTest.set(!0),this.stencilMask.set(z.mask),this.stencilOp.set([z.fail,z.depthFail,z.pass]),this.stencilFunc.set({func:z.test.func,ref:z.ref,mask:z.test.mask})):this.stencilTest.set(!1)},We.prototype.setColorMode=function(z){l.deepEqual(z.blendFunction,Xe.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(z.blendFunction),this.blendColor.set(z.blendColor)),this.colorMask.set(z.mask)},We.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var rt=function(z){function H(V,K,he){var Ae=this;z.call(this),this.id=V,this.dispatcher=he,this.on("data",function(B){"source"===B.dataType&&"metadata"===B.sourceDataType&&(Ae._sourceLoaded=!0),Ae._sourceLoaded&&!Ae._paused&&"source"===B.dataType&&"content"===B.sourceDataType&&(Ae.reload(),Ae.transform&&Ae.update(Ae.transform))}),this.on("error",function(){Ae._sourceErrored=!0}),this._source=function(B,Q,ie,de){var ye=new te[Q.type](B,Q,ie,de);if(ye.id!==B)throw new Error("Expected Source id to be "+B+" instead of "+ye.id);return l.bindAll(["load","abort","unload","serialize","prepare"],ye),ye}(V,K,he,this),this._tiles={},this._cache=new W(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new l.SourceFeatureState}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.onAdd=function(V){this.map=V,this._maxTileCacheSize=V?V._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(V)},H.prototype.onRemove=function(V){this._source&&this._source.onRemove&&this._source.onRemove(V)},H.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var V in this._tiles){var K=this._tiles[V];if("loaded"!==K.state&&"errored"!==K.state)return!1}return!0},H.prototype.getSource=function(){return this._source},H.prototype.pause=function(){this._paused=!0},H.prototype.resume=function(){if(this._paused){var V=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,V&&this.reload(),this.transform&&this.update(this.transform)}},H.prototype._loadTile=function(V,K){return this._source.loadTile(V,K)},H.prototype._unloadTile=function(V){if(this._source.unloadTile)return this._source.unloadTile(V,function(){})},H.prototype._abortTile=function(V){if(this._source.abortTile)return this._source.abortTile(V,function(){})},H.prototype.serialize=function(){return this._source.serialize()},H.prototype.prepare=function(V){for(var K in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var he=this._tiles[K];he.upload(V),he.prepare(this.map.style.imageManager)}},H.prototype.getIds=function(){return l.values(this._tiles).map(function(V){return V.tileID}).sort(nt).map(function(V){return V.key})},H.prototype.getRenderableIds=function(V){var K=this,he=[];for(var Ae in this._tiles)this._isIdRenderable(Ae,V)&&he.push(this._tiles[Ae]);return V?he.sort(function(B,Q){var ie=B.tileID,de=Q.tileID,ye=new l.Point(ie.canonical.x,ie.canonical.y)._rotate(K.transform.angle),Le=new l.Point(de.canonical.x,de.canonical.y)._rotate(K.transform.angle);return ie.overscaledZ-de.overscaledZ||Le.y-ye.y||Le.x-ye.x}).map(function(B){return B.tileID.key}):he.map(function(B){return B.tileID}).sort(nt).map(function(B){return B.key})},H.prototype.hasRenderableParent=function(V){var K=this.findLoadedParent(V,0);return!!K&&this._isIdRenderable(K.tileID.key)},H.prototype._isIdRenderable=function(V,K){return this._tiles[V]&&this._tiles[V].hasData()&&!this._coveredTiles[V]&&(K||!this._tiles[V].holdingForFade())},H.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var V in this._cache.reset(),this._tiles)"errored"!==this._tiles[V].state&&this._reloadTile(V,"reloading")},H.prototype._reloadTile=function(V,K){var he=this._tiles[V];he&&("loading"!==he.state&&(he.state=K),this._loadTile(he,this._tileLoaded.bind(this,he,V,K)))},H.prototype._tileLoaded=function(V,K,he,Ae){if(Ae)return V.state="errored",void(404!==Ae.status?this._source.fire(new l.ErrorEvent(Ae,{tile:V})):this.update(this.transform));V.timeAdded=l.browser.now(),"expired"===he&&(V.refreshedUponExpiration=!0),this._setTileReloadTimer(K,V),"raster-dem"===this.getSource().type&&V.dem&&this._backfillDEM(V),this._state.initializeTileState(V,this.map?this.map.painter:null),this._source.fire(new l.Event("data",{dataType:"source",tile:V,coord:V.tileID}))},H.prototype._backfillDEM=function(V){for(var K=this.getRenderableIds(),he=0;he<K.length;he++){var Ae=K[he];if(V.neighboringTiles&&V.neighboringTiles[Ae]){var B=this.getTileByID(Ae);Q(V,B),Q(B,V)}}function Q(ie,de){ie.needsHillshadePrepare=!0;var ye=de.tileID.canonical.x-ie.tileID.canonical.x,Le=de.tileID.canonical.y-ie.tileID.canonical.y,Ne=Math.pow(2,ie.tileID.canonical.z),Ve=de.tileID.key;0===ye&&0===Le||Math.abs(Le)>1||(Math.abs(ye)>1&&(1===Math.abs(ye+Ne)?ye+=Ne:1===Math.abs(ye-Ne)&&(ye-=Ne)),de.dem&&ie.dem&&(ie.dem.backfillBorder(de.dem,ye,Le),ie.neighboringTiles&&ie.neighboringTiles[Ve]&&(ie.neighboringTiles[Ve].backfilled=!0)))}},H.prototype.getTile=function(V){return this.getTileByID(V.key)},H.prototype.getTileByID=function(V){return this._tiles[V]},H.prototype._retainLoadedChildren=function(V,K,he,Ae){for(var B in this._tiles){var Q=this._tiles[B];if(!(Ae[B]||!Q.hasData()||Q.tileID.overscaledZ<=K||Q.tileID.overscaledZ>he)){for(var ie=Q.tileID;Q&&Q.tileID.overscaledZ>K+1;){var de=Q.tileID.scaledTo(Q.tileID.overscaledZ-1);(Q=this._tiles[de.key])&&Q.hasData()&&(ie=de)}for(var ye=ie;ye.overscaledZ>K;)if(V[(ye=ye.scaledTo(ye.overscaledZ-1)).key]){Ae[ie.key]=ie;break}}}},H.prototype.findLoadedParent=function(V,K){if(V.key in this._loadedParentTiles){var he=this._loadedParentTiles[V.key];return he&&he.tileID.overscaledZ>=K?he:null}for(var Ae=V.overscaledZ-1;Ae>=K;Ae--){var B=V.scaledTo(Ae),Q=this._getLoadedTile(B);if(Q)return Q}},H.prototype._getLoadedTile=function(V){var K=this._tiles[V.key];return K&&K.hasData()?K:this._cache.getByKey(V.wrapped().key)},H.prototype.updateCacheSize=function(V){var K=(Math.ceil(V.width/this._source.tileSize)+1)*(Math.ceil(V.height/this._source.tileSize)+1),he=Math.floor(5*K),Ae="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,he):he;this._cache.setMaxSize(Ae)},H.prototype.handleWrapJump=function(V){var he=Math.round((V-(void 0===this._prevLng?V:this._prevLng))/360);if(this._prevLng=V,he){var Ae={};for(var B in this._tiles){var Q=this._tiles[B];Q.tileID=Q.tileID.unwrapTo(Q.tileID.wrap+he),Ae[Q.tileID.key]=Q}for(var ie in this._tiles=Ae,this._timers)clearTimeout(this._timers[ie]),delete this._timers[ie];for(var de in this._tiles)this._setTileReloadTimer(de,this._tiles[de])}},H.prototype.update=function(V){var K=this;if(this.transform=V,this._sourceLoaded&&!this._paused){var he;this.updateCacheSize(V),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?he=V.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Lt){return new l.OverscaledTileID(Lt.canonical.z,Lt.wrap,Lt.canonical.z,Lt.canonical.x,Lt.canonical.y)}):(he=V.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(he=he.filter(function(Lt){return K._source.hasTile(Lt)}))):he=[];var Ae=V.coveringZoomLevel(this._source),B=Math.max(Ae-H.maxOverzooming,this._source.minzoom),Q=Math.max(Ae+H.maxUnderzooming,this._source.minzoom),ie=this._updateRetainedTiles(he,Ae);if(ze(this._source.type)){for(var de={},ye={},Le=0,Ne=Object.keys(ie);Le<Ne.length;Le+=1){var Ve=Ne[Le],Ge=ie[Ve],Ye=this._tiles[Ve];if(Ye&&!(Ye.fadeEndTime&&Ye.fadeEndTime<=l.browser.now())){var $e=this.findLoadedParent(Ge,B);$e&&(this._addTile($e.tileID),de[$e.tileID.key]=$e.tileID),ye[Ve]=Ge}}for(var lt in this._retainLoadedChildren(ye,Ae,Q,ie),de)ie[lt]||(this._coveredTiles[lt]=!0,ie[lt]=de[lt])}for(var ht in ie)this._tiles[ht].clearFadeHold();for(var Et=0,Ct=l.keysDifference(this._tiles,ie);Et<Ct.length;Et+=1){var St=Ct[Et],zt=this._tiles[St];zt.hasSymbolBuckets&&!zt.holdingForFade()?zt.setHoldDuration(this.map._fadeDuration):zt.hasSymbolBuckets&&!zt.symbolFadeFinished()||this._removeTile(St)}this._updateLoadedParentTileCache()}},H.prototype.releaseSymbolFadeTiles=function(){for(var V in this._tiles)this._tiles[V].holdingForFade()&&this._removeTile(V)},H.prototype._updateRetainedTiles=function(V,K){for(var he={},Ae={},B=Math.max(K-H.maxOverzooming,this._source.minzoom),Q=Math.max(K+H.maxUnderzooming,this._source.minzoom),ie={},de=0,ye=V;de<ye.length;de+=1){var Le=ye[de],Ne=this._addTile(Le);he[Le.key]=Le,Ne.hasData()||K<this._source.maxzoom&&(ie[Le.key]=Le)}this._retainLoadedChildren(ie,K,Q,he);for(var Ve=0,Ge=V;Ve<Ge.length;Ve+=1){var Ye=Ge[Ve],$e=this._tiles[Ye.key];if(!$e.hasData()){if(K+1>this._source.maxzoom){var lt=Ye.children(this._source.maxzoom)[0],ht=this.getTile(lt);if(ht&&ht.hasData()){he[lt.key]=lt;continue}}else{var Et=Ye.children(this._source.maxzoom);if(he[Et[0].key]&&he[Et[1].key]&&he[Et[2].key]&&he[Et[3].key])continue}for(var Ct=$e.wasRequested(),St=Ye.overscaledZ-1;St>=B;--St){var zt=Ye.scaledTo(St);if(Ae[zt.key]||(Ae[zt.key]=!0,!($e=this.getTile(zt))&&Ct&&($e=this._addTile(zt)),$e&&(he[zt.key]=zt,Ct=$e.wasRequested(),$e.hasData())))break}}}return he},H.prototype._updateLoadedParentTileCache=function(){for(var V in this._loadedParentTiles={},this._tiles){for(var K=[],he=void 0,Ae=this._tiles[V].tileID;Ae.overscaledZ>0;){if(Ae.key in this._loadedParentTiles){he=this._loadedParentTiles[Ae.key];break}K.push(Ae.key);var B=Ae.scaledTo(Ae.overscaledZ-1);if(he=this._getLoadedTile(B))break;Ae=B}for(var Q=0,ie=K;Q<ie.length;Q+=1)this._loadedParentTiles[ie[Q]]=he}},H.prototype._addTile=function(V){var K=this._tiles[V.key];if(K)return K;(K=this._cache.getAndRemove(V))&&(this._setTileReloadTimer(V.key,K),K.tileID=V,this._state.initializeTileState(K,this.map?this.map.painter:null),this._cacheTimers[V.key]&&(clearTimeout(this._cacheTimers[V.key]),delete this._cacheTimers[V.key],this._setTileReloadTimer(V.key,K)));var he=!!K;return he||(K=new l.Tile(V,this._source.tileSize*V.overscaleFactor()),this._loadTile(K,this._tileLoaded.bind(this,K,V.key,K.state))),K?(K.uses++,this._tiles[V.key]=K,he||this._source.fire(new l.Event("dataloading",{tile:K,coord:K.tileID,dataType:"source"})),K):null},H.prototype._setTileReloadTimer=function(V,K){var he=this;V in this._timers&&(clearTimeout(this._timers[V]),delete this._timers[V]);var Ae=K.getExpiryTimeout();Ae&&(this._timers[V]=setTimeout(function(){he._reloadTile(V,"expired"),delete he._timers[V]},Ae))},H.prototype._removeTile=function(V){var K=this._tiles[V];K&&(K.uses--,delete this._tiles[V],this._timers[V]&&(clearTimeout(this._timers[V]),delete this._timers[V]),K.uses>0||(K.hasData()&&"reloading"!==K.state?this._cache.add(K.tileID,K,K.getExpiryTimeout()):(K.aborted=!0,this._abortTile(K),this._unloadTile(K))))},H.prototype.clearTiles=function(){for(var V in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(V);this._cache.reset()},H.prototype.tilesIn=function(V,K,he){var Ae=this,B=[],Q=this.transform;if(!Q)return B;for(var ie=he?Q.getCameraQueryGeometry(V):V,de=V.map(function(St){return Q.pointCoordinate(St)}),ye=ie.map(function(St){return Q.pointCoordinate(St)}),Le=this.getIds(),Ne=1/0,Ve=1/0,Ge=-1/0,Ye=-1/0,$e=0,lt=ye;$e<lt.length;$e+=1){var ht=lt[$e];Ne=Math.min(Ne,ht.x),Ve=Math.min(Ve,ht.y),Ge=Math.max(Ge,ht.x),Ye=Math.max(Ye,ht.y)}for(var Et=function(St){var zt=Ae._tiles[Le[St]];if(!zt.holdingForFade()){var Lt=zt.tileID,en=Math.pow(2,Q.zoom-zt.tileID.overscaledZ),Zt=K*zt.queryPadding*l.EXTENT/zt.tileSize/en,Ht=[Lt.getTilePoint(new l.MercatorCoordinate(Ne,Ve)),Lt.getTilePoint(new l.MercatorCoordinate(Ge,Ye))];if(Ht[0].x-Zt<l.EXTENT&&Ht[0].y-Zt<l.EXTENT&&Ht[1].x+Zt>=0&&Ht[1].y+Zt>=0){var pn=de.map(function(Rn){return Lt.getTilePoint(Rn)}),vn=ye.map(function(Rn){return Lt.getTilePoint(Rn)});B.push({tile:zt,tileID:Lt,queryGeometry:pn,cameraQueryGeometry:vn,scale:en})}}},Ct=0;Ct<Le.length;Ct++)Et(Ct);return B},H.prototype.getVisibleCoordinates=function(V){for(var K=this,he=this.getRenderableIds(V).map(function(ie){return K._tiles[ie].tileID}),Ae=0,B=he;Ae<B.length;Ae+=1){var Q=B[Ae];Q.posMatrix=this.transform.calculatePosMatrix(Q.toUnwrapped())}return he},H.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(ze(this._source.type))for(var V in this._tiles){var K=this._tiles[V];if(void 0!==K.fadeEndTime&&K.fadeEndTime>=l.browser.now())return!0}return!1},H.prototype.setFeatureState=function(V,K,he){this._state.updateState(V=V||"_geojsonTileLayer",K,he)},H.prototype.removeFeatureState=function(V,K,he){this._state.removeFeatureState(V=V||"_geojsonTileLayer",K,he)},H.prototype.getFeatureState=function(V,K){return this._state.getState(V=V||"_geojsonTileLayer",K)},H.prototype.setDependencies=function(V,K,he){var Ae=this._tiles[V];Ae&&Ae.setDependencies(K,he)},H.prototype.reloadTilesForDependencies=function(V,K){for(var he in this._tiles)this._tiles[he].hasDependency(V,K)&&this._reloadTile(he,"reloading");this._cache.filter(function(Ae){return!Ae.hasDependency(V,K)})},H}(l.Evented);function nt(z,H){var V=Math.abs(2*z.wrap)-+(z.wrap<0),K=Math.abs(2*H.wrap)-+(H.wrap<0);return z.overscaledZ-H.overscaledZ||K-V||H.canonical.y-z.canonical.y||H.canonical.x-z.canonical.x}function ze(z){return"raster"===z||"image"===z||"video"===z}function Be(){return new l.window.Worker(go.workerUrl)}rt.maxOverzooming=10,rt.maxUnderzooming=3;var tt="mapboxgl_preloaded_worker_pool",et=function(){this.active={}};et.prototype.acquire=function(z){if(!this.workers)for(this.workers=[];this.workers.length<et.workerCount;)this.workers.push(new Be);return this.active[z]=!0,this.workers.slice()},et.prototype.release=function(z){delete this.active[z],0===this.numActive()&&(this.workers.forEach(function(H){H.terminate()}),this.workers=null)},et.prototype.isPreloaded=function(){return!!this.active[tt]},et.prototype.numActive=function(){return Object.keys(this.active).length};var gt,pt=Math.floor(l.browser.hardwareConcurrency/2);function vt(){return gt||(gt=new et),gt}function ut(z,H){var V={};for(var K in z)"ref"!==K&&(V[K]=z[K]);return l.refProperties.forEach(function(he){he in H&&(V[he]=H[he])}),V}function wt(z){z=z.slice();for(var H=Object.create(null),V=0;V<z.length;V++)H[z[V].id]=z[V];for(var K=0;K<z.length;K++)"ref"in z[K]&&(z[K]=ut(z[K],H[z[K].ref]));return z}et.workerCount=Math.max(Math.min(pt,6),1);var ct={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ft(z,H,V){V.push({command:ct.addSource,args:[z,H[z]]})}function bt(z,H,V){H.push({command:ct.removeSource,args:[z]}),V[z]=!0}function It(z,H,V,K){bt(z,V,K),ft(z,H,V)}function Dt(z,H,V){var K;for(K in z[V])if(z[V].hasOwnProperty(K)&&"data"!==K&&!l.deepEqual(z[V][K],H[V][K]))return!1;for(K in H[V])if(H[V].hasOwnProperty(K)&&"data"!==K&&!l.deepEqual(z[V][K],H[V][K]))return!1;return!0}function Nt(z,H,V,K,he,Ae){var B;for(B in H=H||{},z=z||{})z.hasOwnProperty(B)&&(l.deepEqual(z[B],H[B])||V.push({command:Ae,args:[K,B,H[B],he]}));for(B in H)H.hasOwnProperty(B)&&!z.hasOwnProperty(B)&&(l.deepEqual(z[B],H[B])||V.push({command:Ae,args:[K,B,H[B],he]}))}function $t(z){return z.id}function jt(z,H){return z[H.id]=H,z}var Gt=function(z,H){this.reset(z,H)};Gt.prototype.reset=function(z,H){this.points=z||[],this._distances=[0];for(var V=1;V<this.points.length;V++)this._distances[V]=this._distances[V-1]+this.points[V].dist(this.points[V-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(H||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Gt.prototype.lerp=function(z){if(1===this.points.length)return this.points[0];z=l.clamp(z,0,1);for(var H=1,V=this._distances[H],K=z*this.paddedLength+this.padding;V<K&&H<this._distances.length;)V=this._distances[++H];var he=H-1,Ae=this._distances[he],B=V-Ae,Q=B>0?(K-Ae)/B:0;return this.points[he].mult(1-Q).add(this.points[H].mult(Q))};var hn=function(z,H,V){var K=this.boxCells=[],he=this.circleCells=[];this.xCellCount=Math.ceil(z/V),this.yCellCount=Math.ceil(H/V);for(var Ae=0;Ae<this.xCellCount*this.yCellCount;Ae++)K.push([]),he.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=z,this.height=H,this.xScale=this.xCellCount/z,this.yScale=this.yCellCount/H,this.boxUid=0,this.circleUid=0};function yn(z,H,V,K,he){var Ae=l.create();return H?(l.scale(Ae,Ae,[1/he,1/he,1]),V||l.rotateZ(Ae,Ae,K.angle)):l.multiply(Ae,K.labelPlaneMatrix,z),Ae}function on(z,H,V,K,he){if(H){var Ae=l.clone(z);return l.scale(Ae,Ae,[he,he,1]),V||l.rotateZ(Ae,Ae,-K.angle),Ae}return K.glCoordMatrix}function Ut(z,H){var V=[z.x,z.y,0,1];Qn(V,V,H);var K=V[3];return{point:new l.Point(V[0]/K,V[1]/K),signedDistanceFromCamera:K}}function nn(z,H){return.5+z/H*.5}function Xt(z,H){var V=z[0]/z[3],K=z[1]/z[3];return V>=-H[0]&&V<=H[0]&&K>=-H[1]&&K<=H[1]}function rn(z,H,V,K,he,Ae,B,Q){var ie=K?z.textSizeData:z.iconSizeData,de=l.evaluateSizeForZoom(ie,V.transform.zoom),ye=[256/V.width*2+1,256/V.height*2+1],Le=K?z.text.dynamicLayoutVertexArray:z.icon.dynamicLayoutVertexArray;Le.clear();for(var Ne=z.lineVertexArray,Ve=K?z.text.placedSymbolArray:z.icon.placedSymbolArray,Ge=V.transform.width/V.transform.height,Ye=!1,$e=0;$e<Ve.length;$e++){var lt=Ve.get($e);if(lt.hidden||lt.writingMode===l.WritingMode.vertical&&!Ye)Wn(lt.numGlyphs,Le);else{Ye=!1;var ht=[lt.anchorX,lt.anchorY,0,1];if(l.transformMat4(ht,ht,H),Xt(ht,ye)){var Ct=nn(V.transform.cameraToCenterDistance,ht[3]),St=l.evaluateSizeForFeature(ie,de,lt),zt=B?St/Ct:St*Ct,Lt=new l.Point(lt.anchorX,lt.anchorY),en=Ut(Lt,he).point,Zt={},Ht=An(lt,zt,!1,Q,H,he,Ae,z.glyphOffsetArray,Ne,Le,en,Lt,Zt,Ge);Ye=Ht.useVertical,(Ht.notEnoughRoom||Ye||Ht.needsFlipping&&An(lt,zt,!0,Q,H,he,Ae,z.glyphOffsetArray,Ne,Le,en,Lt,Zt,Ge).notEnoughRoom)&&Wn(lt.numGlyphs,Le)}else Wn(lt.numGlyphs,Le)}}K?z.text.dynamicLayoutVertexBuffer.updateData(Le):z.icon.dynamicLayoutVertexBuffer.updateData(Le)}function fn(z,H,V,K,he,Ae,B,Q,ie,de,ye){var Le=Q.glyphStartIndex+Q.numGlyphs,Ne=Q.lineStartIndex,Ve=Q.lineStartIndex+Q.lineLength,Ge=H.getoffsetX(Q.glyphStartIndex),Ye=H.getoffsetX(Le-1),$e=bn(z*Ge,V,K,he,Ae,B,Q.segment,Ne,Ve,ie,de,ye);if(!$e)return null;var lt=bn(z*Ye,V,K,he,Ae,B,Q.segment,Ne,Ve,ie,de,ye);return lt?{first:$e,last:lt}:null}function gn(z,H,V,K){return z===l.WritingMode.horizontal&&Math.abs(V.y-H.y)>Math.abs(V.x-H.x)*K?{useVertical:!0}:(z===l.WritingMode.vertical?H.y<V.y:H.x>V.x)?{needsFlipping:!0}:null}function An(z,H,V,K,he,Ae,B,Q,ie,de,ye,Le,Ne,Ve){var Ge,Ye=H/24,$e=z.lineOffsetX*Ye,lt=z.lineOffsetY*Ye;if(z.numGlyphs>1){var ht=z.glyphStartIndex+z.numGlyphs,Et=z.lineStartIndex,Ct=z.lineStartIndex+z.lineLength,St=fn(Ye,Q,$e,lt,V,ye,Le,z,ie,Ae,Ne);if(!St)return{notEnoughRoom:!0};var zt=Ut(St.first.point,B).point,Lt=Ut(St.last.point,B).point;if(K&&!V){var en=gn(z.writingMode,zt,Lt,Ve);if(en)return en}Ge=[St.first];for(var Zt=z.glyphStartIndex+1;Zt<ht-1;Zt++)Ge.push(bn(Ye*Q.getoffsetX(Zt),$e,lt,V,ye,Le,z.segment,Et,Ct,ie,Ae,Ne));Ge.push(St.last)}else{if(K&&!V){var Ht=Ut(Le,he).point,pn=z.lineStartIndex+z.segment+1,vn=new l.Point(ie.getx(pn),ie.gety(pn)),Rn=Ut(vn,he),zn=Rn.signedDistanceFromCamera>0?Rn.point:En(Le,vn,Ht,1,he),Un=gn(z.writingMode,Ht,zn,Ve);if(Un)return Un}var Yn=bn(Ye*Q.getoffsetX(z.glyphStartIndex),$e,lt,V,ye,Le,z.segment,z.lineStartIndex,z.lineStartIndex+z.lineLength,ie,Ae,Ne);if(!Yn)return{notEnoughRoom:!0};Ge=[Yn]}for(var or=0,ar=Ge;or<ar.length;or+=1){var cr=ar[or];l.addDynamicAttributes(de,cr.point,cr.angle)}return{}}function En(z,H,V,K,he){var Ae=Ut(z.add(z.sub(H)._unit()),he).point,B=V.sub(Ae);return V.add(B._mult(K/B.mag()))}function bn(z,H,V,K,he,Ae,B,Q,ie,de,ye,Le){var Ne=K?z-H:z+H,Ve=Ne>0?1:-1,Ge=0;K&&(Ve*=-1,Ge=Math.PI),Ve<0&&(Ge+=Math.PI);for(var Ye=Ve>0?Q+B:Q+B+1,$e=he,lt=he,ht=0,Et=0,Ct=Math.abs(Ne),St=[];ht+Et<=Ct;){if((Ye+=Ve)<Q||Ye>=ie)return null;if(lt=$e,St.push($e),void 0===($e=Le[Ye])){var zt=new l.Point(de.getx(Ye),de.gety(Ye)),Lt=Ut(zt,ye);if(Lt.signedDistanceFromCamera>0)$e=Le[Ye]=Lt.point;else{var en=Ye-Ve;$e=En(0===ht?Ae:new l.Point(de.getx(en),de.gety(en)),zt,lt,Ct-ht+1,ye)}}ht+=Et,Et=lt.dist($e)}var Zt=(Ct-ht)/Et,Ht=$e.sub(lt),pn=Ht.mult(Zt)._add(lt);pn._add(Ht._unit()._perp()._mult(V*Ve));var vn=Ge+Math.atan2($e.y-lt.y,$e.x-lt.x);return St.push(pn),{point:pn,angle:vn,path:St}}hn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},hn.prototype.insert=function(z,H,V,K,he){this._forEachCell(H,V,K,he,this._insertBoxCell,this.boxUid++),this.boxKeys.push(z),this.bboxes.push(H),this.bboxes.push(V),this.bboxes.push(K),this.bboxes.push(he)},hn.prototype.insertCircle=function(z,H,V,K){this._forEachCell(H-K,V-K,H+K,V+K,this._insertCircleCell,this.circleUid++),this.circleKeys.push(z),this.circles.push(H),this.circles.push(V),this.circles.push(K)},hn.prototype._insertBoxCell=function(z,H,V,K,he,Ae){this.boxCells[he].push(Ae)},hn.prototype._insertCircleCell=function(z,H,V,K,he,Ae){this.circleCells[he].push(Ae)},hn.prototype._query=function(z,H,V,K,he,Ae){if(V<0||z>this.width||K<0||H>this.height)return!he&&[];var B=[];if(z<=0&&H<=0&&this.width<=V&&this.height<=K){if(he)return!0;for(var Q=0;Q<this.boxKeys.length;Q++)B.push({key:this.boxKeys[Q],x1:this.bboxes[4*Q],y1:this.bboxes[4*Q+1],x2:this.bboxes[4*Q+2],y2:this.bboxes[4*Q+3]});for(var ie=0;ie<this.circleKeys.length;ie++){var de=this.circles[3*ie],ye=this.circles[3*ie+1],Le=this.circles[3*ie+2];B.push({key:this.circleKeys[ie],x1:de-Le,y1:ye-Le,x2:de+Le,y2:ye+Le})}return Ae?B.filter(Ae):B}return this._forEachCell(z,H,V,K,this._queryCell,B,{hitTest:he,seenUids:{box:{},circle:{}}},Ae),he?B.length>0:B},hn.prototype._queryCircle=function(z,H,V,K,he){var Ae=z-V,B=z+V,Q=H-V,ie=H+V;if(B<0||Ae>this.width||ie<0||Q>this.height)return!K&&[];var de=[];return this._forEachCell(Ae,Q,B,ie,this._queryCellCircle,de,{hitTest:K,circle:{x:z,y:H,radius:V},seenUids:{box:{},circle:{}}},he),K?de.length>0:de},hn.prototype.query=function(z,H,V,K,he){return this._query(z,H,V,K,!1,he)},hn.prototype.hitTest=function(z,H,V,K,he){return this._query(z,H,V,K,!0,he)},hn.prototype.hitTestCircle=function(z,H,V,K){return this._queryCircle(z,H,V,!0,K)},hn.prototype._queryCell=function(z,H,V,K,he,Ae,B,Q){var ie=B.seenUids,de=this.boxCells[he];if(null!==de)for(var ye=this.bboxes,Le=0,Ne=de;Le<Ne.length;Le+=1){var Ve=Ne[Le];if(!ie.box[Ve]){ie.box[Ve]=!0;var Ge=4*Ve;if(z<=ye[Ge+2]&&H<=ye[Ge+3]&&V>=ye[Ge+0]&&K>=ye[Ge+1]&&(!Q||Q(this.boxKeys[Ve]))){if(B.hitTest)return Ae.push(!0),!0;Ae.push({key:this.boxKeys[Ve],x1:ye[Ge],y1:ye[Ge+1],x2:ye[Ge+2],y2:ye[Ge+3]})}}}var Ye=this.circleCells[he];if(null!==Ye)for(var $e=this.circles,lt=0,ht=Ye;lt<ht.length;lt+=1){var Et=ht[lt];if(!ie.circle[Et]){ie.circle[Et]=!0;var Ct=3*Et;if(this._circleAndRectCollide($e[Ct],$e[Ct+1],$e[Ct+2],z,H,V,K)&&(!Q||Q(this.circleKeys[Et]))){if(B.hitTest)return Ae.push(!0),!0;var St=$e[Ct],zt=$e[Ct+1],Lt=$e[Ct+2];Ae.push({key:this.circleKeys[Et],x1:St-Lt,y1:zt-Lt,x2:St+Lt,y2:zt+Lt})}}}},hn.prototype._queryCellCircle=function(z,H,V,K,he,Ae,B,Q){var ie=B.circle,de=B.seenUids,ye=this.boxCells[he];if(null!==ye)for(var Le=this.bboxes,Ne=0,Ve=ye;Ne<Ve.length;Ne+=1){var Ge=Ve[Ne];if(!de.box[Ge]){de.box[Ge]=!0;var Ye=4*Ge;if(this._circleAndRectCollide(ie.x,ie.y,ie.radius,Le[Ye+0],Le[Ye+1],Le[Ye+2],Le[Ye+3])&&(!Q||Q(this.boxKeys[Ge])))return Ae.push(!0),!0}}var $e=this.circleCells[he];if(null!==$e)for(var lt=this.circles,ht=0,Et=$e;ht<Et.length;ht+=1){var Ct=Et[ht];if(!de.circle[Ct]){de.circle[Ct]=!0;var St=3*Ct;if(this._circlesCollide(lt[St],lt[St+1],lt[St+2],ie.x,ie.y,ie.radius)&&(!Q||Q(this.circleKeys[Ct])))return Ae.push(!0),!0}}},hn.prototype._forEachCell=function(z,H,V,K,he,Ae,B,Q){for(var ie=this._convertToXCellCoord(z),de=this._convertToYCellCoord(H),ye=this._convertToXCellCoord(V),Le=this._convertToYCellCoord(K),Ne=ie;Ne<=ye;Ne++)for(var Ve=de;Ve<=Le;Ve++)if(he.call(this,z,H,V,K,this.xCellCount*Ve+Ne,Ae,B,Q))return},hn.prototype._convertToXCellCoord=function(z){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(z*this.xScale)))},hn.prototype._convertToYCellCoord=function(z){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(z*this.yScale)))},hn.prototype._circlesCollide=function(z,H,V,K,he,Ae){var B=K-z,Q=he-H,ie=V+Ae;return ie*ie>B*B+Q*Q},hn.prototype._circleAndRectCollide=function(z,H,V,K,he,Ae,B){var Q=(Ae-K)/2,ie=Math.abs(z-(K+Q));if(ie>Q+V)return!1;var de=(B-he)/2,ye=Math.abs(H-(he+de));if(ye>de+V)return!1;if(ie<=Q||ye<=de)return!0;var Le=ie-Q,Ne=ye-de;return Le*Le+Ne*Ne<=V*V};var Ln=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Wn(z,H){for(var V=0;V<z;V++){var K=H.length;H.resize(K+4),H.float32.set(Ln,3*K)}}function Qn(z,H,V){var K=H[0],he=H[1];return z[0]=V[0]*K+V[4]*he+V[12],z[1]=V[1]*K+V[5]*he+V[13],z[3]=V[3]*K+V[7]*he+V[15],z}var ir=100,$n=function(z,H,V){void 0===H&&(H=new hn(z.width+200,z.height+200,25)),void 0===V&&(V=new hn(z.width+200,z.height+200,25)),this.transform=z,this.grid=H,this.ignoredGrid=V,this.pitchfactor=Math.cos(z._pitch)*z.cameraToCenterDistance,this.screenRightBoundary=z.width+ir,this.screenBottomBoundary=z.height+ir,this.gridRightBoundary=z.width+200,this.gridBottomBoundary=z.height+200};function qn(z,H,V){return H*(l.EXTENT/(z.tileSize*Math.pow(2,V-z.tileID.overscaledZ)))}$n.prototype.placeCollisionBox=function(z,H,V,K,he){var Ae=this.projectAndGetPerspectiveRatio(K,z.anchorPointX,z.anchorPointY),B=V*Ae.perspectiveRatio,Q=z.x1*B+Ae.point.x,ie=z.y1*B+Ae.point.y,de=z.x2*B+Ae.point.x,ye=z.y2*B+Ae.point.y;return!this.isInsideGrid(Q,ie,de,ye)||!H&&this.grid.hitTest(Q,ie,de,ye,he)?{box:[],offscreen:!1}:{box:[Q,ie,de,ye],offscreen:this.isOffscreen(Q,ie,de,ye)}},$n.prototype.placeCollisionCircles=function(z,H,V,K,he,Ae,B,Q,ie,de,ye,Le,Ne){var Ve=[],Ge=new l.Point(H.anchorX,H.anchorY),Ye=Ut(Ge,Ae),$e=nn(this.transform.cameraToCenterDistance,Ye.signedDistanceFromCamera),lt=(de?he/$e:he*$e)/l.ONE_EM,ht=Ut(Ge,B).point,Et=fn(lt,K,H.lineOffsetX*lt,H.lineOffsetY*lt,!1,ht,Ge,H,V,B,{}),Ct=!1,St=!1,zt=!0;if(Et){for(var Lt=.5*Le*$e+Ne,en=new l.Point(-100,-100),Zt=new l.Point(this.screenRightBoundary,this.screenBottomBoundary),Ht=new Gt,pn=Et.first,vn=Et.last,Rn=[],zn=pn.path.length-1;zn>=1;zn--)Rn.push(pn.path[zn]);for(var Un=1;Un<vn.path.length;Un++)Rn.push(vn.path[Un]);var Yn=2.5*Lt;if(Q){var or=Rn.map(function(Pi){return Ut(Pi,Q)});Rn=or.some(function(Pi){return Pi.signedDistanceFromCamera<=0})?[]:or.map(function(Pi){return Pi.point})}var ar=[];if(Rn.length>0){for(var cr=Rn[0].clone(),yr=Rn[0].clone(),Pr=1;Pr<Rn.length;Pr++)cr.x=Math.min(cr.x,Rn[Pr].x),cr.y=Math.min(cr.y,Rn[Pr].y),yr.x=Math.max(yr.x,Rn[Pr].x),yr.y=Math.max(yr.y,Rn[Pr].y);ar=cr.x>=en.x&&yr.x<=Zt.x&&cr.y>=en.y&&yr.y<=Zt.y?[Rn]:yr.x<en.x||cr.x>Zt.x||yr.y<en.y||cr.y>Zt.y?[]:l.clipLine([Rn],en.x,en.y,Zt.x,Zt.y)}for(var Bn=0,rr=ar;Bn<rr.length;Bn+=1){var xr;Ht.reset(rr[Bn],.25*Lt),xr=Ht.length<=.5*Lt?1:Math.ceil(Ht.paddedLength/Yn)+1;for(var Er=0;Er<xr;Er++){var Rr=Er/Math.max(xr-1,1),jr=Ht.lerp(Rr),Wr=jr.x+ir,li=jr.y+ir;Ve.push(Wr,li,Lt,0);var ui=Wr-Lt,Xr=li-Lt,ki=Wr+Lt,qi=li+Lt;if(zt=zt&&this.isOffscreen(ui,Xr,ki,qi),St=St||this.isInsideGrid(ui,Xr,ki,qi),!z&&this.grid.hitTestCircle(Wr,li,Lt,ye)&&(Ct=!0,!ie))return{circles:[],offscreen:!1,collisionDetected:Ct}}}}return{circles:!ie&&Ct||!St?[]:Ve,offscreen:zt,collisionDetected:Ct}},$n.prototype.queryRenderedSymbols=function(z){if(0===z.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var H=[],V=1/0,K=1/0,he=-1/0,Ae=-1/0,B=0,Q=z;B<Q.length;B+=1){var ie=Q[B],de=new l.Point(ie.x+ir,ie.y+ir);V=Math.min(V,de.x),K=Math.min(K,de.y),he=Math.max(he,de.x),Ae=Math.max(Ae,de.y),H.push(de)}for(var ye={},Le={},Ne=0,Ve=this.grid.query(V,K,he,Ae).concat(this.ignoredGrid.query(V,K,he,Ae));Ne<Ve.length;Ne+=1){var Ge=Ve[Ne],Ye=Ge.key;if(void 0===ye[Ye.bucketInstanceId]&&(ye[Ye.bucketInstanceId]={}),!ye[Ye.bucketInstanceId][Ye.featureIndex]){var $e=[new l.Point(Ge.x1,Ge.y1),new l.Point(Ge.x2,Ge.y1),new l.Point(Ge.x2,Ge.y2),new l.Point(Ge.x1,Ge.y2)];l.polygonIntersectsPolygon(H,$e)&&(ye[Ye.bucketInstanceId][Ye.featureIndex]=!0,void 0===Le[Ye.bucketInstanceId]&&(Le[Ye.bucketInstanceId]=[]),Le[Ye.bucketInstanceId].push(Ye.featureIndex))}}return Le},$n.prototype.insertCollisionBox=function(z,H,V,K,he){(H?this.ignoredGrid:this.grid).insert({bucketInstanceId:V,featureIndex:K,collisionGroupID:he},z[0],z[1],z[2],z[3])},$n.prototype.insertCollisionCircles=function(z,H,V,K,he){for(var Ae=H?this.ignoredGrid:this.grid,B={bucketInstanceId:V,featureIndex:K,collisionGroupID:he},Q=0;Q<z.length;Q+=4)Ae.insertCircle(B,z[Q],z[Q+1],z[Q+2])},$n.prototype.projectAndGetPerspectiveRatio=function(z,H,V){var K=[H,V,0,1];return Qn(K,K,z),{point:new l.Point((K[0]/K[3]+1)/2*this.transform.width+ir,(-K[1]/K[3]+1)/2*this.transform.height+ir),perspectiveRatio:.5+this.transform.cameraToCenterDistance/K[3]*.5}},$n.prototype.isOffscreen=function(z,H,V,K){return V<ir||z>=this.screenRightBoundary||K<ir||H>this.screenBottomBoundary},$n.prototype.isInsideGrid=function(z,H,V,K){return V>=0&&z<this.gridRightBoundary&&K>=0&&H<this.gridBottomBoundary},$n.prototype.getViewportMatrix=function(){var z=l.identity([]);return l.translate(z,z,[-100,-100,0]),z};var dr=function(z,H,V,K){this.opacity=z?Math.max(0,Math.min(1,z.opacity+(z.placed?H:-H))):K&&V?1:0,this.placed=V};dr.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Ft=function(z,H,V,K,he){this.text=new dr(z?z.text:null,H,V,he),this.icon=new dr(z?z.icon:null,H,K,he)};Ft.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var tn=function(z,H,V){this.text=z,this.icon=H,this.skipFade=V},cn=function(){this.invProjMatrix=l.create(),this.viewportMatrix=l.create(),this.circles=[]},dn=function(z,H,V,K,he){this.bucketInstanceId=z,this.featureIndex=H,this.sourceLayerIndex=V,this.bucketIndex=K,this.tileID=he},kn=function(z){this.crossSourceCollisions=z,this.maxGroupID=0,this.collisionGroups={}};function Vn(z,H,V,K,he){var Ae=l.getAnchorAlignment(z),B=-(Ae.horizontalAlign-.5)*H,Q=-(Ae.verticalAlign-.5)*V,ie=l.evaluateVariableOffset(z,K);return new l.Point(B+ie[0]*he,Q+ie[1]*he)}function In(z,H,V,K,he,Ae){var B=z.x1,Q=z.x2,ie=z.y1,de=z.y2,ye=z.anchorPointX,Le=z.anchorPointY,Ne=new l.Point(H,V);return K&&Ne._rotate(he?Ae:-Ae),{x1:B+Ne.x,y1:ie+Ne.y,x2:Q+Ne.x,y2:de+Ne.y,anchorPointX:ye,anchorPointY:Le}}kn.prototype.get=function(z){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[z]){var H=++this.maxGroupID;this.collisionGroups[z]={ID:H,predicate:function(V){return V.collisionGroupID===H}}}return this.collisionGroups[z]};var Dn=function(z,H,V,K){this.transform=z.clone(),this.collisionIndex=new $n(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=H,this.retainedQueryData={},this.collisionGroups=new kn(V),this.collisionCircleArrays={},this.prevPlacement=K,K&&(K.prevPlacement=void 0),this.placedOrientations={}};function Kn(z,H,V,K,he){z.emplaceBack(H?1:0,V?1:0,K||0,he||0),z.emplaceBack(H?1:0,V?1:0,K||0,he||0),z.emplaceBack(H?1:0,V?1:0,K||0,he||0),z.emplaceBack(H?1:0,V?1:0,K||0,he||0)}Dn.prototype.getBucketParts=function(z,H,V,K){var he=V.getBucket(H),Ae=V.latestFeatureIndex;if(he&&Ae&&H.id===he.layerIds[0]){var B=V.collisionBoxArray,Q=he.layers[0].layout,ie=Math.pow(2,this.transform.zoom-V.tileID.overscaledZ),de=V.tileSize/l.EXTENT,ye=this.transform.calculatePosMatrix(V.tileID.toUnwrapped()),Le="map"===Q.get("text-pitch-alignment"),Ne="map"===Q.get("text-rotation-alignment"),Ve=qn(V,1,this.transform.zoom),Ge=yn(ye,Le,Ne,this.transform,Ve),Ye=null;if(Le){var $e=on(ye,Le,Ne,this.transform,Ve);Ye=l.multiply([],this.transform.labelPlaneMatrix,$e)}this.retainedQueryData[he.bucketInstanceId]=new dn(he.bucketInstanceId,Ae,he.sourceLayerIndex,he.index,V.tileID);var lt={bucket:he,layout:Q,posMatrix:ye,textLabelPlaneMatrix:Ge,labelToScreenMatrix:Ye,scale:ie,textPixelRatio:de,holdingForFade:V.holdingForFade(),collisionBoxArray:B,partiallyEvaluatedTextSize:l.evaluateSizeForZoom(he.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(he.sourceID)};if(K)for(var ht=0,Et=he.sortKeyRanges;ht<Et.length;ht+=1){var Ct=Et[ht];z.push({sortKey:Ct.sortKey,symbolInstanceStart:Ct.symbolInstanceStart,symbolInstanceEnd:Ct.symbolInstanceEnd,parameters:lt})}else z.push({symbolInstanceStart:0,symbolInstanceEnd:he.symbolInstances.length,parameters:lt})}},Dn.prototype.attemptAnchorPlacement=function(z,H,V,K,he,Ae,B,Q,ie,de,ye,Le,Ne,Ve,Ge){var Ye,$e=[Le.textOffset0,Le.textOffset1],lt=Vn(z,V,K,$e,he),ht=this.collisionIndex.placeCollisionBox(In(H,lt.x,lt.y,Ae,B,this.transform.angle),ye,Q,ie,de.predicate);if(!Ge||0!==this.collisionIndex.placeCollisionBox(In(Ge,lt.x,lt.y,Ae,B,this.transform.angle),ye,Q,ie,de.predicate).box.length)return ht.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Le.crossTileID]&&this.prevPlacement.placements[Le.crossTileID]&&this.prevPlacement.placements[Le.crossTileID].text&&(Ye=this.prevPlacement.variableOffsets[Le.crossTileID].anchor),this.variableOffsets[Le.crossTileID]={textOffset:$e,width:V,height:K,anchor:z,textBoxScale:he,prevAnchor:Ye},this.markUsedJustification(Ne,z,Le,Ve),Ne.allowVerticalPlacement&&(this.markUsedOrientation(Ne,Ve,Le),this.placedOrientations[Le.crossTileID]=Ve),{shift:lt,placedGlyphBoxes:ht}):void 0},Dn.prototype.placeLayerBucketPart=function(z,H,V){var K=this,he=z.parameters,Ae=he.bucket,B=he.layout,Q=he.posMatrix,ie=he.textLabelPlaneMatrix,de=he.labelToScreenMatrix,ye=he.textPixelRatio,Le=he.holdingForFade,Ne=he.collisionBoxArray,Ve=he.partiallyEvaluatedTextSize,Ge=he.collisionGroup,Ye=B.get("text-optional"),$e=B.get("icon-optional"),lt=B.get("text-allow-overlap"),ht=B.get("icon-allow-overlap"),Et="map"===B.get("text-rotation-alignment"),Ct="map"===B.get("text-pitch-alignment"),St="none"!==B.get("icon-text-fit"),zt="viewport-y"===B.get("symbol-z-order"),Lt=lt&&(ht||!Ae.hasIconData()||$e),en=ht&&(lt||!Ae.hasTextData()||Ye);!Ae.collisionArrays&&Ne&&Ae.deserializeCollisionBoxes(Ne);var Zt=function(Un,Yn){if(!H[Un.crossTileID])if(Le)K.placements[Un.crossTileID]=new tn(!1,!1,!1);else{var or,ar=!1,cr=!1,yr=!0,Pr=null,Bn={box:null,offscreen:null},rr={box:null,offscreen:null},fr=null,xr=null,Er=0,Rr=0,jr=0;Yn.textFeatureIndex?Er=Yn.textFeatureIndex:Un.useRuntimeCollisionCircles&&(Er=Un.featureIndex),Yn.verticalTextFeatureIndex&&(Rr=Yn.verticalTextFeatureIndex);var Wr=Yn.textBox;if(Wr){var li=function(Si){var Zi=l.WritingMode.horizontal;if(Ae.allowVerticalPlacement&&!Si&&K.prevPlacement){var Va=K.prevPlacement.placedOrientations[Un.crossTileID];Va&&(K.placedOrientations[Un.crossTileID]=Va,K.markUsedOrientation(Ae,Zi=Va,Un))}return Zi},ui=function(Si,Zi){if(Ae.allowVerticalPlacement&&Un.numVerticalGlyphVertices>0&&Yn.verticalTextBox)for(var Va=0,Il=Ae.writingModes;Va<Il.length&&(Il[Va]===l.WritingMode.vertical?(Bn=Zi(),rr=Bn):Bn=Si(),!(Bn&&Bn.box&&Bn.box.length));Va+=1);else Bn=Si()};if(B.get("text-variable-anchor")){var Xr=B.get("text-variable-anchor");if(K.prevPlacement&&K.prevPlacement.variableOffsets[Un.crossTileID]){var ki=K.prevPlacement.variableOffsets[Un.crossTileID];Xr.indexOf(ki.anchor)>0&&(Xr=Xr.filter(function(Si){return Si!==ki.anchor})).unshift(ki.anchor)}var qi=function(Si,Zi,Va){for(var Il=Si.x2-Si.x1,Iu=Si.y2-Si.y1,yc=Un.textBoxScale,ru=St&&!ht?Zi:null,Dl={box:[],offscreen:!1},iu=lt?2*Xr.length:Xr.length,_l=0;_l<iu;++_l){var au=K.attemptAnchorPlacement(Xr[_l%Xr.length],Si,Il,Iu,yc,Et,Ct,ye,Q,Ge,_l>=Xr.length,Un,Ae,Va,ru);if(au&&(Dl=au.placedGlyphBoxes)&&Dl.box&&Dl.box.length){ar=!0,Pr=au.shift;break}}return Dl};ui(function(){return qi(Wr,Yn.iconBox,l.WritingMode.horizontal)},function(){var Si=Yn.verticalTextBox;return Ae.allowVerticalPlacement&&!(Bn&&Bn.box&&Bn.box.length)&&Un.numVerticalGlyphVertices>0&&Si?qi(Si,Yn.verticalIconBox,l.WritingMode.vertical):{box:null,offscreen:null}}),Bn&&(ar=Bn.box,yr=Bn.offscreen);var Pi=li(Bn&&Bn.box);if(!ar&&K.prevPlacement){var Bi=K.prevPlacement.variableOffsets[Un.crossTileID];Bi&&(K.variableOffsets[Un.crossTileID]=Bi,K.markUsedJustification(Ae,Bi.anchor,Un,Pi))}}else{var Hr=function(Si,Zi){var Va=K.collisionIndex.placeCollisionBox(Si,lt,ye,Q,Ge.predicate);return Va&&Va.box&&Va.box.length&&(K.markUsedOrientation(Ae,Zi,Un),K.placedOrientations[Un.crossTileID]=Zi),Va};ui(function(){return Hr(Wr,l.WritingMode.horizontal)},function(){var Si=Yn.verticalTextBox;return Ae.allowVerticalPlacement&&Un.numVerticalGlyphVertices>0&&Si?Hr(Si,l.WritingMode.vertical):{box:null,offscreen:null}}),li(Bn&&Bn.box&&Bn.box.length)}}if(ar=(or=Bn)&&or.box&&or.box.length>0,yr=or&&or.offscreen,Un.useRuntimeCollisionCircles){var Nr=Ae.text.placedSymbolArray.get(Un.centerJustifiedTextSymbolIndex),ci=l.evaluateSizeForFeature(Ae.textSizeData,Ve,Nr),ri=B.get("text-padding");fr=K.collisionIndex.placeCollisionCircles(lt,Nr,Ae.lineVertexArray,Ae.glyphOffsetArray,ci,Q,ie,de,V,Ct,Ge.predicate,Un.collisionCircleDiameter,ri),ar=lt||fr.circles.length>0&&!fr.collisionDetected,yr=yr&&fr.offscreen}if(Yn.iconFeatureIndex&&(jr=Yn.iconFeatureIndex),Yn.iconBox){var ua=function(Si){var Zi=St&&Pr?In(Si,Pr.x,Pr.y,Et,Ct,K.transform.angle):Si;return K.collisionIndex.placeCollisionBox(Zi,ht,ye,Q,Ge.predicate)};cr=rr&&rr.box&&rr.box.length&&Yn.verticalIconBox?(xr=ua(Yn.verticalIconBox)).box.length>0:(xr=ua(Yn.iconBox)).box.length>0,yr=yr&&xr.offscreen}var xi=Ye||0===Un.numHorizontalGlyphVertices&&0===Un.numVerticalGlyphVertices,Jr=$e||0===Un.numIconVertices;if(xi||Jr?Jr?xi||(cr=cr&&ar):ar=cr&&ar:cr=ar=cr&&ar,ar&&or&&or.box&&K.collisionIndex.insertCollisionBox(or.box,B.get("text-ignore-placement"),Ae.bucketInstanceId,rr&&rr.box&&Rr?Rr:Er,Ge.ID),cr&&xr&&K.collisionIndex.insertCollisionBox(xr.box,B.get("icon-ignore-placement"),Ae.bucketInstanceId,jr,Ge.ID),fr&&(ar&&K.collisionIndex.insertCollisionCircles(fr.circles,B.get("text-ignore-placement"),Ae.bucketInstanceId,Er,Ge.ID),V)){var ts=Ae.bucketInstanceId,ma=K.collisionCircleArrays[ts];void 0===ma&&(ma=K.collisionCircleArrays[ts]=new cn);for(var Oa=0;Oa<fr.circles.length;Oa+=4)ma.circles.push(fr.circles[Oa+0]),ma.circles.push(fr.circles[Oa+1]),ma.circles.push(fr.circles[Oa+2]),ma.circles.push(fr.collisionDetected?1:0)}K.placements[Un.crossTileID]=new tn(ar||Lt,cr||en,yr||Ae.justReloaded),H[Un.crossTileID]=!0}};if(zt)for(var Ht=Ae.getSortedSymbolIndexes(this.transform.angle),pn=Ht.length-1;pn>=0;--pn){var vn=Ht[pn];Zt(Ae.symbolInstances.get(vn),Ae.collisionArrays[vn])}else for(var Rn=z.symbolInstanceStart;Rn<z.symbolInstanceEnd;Rn++)Zt(Ae.symbolInstances.get(Rn),Ae.collisionArrays[Rn]);if(V&&Ae.bucketInstanceId in this.collisionCircleArrays){var zn=this.collisionCircleArrays[Ae.bucketInstanceId];l.invert(zn.invProjMatrix,Q),zn.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ae.justReloaded=!1},Dn.prototype.markUsedJustification=function(z,H,V,K){var he;he=K===l.WritingMode.vertical?V.verticalPlacedTextSymbolIndex:{left:V.leftJustifiedTextSymbolIndex,center:V.centerJustifiedTextSymbolIndex,right:V.rightJustifiedTextSymbolIndex}[l.getAnchorJustification(H)];for(var B=0,Q=[V.leftJustifiedTextSymbolIndex,V.centerJustifiedTextSymbolIndex,V.rightJustifiedTextSymbolIndex,V.verticalPlacedTextSymbolIndex];B<Q.length;B+=1){var ie=Q[B];ie>=0&&(z.text.placedSymbolArray.get(ie).crossTileID=he>=0&&ie!==he?0:V.crossTileID)}},Dn.prototype.markUsedOrientation=function(z,H,V){for(var K=H===l.WritingMode.horizontal||H===l.WritingMode.horizontalOnly?H:0,he=H===l.WritingMode.vertical?H:0,Ae=0,B=[V.leftJustifiedTextSymbolIndex,V.centerJustifiedTextSymbolIndex,V.rightJustifiedTextSymbolIndex];Ae<B.length;Ae+=1)z.text.placedSymbolArray.get(B[Ae]).placedOrientation=K;V.verticalPlacedTextSymbolIndex&&(z.text.placedSymbolArray.get(V.verticalPlacedTextSymbolIndex).placedOrientation=he)},Dn.prototype.commit=function(z){this.commitTime=z,this.zoomAtLastRecencyCheck=this.transform.zoom;var H=this.prevPlacement,V=!1;this.prevZoomAdjustment=H?H.zoomAdjustment(this.transform.zoom):0;var K=H?H.symbolFadeChange(z):1,he=H?H.opacities:{},Ae=H?H.variableOffsets:{},B=H?H.placedOrientations:{};for(var Q in this.placements){var ie=this.placements[Q],de=he[Q];de?(this.opacities[Q]=new Ft(de,K,ie.text,ie.icon),V=V||ie.text!==de.text.placed||ie.icon!==de.icon.placed):(this.opacities[Q]=new Ft(null,K,ie.text,ie.icon,ie.skipFade),V=V||ie.text||ie.icon)}for(var ye in he){var Le=he[ye];if(!this.opacities[ye]){var Ne=new Ft(Le,K,!1,!1);Ne.isHidden()||(this.opacities[ye]=Ne,V=V||Le.text.placed||Le.icon.placed)}}for(var Ve in Ae)this.variableOffsets[Ve]||!this.opacities[Ve]||this.opacities[Ve].isHidden()||(this.variableOffsets[Ve]=Ae[Ve]);for(var Ge in B)this.placedOrientations[Ge]||!this.opacities[Ge]||this.opacities[Ge].isHidden()||(this.placedOrientations[Ge]=B[Ge]);V?this.lastPlacementChangeTime=z:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=H?H.lastPlacementChangeTime:z)},Dn.prototype.updateLayerOpacities=function(z,H){for(var V={},K=0,he=H;K<he.length;K+=1){var Ae=he[K],B=Ae.getBucket(z);B&&Ae.latestFeatureIndex&&z.id===B.layerIds[0]&&this.updateBucketOpacities(B,V,Ae.collisionBoxArray)}},Dn.prototype.updateBucketOpacities=function(z,H,V){var K=this;z.hasTextData()&&z.text.opacityVertexArray.clear(),z.hasIconData()&&z.icon.opacityVertexArray.clear(),z.hasIconCollisionBoxData()&&z.iconCollisionBox.collisionVertexArray.clear(),z.hasTextCollisionBoxData()&&z.textCollisionBox.collisionVertexArray.clear();var he=z.layers[0].layout,Ae=new Ft(null,0,!1,!1,!0),B=he.get("text-allow-overlap"),Q=he.get("icon-allow-overlap"),ie=he.get("text-variable-anchor"),de="map"===he.get("text-rotation-alignment"),ye="map"===he.get("text-pitch-alignment"),Le="none"!==he.get("icon-text-fit"),Ne=new Ft(null,0,B&&(Q||!z.hasIconData()||he.get("icon-optional")),Q&&(B||!z.hasTextData()||he.get("text-optional")),!0);!z.collisionArrays&&V&&(z.hasIconCollisionBoxData()||z.hasTextCollisionBoxData())&&z.deserializeCollisionBoxes(V);for(var Ve=function(lt,ht,Et){for(var Ct=0;Ct<ht/4;Ct++)lt.opacityVertexArray.emplaceBack(Et)},Ge=function(lt){var ht=z.symbolInstances.get(lt),Et=ht.numHorizontalGlyphVertices,Ct=ht.numVerticalGlyphVertices,St=ht.crossTileID,Lt=K.opacities[St];H[St]?Lt=Ae:Lt||(K.opacities[St]=Lt=Ne),H[St]=!0;var Zt=ht.numIconVertices>0,Ht=K.placedOrientations[ht.crossTileID],pn=Ht===l.WritingMode.vertical,vn=Ht===l.WritingMode.horizontal||Ht===l.WritingMode.horizontalOnly;if(Et>0||Ct>0){var Rn=Mn(Lt.text);Ve(z.text,Et,pn?ln:Rn),Ve(z.text,Ct,vn?ln:Rn);var Yn=Lt.text.isHidden();[ht.rightJustifiedTextSymbolIndex,ht.centerJustifiedTextSymbolIndex,ht.leftJustifiedTextSymbolIndex].forEach(function(jr){jr>=0&&(z.text.placedSymbolArray.get(jr).hidden=Yn||pn?1:0)}),ht.verticalPlacedTextSymbolIndex>=0&&(z.text.placedSymbolArray.get(ht.verticalPlacedTextSymbolIndex).hidden=Yn||vn?1:0);var or=K.variableOffsets[ht.crossTileID];or&&K.markUsedJustification(z,or.anchor,ht,Ht);var ar=K.placedOrientations[ht.crossTileID];ar&&(K.markUsedJustification(z,"left",ht,ar),K.markUsedOrientation(z,ar,ht))}if(Zt){var cr=Mn(Lt.icon),yr=!(Le&&ht.verticalPlacedIconSymbolIndex&&pn);ht.placedIconSymbolIndex>=0&&(Ve(z.icon,ht.numIconVertices,yr?cr:ln),z.icon.placedSymbolArray.get(ht.placedIconSymbolIndex).hidden=Lt.icon.isHidden()),ht.verticalPlacedIconSymbolIndex>=0&&(Ve(z.icon,ht.numVerticalIconVertices,yr?ln:cr),z.icon.placedSymbolArray.get(ht.verticalPlacedIconSymbolIndex).hidden=Lt.icon.isHidden())}if(z.hasIconCollisionBoxData()||z.hasTextCollisionBoxData()){var rr=z.collisionArrays[lt];if(rr){var fr=new l.Point(0,0);if(rr.textBox||rr.verticalTextBox){var xr=!0;if(ie){var Er=K.variableOffsets[St];Er?(fr=Vn(Er.anchor,Er.width,Er.height,Er.textOffset,Er.textBoxScale),de&&fr._rotate(ye?K.transform.angle:-K.transform.angle)):xr=!1}rr.textBox&&Kn(z.textCollisionBox.collisionVertexArray,Lt.text.placed,!xr||pn,fr.x,fr.y),rr.verticalTextBox&&Kn(z.textCollisionBox.collisionVertexArray,Lt.text.placed,!xr||vn,fr.x,fr.y)}var Rr=!(vn||!rr.verticalIconBox);rr.iconBox&&Kn(z.iconCollisionBox.collisionVertexArray,Lt.icon.placed,Rr,Le?fr.x:0,Le?fr.y:0),rr.verticalIconBox&&Kn(z.iconCollisionBox.collisionVertexArray,Lt.icon.placed,!Rr,Le?fr.x:0,Le?fr.y:0)}}},Ye=0;Ye<z.symbolInstances.length;Ye++)Ge(Ye);if(z.sortFeatures(this.transform.angle),this.retainedQueryData[z.bucketInstanceId]&&(this.retainedQueryData[z.bucketInstanceId].featureSortOrder=z.featureSortOrder),z.hasTextData()&&z.text.opacityVertexBuffer&&z.text.opacityVertexBuffer.updateData(z.text.opacityVertexArray),z.hasIconData()&&z.icon.opacityVertexBuffer&&z.icon.opacityVertexBuffer.updateData(z.icon.opacityVertexArray),z.hasIconCollisionBoxData()&&z.iconCollisionBox.collisionVertexBuffer&&z.iconCollisionBox.collisionVertexBuffer.updateData(z.iconCollisionBox.collisionVertexArray),z.hasTextCollisionBoxData()&&z.textCollisionBox.collisionVertexBuffer&&z.textCollisionBox.collisionVertexBuffer.updateData(z.textCollisionBox.collisionVertexArray),z.bucketInstanceId in this.collisionCircleArrays){var $e=this.collisionCircleArrays[z.bucketInstanceId];z.placementInvProjMatrix=$e.invProjMatrix,z.placementViewportMatrix=$e.viewportMatrix,z.collisionCircleArray=$e.circles,delete this.collisionCircleArrays[z.bucketInstanceId]}},Dn.prototype.symbolFadeChange=function(z){return 0===this.fadeDuration?1:(z-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Dn.prototype.zoomAdjustment=function(z){return Math.max(0,(this.transform.zoom-z)/1.5)},Dn.prototype.hasTransitions=function(z){return this.stale||z-this.lastPlacementChangeTime<this.fadeDuration},Dn.prototype.stillRecent=function(z,H){var V=this.zoomAtLastRecencyCheck===H?1-this.zoomAdjustment(H):1;return this.zoomAtLastRecencyCheck=H,this.commitTime+this.fadeDuration*V>z},Dn.prototype.setStale=function(){this.stale=!0};var Vt=Math.pow(2,25),_n=Math.pow(2,24),Mt=Math.pow(2,17),qt=Math.pow(2,16),Kt=Math.pow(2,9),mn=Math.pow(2,8),xn=Math.pow(2,1);function Mn(z){if(0===z.opacity&&!z.placed)return 0;if(1===z.opacity&&z.placed)return 4294967295;var H=z.placed?1:0,V=Math.floor(127*z.opacity);return V*Vt+H*_n+V*Mt+H*qt+V*Kt+H*mn+V*xn+H}var ln=0,Wt=function(z){this._sortAcrossTiles="viewport-y"!==z.layout.get("symbol-z-order")&&void 0!==z.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Wt.prototype.continuePlacement=function(z,H,V,K,he){for(var Ae=this._bucketParts;this._currentTileIndex<z.length;)if(H.getBucketParts(Ae,K,z[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,he())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ae.sort(function(ie,de){return ie.sortKey-de.sortKey}));this._currentPartIndex<Ae.length;)if(H.placeLayerBucketPart(Ae[this._currentPartIndex],this._seenCrossTileIDs,V),this._currentPartIndex++,he())return!0;return!1};var Jt=function(z,H,V,K,he,Ae,B){this.placement=new Dn(z,he,Ae,B),this._currentPlacementIndex=H.length-1,this._forceFullPlacement=V,this._showCollisionBoxes=K,this._done=!1};Jt.prototype.isDone=function(){return this._done},Jt.prototype.continuePlacement=function(z,H,V){for(var K=this,he=l.browser.now(),Ae=function(){var ie=l.browser.now()-he;return!K._forceFullPlacement&&ie>2};this._currentPlacementIndex>=0;){var B=H[z[this._currentPlacementIndex]],Q=this.placement.collisionIndex.transform.zoom;if("symbol"===B.type&&(!B.minzoom||B.minzoom<=Q)&&(!B.maxzoom||B.maxzoom>Q)){if(this._inProgressLayer||(this._inProgressLayer=new Wt(B)),this._inProgressLayer.continuePlacement(V[B.source],this.placement,this._showCollisionBoxes,B,Ae))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Jt.prototype.commit=function(z){return this.placement.commit(z),this.placement};var sn=512/l.EXTENT/2,un=function(z,H,V){this.tileID=z,this.indexedSymbolInstances={},this.bucketInstanceId=V;for(var K=0;K<H.length;K++){var he=H.get(K),Ae=he.key;this.indexedSymbolInstances[Ae]||(this.indexedSymbolInstances[Ae]=[]),this.indexedSymbolInstances[Ae].push({crossTileID:he.crossTileID,coord:this.getScaledCoordinates(he,z)})}};un.prototype.getScaledCoordinates=function(z,H){var K=sn/Math.pow(2,H.canonical.z-this.tileID.canonical.z);return{x:Math.floor((H.canonical.x*l.EXTENT+z.anchorX)*K),y:Math.floor((H.canonical.y*l.EXTENT+z.anchorY)*K)}},un.prototype.findMatches=function(z,H,V){for(var K=this.tileID.canonical.z<H.canonical.z?1:Math.pow(2,this.tileID.canonical.z-H.canonical.z),he=0;he<z.length;he++){var Ae=z.get(he);if(!Ae.crossTileID){var B=this.indexedSymbolInstances[Ae.key];if(B)for(var Q=this.getScaledCoordinates(Ae,H),ie=0,de=B;ie<de.length;ie+=1){var ye=de[ie];if(Math.abs(ye.coord.x-Q.x)<=K&&Math.abs(ye.coord.y-Q.y)<=K&&!V[ye.crossTileID]){V[ye.crossTileID]=!0,Ae.crossTileID=ye.crossTileID;break}}}}};var Sn=function(){this.maxCrossTileID=0};Sn.prototype.generate=function(){return++this.maxCrossTileID};var Cn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Cn.prototype.handleWrapJump=function(z){var H=Math.round((z-this.lng)/360);if(0!==H)for(var V in this.indexes){var K=this.indexes[V],he={};for(var Ae in K){var B=K[Ae];B.tileID=B.tileID.unwrapTo(B.tileID.wrap+H),he[B.tileID.key]=B}this.indexes[V]=he}this.lng=z},Cn.prototype.addBucket=function(z,H,V){if(this.indexes[z.overscaledZ]&&this.indexes[z.overscaledZ][z.key]){if(this.indexes[z.overscaledZ][z.key].bucketInstanceId===H.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(z.overscaledZ,this.indexes[z.overscaledZ][z.key])}for(var K=0;K<H.symbolInstances.length;K++)H.symbolInstances.get(K).crossTileID=0;this.usedCrossTileIDs[z.overscaledZ]||(this.usedCrossTileIDs[z.overscaledZ]={});var he=this.usedCrossTileIDs[z.overscaledZ];for(var Ae in this.indexes){var B=this.indexes[Ae];if(Number(Ae)>z.overscaledZ)for(var Q in B){var ie=B[Q];ie.tileID.isChildOf(z)&&ie.findMatches(H.symbolInstances,z,he)}else{var de=B[z.scaledTo(Number(Ae)).key];de&&de.findMatches(H.symbolInstances,z,he)}}for(var ye=0;ye<H.symbolInstances.length;ye++){var Le=H.symbolInstances.get(ye);Le.crossTileID||(Le.crossTileID=V.generate(),he[Le.crossTileID]=!0)}return void 0===this.indexes[z.overscaledZ]&&(this.indexes[z.overscaledZ]={}),this.indexes[z.overscaledZ][z.key]=new un(z,H.symbolInstances,H.bucketInstanceId),!0},Cn.prototype.removeBucketCrossTileIDs=function(z,H){for(var V in H.indexedSymbolInstances)for(var K=0,he=H.indexedSymbolInstances[V];K<he.length;K+=1)delete this.usedCrossTileIDs[z][he[K].crossTileID]},Cn.prototype.removeStaleBuckets=function(z){var H=!1;for(var V in this.indexes){var K=this.indexes[V];for(var he in K)z[K[he].bucketInstanceId]||(this.removeBucketCrossTileIDs(V,K[he]),delete K[he],H=!0)}return H};var jn=function(){this.layerIndexes={},this.crossTileIDs=new Sn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};jn.prototype.addLayer=function(z,H,V){var K=this.layerIndexes[z.id];void 0===K&&(K=this.layerIndexes[z.id]=new Cn);var he=!1,Ae={};K.handleWrapJump(V);for(var B=0,Q=H;B<Q.length;B+=1){var ie=Q[B],de=ie.getBucket(z);de&&z.id===de.layerIds[0]&&(de.bucketInstanceId||(de.bucketInstanceId=++this.maxBucketInstanceId),K.addBucket(ie.tileID,de,this.crossTileIDs)&&(he=!0),Ae[de.bucketInstanceId]=!0)}return K.removeStaleBuckets(Ae)&&(he=!0),he},jn.prototype.pruneUnusedLayers=function(z){var H={};for(var V in z.forEach(function(K){H[K]=!0}),this.layerIndexes)H[V]||delete this.layerIndexes[V]};var Fn=function(z,H){return l.emitValidationErrors(z,H&&H.filter(function(V){return"source.canvas"!==V.identifier}))},Xn=l.pick(ct,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Hn=l.pick(ct,["setCenter","setZoom","setBearing","setPitch"]),nr=function(){var z={},H=l.styleSpec.$version;for(var V in l.styleSpec.$root){var he,K=l.styleSpec.$root[V];K.required&&null!=(he="version"===V?H:"array"===K.type?[]:{})&&(z[V]=he)}return z}(),er=function(z){function H(V,K){var he=this;void 0===K&&(K={}),z.call(this),this.map=V,this.dispatcher=new L(vt(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new m(V._requestManager,K.localIdeographFontFamily),this.lineAtlas=new E(256,512),this.crossTileSymbolIndex=new jn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new l.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",l.getReferrer());var Ae=this;this._rtlTextPluginCallback=H.registerForPluginStateChange(function(B){Ae.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:B.pluginStatus,pluginURL:B.pluginURL},function(ie,de){if(l.triggerPluginCompletionEvent(ie),de&&de.every(function(Le){return Le}))for(var ye in Ae.sourceCaches)Ae.sourceCaches[ye].reload()})}),this.on("data",function(B){if("source"===B.dataType&&"metadata"===B.sourceDataType){var Q=he.sourceCaches[B.sourceId];if(Q){var ie=Q.getSource();if(ie&&ie.vectorLayerIds)for(var de in he._layers){var ye=he._layers[de];ye.source===ie.id&&he._validateLayer(ye)}}}})}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.loadURL=function(V,K){var he=this;void 0===K&&(K={}),this.fire(new l.Event("dataloading",{dataType:"style"}));var Ae="boolean"==typeof K.validate?K.validate:!l.isMapboxURL(V);V=this.map._requestManager.normalizeStyleURL(V,K.accessToken);var B=this.map._requestManager.transformRequest(V,l.ResourceType.Style);this._request=l.getJSON(B,function(Q,ie){he._request=null,Q?he.fire(new l.ErrorEvent(Q)):ie&&he._load(ie,Ae)})},H.prototype.loadJSON=function(V,K){var he=this;void 0===K&&(K={}),this.fire(new l.Event("dataloading",{dataType:"style"})),this._request=l.browser.frame(function(){he._request=null,he._load(V,!1!==K.validate)})},H.prototype.loadEmpty=function(){this.fire(new l.Event("dataloading",{dataType:"style"})),this._load(nr,!1)},H.prototype._load=function(V,K){if(!K||!Fn(this,l.validateStyle(V))){for(var he in this._loaded=!0,this.stylesheet=V,V.sources)this.addSource(he,V.sources[he],{validate:!1});V.sprite?this._loadSprite(V.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(V.glyphs);var Ae=wt(this.stylesheet.layers);this._order=Ae.map(function(de){return de.id}),this._layers={},this._serializedLayers={};for(var B=0,Q=Ae;B<Q.length;B+=1){var ie=Q[B];(ie=l.createStyleLayer(ie)).setEventedParent(this,{layer:{id:ie.id}}),this._layers[ie.id]=ie,this._serializedLayers[ie.id]=ie.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new l.Event("data",{dataType:"style"})),this.fire(new l.Event("style.load"))}},H.prototype._loadSprite=function(V){var K=this;this._spriteRequest=function(he,Ae,B){var Q,ie,de,ye=l.browser.devicePixelRatio>1?"@2x":"",Le=l.getJSON(Ae.transformRequest(Ae.normalizeSpriteURL(he,ye,".json"),l.ResourceType.SpriteJSON),function(Ge,Ye){Le=null,de||(de=Ge,Q=Ye,Ve())}),Ne=l.getImage(Ae.transformRequest(Ae.normalizeSpriteURL(he,ye,".png"),l.ResourceType.SpriteImage),function(Ge,Ye){Ne=null,de||(de=Ge,ie=Ye,Ve())});function Ve(){if(de)B(de);else if(Q&&ie){var Ge=l.browser.getImageData(ie),Ye={};for(var $e in Q){var lt=Q[$e],ht=lt.width,Et=lt.height,Ct=lt.x,St=lt.y,zt=lt.sdf,Lt=lt.pixelRatio,en=lt.stretchX,Zt=lt.stretchY,Ht=lt.content,pn=new l.RGBAImage({width:ht,height:Et});l.RGBAImage.copy(Ge,pn,{x:Ct,y:St},{x:0,y:0},{width:ht,height:Et}),Ye[$e]={data:pn,pixelRatio:Lt,sdf:zt,stretchX:en,stretchY:Zt,content:Ht}}B(null,Ye)}}return{cancel:function(){Le&&(Le.cancel(),Le=null),Ne&&(Ne.cancel(),Ne=null)}}}(V,this.map._requestManager,function(he,Ae){if(K._spriteRequest=null,he)K.fire(new l.ErrorEvent(he));else if(Ae)for(var B in Ae)K.imageManager.addImage(B,Ae[B]);K.imageManager.setLoaded(!0),K._availableImages=K.imageManager.listImages(),K.dispatcher.broadcast("setImages",K._availableImages),K.fire(new l.Event("data",{dataType:"style"}))})},H.prototype._validateLayer=function(V){var K=this.sourceCaches[V.source];if(K){var he=V.sourceLayer;if(he){var Ae=K.getSource();("geojson"===Ae.type||Ae.vectorLayerIds&&-1===Ae.vectorLayerIds.indexOf(he))&&this.fire(new l.ErrorEvent(new Error('Source layer "'+he+'" does not exist on source "'+Ae.id+'" as specified by style layer "'+V.id+'"')))}}},H.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var V in this.sourceCaches)if(!this.sourceCaches[V].loaded())return!1;return!!this.imageManager.isLoaded()},H.prototype._serializeLayers=function(V){for(var K=[],he=0,Ae=V;he<Ae.length;he+=1){var Q=this._layers[Ae[he]];"custom"!==Q.type&&K.push(Q.serialize())}return K},H.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var V in this.sourceCaches)if(this.sourceCaches[V].hasTransition())return!0;for(var K in this._layers)if(this._layers[K].hasTransition())return!0;return!1},H.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},H.prototype.update=function(V){if(this._loaded){var K=this._changed;if(this._changed){var he=Object.keys(this._updatedLayers),Ae=Object.keys(this._removedLayers);for(var B in(he.length||Ae.length)&&this._updateWorkerLayers(he,Ae),this._updatedSources){var Q=this._updatedSources[B];"reload"===Q?this._reloadSource(B):"clear"===Q&&this._clearSource(B)}for(var ie in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ie].updateTransitions(V);this.light.updateTransitions(V),this._resetUpdates()}for(var de in this.sourceCaches)this.sourceCaches[de].used=!1;for(var ye=0,Le=this._order;ye<Le.length;ye+=1){var Ve=this._layers[Le[ye]];Ve.recalculate(V,this._availableImages),!Ve.isHidden(V.zoom)&&Ve.source&&(this.sourceCaches[Ve.source].used=!0)}this.light.recalculate(V),this.z=V.zoom,K&&this.fire(new l.Event("data",{dataType:"style"}))}},H.prototype._updateTilesForChangedImages=function(){var V=Object.keys(this._changedImages);if(V.length){for(var K in this.sourceCaches)this.sourceCaches[K].reloadTilesForDependencies(["icons","patterns"],V);this._changedImages={}}},H.prototype._updateWorkerLayers=function(V,K){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(V),removedIds:K})},H.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},H.prototype.setState=function(V){var K=this;if(this._checkLoaded(),Fn(this,l.validateStyle(V)))return!1;(V=l.clone$1(V)).layers=wt(V.layers);var he=function Yt(z,H){if(!z)return[{command:ct.setStyle,args:[H]}];var V=[];try{if(!l.deepEqual(z.version,H.version))return[{command:ct.setStyle,args:[H]}];l.deepEqual(z.center,H.center)||V.push({command:ct.setCenter,args:[H.center]}),l.deepEqual(z.zoom,H.zoom)||V.push({command:ct.setZoom,args:[H.zoom]}),l.deepEqual(z.bearing,H.bearing)||V.push({command:ct.setBearing,args:[H.bearing]}),l.deepEqual(z.pitch,H.pitch)||V.push({command:ct.setPitch,args:[H.pitch]}),l.deepEqual(z.sprite,H.sprite)||V.push({command:ct.setSprite,args:[H.sprite]}),l.deepEqual(z.glyphs,H.glyphs)||V.push({command:ct.setGlyphs,args:[H.glyphs]}),l.deepEqual(z.transition,H.transition)||V.push({command:ct.setTransition,args:[H.transition]}),l.deepEqual(z.light,H.light)||V.push({command:ct.setLight,args:[H.light]});var K={},he=[];!function(B,Q,ie,de){var ye;for(ye in Q=Q||{},B=B||{})B.hasOwnProperty(ye)&&(Q.hasOwnProperty(ye)||bt(ye,ie,de));for(ye in Q)Q.hasOwnProperty(ye)&&(B.hasOwnProperty(ye)?l.deepEqual(B[ye],Q[ye])||("geojson"===B[ye].type&&"geojson"===Q[ye].type&&Dt(B,Q,ye)?ie.push({command:ct.setGeoJSONSourceData,args:[ye,Q[ye].data]}):It(ye,Q,ie,de)):ft(ye,Q,ie))}(z.sources,H.sources,he,K);var Ae=[];z.layers&&z.layers.forEach(function(B){K[B.source]?V.push({command:ct.removeLayer,args:[B.id]}):Ae.push(B)}),V=V.concat(he),function(B,Q,ie){Q=Q||[];var de,ye,Le,Ne,Ve,Ge,Ye,$e=(B=B||[]).map($t),lt=Q.map($t),ht=B.reduce(jt,{}),Et=Q.reduce(jt,{}),Ct=$e.slice(),St=Object.create(null);for(de=0,ye=0;de<$e.length;de++)Et.hasOwnProperty(Le=$e[de])?ye++:(ie.push({command:ct.removeLayer,args:[Le]}),Ct.splice(Ct.indexOf(Le,ye),1));for(de=0,ye=0;de<lt.length;de++)Ct[Ct.length-1-de]!==(Le=lt[lt.length-1-de])&&(ht.hasOwnProperty(Le)?(ie.push({command:ct.removeLayer,args:[Le]}),Ct.splice(Ct.lastIndexOf(Le,Ct.length-ye),1)):ye++,ie.push({command:ct.addLayer,args:[Et[Le],Ge=Ct[Ct.length-de]]}),Ct.splice(Ct.length-de,0,Le),St[Le]=!0);for(de=0;de<lt.length;de++)if(Ne=ht[Le=lt[de]],Ve=Et[Le],!St[Le]&&!l.deepEqual(Ne,Ve))if(l.deepEqual(Ne.source,Ve.source)&&l.deepEqual(Ne["source-layer"],Ve["source-layer"])&&l.deepEqual(Ne.type,Ve.type)){for(Ye in Nt(Ne.layout,Ve.layout,ie,Le,null,ct.setLayoutProperty),Nt(Ne.paint,Ve.paint,ie,Le,null,ct.setPaintProperty),l.deepEqual(Ne.filter,Ve.filter)||ie.push({command:ct.setFilter,args:[Le,Ve.filter]}),l.deepEqual(Ne.minzoom,Ve.minzoom)&&l.deepEqual(Ne.maxzoom,Ve.maxzoom)||ie.push({command:ct.setLayerZoomRange,args:[Le,Ve.minzoom,Ve.maxzoom]}),Ne)Ne.hasOwnProperty(Ye)&&"layout"!==Ye&&"paint"!==Ye&&"filter"!==Ye&&"metadata"!==Ye&&"minzoom"!==Ye&&"maxzoom"!==Ye&&(0===Ye.indexOf("paint.")?Nt(Ne[Ye],Ve[Ye],ie,Le,Ye.slice(6),ct.setPaintProperty):l.deepEqual(Ne[Ye],Ve[Ye])||ie.push({command:ct.setLayerProperty,args:[Le,Ye,Ve[Ye]]}));for(Ye in Ve)Ve.hasOwnProperty(Ye)&&!Ne.hasOwnProperty(Ye)&&"layout"!==Ye&&"paint"!==Ye&&"filter"!==Ye&&"metadata"!==Ye&&"minzoom"!==Ye&&"maxzoom"!==Ye&&(0===Ye.indexOf("paint.")?Nt(Ne[Ye],Ve[Ye],ie,Le,Ye.slice(6),ct.setPaintProperty):l.deepEqual(Ne[Ye],Ve[Ye])||ie.push({command:ct.setLayerProperty,args:[Le,Ye,Ve[Ye]]}))}else ie.push({command:ct.removeLayer,args:[Le]}),Ge=Ct[Ct.lastIndexOf(Le)+1],ie.push({command:ct.addLayer,args:[Ve,Ge]})}(Ae,H.layers,V)}catch(B){console.warn("Unable to compute style diff:",B),V=[{command:ct.setStyle,args:[H]}]}return V}(this.serialize(),V).filter(function(B){return!(B.command in Hn)});if(0===he.length)return!1;var Ae=he.filter(function(B){return!(B.command in Xn)});if(Ae.length>0)throw new Error("Unimplemented: "+Ae.map(function(B){return B.command}).join(", ")+".");return he.forEach(function(B){"setTransition"!==B.command&&K[B.command].apply(K,B.args)}),this.stylesheet=V,!0},H.prototype.addImage=function(V,K){if(this.getImage(V))return this.fire(new l.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(V,K),this._availableImages=this.imageManager.listImages(),this._changedImages[V]=!0,this._changed=!0,this.fire(new l.Event("data",{dataType:"style"}))},H.prototype.updateImage=function(V,K){this.imageManager.updateImage(V,K)},H.prototype.getImage=function(V){return this.imageManager.getImage(V)},H.prototype.removeImage=function(V){if(!this.getImage(V))return this.fire(new l.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(V),this._availableImages=this.imageManager.listImages(),this._changedImages[V]=!0,this._changed=!0,this.fire(new l.Event("data",{dataType:"style"}))},H.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},H.prototype.addSource=function(V,K,he){var Ae=this;if(void 0===he&&(he={}),this._checkLoaded(),void 0!==this.sourceCaches[V])throw new Error("There is already a source with this ID");if(!K.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(K).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(K.type)>=0&&this._validate(l.validateStyle.source,"sources."+V,K,null,he))){this.map&&this.map._collectResourceTiming&&(K.collectResourceTiming=!0);var B=this.sourceCaches[V]=new rt(V,K,this.dispatcher);B.style=this,B.setEventedParent(this,function(){return{isSourceLoaded:Ae.loaded(),source:B.serialize(),sourceId:V}}),B.onAdd(this.map),this._changed=!0}},H.prototype.removeSource=function(V){if(this._checkLoaded(),void 0===this.sourceCaches[V])throw new Error("There is no source with this ID");for(var K in this._layers)if(this._layers[K].source===V)return this.fire(new l.ErrorEvent(new Error('Source "'+V+'" cannot be removed while layer "'+K+'" is using it.')));var he=this.sourceCaches[V];delete this.sourceCaches[V],delete this._updatedSources[V],he.fire(new l.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:V})),he.setEventedParent(null),he.clearTiles(),he.onRemove&&he.onRemove(this.map),this._changed=!0},H.prototype.setGeoJSONSourceData=function(V,K){this._checkLoaded(),this.sourceCaches[V].getSource().setData(K),this._changed=!0},H.prototype.getSource=function(V){return this.sourceCaches[V]&&this.sourceCaches[V].getSource()},H.prototype.addLayer=function(V,K,he){void 0===he&&(he={}),this._checkLoaded();var Ae=V.id;if(this.getLayer(Ae))this.fire(new l.ErrorEvent(new Error('Layer with id "'+Ae+'" already exists on this map')));else{var B;if("custom"===V.type){if(Fn(this,l.validateCustomStyleLayer(V)))return;B=l.createStyleLayer(V)}else{if("object"==typeof V.source&&(this.addSource(Ae,V.source),V=l.clone$1(V),V=l.extend(V,{source:Ae})),this._validate(l.validateStyle.layer,"layers."+Ae,V,{arrayIndex:-1},he))return;B=l.createStyleLayer(V),this._validateLayer(B),B.setEventedParent(this,{layer:{id:Ae}}),this._serializedLayers[B.id]=B.serialize()}var Q=K?this._order.indexOf(K):this._order.length;if(K&&-1===Q)this.fire(new l.ErrorEvent(new Error('Layer with id "'+K+'" does not exist on this map.')));else{if(this._order.splice(Q,0,Ae),this._layerOrderChanged=!0,this._layers[Ae]=B,this._removedLayers[Ae]&&B.source&&"custom"!==B.type){var ie=this._removedLayers[Ae];delete this._removedLayers[Ae],ie.type!==B.type?this._updatedSources[B.source]="clear":(this._updatedSources[B.source]="reload",this.sourceCaches[B.source].pause())}this._updateLayer(B),B.onAdd&&B.onAdd(this.map)}}},H.prototype.moveLayer=function(V,K){if(this._checkLoaded(),this._changed=!0,this._layers[V]){if(V!==K){var he=this._order.indexOf(V);this._order.splice(he,1);var Ae=K?this._order.indexOf(K):this._order.length;K&&-1===Ae?this.fire(new l.ErrorEvent(new Error('Layer with id "'+K+'" does not exist on this map.'))):(this._order.splice(Ae,0,V),this._layerOrderChanged=!0)}}else this.fire(new l.ErrorEvent(new Error("The layer '"+V+"' does not exist in the map's style and cannot be moved.")))},H.prototype.removeLayer=function(V){this._checkLoaded();var K=this._layers[V];if(K){K.setEventedParent(null);var he=this._order.indexOf(V);this._order.splice(he,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[V]=K,delete this._layers[V],delete this._serializedLayers[V],delete this._updatedLayers[V],delete this._updatedPaintProps[V],K.onRemove&&K.onRemove(this.map)}else this.fire(new l.ErrorEvent(new Error("The layer '"+V+"' does not exist in the map's style and cannot be removed.")))},H.prototype.getLayer=function(V){return this._layers[V]},H.prototype.hasLayer=function(V){return V in this._layers},H.prototype.setLayerZoomRange=function(V,K,he){this._checkLoaded();var Ae=this.getLayer(V);Ae?Ae.minzoom===K&&Ae.maxzoom===he||(null!=K&&(Ae.minzoom=K),null!=he&&(Ae.maxzoom=he),this._updateLayer(Ae)):this.fire(new l.ErrorEvent(new Error("The layer '"+V+"' does not exist in the map's style and cannot have zoom extent.")))},H.prototype.setFilter=function(V,K,he){void 0===he&&(he={}),this._checkLoaded();var Ae=this.getLayer(V);if(Ae){if(!l.deepEqual(Ae.filter,K))return null==K?(Ae.filter=void 0,void this._updateLayer(Ae)):void(this._validate(l.validateStyle.filter,"layers."+Ae.id+".filter",K,null,he)||(Ae.filter=l.clone$1(K),this._updateLayer(Ae)))}else this.fire(new l.ErrorEvent(new Error("The layer '"+V+"' does not exist in the map's style and cannot be filtered.")))},H.prototype.getFilter=function(V){return l.clone$1(this.getLayer(V).filter)},H.prototype.setLayoutProperty=function(V,K,he,Ae){void 0===Ae&&(Ae={}),this._checkLoaded();var B=this.getLayer(V);B?l.deepEqual(B.getLayoutProperty(K),he)||(B.setLayoutProperty(K,he,Ae),this._updateLayer(B)):this.fire(new l.ErrorEvent(new Error("The layer '"+V+"' does not exist in the map's style and cannot be styled.")))},H.prototype.getLayoutProperty=function(V,K){var he=this.getLayer(V);if(he)return he.getLayoutProperty(K);this.fire(new l.ErrorEvent(new Error("The layer '"+V+"' does not exist in the map's style.")))},H.prototype.setPaintProperty=function(V,K,he,Ae){void 0===Ae&&(Ae={}),this._checkLoaded();var B=this.getLayer(V);B?l.deepEqual(B.getPaintProperty(K),he)||(B.setPaintProperty(K,he,Ae)&&this._updateLayer(B),this._changed=!0,this._updatedPaintProps[V]=!0):this.fire(new l.ErrorEvent(new Error("The layer '"+V+"' does not exist in the map's style and cannot be styled.")))},H.prototype.getPaintProperty=function(V,K){return this.getLayer(V).getPaintProperty(K)},H.prototype.setFeatureState=function(V,K){this._checkLoaded();var he=V.source,Ae=V.sourceLayer,B=this.sourceCaches[he];if(void 0!==B){var Q=B.getSource().type;"geojson"===Q&&Ae?this.fire(new l.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==Q||Ae?(void 0===V.id&&this.fire(new l.ErrorEvent(new Error("The feature id parameter must be provided."))),B.setFeatureState(Ae,V.id,K)):this.fire(new l.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new l.ErrorEvent(new Error("The source '"+he+"' does not exist in the map's style.")))},H.prototype.removeFeatureState=function(V,K){this._checkLoaded();var he=V.source,Ae=this.sourceCaches[he];if(void 0!==Ae){var B=Ae.getSource().type,Q="vector"===B?V.sourceLayer:void 0;"vector"!==B||Q?K&&"string"!=typeof V.id&&"number"!=typeof V.id?this.fire(new l.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):Ae.removeFeatureState(Q,V.id,K):this.fire(new l.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new l.ErrorEvent(new Error("The source '"+he+"' does not exist in the map's style.")))},H.prototype.getFeatureState=function(V){this._checkLoaded();var K=V.source,he=V.sourceLayer,Ae=this.sourceCaches[K];if(void 0!==Ae){if("vector"!==Ae.getSource().type||he)return void 0===V.id&&this.fire(new l.ErrorEvent(new Error("The feature id parameter must be provided."))),Ae.getFeatureState(he,V.id);this.fire(new l.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new l.ErrorEvent(new Error("The source '"+K+"' does not exist in the map's style.")))},H.prototype.getTransition=function(){return l.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},H.prototype.serialize=function(){return l.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:l.mapObject(this.sourceCaches,function(V){return V.serialize()}),layers:this._serializeLayers(this._order)},function(V){return void 0!==V})},H.prototype._updateLayer=function(V){this._updatedLayers[V.id]=!0,V.source&&!this._updatedSources[V.source]&&"raster"!==this.sourceCaches[V.source].getSource().type&&(this._updatedSources[V.source]="reload",this.sourceCaches[V.source].pause()),this._changed=!0},H.prototype._flattenAndSortRenderedFeatures=function(V){for(var K=this,he=function(Ht){return"fill-extrusion"===K._layers[Ht].type},Ae={},B=[],Q=this._order.length-1;Q>=0;Q--){var ie=this._order[Q];if(he(ie)){Ae[ie]=Q;for(var de=0,ye=V;de<ye.length;de+=1){var Le=ye[de][ie];if(Le)for(var Ne=0,Ve=Le;Ne<Ve.length;Ne+=1)B.push(Ve[Ne])}}}B.sort(function(Ht,pn){return pn.intersectionZ-Ht.intersectionZ});for(var Ye=[],$e=this._order.length-1;$e>=0;$e--){var lt=this._order[$e];if(he(lt))for(var ht=B.length-1;ht>=0;ht--){var Et=B[ht].feature;if(Ae[Et.layer.id]<$e)break;Ye.push(Et),B.pop()}else for(var Ct=0,St=V;Ct<St.length;Ct+=1){var zt=St[Ct][lt];if(zt)for(var Lt=0,en=zt;Lt<en.length;Lt+=1)Ye.push(en[Lt].feature)}}return Ye},H.prototype.queryRenderedFeatures=function(V,K,he){K&&K.filter&&this._validate(l.validateStyle.filter,"queryRenderedFeatures.filter",K.filter,null,K);var Ae={};if(K&&K.layers){if(!Array.isArray(K.layers))return this.fire(new l.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var B=0,Q=K.layers;B<Q.length;B+=1){var ie=Q[B],de=this._layers[ie];if(!de)return this.fire(new l.ErrorEvent(new Error("The layer '"+ie+"' does not exist in the map's style and cannot be queried for features."))),[];Ae[de.source]=!0}}var ye=[];for(var Le in K.availableImages=this._availableImages,this.sourceCaches)K.layers&&!Ae[Le]||ye.push(X(this.sourceCaches[Le],this._layers,this._serializedLayers,V,K,he));return this.placement&&ye.push(function(Ne,Ve,Ge,Ye,$e,lt,ht){for(var Et={},Ct=lt.queryRenderedSymbols(Ye),St=[],zt=0,Lt=Object.keys(Ct).map(Number);zt<Lt.length;zt+=1)St.push(ht[Lt[zt]]);St.sort(Y);for(var Zt=function(){var zn=pn[Ht],Un=zn.featureIndex.lookupSymbolFeatures(Ct[zn.bucketInstanceId],Ve,zn.bucketIndex,zn.sourceLayerIndex,$e.filter,$e.layers,$e.availableImages,Ne);for(var Yn in Un){var or=Et[Yn]=Et[Yn]||[],ar=Un[Yn];ar.sort(function(Bn,rr){var fr=zn.featureSortOrder;if(fr){var xr=fr.indexOf(Bn.featureIndex);return fr.indexOf(rr.featureIndex)-xr}return rr.featureIndex-Bn.featureIndex});for(var cr=0,yr=ar;cr<yr.length;cr+=1)or.push(yr[cr])}},Ht=0,pn=St;Ht<pn.length;Ht+=1)Zt();var vn=function(zn){Et[zn].forEach(function(Un){var Yn=Un.feature,ar=Ge[Ne[zn].source].getFeatureState(Yn.layer["source-layer"],Yn.id);Yn.source=Yn.layer.source,Yn.layer["source-layer"]&&(Yn.sourceLayer=Yn.layer["source-layer"]),Yn.state=ar})};for(var Rn in Et)vn(Rn);return Et}(this._layers,this._serializedLayers,this.sourceCaches,V,K,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ye)},H.prototype.querySourceFeatures=function(V,K){K&&K.filter&&this._validate(l.validateStyle.filter,"querySourceFeatures.filter",K.filter,null,K);var he=this.sourceCaches[V];return he?function(Ae,B){for(var Q=Ae.getRenderableIds().map(function(Ve){return Ae.getTileByID(Ve)}),ie=[],de={},ye=0;ye<Q.length;ye++){var Le=Q[ye],Ne=Le.tileID.canonical.key;de[Ne]||(de[Ne]=!0,Le.querySourceFeatures(ie,B))}return ie}(he,K):[]},H.prototype.addSourceType=function(V,K,he){return H.getSourceType(V)?he(new Error('A source type called "'+V+'" already exists.')):(H.setSourceType(V,K),K.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:V,url:K.workerSourceURL},he):he(null,null))},H.prototype.getLight=function(){return this.light.getLight()},H.prototype.setLight=function(V,K){void 0===K&&(K={}),this._checkLoaded();var he=this.light.getLight(),Ae=!1;for(var B in V)if(!l.deepEqual(V[B],he[B])){Ae=!0;break}if(Ae){var Q={now:l.browser.now(),transition:l.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(V,K),this.light.updateTransitions(Q)}},H.prototype._validate=function(V,K,he,Ae,B){return void 0===B&&(B={}),(!B||!1!==B.validate)&&Fn(this,V.call(l.validateStyle,l.extend({key:K,style:this.serialize(),value:he,styleSpec:l.styleSpec},Ae)))},H.prototype._remove=function(){for(var V in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),l.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[V].setEventedParent(null);for(var K in this.sourceCaches)this.sourceCaches[K].clearTiles(),this.sourceCaches[K].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},H.prototype._clearSource=function(V){this.sourceCaches[V].clearTiles()},H.prototype._reloadSource=function(V){this.sourceCaches[V].resume(),this.sourceCaches[V].reload()},H.prototype._updateSources=function(V){for(var K in this.sourceCaches)this.sourceCaches[K].update(V)},H.prototype._generateCollisionBoxes=function(){for(var V in this.sourceCaches)this._reloadSource(V)},H.prototype._updatePlacement=function(V,K,he,Ae,B){void 0===B&&(B=!1);for(var Q=!1,ie=!1,de={},ye=0,Le=this._order;ye<Le.length;ye+=1){var Ve=this._layers[Le[ye]];if("symbol"===Ve.type){if(!de[Ve.source]){var Ge=this.sourceCaches[Ve.source];de[Ve.source]=Ge.getRenderableIds(!0).map(function(Ct){return Ge.getTileByID(Ct)}).sort(function(Ct,St){return St.tileID.overscaledZ-Ct.tileID.overscaledZ||(Ct.tileID.isLessThan(St.tileID)?-1:1)})}var Ye=this.crossTileSymbolIndex.addLayer(Ve,de[Ve.source],V.center.lng);Q=Q||Ye}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((B=B||this._layerOrderChanged||0===he)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(l.browser.now(),V.zoom))&&(this.pauseablePlacement=new Jt(V,this._order,B,K,he,Ae,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,de),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(l.browser.now()),ie=!0),Q&&this.pauseablePlacement.placement.setStale()),ie||Q)for(var $e=0,lt=this._order;$e<lt.length;$e+=1){var Et=this._layers[lt[$e]];"symbol"===Et.type&&this.placement.updateLayerOpacities(Et,de[Et.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(l.browser.now())},H.prototype._releaseSymbolFadeTiles=function(){for(var V in this.sourceCaches)this.sourceCaches[V].releaseSymbolFadeTiles()},H.prototype.getImages=function(V,K,he){this.imageManager.getImages(K.icons,he),this._updateTilesForChangedImages();var Ae=this.sourceCaches[K.source];Ae&&Ae.setDependencies(K.tileID.key,K.type,K.icons)},H.prototype.getGlyphs=function(V,K,he){this.glyphManager.getGlyphs(K.stacks,he)},H.prototype.getResource=function(V,K,he){return l.makeRequest(K,he)},H}(l.Evented);er.getSourceType=function(z){return te[z]},er.setSourceType=function(z,H){te[z]=H},er.registerForPluginStateChange=l.registerForPluginStateChange;var tr=l.createLayout([{name:"a_pos",type:"Int16",components:2}]),lr=Gr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),ur=Gr("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),_r=Gr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Zn=Gr("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),pr=Gr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Lr=Gr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Yr=Gr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),si=Gr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),ii=Gr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),hi=Gr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Qr=Gr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),wi=Gr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),qa=Gr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),da=Gr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),no=Gr("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Gs=Gr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Bo=Gr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),gs=Gr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),qs=Gr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Za=Gr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),il=Gr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),No=Gr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),jo=Gr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Ya=Gr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),Li=Gr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),vs=Gr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function Gr(z,H){var V=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,K={};return{fragmentSource:z=z.replace(V,function(he,Ae,B,Q,ie){return K[ie]=!0,"define"===Ae?"\n#ifndef HAS_UNIFORM_u_"+ie+"\nvarying "+B+" "+Q+" "+ie+";\n#else\nuniform "+B+" "+Q+" u_"+ie+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+ie+"\n    "+B+" "+Q+" "+ie+" = u_"+ie+";\n#endif\n"}),vertexSource:H=H.replace(V,function(he,Ae,B,Q,ie){var de="float"===Q?"vec2":"vec4",ye=ie.match(/color/)?"color":de;return K[ie]?"define"===Ae?"\n#ifndef HAS_UNIFORM_u_"+ie+"\nuniform lowp float u_"+ie+"_t;\nattribute "+B+" "+de+" a_"+ie+";\nvarying "+B+" "+Q+" "+ie+";\n#else\nuniform "+B+" "+Q+" u_"+ie+";\n#endif\n":"vec4"===ye?"\n#ifndef HAS_UNIFORM_u_"+ie+"\n    "+ie+" = a_"+ie+";\n#else\n    "+B+" "+Q+" "+ie+" = u_"+ie+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+ie+"\n    "+ie+" = unpack_mix_"+ye+"(a_"+ie+", u_"+ie+"_t);\n#else\n    "+B+" "+Q+" "+ie+" = u_"+ie+";\n#endif\n":"define"===Ae?"\n#ifndef HAS_UNIFORM_u_"+ie+"\nuniform lowp float u_"+ie+"_t;\nattribute "+B+" "+de+" a_"+ie+";\n#else\nuniform "+B+" "+Q+" u_"+ie+";\n#endif\n":"vec4"===ye?"\n#ifndef HAS_UNIFORM_u_"+ie+"\n    "+B+" "+Q+" "+ie+" = a_"+ie+";\n#else\n    "+B+" "+Q+" "+ie+" = u_"+ie+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+ie+"\n    "+B+" "+Q+" "+ie+" = unpack_mix_"+ye+"(a_"+ie+", u_"+ie+"_t);\n#else\n    "+B+" "+Q+" "+ie+" = u_"+ie+";\n#endif\n"})}}var Wa=Object.freeze({__proto__:null,prelude:lr,background:ur,backgroundPattern:_r,circle:Zn,clippingMask:pr,heatmap:Lr,heatmapTexture:Yr,collisionBox:si,collisionCircle:ii,debug:hi,fill:Qr,fillOutline:wi,fillOutlinePattern:qa,fillPattern:da,fillExtrusion:no,fillExtrusionPattern:Gs,hillshadePrepare:Bo,hillshade:gs,line:qs,lineGradient:Za,linePattern:il,lineSDF:No,raster:jo,symbolIcon:Ya,symbolSDF:Li,symbolTextAndIcon:vs}),wa=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};wa.prototype.bind=function(z,H,V,K,he,Ae,B,Q){this.context=z;for(var ie=this.boundPaintVertexBuffers.length!==K.length,de=0;!ie&&de<K.length;de++)this.boundPaintVertexBuffers[de]!==K[de]&&(ie=!0);z.extVertexArrayObject&&this.vao&&this.boundProgram===H&&this.boundLayoutVertexBuffer===V&&!ie&&this.boundIndexBuffer===he&&this.boundVertexOffset===Ae&&this.boundDynamicVertexBuffer===B&&this.boundDynamicVertexBuffer2===Q?(z.bindVertexArrayOES.set(this.vao),B&&B.bind(),he&&he.dynamicDraw&&he.bind(),Q&&Q.bind()):this.freshBind(H,V,K,he,Ae,B,Q)},wa.prototype.freshBind=function(z,H,V,K,he,Ae,B){var Q,ie=z.numAttributes,de=this.context,ye=de.gl;if(de.extVertexArrayObject)this.vao&&this.destroy(),this.vao=de.extVertexArrayObject.createVertexArrayOES(),de.bindVertexArrayOES.set(this.vao),Q=0,this.boundProgram=z,this.boundLayoutVertexBuffer=H,this.boundPaintVertexBuffers=V,this.boundIndexBuffer=K,this.boundVertexOffset=he,this.boundDynamicVertexBuffer=Ae,this.boundDynamicVertexBuffer2=B;else{Q=de.currentNumAttributes||0;for(var Le=ie;Le<Q;Le++)ye.disableVertexAttribArray(Le)}H.enableAttributes(ye,z);for(var Ne=0,Ve=V;Ne<Ve.length;Ne+=1)Ve[Ne].enableAttributes(ye,z);Ae&&Ae.enableAttributes(ye,z),B&&B.enableAttributes(ye,z),H.bind(),H.setVertexAttribPointers(ye,z,he);for(var Ge=0,Ye=V;Ge<Ye.length;Ge+=1){var $e=Ye[Ge];$e.bind(),$e.setVertexAttribPointers(ye,z,he)}Ae&&(Ae.bind(),Ae.setVertexAttribPointers(ye,z,he)),K&&K.bind(),B&&(B.bind(),B.setVertexAttribPointers(ye,z,he)),de.currentNumAttributes=ie},wa.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var ro=function(z,H,V,K,he){var Ae=z.gl;this.program=Ae.createProgram();var B=V?V.defines():[];he&&B.push("#define OVERDRAW_INSPECTOR;");var Q=B.concat(lr.fragmentSource,H.fragmentSource).join("\n"),ie=B.concat(lr.vertexSource,H.vertexSource).join("\n"),de=Ae.createShader(Ae.FRAGMENT_SHADER);if(Ae.isContextLost())this.failedToCreate=!0;else{Ae.shaderSource(de,Q),Ae.compileShader(de),Ae.attachShader(this.program,de);var ye=Ae.createShader(Ae.VERTEX_SHADER);if(Ae.isContextLost())this.failedToCreate=!0;else{Ae.shaderSource(ye,ie),Ae.compileShader(ye),Ae.attachShader(this.program,ye);for(var Le=V?V.layoutAttributes:[],Ne=0;Ne<Le.length;Ne++)Ae.bindAttribLocation(this.program,Ne,Le[Ne].name);Ae.linkProgram(this.program),Ae.deleteShader(ye),Ae.deleteShader(de),this.numAttributes=Ae.getProgramParameter(this.program,Ae.ACTIVE_ATTRIBUTES),this.attributes={};for(var Ve={},Ge=0;Ge<this.numAttributes;Ge++){var Ye=Ae.getActiveAttrib(this.program,Ge);Ye&&(this.attributes[Ye.name]=Ae.getAttribLocation(this.program,Ye.name))}for(var $e=Ae.getProgramParameter(this.program,Ae.ACTIVE_UNIFORMS),lt=0;lt<$e;lt++){var ht=Ae.getActiveUniform(this.program,lt);ht&&(Ve[ht.name]=Ae.getUniformLocation(this.program,ht.name))}this.fixedUniforms=K(z,Ve),this.binderUniforms=V?V.getUniforms(z,Ve):[]}}};function Ra(z,H,V){var K=1/qn(V,1,H.transform.tileZoom),he=Math.pow(2,V.tileID.overscaledZ),Ae=V.tileSize*Math.pow(2,H.transform.tileZoom)/he,B=Ae*(V.tileID.canonical.x+V.tileID.wrap*he),Q=Ae*V.tileID.canonical.y;return{u_image:0,u_texsize:V.imageAtlasTexture.size,u_scale:[K,z.fromScale,z.toScale],u_fade:z.t,u_pixel_coord_upper:[B>>16,Q>>16],u_pixel_coord_lower:[65535&B,65535&Q]}}ro.prototype.draw=function(z,H,V,K,he,Ae,B,Q,ie,de,ye,Le,Ne,Ve,Ge,Ye){var $e,lt=z.gl;if(!this.failedToCreate){for(var ht in z.program.set(this.program),z.setDepthMode(V),z.setStencilMode(K),z.setColorMode(he),z.setCullFace(Ae),this.fixedUniforms)this.fixedUniforms[ht].set(B[ht]);Ve&&Ve.setUniforms(z,this.binderUniforms,Le,{zoom:Ne});for(var Et=($e={},$e[lt.LINES]=2,$e[lt.TRIANGLES]=3,$e[lt.LINE_STRIP]=1,$e)[H],Ct=0,St=ye.get();Ct<St.length;Ct+=1){var zt=St[Ct],Lt=zt.vaos||(zt.vaos={});(Lt[Q]||(Lt[Q]=new wa)).bind(z,this,ie,Ve?Ve.getPaintVertexBuffers():[],de,zt.vertexOffset,Ge,Ye),lt.drawElements(H,zt.primitiveLength*Et,lt.UNSIGNED_SHORT,zt.primitiveOffset*Et*2)}}};var xo=function(z,H,V,K){var he=H.style.light,Ae=he.properties.get("position"),B=[Ae.x,Ae.y,Ae.z],Q=l.create$1();"viewport"===he.properties.get("anchor")&&l.fromRotation(Q,-H.transform.angle),l.transformMat3(B,B,Q);var ie=he.properties.get("color");return{u_matrix:z,u_lightpos:B,u_lightintensity:he.properties.get("intensity"),u_lightcolor:[ie.r,ie.g,ie.b],u_vertical_gradient:+V,u_opacity:K}},io=function(z,H,V,K,he,Ae,B){return l.extend(xo(z,H,V,K),Ra(Ae,H,B),{u_height_factor:-Math.pow(2,he.overscaledZ)/B.tileSize/8})},ao=function(z){return{u_matrix:z}},Os=function(z,H,V,K){return l.extend(ao(z),Ra(V,H,K))},al=function(z,H){return{u_matrix:z,u_world:H}},bo=function(z,H,V,K,he){return l.extend(Os(z,H,V,K),{u_world:he})},ol=function(z,H,V,K){var he,Ae,B=z.transform;if("map"===K.paint.get("circle-pitch-alignment")){var Q=qn(V,1,B.zoom);he=!0,Ae=[Q,Q]}else he=!1,Ae=B.pixelsToGLUnits;return{u_camera_to_center_distance:B.cameraToCenterDistance,u_scale_with_map:+("map"===K.paint.get("circle-pitch-scale")),u_matrix:z.translatePosMatrix(H.posMatrix,V,K.paint.get("circle-translate"),K.paint.get("circle-translate-anchor")),u_pitch_with_map:+he,u_device_pixel_ratio:l.browser.devicePixelRatio,u_extrude_scale:Ae}},Zs=function(z,H,V){var K=qn(V,1,H.zoom),he=Math.pow(2,H.zoom-V.tileID.overscaledZ),Ae=V.tileID.overscaleFactor();return{u_matrix:z,u_camera_to_center_distance:H.cameraToCenterDistance,u_pixels_to_tile_units:K,u_extrude_scale:[H.pixelsToGLUnits[0]/(K*he),H.pixelsToGLUnits[1]/(K*he)],u_overscale_factor:Ae}},sl=function(z,H,V){return{u_matrix:z,u_inv_matrix:H,u_camera_to_center_distance:V.cameraToCenterDistance,u_viewport_size:[V.width,V.height]}},Ys=function(z,H,V){return void 0===V&&(V=1),{u_matrix:z,u_color:H,u_overlay:0,u_overlay_scale:V}},ll=function(z){return{u_matrix:z}},rs=function(z,H,V,K){return{u_matrix:z,u_extrude_scale:qn(H,1,V),u_intensity:K}},Is=function(z,H,V){var K=z.transform;return{u_matrix:Xa(z,H,V),u_ratio:1/qn(H,1,K.zoom),u_device_pixel_ratio:l.browser.devicePixelRatio,u_units_to_pixels:[1/K.pixelsToGLUnits[0],1/K.pixelsToGLUnits[1]]}},Ws=function(z,H,V){return l.extend(Is(z,H,V),{u_image:0})},Xs=function(z,H,V,K){var he=z.transform,Ae=Vo(H,he);return{u_matrix:Xa(z,H,V),u_texsize:H.imageAtlasTexture.size,u_ratio:1/qn(H,1,he.zoom),u_device_pixel_ratio:l.browser.devicePixelRatio,u_image:0,u_scale:[Ae,K.fromScale,K.toScale],u_fade:K.t,u_units_to_pixels:[1/he.pixelsToGLUnits[0],1/he.pixelsToGLUnits[1]]}},Sa=function(z,H,V,K,he){var B=z.lineAtlas,Q=Vo(H,z.transform),ie="round"===V.layout.get("line-cap"),de=B.getDash(K.from,ie),ye=B.getDash(K.to,ie),Le=de.width*he.fromScale,Ne=ye.width*he.toScale;return l.extend(Is(z,H,V),{u_patternscale_a:[Q/Le,-de.height/2],u_patternscale_b:[Q/Ne,-ye.height/2],u_sdfgamma:B.width/(256*Math.min(Le,Ne)*l.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:de.y,u_tex_y_b:ye.y,u_mix:he.t})};function Vo(z,H){return 1/qn(z,1,H.tileZoom)}function Xa(z,H,V){return z.translatePosMatrix(H.tileID.posMatrix,H,V.paint.get("line-translate"),V.paint.get("line-translate-anchor"))}var oo=function(z,H,V,K,he){return{u_matrix:z,u_tl_parent:H,u_scale_parent:V,u_buffer_scale:1,u_fade_t:K.mix,u_opacity:K.opacity*he.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:he.paint.get("raster-brightness-min"),u_brightness_high:he.paint.get("raster-brightness-max"),u_saturation_factor:(B=he.paint.get("raster-saturation"),B>0?1-1/(1.001-B):-B),u_contrast_factor:(Ae=he.paint.get("raster-contrast"),Ae>0?1/(1-Ae):1+Ae),u_spin_weights:ul(he.paint.get("raster-hue-rotate"))};var Ae,B};function ul(z){z*=Math.PI/180;var H=Math.sin(z),V=Math.cos(z);return[(2*V+1)/3,(-Math.sqrt(3)*H-V+1)/3,(Math.sqrt(3)*H-V+1)/3]}var wo,ei=function(z,H,V,K,he,Ae,B,Q,ie,de){var ye=he.transform;return{u_is_size_zoom_constant:+("constant"===z||"source"===z),u_is_size_feature_constant:+("constant"===z||"camera"===z),u_size_t:H?H.uSizeT:0,u_size:H?H.uSize:0,u_camera_to_center_distance:ye.cameraToCenterDistance,u_pitch:ye.pitch/360*2*Math.PI,u_rotate_symbol:+V,u_aspect_ratio:ye.width/ye.height,u_fade_change:he.options.fadeDuration?he.symbolFadeChange:1,u_matrix:Ae,u_label_plane_matrix:B,u_coord_matrix:Q,u_is_text:+ie,u_pitch_with_map:+K,u_texsize:de,u_texture:0}},za=function(z,H,V,K,he,Ae,B,Q,ie,de,ye){var Le=he.transform;return l.extend(ei(z,H,V,K,he,Ae,B,Q,ie,de),{u_gamma_scale:K?Math.cos(Le._pitch)*Le.cameraToCenterDistance:1,u_device_pixel_ratio:l.browser.devicePixelRatio,u_is_halo:+ye})},ms=function(z,H,V,K,he,Ae,B,Q,ie,de){return l.extend(za(z,H,V,K,he,Ae,B,Q,!0,ie,!0),{u_texsize_icon:de,u_texture_icon:1})},Ea=function(z,H,V){return{u_matrix:z,u_opacity:H,u_color:V}},Ho=function(z,H,V,K,he,Ae){return l.extend((Q=Ae,de=he,ye=(ie=V).imageManager.getPattern((B=K).from.toString()),Le=ie.imageManager.getPattern(B.to.toString()),Ve=(Ne=ie.imageManager.getPixelSize()).width,Ge=Ne.height,Ye=Math.pow(2,de.tileID.overscaledZ),lt=($e=de.tileSize*Math.pow(2,ie.transform.tileZoom)/Ye)*(de.tileID.canonical.x+de.tileID.wrap*Ye),ht=$e*de.tileID.canonical.y,{u_image:0,u_pattern_tl_a:ye.tl,u_pattern_br_a:ye.br,u_pattern_tl_b:Le.tl,u_pattern_br_b:Le.br,u_texsize:[Ve,Ge],u_mix:Q.t,u_pattern_size_a:ye.displaySize,u_pattern_size_b:Le.displaySize,u_scale_a:Q.fromScale,u_scale_b:Q.toScale,u_tile_units_to_pixels:1/qn(de,1,ie.transform.tileZoom),u_pixel_coord_upper:[lt>>16,ht>>16],u_pixel_coord_lower:[65535&lt,65535&ht]}),{u_matrix:z,u_opacity:H});var B,Q,ie,de,ye,Le,Ne,Ve,Ge,Ye,$e,lt,ht},bl={fillExtrusion:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_lightpos:new l.Uniform3f(z,H.u_lightpos),u_lightintensity:new l.Uniform1f(z,H.u_lightintensity),u_lightcolor:new l.Uniform3f(z,H.u_lightcolor),u_vertical_gradient:new l.Uniform1f(z,H.u_vertical_gradient),u_opacity:new l.Uniform1f(z,H.u_opacity)}},fillExtrusionPattern:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_lightpos:new l.Uniform3f(z,H.u_lightpos),u_lightintensity:new l.Uniform1f(z,H.u_lightintensity),u_lightcolor:new l.Uniform3f(z,H.u_lightcolor),u_vertical_gradient:new l.Uniform1f(z,H.u_vertical_gradient),u_height_factor:new l.Uniform1f(z,H.u_height_factor),u_image:new l.Uniform1i(z,H.u_image),u_texsize:new l.Uniform2f(z,H.u_texsize),u_pixel_coord_upper:new l.Uniform2f(z,H.u_pixel_coord_upper),u_pixel_coord_lower:new l.Uniform2f(z,H.u_pixel_coord_lower),u_scale:new l.Uniform3f(z,H.u_scale),u_fade:new l.Uniform1f(z,H.u_fade),u_opacity:new l.Uniform1f(z,H.u_opacity)}},fill:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix)}},fillPattern:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_image:new l.Uniform1i(z,H.u_image),u_texsize:new l.Uniform2f(z,H.u_texsize),u_pixel_coord_upper:new l.Uniform2f(z,H.u_pixel_coord_upper),u_pixel_coord_lower:new l.Uniform2f(z,H.u_pixel_coord_lower),u_scale:new l.Uniform3f(z,H.u_scale),u_fade:new l.Uniform1f(z,H.u_fade)}},fillOutline:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_world:new l.Uniform2f(z,H.u_world)}},fillOutlinePattern:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_world:new l.Uniform2f(z,H.u_world),u_image:new l.Uniform1i(z,H.u_image),u_texsize:new l.Uniform2f(z,H.u_texsize),u_pixel_coord_upper:new l.Uniform2f(z,H.u_pixel_coord_upper),u_pixel_coord_lower:new l.Uniform2f(z,H.u_pixel_coord_lower),u_scale:new l.Uniform3f(z,H.u_scale),u_fade:new l.Uniform1f(z,H.u_fade)}},circle:function(z,H){return{u_camera_to_center_distance:new l.Uniform1f(z,H.u_camera_to_center_distance),u_scale_with_map:new l.Uniform1i(z,H.u_scale_with_map),u_pitch_with_map:new l.Uniform1i(z,H.u_pitch_with_map),u_extrude_scale:new l.Uniform2f(z,H.u_extrude_scale),u_device_pixel_ratio:new l.Uniform1f(z,H.u_device_pixel_ratio),u_matrix:new l.UniformMatrix4f(z,H.u_matrix)}},collisionBox:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_camera_to_center_distance:new l.Uniform1f(z,H.u_camera_to_center_distance),u_pixels_to_tile_units:new l.Uniform1f(z,H.u_pixels_to_tile_units),u_extrude_scale:new l.Uniform2f(z,H.u_extrude_scale),u_overscale_factor:new l.Uniform1f(z,H.u_overscale_factor)}},collisionCircle:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_inv_matrix:new l.UniformMatrix4f(z,H.u_inv_matrix),u_camera_to_center_distance:new l.Uniform1f(z,H.u_camera_to_center_distance),u_viewport_size:new l.Uniform2f(z,H.u_viewport_size)}},debug:function(z,H){return{u_color:new l.UniformColor(z,H.u_color),u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_overlay:new l.Uniform1i(z,H.u_overlay),u_overlay_scale:new l.Uniform1f(z,H.u_overlay_scale)}},clippingMask:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix)}},heatmap:function(z,H){return{u_extrude_scale:new l.Uniform1f(z,H.u_extrude_scale),u_intensity:new l.Uniform1f(z,H.u_intensity),u_matrix:new l.UniformMatrix4f(z,H.u_matrix)}},heatmapTexture:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_world:new l.Uniform2f(z,H.u_world),u_image:new l.Uniform1i(z,H.u_image),u_color_ramp:new l.Uniform1i(z,H.u_color_ramp),u_opacity:new l.Uniform1f(z,H.u_opacity)}},hillshade:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_image:new l.Uniform1i(z,H.u_image),u_latrange:new l.Uniform2f(z,H.u_latrange),u_light:new l.Uniform2f(z,H.u_light),u_shadow:new l.UniformColor(z,H.u_shadow),u_highlight:new l.UniformColor(z,H.u_highlight),u_accent:new l.UniformColor(z,H.u_accent)}},hillshadePrepare:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_image:new l.Uniform1i(z,H.u_image),u_dimension:new l.Uniform2f(z,H.u_dimension),u_zoom:new l.Uniform1f(z,H.u_zoom),u_maxzoom:new l.Uniform1f(z,H.u_maxzoom),u_unpack:new l.Uniform4f(z,H.u_unpack)}},line:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_ratio:new l.Uniform1f(z,H.u_ratio),u_device_pixel_ratio:new l.Uniform1f(z,H.u_device_pixel_ratio),u_units_to_pixels:new l.Uniform2f(z,H.u_units_to_pixels)}},lineGradient:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_ratio:new l.Uniform1f(z,H.u_ratio),u_device_pixel_ratio:new l.Uniform1f(z,H.u_device_pixel_ratio),u_units_to_pixels:new l.Uniform2f(z,H.u_units_to_pixels),u_image:new l.Uniform1i(z,H.u_image)}},linePattern:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_texsize:new l.Uniform2f(z,H.u_texsize),u_ratio:new l.Uniform1f(z,H.u_ratio),u_device_pixel_ratio:new l.Uniform1f(z,H.u_device_pixel_ratio),u_image:new l.Uniform1i(z,H.u_image),u_units_to_pixels:new l.Uniform2f(z,H.u_units_to_pixels),u_scale:new l.Uniform3f(z,H.u_scale),u_fade:new l.Uniform1f(z,H.u_fade)}},lineSDF:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_ratio:new l.Uniform1f(z,H.u_ratio),u_device_pixel_ratio:new l.Uniform1f(z,H.u_device_pixel_ratio),u_units_to_pixels:new l.Uniform2f(z,H.u_units_to_pixels),u_patternscale_a:new l.Uniform2f(z,H.u_patternscale_a),u_patternscale_b:new l.Uniform2f(z,H.u_patternscale_b),u_sdfgamma:new l.Uniform1f(z,H.u_sdfgamma),u_image:new l.Uniform1i(z,H.u_image),u_tex_y_a:new l.Uniform1f(z,H.u_tex_y_a),u_tex_y_b:new l.Uniform1f(z,H.u_tex_y_b),u_mix:new l.Uniform1f(z,H.u_mix)}},raster:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_tl_parent:new l.Uniform2f(z,H.u_tl_parent),u_scale_parent:new l.Uniform1f(z,H.u_scale_parent),u_buffer_scale:new l.Uniform1f(z,H.u_buffer_scale),u_fade_t:new l.Uniform1f(z,H.u_fade_t),u_opacity:new l.Uniform1f(z,H.u_opacity),u_image0:new l.Uniform1i(z,H.u_image0),u_image1:new l.Uniform1i(z,H.u_image1),u_brightness_low:new l.Uniform1f(z,H.u_brightness_low),u_brightness_high:new l.Uniform1f(z,H.u_brightness_high),u_saturation_factor:new l.Uniform1f(z,H.u_saturation_factor),u_contrast_factor:new l.Uniform1f(z,H.u_contrast_factor),u_spin_weights:new l.Uniform3f(z,H.u_spin_weights)}},symbolIcon:function(z,H){return{u_is_size_zoom_constant:new l.Uniform1i(z,H.u_is_size_zoom_constant),u_is_size_feature_constant:new l.Uniform1i(z,H.u_is_size_feature_constant),u_size_t:new l.Uniform1f(z,H.u_size_t),u_size:new l.Uniform1f(z,H.u_size),u_camera_to_center_distance:new l.Uniform1f(z,H.u_camera_to_center_distance),u_pitch:new l.Uniform1f(z,H.u_pitch),u_rotate_symbol:new l.Uniform1i(z,H.u_rotate_symbol),u_aspect_ratio:new l.Uniform1f(z,H.u_aspect_ratio),u_fade_change:new l.Uniform1f(z,H.u_fade_change),u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_label_plane_matrix:new l.UniformMatrix4f(z,H.u_label_plane_matrix),u_coord_matrix:new l.UniformMatrix4f(z,H.u_coord_matrix),u_is_text:new l.Uniform1i(z,H.u_is_text),u_pitch_with_map:new l.Uniform1i(z,H.u_pitch_with_map),u_texsize:new l.Uniform2f(z,H.u_texsize),u_texture:new l.Uniform1i(z,H.u_texture)}},symbolSDF:function(z,H){return{u_is_size_zoom_constant:new l.Uniform1i(z,H.u_is_size_zoom_constant),u_is_size_feature_constant:new l.Uniform1i(z,H.u_is_size_feature_constant),u_size_t:new l.Uniform1f(z,H.u_size_t),u_size:new l.Uniform1f(z,H.u_size),u_camera_to_center_distance:new l.Uniform1f(z,H.u_camera_to_center_distance),u_pitch:new l.Uniform1f(z,H.u_pitch),u_rotate_symbol:new l.Uniform1i(z,H.u_rotate_symbol),u_aspect_ratio:new l.Uniform1f(z,H.u_aspect_ratio),u_fade_change:new l.Uniform1f(z,H.u_fade_change),u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_label_plane_matrix:new l.UniformMatrix4f(z,H.u_label_plane_matrix),u_coord_matrix:new l.UniformMatrix4f(z,H.u_coord_matrix),u_is_text:new l.Uniform1i(z,H.u_is_text),u_pitch_with_map:new l.Uniform1i(z,H.u_pitch_with_map),u_texsize:new l.Uniform2f(z,H.u_texsize),u_texture:new l.Uniform1i(z,H.u_texture),u_gamma_scale:new l.Uniform1f(z,H.u_gamma_scale),u_device_pixel_ratio:new l.Uniform1f(z,H.u_device_pixel_ratio),u_is_halo:new l.Uniform1i(z,H.u_is_halo)}},symbolTextAndIcon:function(z,H){return{u_is_size_zoom_constant:new l.Uniform1i(z,H.u_is_size_zoom_constant),u_is_size_feature_constant:new l.Uniform1i(z,H.u_is_size_feature_constant),u_size_t:new l.Uniform1f(z,H.u_size_t),u_size:new l.Uniform1f(z,H.u_size),u_camera_to_center_distance:new l.Uniform1f(z,H.u_camera_to_center_distance),u_pitch:new l.Uniform1f(z,H.u_pitch),u_rotate_symbol:new l.Uniform1i(z,H.u_rotate_symbol),u_aspect_ratio:new l.Uniform1f(z,H.u_aspect_ratio),u_fade_change:new l.Uniform1f(z,H.u_fade_change),u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_label_plane_matrix:new l.UniformMatrix4f(z,H.u_label_plane_matrix),u_coord_matrix:new l.UniformMatrix4f(z,H.u_coord_matrix),u_is_text:new l.Uniform1i(z,H.u_is_text),u_pitch_with_map:new l.Uniform1i(z,H.u_pitch_with_map),u_texsize:new l.Uniform2f(z,H.u_texsize),u_texsize_icon:new l.Uniform2f(z,H.u_texsize_icon),u_texture:new l.Uniform1i(z,H.u_texture),u_texture_icon:new l.Uniform1i(z,H.u_texture_icon),u_gamma_scale:new l.Uniform1f(z,H.u_gamma_scale),u_device_pixel_ratio:new l.Uniform1f(z,H.u_device_pixel_ratio),u_is_halo:new l.Uniform1i(z,H.u_is_halo)}},background:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_opacity:new l.Uniform1f(z,H.u_opacity),u_color:new l.UniformColor(z,H.u_color)}},backgroundPattern:function(z,H){return{u_matrix:new l.UniformMatrix4f(z,H.u_matrix),u_opacity:new l.Uniform1f(z,H.u_opacity),u_image:new l.Uniform1i(z,H.u_image),u_pattern_tl_a:new l.Uniform2f(z,H.u_pattern_tl_a),u_pattern_br_a:new l.Uniform2f(z,H.u_pattern_br_a),u_pattern_tl_b:new l.Uniform2f(z,H.u_pattern_tl_b),u_pattern_br_b:new l.Uniform2f(z,H.u_pattern_br_b),u_texsize:new l.Uniform2f(z,H.u_texsize),u_mix:new l.Uniform1f(z,H.u_mix),u_pattern_size_a:new l.Uniform2f(z,H.u_pattern_size_a),u_pattern_size_b:new l.Uniform2f(z,H.u_pattern_size_b),u_scale_a:new l.Uniform1f(z,H.u_scale_a),u_scale_b:new l.Uniform1f(z,H.u_scale_b),u_pixel_coord_upper:new l.Uniform2f(z,H.u_pixel_coord_upper),u_pixel_coord_lower:new l.Uniform2f(z,H.u_pixel_coord_lower),u_tile_units_to_pixels:new l.Uniform1f(z,H.u_tile_units_to_pixels)}}};function Ds(z,H,V,K,he,Ae,B){for(var Q=z.context,ie=Q.gl,de=z.useProgram("collisionBox"),ye=[],Le=0,Ne=0,Ve=0;Ve<K.length;Ve++){var Ge=K[Ve],Ye=H.getTile(Ge),$e=Ye.getBucket(V);if($e){var lt=Ge.posMatrix;0===he[0]&&0===he[1]||(lt=z.translatePosMatrix(Ge.posMatrix,Ye,he,Ae));var ht=B?$e.textCollisionBox:$e.iconCollisionBox,Et=$e.collisionCircleArray;if(Et.length>0){var Ct=l.create(),St=lt;l.mul(Ct,$e.placementInvProjMatrix,z.transform.glCoordMatrix),l.mul(Ct,Ct,$e.placementViewportMatrix),ye.push({circleArray:Et,circleOffset:Ne,transform:St,invTransform:Ct}),Ne=Le+=Et.length/4}ht&&de.draw(Q,ie.LINES,Pt.disabled,Ze.disabled,z.colorModeForRenderPass(),He.disabled,Zs(lt,z.transform,Ye),V.id,ht.layoutVertexBuffer,ht.indexBuffer,ht.segments,null,z.transform.zoom,null,null,ht.collisionVertexBuffer)}}if(B&&ye.length){var zt=z.useProgram("collisionCircle"),Lt=new l.StructArrayLayout2f1f2i16;Lt.resize(4*Le),Lt._trim();for(var en=0,Zt=0,Ht=ye;Zt<Ht.length;Zt+=1)for(var pn=Ht[Zt],vn=0;vn<pn.circleArray.length/4;vn++){var Rn=4*vn,zn=pn.circleArray[Rn+0],Un=pn.circleArray[Rn+1],Yn=pn.circleArray[Rn+2],or=pn.circleArray[Rn+3];Lt.emplace(en++,zn,Un,Yn,or,0),Lt.emplace(en++,zn,Un,Yn,or,1),Lt.emplace(en++,zn,Un,Yn,or,2),Lt.emplace(en++,zn,Un,Yn,or,3)}(!wo||wo.length<2*Le)&&(wo=function(fr){var xr=2*fr,Er=new l.StructArrayLayout3ui6;Er.resize(xr),Er._trim();for(var Rr=0;Rr<xr;Rr++){var jr=6*Rr;Er.uint16[jr+0]=4*Rr+0,Er.uint16[jr+1]=4*Rr+1,Er.uint16[jr+2]=4*Rr+2,Er.uint16[jr+3]=4*Rr+2,Er.uint16[jr+4]=4*Rr+3,Er.uint16[jr+5]=4*Rr+0}return Er}(Le));for(var ar=Q.createIndexBuffer(wo,!0),cr=Q.createVertexBuffer(Lt,l.collisionCircleLayout.members,!0),yr=0,Pr=ye;yr<Pr.length;yr+=1){var Bn=Pr[yr],rr=sl(Bn.transform,Bn.invTransform,z.transform);zt.draw(Q,ie.TRIANGLES,Pt.disabled,Ze.disabled,z.colorModeForRenderPass(),He.disabled,rr,V.id,cr,ar,l.SegmentVector.simpleSegment(0,2*Bn.circleOffset,Bn.circleArray.length,Bn.circleArray.length/2),null,z.transform.zoom,null,null,null)}cr.destroy(),ar.destroy()}}var cl=l.identity(new Float32Array(16));function fl(z,H,V,K,he,Ae){var B=l.getAnchorAlignment(z),Q=-(B.horizontalAlign-.5)*H,ie=-(B.verticalAlign-.5)*V,de=l.evaluateVariableOffset(z,K);return new l.Point((Q/he+de[0])*Ae,(ie/he+de[1])*Ae)}function ys(z,H,V,K,he,Ae,B,Q,ie,de,ye){var Le=z.text.placedSymbolArray,Ne=z.text.dynamicLayoutVertexArray,Ve=z.icon.dynamicLayoutVertexArray,Ge={};Ne.clear();for(var Ye=0;Ye<Le.length;Ye++){var $e=Le.get(Ye),ht=$e.hidden||!$e.crossTileID||z.allowVerticalPlacement&&!$e.placedOrientation?null:K[$e.crossTileID];if(ht){var Et=new l.Point($e.anchorX,$e.anchorY),Ct=Ut(Et,V?Q:B),St=nn(Ae.cameraToCenterDistance,Ct.signedDistanceFromCamera),zt=he.evaluateSizeForFeature(z.textSizeData,de,$e)*St/l.ONE_EM;V&&(zt*=z.tilePixelRatio/ie);for(var Zt=fl(ht.anchor,ht.width,ht.height,ht.textOffset,ht.textBoxScale,zt),Ht=V?Ut(Et.add(Zt),B).point:Ct.point.add(H?Zt.rotate(-Ae.angle):Zt),pn=z.allowVerticalPlacement&&$e.placedOrientation===l.WritingMode.vertical?Math.PI/2:0,vn=0;vn<$e.numGlyphs;vn++)l.addDynamicAttributes(Ne,Ht,pn);ye&&$e.associatedIconIndex>=0&&(Ge[$e.associatedIconIndex]={shiftedAnchor:Ht,angle:pn})}else Wn($e.numGlyphs,Ne)}if(ye){Ve.clear();for(var Rn=z.icon.placedSymbolArray,zn=0;zn<Rn.length;zn++){var Un=Rn.get(zn);if(Un.hidden)Wn(Un.numGlyphs,Ve);else{var Yn=Ge[zn];if(Yn)for(var or=0;or<Un.numGlyphs;or++)l.addDynamicAttributes(Ve,Yn.shiftedAnchor,Yn.angle);else Wn(Un.numGlyphs,Ve)}}z.icon.dynamicLayoutVertexBuffer.updateData(Ve)}z.text.dynamicLayoutVertexBuffer.updateData(Ne)}function as(z,H,V){return V.iconsInText&&H?"symbolTextAndIcon":z?"symbolSDF":"symbolIcon"}function xs(z,H,V,K,he,Ae,B,Q,ie,de,ye,Le){for(var Ne=z.context,Ve=Ne.gl,Ge=z.transform,Ye="map"===Q,$e="map"===ie,lt=Ye&&"point"!==V.layout.get("symbol-placement"),ht=Ye&&!$e&&!lt,Et=void 0!==V.layout.get("symbol-sort-key").constantOr(1),Ct=z.depthModeForSublayer(0,Pt.ReadOnly),St=V.layout.get("text-variable-anchor"),zt=[],Lt=0,en=K;Lt<en.length;Lt+=1){var Zt=en[Lt],Ht=H.getTile(Zt),pn=Ht.getBucket(V);if(pn){var vn=he?pn.text:pn.icon;if(vn&&vn.segments.get().length){var Rn=vn.programConfigurations.get(V.id),zn=he||pn.sdfIcons,Un=he?pn.textSizeData:pn.iconSizeData,Yn=$e||0!==Ge.pitch,or=z.useProgram(as(zn,he,pn),Rn),ar=l.evaluateSizeForZoom(Un,Ge.zoom),cr=void 0,yr=[0,0],Pr=void 0,Bn=void 0,rr=null,fr=void 0;if(he)Pr=Ht.glyphAtlasTexture,Bn=Ve.LINEAR,cr=Ht.glyphAtlasTexture.size,pn.iconsInText&&(yr=Ht.imageAtlasTexture.size,rr=Ht.imageAtlasTexture,fr=Yn||z.options.rotating||z.options.zooming||"composite"===Un.kind||"camera"===Un.kind?Ve.LINEAR:Ve.NEAREST);else{var Er=1!==V.layout.get("icon-size").constantOr(0)||pn.iconsNeedLinear;Pr=Ht.imageAtlasTexture,Bn=zn||z.options.rotating||z.options.zooming||Er||Yn?Ve.LINEAR:Ve.NEAREST,cr=Ht.imageAtlasTexture.size}var Rr=qn(Ht,1,z.transform.zoom),jr=yn(Zt.posMatrix,$e,Ye,z.transform,Rr),Wr=on(Zt.posMatrix,$e,Ye,z.transform,Rr),li=St&&pn.hasTextData(),ui="none"!==V.layout.get("icon-text-fit")&&li&&pn.hasIconData();lt&&rn(pn,Zt.posMatrix,z,he,jr,Wr,$e,de);var Xr=z.translatePosMatrix(Zt.posMatrix,Ht,Ae,B),ki=lt||he&&St||ui?cl:jr,qi=z.translatePosMatrix(Wr,Ht,Ae,B,!0),Pi=zn&&0!==V.paint.get(he?"text-halo-width":"icon-halo-width").constantOr(1),Bi={program:or,buffers:vn,uniformValues:zn?pn.iconsInText?ms(Un.kind,ar,ht,$e,z,Xr,ki,qi,cr,yr):za(Un.kind,ar,ht,$e,z,Xr,ki,qi,he,cr,!0):ei(Un.kind,ar,ht,$e,z,Xr,ki,qi,he,cr),atlasTexture:Pr,atlasTextureIcon:rr,atlasInterpolation:Bn,atlasInterpolationIcon:fr,isSDF:zn,hasHalo:Pi};if(Et)for(var Hr=0,Nr=vn.segments.get();Hr<Nr.length;Hr+=1){var ci=Nr[Hr];zt.push({segments:new l.SegmentVector([ci]),sortKey:ci.sortKey,state:Bi})}else zt.push({segments:vn.segments,sortKey:0,state:Bi})}}}Et&&zt.sort(function(ts,ma){return ts.sortKey-ma.sortKey});for(var ri=0,pi=zt;ri<pi.length;ri+=1){var ua=pi[ri],xi=ua.state;if(Ne.activeTexture.set(Ve.TEXTURE0),xi.atlasTexture.bind(xi.atlasInterpolation,Ve.CLAMP_TO_EDGE),xi.atlasTextureIcon&&(Ne.activeTexture.set(Ve.TEXTURE1),xi.atlasTextureIcon&&xi.atlasTextureIcon.bind(xi.atlasInterpolationIcon,Ve.CLAMP_TO_EDGE)),xi.isSDF){var Jr=xi.uniformValues;xi.hasHalo&&(Jr.u_is_halo=1,To(xi.buffers,ua.segments,V,z,xi.program,Ct,ye,Le,Jr)),Jr.u_is_halo=0}To(xi.buffers,ua.segments,V,z,xi.program,Ct,ye,Le,xi.uniformValues)}}function To(z,H,V,K,he,Ae,B,Q,ie){var de=K.context;he.draw(de,de.gl.TRIANGLES,Ae,B,Q,He.disabled,ie,V.id,z.layoutVertexBuffer,z.indexBuffer,H,V.paint,K.transform.zoom,z.programConfigurations.get(V.id),z.dynamicLayoutVertexBuffer,z.opacityVertexBuffer)}function so(z,H,V,K,he,Ae,B){var Q,ie,de,ye,Le,Ne=z.context.gl,Ve=V.paint.get("fill-pattern"),Ge=Ve&&Ve.constantOr(1),Ye=V.getCrossfadeParameters();B?(ie=Ge&&!V.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Q=Ne.LINES):(ie=Ge?"fillPattern":"fill",Q=Ne.TRIANGLES);for(var $e=0,lt=K;$e<lt.length;$e+=1){var ht=lt[$e],Et=H.getTile(ht);if(!Ge||Et.patternsLoaded()){var Ct=Et.getBucket(V);if(Ct){var St=Ct.programConfigurations.get(V.id),zt=z.useProgram(ie,St);Ge&&(z.context.activeTexture.set(Ne.TEXTURE0),Et.imageAtlasTexture.bind(Ne.LINEAR,Ne.CLAMP_TO_EDGE),St.updatePaintBuffers(Ye));var Lt=Ve.constantOr(null);if(Lt&&Et.imageAtlas){var en=Et.imageAtlas,Zt=en.patternPositions[Lt.to.toString()],Ht=en.patternPositions[Lt.from.toString()];Zt&&Ht&&St.setConstantPatternPositions(Zt,Ht)}var pn=z.translatePosMatrix(ht.posMatrix,Et,V.paint.get("fill-translate"),V.paint.get("fill-translate-anchor"));if(B){ye=Ct.indexBuffer2,Le=Ct.segments2;var vn=[Ne.drawingBufferWidth,Ne.drawingBufferHeight];de="fillOutlinePattern"===ie&&Ge?bo(pn,z,Ye,Et,vn):al(pn,vn)}else ye=Ct.indexBuffer,Le=Ct.segments,de=Ge?Os(pn,z,Ye,Et):ao(pn);zt.draw(z.context,Q,he,z.stencilModeForClipping(ht),Ae,He.disabled,de,V.id,Ct.layoutVertexBuffer,ye,Le,V.paint,z.transform.zoom,St)}}}}function ko(z,H,V,K,he,Ae,B){for(var Q=z.context,ie=Q.gl,de=V.paint.get("fill-extrusion-pattern"),ye=de.constantOr(1),Le=V.getCrossfadeParameters(),Ne=V.paint.get("fill-extrusion-opacity"),Ve=0,Ge=K;Ve<Ge.length;Ve+=1){var Ye=Ge[Ve],$e=H.getTile(Ye),lt=$e.getBucket(V);if(lt){var ht=lt.programConfigurations.get(V.id),Et=z.useProgram(ye?"fillExtrusionPattern":"fillExtrusion",ht);ye&&(z.context.activeTexture.set(ie.TEXTURE0),$e.imageAtlasTexture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),ht.updatePaintBuffers(Le));var Ct=de.constantOr(null);if(Ct&&$e.imageAtlas){var St=$e.imageAtlas,zt=St.patternPositions[Ct.to.toString()],Lt=St.patternPositions[Ct.from.toString()];zt&&Lt&&ht.setConstantPatternPositions(zt,Lt)}var en=z.translatePosMatrix(Ye.posMatrix,$e,V.paint.get("fill-extrusion-translate"),V.paint.get("fill-extrusion-translate-anchor")),Zt=V.paint.get("fill-extrusion-vertical-gradient"),Ht=ye?io(en,z,Zt,Ne,Ye,Le,$e):xo(en,z,Zt,Ne);Et.draw(Q,Q.gl.TRIANGLES,he,Ae,B,He.backCCW,Ht,V.id,lt.layoutVertexBuffer,lt.indexBuffer,lt.segments,V.paint,z.transform.zoom,ht)}}}function lo(z,H,V,K,he,Ae){var B=z.context,Q=B.gl,ie=H.fbo;if(ie){var de=z.useProgram("hillshade");B.activeTexture.set(Q.TEXTURE0),Q.bindTexture(Q.TEXTURE_2D,ie.colorAttachment.get());var ye=function(z,H,V){var K=V.paint.get("hillshade-shadow-color"),he=V.paint.get("hillshade-highlight-color"),Ae=V.paint.get("hillshade-accent-color"),B=V.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===V.paint.get("hillshade-illumination-anchor")&&(B-=z.transform.angle);var Q,ie,de,ye=!z.options.moving;return{u_matrix:z.transform.calculatePosMatrix(H.tileID.toUnwrapped(),ye),u_image:0,u_latrange:(Q=H.tileID,ie=Math.pow(2,Q.canonical.z),de=Q.canonical.y,[new l.MercatorCoordinate(0,de/ie).toLngLat().lat,new l.MercatorCoordinate(0,(de+1)/ie).toLngLat().lat]),u_light:[V.paint.get("hillshade-exaggeration"),B],u_shadow:K,u_highlight:he,u_accent:Ae}}(z,H,V);de.draw(B,Q.TRIANGLES,K,he,Ae,He.disabled,ye,V.id,z.rasterBoundsBuffer,z.quadTriangleIndexBuffer,z.rasterBoundsSegments)}}function Rs(z,H,V,K,he,Ae,B){var Q=z.context,ie=Q.gl,de=H.dem;if(de&&de.data){var ye=de.dim,Le=de.stride,Ne=de.getPixels();if(Q.activeTexture.set(ie.TEXTURE1),Q.pixelStoreUnpackPremultiplyAlpha.set(!1),H.demTexture=H.demTexture||z.getTileTexture(Le),H.demTexture){var Ve=H.demTexture;Ve.update(Ne,{premultiply:!1}),Ve.bind(ie.NEAREST,ie.CLAMP_TO_EDGE)}else H.demTexture=new l.Texture(Q,Ne,ie.RGBA,{premultiply:!1}),H.demTexture.bind(ie.NEAREST,ie.CLAMP_TO_EDGE);Q.activeTexture.set(ie.TEXTURE0);var Ge=H.fbo;if(!Ge){var Ye=new l.Texture(Q,{width:ye,height:ye,data:null},ie.RGBA);Ye.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),(Ge=H.fbo=Q.createFramebuffer(ye,ye,!0)).colorAttachment.set(Ye.texture)}Q.bindFramebuffer.set(Ge.framebuffer),Q.viewport.set([0,0,ye,ye]),z.useProgram("hillshadePrepare").draw(Q,ie.TRIANGLES,he,Ae,B,He.disabled,function(z,H,V){var K=H.stride,he=l.create();return l.ortho(he,0,l.EXTENT,-l.EXTENT,0,0,1),l.translate(he,he,[0,-l.EXTENT,0]),{u_matrix:he,u_image:1,u_dimension:[K,K],u_zoom:z.overscaledZ,u_maxzoom:V,u_unpack:H.getUnpackVector()}}(H.tileID,de,K),V.id,z.rasterBoundsBuffer,z.quadTriangleIndexBuffer,z.rasterBoundsSegments),H.needsHillshadePrepare=!1}}function Fa(z,H,V,K,he){var Ae=K.paint.get("raster-fade-duration");if(Ae>0){var B=l.browser.now(),Q=(B-z.timeAdded)/Ae,ie=H?(B-H.timeAdded)/Ae:-1,de=V.getSource(),ye=he.coveringZoomLevel({tileSize:de.tileSize,roundZoom:de.roundZoom}),Le=!H||Math.abs(H.tileID.overscaledZ-ye)>Math.abs(z.tileID.overscaledZ-ye),Ne=Le&&z.refreshedUponExpiration?1:l.clamp(Le?Q:1-ie,0,1);return z.refreshedUponExpiration&&Q>=1&&(z.refreshedUponExpiration=!1),H?{opacity:1,mix:1-Ne}:{opacity:Ne,mix:0}}return{opacity:1,mix:0}}var hl=new l.Color(1,0,0,1),pl=new l.Color(0,1,0,1),zs=new l.Color(0,0,1,1),Mo=new l.Color(1,0,1,1),Fs=new l.Color(0,1,1,1);function Js(z,H,V,K){qo(z,0,H+V/2,z.transform.width,V,K)}function os(z,H,V,K){qo(z,H-V/2,0,V,z.transform.height,K)}function qo(z,H,V,K,he,Ae){var B=z.context,Q=B.gl;Q.enable(Q.SCISSOR_TEST),Q.scissor(H*l.browser.devicePixelRatio,V*l.browser.devicePixelRatio,K*l.browser.devicePixelRatio,he*l.browser.devicePixelRatio),B.clear({color:Ae}),Q.disable(Q.SCISSOR_TEST)}function bs(z,H,V){var K=z.context,he=K.gl,Ae=V.posMatrix,B=z.useProgram("debug"),Q=Pt.disabled,ie=Ze.disabled,de=z.colorModeForRenderPass();K.activeTexture.set(he.TEXTURE0),z.emptyTexture.bind(he.LINEAR,he.CLAMP_TO_EDGE),B.draw(K,he.LINE_STRIP,Q,ie,de,He.disabled,Ys(Ae,l.Color.red),"$debug",z.debugBuffer,z.tileBorderIndexBuffer,z.debugSegments);var Le=H.getTileByID(V.key).latestRawTileData,Ve=Math.floor((Le&&Le.byteLength||0)/1024),Ge=H.getTile(V).tileSize,Ye=512/Math.min(Ge,512)*(V.overscaledZ/z.transform.zoom)*.5,$e=V.canonical.toString();V.overscaledZ!==V.canonical.z&&($e+=" => "+V.overscaledZ),function(lt,ht){lt.initDebugOverlayCanvas();var Et=lt.debugOverlayCanvas,Ct=lt.context.gl,St=lt.debugOverlayCanvas.getContext("2d");St.clearRect(0,0,Et.width,Et.height),St.shadowColor="white",St.shadowBlur=2,St.lineWidth=1.5,St.strokeStyle="white",St.textBaseline="top",St.font="bold 36px Open Sans, sans-serif",St.fillText(ht,5,5),St.strokeText(ht,5,5),lt.debugOverlayTexture.update(Et),lt.debugOverlayTexture.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE)}(z,$e+" "+Ve+"kb"),B.draw(K,he.TRIANGLES,Q,ie,Xe.alphaBlended,He.disabled,Ys(Ae,l.Color.transparent,Ye),"$debug",z.debugBuffer,z.quadTriangleIndexBuffer,z.debugSegments)}var ss={symbol:function(z,H,V,K,he){if("translucent"===z.renderPass){var Ae=Ze.disabled,B=z.colorModeForRenderPass();V.layout.get("text-variable-anchor")&&function(Q,ie,de,ye,Le,Ne,Ve){for(var Ge=ie.transform,Ye="map"===Le,$e="map"===Ne,lt=0,ht=Q;lt<ht.length;lt+=1){var Et=ht[lt],Ct=ye.getTile(Et),St=Ct.getBucket(de);if(St&&St.text&&St.text.segments.get().length){var Lt=l.evaluateSizeForZoom(St.textSizeData,Ge.zoom),en=qn(Ct,1,ie.transform.zoom),Zt=yn(Et.posMatrix,$e,Ye,ie.transform,en),Ht="none"!==de.layout.get("icon-text-fit")&&St.hasIconData();if(Lt){var pn=Math.pow(2,Ge.zoom-Ct.tileID.overscaledZ);ys(St,Ye,$e,Ve,l.symbolSize,Ge,Zt,Et.posMatrix,pn,Lt,Ht)}}}}(K,z,V,H,V.layout.get("text-rotation-alignment"),V.layout.get("text-pitch-alignment"),he),0!==V.paint.get("icon-opacity").constantOr(1)&&xs(z,H,V,K,!1,V.paint.get("icon-translate"),V.paint.get("icon-translate-anchor"),V.layout.get("icon-rotation-alignment"),V.layout.get("icon-pitch-alignment"),V.layout.get("icon-keep-upright"),Ae,B),0!==V.paint.get("text-opacity").constantOr(1)&&xs(z,H,V,K,!0,V.paint.get("text-translate"),V.paint.get("text-translate-anchor"),V.layout.get("text-rotation-alignment"),V.layout.get("text-pitch-alignment"),V.layout.get("text-keep-upright"),Ae,B),H.map.showCollisionBoxes&&(Ds(z,H,V,K,V.paint.get("text-translate"),V.paint.get("text-translate-anchor"),!0),Ds(z,H,V,K,V.paint.get("icon-translate"),V.paint.get("icon-translate-anchor"),!1))}},circle:function(z,H,V,K){if("translucent"===z.renderPass){var he=V.paint.get("circle-opacity"),Ae=V.paint.get("circle-stroke-width"),B=V.paint.get("circle-stroke-opacity"),Q=void 0!==V.layout.get("circle-sort-key").constantOr(1);if(0!==he.constantOr(1)||0!==Ae.constantOr(1)&&0!==B.constantOr(1)){for(var ie=z.context,de=ie.gl,ye=z.depthModeForSublayer(0,Pt.ReadOnly),Le=Ze.disabled,Ne=z.colorModeForRenderPass(),Ve=[],Ge=0;Ge<K.length;Ge++){var Ye=K[Ge],$e=H.getTile(Ye),lt=$e.getBucket(V);if(lt){var ht=lt.programConfigurations.get(V.id),Et={programConfiguration:ht,program:z.useProgram("circle",ht),layoutVertexBuffer:lt.layoutVertexBuffer,indexBuffer:lt.indexBuffer,uniformValues:ol(z,Ye,$e,V)};if(Q)for(var Ct=0,St=lt.segments.get();Ct<St.length;Ct+=1){var zt=St[Ct];Ve.push({segments:new l.SegmentVector([zt]),sortKey:zt.sortKey,state:Et})}else Ve.push({segments:lt.segments,sortKey:0,state:Et})}}Q&&Ve.sort(function(or,ar){return or.sortKey-ar.sortKey});for(var Lt=0,en=Ve;Lt<en.length;Lt+=1){var Zt=en[Lt],Ht=Zt.state;Ht.program.draw(ie,de.TRIANGLES,ye,Le,Ne,He.disabled,Ht.uniformValues,V.id,Ht.layoutVertexBuffer,Ht.indexBuffer,Zt.segments,V.paint,z.transform.zoom,Ht.programConfiguration)}}}},heatmap:function(z,H,V,K){if(0!==V.paint.get("heatmap-opacity"))if("offscreen"===z.renderPass){var he=z.context,Ae=he.gl,B=Ze.disabled,Q=new Xe([Ae.ONE,Ae.ONE],l.Color.transparent,[!0,!0,!0,!0]);(function(Ye,$e,lt){var ht=Ye.gl;Ye.activeTexture.set(ht.TEXTURE1),Ye.viewport.set([0,0,$e.width/4,$e.height/4]);var St,zt,Lt,en,Zt,Et=lt.heatmapFbo;if(Et)ht.bindTexture(ht.TEXTURE_2D,Et.colorAttachment.get()),Ye.bindFramebuffer.set(Et.framebuffer);else{var Ct=ht.createTexture();ht.bindTexture(ht.TEXTURE_2D,Ct),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_WRAP_S,ht.CLAMP_TO_EDGE),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_WRAP_T,ht.CLAMP_TO_EDGE),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_MIN_FILTER,ht.LINEAR),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_MAG_FILTER,ht.LINEAR),Lt=Ct,en=Et=lt.heatmapFbo=Ye.createFramebuffer($e.width/4,$e.height/4,!1),(Zt=(St=Ye).gl).texImage2D(Zt.TEXTURE_2D,0,Zt.RGBA,(zt=$e).width/4,zt.height/4,0,Zt.RGBA,St.extRenderToTextureHalfFloat?St.extTextureHalfFloat.HALF_FLOAT_OES:Zt.UNSIGNED_BYTE,null),en.colorAttachment.set(Lt)}})(he,z,V),he.clear({color:l.Color.transparent});for(var ie=0;ie<K.length;ie++){var de=K[ie];if(!H.hasRenderableParent(de)){var ye=H.getTile(de),Le=ye.getBucket(V);if(Le){var Ne=Le.programConfigurations.get(V.id);z.useProgram("heatmap",Ne).draw(he,Ae.TRIANGLES,Pt.disabled,B,Q,He.disabled,rs(de.posMatrix,ye,z.transform.zoom,V.paint.get("heatmap-intensity")),V.id,Le.layoutVertexBuffer,Le.indexBuffer,Le.segments,V.paint,z.transform.zoom,Ne)}}}he.viewport.set([0,0,z.width,z.height])}else"translucent"===z.renderPass&&(z.context.setColorMode(z.colorModeForRenderPass()),function(Ye,$e){var lt=Ye.context,ht=lt.gl,Et=$e.heatmapFbo;if(Et){lt.activeTexture.set(ht.TEXTURE0),ht.bindTexture(ht.TEXTURE_2D,Et.colorAttachment.get()),lt.activeTexture.set(ht.TEXTURE1);var Ct=$e.colorRampTexture;Ct||(Ct=$e.colorRampTexture=new l.Texture(lt,$e.colorRamp,ht.RGBA)),Ct.bind(ht.LINEAR,ht.CLAMP_TO_EDGE),Ye.useProgram("heatmapTexture").draw(lt,ht.TRIANGLES,Pt.disabled,Ze.disabled,Ye.colorModeForRenderPass(),He.disabled,function(z,H,V,K){var he=l.create();l.ortho(he,0,z.width,z.height,0,0,1);var Ae=z.context.gl;return{u_matrix:he,u_world:[Ae.drawingBufferWidth,Ae.drawingBufferHeight],u_image:V,u_color_ramp:K,u_opacity:H.paint.get("heatmap-opacity")}}(Ye,$e,0,1),$e.id,Ye.viewportBuffer,Ye.quadTriangleIndexBuffer,Ye.viewportSegments,$e.paint,Ye.transform.zoom)}}(z,V))},line:function(z,H,V,K){if("translucent"===z.renderPass){var he=V.paint.get("line-opacity"),Ae=V.paint.get("line-width");if(0!==he.constantOr(1)&&0!==Ae.constantOr(1)){var B=z.depthModeForSublayer(0,Pt.ReadOnly),Q=z.colorModeForRenderPass(),ie=V.paint.get("line-dasharray"),de=V.paint.get("line-pattern"),ye=de.constantOr(1),Le=V.paint.get("line-gradient"),Ne=V.getCrossfadeParameters(),Ve=ye?"linePattern":ie?"lineSDF":Le?"lineGradient":"line",Ge=z.context,Ye=Ge.gl,$e=!0;if(Le){Ge.activeTexture.set(Ye.TEXTURE0);var lt=V.gradientTexture;if(!V.gradient)return;lt||(lt=V.gradientTexture=new l.Texture(Ge,V.gradient,Ye.RGBA)),lt.bind(Ye.LINEAR,Ye.CLAMP_TO_EDGE)}for(var ht=0,Et=K;ht<Et.length;ht+=1){var Ct=Et[ht],St=H.getTile(Ct);if(!ye||St.patternsLoaded()){var zt=St.getBucket(V);if(zt){var Lt=zt.programConfigurations.get(V.id),en=z.context.program.get(),Zt=z.useProgram(Ve,Lt),Ht=$e||Zt.program!==en,pn=de.constantOr(null);if(pn&&St.imageAtlas){var vn=St.imageAtlas,Rn=vn.patternPositions[pn.to.toString()],zn=vn.patternPositions[pn.from.toString()];Rn&&zn&&Lt.setConstantPatternPositions(Rn,zn)}var Un=ye?Xs(z,St,V,Ne):ie?Sa(z,St,V,ie,Ne):Le?Ws(z,St,V):Is(z,St,V);ye?(Ge.activeTexture.set(Ye.TEXTURE0),St.imageAtlasTexture.bind(Ye.LINEAR,Ye.CLAMP_TO_EDGE),Lt.updatePaintBuffers(Ne)):ie&&(Ht||z.lineAtlas.dirty)&&(Ge.activeTexture.set(Ye.TEXTURE0),z.lineAtlas.bind(Ge)),Zt.draw(Ge,Ye.TRIANGLES,B,z.stencilModeForClipping(Ct),Q,He.disabled,Un,V.id,zt.layoutVertexBuffer,zt.indexBuffer,zt.segments,V.paint,z.transform.zoom,Lt),$e=!1}}}}}},fill:function(z,H,V,K){var he=V.paint.get("fill-color"),Ae=V.paint.get("fill-opacity");if(0!==Ae.constantOr(1)){var B=z.colorModeForRenderPass(),Q=V.paint.get("fill-pattern"),ie=z.opaquePassEnabledForLayer()&&!Q.constantOr(1)&&1===he.constantOr(l.Color.transparent).a&&1===Ae.constantOr(0)?"opaque":"translucent";if(z.renderPass===ie){var de=z.depthModeForSublayer(1,"opaque"===z.renderPass?Pt.ReadWrite:Pt.ReadOnly);so(z,H,V,K,de,B,!1)}if("translucent"===z.renderPass&&V.paint.get("fill-antialias")){var ye=z.depthModeForSublayer(V.getPaintProperty("fill-outline-color")?2:0,Pt.ReadOnly);so(z,H,V,K,ye,B,!0)}}},"fill-extrusion":function(z,H,V,K){var he=V.paint.get("fill-extrusion-opacity");if(0!==he&&"translucent"===z.renderPass){var Ae=new Pt(z.context.gl.LEQUAL,Pt.ReadWrite,z.depthRangeFor3D);if(1!==he||V.paint.get("fill-extrusion-pattern").constantOr(1))ko(z,H,V,K,Ae,Ze.disabled,Xe.disabled),ko(z,H,V,K,Ae,z.stencilModeFor3D(),z.colorModeForRenderPass());else{var B=z.colorModeForRenderPass();ko(z,H,V,K,Ae,Ze.disabled,B)}}},hillshade:function(z,H,V,K){if("offscreen"===z.renderPass||"translucent"===z.renderPass){for(var he=z.context,Ae=H.getSource().maxzoom,B=z.depthModeForSublayer(0,Pt.ReadOnly),Q=z.colorModeForRenderPass(),ie="translucent"===z.renderPass?z.stencilConfigForOverlap(K):[{},K],de=ie[0],ye=0,Le=ie[1];ye<Le.length;ye+=1){var Ne=Le[ye],Ve=H.getTile(Ne);Ve.needsHillshadePrepare&&"offscreen"===z.renderPass?Rs(z,Ve,V,Ae,B,Ze.disabled,Q):"translucent"===z.renderPass&&lo(z,Ve,V,B,de[Ne.overscaledZ],Q)}he.viewport.set([0,0,z.width,z.height])}},raster:function(z,H,V,K){if("translucent"===z.renderPass&&0!==V.paint.get("raster-opacity")&&K.length)for(var he=z.context,Ae=he.gl,B=H.getSource(),Q=z.useProgram("raster"),ie=z.colorModeForRenderPass(),de=B instanceof F?[{},K]:z.stencilConfigForOverlap(K),ye=de[0],Le=de[1],Ne=Le[Le.length-1].overscaledZ,Ve=!z.options.moving,Ge=0,Ye=Le;Ge<Ye.length;Ge+=1){var $e=Ye[Ge],lt=z.depthModeForSublayer($e.overscaledZ-Ne,1===V.paint.get("raster-opacity")?Pt.ReadWrite:Pt.ReadOnly,Ae.LESS),ht=H.getTile($e),Et=z.transform.calculatePosMatrix($e.toUnwrapped(),Ve);ht.registerFadeDuration(V.paint.get("raster-fade-duration"));var Ct=H.findLoadedParent($e,0),St=Fa(ht,Ct,H,V,z.transform),zt=void 0,Lt=void 0,en="nearest"===V.paint.get("raster-resampling")?Ae.NEAREST:Ae.LINEAR;he.activeTexture.set(Ae.TEXTURE0),ht.texture.bind(en,Ae.CLAMP_TO_EDGE,Ae.LINEAR_MIPMAP_NEAREST),he.activeTexture.set(Ae.TEXTURE1),Ct?(Ct.texture.bind(en,Ae.CLAMP_TO_EDGE,Ae.LINEAR_MIPMAP_NEAREST),zt=Math.pow(2,Ct.tileID.overscaledZ-ht.tileID.overscaledZ),Lt=[ht.tileID.canonical.x*zt%1,ht.tileID.canonical.y*zt%1]):ht.texture.bind(en,Ae.CLAMP_TO_EDGE,Ae.LINEAR_MIPMAP_NEAREST);var Zt=oo(Et,Lt||[0,0],zt||1,St,V);B instanceof F?Q.draw(he,Ae.TRIANGLES,lt,Ze.disabled,ie,He.disabled,Zt,V.id,B.boundsBuffer,z.quadTriangleIndexBuffer,B.boundsSegments):Q.draw(he,Ae.TRIANGLES,lt,ye[$e.overscaledZ],ie,He.disabled,Zt,V.id,z.rasterBoundsBuffer,z.quadTriangleIndexBuffer,z.rasterBoundsSegments)}},background:function(z,H,V){var K=V.paint.get("background-color"),he=V.paint.get("background-opacity");if(0!==he){var Ae=z.context,B=Ae.gl,Q=z.transform,ie=Q.tileSize,de=V.paint.get("background-pattern");if(!z.isPatternMissing(de)){var ye=!de&&1===K.a&&1===he&&z.opaquePassEnabledForLayer()?"opaque":"translucent";if(z.renderPass===ye){var Le=Ze.disabled,Ne=z.depthModeForSublayer(0,"opaque"===ye?Pt.ReadWrite:Pt.ReadOnly),Ve=z.colorModeForRenderPass(),Ge=z.useProgram(de?"backgroundPattern":"background"),Ye=Q.coveringTiles({tileSize:ie});de&&(Ae.activeTexture.set(B.TEXTURE0),z.imageManager.bind(z.context));for(var $e=V.getCrossfadeParameters(),lt=0,ht=Ye;lt<ht.length;lt+=1){var Et=ht[lt],Ct=z.transform.calculatePosMatrix(Et.toUnwrapped()),St=de?Ho(Ct,he,z,de,{tileID:Et,tileSize:ie},$e):Ea(Ct,he,K);Ge.draw(Ae,B.TRIANGLES,Ne,Le,Ve,He.disabled,St,V.id,z.tileExtentBuffer,z.quadTriangleIndexBuffer,z.tileExtentSegments)}}}}},debug:function(z,H,V){for(var K=0;K<V.length;K++)bs(z,H,V[K])},custom:function(z,H,V){var K=z.context,he=V.implementation;if("offscreen"===z.renderPass){var Ae=he.prerender;Ae&&(z.setCustomLayerDefaults(),K.setColorMode(z.colorModeForRenderPass()),Ae.call(he,K.gl,z.transform.customLayerMatrix()),K.setDirty(),z.setBaseState())}else if("translucent"===z.renderPass){z.setCustomLayerDefaults(),K.setColorMode(z.colorModeForRenderPass()),K.setStencilMode(Ze.disabled);var B="3d"===he.renderingMode?new Pt(z.context.gl.LEQUAL,Pt.ReadWrite,z.depthRangeFor3D):z.depthModeForSublayer(0,Pt.ReadOnly);K.setDepthMode(B),he.render(K.gl,z.transform.customLayerMatrix()),K.setDirty(),z.setBaseState(),K.bindFramebuffer.set(null)}}},ti=function(z,H){this.context=new We(z),this.transform=H,this._tileTextures={},this.setup(),this.numSublayers=rt.maxUnderzooming+rt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new jn,this.gpuTimers={}};ti.prototype.resize=function(z,H){if(this.width=z*l.browser.devicePixelRatio,this.height=H*l.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var V=0,K=this.style._order;V<K.length;V+=1)this.style._layers[K[V]].resize()},ti.prototype.setup=function(){var z=this.context,H=new l.StructArrayLayout2i4;H.emplaceBack(0,0),H.emplaceBack(l.EXTENT,0),H.emplaceBack(0,l.EXTENT),H.emplaceBack(l.EXTENT,l.EXTENT),this.tileExtentBuffer=z.createVertexBuffer(H,tr.members),this.tileExtentSegments=l.SegmentVector.simpleSegment(0,0,4,2);var V=new l.StructArrayLayout2i4;V.emplaceBack(0,0),V.emplaceBack(l.EXTENT,0),V.emplaceBack(0,l.EXTENT),V.emplaceBack(l.EXTENT,l.EXTENT),this.debugBuffer=z.createVertexBuffer(V,tr.members),this.debugSegments=l.SegmentVector.simpleSegment(0,0,4,5);var K=new l.StructArrayLayout4i8;K.emplaceBack(0,0,0,0),K.emplaceBack(l.EXTENT,0,l.EXTENT,0),K.emplaceBack(0,l.EXTENT,0,l.EXTENT),K.emplaceBack(l.EXTENT,l.EXTENT,l.EXTENT,l.EXTENT),this.rasterBoundsBuffer=z.createVertexBuffer(K,N.members),this.rasterBoundsSegments=l.SegmentVector.simpleSegment(0,0,4,2);var he=new l.StructArrayLayout2i4;he.emplaceBack(0,0),he.emplaceBack(1,0),he.emplaceBack(0,1),he.emplaceBack(1,1),this.viewportBuffer=z.createVertexBuffer(he,tr.members),this.viewportSegments=l.SegmentVector.simpleSegment(0,0,4,2);var Ae=new l.StructArrayLayout1ui2;Ae.emplaceBack(0),Ae.emplaceBack(1),Ae.emplaceBack(3),Ae.emplaceBack(2),Ae.emplaceBack(0),this.tileBorderIndexBuffer=z.createIndexBuffer(Ae);var B=new l.StructArrayLayout3ui6;B.emplaceBack(0,1,2),B.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=z.createIndexBuffer(B),this.emptyTexture=new l.Texture(z,{width:1,height:1,data:new Uint8Array([0,0,0,0])},z.gl.RGBA);var Q=this.context.gl;this.stencilClearMode=new Ze({func:Q.ALWAYS,mask:0},0,255,Q.ZERO,Q.ZERO,Q.ZERO)},ti.prototype.clearStencil=function(){var z=this.context,H=z.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var V=l.create();l.ortho(V,0,this.width,this.height,0,0,1),l.scale(V,V,[H.drawingBufferWidth,H.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(z,H.TRIANGLES,Pt.disabled,this.stencilClearMode,Xe.disabled,He.disabled,ll(V),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},ti.prototype._renderTileClippingMasks=function(z,H){if(this.currentStencilSource!==z.source&&z.isTileClipped()&&H&&H.length){this.currentStencilSource=z.source;var V=this.context,K=V.gl;this.nextStencilID+H.length>256&&this.clearStencil(),V.setColorMode(Xe.disabled),V.setDepthMode(Pt.disabled);var he=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ae=0,B=H;Ae<B.length;Ae+=1){var Q=B[Ae],ie=this._tileClippingMaskIDs[Q.key]=this.nextStencilID++;he.draw(V,K.TRIANGLES,Pt.disabled,new Ze({func:K.ALWAYS,mask:0},ie,255,K.KEEP,K.KEEP,K.REPLACE),Xe.disabled,He.disabled,ll(Q.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},ti.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var z=this.nextStencilID++,H=this.context.gl;return new Ze({func:H.NOTEQUAL,mask:255},z,255,H.KEEP,H.KEEP,H.REPLACE)},ti.prototype.stencilModeForClipping=function(z){var H=this.context.gl;return new Ze({func:H.EQUAL,mask:255},this._tileClippingMaskIDs[z.key],0,H.KEEP,H.KEEP,H.REPLACE)},ti.prototype.stencilConfigForOverlap=function(z){var H,V=this.context.gl,K=z.sort(function(ie,de){return de.overscaledZ-ie.overscaledZ}),he=K[K.length-1].overscaledZ,Ae=K[0].overscaledZ-he+1;if(Ae>1){this.currentStencilSource=void 0,this.nextStencilID+Ae>256&&this.clearStencil();for(var B={},Q=0;Q<Ae;Q++)B[Q+he]=new Ze({func:V.GEQUAL,mask:255},Q+this.nextStencilID,255,V.KEEP,V.KEEP,V.REPLACE);return this.nextStencilID+=Ae,[B,K]}return[(H={},H[he]=Ze.disabled,H),K]},ti.prototype.colorModeForRenderPass=function(){var z=this.context.gl;if(this._showOverdrawInspector){var H=.125;return new Xe([z.CONSTANT_COLOR,z.ONE],new l.Color(H,H,H,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?Xe.unblended:Xe.alphaBlended},ti.prototype.depthModeForSublayer=function(z,H,V){if(!this.opaquePassEnabledForLayer())return Pt.disabled;var K=1-((1+this.currentLayer)*this.numSublayers+z)*this.depthEpsilon;return new Pt(V||this.context.gl.LEQUAL,H,[K,K])},ti.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},ti.prototype.render=function(z,H){var V=this;this.style=z,this.options=H,this.lineAtlas=z.lineAtlas,this.imageManager=z.imageManager,this.glyphManager=z.glyphManager,this.symbolFadeChange=z.placement.symbolFadeChange(l.browser.now()),this.imageManager.beginFrame();var K=this.style._order,he=this.style.sourceCaches;for(var Ae in he){var B=he[Ae];B.used&&B.prepare(this.context)}var Q,ie,de={},ye={},Le={};for(var Ne in he){var Ve=he[Ne];de[Ne]=Ve.getVisibleCoordinates(),ye[Ne]=de[Ne].slice().reverse(),Le[Ne]=Ve.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Ge=0;Ge<K.length;Ge++)if(this.style._layers[K[Ge]].is3D()){this.opaquePassCutoff=Ge;break}this.renderPass="offscreen";for(var $e=0,lt=K;$e<lt.length;$e+=1){var Et=this.style._layers[lt[$e]];if(Et.hasOffscreenPass()&&!Et.isHidden(this.transform.zoom)){var Ct=ye[Et.source];("custom"===Et.type||Ct.length)&&this.renderLayer(this,he[Et.source],Et,Ct)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:H.showOverdrawInspector?l.Color.black:l.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=H.showOverdrawInspector,this.depthRangeFor3D=[0,1-(z._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=K.length-1;this.currentLayer>=0;this.currentLayer--){var St=this.style._layers[K[this.currentLayer]],zt=he[St.source],Lt=de[St.source];this._renderTileClippingMasks(St,Lt),this.renderLayer(this,zt,St,Lt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<K.length;this.currentLayer++){var en=this.style._layers[K[this.currentLayer]],Zt=he[en.source],Ht=("symbol"===en.type?Le:ye)[en.source];this._renderTileClippingMasks(en,de[en.source]),this.renderLayer(this,Zt,en,Ht)}this.options.showTileBoundaries&&(l.values(this.style._layers).forEach(function(pn){pn.source&&!pn.isHidden(V.transform.zoom)&&(pn.source!==(ie&&ie.id)&&(ie=V.style.sourceCaches[pn.source]),(!Q||Q.getSource().maxzoom<ie.getSource().maxzoom)&&(Q=ie))}),Q&&ss.debug(this,Q,Q.getVisibleCoordinates())),this.options.showPadding&&function Go(z){var H=z.transform.padding;Js(z,z.transform.height-(H.top||0),3,hl),Js(z,H.bottom||0,3,pl),os(z,H.left||0,3,zs),os(z,z.transform.width-(H.right||0),3,Mo);var K,he,Ae,B,V=z.transform.centerPoint;qo(K=z,(he=V.x)-1,(Ae=z.transform.height-V.y)-10,2,20,B=Fs),qo(K,he-10,Ae-1,20,2,B)}(this),this.context.setDefault()},ti.prototype.renderLayer=function(z,H,V,K){V.isHidden(this.transform.zoom)||("background"===V.type||"custom"===V.type||K.length)&&(this.id=V.id,this.gpuTimingStart(V),ss[V.type](z,H,V,K,this.style.placement.variableOffsets),this.gpuTimingEnd())},ti.prototype.gpuTimingStart=function(z){if(this.options.gpuTiming){var H=this.context.extTimerQuery,V=this.gpuTimers[z.id];V||(V=this.gpuTimers[z.id]={calls:0,cpuTime:0,query:H.createQueryEXT()}),V.calls++,H.beginQueryEXT(H.TIME_ELAPSED_EXT,V.query)}},ti.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var z=this.context.extTimerQuery;z.endQueryEXT(z.TIME_ELAPSED_EXT)}},ti.prototype.collectGpuTimers=function(){var z=this.gpuTimers;return this.gpuTimers={},z},ti.prototype.queryGpuTimers=function(z){var H={};for(var V in z){var K=z[V],he=this.context.extTimerQuery,Ae=he.getQueryObjectEXT(K.query,he.QUERY_RESULT_EXT)/1e6;he.deleteQueryEXT(K.query),H[V]=Ae}return H},ti.prototype.translatePosMatrix=function(z,H,V,K,he){if(!V[0]&&!V[1])return z;var Ae=he?"map"===K?this.transform.angle:0:"viewport"===K?-this.transform.angle:0;if(Ae){var B=Math.sin(Ae),Q=Math.cos(Ae);V=[V[0]*Q-V[1]*B,V[0]*B+V[1]*Q]}var ie=[he?V[0]:qn(H,V[0],this.transform.zoom),he?V[1]:qn(H,V[1],this.transform.zoom),0],de=new Float32Array(16);return l.translate(de,z,ie),de},ti.prototype.saveTileTexture=function(z){var H=this._tileTextures[z.size[0]];H?H.push(z):this._tileTextures[z.size[0]]=[z]},ti.prototype.getTileTexture=function(z){var H=this._tileTextures[z];return H&&H.length>0?H.pop():null},ti.prototype.isPatternMissing=function(z){if(!z)return!1;if(!z.from||!z.to)return!0;var H=this.imageManager.getPattern(z.from.toString()),V=this.imageManager.getPattern(z.to.toString());return!H||!V},ti.prototype.useProgram=function(z,H){this.cache=this.cache||{};var V=""+z+(H?H.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[V]||(this.cache[V]=new ro(this.context,Wa[z],H,bl[z],this._showOverdrawInspector)),this.cache[V]},ti.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},ti.prototype.setBaseState=function(){var z=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(z.FUNC_ADD)},ti.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=l.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new l.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},ti.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Ao=function(z,H){this.points=z,this.planes=H};Ao.fromInvProjectionMatrix=function(z,H,V){var K=Math.pow(2,V),he=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(B){return l.transformMat4([],B,z)}).map(function(B){return l.scale$1([],B,1/B[3]/H*K)}),Ae=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(B){var Q=l.sub([],he[B[0]],he[B[1]]),ie=l.sub([],he[B[2]],he[B[1]]),de=l.normalize([],l.cross([],Q,ie)),ye=-l.dot(de,he[B[1]]);return de.concat(ye)});return new Ao(he,Ae)};var uo=function(z,H){this.min=z,this.max=H,this.center=l.scale$2([],l.add([],this.min,this.max),.5)};uo.prototype.quadrant=function(z){for(var H=[z%2==0,z<2],V=l.clone$2(this.min),K=l.clone$2(this.max),he=0;he<H.length;he++)V[he]=H[he]?this.min[he]:this.center[he],K[he]=H[he]?this.center[he]:this.max[he];return K[2]=this.max[2],new uo(V,K)},uo.prototype.distanceX=function(z){return Math.max(Math.min(this.max[0],z[0]),this.min[0])-z[0]},uo.prototype.distanceY=function(z){return Math.max(Math.min(this.max[1],z[1]),this.min[1])-z[1]},uo.prototype.intersects=function(z){for(var H=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],V=!0,K=0;K<z.planes.length;K++){for(var he=z.planes[K],Ae=0,B=0;B<H.length;B++)Ae+=l.dot$1(he,H[B])>=0;if(0===Ae)return 0;Ae!==H.length&&(V=!1)}if(V)return 2;for(var Q=0;Q<3;Q++){for(var ie=Number.MAX_VALUE,de=-Number.MAX_VALUE,ye=0;ye<z.points.length;ye++){var Le=z.points[ye][Q]-this.min[Q];ie=Math.min(ie,Le),de=Math.max(de,Le)}if(de<0||ie>this.max[Q]-this.min[Q])return 0}return 1};var Ui=function(z,H,V,K){if(void 0===z&&(z=0),void 0===H&&(H=0),void 0===V&&(V=0),void 0===K&&(K=0),isNaN(z)||z<0||isNaN(H)||H<0||isNaN(V)||V<0||isNaN(K)||K<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=z,this.bottom=H,this.left=V,this.right=K};Ui.prototype.interpolate=function(z,H,V){return null!=H.top&&null!=z.top&&(this.top=l.number(z.top,H.top,V)),null!=H.bottom&&null!=z.bottom&&(this.bottom=l.number(z.bottom,H.bottom,V)),null!=H.left&&null!=z.left&&(this.left=l.number(z.left,H.left,V)),null!=H.right&&null!=z.right&&(this.right=l.number(z.right,H.right,V)),this},Ui.prototype.getCenter=function(z,H){var V=l.clamp((this.left+z-this.right)/2,0,z),K=l.clamp((this.top+H-this.bottom)/2,0,H);return new l.Point(V,K)},Ui.prototype.equals=function(z){return this.top===z.top&&this.bottom===z.bottom&&this.left===z.left&&this.right===z.right},Ui.prototype.clone=function(){return new Ui(this.top,this.bottom,this.left,this.right)},Ui.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Ur=function(z,H,V,K,he){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===he||he,this._minZoom=z||0,this._maxZoom=H||22,this._minPitch=V??0,this._maxPitch=K??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new l.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Ui,this._posMatrixCache={},this._alignedPosMatrixCache={}},qr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Ur.prototype.clone=function(){var z=new Ur(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return z.tileSize=this.tileSize,z.latRange=this.latRange,z.width=this.width,z.height=this.height,z._center=this._center,z.zoom=this.zoom,z.angle=this.angle,z._fov=this._fov,z._pitch=this._pitch,z._unmodified=this._unmodified,z._edgeInsets=this._edgeInsets.clone(),z._calcMatrices(),z},qr.minZoom.get=function(){return this._minZoom},qr.minZoom.set=function(z){this._minZoom!==z&&(this._minZoom=z,this.zoom=Math.max(this.zoom,z))},qr.maxZoom.get=function(){return this._maxZoom},qr.maxZoom.set=function(z){this._maxZoom!==z&&(this._maxZoom=z,this.zoom=Math.min(this.zoom,z))},qr.minPitch.get=function(){return this._minPitch},qr.minPitch.set=function(z){this._minPitch!==z&&(this._minPitch=z,this.pitch=Math.max(this.pitch,z))},qr.maxPitch.get=function(){return this._maxPitch},qr.maxPitch.set=function(z){this._maxPitch!==z&&(this._maxPitch=z,this.pitch=Math.min(this.pitch,z))},qr.renderWorldCopies.get=function(){return this._renderWorldCopies},qr.renderWorldCopies.set=function(z){void 0===z?z=!0:null===z&&(z=!1),this._renderWorldCopies=z},qr.worldSize.get=function(){return this.tileSize*this.scale},qr.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},qr.size.get=function(){return new l.Point(this.width,this.height)},qr.bearing.get=function(){return-this.angle/Math.PI*180},qr.bearing.set=function(z){var H=-l.wrap(z,-180,180)*Math.PI/180;this.angle!==H&&(this._unmodified=!1,this.angle=H,this._calcMatrices(),this.rotationMatrix=l.create$2(),l.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},qr.pitch.get=function(){return this._pitch/Math.PI*180},qr.pitch.set=function(z){var H=l.clamp(z,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==H&&(this._unmodified=!1,this._pitch=H,this._calcMatrices())},qr.fov.get=function(){return this._fov/Math.PI*180},qr.fov.set=function(z){z=Math.max(.01,Math.min(60,z)),this._fov!==z&&(this._unmodified=!1,this._fov=z/180*Math.PI,this._calcMatrices())},qr.zoom.get=function(){return this._zoom},qr.zoom.set=function(z){var H=Math.min(Math.max(z,this.minZoom),this.maxZoom);this._zoom!==H&&(this._unmodified=!1,this._zoom=H,this.scale=this.zoomScale(H),this.tileZoom=Math.floor(H),this.zoomFraction=H-this.tileZoom,this._constrain(),this._calcMatrices())},qr.center.get=function(){return this._center},qr.center.set=function(z){z.lat===this._center.lat&&z.lng===this._center.lng||(this._unmodified=!1,this._center=z,this._constrain(),this._calcMatrices())},qr.padding.get=function(){return this._edgeInsets.toJSON()},qr.padding.set=function(z){this._edgeInsets.equals(z)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,z,1),this._calcMatrices())},qr.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Ur.prototype.isPaddingEqual=function(z){return this._edgeInsets.equals(z)},Ur.prototype.interpolatePadding=function(z,H,V){this._unmodified=!1,this._edgeInsets.interpolate(z,H,V),this._constrain(),this._calcMatrices()},Ur.prototype.coveringZoomLevel=function(z){var H=(z.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/z.tileSize));return Math.max(0,H)},Ur.prototype.getVisibleUnwrappedCoordinates=function(z){var H=[new l.UnwrappedTileID(0,z)];if(this._renderWorldCopies)for(var V=this.pointCoordinate(new l.Point(0,0)),K=this.pointCoordinate(new l.Point(this.width,0)),he=this.pointCoordinate(new l.Point(this.width,this.height)),Ae=this.pointCoordinate(new l.Point(0,this.height)),B=Math.floor(Math.min(V.x,K.x,he.x,Ae.x)),Q=Math.floor(Math.max(V.x,K.x,he.x,Ae.x)),ie=B-1;ie<=Q+1;ie++)0!==ie&&H.push(new l.UnwrappedTileID(ie,z));return H},Ur.prototype.coveringTiles=function(z){var H=this.coveringZoomLevel(z),V=H;if(void 0!==z.minzoom&&H<z.minzoom)return[];void 0!==z.maxzoom&&H>z.maxzoom&&(H=z.maxzoom);var K=l.MercatorCoordinate.fromLngLat(this.center),he=Math.pow(2,H),Ae=[he*K.x,he*K.y,0],B=Ao.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,H),Q=z.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Q=H);var ie=function(Ht){return{aabb:new uo([Ht*he,0,0],[(Ht+1)*he,he,0]),zoom:0,x:0,y:0,wrap:Ht,fullyVisible:!1}},de=[],ye=[],Le=H,Ne=z.reparseOverscaled?V:H;if(this._renderWorldCopies)for(var Ve=1;Ve<=3;Ve++)de.push(ie(-Ve)),de.push(ie(Ve));for(de.push(ie(0));de.length>0;){var Ge=de.pop(),Ye=Ge.x,$e=Ge.y,lt=Ge.fullyVisible;if(!lt){var ht=Ge.aabb.intersects(B);if(0===ht)continue;lt=2===ht}var Et=Ge.aabb.distanceX(Ae),Ct=Ge.aabb.distanceY(Ae),St=Math.max(Math.abs(Et),Math.abs(Ct));if(Ge.zoom===Le||St>3+(1<<Le-Ge.zoom)-2&&Ge.zoom>=Q)ye.push({tileID:new l.OverscaledTileID(Ge.zoom===Le?Ne:Ge.zoom,Ge.wrap,Ge.zoom,Ye,$e),distanceSq:l.sqrLen([Ae[0]-.5-Ye,Ae[1]-.5-$e])});else for(var Lt=0;Lt<4;Lt++){var en=(Ye<<1)+Lt%2,Zt=($e<<1)+(Lt>>1);de.push({aabb:Ge.aabb.quadrant(Lt),zoom:Ge.zoom+1,x:en,y:Zt,wrap:Ge.wrap,fullyVisible:lt})}}return ye.sort(function(Ht,pn){return Ht.distanceSq-pn.distanceSq}).map(function(Ht){return Ht.tileID})},Ur.prototype.resize=function(z,H){this.width=z,this.height=H,this.pixelsToGLUnits=[2/z,-2/H],this._constrain(),this._calcMatrices()},qr.unmodified.get=function(){return this._unmodified},Ur.prototype.zoomScale=function(z){return Math.pow(2,z)},Ur.prototype.scaleZoom=function(z){return Math.log(z)/Math.LN2},Ur.prototype.project=function(z){var H=l.clamp(z.lat,-this.maxValidLatitude,this.maxValidLatitude);return new l.Point(l.mercatorXfromLng(z.lng)*this.worldSize,l.mercatorYfromLat(H)*this.worldSize)},Ur.prototype.unproject=function(z){return new l.MercatorCoordinate(z.x/this.worldSize,z.y/this.worldSize).toLngLat()},qr.point.get=function(){return this.project(this.center)},Ur.prototype.setLocationAtPoint=function(z,H){var V=this.pointCoordinate(H),K=this.pointCoordinate(this.centerPoint),he=this.locationCoordinate(z),Ae=new l.MercatorCoordinate(he.x-(V.x-K.x),he.y-(V.y-K.y));this.center=this.coordinateLocation(Ae),this._renderWorldCopies&&(this.center=this.center.wrap())},Ur.prototype.locationPoint=function(z){return this.coordinatePoint(this.locationCoordinate(z))},Ur.prototype.pointLocation=function(z){return this.coordinateLocation(this.pointCoordinate(z))},Ur.prototype.locationCoordinate=function(z){return l.MercatorCoordinate.fromLngLat(z)},Ur.prototype.coordinateLocation=function(z){return z.toLngLat()},Ur.prototype.pointCoordinate=function(z){var H=[z.x,z.y,0,1],V=[z.x,z.y,1,1];l.transformMat4(H,H,this.pixelMatrixInverse),l.transformMat4(V,V,this.pixelMatrixInverse);var K=H[3],he=V[3],Q=H[1]/K,ie=V[1]/he,de=H[2]/K,ye=V[2]/he,Le=de===ye?0:(0-de)/(ye-de);return new l.MercatorCoordinate(l.number(H[0]/K,V[0]/he,Le)/this.worldSize,l.number(Q,ie,Le)/this.worldSize)},Ur.prototype.coordinatePoint=function(z){var H=[z.x*this.worldSize,z.y*this.worldSize,0,1];return l.transformMat4(H,H,this.pixelMatrix),new l.Point(H[0]/H[3],H[1]/H[3])},Ur.prototype.getBounds=function(){return(new l.LngLatBounds).extend(this.pointLocation(new l.Point(0,0))).extend(this.pointLocation(new l.Point(this.width,0))).extend(this.pointLocation(new l.Point(this.width,this.height))).extend(this.pointLocation(new l.Point(0,this.height)))},Ur.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new l.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Ur.prototype.setMaxBounds=function(z){z?(this.lngRange=[z.getWest(),z.getEast()],this.latRange=[z.getSouth(),z.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Ur.prototype.calculatePosMatrix=function(z,H){void 0===H&&(H=!1);var V=z.key,K=H?this._alignedPosMatrixCache:this._posMatrixCache;if(K[V])return K[V];var he=z.canonical,Ae=this.worldSize/this.zoomScale(he.z),B=he.x+Math.pow(2,he.z)*z.wrap,Q=l.identity(new Float64Array(16));return l.translate(Q,Q,[B*Ae,he.y*Ae,0]),l.scale(Q,Q,[Ae/l.EXTENT,Ae/l.EXTENT,1]),l.multiply(Q,H?this.alignedProjMatrix:this.projMatrix,Q),K[V]=new Float32Array(Q),K[V]},Ur.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Ur.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var z,H,V,K,he=-90,Ae=90,B=-180,Q=180,ie=this.size,de=this._unmodified;if(this.latRange){var ye=this.latRange;he=l.mercatorYfromLat(ye[1])*this.worldSize,z=(Ae=l.mercatorYfromLat(ye[0])*this.worldSize)-he<ie.y?ie.y/(Ae-he):0}if(this.lngRange){var Le=this.lngRange;B=l.mercatorXfromLng(Le[0])*this.worldSize,H=(Q=l.mercatorXfromLng(Le[1])*this.worldSize)-B<ie.x?ie.x/(Q-B):0}var Ne=this.point,Ve=Math.max(H||0,z||0);if(Ve)return this.center=this.unproject(new l.Point(H?(Q+B)/2:Ne.x,z?(Ae+he)/2:Ne.y)),this.zoom+=this.scaleZoom(Ve),this._unmodified=de,void(this._constraining=!1);if(this.latRange){var Ge=Ne.y,Ye=ie.y/2;Ge-Ye<he&&(K=he+Ye),Ge+Ye>Ae&&(K=Ae-Ye)}if(this.lngRange){var $e=Ne.x,lt=ie.x/2;$e-lt<B&&(V=B+lt),$e+lt>Q&&(V=Q-lt)}void 0===V&&void 0===K||(this.center=this.unproject(new l.Point(void 0!==V?V:Ne.x,void 0!==K?K:Ne.y))),this._unmodified=de,this._constraining=!1}},Ur.prototype._calcMatrices=function(){if(this.height){var H=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var V=Math.PI/2+this._pitch,K=this._fov*(.5+H.y/this.height),he=Math.sin(K)*this.cameraToCenterDistance/Math.sin(l.clamp(Math.PI-V-K,.01,Math.PI-.01)),Ae=this.point,B=Ae.x,Q=Ae.y,ie=1.01*(Math.cos(Math.PI/2-this._pitch)*he+this.cameraToCenterDistance),de=this.height/50,ye=new Float64Array(16);l.perspective(ye,this._fov,this.width/this.height,de,ie),ye[8]=2*-H.x/this.width,ye[9]=2*H.y/this.height,l.scale(ye,ye,[1,-1,1]),l.translate(ye,ye,[0,0,-this.cameraToCenterDistance]),l.rotateX(ye,ye,this._pitch),l.rotateZ(ye,ye,this.angle),l.translate(ye,ye,[-B,-Q,0]),this.mercatorMatrix=l.scale([],ye,[this.worldSize,this.worldSize,this.worldSize]),l.scale(ye,ye,[1,1,l.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ye,this.invProjMatrix=l.invert([],this.projMatrix);var Le=this.width%2/2,Ne=this.height%2/2,Ve=Math.cos(this.angle),Ge=Math.sin(this.angle),Ye=B-Math.round(B)+Ve*Le+Ge*Ne,$e=Q-Math.round(Q)+Ve*Ne+Ge*Le,lt=new Float64Array(ye);if(l.translate(lt,lt,[Ye>.5?Ye-1:Ye,$e>.5?$e-1:$e,0]),this.alignedProjMatrix=lt,ye=l.create(),l.scale(ye,ye,[this.width/2,-this.height/2,1]),l.translate(ye,ye,[1,-1,0]),this.labelPlaneMatrix=ye,ye=l.create(),l.scale(ye,ye,[1,-1,1]),l.translate(ye,ye,[-1,-1,0]),l.scale(ye,ye,[2/this.width,2/this.height,1]),this.glCoordMatrix=ye,this.pixelMatrix=l.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(ye=l.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=ye,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Ur.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var z=this.pointCoordinate(new l.Point(0,0)),H=[z.x*this.worldSize,z.y*this.worldSize,0,1];return l.transformMat4(H,H,this.pixelMatrix)[3]/this.cameraToCenterDistance},Ur.prototype.getCameraPoint=function(){var H=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new l.Point(0,H))},Ur.prototype.getCameraQueryGeometry=function(z){var H=this.getCameraPoint();if(1===z.length)return[z[0],H];for(var V=H.x,K=H.y,he=H.x,Ae=H.y,B=0,Q=z;B<Q.length;B+=1){var ie=Q[B];V=Math.min(V,ie.x),K=Math.min(K,ie.y),he=Math.max(he,ie.x),Ae=Math.max(Ae,ie.y)}return[new l.Point(V,K),new l.Point(he,K),new l.Point(he,Ae),new l.Point(V,Ae),new l.Point(V,K)]},Object.defineProperties(Ur.prototype,qr);var So=function(z){var H,K,he,Ae;this._hashName=z&&encodeURIComponent(z),l.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(H=this._updateHashUnthrottled.bind(this),300,K=!1,he=null,Ae=function(){he=null,K&&(H(),he=setTimeout(Ae,300),K=!1)},function(){return K=!0,he||Ae(),he})};So.prototype.addTo=function(z){return this._map=z,l.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},So.prototype.remove=function(){return l.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},So.prototype.getHashString=function(z){var H=this._map.getCenter(),V=Math.round(100*this._map.getZoom())/100,K=Math.ceil((V*Math.LN2+Math.log(512/360/.5))/Math.LN10),he=Math.pow(10,K),Ae=Math.round(H.lng*he)/he,B=Math.round(H.lat*he)/he,Q=this._map.getBearing(),ie=this._map.getPitch(),de="";if(de+=z?"/"+Ae+"/"+B+"/"+V:V+"/"+B+"/"+Ae,(Q||ie)&&(de+="/"+Math.round(10*Q)/10),ie&&(de+="/"+Math.round(ie)),this._hashName){var ye=this._hashName,Le=!1,Ne=l.window.location.hash.slice(1).split("&").map(function(Ve){var Ge=Ve.split("=")[0];return Ge===ye?(Le=!0,Ge+"="+de):Ve}).filter(function(Ve){return Ve});return Le||Ne.push(ye+"="+de),"#"+Ne.join("&")}return"#"+de},So.prototype._getCurrentHash=function(){var z,H=this,V=l.window.location.hash.replace("#","");return this._hashName?(V.split("&").map(function(K){return K.split("=")}).forEach(function(K){K[0]===H._hashName&&(z=K)}),(z&&z[1]||"").split("/")):V.split("/")},So.prototype._onHashChange=function(){var z=this._getCurrentHash();if(z.length>=3&&!z.some(function(V){return isNaN(V)})){var H=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(z[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+z[2],+z[1]],zoom:+z[0],bearing:H,pitch:+(z[4]||0)}),!0}return!1},So.prototype._updateHashUnthrottled=function(){var z=this.getHashString();try{l.window.history.replaceState(l.window.history.state,"",z)}catch{}};var co={linearity:.3,easing:l.bezier(0,0,.3,1)},Ks=l.extend({deceleration:2500,maxSpeed:1400},co),_s=l.extend({deceleration:20,maxSpeed:1400},co),Eo=l.extend({deceleration:1e3,maxSpeed:360},co),ws=l.extend({deceleration:1e3,maxSpeed:90},co),fo=function(z){this._map=z,this.clear()};function Zo(z,H){(!z.duration||z.duration<H.duration)&&(z.duration=H.duration,z.easing=H.easing)}function Lo(z,H,V){var K=V.maxSpeed,he=V.linearity,Ae=V.deceleration,B=l.clamp(z*he/(H/1e3),-K,K),Q=Math.abs(B)/(Ae*he);return{easing:V.easing,duration:1e3*Q,amount:B*(Q/2)}}fo.prototype.clear=function(){this._inertiaBuffer=[]},fo.prototype.record=function(z){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:l.browser.now(),settings:z})},fo.prototype._drainInertiaBuffer=function(){for(var z=this._inertiaBuffer,H=l.browser.now();z.length>0&&H-z[0].time>160;)z.shift()},fo.prototype._onMoveEnd=function(z){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var H={zoom:0,bearing:0,pitch:0,pan:new l.Point(0,0),pinchAround:void 0,around:void 0},V=0,K=this._inertiaBuffer;V<K.length;V+=1){var he=K[V].settings;H.zoom+=he.zoomDelta||0,H.bearing+=he.bearingDelta||0,H.pitch+=he.pitchDelta||0,he.panDelta&&H.pan._add(he.panDelta),he.around&&(H.around=he.around),he.pinchAround&&(H.pinchAround=he.pinchAround)}var Ae=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,B={};if(H.pan.mag()){var Q=Lo(H.pan.mag(),Ae,l.extend({},Ks,z||{}));B.offset=H.pan.mult(Q.amount/H.pan.mag()),B.center=this._map.transform.center,Zo(B,Q)}if(H.zoom){var ie=Lo(H.zoom,Ae,_s);B.zoom=this._map.transform.zoom+ie.amount,Zo(B,ie)}if(H.bearing){var de=Lo(H.bearing,Ae,Eo);B.bearing=this._map.transform.bearing+l.clamp(de.amount,-179,179),Zo(B,de)}if(H.pitch){var ye=Lo(H.pitch,Ae,ws);B.pitch=this._map.transform.pitch+ye.amount,Zo(B,ye)}if(B.zoom||B.bearing){var Le=void 0===H.pinchAround?H.around:H.pinchAround;B.around=Le?this._map.unproject(Le):this._map.getCenter()}return this.clear(),l.extend(B,{noMoveStart:!0})}};var vi=function(z){function H(K,he,Ae,B){void 0===B&&(B={});var Q=b.mousePos(he.getCanvasContainer(),Ae),ie=he.unproject(Q);z.call(this,K,l.extend({point:Q,lngLat:ie,originalEvent:Ae},B)),this._defaultPrevented=!1,this.target=he}z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H;var V={defaultPrevented:{configurable:!0}};return H.prototype.preventDefault=function(){this._defaultPrevented=!0},V.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(H.prototype,V),H}(l.Event),Yo=function(z){function H(K,he,Ae){var B="touchend"===K?Ae.changedTouches:Ae.touches,Q=b.touchPos(he.getCanvasContainer(),B),ie=Q.map(function(Le){return he.unproject(Le)}),de=Q.reduce(function(Le,Ne,Ve,Ge){return Le.add(Ne.div(Ge.length))},new l.Point(0,0)),ye=he.unproject(de);z.call(this,K,{points:Q,point:de,lngLats:ie,lngLat:ye,originalEvent:Ae}),this._defaultPrevented=!1}z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H;var V={defaultPrevented:{configurable:!0}};return H.prototype.preventDefault=function(){this._defaultPrevented=!0},V.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(H.prototype,V),H}(l.Event),Wo=function(z){function H(K,he,Ae){z.call(this,K,{originalEvent:Ae}),this._defaultPrevented=!1}z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H;var V={defaultPrevented:{configurable:!0}};return H.prototype.preventDefault=function(){this._defaultPrevented=!0},V.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(H.prototype,V),H}(l.Event),Ii=function(z,H){this._map=z,this._clickTolerance=H.clickTolerance};Ii.prototype.reset=function(){delete this._mousedownPos},Ii.prototype.wheel=function(z){return this._firePreventable(new Wo(z.type,this._map,z))},Ii.prototype.mousedown=function(z,H){return this._mousedownPos=H,this._firePreventable(new vi(z.type,this._map,z))},Ii.prototype.mouseup=function(z){this._map.fire(new vi(z.type,this._map,z))},Ii.prototype.click=function(z,H){this._mousedownPos&&this._mousedownPos.dist(H)>=this._clickTolerance||this._map.fire(new vi(z.type,this._map,z))},Ii.prototype.dblclick=function(z){return this._firePreventable(new vi(z.type,this._map,z))},Ii.prototype.mouseover=function(z){this._map.fire(new vi(z.type,this._map,z))},Ii.prototype.mouseout=function(z){this._map.fire(new vi(z.type,this._map,z))},Ii.prototype.touchstart=function(z){return this._firePreventable(new Yo(z.type,this._map,z))},Ii.prototype.touchmove=function(z){this._map.fire(new Yo(z.type,this._map,z))},Ii.prototype.touchend=function(z){this._map.fire(new Yo(z.type,this._map,z))},Ii.prototype.touchcancel=function(z){this._map.fire(new Yo(z.type,this._map,z))},Ii.prototype._firePreventable=function(z){if(this._map.fire(z),z.defaultPrevented)return{}},Ii.prototype.isEnabled=function(){return!0},Ii.prototype.isActive=function(){return!1},Ii.prototype.enable=function(){},Ii.prototype.disable=function(){};var $i=function(z){this._map=z};$i.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},$i.prototype.mousemove=function(z){this._map.fire(new vi(z.type,this._map,z))},$i.prototype.mousedown=function(){this._delayContextMenu=!0},$i.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new vi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},$i.prototype.contextmenu=function(z){this._delayContextMenu?this._contextMenuEvent=z:this._map.fire(new vi(z.type,this._map,z)),this._map.listens("contextmenu")&&z.preventDefault()},$i.prototype.isEnabled=function(){return!0},$i.prototype.isActive=function(){return!1},$i.prototype.enable=function(){},$i.prototype.disable=function(){};var Wi=function(z,H){this._map=z,this._el=z.getCanvasContainer(),this._container=z.getContainer(),this._clickTolerance=H.clickTolerance||1};function Di(z,H){for(var V={},K=0;K<z.length;K++)V[z[K].identifier]=H[K];return V}Wi.prototype.isEnabled=function(){return!!this._enabled},Wi.prototype.isActive=function(){return!!this._active},Wi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Wi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Wi.prototype.mousedown=function(z,H){this.isEnabled()&&z.shiftKey&&0===z.button&&(b.disableDrag(),this._startPos=this._lastPos=H,this._active=!0)},Wi.prototype.mousemoveWindow=function(z,H){if(this._active){var V=H;if(!(this._lastPos.equals(V)||!this._box&&V.dist(this._startPos)<this._clickTolerance)){var K=this._startPos;this._lastPos=V,this._box||(this._box=b.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",z));var he=Math.min(K.x,V.x),Ae=Math.max(K.x,V.x),B=Math.min(K.y,V.y),Q=Math.max(K.y,V.y);b.setTransform(this._box,"translate("+he+"px,"+B+"px)"),this._box.style.width=Ae-he+"px",this._box.style.height=Q-B+"px"}}},Wi.prototype.mouseupWindow=function(z,H){var V=this;if(this._active&&0===z.button){var K=this._startPos,he=H;if(this.reset(),b.suppressClick(),K.x!==he.x||K.y!==he.y)return this._map.fire(new l.Event("boxzoomend",{originalEvent:z})),{cameraAnimation:function(Ae){return Ae.fitScreenCoordinates(K,he,V._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",z)}},Wi.prototype.keydown=function(z){this._active&&27===z.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",z))},Wi.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(b.remove(this._box),this._box=null),b.enableDrag(),delete this._startPos,delete this._lastPos},Wi.prototype._fireEvent=function(z,H){return this._map.fire(new l.Event(z,{originalEvent:H}))};var aa=function(z){this.reset(),this.numTouches=z.numTouches};aa.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},aa.prototype.touchstart=function(z,H,V){(this.centroid||V.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=z.timeStamp),V.length===this.numTouches&&(this.centroid=function(K){for(var he=new l.Point(0,0),Ae=0,B=K;Ae<B.length;Ae+=1)he._add(B[Ae]);return he.div(K.length)}(H),this.touches=Di(V,H)))},aa.prototype.touchmove=function(z,H,V){if(!this.aborted&&this.centroid){var K=Di(V,H);for(var he in this.touches){var B=K[he];(!B||B.dist(this.touches[he])>30)&&(this.aborted=!0)}}},aa.prototype.touchend=function(z,H,V){if((!this.centroid||z.timeStamp-this.startTime>500)&&(this.aborted=!0),0===V.length){var K=!this.aborted&&this.centroid;if(this.reset(),K)return K}};var Co=function(z){this.singleTap=new aa(z),this.numTaps=z.numTaps,this.reset()};Co.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Co.prototype.touchstart=function(z,H,V){this.singleTap.touchstart(z,H,V)},Co.prototype.touchmove=function(z,H,V){this.singleTap.touchmove(z,H,V)},Co.prototype.touchend=function(z,H,V){var K=this.singleTap.touchend(z,H,V);if(K){var he=z.timeStamp-this.lastTime<500,Ae=!this.lastTap||this.lastTap.dist(K)<30;if(he&&Ae||this.reset(),this.count++,this.lastTime=z.timeStamp,this.lastTap=K,this.count===this.numTaps)return this.reset(),K}};var Ba=function(){this._zoomIn=new Co({numTouches:1,numTaps:2}),this._zoomOut=new Co({numTouches:2,numTaps:1}),this.reset()};Ba.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ba.prototype.touchstart=function(z,H,V){this._zoomIn.touchstart(z,H,V),this._zoomOut.touchstart(z,H,V)},Ba.prototype.touchmove=function(z,H,V){this._zoomIn.touchmove(z,H,V),this._zoomOut.touchmove(z,H,V)},Ba.prototype.touchend=function(z,H,V){var K=this,he=this._zoomIn.touchend(z,H,V),Ae=this._zoomOut.touchend(z,H,V);return he?(this._active=!0,z.preventDefault(),setTimeout(function(){return K.reset()},0),{cameraAnimation:function(B){return B.easeTo({duration:300,zoom:B.getZoom()+1,around:B.unproject(he)},{originalEvent:z})}}):Ae?(this._active=!0,z.preventDefault(),setTimeout(function(){return K.reset()},0),{cameraAnimation:function(B){return B.easeTo({duration:300,zoom:B.getZoom()-1,around:B.unproject(Ae)},{originalEvent:z})}}):void 0},Ba.prototype.touchcancel=function(){this.reset()},Ba.prototype.enable=function(){this._enabled=!0},Ba.prototype.disable=function(){this._enabled=!1,this.reset()},Ba.prototype.isEnabled=function(){return this._enabled},Ba.prototype.isActive=function(){return this._active};var Vi=function(z){this.reset(),this._clickTolerance=z.clickTolerance||1};Vi.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Vi.prototype._correctButton=function(z,H){return!1},Vi.prototype._move=function(z,H){return{}},Vi.prototype.mousedown=function(z,H){if(!this._lastPoint){var V=b.mouseButton(z);this._correctButton(z,V)&&(this._lastPoint=H,this._eventButton=V)}},Vi.prototype.mousemoveWindow=function(z,H){var V=this._lastPoint;if(V&&(z.preventDefault(),this._moved||!(H.dist(V)<this._clickTolerance)))return this._moved=!0,this._lastPoint=H,this._move(V,H)},Vi.prototype.mouseupWindow=function(z){b.mouseButton(z)===this._eventButton&&(this._moved&&b.suppressClick(),this.reset())},Vi.prototype.enable=function(){this._enabled=!0},Vi.prototype.disable=function(){this._enabled=!1,this.reset()},Vi.prototype.isEnabled=function(){return this._enabled},Vi.prototype.isActive=function(){return this._active};var Ta=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.mousedown=function(V,K){z.prototype.mousedown.call(this,V,K),this._lastPoint&&(this._active=!0)},H.prototype._correctButton=function(V,K){return 0===K&&!V.ctrlKey},H.prototype._move=function(V,K){return{around:K,panDelta:K.sub(V)}},H}(Vi),La=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype._correctButton=function(V,K){return 0===K&&V.ctrlKey||2===K},H.prototype._move=function(V,K){var he=.8*(K.x-V.x);if(he)return this._active=!0,{bearingDelta:he}},H.prototype.contextmenu=function(V){V.preventDefault()},H}(Vi),Bs=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype._correctButton=function(V,K){return 0===K&&V.ctrlKey||2===K},H.prototype._move=function(V,K){var he=-.5*(K.y-V.y);if(he)return this._active=!0,{pitchDelta:he}},H.prototype.contextmenu=function(V){V.preventDefault()},H}(Vi),Ca=function(z){this._minTouches=1,this._clickTolerance=z.clickTolerance||1,this.reset()};Ca.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new l.Point(0,0)},Ca.prototype.touchstart=function(z,H,V){return this._calculateTransform(z,H,V)},Ca.prototype.touchmove=function(z,H,V){if(this._active)return z.preventDefault(),this._calculateTransform(z,H,V)},Ca.prototype.touchend=function(z,H,V){this._calculateTransform(z,H,V),this._active&&V.length<this._minTouches&&this.reset()},Ca.prototype.touchcancel=function(){this.reset()},Ca.prototype._calculateTransform=function(z,H,V){V.length>0&&(this._active=!0);var K=Di(V,H),he=new l.Point(0,0),Ae=new l.Point(0,0),B=0;for(var Q in K){var ie=K[Q],de=this._touches[Q];de&&(he._add(ie),Ae._add(ie.sub(de)),B++,K[Q]=ie)}if(this._touches=K,!(B<this._minTouches)&&Ae.mag()){var ye=Ae.div(B);if(this._sum._add(ye),!(this._sum.mag()<this._clickTolerance))return{around:he.div(B),panDelta:ye}}},Ca.prototype.enable=function(){this._enabled=!0},Ca.prototype.disable=function(){this._enabled=!1,this.reset()},Ca.prototype.isEnabled=function(){return this._enabled},Ca.prototype.isActive=function(){return this._active};var Hi=function(){this.reset()};function br(z,H,V){for(var K=0;K<z.length;K++)if(z[K].identifier===V)return H[K]}function Qi(z,H){return Math.log(z/H)/Math.LN2}Hi.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Hi.prototype._start=function(z){},Hi.prototype._move=function(z,H,V){return{}},Hi.prototype.touchstart=function(z,H,V){this._firstTwoTouches||V.length<2||(this._firstTwoTouches=[V[0].identifier,V[1].identifier],this._start([H[0],H[1]]))},Hi.prototype.touchmove=function(z,H,V){if(this._firstTwoTouches){z.preventDefault();var K=this._firstTwoTouches,Ae=K[1],B=br(V,H,K[0]),Q=br(V,H,Ae);if(B&&Q){var ie=this._aroundCenter?null:B.add(Q).div(2);return this._move([B,Q],ie,z)}}},Hi.prototype.touchend=function(z,H,V){if(this._firstTwoTouches){var K=this._firstTwoTouches,Ae=K[1],B=br(V,H,K[0]),Q=br(V,H,Ae);B&&Q||(this._active&&b.suppressClick(),this.reset())}},Hi.prototype.touchcancel=function(){this.reset()},Hi.prototype.enable=function(z){this._enabled=!0,this._aroundCenter=!!z&&"center"===z.around},Hi.prototype.disable=function(){this._enabled=!1,this.reset()},Hi.prototype.isEnabled=function(){return this._enabled},Hi.prototype.isActive=function(){return this._active};var Ts=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.reset=function(){z.prototype.reset.call(this),delete this._distance,delete this._startDistance},H.prototype._start=function(V){this._startDistance=this._distance=V[0].dist(V[1])},H.prototype._move=function(V,K){var he=this._distance;if(this._distance=V[0].dist(V[1]),this._active||!(Math.abs(Qi(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Qi(this._distance,he),pinchAround:K}},H}(Hi);function Ns(z,H){return 180*z.angleWith(H)/Math.PI}var Xo=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.reset=function(){z.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},H.prototype._start=function(V){this._startVector=this._vector=V[0].sub(V[1]),this._minDiameter=V[0].dist(V[1])},H.prototype._move=function(V,K){var he=this._vector;if(this._vector=V[0].sub(V[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ns(this._vector,he),pinchAround:K}},H.prototype._isBelowThreshold=function(V){this._minDiameter=Math.min(this._minDiameter,V.mag());var K=25/(Math.PI*this._minDiameter)*360,he=Ns(V,this._startVector);return Math.abs(he)<K},H}(Hi);function Jo(z){return Math.abs(z.y)>Math.abs(z.x)}var ho=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.reset=function(){z.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},H.prototype._start=function(V){this._lastPoints=V,Jo(V[0].sub(V[1]))&&(this._valid=!1)},H.prototype._move=function(V,K,he){var Ae=V[0].sub(this._lastPoints[0]),B=V[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ae,B,he.timeStamp),this._valid)return this._lastPoints=V,this._active=!0,{pitchDelta:(Ae.y+B.y)/2*-.5}},H.prototype.gestureBeginsVertically=function(V,K,he){if(void 0!==this._valid)return this._valid;var Ae=V.mag()>=2,B=K.mag()>=2;if(Ae||B){if(!Ae||!B)return void 0===this._firstMove&&(this._firstMove=he),he-this._firstMove<100&&void 0;var Q=V.y>0==K.y>0;return Jo(V)&&Jo(K)&&Q}},H}(Hi),mr={panStep:100,bearingStep:15,pitchStep:10},Na=function(){var z=mr;this._panStep=z.panStep,this._bearingStep=z.bearingStep,this._pitchStep=z.pitchStep};function ls(z){return z*(2-z)}Na.prototype.reset=function(){this._active=!1},Na.prototype.keydown=function(z){var H=this;if(!(z.altKey||z.ctrlKey||z.metaKey)){var V=0,K=0,he=0,Ae=0,B=0;switch(z.keyCode){case 61:case 107:case 171:case 187:V=1;break;case 189:case 109:case 173:V=-1;break;case 37:z.shiftKey?K=-1:(z.preventDefault(),Ae=-1);break;case 39:z.shiftKey?K=1:(z.preventDefault(),Ae=1);break;case 38:z.shiftKey?he=1:(z.preventDefault(),B=-1);break;case 40:z.shiftKey?he=-1:(z.preventDefault(),B=1);break;default:return}return{cameraAnimation:function(Q){var ie=Q.getZoom();Q.easeTo({duration:300,easeId:"keyboardHandler",easing:ls,zoom:V?Math.round(ie)+V*(z.shiftKey?2:1):ie,bearing:Q.getBearing()+K*H._bearingStep,pitch:Q.getPitch()+he*H._pitchStep,offset:[-Ae*H._panStep,-B*H._panStep],center:Q.getCenter()},{originalEvent:z})}}}},Na.prototype.enable=function(){this._enabled=!0},Na.prototype.disable=function(){this._enabled=!1,this.reset()},Na.prototype.isEnabled=function(){return this._enabled},Na.prototype.isActive=function(){return this._active};var ks=4.000244140625,ea=function(z,H){this._map=z,this._el=z.getCanvasContainer(),this._handler=H,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,l.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};ea.prototype.setZoomRate=function(z){this._defaultZoomRate=z},ea.prototype.setWheelZoomRate=function(z){this._wheelZoomRate=z},ea.prototype.isEnabled=function(){return!!this._enabled},ea.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},ea.prototype.isZooming=function(){return!!this._zooming},ea.prototype.enable=function(z){this.isEnabled()||(this._enabled=!0,this._aroundCenter=z&&"center"===z.around)},ea.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ea.prototype.wheel=function(z){if(this.isEnabled()){var H=z.deltaMode===l.window.WheelEvent.DOM_DELTA_LINE?40*z.deltaY:z.deltaY,V=l.browser.now(),K=V-(this._lastWheelEventTime||0);this._lastWheelEventTime=V,0!==H&&H%ks==0?this._type="wheel":0!==H&&Math.abs(H)<4?this._type="trackpad":K>400?(this._type=null,this._lastValue=H,this._timeout=setTimeout(this._onTimeout,40,z)):this._type||(this._type=Math.abs(K*H)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,H+=this._lastValue)),z.shiftKey&&H&&(H/=4),this._type&&(this._lastWheelEvent=z,this._delta-=H,this._active||this._start(z)),z.preventDefault()}},ea.prototype._onTimeout=function(z){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(z)},ea.prototype._start=function(z){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var H=b.mousePos(this._el,z);this._around=l.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(H)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ea.prototype.renderFrame=function(){return this._onScrollFrame()},ea.prototype._onScrollFrame=function(){var z=this;if(this._frameId&&(this._frameId=null,this.isActive())){var H=this._map.transform;if(0!==this._delta){var V="wheel"===this._type&&Math.abs(this._delta)>ks?this._wheelZoomRate:this._defaultZoomRate,K=2/(1+Math.exp(-Math.abs(this._delta*V)));this._delta<0&&0!==K&&(K=1/K);var he="number"==typeof this._targetZoom?H.zoomScale(this._targetZoom):H.scale;this._targetZoom=Math.min(H.maxZoom,Math.max(H.minZoom,H.scaleZoom(he*K))),"wheel"===this._type&&(this._startZoom=H.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ae,B="number"==typeof this._targetZoom?this._targetZoom:H.zoom,Q=this._startZoom,ie=this._easing,de=!1;if("wheel"===this._type&&Q&&ie){var ye=Math.min((l.browser.now()-this._lastWheelEventTime)/200,1),Le=ie(ye);Ae=l.number(Q,B,Le),ye<1?this._frameId||(this._frameId=!0):de=!0}else Ae=B,de=!0;return this._active=!0,de&&(this._active=!1,this._finishTimeout=setTimeout(function(){z._zooming=!1,z._handler._triggerRenderFrame(),delete z._targetZoom,delete z._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!de,zoomDelta:Ae-H.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ea.prototype._smoothOutEasing=function(z){var H=l.ease;if(this._prevEase){var V=this._prevEase,K=(l.browser.now()-V.start)/V.duration,he=V.easing(K+.01)-V.easing(K),Ae=.27/Math.sqrt(he*he+1e-4)*.01,B=Math.sqrt(.0729-Ae*Ae);H=l.bezier(Ae,B,.25,1)}return this._prevEase={start:l.browser.now(),duration:z,easing:H},H},ea.prototype.reset=function(){this._active=!1};var ja=function(z,H){this._clickZoom=z,this._tapZoom=H};ja.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ja.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ja.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ja.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Pa=function(){this.reset()};Pa.prototype.reset=function(){this._active=!1},Pa.prototype.dblclick=function(z,H){return z.preventDefault(),{cameraAnimation:function(V){V.easeTo({duration:300,zoom:V.getZoom()+(z.shiftKey?-1:1),around:V.unproject(H)},{originalEvent:z})}}},Pa.prototype.enable=function(){this._enabled=!0},Pa.prototype.disable=function(){this._enabled=!1,this.reset()},Pa.prototype.isEnabled=function(){return this._enabled},Pa.prototype.isActive=function(){return this._active};var ka=function(){this._tap=new Co({numTouches:1,numTaps:1}),this.reset()};ka.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ka.prototype.touchstart=function(z,H,V){this._swipePoint||(this._tapTime&&z.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?V.length>0&&(this._swipePoint=H[0],this._swipeTouch=V[0].identifier):this._tap.touchstart(z,H,V))},ka.prototype.touchmove=function(z,H,V){if(this._tapTime){if(this._swipePoint){if(V[0].identifier!==this._swipeTouch)return;var K=H[0],he=K.y-this._swipePoint.y;return this._swipePoint=K,z.preventDefault(),this._active=!0,{zoomDelta:he/128}}}else this._tap.touchmove(z,H,V)},ka.prototype.touchend=function(z,H,V){this._tapTime?this._swipePoint&&0===V.length&&this.reset():this._tap.touchend(z,H,V)&&(this._tapTime=z.timeStamp)},ka.prototype.touchcancel=function(){this.reset()},ka.prototype.enable=function(){this._enabled=!0},ka.prototype.disable=function(){this._enabled=!1,this.reset()},ka.prototype.isEnabled=function(){return this._enabled},ka.prototype.isActive=function(){return this._active};var Ja=function(z,H,V){this._el=z,this._mousePan=H,this._touchPan=V};Ja.prototype.enable=function(z){this._inertiaOptions=z||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Ja.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Ja.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Ja.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var po=function(z,H,V){this._pitchWithRotate=z.pitchWithRotate,this._mouseRotate=H,this._mousePitch=V};po.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},po.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},po.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},po.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Ri=function(z,H,V,K){this._el=z,this._touchZoom=H,this._touchRotate=V,this._tapDragZoom=K,this._rotationDisabled=!1,this._enabled=!0};Ri.prototype.enable=function(z){this._touchZoom.enable(z),this._rotationDisabled||this._touchRotate.enable(z),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Ri.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Ri.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Ri.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Ri.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Ri.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ko=function(z){return z.zoom||z.drag||z.pitch||z.rotate},us=function(z){function H(){z.apply(this,arguments)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H}(l.Event);function Gi(z){return z.panDelta&&z.panDelta.mag()||z.zoomDelta||z.bearingDelta||z.pitchDelta}var ni=function(z,H){this._map=z,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fo(z),this._bearingSnap=H.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(H),l.bindAll(["handleEvent","handleWindowEvent"],this);var V=this._el;this._listeners=[[V,"touchstart",{passive:!1}],[V,"touchmove",{passive:!1}],[V,"touchend",void 0],[V,"touchcancel",void 0],[V,"mousedown",void 0],[V,"mousemove",void 0],[V,"mouseup",void 0],[l.window.document,"mousemove",{capture:!0}],[l.window.document,"mouseup",void 0],[V,"mouseover",void 0],[V,"mouseout",void 0],[V,"dblclick",void 0],[V,"click",void 0],[V,"keydown",{capture:!1}],[V,"keyup",void 0],[V,"wheel",{passive:!1}],[V,"contextmenu",void 0],[l.window,"blur",void 0]];for(var K=0,he=this._listeners;K<he.length;K+=1){var Ae=he[K],B=Ae[0];b.addEventListener(B,Ae[1],B===l.window.document?this.handleWindowEvent:this.handleEvent,Ae[2])}};ni.prototype.destroy=function(){for(var z=0,H=this._listeners;z<H.length;z+=1){var V=H[z],K=V[0];b.removeEventListener(K,V[1],K===l.window.document?this.handleWindowEvent:this.handleEvent,V[2])}},ni.prototype._addDefaultHandlers=function(z){var H=this._map,V=H.getCanvasContainer();this._add("mapEvent",new Ii(H,z));var K=H.boxZoom=new Wi(H,z);this._add("boxZoom",K);var he=new Ba,Ae=new Pa;H.doubleClickZoom=new ja(Ae,he),this._add("tapZoom",he),this._add("clickZoom",Ae);var B=new ka;this._add("tapDragZoom",B);var Q=H.touchPitch=new ho;this._add("touchPitch",Q);var ie=new La(z),de=new Bs(z);H.dragRotate=new po(z,ie,de),this._add("mouseRotate",ie,["mousePitch"]),this._add("mousePitch",de,["mouseRotate"]);var ye=new Ta(z),Le=new Ca(z);H.dragPan=new Ja(V,ye,Le),this._add("mousePan",ye),this._add("touchPan",Le,["touchZoom","touchRotate"]);var Ne=new Xo,Ve=new Ts;H.touchZoomRotate=new Ri(V,Ve,Ne,B),this._add("touchRotate",Ne,["touchPan","touchZoom"]),this._add("touchZoom",Ve,["touchPan","touchRotate"]);var Ge=H.scrollZoom=new ea(H,this);this._add("scrollZoom",Ge,["mousePan"]);var Ye=H.keyboard=new Na;this._add("keyboard",Ye),this._add("blockableMapEvent",new $i(H));for(var $e=0,lt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];$e<lt.length;$e+=1){var ht=lt[$e];z.interactive&&z[ht]&&H[ht].enable(z[ht])}},ni.prototype._add=function(z,H,V){this._handlers.push({handlerName:z,handler:H,allowed:V}),this._handlersById[z]=H},ni.prototype.stop=function(){if(!this._updatingCamera){for(var z=0,H=this._handlers;z<H.length;z+=1)H[z].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},ni.prototype.isActive=function(){for(var z=0,H=this._handlers;z<H.length;z+=1)if(H[z].handler.isActive())return!0;return!1},ni.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},ni.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},ni.prototype.isMoving=function(){return!!Ko(this._eventsInProgress)||this.isZooming()},ni.prototype._blockedByActive=function(z,H,V){for(var K in z)if(K!==V&&(!H||H.indexOf(K)<0))return!0;return!1},ni.prototype.handleWindowEvent=function(z){this.handleEvent(z,z.type+"Window")},ni.prototype._getMapTouches=function(z){for(var H=[],V=0,K=z;V<K.length;V+=1){var he=K[V];this._el.contains(he.target)&&H.push(he)}return H},ni.prototype.handleEvent=function(z,H){if("blur"!==z.type){this._updatingCamera=!0;for(var V="renderFrame"===z.type?void 0:z,K={needsRenderFrame:!1},he={},Ae={},B=z.touches?this._getMapTouches(z.touches):void 0,Q=B?b.touchPos(this._el,B):b.mousePos(this._el,z),ie=0,de=this._handlers;ie<de.length;ie+=1){var ye=de[ie],Le=ye.handlerName,Ne=ye.handler,Ve=ye.allowed;if(Ne.isEnabled()){var Ge=void 0;this._blockedByActive(Ae,Ve,Le)?Ne.reset():Ne[H||z.type]&&(Ge=Ne[H||z.type](z,Q,B),this.mergeHandlerResult(K,he,Ge,Le,V),Ge&&Ge.needsRenderFrame&&this._triggerRenderFrame()),(Ge||Ne.isActive())&&(Ae[Le]=Ne)}}var Ye={};for(var $e in this._previousActiveHandlers)Ae[$e]||(Ye[$e]=V);this._previousActiveHandlers=Ae,(Object.keys(Ye).length||Gi(K))&&(this._changes.push([K,he,Ye]),this._triggerRenderFrame()),(Object.keys(Ae).length||Gi(K))&&this._map._stop(!0),this._updatingCamera=!1;var lt=K.cameraAnimation;lt&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],lt(this._map))}else this.stop()},ni.prototype.mergeHandlerResult=function(z,H,V,K,he){if(V){l.extend(z,V);var Ae={handlerName:K,originalEvent:V.originalEvent||he};void 0!==V.zoomDelta&&(H.zoom=Ae),void 0!==V.panDelta&&(H.drag=Ae),void 0!==V.pitchDelta&&(H.pitch=Ae),void 0!==V.bearingDelta&&(H.rotate=Ae)}},ni.prototype._applyChanges=function(){for(var z={},H={},V={},K=0,he=this._changes;K<he.length;K+=1){var Ae=he[K],B=Ae[0],Q=Ae[1],ie=Ae[2];B.panDelta&&(z.panDelta=(z.panDelta||new l.Point(0,0))._add(B.panDelta)),B.zoomDelta&&(z.zoomDelta=(z.zoomDelta||0)+B.zoomDelta),B.bearingDelta&&(z.bearingDelta=(z.bearingDelta||0)+B.bearingDelta),B.pitchDelta&&(z.pitchDelta=(z.pitchDelta||0)+B.pitchDelta),void 0!==B.around&&(z.around=B.around),void 0!==B.pinchAround&&(z.pinchAround=B.pinchAround),B.noInertia&&(z.noInertia=B.noInertia),l.extend(H,Q),l.extend(V,ie)}this._updateMapTransform(z,H,V),this._changes=[]},ni.prototype._updateMapTransform=function(z,H,V){var K=this._map,he=K.transform;if(!Gi(z))return this._fireEvents(H,V);var Ae=z.panDelta,B=z.zoomDelta,Q=z.bearingDelta,ie=z.pitchDelta,de=z.around,ye=z.pinchAround;void 0!==ye&&(de=ye),K._stop(!0),de=de||K.transform.centerPoint;var Le=he.pointLocation(Ae?de.sub(Ae):de);Q&&(he.bearing+=Q),ie&&(he.pitch+=ie),B&&(he.zoom+=B),he.setLocationAtPoint(Le,de),this._map._update(),z.noInertia||this._inertia.record(z),this._fireEvents(H,V)},ni.prototype._fireEvents=function(z,H){var V=this,K=Ko(this._eventsInProgress),he=Ko(z),Ae={};for(var B in z)this._eventsInProgress[B]||(Ae[B+"start"]=z[B].originalEvent),this._eventsInProgress[B]=z[B];for(var ie in!K&&he&&this._fireEvent("movestart",he.originalEvent),Ae)this._fireEvent(ie,Ae[ie]);for(var de in z.rotate&&(this._bearingChanged=!0),he&&this._fireEvent("move",he.originalEvent),z)this._fireEvent(de,z[de].originalEvent);var Le,Ne={};for(var Ve in this._eventsInProgress){var Ge=this._eventsInProgress[Ve],Ye=Ge.handlerName,$e=Ge.originalEvent;this._handlersById[Ye].isActive()||(delete this._eventsInProgress[Ve],Ne[Ve+"end"]=Le=H[Ye]||$e)}for(var lt in Ne)this._fireEvent(lt,Ne[lt]);var ht=Ko(this._eventsInProgress);if((K||he)&&!ht){this._updatingCamera=!0;var Et=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ct=function(St){return 0!==St&&-V._bearingSnap<St&&St<V._bearingSnap};Et?(Ct(Et.bearing||this._map.getBearing())&&(Et.bearing=0),this._map.easeTo(Et,{originalEvent:Le})):(this._map.fire(new l.Event("moveend",{originalEvent:Le})),Ct(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},ni.prototype._fireEvent=function(z,H){this._map.fire(new l.Event(z,H?{originalEvent:H}:{}))},ni.prototype._triggerRenderFrame=function(){var z=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame(function(H){delete z._frameId,z.handleEvent(new us("renderFrame",{timeStamp:H})),z._applyChanges()}))};var Ms=function(z){function H(V,K){z.call(this),this._moving=!1,this._zooming=!1,this.transform=V,this._bearingSnap=K.bearingSnap,l.bindAll(["_renderFrameCallback"],this)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.getCenter=function(){return new l.LngLat(this.transform.center.lng,this.transform.center.lat)},H.prototype.setCenter=function(V,K){return this.jumpTo({center:V},K)},H.prototype.panBy=function(V,K,he){return V=l.Point.convert(V).mult(-1),this.panTo(this.transform.center,l.extend({offset:V},K),he)},H.prototype.panTo=function(V,K,he){return this.easeTo(l.extend({center:V},K),he)},H.prototype.getZoom=function(){return this.transform.zoom},H.prototype.setZoom=function(V,K){return this.jumpTo({zoom:V},K),this},H.prototype.zoomTo=function(V,K,he){return this.easeTo(l.extend({zoom:V},K),he)},H.prototype.zoomIn=function(V,K){return this.zoomTo(this.getZoom()+1,V,K),this},H.prototype.zoomOut=function(V,K){return this.zoomTo(this.getZoom()-1,V,K),this},H.prototype.getBearing=function(){return this.transform.bearing},H.prototype.setBearing=function(V,K){return this.jumpTo({bearing:V},K),this},H.prototype.getPadding=function(){return this.transform.padding},H.prototype.setPadding=function(V,K){return this.jumpTo({padding:V},K),this},H.prototype.rotateTo=function(V,K,he){return this.easeTo(l.extend({bearing:V},K),he)},H.prototype.resetNorth=function(V,K){return this.rotateTo(0,l.extend({duration:1e3},V),K),this},H.prototype.resetNorthPitch=function(V,K){return this.easeTo(l.extend({bearing:0,pitch:0,duration:1e3},V),K),this},H.prototype.snapToNorth=function(V,K){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(V,K):this},H.prototype.getPitch=function(){return this.transform.pitch},H.prototype.setPitch=function(V,K){return this.jumpTo({pitch:V},K),this},H.prototype.cameraForBounds=function(V,K){return V=l.LngLatBounds.convert(V),this._cameraForBoxAndBearing(V.getNorthWest(),V.getSouthEast(),0,K)},H.prototype._cameraForBoxAndBearing=function(V,K,he,Ae){var B={top:0,bottom:0,right:0,left:0};if("number"==typeof(Ae=l.extend({padding:B,offset:[0,0],maxZoom:this.transform.maxZoom},Ae)).padding){var Q=Ae.padding;Ae.padding={top:Q,bottom:Q,right:Q,left:Q}}Ae.padding=l.extend(B,Ae.padding);var ie=this.transform,de=ie.padding,ye=ie.project(l.LngLat.convert(V)),Le=ie.project(l.LngLat.convert(K)),Ne=ye.rotate(-he*Math.PI/180),Ve=Le.rotate(-he*Math.PI/180),Ge=new l.Point(Math.max(Ne.x,Ve.x),Math.max(Ne.y,Ve.y)),Ye=new l.Point(Math.min(Ne.x,Ve.x),Math.min(Ne.y,Ve.y)),$e=Ge.sub(Ye),lt=(ie.width-(de.left+de.right+Ae.padding.left+Ae.padding.right))/$e.x,ht=(ie.height-(de.top+de.bottom+Ae.padding.top+Ae.padding.bottom))/$e.y;if(!(ht<0||lt<0)){var Et=Math.min(ie.scaleZoom(ie.scale*Math.min(lt,ht)),Ae.maxZoom),Ct=l.Point.convert(Ae.offset),Lt=new l.Point(Ct.x+(Ae.padding.left-Ae.padding.right)/2,Ct.y+(Ae.padding.top-Ae.padding.bottom)/2).mult(ie.scale/ie.zoomScale(Et));return{center:ie.unproject(ye.add(Le).div(2).sub(Lt)),zoom:Et,bearing:he}}l.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},H.prototype.fitBounds=function(V,K,he){return this._fitInternal(this.cameraForBounds(V,K),K,he)},H.prototype.fitScreenCoordinates=function(V,K,he,Ae,B){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(l.Point.convert(V)),this.transform.pointLocation(l.Point.convert(K)),he,Ae),Ae,B)},H.prototype._fitInternal=function(V,K,he){return V?(delete(K=l.extend(V,K)).padding,K.linear?this.easeTo(K,he):this.flyTo(K,he)):this},H.prototype.jumpTo=function(V,K){this.stop();var he=this.transform,Ae=!1,B=!1,Q=!1;return"zoom"in V&&he.zoom!==+V.zoom&&(Ae=!0,he.zoom=+V.zoom),void 0!==V.center&&(he.center=l.LngLat.convert(V.center)),"bearing"in V&&he.bearing!==+V.bearing&&(B=!0,he.bearing=+V.bearing),"pitch"in V&&he.pitch!==+V.pitch&&(Q=!0,he.pitch=+V.pitch),null==V.padding||he.isPaddingEqual(V.padding)||(he.padding=V.padding),this.fire(new l.Event("movestart",K)).fire(new l.Event("move",K)),Ae&&this.fire(new l.Event("zoomstart",K)).fire(new l.Event("zoom",K)).fire(new l.Event("zoomend",K)),B&&this.fire(new l.Event("rotatestart",K)).fire(new l.Event("rotate",K)).fire(new l.Event("rotateend",K)),Q&&this.fire(new l.Event("pitchstart",K)).fire(new l.Event("pitch",K)).fire(new l.Event("pitchend",K)),this.fire(new l.Event("moveend",K))},H.prototype.easeTo=function(V,K){var he=this;this._stop(!1,V.easeId),(!1===(V=l.extend({offset:[0,0],duration:500,easing:l.ease},V)).animate||!V.essential&&l.browser.prefersReducedMotion)&&(V.duration=0);var Ae=this.transform,B=this.getZoom(),Q=this.getBearing(),ie=this.getPitch(),de=this.getPadding(),ye="zoom"in V?+V.zoom:B,Le="bearing"in V?this._normalizeBearing(V.bearing,Q):Q,Ne="pitch"in V?+V.pitch:ie,Ve="padding"in V?V.padding:Ae.padding,Ge=l.Point.convert(V.offset),Ye=Ae.centerPoint.add(Ge),$e=Ae.pointLocation(Ye),lt=l.LngLat.convert(V.center||$e);this._normalizeCenter(lt);var ht,Et,Ct=Ae.project($e),St=Ae.project(lt).sub(Ct),zt=Ae.zoomScale(ye-B);V.around&&(ht=l.LngLat.convert(V.around),Et=Ae.locationPoint(ht));var Lt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ye!==B,this._rotating=this._rotating||Q!==Le,this._pitching=this._pitching||Ne!==ie,this._padding=!Ae.isPaddingEqual(Ve),this._easeId=V.easeId,this._prepareEase(K,V.noMoveStart,Lt),clearTimeout(this._easeEndTimeoutID),this._ease(function(en){if(he._zooming&&(Ae.zoom=l.number(B,ye,en)),he._rotating&&(Ae.bearing=l.number(Q,Le,en)),he._pitching&&(Ae.pitch=l.number(ie,Ne,en)),he._padding&&(Ae.interpolatePadding(de,Ve,en),Ye=Ae.centerPoint.add(Ge)),ht)Ae.setLocationAtPoint(ht,Et);else{var Zt=Ae.zoomScale(Ae.zoom-B),Ht=ye>B?Math.min(2,zt):Math.max(.5,zt),pn=Math.pow(Ht,1-en),vn=Ae.unproject(Ct.add(St.mult(en*pn)).mult(Zt));Ae.setLocationAtPoint(Ae.renderWorldCopies?vn.wrap():vn,Ye)}he._fireMoveEvents(K)},function(en){he._afterEase(K,en)},V),this},H.prototype._prepareEase=function(V,K,he){void 0===he&&(he={}),this._moving=!0,K||he.moving||this.fire(new l.Event("movestart",V)),this._zooming&&!he.zooming&&this.fire(new l.Event("zoomstart",V)),this._rotating&&!he.rotating&&this.fire(new l.Event("rotatestart",V)),this._pitching&&!he.pitching&&this.fire(new l.Event("pitchstart",V))},H.prototype._fireMoveEvents=function(V){this.fire(new l.Event("move",V)),this._zooming&&this.fire(new l.Event("zoom",V)),this._rotating&&this.fire(new l.Event("rotate",V)),this._pitching&&this.fire(new l.Event("pitch",V))},H.prototype._afterEase=function(V,K){if(!this._easeId||!K||this._easeId!==K){delete this._easeId;var he=this._zooming,Ae=this._rotating,B=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,he&&this.fire(new l.Event("zoomend",V)),Ae&&this.fire(new l.Event("rotateend",V)),B&&this.fire(new l.Event("pitchend",V)),this.fire(new l.Event("moveend",V))}},H.prototype.flyTo=function(V,K){var he=this;if(!V.essential&&l.browser.prefersReducedMotion){var Ae=l.pick(V,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ae,K)}this.stop(),V=l.extend({offset:[0,0],speed:1.2,curve:1.42,easing:l.ease},V);var B=this.transform,Q=this.getZoom(),ie=this.getBearing(),de=this.getPitch(),ye=this.getPadding(),Le="zoom"in V?l.clamp(+V.zoom,B.minZoom,B.maxZoom):Q,Ne="bearing"in V?this._normalizeBearing(V.bearing,ie):ie,Ve="pitch"in V?+V.pitch:de,Ge="padding"in V?V.padding:B.padding,Ye=B.zoomScale(Le-Q),$e=l.Point.convert(V.offset),lt=B.centerPoint.add($e),ht=B.pointLocation(lt),Et=l.LngLat.convert(V.center||ht);this._normalizeCenter(Et);var Ct=B.project(ht),St=B.project(Et).sub(Ct),zt=V.curve,Lt=Math.max(B.width,B.height),en=Lt/Ye,Zt=St.mag();if("minZoom"in V){var Ht=l.clamp(Math.min(V.minZoom,Q,Le),B.minZoom,B.maxZoom),pn=Lt/B.zoomScale(Ht-Q);zt=Math.sqrt(pn/Zt*2)}var vn=zt*zt;function Rn(Bn){var rr=(en*en-Lt*Lt+(Bn?-1:1)*vn*vn*Zt*Zt)/(2*(Bn?en:Lt)*vn*Zt);return Math.log(Math.sqrt(rr*rr+1)-rr)}function zn(Bn){return(Math.exp(Bn)-Math.exp(-Bn))/2}function Un(Bn){return(Math.exp(Bn)+Math.exp(-Bn))/2}var Yn=Rn(0),or=function(Bn){return Un(Yn)/Un(Yn+zt*Bn)},ar=function(Bn){return Lt*((Un(Yn)*(zn(rr=Yn+zt*Bn)/Un(rr))-zn(Yn))/vn)/Zt;var rr},cr=(Rn(1)-Yn)/zt;if(Math.abs(Zt)<1e-6||!isFinite(cr)){if(Math.abs(Lt-en)<1e-6)return this.easeTo(V,K);var yr=en<Lt?-1:1;cr=Math.abs(Math.log(en/Lt))/zt,ar=function(){return 0},or=function(Bn){return Math.exp(yr*zt*Bn)}}return V.duration="duration"in V?+V.duration:1e3*cr/("screenSpeed"in V?+V.screenSpeed/zt:+V.speed),V.maxDuration&&V.duration>V.maxDuration&&(V.duration=0),this._zooming=!0,this._rotating=ie!==Ne,this._pitching=Ve!==de,this._padding=!B.isPaddingEqual(Ge),this._prepareEase(K,!1),this._ease(function(Bn){var rr=Bn*cr,fr=1/or(rr);B.zoom=1===Bn?Le:Q+B.scaleZoom(fr),he._rotating&&(B.bearing=l.number(ie,Ne,Bn)),he._pitching&&(B.pitch=l.number(de,Ve,Bn)),he._padding&&(B.interpolatePadding(ye,Ge,Bn),lt=B.centerPoint.add($e));var xr=1===Bn?Et:B.unproject(Ct.add(St.mult(ar(rr))).mult(fr));B.setLocationAtPoint(B.renderWorldCopies?xr.wrap():xr,lt),he._fireMoveEvents(K)},function(){return he._afterEase(K)},V),this},H.prototype.isEasing=function(){return!!this._easeFrameId},H.prototype.stop=function(){return this._stop()},H.prototype._stop=function(V,K){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var he=this._onEaseEnd;delete this._onEaseEnd,he.call(this,K)}if(!V){var Ae=this.handlers;Ae&&Ae.stop()}return this},H.prototype._ease=function(V,K,he){!1===he.animate||0===he.duration?(V(1),K()):(this._easeStart=l.browser.now(),this._easeOptions=he,this._onEaseFrame=V,this._onEaseEnd=K,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},H.prototype._renderFrameCallback=function(){var V=Math.min((l.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(V)),V<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},H.prototype._normalizeBearing=function(V,K){V=l.wrap(V,-180,180);var he=Math.abs(V-K);return Math.abs(V-360-K)<he&&(V-=360),Math.abs(V+360-K)<he&&(V+=360),V},H.prototype._normalizeCenter=function(V){var K=this.transform;if(K.renderWorldCopies&&!K.lngRange){var he=V.lng-K.center.lng;V.lng+=he>180?-360:he<-180?360:0}},H}(l.Evented),ga=function(z){void 0===z&&(z={}),this.options=z,l.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};ga.prototype.getDefaultPosition=function(){return"bottom-right"},ga.prototype.onAdd=function(z){var H=this.options&&this.options.compact;return this._map=z,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=b.create("div","mapboxgl-ctrl-attrib-inner",this._container),H&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===H&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},ga.prototype.onRemove=function(){b.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},ga.prototype._updateEditLink=function(){var z=this._editLink;z||(z=this._editLink=this._container.querySelector(".mapbox-improve-map"));var H=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||l.config.ACCESS_TOKEN}];if(z){var V=H.reduce(function(K,he,Ae){return he.value&&(K+=he.key+"="+he.value+(Ae<H.length-1?"&":"")),K},"?");z.href=l.config.FEEDBACK_URL+"/"+V+(this._map._hash?this._map._hash.getHashString(!0):""),z.rel="noopener nofollow"}},ga.prototype._updateData=function(z){!z||"metadata"!==z.sourceDataType&&"style"!==z.dataType||(this._updateAttributions(),this._updateEditLink())},ga.prototype._updateAttributions=function(){if(this._map.style){var z=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?z=z.concat(this.options.customAttribution.map(function(Q){return"string"!=typeof Q?"":Q})):"string"==typeof this.options.customAttribution&&z.push(this.options.customAttribution)),this._map.style.stylesheet){var H=this._map.style.stylesheet;this.styleOwner=H.owner,this.styleId=H.id}var V=this._map.style.sourceCaches;for(var K in V){var he=V[K];if(he.used){var Ae=he.getSource();Ae.attribution&&z.indexOf(Ae.attribution)<0&&z.push(Ae.attribution)}}z.sort(function(Q,ie){return Q.length-ie.length});var B=(z=z.filter(function(Q,ie){for(var de=ie+1;de<z.length;de++)if(z[de].indexOf(Q)>=0)return!1;return!0})).join(" | ");B!==this._attribHTML&&(this._attribHTML=B,z.length?(this._innerContainer.innerHTML=B,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},ga.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var zi=function(){l.bindAll(["_updateLogo"],this),l.bindAll(["_updateCompact"],this)};zi.prototype.onAdd=function(z){this._map=z,this._container=b.create("div","mapboxgl-ctrl");var H=b.create("a","mapboxgl-ctrl-logo");return H.target="_blank",H.rel="noopener nofollow",H.href="https://www.mapbox.com/",H.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),H.setAttribute("rel","noopener nofollow"),this._container.appendChild(H),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},zi.prototype.onRemove=function(){b.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},zi.prototype.getDefaultPosition=function(){return"bottom-left"},zi.prototype._updateLogo=function(z){z&&"metadata"!==z.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},zi.prototype._logoRequired=function(){if(this._map.style){var z=this._map.style.sourceCaches;for(var H in z)if(z[H].getSource().mapbox_logo)return!0;return!1}},zi.prototype._updateCompact=function(){var z=this._container.children;if(z.length){var H=z[0];this._map.getCanvasContainer().offsetWidth<250?H.classList.add("mapboxgl-compact"):H.classList.remove("mapboxgl-compact")}};var Ka=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ka.prototype.add=function(z){var H=++this._id;return this._queue.push({callback:z,id:H,cancelled:!1}),H},Ka.prototype.remove=function(z){for(var H=this._currentlyRunning,V=0,K=H?this._queue.concat(H):this._queue;V<K.length;V+=1){var he=K[V];if(he.id===z)return void(he.cancelled=!0)}},Ka.prototype.run=function(z){void 0===z&&(z=0);var H=this._currentlyRunning=this._queue;this._queue=[];for(var V=0,K=H;V<K.length;V+=1){var he=K[V];if(!he.cancelled&&(he.callback(z),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ka.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var $s={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Ti=l.window.HTMLImageElement,Kr=l.window.HTMLElement,Ma=l.window.ImageBitmap,Ua={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},js=function(z){function H(K){var he=this;if(null!=(K=l.extend({},Ua,K)).minZoom&&null!=K.maxZoom&&K.minZoom>K.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=K.minPitch&&null!=K.maxPitch&&K.minPitch>K.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=K.minPitch&&K.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=K.maxPitch&&K.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var Ae=new Ur(K.minZoom,K.maxZoom,K.minPitch,K.maxPitch,K.renderWorldCopies);if(z.call(this,Ae,K),this._interactive=K.interactive,this._maxTileCacheSize=K.maxTileCacheSize,this._failIfMajorPerformanceCaveat=K.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=K.preserveDrawingBuffer,this._antialias=K.antialias,this._trackResize=K.trackResize,this._bearingSnap=K.bearingSnap,this._refreshExpiredTiles=K.refreshExpiredTiles,this._fadeDuration=K.fadeDuration,this._crossSourceCollisions=K.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=K.collectResourceTiming,this._renderTaskQueue=new Ka,this._controls=[],this._mapId=l.uniqueId(),this._locale=l.extend({},$s,K.locale),this._requestManager=new l.RequestManager(K.transformRequest,K.accessToken),"string"==typeof K.container){if(this._container=l.window.document.getElementById(K.container),!this._container)throw new Error("Container '"+K.container+"' not found.")}else{if(!(K.container instanceof Kr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=K.container}if(K.maxBounds&&this.setMaxBounds(K.maxBounds),l.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return he._update(!1)}),this.on("moveend",function(){return he._update(!1)}),this.on("zoom",function(){return he._update(!0)}),void 0!==l.window&&(l.window.addEventListener("online",this._onWindowOnline,!1),l.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new ni(this,K),this._hash=K.hash&&new So("string"==typeof K.hash&&K.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:K.center,zoom:K.zoom,bearing:K.bearing,pitch:K.pitch}),K.bounds&&(this.resize(),this.fitBounds(K.bounds,l.extend({},K.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=K.localIdeographFontFamily,K.style&&this.setStyle(K.style,{localIdeographFontFamily:K.localIdeographFontFamily}),K.attributionControl&&this.addControl(new ga({customAttribution:K.customAttribution})),this.addControl(new zi,K.logoPosition),this.on("style.load",function(){he.transform.unmodified&&he.jumpTo(he.style.stylesheet)}),this.on("data",function(Q){he._update("style"===Q.dataType),he.fire(new l.Event(Q.dataType+"data",Q))}),this.on("dataloading",function(Q){he.fire(new l.Event(Q.dataType+"dataloading",Q))})}z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H;var V={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return H.prototype._getMapId=function(){return this._mapId},H.prototype.addControl=function(K,he){if(void 0===he&&K.getDefaultPosition&&(he=K.getDefaultPosition()),void 0===he&&(he="top-right"),!K||!K.onAdd)return this.fire(new l.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ae=K.onAdd(this);this._controls.push(K);var B=this._controlPositions[he];return-1!==he.indexOf("bottom")?B.insertBefore(Ae,B.firstChild):B.appendChild(Ae),this},H.prototype.removeControl=function(K){if(!K||!K.onRemove)return this.fire(new l.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var he=this._controls.indexOf(K);return he>-1&&this._controls.splice(he,1),K.onRemove(this),this},H.prototype.resize=function(K){var he=this._containerDimensions(),Ae=he[0],B=he[1];this._resizeCanvas(Ae,B),this.transform.resize(Ae,B),this.painter.resize(Ae,B);var Q=!this._moving;return Q&&(this.stop(),this.fire(new l.Event("movestart",K)).fire(new l.Event("move",K))),this.fire(new l.Event("resize",K)),Q&&this.fire(new l.Event("moveend",K)),this},H.prototype.getBounds=function(){return this.transform.getBounds()},H.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},H.prototype.setMaxBounds=function(K){return this.transform.setMaxBounds(l.LngLatBounds.convert(K)),this._update()},H.prototype.setMinZoom=function(K){if((K=K??-2)>=-2&&K<=this.transform.maxZoom)return this.transform.minZoom=K,this._update(),this.getZoom()<K&&this.setZoom(K),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},H.prototype.getMinZoom=function(){return this.transform.minZoom},H.prototype.setMaxZoom=function(K){if((K=K??22)>=this.transform.minZoom)return this.transform.maxZoom=K,this._update(),this.getZoom()>K&&this.setZoom(K),this;throw new Error("maxZoom must be greater than the current minZoom")},H.prototype.getMaxZoom=function(){return this.transform.maxZoom},H.prototype.setMinPitch=function(K){if((K=K??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(K>=0&&K<=this.transform.maxPitch)return this.transform.minPitch=K,this._update(),this.getPitch()<K&&this.setPitch(K),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},H.prototype.getMinPitch=function(){return this.transform.minPitch},H.prototype.setMaxPitch=function(K){if((K=K??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(K>=this.transform.minPitch)return this.transform.maxPitch=K,this._update(),this.getPitch()>K&&this.setPitch(K),this;throw new Error("maxPitch must be greater than the current minPitch")},H.prototype.getMaxPitch=function(){return this.transform.maxPitch},H.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},H.prototype.setRenderWorldCopies=function(K){return this.transform.renderWorldCopies=K,this._update()},H.prototype.project=function(K){return this.transform.locationPoint(l.LngLat.convert(K))},H.prototype.unproject=function(K){return this.transform.pointLocation(l.Point.convert(K))},H.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},H.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},H.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},H.prototype._createDelegatedListener=function(K,he,Ae){var B,Q=this;if("mouseenter"===K||"mouseover"===K){var ie=!1;return{layer:he,listener:Ae,delegates:{mousemove:function(ye){var Le=Q.getLayer(he)?Q.queryRenderedFeatures(ye.point,{layers:[he]}):[];Le.length?ie||(ie=!0,Ae.call(Q,new vi(K,Q,ye.originalEvent,{features:Le}))):ie=!1},mouseout:function(){ie=!1}}}}if("mouseleave"===K||"mouseout"===K){var de=!1;return{layer:he,listener:Ae,delegates:{mousemove:function(ye){(Q.getLayer(he)?Q.queryRenderedFeatures(ye.point,{layers:[he]}):[]).length?de=!0:de&&(de=!1,Ae.call(Q,new vi(K,Q,ye.originalEvent)))},mouseout:function(ye){de&&(de=!1,Ae.call(Q,new vi(K,Q,ye.originalEvent)))}}}}return{layer:he,listener:Ae,delegates:(B={},B[K]=function(ye){var Le=Q.getLayer(he)?Q.queryRenderedFeatures(ye.point,{layers:[he]}):[];Le.length&&(ye.features=Le,Ae.call(Q,ye),delete ye.features)},B)}},H.prototype.on=function(K,he,Ae){if(void 0===Ae)return z.prototype.on.call(this,K,he);var B=this._createDelegatedListener(K,he,Ae);for(var Q in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[K]=this._delegatedListeners[K]||[],this._delegatedListeners[K].push(B),B.delegates)this.on(Q,B.delegates[Q]);return this},H.prototype.once=function(K,he,Ae){if(void 0===Ae)return z.prototype.once.call(this,K,he);var B=this._createDelegatedListener(K,he,Ae);for(var Q in B.delegates)this.once(Q,B.delegates[Q]);return this},H.prototype.off=function(K,he,Ae){var B=this;return void 0===Ae?z.prototype.off.call(this,K,he):(this._delegatedListeners&&this._delegatedListeners[K]&&function(Q){for(var ie=Q[K],de=0;de<ie.length;de++){var ye=ie[de];if(ye.layer===he&&ye.listener===Ae){for(var Le in ye.delegates)B.off(Le,ye.delegates[Le]);return ie.splice(de,1),B}}}(this._delegatedListeners),this)},H.prototype.queryRenderedFeatures=function(K,he){if(!this.style)return[];var Ae;if(void 0!==he||void 0===K||K instanceof l.Point||Array.isArray(K)||(he=K,K=void 0),he=he||{},(K=K||[[0,0],[this.transform.width,this.transform.height]])instanceof l.Point||"number"==typeof K[0])Ae=[l.Point.convert(K)];else{var B=l.Point.convert(K[0]),Q=l.Point.convert(K[1]);Ae=[B,new l.Point(Q.x,B.y),Q,new l.Point(B.x,Q.y),B]}return this.style.queryRenderedFeatures(Ae,he,this.transform)},H.prototype.querySourceFeatures=function(K,he){return this.style.querySourceFeatures(K,he)},H.prototype.setStyle=function(K,he){return!1!==(he=l.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},he)).diff&&he.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&K?(this._diffStyle(K,he),this):(this._localIdeographFontFamily=he.localIdeographFontFamily,this._updateStyle(K,he))},H.prototype._getUIString=function(K){var he=this._locale[K];if(null==he)throw new Error("Missing UI string '"+K+"'");return he},H.prototype._updateStyle=function(K,he){return this.style&&(this.style.setEventedParent(null),this.style._remove()),K?(this.style=new er(this,he||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof K?this.style.loadURL(K):this.style.loadJSON(K),this):(delete this.style,this)},H.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new er(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},H.prototype._diffStyle=function(K,he){var Ae=this;if("string"==typeof K){var B=this._requestManager.normalizeStyleURL(K),Q=this._requestManager.transformRequest(B,l.ResourceType.Style);l.getJSON(Q,function(ie,de){ie?Ae.fire(new l.ErrorEvent(ie)):de&&Ae._updateDiff(de,he)})}else"object"==typeof K&&this._updateDiff(K,he)},H.prototype._updateDiff=function(K,he){try{this.style.setState(K)&&this._update(!0)}catch(Ae){l.warnOnce("Unable to perform style diff: "+(Ae.message||Ae.error||Ae)+".  Rebuilding the style from scratch."),this._updateStyle(K,he)}},H.prototype.getStyle=function(){if(this.style)return this.style.serialize()},H.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():l.warnOnce("There is no style added to the map.")},H.prototype.addSource=function(K,he){return this._lazyInitEmptyStyle(),this.style.addSource(K,he),this._update(!0)},H.prototype.isSourceLoaded=function(K){var he=this.style&&this.style.sourceCaches[K];if(void 0!==he)return he.loaded();this.fire(new l.ErrorEvent(new Error("There is no source with ID '"+K+"'")))},H.prototype.areTilesLoaded=function(){var K=this.style&&this.style.sourceCaches;for(var he in K){var Ae=K[he]._tiles;for(var B in Ae){var Q=Ae[B];if("loaded"!==Q.state&&"errored"!==Q.state)return!1}}return!0},H.prototype.addSourceType=function(K,he,Ae){return this._lazyInitEmptyStyle(),this.style.addSourceType(K,he,Ae)},H.prototype.removeSource=function(K){return this.style.removeSource(K),this._update(!0)},H.prototype.getSource=function(K){return this.style.getSource(K)},H.prototype.addImage=function(K,he,Ae){void 0===Ae&&(Ae={});var B=Ae.pixelRatio;void 0===B&&(B=1);var Q=Ae.sdf;void 0===Q&&(Q=!1);var ie=Ae.stretchX,de=Ae.stretchY,ye=Ae.content;if(this._lazyInitEmptyStyle(),he instanceof Ti||Ma&&he instanceof Ma){var Le=l.browser.getImageData(he);this.style.addImage(K,{data:new l.RGBAImage({width:Le.width,height:Le.height},Le.data),pixelRatio:B,stretchX:ie,stretchY:de,content:ye,sdf:Q,version:0})}else{if(void 0===he.width||void 0===he.height)return this.fire(new l.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var ht=he;this.style.addImage(K,{data:new l.RGBAImage({width:he.width,height:he.height},new Uint8Array(he.data)),pixelRatio:B,stretchX:ie,stretchY:de,content:ye,sdf:Q,version:0,userImage:ht}),ht.onAdd&&ht.onAdd(this,K)}},H.prototype.updateImage=function(K,he){var Ae=this.style.getImage(K);if(!Ae)return this.fire(new l.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var B=he instanceof Ti||Ma&&he instanceof Ma?l.browser.getImageData(he):he,Q=B.width,ie=B.height,de=B.data;return void 0===Q||void 0===ie?this.fire(new l.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):Q!==Ae.data.width||ie!==Ae.data.height?this.fire(new l.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(Ae.data.replace(de,!(he instanceof Ti||Ma&&he instanceof Ma)),void this.style.updateImage(K,Ae))},H.prototype.hasImage=function(K){return K?!!this.style.getImage(K):(this.fire(new l.ErrorEvent(new Error("Missing required image id"))),!1)},H.prototype.removeImage=function(K){this.style.removeImage(K)},H.prototype.loadImage=function(K,he){l.getImage(this._requestManager.transformRequest(K,l.ResourceType.Image),he)},H.prototype.listImages=function(){return this.style.listImages()},H.prototype.addLayer=function(K,he){return this._lazyInitEmptyStyle(),this.style.addLayer(K,he),this._update(!0)},H.prototype.moveLayer=function(K,he){return this.style.moveLayer(K,he),this._update(!0)},H.prototype.removeLayer=function(K){return this.style.removeLayer(K),this._update(!0)},H.prototype.getLayer=function(K){return this.style.getLayer(K)},H.prototype.setLayerZoomRange=function(K,he,Ae){return this.style.setLayerZoomRange(K,he,Ae),this._update(!0)},H.prototype.setFilter=function(K,he,Ae){return void 0===Ae&&(Ae={}),this.style.setFilter(K,he,Ae),this._update(!0)},H.prototype.getFilter=function(K){return this.style.getFilter(K)},H.prototype.setPaintProperty=function(K,he,Ae,B){return void 0===B&&(B={}),this.style.setPaintProperty(K,he,Ae,B),this._update(!0)},H.prototype.getPaintProperty=function(K,he){return this.style.getPaintProperty(K,he)},H.prototype.setLayoutProperty=function(K,he,Ae,B){return void 0===B&&(B={}),this.style.setLayoutProperty(K,he,Ae,B),this._update(!0)},H.prototype.getLayoutProperty=function(K,he){return this.style.getLayoutProperty(K,he)},H.prototype.setLight=function(K,he){return void 0===he&&(he={}),this._lazyInitEmptyStyle(),this.style.setLight(K,he),this._update(!0)},H.prototype.getLight=function(){return this.style.getLight()},H.prototype.setFeatureState=function(K,he){return this.style.setFeatureState(K,he),this._update()},H.prototype.removeFeatureState=function(K,he){return this.style.removeFeatureState(K,he),this._update()},H.prototype.getFeatureState=function(K){return this.style.getFeatureState(K)},H.prototype.getContainer=function(){return this._container},H.prototype.getCanvasContainer=function(){return this._canvasContainer},H.prototype.getCanvas=function(){return this._canvas},H.prototype._containerDimensions=function(){var K=0,he=0;return this._container&&(K=this._container.clientWidth||400,he=this._container.clientHeight||300),[K,he]},H.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==l.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&l.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},H.prototype._setupContainer=function(){var K=this._container;K.classList.add("mapboxgl-map"),(this._missingCSSCanary=b.create("div","mapboxgl-canary",K)).style.visibility="hidden",this._detectMissingCSS();var he=this._canvasContainer=b.create("div","mapboxgl-canvas-container",K);this._interactive&&he.classList.add("mapboxgl-interactive"),this._canvas=b.create("canvas","mapboxgl-canvas",he),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var Ae=this._containerDimensions();this._resizeCanvas(Ae[0],Ae[1]);var B=this._controlContainer=b.create("div","mapboxgl-control-container",K),Q=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ie){Q[ie]=b.create("div","mapboxgl-ctrl-"+ie,B)})},H.prototype._resizeCanvas=function(K,he){var Ae=l.browser.devicePixelRatio||1;this._canvas.width=Ae*K,this._canvas.height=Ae*he,this._canvas.style.width=K+"px",this._canvas.style.height=he+"px"},H.prototype._setupPainter=function(){var K=l.extend({},T.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),he=this._canvas.getContext("webgl",K)||this._canvas.getContext("experimental-webgl",K);he?(this.painter=new ti(he,this.transform),l.webpSupported.testSupport(he)):this.fire(new l.ErrorEvent(new Error("Failed to initialize WebGL")))},H.prototype._contextLost=function(K){K.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new l.Event("webglcontextlost",{originalEvent:K}))},H.prototype._contextRestored=function(K){this._setupPainter(),this.resize(),this._update(),this.fire(new l.Event("webglcontextrestored",{originalEvent:K}))},H.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},H.prototype._update=function(K){return this.style?(this._styleDirty=this._styleDirty||K,this._sourcesDirty=!0,this.triggerRepaint(),this):this},H.prototype._requestRenderFrame=function(K){return this._update(),this._renderTaskQueue.add(K)},H.prototype._cancelRenderFrame=function(K){this._renderTaskQueue.remove(K)},H.prototype._render=function(K){var he,Ae=this,B=0,Q=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(he=Q.createQueryEXT(),Q.beginQueryEXT(Q.TIME_ELAPSED_EXT,he),B=l.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(K),!this._removed){var ie=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var de=this.transform.zoom,ye=l.browser.now();this.style.zoomHistory.update(de,ye);var Le=new l.EvaluationParameters(de,{now:ye,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ne=Le.crossFadingFactor();1===Ne&&Ne===this._crossFadingFactor||(ie=!0,this._crossFadingFactor=Ne),this.style.update(Le)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new l.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new l.Event("load"))),this.style&&(this.style.hasTransitions()||ie)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Ve=l.browser.now()-B;Q.endQueryEXT(Q.TIME_ELAPSED_EXT,he),setTimeout(function(){var Ye=Q.getQueryObjectEXT(he,Q.QUERY_RESULT_EXT)/1e6;Q.deleteQueryEXT(he),Ae.fire(new l.Event("gpu-timing-frame",{cpuTime:Ve,gpuTime:Ye}))},50)}if(this.listens("gpu-timing-layer")){var Ge=this.painter.collectGpuTimers();setTimeout(function(){var Ye=Ae.painter.queryGpuTimers(Ge);Ae.fire(new l.Event("gpu-timing-layer",{layerTimes:Ye}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new l.Event("idle"))),this}},H.prototype.remove=function(){this._hash&&this._hash.remove();for(var K=0,he=this._controls;K<he.length;K+=1)he[K].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==l.window&&(l.window.removeEventListener("resize",this._onWindowResize,!1),l.window.removeEventListener("online",this._onWindowOnline,!1));var Ae=this.painter.context.gl.getExtension("WEBGL_lose_context");Ae&&Ae.loseContext(),Po(this._canvasContainer),Po(this._controlContainer),Po(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new l.Event("remove"))},H.prototype.triggerRepaint=function(){var K=this;this.style&&!this._frame&&(this._frame=l.browser.frame(function(he){K._frame=null,K._render(he)}))},H.prototype._onWindowOnline=function(){this._update()},H.prototype._onWindowResize=function(K){this._trackResize&&this.resize({originalEvent:K})._update()},V.showTileBoundaries.get=function(){return!!this._showTileBoundaries},V.showTileBoundaries.set=function(K){this._showTileBoundaries!==K&&(this._showTileBoundaries=K,this._update())},V.showPadding.get=function(){return!!this._showPadding},V.showPadding.set=function(K){this._showPadding!==K&&(this._showPadding=K,this._update())},V.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},V.showCollisionBoxes.set=function(K){this._showCollisionBoxes!==K&&(this._showCollisionBoxes=K,K?this.style._generateCollisionBoxes():this._update())},V.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},V.showOverdrawInspector.set=function(K){this._showOverdrawInspector!==K&&(this._showOverdrawInspector=K,this._update())},V.repaint.get=function(){return!!this._repaint},V.repaint.set=function(K){this._repaint!==K&&(this._repaint=K,this.triggerRepaint())},V.vertices.get=function(){return!!this._vertices},V.vertices.set=function(K){this._vertices=K,this._update()},H.prototype._setCacheLimits=function(K,he){l.setCacheLimits(K,he)},V.version.get=function(){return l.version},Object.defineProperties(H.prototype,V),H}(Ms);function Po(z){z.parentNode&&z.parentNode.removeChild(z)}var $o={showCompass:!0,showZoom:!0,visualizePitch:!1},Ci=function(z){var H=this;this.options=l.extend({},$o,z),this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(V){return V.preventDefault()}),this.options.showZoom&&(l.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(V){return H._map.zoomIn({},{originalEvent:V})}),b.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(V){return H._map.zoomOut({},{originalEvent:V})}),b.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(l.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(V){H.options.visualizePitch?H._map.resetNorthPitch({},{originalEvent:V}):H._map.resetNorth({},{originalEvent:V})}),this._compassIcon=b.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Ci.prototype._updateZoomButtons=function(){var z=this._map.getZoom();this._zoomInButton.disabled=z===this._map.getMaxZoom(),this._zoomOutButton.disabled=z===this._map.getMinZoom()},Ci.prototype._rotateCompassArrow=function(){var z=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=z},Ci.prototype.onAdd=function(z){return this._map=z,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Xi(this._map,this._compass,this.options.visualizePitch)),this._container},Ci.prototype.onRemove=function(){b.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Ci.prototype._createButton=function(z,H){var V=b.create("button",z,this._container);return V.type="button",V.addEventListener("click",H),V},Ci.prototype._setButtonTitle=function(z,H){var V=this._map._getUIString("NavigationControl."+H);z.title=V,z.setAttribute("aria-label",V)};var Xi=function(z,H,V){void 0===V&&(V=!1),this._clickTolerance=10,this.element=H,this.mouseRotate=new La({clickTolerance:z.dragRotate._mouseRotate._clickTolerance}),this.map=z,V&&(this.mousePitch=new Bs({clickTolerance:z.dragRotate._mousePitch._clickTolerance})),l.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),b.addEventListener(H,"mousedown",this.mousedown),b.addEventListener(H,"touchstart",this.touchstart,{passive:!1}),b.addEventListener(H,"touchmove",this.touchmove),b.addEventListener(H,"touchend",this.touchend),b.addEventListener(H,"touchcancel",this.reset)};function Mr(z,H,V){if(z=new l.LngLat(z.lng,z.lat),H){var K=new l.LngLat(z.lng-360,z.lat),he=new l.LngLat(z.lng+360,z.lat),Ae=V.locationPoint(z).distSqr(H);V.locationPoint(K).distSqr(H)<Ae?z=K:V.locationPoint(he).distSqr(H)<Ae&&(z=he)}for(;Math.abs(z.lng-V.center.lng)>180;){var B=V.locationPoint(z);if(B.x>=0&&B.y>=0&&B.x<=V.width&&B.y<=V.height)break;z.lng>V.center.lng?z.lng-=360:z.lng+=360}return z}Xi.prototype.down=function(z,H){this.mouseRotate.mousedown(z,H),this.mousePitch&&this.mousePitch.mousedown(z,H),b.disableDrag()},Xi.prototype.move=function(z,H){var V=this.map,K=this.mouseRotate.mousemoveWindow(z,H);if(K&&K.bearingDelta&&V.setBearing(V.getBearing()+K.bearingDelta),this.mousePitch){var he=this.mousePitch.mousemoveWindow(z,H);he&&he.pitchDelta&&V.setPitch(V.getPitch()+he.pitchDelta)}},Xi.prototype.off=function(){var z=this.element;b.removeEventListener(z,"mousedown",this.mousedown),b.removeEventListener(z,"touchstart",this.touchstart,{passive:!1}),b.removeEventListener(z,"touchmove",this.touchmove),b.removeEventListener(z,"touchend",this.touchend),b.removeEventListener(z,"touchcancel",this.reset),this.offTemp()},Xi.prototype.offTemp=function(){b.enableDrag(),b.removeEventListener(l.window,"mousemove",this.mousemove),b.removeEventListener(l.window,"mouseup",this.mouseup)},Xi.prototype.mousedown=function(z){this.down(l.extend({},z,{ctrlKey:!0,preventDefault:function(){return z.preventDefault()}}),b.mousePos(this.element,z)),b.addEventListener(l.window,"mousemove",this.mousemove),b.addEventListener(l.window,"mouseup",this.mouseup)},Xi.prototype.mousemove=function(z){this.move(z,b.mousePos(this.element,z))},Xi.prototype.mouseup=function(z){this.mouseRotate.mouseupWindow(z),this.mousePitch&&this.mousePitch.mouseupWindow(z),this.offTemp()},Xi.prototype.touchstart=function(z){1!==z.targetTouches.length?this.reset():(this._startPos=this._lastPos=b.touchPos(this.element,z.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return z.preventDefault()}},this._startPos))},Xi.prototype.touchmove=function(z){1!==z.targetTouches.length?this.reset():(this._lastPos=b.touchPos(this.element,z.targetTouches)[0],this.move({preventDefault:function(){return z.preventDefault()}},this._lastPos))},Xi.prototype.touchend=function(z){0===z.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Xi.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Sr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function cs(z,H,V){var K=z.classList;for(var he in Sr)K.remove("mapboxgl-"+V+"-anchor-"+he);K.add("mapboxgl-"+V+"-anchor-"+H)}var oa,Oo=function(z){function H(V,K){var he=this;if(z.call(this),(V instanceof l.window.HTMLElement||K)&&(V=l.extend({element:V},K)),l.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=V&&V.anchor||"center",this._color=V&&V.color||"#3FB1CE",this._draggable=V&&V.draggable||!1,this._state="inactive",this._rotation=V&&V.rotation||0,this._rotationAlignment=V&&V.rotationAlignment||"auto",this._pitchAlignment=V&&V.pitchAlignment&&"auto"!==V.pitchAlignment?V.pitchAlignment:this._rotationAlignment,V&&V.element)this._element=V.element,this._offset=l.Point.convert(V&&V.offset||[0,0]);else{this._defaultMarker=!0,this._element=b.create("div"),this._element.setAttribute("aria-label","Map marker");var Ae=b.createNS("http://www.w3.org/2000/svg","svg");Ae.setAttributeNS(null,"display","block"),Ae.setAttributeNS(null,"height","41px"),Ae.setAttributeNS(null,"width","27px"),Ae.setAttributeNS(null,"viewBox","0 0 27 41");var B=b.createNS("http://www.w3.org/2000/svg","g");B.setAttributeNS(null,"stroke","none"),B.setAttributeNS(null,"stroke-width","1"),B.setAttributeNS(null,"fill","none"),B.setAttributeNS(null,"fill-rule","evenodd");var Q=b.createNS("http://www.w3.org/2000/svg","g");Q.setAttributeNS(null,"fill-rule","nonzero");var ie=b.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ie.setAttributeNS(null,"fill","#000000");for(var de=0,ye=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];de<ye.length;de+=1){var Le=ye[de],Ne=b.createNS("http://www.w3.org/2000/svg","ellipse");Ne.setAttributeNS(null,"opacity","0.04"),Ne.setAttributeNS(null,"cx","10.5"),Ne.setAttributeNS(null,"cy","5.80029008"),Ne.setAttributeNS(null,"rx",Le.rx),Ne.setAttributeNS(null,"ry",Le.ry),ie.appendChild(Ne)}var Ve=b.createNS("http://www.w3.org/2000/svg","g");Ve.setAttributeNS(null,"fill",this._color);var Ge=b.createNS("http://www.w3.org/2000/svg","path");Ge.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ve.appendChild(Ge);var Ye=b.createNS("http://www.w3.org/2000/svg","g");Ye.setAttributeNS(null,"opacity","0.25"),Ye.setAttributeNS(null,"fill","#000000");var $e=b.createNS("http://www.w3.org/2000/svg","path");$e.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Ye.appendChild($e);var lt=b.createNS("http://www.w3.org/2000/svg","g");lt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),lt.setAttributeNS(null,"fill","#FFFFFF");var ht=b.createNS("http://www.w3.org/2000/svg","g");ht.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Et=b.createNS("http://www.w3.org/2000/svg","circle");Et.setAttributeNS(null,"fill","#000000"),Et.setAttributeNS(null,"opacity","0.25"),Et.setAttributeNS(null,"cx","5.5"),Et.setAttributeNS(null,"cy","5.5"),Et.setAttributeNS(null,"r","5.4999962");var Ct=b.createNS("http://www.w3.org/2000/svg","circle");Ct.setAttributeNS(null,"fill","#FFFFFF"),Ct.setAttributeNS(null,"cx","5.5"),Ct.setAttributeNS(null,"cy","5.5"),Ct.setAttributeNS(null,"r","5.4999962"),ht.appendChild(Et),ht.appendChild(Ct),Q.appendChild(ie),Q.appendChild(Ve),Q.appendChild(Ye),Q.appendChild(lt),Q.appendChild(ht),Ae.appendChild(Q),this._element.appendChild(Ae),this._offset=l.Point.convert(V&&V.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(St){St.preventDefault()}),this._element.addEventListener("mousedown",function(St){St.preventDefault()}),this._element.addEventListener("focus",function(){var St=he._map.getContainer();St.scrollTop=0,St.scrollLeft=0}),cs(this._element,this._anchor,"marker"),this._popup=null}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.addTo=function(V){return this.remove(),this._map=V,V.getCanvasContainer().appendChild(this._element),V.on("move",this._update),V.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},H.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),b.remove(this._element),this._popup&&this._popup.remove(),this},H.prototype.getLngLat=function(){return this._lngLat},H.prototype.setLngLat=function(V){return this._lngLat=l.LngLat.convert(V),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},H.prototype.getElement=function(){return this._element},H.prototype.setPopup=function(V){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),V){if(!("offset"in V.options)){var he=Math.sqrt(Math.pow(13.5,2)/2);V.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[he,-1*(24.6+he)],"bottom-right":[-he,-1*(24.6+he)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=V,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},H.prototype._onKeyPress=function(V){var K=V.code,he=V.charCode||V.keyCode;"Space"!==K&&"Enter"!==K&&32!==he&&13!==he||this.togglePopup()},H.prototype._onMapClick=function(V){var K=V.originalEvent.target,he=this._element;this._popup&&(K===he||he.contains(K))&&this.togglePopup()},H.prototype.getPopup=function(){return this._popup},H.prototype.togglePopup=function(){var V=this._popup;return V?(V.isOpen()?V.remove():V.addTo(this._map),this):this},H.prototype._update=function(V){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Mr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var K="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?K="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(K="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var he="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?he="rotateX(0deg)":"map"===this._pitchAlignment&&(he="rotateX("+this._map.getPitch()+"deg)"),V&&"moveend"!==V.type||(this._pos=this._pos.round()),b.setTransform(this._element,Sr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+he+" "+K)}},H.prototype.getOffset=function(){return this._offset},H.prototype.setOffset=function(V){return this._offset=l.Point.convert(V),this._update(),this},H.prototype._onMove=function(V){this._pos=V.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new l.Event("dragstart"))),this.fire(new l.Event("drag"))},H.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new l.Event("dragend")),this._state="inactive"},H.prototype._addDragHandler=function(V){this._element.contains(V.originalEvent.target)&&(V.preventDefault(),this._positionDelta=V.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},H.prototype.setDraggable=function(V){return this._draggable=!!V,this._map&&(V?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},H.prototype.isDraggable=function(){return this._draggable},H.prototype.setRotation=function(V){return this._rotation=V||0,this._update(),this},H.prototype.getRotation=function(){return this._rotation},H.prototype.setRotationAlignment=function(V){return this._rotationAlignment=V||"auto",this._update(),this},H.prototype.getRotationAlignment=function(){return this._rotationAlignment},H.prototype.setPitchAlignment=function(V){return this._pitchAlignment=V&&"auto"!==V?V:this._rotationAlignment,this._update(),this},H.prototype.getPitchAlignment=function(){return this._pitchAlignment},H}(l.Evented),Ji={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},fs=0,Ki=!1,Io=function(z){function H(V){z.call(this),this.options=l.extend({},Ji,V),l.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.onAdd=function(V){return this._map=V,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),K=this._setupUI,void 0!==oa?K(oa):void 0!==l.window.navigator.permissions?l.window.navigator.permissions.query({name:"geolocation"}).then(function(he){K(oa="denied"!==he.state)}):K(oa=!!l.window.navigator.geolocation),this._container;var K},H.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(l.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),b.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,fs=0,Ki=!1},H.prototype._isOutOfMapMaxBounds=function(V){var K=this._map.getMaxBounds(),he=V.coords;return K&&(he.longitude<K.getWest()||he.longitude>K.getEast()||he.latitude<K.getSouth()||he.latitude>K.getNorth())},H.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},H.prototype._onSuccess=function(V){if(this._map){if(this._isOutOfMapMaxBounds(V))return this._setErrorState(),this.fire(new l.Event("outofmaxbounds",V)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=V,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(V),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(V),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new l.Event("geolocate",V)),this._finish()}},H.prototype._updateCamera=function(V){var K=new l.LngLat(V.coords.longitude,V.coords.latitude),he=V.coords.accuracy,Ae=this._map.getBearing(),B=l.extend({bearing:Ae},this.options.fitBoundsOptions);this._map.fitBounds(K.toBounds(he),B,{geolocateSource:!0})},H.prototype._updateMarker=function(V){if(V){var K=new l.LngLat(V.coords.longitude,V.coords.latitude);this._accuracyCircleMarker.setLngLat(K).addTo(this._map),this._userLocationDotMarker.setLngLat(K).addTo(this._map),this._accuracy=V.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},H.prototype._updateCircleRadius=function(){var V=this._map._container.clientHeight/2,K=this._map.unproject([0,V]),he=this._map.unproject([1,V]),Ae=K.distanceTo(he),B=Math.ceil(2*this._accuracy/Ae);this._circleElement.style.width=B+"px",this._circleElement.style.height=B+"px"},H.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},H.prototype._onError=function(V){if(this._map){if(this.options.trackUserLocation)if(1===V.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var K=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=K,this._geolocateButton.setAttribute("aria-label",K),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===V.code&&Ki)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new l.Event("error",V)),this._finish()}},H.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},H.prototype._setupUI=function(V){var K=this;if(this._container.addEventListener("contextmenu",function(B){return B.preventDefault()}),this._geolocateButton=b.create("button","mapboxgl-ctrl-geolocate",this._container),b.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===V){l.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var he=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=he,this._geolocateButton.setAttribute("aria-label",he)}else{var Ae=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ae,this._geolocateButton.setAttribute("aria-label",Ae)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=b.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Oo(this._dotElement),this._circleElement=b.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Oo({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(B){B.geolocateSource||"ACTIVE_LOCK"!==K._watchState||B.originalEvent&&"resize"===B.originalEvent.type||(K._watchState="BACKGROUND",K._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),K._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),K.fire(new l.Event("trackuserlocationend")))})},H.prototype.trigger=function(){if(!this._setup)return l.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new l.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":fs--,Ki=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new l.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new l.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var V;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++fs>1?(V={maximumAge:6e5,timeout:0},Ki=!0):(V=this.options.positionOptions,Ki=!1),this._geolocationWatchID=l.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,V)}}else l.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},H.prototype._clearWatch=function(){l.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},H}(l.Evented),Do={maxWidth:100,unit:"metric"},Or=function(z){this.options=l.extend({},Do,z),l.bindAll(["_onMove","setUnit"],this)};function Fi(z,H,V){var K=V&&V.maxWidth||100,he=z._container.clientHeight/2,Ae=z.unproject([0,he]),B=z.unproject([K,he]),Q=Ae.distanceTo(B);if(V&&"imperial"===V.unit){var ie=3.2808*Q;ie>5280?Qa(H,K,ie/5280,z._getUIString("ScaleControl.Miles")):Qa(H,K,ie,z._getUIString("ScaleControl.Feet"))}else V&&"nautical"===V.unit?Qa(H,K,Q/1852,z._getUIString("ScaleControl.NauticalMiles")):Q>=1e3?Qa(H,K,Q/1e3,z._getUIString("ScaleControl.Kilometers")):Qa(H,K,Q,z._getUIString("ScaleControl.Meters"))}function Qa(z,H,V,K){var he,Ae,B,de,ye,Q=(he=V,(Ae=Math.pow(10,(""+Math.floor(he)).length-1))*((B=he/Ae)>=10?10:B>=5?5:B>=3?3:B>=2?2:B>=1?1:(de=B,ye=Math.pow(10,Math.ceil(-Math.log(de)/Math.LN10)),Math.round(de*ye)/ye)));z.style.width=H*(Q/V)+"px",z.innerHTML=Q+"&nbsp;"+K}Or.prototype.getDefaultPosition=function(){return"bottom-left"},Or.prototype._onMove=function(){Fi(this._map,this._container,this.options)},Or.prototype.onAdd=function(z){return this._map=z,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",z.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Or.prototype.onRemove=function(){b.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Or.prototype.setUnit=function(z){this.options.unit=z,Fi(this._map,this._container,this.options)};var va=function(z){this._fullscreen=!1,z&&z.container&&(z.container instanceof l.window.HTMLElement?this._container=z.container:l.warnOnce("Full screen control 'container' must be a DOM element.")),l.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in l.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in l.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in l.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in l.window.document&&(this._fullscreenchange="MSFullscreenChange")};va.prototype.onAdd=function(z){return this._map=z,this._container||(this._container=this._map.getContainer()),this._controlContainer=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",l.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},va.prototype.onRemove=function(){b.remove(this._controlContainer),this._map=null,l.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},va.prototype._checkFullscreenSupport=function(){return!!(l.window.document.fullscreenEnabled||l.window.document.mozFullScreenEnabled||l.window.document.msFullscreenEnabled||l.window.document.webkitFullscreenEnabled)},va.prototype._setupUI=function(){var z=this._fullscreenButton=b.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);b.create("span","mapboxgl-ctrl-icon",z).setAttribute("aria-hidden",!0),z.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),l.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},va.prototype._updateTitle=function(){var z=this._getTitle();this._fullscreenButton.setAttribute("aria-label",z),this._fullscreenButton.title=z},va.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},va.prototype._isFullscreen=function(){return this._fullscreen},va.prototype._changeIcon=function(){(l.window.document.fullscreenElement||l.window.document.mozFullScreenElement||l.window.document.webkitFullscreenElement||l.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},va.prototype._onClickFullscreen=function(){this._isFullscreen()?l.window.document.exitFullscreen?l.window.document.exitFullscreen():l.window.document.mozCancelFullScreen?l.window.document.mozCancelFullScreen():l.window.document.msExitFullscreen?l.window.document.msExitFullscreen():l.window.document.webkitCancelFullScreen&&l.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Qo={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},hs=function(z){function H(V){z.call(this),this.options=l.extend(Object.create(Qo),V),l.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return z&&(H.__proto__=z),(H.prototype=Object.create(z&&z.prototype)).constructor=H,H.prototype.addTo=function(V){return this._map&&this.remove(),this._map=V,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new l.Event("open")),this},H.prototype.isOpen=function(){return!!this._map},H.prototype.remove=function(){return this._content&&b.remove(this._content),this._container&&(b.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new l.Event("close")),this},H.prototype.getLngLat=function(){return this._lngLat},H.prototype.setLngLat=function(V){return this._lngLat=l.LngLat.convert(V),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},H.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},H.prototype.getElement=function(){return this._container},H.prototype.setText=function(V){return this.setDOMContent(l.window.document.createTextNode(V))},H.prototype.setHTML=function(V){var K,he=l.window.document.createDocumentFragment(),Ae=l.window.document.createElement("body");for(Ae.innerHTML=V;K=Ae.firstChild;)he.appendChild(K);return this.setDOMContent(he)},H.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},H.prototype.setMaxWidth=function(V){return this.options.maxWidth=V,this._update(),this},H.prototype.setDOMContent=function(V){return this._createContent(),this._content.appendChild(V),this._update(),this},H.prototype.addClassName=function(V){this._container&&this._container.classList.add(V)},H.prototype.removeClassName=function(V){this._container&&this._container.classList.remove(V)},H.prototype.toggleClassName=function(V){if(this._container)return this._container.classList.toggle(V)},H.prototype._createContent=function(){this._content&&b.remove(this._content),this._content=b.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=b.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},H.prototype._onMouseUp=function(V){this._update(V.point)},H.prototype._onMouseMove=function(V){this._update(V.point)},H.prototype._onDrag=function(V){this._update(V.point)},H.prototype._update=function(V){var K=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=b.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=b.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Ne){return K._container.classList.add(Ne)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Mr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||V)){var Ae=this._pos=this._trackPointer&&V?V:this._map.project(this._lngLat),B=this.options.anchor,Q=es(this.options.offset);if(!B){var ie,de=this._container.offsetWidth,ye=this._container.offsetHeight;ie=Ae.y+Q.bottom.y<ye?["top"]:Ae.y>this._map.transform.height-ye?["bottom"]:[],Ae.x<de/2?ie.push("left"):Ae.x>this._map.transform.width-de/2&&ie.push("right"),B=0===ie.length?"bottom":ie.join("-")}var Le=Ae.add(Q[B]).round();b.setTransform(this._container,Sr[B]+" translate("+Le.x+"px,"+Le.y+"px)"),cs(this._container,B,"popup")}},H.prototype._onClose=function(){this.remove()},H}(l.Evented);function es(z){if(z){if("number"==typeof z){var H=Math.round(Math.sqrt(.5*Math.pow(z,2)));return{center:new l.Point(0,0),top:new l.Point(0,z),"top-left":new l.Point(H,H),"top-right":new l.Point(-H,H),bottom:new l.Point(0,-z),"bottom-left":new l.Point(H,-H),"bottom-right":new l.Point(-H,-H),left:new l.Point(z,0),right:new l.Point(-z,0)}}if(z instanceof l.Point||Array.isArray(z)){var V=l.Point.convert(z);return{center:V,top:V,"top-left":V,"top-right":V,bottom:V,"bottom-left":V,"bottom-right":V,left:V,right:V}}return{center:l.Point.convert(z.center||[0,0]),top:l.Point.convert(z.top||[0,0]),"top-left":l.Point.convert(z["top-left"]||[0,0]),"top-right":l.Point.convert(z["top-right"]||[0,0]),bottom:l.Point.convert(z.bottom||[0,0]),"bottom-left":l.Point.convert(z["bottom-left"]||[0,0]),"bottom-right":l.Point.convert(z["bottom-right"]||[0,0]),left:l.Point.convert(z.left||[0,0]),right:l.Point.convert(z.right||[0,0])}}return es(new l.Point(0,0))}var go={version:l.version,supported:T,setRTLTextPlugin:l.setRTLTextPlugin,getRTLTextPluginStatus:l.getRTLTextPluginStatus,Map:js,NavigationControl:Ci,GeolocateControl:Io,AttributionControl:ga,ScaleControl:Or,FullscreenControl:va,Popup:hs,Marker:Oo,Style:er,LngLat:l.LngLat,LngLatBounds:l.LngLatBounds,Point:l.Point,MercatorCoordinate:l.MercatorCoordinate,Evented:l.Evented,config:l.config,prewarm:function(){vt().acquire(tt)},clearPrewarmedResources:function(){var z=gt;z&&(z.isPreloaded()&&1===z.numActive()?(z.release(tt),gt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return l.config.ACCESS_TOKEN},set accessToken(z){l.config.ACCESS_TOKEN=z},get baseApiUrl(){return l.config.API_URL},set baseApiUrl(z){l.config.API_URL=z},get workerCount(){return et.workerCount},set workerCount(z){et.workerCount=z},get maxParallelImageRequests(){return l.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(z){l.config.MAX_PARALLEL_IMAGE_REQUESTS=z},clearStorage:function(z){l.clearTileCache(z)},workerUrl:""};return go}),A}()},27084:function(ee){"use strict";ee.exports=Math.log2||function(D){return Math.log(D)*Math.LOG2E}},16825:function(ee,D,e){"use strict";ee.exports=function(k,l){l||(l=k,k=window);var T=0,b=0,d=0,a={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(h){var y=!1;return"altKey"in h&&(y=y||h.altKey!==a.alt,a.alt=!!h.altKey),"shiftKey"in h&&(y=y||h.shiftKey!==a.shift,a.shift=!!h.shiftKey),"ctrlKey"in h&&(y=y||h.ctrlKey!==a.control,a.control=!!h.ctrlKey),"metaKey"in h&&(y=y||h.metaKey!==a.meta,a.meta=!!h.metaKey),y}function r(h,y){var v=A.x(y),m=A.y(y);"buttons"in y&&(h=0|y.buttons),(h!==T||v!==b||m!==d||i(y))&&(T=0|h,b=v||0,d=m||0,l&&l(T,b,d,a))}function n(h){r(0,h)}function o(){(T||b||d||a.shift||a.alt||a.meta||a.control)&&(b=d=0,T=0,a.shift=a.alt=a.control=a.meta=!1,l&&l(0,0,0,a))}function s(h){i(h)&&l&&l(T,b,d,a)}function u(h){0===A.buttons(h)?r(0,h):r(T,h)}function p(h){r(T|A.buttons(h),h)}function c(h){r(T&~A.buttons(h),h)}function x(){t||(t=!0,k.addEventListener("mousemove",u),k.addEventListener("mousedown",p),k.addEventListener("mouseup",c),k.addEventListener("mouseleave",n),k.addEventListener("mouseenter",n),k.addEventListener("mouseout",n),k.addEventListener("mouseover",n),k.addEventListener("blur",o),k.addEventListener("keyup",s),k.addEventListener("keydown",s),k.addEventListener("keypress",s),k!==window&&(window.addEventListener("blur",o),window.addEventListener("keyup",s),window.addEventListener("keydown",s),window.addEventListener("keypress",s)))}x();var g={element:k};return Object.defineProperties(g,{enabled:{get:function(){return t},set:function(h){h?x():t&&(t=!1,k.removeEventListener("mousemove",u),k.removeEventListener("mousedown",p),k.removeEventListener("mouseup",c),k.removeEventListener("mouseleave",n),k.removeEventListener("mouseenter",n),k.removeEventListener("mouseout",n),k.removeEventListener("mouseover",n),k.removeEventListener("blur",o),k.removeEventListener("keyup",s),k.removeEventListener("keydown",s),k.removeEventListener("keypress",s),k!==window&&(window.removeEventListener("blur",o),window.removeEventListener("keyup",s),window.removeEventListener("keydown",s),window.removeEventListener("keypress",s)))},enumerable:!0},buttons:{get:function(){return T},enumerable:!0},x:{get:function(){return b},enumerable:!0},y:{get:function(){return d},enumerable:!0},mods:{get:function(){return a},enumerable:!0}}),g};var A=e(74311)},48956:function(ee){var D={left:0,top:0};ee.exports=function(e,A,k){A=A||e.currentTarget||e.srcElement,Array.isArray(k)||(k=[0,0]);var l,T=e.clientX||0,b=e.clientY||0,d=(l=A)===window||l===document||l===document.body?D:l.getBoundingClientRect();return k[0]=T-d.left,k[1]=b-d.top,k}},74311:function(ee,D){"use strict";function e(A){return A.target||A.srcElement||window}D.buttons=function(A){if("object"==typeof A){if("buttons"in A)return A.buttons;if("which"in A){if(2===(k=A.which))return 4;if(3===k)return 2;if(k>0)return 1<<k-1}else if("button"in A){var k;if(1===(k=A.button))return 4;if(2===k)return 2;if(k>=0)return 1<<k}}return 0},D.element=e,D.x=function(A){if("object"==typeof A){if("offsetX"in A)return A.offsetX;var k=e(A).getBoundingClientRect();return A.clientX-k.left}return 0},D.y=function(A){if("object"==typeof A){if("offsetY"in A)return A.offsetY;var k=e(A).getBoundingClientRect();return A.clientY-k.top}return 0}},1195:function(ee,D,e){"use strict";var A=e(75686);ee.exports=function(k,l,T){"function"==typeof k&&(T=!!l,l=k,k=window);var b=A("ex",k),d=function(a){T&&a.preventDefault();var t=a.deltaX||0,i=a.deltaY||0,r=a.deltaZ||0,n=1;switch(a.deltaMode){case 1:n=b;break;case 2:n=window.innerHeight}if(i*=n,r*=n,(t*=n)||i||r)return l(t,i,r,a)};return k.addEventListener("wheel",d),d}},7417:function(ee,D,e){var A,k,l;(l=void 0!==e.g?e.g:this)[k="Promise"]=l[k]||function(){"use strict";var b,d,a,t=Object.prototype.toString,i=typeof setImmediate<"u"?function(v){return setImmediate(v)}:setTimeout;try{Object.defineProperty({},"x",{}),b=function(v,m,_,f){return Object.defineProperty(v,m,{value:_,writable:!0,configurable:!1!==f})}}catch{b=function(m,_,f){return m[_]=f,m}}function r(v,m){a.add(v,m),d||(d=i(a.drain))}function n(v){var m,_=typeof v;return null==v||"object"!=_&&"function"!=_||(m=v.then),"function"==typeof m&&m}function o(){for(var v=0;v<this.chain.length;v++)s(this,1===this.state?this.chain[v].success:this.chain[v].failure,this.chain[v]);this.chain.length=0}function s(v,m,_){var f,S;try{!1===m?_.reject(v.msg):(f=!0===m?v.msg:m.call(void 0,v.msg))===_.promise?_.reject(TypeError("Promise-chain cycle")):(S=n(f))?S.call(f,_.resolve,_.reject):_.resolve(f)}catch(w){_.reject(w)}}function u(v){var m,_=this;if(!_.triggered){_.triggered=!0,_.def&&(_=_.def);try{(m=n(v))?r(function(){var f=new x(_);try{m.call(v,function(){u.apply(f,arguments)},function(){p.apply(f,arguments)})}catch(S){p.call(f,S)}}):(_.msg=v,_.state=1,_.chain.length>0&&r(o,_))}catch(f){p.call(new x(_),f)}}}function p(v){var m=this;m.triggered||(m.triggered=!0,m.def&&(m=m.def),m.msg=v,m.state=2,m.chain.length>0&&r(o,m))}function c(v,m,_,f){for(var S=0;S<m.length;S++)!function(w){v.resolve(m[w]).then(function(E){_(w,E)},f)}(S)}function x(v){this.def=v,this.triggered=!1}function g(v){this.promise=v,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(v){if("function"!=typeof v)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var m=new g(this);this.then=function(_,f){var S={success:"function"!=typeof _||_,failure:"function"==typeof f&&f};return S.promise=new this.constructor(function(w,E){if("function"!=typeof w||"function"!=typeof E)throw TypeError("Not a function");S.resolve=w,S.reject=E}),m.chain.push(S),0!==m.state&&r(o,m),S.promise},this.catch=function(_){return this.then(void 0,_)};try{v.call(void 0,function(_){u.call(m,_)},function(_){p.call(m,_)})}catch(_){p.call(m,_)}}a=function(){var v,m,_;function f(S,w){this.fn=S,this.self=w,this.next=void 0}return{add:function(S,w){_=new f(S,w),m?m.next=_:v=_,m=_,_=void 0},drain:function(){var S=v;for(v=m=d=void 0;S;)S.fn.call(S.self),S=S.next}}}();var y=b({},"constructor",h,!1);return h.prototype=y,b(y,"__NPO__",0,!1),b(h,"resolve",function(v){return v&&"object"==typeof v&&1===v.__NPO__?v:new this(function(m,_){if("function"!=typeof m||"function"!=typeof _)throw TypeError("Not a function");m(v)})}),b(h,"reject",function(v){return new this(function(m,_){if("function"!=typeof m||"function"!=typeof _)throw TypeError("Not a function");_(v)})}),b(h,"all",function(v){var m=this;return"[object Array]"!=t.call(v)?m.reject(TypeError("Not an array")):0===v.length?m.resolve([]):new m(function(_,f){if("function"!=typeof _||"function"!=typeof f)throw TypeError("Not a function");var S=v.length,w=Array(S),E=0;c(m,v,function(L,C){w[L]=C,++E===S&&_(w)},f)})}),b(h,"race",function(v){var m=this;return"[object Array]"!=t.call(v)?m.reject(TypeError("Not an array")):new m(function(_,f){if("function"!=typeof _||"function"!=typeof f)throw TypeError("Not a function");c(m,v,function(S,w){_(w)},f)})}),h}(),ee.exports?ee.exports=l[k]:void 0===(A=function(){return l[k]}.call(D,e,D,ee))||(ee.exports=A)},18625:function(ee){var D=Math.PI,e=b(120);function A(d,a,t,i){return["C",d,a,t,i,t,i]}function k(d,a,t,i,r,n){return["C",d/3+.6666666666666666*t,a/3+.6666666666666666*i,r/3+.6666666666666666*t,n/3+.6666666666666666*i,r,n]}function l(d,a,t,i,r,n,o,s,u,p){if(p)S=p[0],w=p[1],_=p[2],f=p[3];else{var c=T(d,a,-r);a=c.y;var x=((d=c.x)-(s=(c=T(s,u,-r)).x))/2,g=(a-(u=c.y))/2,h=x*x/(t*t)+g*g/(i*i);h>1&&(t*=h=Math.sqrt(h),i*=h);var y=t*t,v=i*i,m=(n==o?-1:1)*Math.sqrt(Math.abs((y*v-y*g*g-v*x*x)/(y*g*g+v*x*x)));m==1/0&&(m=1);var _=m*t*g/i+(d+s)/2,f=m*-i*x/t+(a+u)/2,S=Math.asin(((a-f)/i).toFixed(9)),w=Math.asin(((u-f)/i).toFixed(9));(S=d<_?D-S:S)<0&&(S=2*D+S),(w=s<_?D-w:w)<0&&(w=2*D+w),o&&S>w&&(S-=2*D),!o&&w>S&&(w-=2*D)}if(Math.abs(w-S)>e){var E=w,L=s,C=u;w=S+e*(o&&w>S?1:-1);var O=l(s=_+t*Math.cos(w),u=f+i*Math.sin(w),t,i,r,0,o,L,C,[w,E,_,f])}var R=Math.tan((w-S)/4),q=4/3*t*R,P=4/3*i*R,U=[2*d-(d+q*Math.sin(S)),2*a-(a-P*Math.cos(S)),s+q*Math.sin(w),u-P*Math.cos(w),s,u];if(p)return U;O&&(U=U.concat(O));for(var N=0;N<U.length;){var F=T(U[N],U[N+1],r);U[N++]=F.x,U[N++]=F.y}return U}function T(d,a,t){return{x:d*Math.cos(t)-a*Math.sin(t),y:d*Math.sin(t)+a*Math.cos(t)}}function b(d){return d*(D/180)}ee.exports=function(d){for(var a,t=[],i=0,r=0,n=0,o=0,s=null,u=null,p=0,c=0,x=0,g=d.length;x<g;x++){var h=d[x],y=h[0];switch(y){case"M":n=h[1],o=h[2];break;case"A":(h=l(p,c,h[1],h[2],b(h[3]),h[4],h[5],h[6],h[7])).unshift("C"),h.length>7&&(t.push(h.splice(0,7)),h.unshift("C"));break;case"S":var v=p,m=c;"C"!=a&&"S"!=a||(v+=v-i,m+=m-r),h=["C",v,m,h[1],h[2],h[3],h[4]];break;case"T":"Q"==a||"T"==a?(s=2*p-s,u=2*c-u):(s=p,u=c),h=k(p,c,s,u,h[1],h[2]);break;case"Q":s=h[1],u=h[2],h=k(p,c,h[1],h[2],h[3],h[4]);break;case"L":h=A(p,c,h[1],h[2]);break;case"H":h=A(p,c,h[1],c);break;case"V":h=A(p,c,p,h[1]);break;case"Z":h=A(p,c,n,o)}a=y,p=h[h.length-2],c=h[h.length-1],h.length>4?(i=h[h.length-4],r=h[h.length-3]):(i=p,r=c),t.push(h)}return t}},56131:function(ee){"use strict";var D=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;ee.exports=function(){try{if(!Object.assign)return!1;var k=new String("abc");if(k[5]="de","5"===Object.getOwnPropertyNames(k)[0])return!1;for(var l={},T=0;T<10;T++)l["_"+String.fromCharCode(T)]=T;if("0123456789"!==Object.getOwnPropertyNames(l).map(function(d){return l[d]}).join(""))return!1;var b={};return"abcdefghijklmnopqrst".split("").forEach(function(d){b[d]=d}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},b)).join("")}catch{return!1}}()?Object.assign:function(k,l){for(var T,b,d=function(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}(k),a=1;a<arguments.length;a++){for(var t in T=Object(arguments[a]))e.call(T,t)&&(d[t]=T[t]);if(D){b=D(T);for(var i=0;i<b.length;i++)A.call(T,b[i])&&(d[b[i]]=T[b[i]])}}return d}},65848:function(ee){"use strict";var D=function(e){return e!=e};ee.exports=function(e,A){return 0===e&&0===A?1/e==1/A:e===A||!(!D(e)||!D(A))}},64003:function(ee,D,e){"use strict";var A=e(17045),k=e(68222),l=e(65848),T=e(27015),b=e(55572),d=k(T(),Object);A(d,{getPolyfill:T,implementation:l,shim:b}),ee.exports=d},27015:function(ee,D,e){"use strict";var A=e(65848);ee.exports=function(){return"function"==typeof Object.is?Object.is:A}},55572:function(ee,D,e){"use strict";var A=e(27015),k=e(17045);ee.exports=function(){var l=A();return k(Object,{is:l},{is:function(){return Object.is!==l}}),l}},99019:function(ee,D,e){"use strict";var A;if(!Object.keys){var k=Object.prototype.hasOwnProperty,l=Object.prototype.toString,T=e(64178),b=Object.prototype.propertyIsEnumerable,d=!b.call({toString:null},"toString"),a=b.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=function(o){var s=o.constructor;return s&&s.prototype===o},r={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var o in window)try{if(!r["$"+o]&&k.call(window,o)&&null!==window[o]&&"object"==typeof window[o])try{i(window[o])}catch{return!0}}catch{return!0}return!1}();A=function(o){var s=null!==o&&"object"==typeof o,u="[object Function]"===l.call(o),p=T(o),c=s&&"[object String]"===l.call(o),x=[];if(!s&&!u&&!p)throw new TypeError("Object.keys called on a non-object");var g=a&&u;if(c&&o.length>0&&!k.call(o,0))for(var h=0;h<o.length;++h)x.push(String(h));if(p&&o.length>0)for(var y=0;y<o.length;++y)x.push(String(y));else for(var v in o)g&&"prototype"===v||!k.call(o,v)||x.push(String(v));if(d)for(var m=function(f){if(typeof window>"u"||!n)return i(f);try{return i(f)}catch{return!1}}(o),_=0;_<t.length;++_)m&&"constructor"===t[_]||!k.call(o,t[_])||x.push(t[_]);return x}}ee.exports=A},8709:function(ee,D,e){"use strict";var A=Array.prototype.slice,k=e(64178),l=Object.keys,T=l?function(d){return l(d)}:e(99019),b=Object.keys;T.shim=function(){if(Object.keys){var d=function(){var a=Object.keys(arguments);return a&&a.length===arguments.length}(1,2);d||(Object.keys=function(a){return k(a)?b(A.call(a)):b(a)})}else Object.keys=T;return Object.keys||T},ee.exports=T},64178:function(ee){"use strict";var D=Object.prototype.toString;ee.exports=function(e){var A=D.call(e),k="[object Arguments]"===A;return k||(k="[object Array]"!==A&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===D.call(e.callee)),k}},88641:function(ee){"use strict";function D(k,l){if("string"!=typeof k)return[k];var T=[k];"string"==typeof l||Array.isArray(l)?l={brackets:l}:l||(l={});var b=l.brackets?Array.isArray(l.brackets)?l.brackets:[l.brackets]:["{}","[]","()"],d=l.escape||"___",a=!!l.flat;b.forEach(function(i){var r=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),n=[];function o(s,u,p){var c=T.push(s.slice(i[0].length,-i[1].length))-1;return n.push(c),d+c+d}T.forEach(function(s,u){for(var p,c=0;s!=p;)if(p=s,s=s.replace(r,o),c++>1e4)throw Error("References have circular dependency. Please, check them.");T[u]=s}),n=n.reverse(),T=T.map(function(s){return n.forEach(function(u){s=s.replace(new RegExp("(\\"+d+u+"\\"+d+")","g"),i[0]+"$1"+i[1])}),s})});var t=new RegExp("\\"+d+"([0-9]+)\\"+d);return a?T:function i(r,n,o){for(var s,u=[],p=0;s=t.exec(r);){if(p++>1e4)throw Error("Circular references in parenthesis");u.push(r.slice(0,s.index)),u.push(i(n[s[1]],n)),r=r.slice(s.index+s[0].length)}return u.push(r),u}(T[0],T)}function e(k,l){if(l&&l.flat){var T,b=l&&l.escape||"___",d=k[0];if(!d)return"";for(var a=new RegExp("\\"+b+"([0-9]+)\\"+b),t=0;d!=T;){if(t++>1e4)throw Error("Circular references in "+k);T=d,d=d.replace(a,i)}return d}return k.reduce(function r(n,o){return Array.isArray(o)&&(o=o.reduce(r,"")),n+o},"");function i(r,n){if(null==k[n])throw Error("Reference "+n+"is undefined");return k[n]}}function A(k,l){return Array.isArray(k)?e(k,l):D(k,l)}A.parse=D,A.stringify=e,ee.exports=A},18863:function(ee,D,e){"use strict";var A=e(71299);ee.exports=function(k){var l;return arguments.length>1&&(k=arguments),"string"==typeof k?k=k.split(/\s/).map(parseFloat):"number"==typeof k&&(k=[k]),k.length&&"number"==typeof k[0]?l=1===k.length?{width:k[0],height:k[0],x:0,y:0}:2===k.length?{width:k[0],height:k[1],x:0,y:0}:{x:k[0],y:k[1],width:k[2]-k[0]||0,height:k[3]-k[1]||0}:k&&((l={x:(k=A(k,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:k.top||0}).width=null==k.width?k.right?k.right-l.x:0:k.width,l.height=null==k.height?k.bottom?k.bottom-l.y:0:k.height),l}},95616:function(ee){ee.exports=function(k){var l=[];return k.replace(e,function(T,b,d){var i,a=b.toLowerCase();for(i=void 0,d=(i=d.match(A))?i.map(Number):[],"m"==a&&d.length>2&&(l.push([b].concat(d.splice(0,2))),a="l",b="m"==b?"l":"L");;){if(d.length==D[a])return d.unshift(b),l.push(d);if(d.length<D[a])throw new Error("malformed path data");l.push([b].concat(d.splice(0,D[a])))}}),l};var D={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,A=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(ee){ee.exports=function(D,e){e||(e=[0,""]),D=String(D);var A=parseFloat(D,10);return e[0]=A,e[1]=D.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},9748:function(ee,D,e){var A=e(90386);(function(){var k,l,T,b,d,a;typeof performance<"u"&&null!==performance&&performance.now?ee.exports=function(){return performance.now()}:null!=A&&A.hrtime?(ee.exports=function(){return(k()-d)/1e6},l=A.hrtime,b=(k=function(){var t;return 1e9*(t=l())[0]+t[1]})(),a=1e9*A.uptime(),d=b-a):Date.now?(ee.exports=function(){return Date.now()-T},T=Date.now()):(ee.exports=function(){return(new Date).getTime()-T},T=(new Date).getTime())}).call(this)},71299:function(ee){"use strict";ee.exports=function(A,k,l){var T,b,d={};if("string"==typeof k&&(k=e(k)),Array.isArray(k)){var a={};for(b=0;b<k.length;b++)a[k[b]]=!0;k=a}for(T in k)k[T]=e(k[T]);var t={};for(T in k){var i=k[T];if(Array.isArray(i))for(b=0;b<i.length;b++){var r=i[b];if(l&&(t[r]=!0),r in A){if(d[T]=A[r],l)for(var n=b;n<i.length;n++)t[i[n]]=!0;break}}else T in A&&(k[T]&&(d[T]=A[T]),l&&(t[T]=!0))}if(l)for(T in A)t[T]||(d[T]=A[T]);return d};var D={};function e(A){return D[A]?D[A]:("string"==typeof A&&(A=D[A]=A.split(/\s*,\s*|\s+/)),A)}},38258:function(ee){ee.exports=function(D,e,A,k){var l=D[0],T=D[1],b=!1;void 0===A&&(A=0),void 0===k&&(k=e.length);for(var d=k-A,a=0,t=d-1;a<d;t=a++){var i=e[a+A][0],r=e[a+A][1],o=e[t+A][1];r>T!=o>T&&l<(e[t+A][0]-i)*(T-r)/(o-r)+i&&(b=!b)}return b}},52142:function(ee,D,e){var A,k=e(69444),l=e(29023),T=e(87263),b=e(11328),d=e(55968),a=e(10670),t=!1,i=l();function r(n,o,s){var u=A.segments(n),p=A.segments(o),c=s(A.combine(u,p));return A.polygon(c)}A={buildLog:function(n){return!0===n?t=k():!1===n&&(t=!1),!1!==t&&t.list},epsilon:function(n){return i.epsilon(n)},segments:function(n){var o=T(!0,i,t);return n.regions.forEach(o.addRegion),{segments:o.calculate(n.inverted),inverted:n.inverted}},combine:function(n,o){return{combined:T(!1,i,t).calculate(n.segments,n.inverted,o.segments,o.inverted),inverted1:n.inverted,inverted2:o.inverted}},selectUnion:function(n){return{segments:d.union(n.combined,t),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:d.intersect(n.combined,t),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:d.difference(n.combined,t),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:d.differenceRev(n.combined,t),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:d.xor(n.combined,t),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:b(n.segments,i,t),inverted:n.inverted}},polygonFromGeoJSON:function(n){return a.toPolygon(A,n)},polygonToGeoJSON:function(n){return a.fromPolygon(A,i,n)},union:function(n,o){return r(n,o,A.selectUnion)},intersect:function(n,o){return r(n,o,A.selectIntersect)},difference:function(n,o){return r(n,o,A.selectDifference)},differenceRev:function(n,o){return r(n,o,A.selectDifferenceRev)},xor:function(n,o){return r(n,o,A.selectXor)}},"object"==typeof window&&(window.PolyBool=A),ee.exports=A},69444:function(ee){ee.exports=function(){var D,e=0,A=!1;function k(l,T){return D.list.push({type:l,data:T?JSON.parse(JSON.stringify(T)):void 0}),D}return D={list:[],segmentId:function(){return e++},checkIntersection:function(l,T){return k("check",{seg1:l,seg2:T})},segmentChop:function(l,T){return k("div_seg",{seg:l,pt:T}),k("chop",{seg:l,pt:T})},statusRemove:function(l){return k("pop_seg",{seg:l})},segmentUpdate:function(l){return k("seg_update",{seg:l})},segmentNew:function(l,T){return k("new_seg",{seg:l,primary:T})},segmentRemove:function(l){return k("rem_seg",{seg:l})},tempStatus:function(l,T,b){return k("temp_status",{seg:l,above:T,below:b})},rewind:function(l){return k("rewind",{seg:l})},status:function(l,T,b){return k("status",{seg:l,above:T,below:b})},vert:function(l){return l===A?D:(A=l,k("vert",{x:l}))},log:function(l){return"string"!=typeof l&&(l=JSON.stringify(l,!1,"  ")),k("log",{txt:l})},reset:function(){return k("reset")},selected:function(l){return k("selected",{segs:l})},chainStart:function(l){return k("chain_start",{seg:l})},chainRemoveHead:function(l,T){return k("chain_rem_head",{index:l,pt:T})},chainRemoveTail:function(l,T){return k("chain_rem_tail",{index:l,pt:T})},chainNew:function(l,T){return k("chain_new",{pt1:l,pt2:T})},chainMatch:function(l){return k("chain_match",{index:l})},chainClose:function(l){return k("chain_close",{index:l})},chainAddHead:function(l,T){return k("chain_add_head",{index:l,pt:T})},chainAddTail:function(l,T){return k("chain_add_tail",{index:l,pt:T})},chainConnect:function(l,T){return k("chain_con",{index1:l,index2:T})},chainReverse:function(l){return k("chain_rev",{index:l})},chainJoin:function(l,T){return k("chain_join",{index1:l,index2:T})},done:function(){return k("done")}}}},29023:function(ee){ee.exports=function(D){"number"!=typeof D&&(D=1e-10);var e={epsilon:function(A){return"number"==typeof A&&(D=A),D},pointAboveOrOnLine:function(A,k,l){var T=k[0],b=k[1];return(l[0]-T)*(A[1]-b)-(l[1]-b)*(A[0]-T)>=-D},pointBetween:function(A,k,l){var b=l[0]-k[0],a=l[1]-k[1],t=(A[0]-k[0])*b+(A[1]-k[1])*a;return!(t<D||t-(b*b+a*a)>-D)},pointsSameX:function(A,k){return Math.abs(A[0]-k[0])<D},pointsSameY:function(A,k){return Math.abs(A[1]-k[1])<D},pointsSame:function(A,k){return e.pointsSameX(A,k)&&e.pointsSameY(A,k)},pointsCompare:function(A,k){return e.pointsSameX(A,k)?e.pointsSameY(A,k)?0:A[1]<k[1]?-1:1:A[0]<k[0]?-1:1},pointsCollinear:function(A,k,l){return Math.abs((A[0]-k[0])*(k[1]-l[1])-(k[0]-l[0])*(A[1]-k[1]))<D},linesIntersect:function(A,k,l,T){var b=k[0]-A[0],d=k[1]-A[1],a=T[0]-l[0],t=T[1]-l[1],i=b*t-d*a;if(Math.abs(i)<D)return!1;var r=A[0]-l[0],n=A[1]-l[1],o=(a*n-t*r)/i,s=(b*n-d*r)/i,u={alongA:0,alongB:0,pt:[A[0]+o*b,A[1]+o*d]};return u.alongA=o<=-D?-2:o<D?-1:o-1<=-D?0:o-1<D?1:2,u.alongB=s<=-D?-2:s<D?-1:s-1<=-D?0:s-1<D?1:2,u},pointInsideRegion:function(A,k){for(var l=A[0],T=A[1],b=k[k.length-1][0],d=k[k.length-1][1],a=!1,t=0;t<k.length;t++){var i=k[t][0],r=k[t][1];r-T>D!=d-T>D&&(b-i)*(T-r)/(d-r)+i-l>D&&(a=!a),b=i,d=r}return a}};return e}},10670:function(ee){ee.exports={toPolygon:function(e,A){function k(b){if(b.length<=0)return e.segments({inverted:!1,regions:[]});function d(i){var r=i.slice(0,i.length-1);return e.segments({inverted:!1,regions:[r]})}for(var a=d(b[0]),t=1;t<b.length;t++)a=e.selectDifference(e.combine(a,d(b[t])));return a}if("Polygon"===A.type)return e.polygon(k(A.coordinates));if("MultiPolygon"===A.type){for(var l=e.segments({inverted:!1,regions:[]}),T=0;T<A.coordinates.length;T++)l=e.selectUnion(e.combine(l,k(A.coordinates[T])));return e.polygon(l)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,A,k){function l(s,u){return A.pointInsideRegion([.5*(s[0][0]+s[1][0]),.5*(s[0][1]+s[1][1])],u)}function T(s){return{region:s,children:[]}}k=e.polygon(e.segments(k));var b=T(null);function d(s,u){for(var p=0;p<s.children.length;p++)if(l(u,(x=s.children[p]).region))return void d(x,u);var c=T(u);for(p=0;p<s.children.length;p++){var x;l((x=s.children[p]).region,u)&&(c.children.push(x),s.children.splice(p,1),p--)}s.children.push(c)}for(var a=0;a<k.regions.length;a++){var t=k.regions[a];t.length<3||d(b,t)}function i(s,u){for(var p=0,c=s[s.length-1][0],x=s[s.length-1][1],g=[],h=0;h<s.length;h++){var y=s[h][0],v=s[h][1];g.push([y,v]),p+=v*c-y*x,c=y,x=v}return p<0!==u&&g.reverse(),g.push([g[0][0],g[0][1]]),g}var r=[];function n(s){var u=[i(s.region,!1)];r.push(u);for(var p=0;p<s.children.length;p++)u.push(o(s.children[p]))}function o(s){for(var u=0;u<s.children.length;u++)n(s.children[u]);return i(s.region,!0)}for(a=0;a<b.children.length;a++)n(b.children[a]);return r.length<=0?{type:"Polygon",coordinates:[]}:1==r.length?{type:"Polygon",coordinates:r[0]}:{type:"MultiPolygon",coordinates:r}}}},87263:function(ee,D,e){var A=e(26859);ee.exports=function(k,l,T){function b(n,o,s){return{id:T?T.segmentId():-1,start:n,end:o,myFill:{above:s.myFill.above,below:s.myFill.below},otherFill:null}}var d=A.create();function a(n,o){d.insertBefore(n,function(s){return u=n.isStart,c=o,x=s.isStart,h=s.other.pt,(0!==(y=l.pointsCompare(n.pt,g=s.pt))?y:l.pointsSame(c,h)?0:u!==x?u?1:-1:l.pointAboveOrOnLine(c,x?g:h,x?h:g)?1:-1)<0;var u,c,x,g,h,y})}function t(n,o){var u,c,s=(a(c=A.node({isStart:!0,pt:(u=n).start,seg:u,primary:o,other:null,status:null}),u.end),c);return function(u,p,c){var x=A.node({isStart:!1,pt:p.end,seg:p,primary:c,other:u,status:null});u.other=x,a(x,u.pt)}(s,n,o),s}function i(n,o){var u,p,s=b(o,n.seg.end,n.seg);return u=n,p=o,T&&T.segmentChop(u.seg,p),u.other.remove(),u.seg.end=p,u.other.pt=p,a(u.other,u.pt),t(s,n.primary)}function r(n,o){var s=A.create();function u(E){return s.findTransition(function(L){var C,O,R,q,P,U;return q=(C=E).seg.end,(l.pointsCollinear(R=C.seg.start,P=(O=L.ev).seg.start,U=O.seg.end)?l.pointsCollinear(q,P,U)||l.pointAboveOrOnLine(q,P,U)?1:-1:l.pointAboveOrOnLine(R,P,U)?1:-1)>0})}function p(E,L){var C=E.seg,O=L.seg,R=C.start,q=C.end,P=O.start,U=O.end;T&&T.checkIntersection(C,O);var N=l.linesIntersect(R,q,P,U);if(!1===N){if(!l.pointsCollinear(R,q,P)||l.pointsSame(R,U)||l.pointsSame(q,P))return!1;var F=l.pointsSame(R,P),j=l.pointsSame(q,U);if(F&&j)return L;var G=!F&&l.pointBetween(R,P,U),te=!j&&l.pointBetween(q,P,U);if(F)return te?i(L,q):i(E,U),L;G&&(j||(te?i(L,q):i(E,U)),i(L,R))}else 0===N.alongA&&(-1===N.alongB?i(E,P):0===N.alongB?i(E,N.pt):1===N.alongB&&i(E,U)),0===N.alongB&&(-1===N.alongA?i(L,R):0===N.alongA?i(L,N.pt):1===N.alongA&&i(L,q));return!1}for(var c=[];!d.isEmpty();){var x=d.getHead();if(T&&T.vert(x.pt[0]),x.isStart){let E=function(){if(h){var L=p(x,h);if(L)return L}return!!y&&p(x,y)};T&&T.segmentNew(x.seg,x.primary);var g=u(x),h=g.before?g.before.ev:null,y=g.after?g.after.ev:null;T&&T.tempStatus(x.seg,!!h&&h.seg,!!y&&y.seg);var v,m,_=E();if(_&&(k?(m=null===x.seg.myFill.below||x.seg.myFill.above!==x.seg.myFill.below)&&(_.seg.myFill.above=!_.seg.myFill.above):_.seg.otherFill=x.seg.myFill,T&&T.segmentUpdate(_.seg),x.other.remove(),x.remove()),d.getHead()!==x){T&&T.rewind(x.seg);continue}k?(m=null===x.seg.myFill.below||x.seg.myFill.above!==x.seg.myFill.below,x.seg.myFill.below=y?y.seg.myFill.above:n,x.seg.myFill.above=m?!x.seg.myFill.below:x.seg.myFill.below):null===x.seg.otherFill&&(x.seg.otherFill={above:v=y?x.primary===y.primary?y.seg.otherFill.above:y.seg.myFill.above:x.primary?o:n,below:v}),T&&T.status(x.seg,!!h&&h.seg,!!y&&y.seg),x.other.status=g.insert(A.node({ev:x}))}else{var f=x.status;if(null===f)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(f.prev)&&s.exists(f.next)&&p(f.prev.ev,f.next.ev),T&&T.statusRemove(f.ev.seg),f.remove(),!x.primary){var S=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=S}c.push(x.seg)}d.getHead().remove()}return T&&T.done(),c}return k?{addRegion:function(n){for(var o,s,u,p=n[n.length-1],c=0;c<n.length;c++){var x=l.pointsCompare(o=p,p=n[c]);0!==x&&t((s=x<0?o:p,u=x<0?p:o,{id:T?T.segmentId():-1,start:s,end:u,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(n){return r(n,!1)}}:{calculate:function(n,o,s,u){return n.forEach(function(p){t(b(p.start,p.end,p),!0)}),s.forEach(function(p){t(b(p.start,p.end,p),!1)}),r(o,u)}}}},26859:function(ee){ee.exports={create:function(){var D={root:{root:!0,next:null},exists:function(e){return null!==e&&e!==D.root},isEmpty:function(){return null===D.root.next},getHead:function(){return D.root.next},insertBefore:function(e,A){for(var k=D.root,l=D.root.next;null!==l;){if(A(l))return e.prev=l.prev,e.next=l,l.prev.next=e,void(l.prev=e);k=l,l=l.next}k.next=e,e.prev=k,e.next=null},findTransition:function(e){for(var A=D.root,k=D.root.next;null!==k&&!e(k);)A=k,k=k.next;return{before:A===D.root?null:A,after:k,insert:function(l){return l.prev=A,l.next=k,A.next=l,null!==k&&(k.prev=l),l}}}};return D},node:function(D){return D.prev=null,D.next=null,D.remove=function(){D.prev.next=D.next,D.next&&(D.next.prev=D.prev),D.prev=null,D.next=null},D}}},11328:function(ee){ee.exports=function(D,e,A){var k=[],l=[];return D.forEach(function(T){var b=T.start,d=T.end;if(e.pointsSame(b,d))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{A&&A.chainStart(T);for(var a={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=a,r=0;r<k.length;r++){var n=(c=k[r])[0],o=c[c.length-1];if(e.pointsSame(n,b)){if(f(r,!0,!0))break}else if(e.pointsSame(n,d)){if(f(r,!0,!1))break}else if(e.pointsSame(o,b)){if(f(r,!1,!0))break}else if(e.pointsSame(o,d)&&f(r,!1,!1))break}if(i===a)return k.push([b,d]),void(A&&A.chainNew(b,d));if(i===t){A&&A.chainMatch(a.index);var s=a.index,u=a.matches_pt1?d:b,p=a.matches_head,c=k[s],x=p?c[0]:c[c.length-1],g=p?c[1]:c[c.length-2],h=p?c[c.length-1]:c[0],y=p?c[c.length-2]:c[1];return e.pointsCollinear(g,x,u)&&(p?(A&&A.chainRemoveHead(a.index,u),c.shift()):(A&&A.chainRemoveTail(a.index,u),c.pop()),x=g),e.pointsSame(h,u)?(k.splice(s,1),e.pointsCollinear(y,h,x)&&(p?(A&&A.chainRemoveTail(a.index,x),c.pop()):(A&&A.chainRemoveHead(a.index,x),c.shift())),A&&A.chainClose(a.index),void l.push(c)):void(p?(A&&A.chainAddHead(a.index,u),c.unshift(u)):(A&&A.chainAddTail(a.index,u),c.push(u)))}var v=a.index,m=t.index;A&&A.chainConnect(v,m);var _=k[v].length<k[m].length;a.matches_head?t.matches_head?_?(S(v),w(v,m)):(S(m),w(m,v)):w(m,v):t.matches_head?w(v,m):_?(S(v),w(m,v)):(S(m),w(v,m))}function f(E,L,C){return i.index=E,i.matches_head=L,i.matches_pt1=C,i===a?(i=t,!1):(i=null,!0)}function S(E){A&&A.chainReverse(E),k[E].reverse()}function w(E,L){var C=k[E],O=k[L],R=C[C.length-1],q=C[C.length-2],P=O[0],U=O[1];e.pointsCollinear(q,R,P)&&(A&&A.chainRemoveTail(E,R),C.pop(),R=q),e.pointsCollinear(R,P,U)&&(A&&A.chainRemoveHead(L,P),O.shift()),A&&A.chainJoin(E,L),k[E]=C.concat(O),k.splice(L,1)}}),l}},55968:function(ee){function D(A,k,l){var T=[];return A.forEach(function(b){var d=(b.myFill.above?8:0)+(b.myFill.below?4:0)+(b.otherFill&&b.otherFill.above?2:0)+(b.otherFill&&b.otherFill.below?1:0);0!==k[d]&&T.push({id:l?l.segmentId():-1,start:b.start,end:b.end,myFill:{above:1===k[d],below:2===k[d]},otherFill:null})}),l&&l.selected(T),T}ee.exports={union:function(A,k){return D(A,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],k)},intersect:function(A,k){return D(A,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],k)},difference:function(A,k){return D(A,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],k)},differenceRev:function(A,k){return D(A,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],k)},xor:function(A,k){return D(A,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],k)}}},14847:function(ee,D,e){"use strict";var A=e(21630).Transform,k=e(90715);function l(){A.call(this,{readableObjectMode:!0})}function T(b,d,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name=this.constructor.name,this.message=b,d&&(this.code=d),a&&(this.statusCode=a)}(l.prototype=Object.create(A.prototype)).constructor=l,k(l.prototype),D.OF=function(b,d,a){for(var t=d,i=0;i<a.length;)if(b[t++]!==a[i++])return!1;return!0},D.eG=function(b,d){var a=[],t=0;if(d&&"hex"===d)for(;t<b.length;)a.push(parseInt(b.slice(t,t+2),16)),t+=2;else for(;t<b.length;t++)a.push(255&b.charCodeAt(t));return a},D.mP=function(b,d){return b[d]|b[d+1]<<8},D.n8=function(b,d){return b[d+1]|b[d]<<8},D.nm=function(b,d){return b[d]|b[d+1]<<8|b[d+2]<<16|16777216*b[d+3]},D.Ag=function(b,d){return b[d+3]|b[d+2]<<8|b[d+1]<<16|16777216*b[d]},(T.prototype=Object.create(Error.prototype)).constructor=T},71371:function(ee){"use strict";function D(k,l){var T=new Error(k);return T.code=l,T}function e(k){try{return decodeURIComponent(escape(k))}catch{return k}}function A(k,l,T){this.input=k.subarray(l,T),this.start=l;var b=String.fromCharCode.apply(null,this.input.subarray(0,4));if("II*\0"!==b&&"MM\0*"!==b)throw D("invalid TIFF signature","EBADDATA");this.big_endian="M"===b[0]}A.prototype.each=function(k){this.aborted=!1;var l=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:l}];this.ifds_to_read.length>0&&!this.aborted;){var T=this.ifds_to_read.shift();T.offset&&this.scan_ifd(T.id,T.offset,k)}},A.prototype.read_uint16=function(k){var l=this.input;if(k+2>l.length)throw D("unexpected EOF","EBADDATA");return this.big_endian?256*l[k]+l[k+1]:l[k]+256*l[k+1]},A.prototype.read_uint32=function(k){var l=this.input;if(k+4>l.length)throw D("unexpected EOF","EBADDATA");return this.big_endian?16777216*l[k]+65536*l[k+1]+256*l[k+2]+l[k+3]:l[k]+256*l[k+1]+65536*l[k+2]+16777216*l[k+3]},A.prototype.is_subifd_link=function(k,l){return 0===k&&34665===l||0===k&&34853===l||34665===k&&40965===l},A.prototype.exif_format_length=function(k){switch(k){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},A.prototype.exif_format_read=function(k,l){var T;switch(k){case 1:case 2:return this.input[l];case 6:return(T=this.input[l])|33554430*(128&T);case 3:return this.read_uint16(l);case 8:return(T=this.read_uint16(l))|131070*(32768&T);case 4:return this.read_uint32(l);case 9:return 0|this.read_uint32(l);default:return null}},A.prototype.scan_ifd=function(k,l,T){var b=this.read_uint16(l);l+=2;for(var d=0;d<b;d++){var a=this.read_uint16(l),t=this.read_uint16(l+2),i=this.read_uint32(l+4),r=this.exif_format_length(t),n=i*r,o=n<=4?l+8:this.read_uint32(l+8),s=!1;if(o+n>this.input.length)throw D("unexpected EOF","EBADDATA");for(var u=[],p=o,c=0;c<i;c++,p+=r){var x=this.exif_format_read(t,p);if(null===x){u=null;break}u.push(x)}if(Array.isArray(u)&&2===t&&(u=e(String.fromCharCode.apply(null,u)))&&"\0"===u[u.length-1]&&(u=u.slice(0,-1)),this.is_subifd_link(k,a)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:a,offset:u[0]}),s=!0),!1===T({is_big_endian:this.big_endian,ifd:k,tag:a,format:t,count:i,entry_offset:l+this.start,data_length:n,data_offset:o+this.start,value:u,is_subifd_link:s}))return void(this.aborted=!0);l+=12}0===k&&this.ifds_to_read.push({id:1,offset:this.read_uint32(l)})},ee.exports.ExifParser=A,ee.exports.get_orientation=function(k){var l=0;try{return new A(k,0,k.length).each(function(T){if(0===T.ifd&&274===T.tag&&Array.isArray(T.value))return l=T.value[0],!1}),l}catch{return-1}}},76767:function(ee,D,e){"use strict";var A=e(14847).n8,k=e(14847).Ag;function l(i,r){if(i.length<4+r)return null;var n=k(i,r);return i.length<n+r||n<8?null:{boxtype:String.fromCharCode.apply(null,i.slice(r+4,r+8)),data:i.slice(r+8,r+n),end:r+n}}function T(i,r){for(var n=0;;){var o=l(i,n);if(!o)break;switch(o.boxtype){case"ispe":r.sizes.push({width:k(o.data,4),height:k(o.data,8)});break;case"irot":r.transforms.push({type:"irot",value:3&o.data[0]});break;case"imir":r.transforms.push({type:"imir",value:1&o.data[0]})}n=o.end}}function b(i,r,n){for(var o=0,s=0;s<n;s++)o=256*o+(i[r+s]||0);return o}function d(i,r){for(var n=i[4]>>4&15,o=15&i[4],s=i[5]>>4&15,u=A(i,6),p=8,c=0;c<u;c++){var x=A(i,p),g=A(i,p+=2),h=b(i,p+=2,s),y=A(i,p+=s);if(p+=2,0===g&&1===y){var v=b(i,p,n),m=b(i,p+n,o);r.item_loc[x]={length:m,offset:v+h}}p+=y*(n+o)}}function a(i,r){for(var n=A(i,4),o=6,s=0;s<n;s++){var u=l(i,o);if(!u)break;if("infe"===u.boxtype){for(var p=A(u.data,4),c="",x=8;x<u.data.length&&u.data[x];x++)c+=String.fromCharCode(u.data[x]);r.item_inf[c]=p}o=u.end}}function t(i,r){for(var n=0;;){var o=l(i,n);if(!o)break;"ipco"===o.boxtype&&T(o.data,r),n=o.end}}ee.exports.unbox=l,ee.exports.readSizeFromMeta=function(i){var r={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(x,g){for(var h=4;;){var y=l(x,h);if(!y)break;"iprp"===y.boxtype&&t(y.data,g),"iloc"===y.boxtype&&d(y.data,g),"iinf"===y.boxtype&&a(y.data,g),h=y.end}}(i,r),r.sizes.length){var n,o,s,u=(o=(n=r.sizes).reduce(function(x,g){return x.width>g.width||x.width===g.width&&x.height>g.height?x:g}),s=n.reduce(function(x,g){return x.height>g.height||x.height===g.height&&x.width>g.width?x:g}),o.width>s.height||o.width===s.height&&o.height>s.width?o:s),p=1;r.transforms.forEach(function(x){var g={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if("imir"===x.type&&(p=0===x.value?h[p]:g[p=g[p=h[p]]]),"irot"===x.type)for(var y=0;y<x.value;y++)p=g[p]});var c=null;return r.item_inf.Exif&&(c=r.item_loc[r.item_inf.Exif]),{width:u.width,height:u.height,orientation:r.transforms.length?p:null,variants:r.sizes,exif_location:c}}},ee.exports.getMimeType=function(i){var r=String.fromCharCode.apply(null,i.slice(0,4)),n={};n[r]=!0;for(var o=8;o<i.length;o+=4)n[String.fromCharCode.apply(null,i.slice(o,o+4))]=!0;if(n.mif1||n.msf1||n.miaf)return"avif"===r||"avis"===r||"avio"===r?{type:"avif",mime:"image/avif"}:"heic"===r||"heix"===r?{type:"heic",mime:"image/heic"}:"hevc"===r||"hevx"===r?{type:"heic",mime:"image/heic-sequence"}:n.avif||n.avis?{type:"avif",mime:"image/avif"}:n.heic||n.heix||n.hevc||n.hevx||n.heis?n.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(ee,D,e){"use strict";var A=e(14847).eG,k=e(14847).OF,l=e(14847).Ag,T=e(76767),b=e(71371),d=A("ftyp");ee.exports=function(a){if(k(a,4,d)){var t=T.unbox(a,0);if(t){var i=T.getMimeType(t.data);if(i){for(var r,n=t.end;;){var o=T.unbox(a,n);if(!o)break;if(n=o.end,"mdat"===o.boxtype)return;if("meta"===o.boxtype){r=o.data;break}}if(r){var s=T.readSizeFromMeta(r);if(s){var u={width:s.width,height:s.height,type:i.type,mime:i.mime,wUnits:"px",hUnits:"px"};if(s.variants.length>1&&(u.variants=s.variants),s.orientation&&(u.orientation=s.orientation),s.exif_location&&s.exif_location.offset+s.exif_location.length<=a.length){var p=l(a,s.exif_location.offset),c=a.slice(s.exif_location.offset+p+4,s.exif_location.offset+s.exif_location.length),x=b.get_orientation(c);x>0&&(u.orientation=x)}return u}}}}}}},2504:function(ee,D,e){"use strict";var A=e(14847).eG,k=e(14847).OF,l=e(14847).mP,T=A("BM");ee.exports=function(b){if(!(b.length<26)&&k(b,0,T))return{width:l(b,18),height:l(b,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(ee,D,e){"use strict";var A=e(14847).eG,k=e(14847).OF,l=e(14847).mP,T=A("GIF87a"),b=A("GIF89a");ee.exports=function(d){if(!(d.length<10)&&(k(d,0,T)||k(d,0,b)))return{width:l(d,6),height:l(d,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(ee,D,e){"use strict";var A=e(14847).mP;ee.exports=function(k){var l=A(k,0),T=A(k,2),b=A(k,4);if(0===l&&1===T&&b){for(var d=[],a={width:0,height:0},t=0;t<b;t++){var i=k[6+16*t]||256,r=k[6+16*t+1]||256,n={width:i,height:r};d.push(n),(i>a.width||r>a.height)&&(a=n)}return{width:a.width,height:a.height,variants:d,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(ee,D,e){"use strict";var A=e(14847).n8,k=e(14847).eG,l=e(14847).OF,T=e(71371),b=k("Exif\0\0");ee.exports=function(d){if(!(d.length<2)&&255===d[0]&&216===d[1]&&255===d[2])for(var a=2;;){for(;;){if(d.length-a<2)return;if(255===d[a++])break}for(var t,i,r=d[a++];255===r;)r=d[a++];if(208<=r&&r<=217||1===r)t=0;else{if(!(192<=r&&r<=254)||d.length-a<2)return;t=A(d,a)-2,a+=2}if(217===r||218===r)return;if(225===r&&t>=10&&l(d,a,b)&&(i=T.get_orientation(d.slice(a+6,a+t))),t>=5&&192<=r&&r<=207&&196!==r&&200!==r&&204!==r){if(d.length-a<t)return;var n={width:A(d,a+3),height:A(d,a+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(n.orientation=i),n}a+=t}}},6303:function(ee,D,e){"use strict";var A=e(14847).eG,k=e(14847).OF,l=e(14847).Ag,T=A("\x89PNG\r\n\x1a\n"),b=A("IHDR");ee.exports=function(d){if(!(d.length<24)&&k(d,0,T)&&k(d,12,b))return{width:l(d,16),height:l(d,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(ee,D,e){"use strict";var A=e(14847).eG,k=e(14847).OF,l=e(14847).Ag,T=A("8BPS\0\x01");ee.exports=function(b){if(!(b.length<22)&&k(b,0,T))return{width:l(b,18),height:l(b,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(ee){"use strict";function D(a){return"number"==typeof a&&isFinite(a)&&a>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,A=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,k=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,l=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,T=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,b=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function d(a){return b.test(a)?a.match(b)[0]:"px"}ee.exports=function(a){if(function(h){var y,v=0,m=h.length;for(239===h[0]&&187===h[1]&&191===h[2]&&(v=3);v<m&&(32===(y=h[v])||9===y||13===y||10===y);)v++;return v!==m&&60===h[v]}(a)){for(var t="",i=0;i<a.length;i++)t+=String.fromCharCode(a[i]);var r=(t.match(e)||[""])[0];if(A.test(r)){var n=(y=(h=r).match(k),v=h.match(l),m=h.match(T),{width:y&&(y[1]||y[2]),height:v&&(v[1]||v[2]),viewbox:m&&(m[1]||m[2])}),o=parseFloat(n.width),s=parseFloat(n.height);if(n.width&&n.height)return D(o)&&D(s)?{width:o,height:s,type:"svg",mime:"image/svg+xml",wUnits:d(n.width),hUnits:d(n.height)}:void 0;var u=(n.viewbox||"").split(" "),p={width:u[2],height:u[3]},c=parseFloat(p.width),x=parseFloat(p.height);if(D(c)&&D(x)&&d(p.width)===d(p.height)){var g=c/x;return n.width?D(o)?{width:o,height:o/g,type:"svg",mime:"image/svg+xml",wUnits:d(n.width),hUnits:d(n.width)}:void 0:n.height?D(s)?{width:s*g,height:s,type:"svg",mime:"image/svg+xml",wUnits:d(n.height),hUnits:d(n.height)}:void 0:{width:c,height:x,type:"svg",mime:"image/svg+xml",wUnits:d(p.width),hUnits:d(p.height)}}}}var h,y,v,m}},66278:function(ee,D,e){"use strict";var A=e(14847).eG,k=e(14847).OF,l=e(14847).mP,T=e(14847).n8,b=e(14847).nm,d=e(14847).Ag,a=A("II*\0"),t=A("MM\0*");function i(o,s,u){return u?T(o,s):l(o,s)}function r(o,s,u){return u?d(o,s):b(o,s)}function n(o,s,u){var p=i(o,s+2,u);return 1!==r(o,s+4,u)||3!==p&&4!==p?null:3===p?i(o,s+8,u):r(o,s+8,u)}ee.exports=function(o){if(!(o.length<8)&&(k(o,0,a)||k(o,0,t))){var s=77===o[0],u=r(o,4,s)-8;if(!(u<0)){var p=u+8;if(!(o.length-p<2)){var c=12*i(o,p+0,s);if(!(c<=0||(p+=2,o.length-p<c))){var x,g,h,y;for(x=0;x<c;x+=12)256===(y=i(o,p+x,s))?g=n(o,p+x,s):257===y&&(h=n(o,p+x,s));return g&&h?{width:g,height:h,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},90784:function(ee,D,e){"use strict";var A=e(14847).eG,k=e(14847).OF,l=e(14847).mP,T=e(14847).nm,b=e(71371),d=A("RIFF"),a=A("WEBP");function t(n,o){if(157===n[o+3]&&1===n[o+4]&&42===n[o+5])return{width:16383&l(n,o+6),height:16383&l(n,o+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function i(n,o){if(47===n[o]){var s=T(n,o+1);return{width:1+(16383&s),height:1+(s>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function r(n,o){return{width:1+(n[o+6]<<16|n[o+5]<<8|n[o+4]),height:1+(n[o+9]<<o|n[o+8]<<8|n[o+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}ee.exports=function(n){if(!(n.length<16)&&(k(n,0,d)||k(n,8,a))){var o=12,s=null,u=0,p=T(n,4)+8;if(!(p>n.length)){for(;o+8<p;)if(0!==n[o]){var c=String.fromCharCode.apply(null,n.slice(o,o+4)),x=T(n,o+4);"VP8 "===c&&x>=10?s=s||t(n,o+8):"VP8L"===c&&x>=9?s=s||i(n,o+8):"VP8X"===c&&x>=10?s=s||r(n,o+8):"EXIF"===c&&(u=b.get_orientation(n.slice(o+8,o+8+x)),o=1/0),o+=8+x}else o++;if(s)return u>0&&(s.orientation=u),s}}}},91497:function(ee,D,e){"use strict";ee.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(ee,D,e){"use strict";var A=e(91497);ee.exports=function(k){return function(l){for(var T=Object.keys(A),b=0;b<T.length;b++){var d=A[T[b]](l);if(d)return d}return null}(k)},ee.exports.parsers=A},90386:function(ee){var D,e,A=ee.exports={};function k(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function T(s){if(D===setTimeout)return setTimeout(s,0);if((D===k||!D)&&setTimeout)return D=setTimeout,setTimeout(s,0);try{return D(s,0)}catch{try{return D.call(null,s,0)}catch{return D.call(this,s,0)}}}!function(){try{D="function"==typeof setTimeout?setTimeout:k}catch{D=k}try{e="function"==typeof clearTimeout?clearTimeout:l}catch{e=l}}();var b,d=[],a=!1,t=-1;function i(){a&&b&&(a=!1,b.length?d=b.concat(d):t=-1,d.length&&r())}function r(){if(!a){var s=T(i);a=!0;for(var u=d.length;u;){for(b=d,d=[];++t<u;)b&&b[t].run();t=-1,u=d.length}b=null,a=!1,function(p){if(e===clearTimeout)return clearTimeout(p);if((e===l||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(p);try{return e(p)}catch{try{return e.call(null,p)}catch{return e.call(this,p)}}}(s)}}function n(s,u){this.fun=s,this.array=u}function o(){}A.nextTick=function(s){var u=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)u[p-1]=arguments[p];d.push(new n(s,u)),1!==d.length||a||T(r)},n.prototype.run=function(){this.fun.apply(null,this.array)},A.title="browser",A.browser=!0,A.env={},A.argv=[],A.version="",A.versions={},A.on=o,A.addListener=o,A.once=o,A.off=o,A.removeListener=o,A.removeAllListeners=o,A.emit=o,A.prependListener=o,A.prependOnceListener=o,A.listeners=function(s){return[]},A.binding=function(s){throw new Error("process.binding is not supported")},A.cwd=function(){return"/"},A.chdir=function(s){throw new Error("process.chdir is not supported")},A.umask=function(){return 0}},5877:function(ee,D,e){for(var A=e(9748),k=typeof window>"u"?e.g:window,l=["moz","webkit"],T="AnimationFrame",b=k["request"+T],d=k["cancel"+T]||k["cancelRequest"+T],a=0;!b&&a<l.length;a++)b=k[l[a]+"Request"+T],d=k[l[a]+"Cancel"+T]||k[l[a]+"CancelRequest"+T];if(!b||!d){var t=0,i=0,r=[];b=function(n){if(0===r.length){var o=A(),s=Math.max(0,16.666666666666668-(o-t));t=s+o,setTimeout(function(){var u=r.slice(0);r.length=0;for(var p=0;p<u.length;p++)if(!u[p].cancelled)try{u[p].callback(t)}catch(c){setTimeout(function(){throw c},0)}},Math.round(s))}return r.push({handle:++i,callback:n,cancelled:!1}),i},d=function(n){for(var o=0;o<r.length;o++)r[o].handle===n&&(r[o].cancelled=!0)}}ee.exports=function(n){return b.call(k,n)},ee.exports.cancel=function(){d.apply(k,arguments)},ee.exports.polyfill=function(n){n||(n=k),n.requestAnimationFrame=b,n.cancelAnimationFrame=d}},3593:function(ee,D,e){"use strict";var A=e(21527),k=e(25075),l=e(93447),T=e(71299),b=e(56131),d=e(30120),a=e(57060),t=a.float32,i=a.fract32;ee.exports=function(n,o){if("function"==typeof n?(o||(o={}),o.regl=n):o=n,o.length&&(o.positions=o),!(n=o.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var s,u,p,c,x,g,h=n._gl,y={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},v=[];return c=n.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),x=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=n.buffer({usage:"static",type:"float",data:r}),S(o),s=n({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:n.prop("range"),lineWidth:n.prop("lineWidth"),capSize:n.prop("capSize"),opacity:n.prop("opacity"),scale:n.prop("scale"),translate:n.prop("translate"),scaleFract:n.prop("scaleFract"),translateFract:n.prop("translateFract"),viewport:function(E,L){return[L.viewport.x,L.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:c,offset:function(E,L){return 4*L.offset},divisor:1},position:{buffer:u,offset:function(E,L){return 8*L.offset},divisor:1},positionFract:{buffer:p,offset:function(E,L){return 8*L.offset},divisor:1},error:{buffer:x,offset:function(E,L){return 16*L.offset},divisor:1},direction:{buffer:g,stride:24,offset:0},lineOffset:{buffer:g,stride:24,offset:8},capOffset:{buffer:g,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:n.prop("viewport")},viewport:n.prop("viewport"),stencil:!1,instances:n.prop("count"),count:r.length}),b(m,{update:S,draw:_,destroy:w,regl:n,gl:h,canvas:h.canvas,groups:v}),m;function m(E){E?S(E):null===E&&w(),_()}function _(E){if("number"==typeof E)return f(E);E&&!Array.isArray(E)&&(E=[E]),n._refresh(),v.forEach(function(L,C){L&&(E&&(L.draw=!!E[C]),L.draw?f(C):L.draw=!0)})}function f(E){"number"==typeof E&&(E=v[E]),null!=E&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],s(E),E.after&&E.after(E))}function S(E){if(E){null!=E.length?"number"==typeof E[0]&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var L=0,C=0;if(m.groups=v=E.map(function(F,j){var G=v[j];return F&&("function"==typeof F?F={after:F}:"number"==typeof F[0]&&(F={positions:F}),F=T(F,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),G||(v[j]=G={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},F=b({},y,F)),l(G,F,[{lineWidth:function(te){return.5*+te},capSize:function(te){return.5*+te},opacity:parseFloat,errors:function(te){return te=d(te),C+=te.length,te},positions:function(te,J){return te=d(te,"float64"),J.count=Math.floor(te.length/2),J.bounds=A(te,2),J.offset=L,L+=J.count,te}},{color:function(te,J){var X=J.count;if(te||(te="transparent"),!Array.isArray(te)||"number"==typeof te[0]){var Y=te;te=Array(X);for(var W=0;W<X;W++)te[W]=Y}if(te.length<X)throw Error("Not enough colors");for(var $=new Uint8Array(4*X),ne=0;ne<X;ne++){var re=k(te[ne],"uint8");$.set(re,4*ne)}return $},range:function(te,J,X){return te||(te=J.bounds),J.scale=[1/(te[2]-te[0]),1/(te[3]-te[1])],J.translate=[-te[0],-te[1]],J.scaleFract=i(J.scale),J.translateFract=i(J.translate),te},viewport:function(te){var J;return Array.isArray(te)?J={x:te[0],y:te[1],width:te[2]-te[0],height:te[3]-te[1]}:te?((J={x:te.x||te.left||0,y:te.y||te.top||0}).width=te.right?te.right-J.x:te.w||te.width||0,J.height=te.bottom?te.bottom-J.y:te.h||te.height||0):J={x:0,y:0,width:h.drawingBufferWidth,height:h.drawingBufferHeight},J}}])),G}),L||C){var O=v.reduce(function(F,j,G){return F+(j?j.count:0)},0),R=new Float64Array(2*O),q=new Uint8Array(4*O),P=new Float32Array(4*O);v.forEach(function(F,j){if(F){var G=F.positions,J=F.offset,Y=F.errors;F.count&&(q.set(F.color,4*J),P.set(Y,4*J),R.set(G,2*J))}});var U=t(R);u(U);var N=i(R,U);p(N),c(q),x(P)}}}function w(){u.destroy(),p.destroy(),c.destroy(),x.destroy(),g.destroy()}};var r=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(ee,D,e){"use strict";var A=e(25075),k=e(21527),l=e(56131),T=e(56068),b=e(71299),d=e(30120),a=e(11474),t=e(54),i=e(57060),r=i.float32,n=i.fract32,o=e(83522),s=e(18863),u=e(6851);function p(c,x){if(!(this instanceof p))return new p(c,x);if("function"==typeof c?(x||(x={}),x.regl=c):x=c,x.length&&(x.positions=x),!(c=x.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=c._gl,this.regl=c,this.passes=[],this.shaders=p.shaders.has(c)?p.shaders.get(c):p.shaders.set(c,p.createShaders(c)).get(c),this.update(x)}ee.exports=p,p.dashMult=2,p.maxPatternLength=256,p.precisionThreshold=3e6,p.maxPoints=1e4,p.maxLines=2048,p.shaders=new o,p.createShaders=function(c){var x,g=c.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),h={primitive:"triangle strip",instances:c.prop("count"),count:4,offset:0,uniforms:{miterMode:function(v,m){return"round"===m.join?2:1},miterLimit:c.prop("miterLimit"),scale:c.prop("scale"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),thickness:c.prop("thickness"),dashTexture:c.prop("dashTexture"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),dashLength:c.prop("dashLength"),viewport:function(v,m){return[m.viewport.x,m.viewport.y,v.viewportWidth,v.viewportHeight]},depth:c.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(v,m){return!m.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:c.prop("viewport")},viewport:c.prop("viewport")},y=c(l({vert:T(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:T(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:g,divisor:0,stride:8,offset:0},lineTop:{buffer:g,divisor:0,stride:8,offset:4},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},h));try{x=c(l({cull:{enable:!0,face:"back"},vert:T(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:T(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:g,divisor:0,stride:8,offset:0},lineTop:{buffer:g,divisor:0,stride:8,offset:4},aColor:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:c.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},h))}catch{x=y}return{fill:c({primitive:"triangle",elements:function(v,m){return m.triangles},offset:0,vert:T(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:T(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:c.prop("scale"),color:c.prop("fill"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),viewport:function(v,m){return[m.viewport.x,m.viewport.y,v.viewportWidth,v.viewportHeight]}},attributes:{position:{buffer:c.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8}},blend:h.blend,depth:{enable:!1},scissor:h.scissor,stencil:h.stencil,viewport:h.viewport}),rect:y,miter:x}},p.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},p.prototype.render=function(){for(var c,x=[],g=arguments.length;g--;)x[g]=arguments[g];x.length&&(c=this).update.apply(c,x),this.draw()},p.prototype.draw=function(){for(var c=this,x=[],g=arguments.length;g--;)x[g]=arguments[g];return(x.length?x:this.passes).forEach(function(h,y){var v;if(h&&Array.isArray(h))return(v=c).draw.apply(v,h);"number"==typeof h&&(h=c.passes[h]),h&&h.count>1&&h.opacity&&(c.regl._refresh(),h.fill&&h.triangles&&h.triangles.length>2&&c.shaders.fill(h),h.thickness&&(h.scale[0]*h.viewport.width>p.precisionThreshold||h.scale[1]*h.viewport.height>p.precisionThreshold||"rect"===h.join||!h.join&&(h.thickness<=2||h.count>=p.maxPoints)?c.shaders.rect(h):c.shaders.miter(h)))}),this},p.prototype.update=function(c){var x=this;if(c){null!=c.length?"number"==typeof c[0]&&(c=[{positions:c}]):Array.isArray(c)||(c=[c]);var g=this.regl,h=this.gl;if(c.forEach(function(f,S){var w=x.passes[S];if(void 0!==f)if(null!==f){if("number"==typeof f[0]&&(f={positions:f}),f=b(f,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),w||(x.passes[S]=w={id:S,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:g.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:g.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},f=l({},p.defaults,f)),null!=f.thickness&&(w.thickness=parseFloat(f.thickness)),null!=f.opacity&&(w.opacity=parseFloat(f.opacity)),null!=f.miterLimit&&(w.miterLimit=parseFloat(f.miterLimit)),null!=f.overlay&&(w.overlay=!!f.overlay,S<p.maxLines&&(w.depth=2*(p.maxLines-1-S%p.maxLines)/p.maxLines-1)),null!=f.join&&(w.join=f.join),null!=f.hole&&(w.hole=f.hole),null!=f.fill&&(w.fill=f.fill?A(f.fill,"uint8"):null),null!=f.viewport&&(w.viewport=s(f.viewport)),w.viewport||(w.viewport=s([h.drawingBufferWidth,h.drawingBufferHeight])),null!=f.close&&(w.close=f.close),null===f.positions&&(f.positions=[]),f.positions){var E,L;if(f.positions.x&&f.positions.y){var C=f.positions.x,O=f.positions.y;L=w.count=Math.max(C.length,O.length),E=new Float64Array(2*L);for(var R=0;R<L;R++)E[2*R]=C[R],E[2*R+1]=O[R]}else E=d(f.positions,"float64"),L=w.count=Math.floor(E.length/2);var q=w.bounds=k(E,2);if(w.fill){for(var P=[],U={},N=0,F=0,j=0,G=w.count;F<G;F++){var te=E[2*F],J=E[2*F+1];isNaN(te)||isNaN(J)||null==te||null==J?(te=E[2*N],J=E[2*N+1],U[F]=N):N=F,P[j++]=te,P[j++]=J}if(f.splitNull){w.count-1 in U||(U[w.count]=w.count-1);var X=Object.keys(U).map(Number).sort(function(mt,at){return mt-at}),Y=[],W=0,$=null!=w.hole?w.hole[0]:null;if(null!=$){var ne=u(X,function(mt){return mt>=$});(X=X.slice(0,ne)).push($)}for(var re=function(mt){var at=P.slice(2*W,2*X[mt]).concat($?P.slice(2*$):[]),st=(w.hole||[]).map(function(At){return At-$+(X[mt]-W)}),Tt=a(at,st);Tt=Tt.map(function(At){return At+W+(At+W<X[mt]?0:$-X[mt])}),Y.push.apply(Y,Tt),W=X[mt]+1},oe=0;oe<X.length;oe++)re(oe);for(var ue=0,xe=Y.length;ue<xe;ue++)null!=U[Y[ue]]&&(Y[ue]=U[Y[ue]]);w.triangles=Y}else{for(var Me=a(P,w.hole||[]),me=0,pe=Me.length;me<pe;me++)null!=U[Me[me]]&&(Me[me]=U[Me[me]]);w.triangles=Me}}var ge=new Float64Array(E);t(ge,2,q);var Pe=new Float64Array(2*L+6);w.close?E[0]===E[2*L-2]&&E[1]===E[2*L-1]?(Pe[0]=ge[2*L-4],Pe[1]=ge[2*L-3]):(Pe[0]=ge[2*L-2],Pe[1]=ge[2*L-1]):(Pe[0]=ge[0],Pe[1]=ge[1]),Pe.set(ge,2),w.close?E[0]===E[2*L-2]&&E[1]===E[2*L-1]?(Pe[2*L+2]=ge[2],Pe[2*L+3]=ge[3],w.count-=1):(Pe[2*L+2]=ge[0],Pe[2*L+3]=ge[1],Pe[2*L+4]=ge[2],Pe[2*L+5]=ge[3]):(Pe[2*L+2]=ge[2*L-2],Pe[2*L+3]=ge[2*L-1],Pe[2*L+4]=ge[2*L-2],Pe[2*L+5]=ge[2*L-1]);var _e=r(Pe);w.positionBuffer(_e);var we=n(Pe,_e);w.positionFractBuffer(we)}if(f.range?w.range=f.range:w.range||(w.range=w.bounds),(f.range||f.positions)&&w.count){var se=w.bounds,Ee=w.range[2]-w.range[0],ke=w.range[3]-w.range[1];w.scale=[(se[2]-se[0])/Ee,(se[3]-se[1])/ke],w.translate=[-w.range[0]/Ee+se[0]/Ee||0,-w.range[1]/ke+se[1]/ke||0],w.scaleFract=n(w.scale),w.translateFract=n(w.translate)}if(f.dashes){var be,Ie=0;if(!f.dashes||f.dashes.length<2)Ie=1,be=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ie=0;for(var Fe=0;Fe<f.dashes.length;++Fe)Ie+=f.dashes[Fe];be=new Uint8Array(Ie*p.dashMult);for(var ce=0,Te=255,ve=0;ve<2;ve++)for(var Ce=0;Ce<f.dashes.length;++Ce){for(var Re=0,Oe=f.dashes[Ce]*p.dashMult*.5;Re<Oe;++Re)be[ce++]=Te;Te^=255}}w.dashLength=Ie,w.dashTexture({channels:1,data:be,width:be.length,height:1,mag:"linear",min:"linear"},0,0)}if(f.color){var je=w.count,qe=f.color;qe||(qe="transparent");var Je=new Uint8Array(4*je+4);if(Array.isArray(qe)&&"number"!=typeof qe[0]){for(var it=0;it<je;it++){var Qe=A(qe[it],"uint8");Je.set(Qe,4*it)}Je.set(A(qe[0],"uint8"),4*je)}else for(var dt=A(qe,"uint8"),yt=0;yt<je+1;yt++)Je.set(dt,4*yt);w.colorBuffer({usage:"dynamic",type:"uint8",data:Je})}}else x.passes[S]=null}),c.length<this.passes.length){for(var y=c.length;y<this.passes.length;y++){var v=this.passes[y];v&&(v.colorBuffer.destroy(),v.positionBuffer.destroy(),v.dashTexture.destroy())}this.passes.length=c.length}for(var m=[],_=0;_<this.passes.length;_++)null!==this.passes[_]&&m.push(this.passes[_]);return this.passes=m,this}},p.prototype.destroy=function(){return this.passes.forEach(function(c){c.colorBuffer.destroy(),c.positionBuffer.destroy(),c.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(ee,D,e){"use strict";function A(h,y){return function(v){if(Array.isArray(v))return v}(h)||function(v,m){var _=null==v?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(null!=_){var f,S,w,E,L=[],C=!0,O=!1;try{if(w=(_=_.call(v)).next,0===m){if(Object(_)!==_)return;C=!1}else for(;!(C=(f=w.call(_)).done)&&(L.push(f.value),L.length!==m);C=!0);}catch(R){O=!0,S=R}finally{try{if(!C&&null!=_.return&&(E=_.return(),Object(E)!==E))return}finally{if(O)throw S}}return L}}(h,y)||k(h,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(h,y){if(h){if("string"==typeof h)return l(h,y);var v=Object.prototype.toString.call(h).slice(8,-1);return"Object"===v&&h.constructor&&(v=h.constructor.name),"Map"===v||"Set"===v?Array.from(h):"Arguments"===v||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?l(h,y):void 0}}function l(h,y){(null==y||y>h.length)&&(y=h.length);for(var v=0,m=new Array(y);v<y;v++)m[v]=h[v];return m}var T=e(25075),b=e(21527),d=e(6475),a=e(88294),t=e(56131),i=e(56068),r=e(71299),n=e(93447),o=e(30120),s=e(62683),u=e(57060),p=e(18863),c=x;function x(h,y){var v=this;if(!(this instanceof x))return new x(h,y);"function"==typeof h?(y||(y={}),y.regl=h):(y=h,h=null),y&&y.length&&(y.positions=y);var m,_=(h=y.regl)._gl,f=[];this.tooManyColors=s,m=h.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),t(this,{regl:h,gl:_,groups:[],markerCache:[null],markerTextures:[null],palette:f,paletteIds:{},paletteTexture:m,maxColors:255,maxSize:100,canvas:_.canvas}),this.update(y);var S={uniforms:{constPointSize:!!y.constPointSize,opacity:h.prop("opacity"),paletteSize:function(L,C){return[v.tooManyColors?0:255,m.height]},pixelRatio:h.context("pixelRatio"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translate:h.prop("translate"),translateFract:h.prop("translateFract"),markerTexture:h.prop("markerTexture"),paletteTexture:m},attributes:{x:function(L,C){return C.xAttr||{buffer:C.positionBuffer,stride:8,offset:0}},y:function(L,C){return C.yAttr||{buffer:C.positionBuffer,stride:8,offset:4}},xFract:function(L,C){return C.xAttr?{constant:[0,0]}:{buffer:C.positionFractBuffer,stride:8,offset:0}},yFract:function(L,C){return C.yAttr?{constant:[0,0]}:{buffer:C.positionFractBuffer,stride:8,offset:4}},size:function(L,C){return C.size.length?{buffer:C.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*C.size/v.maxSize)]}},borderSize:function(L,C){return C.borderSize.length?{buffer:C.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*C.borderSize/v.maxSize)]}},colorId:function(L,C){return C.color.length?{buffer:C.colorBuffer,stride:v.tooManyColors?8:4,offset:0}:{constant:v.tooManyColors?f.slice(4*C.color,4*C.color+4):[C.color]}},borderColorId:function(L,C){return C.borderColor.length?{buffer:C.colorBuffer,stride:v.tooManyColors?8:4,offset:v.tooManyColors?4:2}:{constant:v.tooManyColors?f.slice(4*C.borderColor,4*C.borderColor+4):[C.borderColor]}},isActive:function(L,C){return!0===C.activation?{constant:[1]}:C.activation?C.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:h.prop("elements"),count:h.prop("count"),offset:h.prop("offset"),primitive:"points"},w=t({},S);w.frag=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),w.vert=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}"]),this.drawMarker=h(w);var E=t({},S);E.frag=i(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),E.vert=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),s&&(E.frag=E.frag.replace("smoothstep","smoothStep"),w.frag=w.frag.replace("smoothstep","smoothStep")),this.drawCircle=h(E)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var h=this,y=arguments.length,v=new Array(y),m=0;m<y;m++)v[m]=arguments[m];var _=this.groups;if(1===v.length&&Array.isArray(v[0])&&(null===v[0][0]||Array.isArray(v[0][0]))&&(v=v[0]),this.regl._refresh(),v.length)for(var f=0;f<v.length;f++)this.drawItem(f,v[f]);else _.forEach(function(S,w){h.drawItem(w)});return this},x.prototype.drawItem=function(h,y){var v,m=this.groups,_=m[h];if("number"==typeof y&&(h=y,_=m[y],y=null),_&&_.count&&_.opacity){_.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,_,y));for(var f=[],S=1;S<_.activation.length;S++)_.activation[S]&&(!0===_.activation[S]||_.activation[S].data.length)&&f.push.apply(f,function(w){if(Array.isArray(w))return l(w)}(v=this.getMarkerDrawOptions(S,_,y))||function(w){if(typeof Symbol<"u"&&null!=w[Symbol.iterator]||null!=w["@@iterator"])return Array.from(w)}(v)||k(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());f.length&&this.drawMarker(f)}},x.prototype.getMarkerDrawOptions=function(h,y,v){var m=y.range,_=y.tree,f=y.viewport,S=y.activation,w=y.selectionBuffer,E=y.count;if(!_)return v?[t({},y,{markerTexture:this.markerTextures[h],activation:S[h],count:v.length,elements:v,offset:0})]:[t({},y,{markerTexture:this.markerTextures[h],activation:S[h],offset:0})];var L=[],C=_.range(m,{lod:!0,px:[(m[2]-m[0])/f.width,(m[3]-m[1])/f.height]});if(v){for(var O=S[h].data,R=new Uint8Array(E),q=0;q<v.length;q++){var P=v[q];R[P]=O?O[P]:1}w.subdata(R)}for(var U=C.length;U--;){var N=A(C[U],2),F=N[0];L.push(t({},y,{markerTexture:this.markerTextures[h],activation:v?w:S[h],offset:F,count:N[1]-F}))}return L},x.prototype.update=function(){for(var h=this,y=arguments.length,v=new Array(y),m=0;m<y;m++)v[m]=arguments[m];if(v.length){1===v.length&&Array.isArray(v[0])&&(v=v[0]);var _=this.groups,f=this.gl,S=this.regl,w=this.maxSize,E=this.maxColors,L=this.palette;this.groups=_=v.map(function(C,O){var R=_[O];if(void 0===C)return R;null===C?C={positions:null}:"function"==typeof C?C={ondraw:C}:"number"==typeof C[0]&&(C={positions:C}),null===(C=r(C,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(C.positions=[]),null!=C.tooManyColors&&(h.tooManyColors=C.tooManyColors),R||(_[O]=R={id:O,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:S.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},C=t({},x.defaults,C)),C.positions&&!("marker"in C)&&(C.marker=R.marker,delete R.marker),C.marker&&!("positions"in C)&&(C.positions=R.positions,delete R.positions);var q=0,P=0;if(n(R,C,[{snap:!0,size:function(me,pe){return null==me&&(me=x.defaults.size),q+=me&&me.length?1:0,me},borderSize:function(me,pe){return null==me&&(me=x.defaults.borderSize),q+=me&&me.length?1:0,me},opacity:parseFloat,color:function(me,pe){return null==me&&(me=x.defaults.color),me=h.updateColor(me),P++,me},borderColor:function(me,pe){return null==me&&(me=x.defaults.borderColor),me=h.updateColor(me),P++,me},bounds:function(me,pe,ge){return"range"in ge||(ge.range=null),me},positions:function(me,pe,ge){var Pe=pe.snap,_e=pe.positionBuffer,we=pe.positionFractBuffer,se=pe.selectionBuffer;if(me.x||me.y)return pe.xAttr=me.x.length?{buffer:S.buffer(me.x),offset:0,stride:4,count:me.x.length}:{buffer:me.x.buffer,offset:4*me.x.offset||0,stride:4*(me.x.stride||1),count:me.x.count},pe.yAttr=me.y.length?{buffer:S.buffer(me.y),offset:0,stride:4,count:me.y.length}:{buffer:me.y.buffer,offset:4*me.y.offset||0,stride:4*(me.y.stride||1),count:me.y.count},pe.count=Math.max(pe.xAttr.count,pe.yAttr.count),me;me=o(me,"float64");var ae=pe.count=Math.floor(me.length/2),fe=pe.bounds=ae?b(me,2):null;if(ge.range||pe.range||(delete pe.range,ge.range=fe),ge.marker||pe.marker||(delete pe.marker,ge.marker=null),Pe&&(!0===Pe||ae>Pe)?pe.tree=a(me,{bounds:fe}):Pe&&Pe.length&&(pe.tree=Pe),pe.tree){var Ee={primitive:"points",usage:"static",data:pe.tree,type:"uint32"};pe.elements?pe.elements(Ee):pe.elements=S.elements(Ee)}var ke=u.float32(me);return _e({data:ke,usage:"dynamic"}),we({data:u.fract32(me,ke),usage:"dynamic"}),se({data:new Uint8Array(ae),type:"uint8",usage:"stream"}),me}},{marker:function(me,pe,ge){var Pe=pe.activation;if(Pe.forEach(function(ke){return ke&&ke.destroy&&ke.destroy()}),Pe.length=0,me&&"number"!=typeof me[0]){for(var _e=[],we=0,se=Math.min(me.length,pe.count);we<se;we++){var ae=h.addMarker(me[we]);_e[ae]||(_e[ae]=new Uint8Array(pe.count)),_e[ae][we]=1}for(var fe=0;fe<_e.length;fe++)if(_e[fe]){var Ee={data:_e[fe],type:"uint8",usage:"static"};Pe[fe]?Pe[fe](Ee):Pe[fe]=S.buffer(Ee),Pe[fe].data=_e[fe]}}else Pe[h.addMarker(me)]=!0;return me},range:function(me,pe,ge){var Pe=pe.bounds;if(Pe)return me||(me=Pe),pe.scale=[1/(me[2]-me[0]),1/(me[3]-me[1])],pe.translate=[-me[0],-me[1]],pe.scaleFract=u.fract(pe.scale),pe.translateFract=u.fract(pe.translate),me},viewport:function(me){return p(me||[f.drawingBufferWidth,f.drawingBufferHeight])}}]),q){var N=R.count,F=R.size,j=R.borderSize,G=R.sizeBuffer,te=new Uint8Array(2*N);if(F.length||j.length)for(var J=0;J<N;J++)te[2*J]=Math.round(255*(null==F[J]?F:F[J])/w),te[2*J+1]=Math.round(255*(null==j[J]?j:j[J])/w);G({data:te,usage:"dynamic"})}if(P){var X,W=R.count,$=R.color,ne=R.borderColor,re=R.colorBuffer;if(h.tooManyColors){if($.length||ne.length){X=new Uint8Array(8*W);for(var oe=0;oe<W;oe++){var ue=$[oe];X[8*oe]=L[4*ue],X[8*oe+1]=L[4*ue+1],X[8*oe+2]=L[4*ue+2],X[8*oe+3]=L[4*ue+3];var xe=ne[oe];X[8*oe+4]=L[4*xe],X[8*oe+5]=L[4*xe+1],X[8*oe+6]=L[4*xe+2],X[8*oe+7]=L[4*xe+3]}}}else if($.length||ne.length){X=new Uint8Array(4*W+2);for(var Me=0;Me<W;Me++)null!=$[Me]&&(X[4*Me]=$[Me]%E,X[4*Me+1]=Math.floor($[Me]/E)),null!=ne[Me]&&(X[4*Me+2]=ne[Me]%E,X[4*Me+3]=Math.floor(ne[Me]/E))}re({data:X||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return R})}},x.prototype.addMarker=function(h){var y,v=this.markerTextures,m=this.regl,_=this.markerCache,f=null==h?0:_.indexOf(h);if(f>=0)return f;if(h instanceof Uint8Array||h instanceof Uint8ClampedArray)y=h;else{y=new Uint8Array(h.length);for(var S=0,w=h.length;S<w;S++)y[S]=255*h[S]}var E=Math.floor(Math.sqrt(y.length));return f=v.length,_.push(h),v.push(m.texture({channels:1,data:y,radius:E,mag:"linear",min:"linear"})),f},x.prototype.updateColor=function(h){var y=this.paletteIds,v=this.palette,m=this.maxColors;Array.isArray(h)||(h=[h]);var _=[];if("number"==typeof h[0]){var f=[];if(Array.isArray(h))for(var S=0;S<h.length;S+=4)f.push(h.slice(S,S+4));else for(var w=0;w<h.length;w+=4)f.push(h.subarray(w,w+4));h=f}for(var E=0;E<h.length;E++){var L=h[E];L=T(L,"uint8");var C=d(L,!1);if(null==y[C]){var O=v.length;y[C]=Math.floor(O/4),v[O]=L[0],v[O+1]=L[1],v[O+2]=L[2],v[O+3]=L[3]}_[E]=y[C]}return!this.tooManyColors&&v.length>4*m&&(this.tooManyColors=!0),this.updatePalette(v),1===_.length?_[0]:_},x.prototype.updatePalette=function(h){if(!this.tooManyColors){var y=this.maxColors,v=this.paletteTexture,m=Math.ceil(.25*h.length/y);if(m>1)for(var _=.25*(h=h.slice()).length%y;_<m*y;_++)h.push(0,0,0,0);v.height<m&&v.resize(y,m),v.subimage({width:Math.min(.25*h.length,y),height:m,data:h},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(h){h.sizeBuffer.destroy(),h.positionBuffer.destroy(),h.positionFractBuffer.destroy(),h.colorBuffer.destroy(),h.activation.forEach(function(y){return y&&y.destroy&&y.destroy()}),h.selectionBuffer.destroy(),h.elements&&h.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(h){return h&&h.destroy&&h.destroy()}),this};var g=e(56131);ee.exports=function(h,y){var v=new c(h,y),m=v.render.bind(v);return g(m,{render:m,update:v.update.bind(v),draw:v.draw.bind(v),destroy:v.destroy.bind(v),regl:v.regl,gl:v.gl,canvas:v.gl.canvas,groups:v.groups,markers:v.markerCache,palette:v.palette}),m}},60487:function(ee,D,e){"use strict";var A=e(11870),k=e(71299),l=e(21527),T=e(5877),b=e(57471),d=e(18863),a=e(30120);function t(o,s){if(!(this instanceof t))return new t(o,s);this.traces=[],this.passes={},this.regl=o,this.scatter=A(o),this.canvas=this.scatter.canvas}function i(o,s,u){return(null!=o.id?o.id:o)<<16|(255&s)<<8|255&u}function r(o,s,u){var p,c,x,g,h=o[s],y=o[u];return h.length>2?(p=h[1],c=h[3]):h.length?(p=h[0],c=h[1]):(p=h.y,c=h.y+h.height),y.length>2?(x=y[0],g=y[2]):y.length?(x=y[0],g=y[1]):(x=y.x,g=y.x+y.width),[x,p,g,c]}function n(o){if("number"==typeof o)return[o,o,o,o];if(2===o.length)return[o[0],o[1],o[0],o[1]];var s=d(o);return[s.x,s.y,s.x+s.width,s.y+s.height]}ee.exports=t,t.prototype.render=function(){for(var o,s=this,u=[],p=arguments.length;p--;)u[p]=arguments[p];return u.length&&(o=this).update.apply(o,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=T(function(){s.draw(),s.dirty=!0,s.planned=null})):(this.draw(),this.dirty=!0,T(function(){s.dirty=!1})),this)},t.prototype.update=function(){for(var o,s=[],u=arguments.length;u--;)s[u]=arguments[u];if(s.length){for(var p=0;p<s.length;p++)this.updateItem(p,s[p]);this.traces=this.traces.filter(Boolean);for(var c=[],x=0,g=0;g<this.traces.length;g++){for(var h=this.traces[g],y=this.traces[g].passes,v=0;v<y.length;v++)c.push(this.passes[y[v]]);h.passOffset=x,x+=h.passes.length}return(o=this.scatter).update.apply(o,c),this}},t.prototype.updateItem=function(o,s){var u=this.regl;if(null===s)return this.traces[o]=null,this;if(!s)return this;var p,c=k(s,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),x=this.traces[o]||(this.traces[o]={id:o,buffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:d([u._gl.drawingBufferWidth,u._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=c.color&&(x.color=c.color),null!=c.size&&(x.size=c.size),null!=c.marker&&(x.marker=c.marker),null!=c.borderColor&&(x.borderColor=c.borderColor),null!=c.borderSize&&(x.borderSize=c.borderSize),null!=c.opacity&&(x.opacity=c.opacity),c.viewport&&(x.viewport=d(c.viewport)),null!=c.diagonal&&(x.diagonal=c.diagonal),null!=c.upper&&(x.upper=c.upper),null!=c.lower&&(x.lower=c.lower),c.data){x.buffer(a(c.data)),x.columns=c.data.length,x.count=c.data[0].length,x.bounds=[];for(var g=0;g<x.columns;g++)x.bounds[g]=l(c.data[g],1)}c.range&&(x.range=c.range,p=x.range&&"number"!=typeof x.range[0]),c.domain&&(x.domain=c.domain);var h=!1;null!=c.padding&&(Array.isArray(c.padding)&&c.padding.length===x.columns&&"number"==typeof c.padding[c.padding.length-1]?(x.padding=c.padding.map(n),h=!0):x.padding=n(c.padding));var y=x.columns,v=x.count,m=x.viewport.width,_=x.viewport.height,f=x.viewport.x,S=x.viewport.y,w=m/y,E=_/y;x.passes=[];for(var L=0;L<y;L++)for(var C=0;C<y;C++)if((x.diagonal||C!==L)&&(x.upper||!(L>C))&&(x.lower||!(L<C))){var O=i(x.id,L,C),R=this.passes[O]||(this.passes[O]={});if(c.data&&(R.positions=c.transpose?{x:{buffer:x.buffer,offset:C,count:v,stride:y},y:{buffer:x.buffer,offset:L,count:v,stride:y}}:{x:{buffer:x.buffer,offset:C*v,count:v},y:{buffer:x.buffer,offset:L*v,count:v}},R.bounds=r(x.bounds,L,C)),c.domain||c.viewport||c.data){var q=h?r(x.padding,L,C):x.padding;if(x.domain){var P=r(x.domain,L,C);R.viewport=[f+P[0]*m+q[0],S+P[1]*_+q[1],f+P[2]*m-q[2],S+P[3]*_-q[3]]}else R.viewport=[f+C*w+w*q[0],S+L*E+E*q[1],f+(C+1)*w-w*q[2],S+(L+1)*E-E*q[3]]}c.color&&(R.color=x.color),c.size&&(R.size=x.size),c.marker&&(R.marker=x.marker),c.borderSize&&(R.borderSize=x.borderSize),c.borderColor&&(R.borderColor=x.borderColor),c.opacity&&(R.opacity=x.opacity),c.range&&(R.range=p?r(x.range,L,C):x.range||R.bounds),x.passes.push(O)}return this},t.prototype.draw=function(){for(var o,s=[],u=arguments.length;u--;)s[u]=arguments[u];if(s.length){for(var p=[],c=0;c<s.length;c++)if("number"==typeof s[c]){var x=this.traces[s[c]],h=x.passOffset;p.push.apply(p,b(h,h+x.passes.length))}else if(s[c].length){var y=s[c],v=this.traces[c],m=v.passes,_=v.passOffset;m=m.map(function(f,S){p[_+S]=y})}(o=this.scatter).draw.apply(o,p)}else this.scatter.draw();return this},t.prototype.destroy=function(){return this.traces.forEach(function(o){o.buffer&&o.buffer.destroy&&o.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(ee){ee.exports=function(){function D(He,We){this.id=ne++,this.type=He,this.data=We}function e(He){if(0===He.length)return[];var We=He.charAt(0),rt=He.charAt(He.length-1);if(1<He.length&&We===rt&&('"'===We||"'"===We))return['"'+He.substr(1,He.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(We=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(He))return e(He.substr(0,We.index)).concat(e(We[1])).concat(e(He.substr(We.index+We[0].length)));if(1===(We=He.split(".")).length)return['"'+He.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(He=[],rt=0;rt<We.length;++rt)He=He.concat(e(We[rt]));return He}function A(He){return"["+e(He).join("][")+"]"}function k(He){return"string"==typeof He?He.split():He}function l(He){return"string"==typeof He?document.querySelector(He):He}function b(He,We){for(var rt=Array(He),nt=0;nt<He;++nt)rt[nt]=We(nt);return rt}function d(He){var We,rt;return We=(65535<He)<<4,We|=rt=(255<(He>>>=We))<<3,(We|=rt=(15<(He>>>=rt))<<2)|(rt=(3<(He>>>=rt))<<1)|He>>>rt>>1}function a(){function He(nt){e:{for(var ze=16;268435456>=ze;ze*=16)if(nt<=ze){nt=ze;break e}nt=0}return 0<(ze=rt[d(nt)>>2]).length?ze.pop():new ArrayBuffer(nt)}function We(nt){rt[d(nt.byteLength)>>2].push(nt)}var rt=b(8,function(){return[]});return{alloc:He,free:We,allocType:function(nt,ze){var Be=null;switch(nt){case 5120:Be=new Int8Array(He(ze),0,ze);break;case 5121:Be=new Uint8Array(He(ze),0,ze);break;case 5122:Be=new Int16Array(He(2*ze),0,ze);break;case 5123:Be=new Uint16Array(He(2*ze),0,ze);break;case 5124:Be=new Int32Array(He(4*ze),0,ze);break;case 5125:Be=new Uint32Array(He(4*ze),0,ze);break;case 5126:Be=new Float32Array(He(4*ze),0,ze);break;default:return null}return Be.length!==ze?Be.subarray(0,ze):Be},freeType:function(nt){We(nt.buffer)}}}function t(He){return!!He&&"object"==typeof He&&Array.isArray(He.shape)&&Array.isArray(He.stride)&&"number"==typeof He.offset&&He.shape.length===He.stride.length&&(Array.isArray(He.data)||me(He.data))}function i(He,We,rt,nt,ze,Be){for(var tt=0;tt<We;++tt)for(var et=He[tt],gt=0;gt<rt;++gt)for(var pt=et[gt],vt=0;vt<nt;++vt)ze[Be++]=pt[vt]}function r(He,We,rt,nt,ze){for(var Be=1,tt=rt+1;tt<We.length;++tt)Be*=We[tt];var et=We[rt];if(We.length-rt==4){var gt=We[rt+1],pt=We[rt+2];for(We=We[rt+3],tt=0;tt<et;++tt)i(He[tt],gt,pt,We,nt,ze),ze+=Be}else for(tt=0;tt<et;++tt)r(He[tt],We,rt+1,nt,ze),ze+=Be}function n(He){return 0|Pe[Object.prototype.toString.call(He)]}function o(He,We){for(var rt=0;rt<We.length;++rt)He[rt]=We[rt]}function s(He,We,rt,nt,ze,Be,tt){for(var et=0,gt=0;gt<rt;++gt)for(var pt=0;pt<nt;++pt)He[et++]=We[ze*gt+Be*pt+tt]}function c(He){for(var We=xe.allocType(5123,He.length),rt=0;rt<He.length;++rt)if(isNaN(He[rt]))We[rt]=65535;else if(He[rt]===1/0)We[rt]=31744;else if(He[rt]===-1/0)We[rt]=64512;else{ke[0]=He[rt];var nt=(Be=be[0])>>>31<<15,ze=(Be<<1>>>24)-127,Be=Be>>13&1023;We[rt]=-24>ze?nt:-14>ze?nt+(Be+1024>>-14-ze):15<ze?nt+31744:nt+(ze+15<<10)+Be}return We}function x(He){return Array.isArray(He)||me(He)}function g(He){return"[object "+He+"]"}function h(He){return Array.isArray(He)&&(0===He.length||"number"==typeof He[0])}function y(He){return!(!Array.isArray(He)||0===He.length||!x(He[0]))}function v(He){return Object.prototype.toString.call(He)}function m(He){if(!He)return!1;var We=v(He);return 0<=qe.indexOf(We)||h(He)||y(He)||t(He)}function _(He,We){36193===He.type?(He.data=c(We),xe.freeType(We)):He.data=We}function f(He,We,rt,nt,ze,Be){if(He=void 0!==it[He]?it[He]:ce[He]*Je[We],Be&&(He*=6),ze){for(nt=0;1<=rt;)nt+=He*rt*rt,rt/=2;return nt}return He*rt*nt}function E(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function R(He,We){return He>>>We|He<<32-We}function q(He,We){var rt=(65535&He)+(65535&We);return(He>>16)+(We>>16)+(rt>>16)<<16|65535&rt}function P(He){return Array.prototype.slice.call(He)}function U(He){return P(He).join("")}function F(He){return Array.isArray(He)||me(He)||t(He)}function j(He){return He.sort(function(We,rt){return"viewport"===We?-1:"viewport"===rt?1:We<rt?-1:1})}function G(He,We,rt,nt){this.thisDep=He,this.contextDep=We,this.propDep=rt,this.append=nt}function te(He){return He&&!(He.thisDep||He.contextDep||He.propDep)}function J(He){return new G(!1,!1,!1,He)}function X(He,We){var rt=He.type;if(0===rt)return new G(!0,1<=(rt=He.data.length),2<=rt,We);if(4===rt)return new G((rt=He.data).thisDep,rt.contextDep,rt.propDep,We);if(5===rt)return new G(!1,!1,!1,We);if(6===rt){for(var nt=rt=!1,ze=!1,Be=0;Be<He.data.length;++Be){var tt=He.data[Be];1===tt.type?ze=!0:2===tt.type?nt=!0:3===tt.type?rt=!0:0===tt.type?(rt=!0,1<=(tt=tt.data)&&(nt=!0),2<=tt&&(ze=!0)):4===tt.type&&(rt=rt||tt.data.thisDep,nt=nt||tt.data.contextDep,ze=ze||tt.data.propDep)}return new G(rt,nt,ze,We)}return new G(3===rt,2===rt,1===rt,We)}function Y(He,We,rt,nt,ze,Be,tt,et,gt,pt,vt,ut,wt,ct,ft,bt){function It(Mt){return Mt.replace(".","_")}function Dt(Mt,qt,Kt){var mn=It(Mt);Vn.push(Mt),kn[mn]=dn[mn]=!!Kt,In[mn]=qt}function Nt(Mt,qt,Kt){var mn=It(Mt);Vn.push(Mt),Array.isArray(Kt)?(dn[mn]=Kt.slice(),kn[mn]=Kt.slice()):dn[mn]=kn[mn]=Kt,Dn[mn]=qt}function $t(){var Mt=function N(He){function We(){var vt=[],ut=[];return $(function(){vt.push.apply(vt,P(arguments))},{def:function(){var wt="v"+ze++;return ut.push(wt),0<arguments.length&&(vt.push(wt,"="),vt.push.apply(vt,P(arguments)),vt.push(";")),wt},toString:function(){return U([0<ut.length?"var "+ut.join(",")+";":"",U(vt)])}})}function rt(){function vt(bt,It){wt(bt,It,"=",ut.def(bt,It),";")}var ut=We(),wt=We(),ct=ut.toString,ft=wt.toString;return $(function(){ut.apply(ut,P(arguments))},{def:ut.def,entry:ut,exit:wt,save:vt,set:function(bt,It,Dt){vt(bt,It),ut(bt,It,"=",Dt,";")},toString:function(){return ct()+ft()}})}var nt=He&&He.cache,ze=0,Be=[],tt=[],et=[],gt=We(),pt={};return{global:gt,link:function(vt,ut){var wt=ut&&ut.stable;if(!wt)for(var ct=0;ct<tt.length;++ct)if(tt[ct]===vt&&!et[ct])return Be[ct];return ct="g"+ze++,Be.push(ct),tt.push(vt),et.push(wt),ct},block:We,proc:function(vt,ut){function wt(){var It="a"+ct.length;return ct.push(It),It}var ct=[];ut=ut||0;for(var ft=0;ft<ut;++ft)wt();var bt=(ft=rt()).toString;return pt[vt]=$(ft,{arg:wt,toString:function(){return U(["function(",ct.join(),"){",bt(),"}"])}})},scope:rt,cond:function(){var vt=U(arguments),ut=rt(),wt=rt(),ct=ut.toString,ft=wt.toString;return $(ut,{then:function(){return ut.apply(ut,P(arguments)),this},else:function(){return wt.apply(wt,P(arguments)),this},toString:function(){var bt=ft();return bt&&(bt="else{"+bt+"}"),U(["if(",vt,"){",ct(),"}",bt])}})},compile:function(){var vt=['"use strict";',gt,"return {"];Object.keys(pt).forEach(function(ct){vt.push('"',ct,'":',pt[ct].toString(),",")}),vt.push("}");var ut,wt=U(vt).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return nt&&(ut=function(ct){for(var ft,bt="",It=0;It<ct.length;It++)ft=ct.charCodeAt(It),bt+="0123456789abcdef".charAt(ft>>>4&15)+"0123456789abcdef".charAt(15&ft);return bt}(function(ct){for(var ft=Array(ct.length>>2),bt=0;bt<ft.length;bt++)ft[bt]=0;for(bt=0;bt<8*ct.length;bt+=8)ft[bt>>5]|=(255&ct.charCodeAt(bt/8))<<24-bt%32;var It,Dt,Nt,$t,jt,Yt,Gt,hn,yn,on,Ut,nn=8*ct.length;for(ct=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],bt=Array(64),ft[nn>>5]|=128<<24-nn%32,ft[15+(nn+64>>9<<4)]=nn,hn=0;hn<ft.length;hn+=16){for(nn=ct[0],It=ct[1],Dt=ct[2],Nt=ct[3],$t=ct[4],jt=ct[5],Yt=ct[6],Gt=ct[7],yn=0;64>yn;yn++){var Xt;16>yn?bt[yn]=ft[yn+hn]:(on=yn,Ut=q(Ut=R(Ut=bt[yn-2],17)^R(Ut,19)^Ut>>>10,bt[yn-7]),Xt=R(Xt=bt[yn-15],7)^R(Xt,18)^Xt>>>3,bt[on]=q(q(Ut,Xt),bt[yn-16])),on=q(q(q(q(Gt,on=R(on=$t,6)^R(on,11)^R(on,25)),$t&jt^~$t&Yt),at[yn]),bt[yn]),Ut=q(Gt=R(Gt=nn,2)^R(Gt,13)^R(Gt,22),nn&It^nn&Dt^It&Dt),Gt=Yt,Yt=jt,jt=$t,$t=q(Nt,on),Nt=Dt,Dt=It,It=nn,nn=q(on,Ut)}ct[0]=q(nn,ct[0]),ct[1]=q(It,ct[1]),ct[2]=q(Dt,ct[2]),ct[3]=q(Nt,ct[3]),ct[4]=q($t,ct[4]),ct[5]=q(jt,ct[5]),ct[6]=q(Yt,ct[6]),ct[7]=q(Gt,ct[7])}for(ft="",bt=0;bt<32*ct.length;bt+=8)ft+=String.fromCharCode(ct[bt>>5]>>>24-bt%32&255);return ft}(function(ct){for(var ft,bt,It="",Dt=-1;++Dt<ct.length;)ft=ct.charCodeAt(Dt),bt=Dt+1<ct.length?ct.charCodeAt(Dt+1):0,55296<=ft&&56319>=ft&&56320<=bt&&57343>=bt&&(ft=65536+((1023&ft)<<10)+(1023&bt),Dt++),127>=ft?It+=String.fromCharCode(ft):2047>=ft?It+=String.fromCharCode(192|ft>>>6&31,128|63&ft):65535>=ft?It+=String.fromCharCode(224|ft>>>12&15,128|ft>>>6&63,128|63&ft):2097151>=ft&&(It+=String.fromCharCode(240|ft>>>18&7,128|ft>>>12&63,128|ft>>>6&63,128|63&ft));return It}(wt))),nt[ut])?nt[ut].apply(null,tt):(wt=Function.apply(null,Be.concat(wt)),nt&&(nt[ut]=wt),wt.apply(null,tt))}}}({cache:ft}),qt=Mt.link,Kt=Mt.global;Mt.id=_n++,Mt.batchId="0";var mn=qt(Kn),xn=Mt.shared={props:"a0"};Object.keys(Kn).forEach(function(sn){xn[sn]=Kt.def(mn,".",sn)});var Mn=Mt.next={},ln=Mt.current={};Object.keys(Dn).forEach(function(sn){Array.isArray(dn[sn])&&(Mn[sn]=Kt.def(xn.next,".",sn),ln[sn]=Kt.def(xn.current,".",sn))});var Wt=Mt.constants={};Object.keys(Vt).forEach(function(sn){Wt[sn]=Kt.def(JSON.stringify(Vt[sn]))}),Mt.invoke=function(sn,un){switch(un.type){case 0:var Sn=["this",xn.context,xn.props,Mt.batchId];return sn.def(qt(un.data),".call(",Sn.slice(0,Math.max(un.data.length+1,4)),")");case 1:return sn.def(xn.props,un.data);case 2:return sn.def(xn.context,un.data);case 3:return sn.def("this",un.data);case 4:return un.data.append(Mt,sn),un.data.ref;case 5:return un.data.toString();case 6:return un.data.map(function(Cn){return Mt.invoke(sn,Cn)})}},Mt.attribCache={};var Jt={};return Mt.scopeAttrib=function(sn){if((sn=We.id(sn))in Jt)return Jt[sn];var un=pt.scope[sn];return un||(un=pt.scope[sn]=new qn),Jt[sn]=qt(un)},Mt}function yn(Mt,qt,Kt,mn,xn){function Mn(Xn){var Hn=Wt[Xn];Hn&&(sn[Xn]=Hn)}var Xn,nr,er,tr,ln=function(Xn,Hn){if("string"==typeof(nr=Xn.static).frag&&"string"==typeof nr.vert){if(0<Object.keys(Hn.dynamic).length)return null;var nr=Hn.static,er=Object.keys(nr);if(0<er.length&&"number"==typeof nr[er[0]]){for(var tr=[],lr=0;lr<er.length;++lr)tr.push([0|nr[er[lr]],er[lr]]);return tr}}return null}(Mt,qt),Wt=function(Xn,Hn,nr){function er(_r){if(_r in tr){var Zn=tr[_r];_r=!0;var pr,Lr,Yr=0|Zn.x,si=0|Zn.y;return"width"in Zn?pr=0|Zn.width:_r=!1,"height"in Zn?Lr=0|Zn.height:_r=!1,new G(!_r&&Hn&&Hn.thisDep,!_r&&Hn&&Hn.contextDep,!_r&&Hn&&Hn.propDep,function(hi,Qr){var wi=hi.shared.context,qa=pr;"width"in Zn||(qa=Qr.def(wi,".","framebufferWidth","-",Yr));var da=Lr;return"height"in Zn||(da=Qr.def(wi,".","framebufferHeight","-",si)),[Yr,si,qa,da]})}if(_r in lr){var ii=lr[_r];return _r=X(ii,function(hi,Qr){var wi=hi.invoke(Qr,ii),qa=hi.shared.context,da=Qr.def(wi,".x|0"),no=Qr.def(wi,".y|0");return[da,no,Qr.def('"width" in ',wi,"?",wi,".width|0:","(",qa,".","framebufferWidth","-",da,")"),wi=Qr.def('"height" in ',wi,"?",wi,".height|0:","(",qa,".","framebufferHeight","-",no,")")]}),Hn&&(_r.thisDep=_r.thisDep||Hn.thisDep,_r.contextDep=_r.contextDep||Hn.contextDep,_r.propDep=_r.propDep||Hn.propDep),_r}return Hn?new G(Hn.thisDep,Hn.contextDep,Hn.propDep,function(hi,Qr){var wi=hi.shared.context;return[0,0,Qr.def(wi,".","framebufferWidth"),Qr.def(wi,".","framebufferHeight")]}):null}var tr=Xn.static,lr=Xn.dynamic;if(Xn=er("viewport")){var ur=Xn;Xn=new G(Xn.thisDep,Xn.contextDep,Xn.propDep,function(_r,Zn){var pr=ur.append(_r,Zn),Lr=_r.shared.context;return Zn.set(Lr,".viewportWidth",pr[2]),Zn.set(Lr,".viewportHeight",pr[3]),pr})}return{viewport:Xn,scissor_box:er("scissor.box")}}(Mt,Sn=function jt(Mt,qt){var Kt=Mt.static,mn=Mt.dynamic;if("framebuffer"in Kt){var xn=Kt.framebuffer;return xn?(xn=et.getFramebuffer(xn),J(function(ln,Wt){var Jt=ln.link(xn),sn=ln.shared;return Wt.set(sn.framebuffer,".next",Jt),Wt.set(sn=sn.context,".framebufferWidth",Jt+".width"),Wt.set(sn,".framebufferHeight",Jt+".height"),Jt})):J(function(ln,Wt){var Jt=ln.shared;return Wt.set(Jt.framebuffer,".next","null"),Wt.set(Jt=Jt.context,".framebufferWidth",Jt+".drawingBufferWidth"),Wt.set(Jt,".framebufferHeight",Jt+".drawingBufferHeight"),"null"})}if("framebuffer"in mn){var Mn=mn.framebuffer;return X(Mn,function(ln,Wt){var Jt=ln.invoke(Wt,Mn),sn=ln.shared,un=sn.framebuffer;return Jt=Wt.def(un,".getFramebuffer(",Jt,")"),Wt.set(un,".next",Jt),Wt.set(sn=sn.context,".framebufferWidth",Jt+"?"+Jt+".width:"+sn+".drawingBufferWidth"),Wt.set(sn,".framebufferHeight",Jt+"?"+Jt+".height:"+sn+".drawingBufferHeight"),Jt})}return null}(Mt)),Jt=function Gt(Mt,qt){function Kt(Fn,Xn){if(Fn in mn){var Hn=0|mn[Fn];return Xn?Mn.offset=Hn:Mn.instances=Hn,J(function(er,tr){return Xn&&(er.OFFSET=Hn),Hn})}if(Fn in xn){var nr=xn[Fn];return X(nr,function(er,tr){var lr=er.invoke(tr,nr);return Xn&&(er.OFFSET=lr),lr})}if(Xn){if(Jt)return J(function(er,tr){return er.OFFSET=0});if(ln)return new G(Wt.thisDep,Wt.contextDep,Wt.propDep,function(er,tr){return tr.def(er.shared.vao+".currentVAO?"+er.shared.vao+".currentVAO.offset:0")})}else if(ln)return new G(Wt.thisDep,Wt.contextDep,Wt.propDep,function(er,tr){return tr.def(er.shared.vao+".currentVAO?"+er.shared.vao+".currentVAO.instances:-1")});return null}var mn=Mt.static,xn=Mt.dynamic,Mn={},ln=!1,Wt=function(){if("vao"in mn){var Fn=mn.vao;return null!==Fn&&null===pt.getVAO(Fn)&&(Fn=pt.createVAO(Fn)),ln=!0,Mn.vao=Fn,J(function(Hn){var nr=pt.getVAO(Fn);return nr?Hn.link(nr):"null"})}if("vao"in xn){ln=!0;var Xn=xn.vao;return X(Xn,function(Hn,nr){var er=Hn.invoke(nr,Xn);return nr.def(Hn.shared.vao+".getVAO("+er+")")})}return null}(),Jt=!1,sn=function(){if("elements"in mn){var Fn=mn.elements;if(Mn.elements=Fn,F(Fn)){var Xn=Mn.elements=Be.create(Fn,!0);Fn=Be.getElements(Xn),Jt=!0}else Fn&&(Fn=Be.getElements(Fn),Jt=!0);return(Xn=J(function(nr,er){if(Fn){var tr=nr.link(Fn);return nr.ELEMENTS=tr}return nr.ELEMENTS=null})).value=Fn,Xn}if("elements"in xn){Jt=!0;var Hn=xn.elements;return X(Hn,function(nr,er){var tr=(lr=nr.shared).isBufferArgs,lr=lr.elements,ur=nr.invoke(er,Hn),_r=er.def("null");return tr=er.def(tr,"(",ur,")"),ur=nr.cond(tr).then(_r,"=",lr,".createStream(",ur,");").else(_r,"=",lr,".getElements(",ur,");"),er.entry(ur),er.exit(nr.cond(tr).then(lr,".destroyStream(",_r,");")),nr.ELEMENTS=_r})}return ln?new G(Wt.thisDep,Wt.contextDep,Wt.propDep,function(nr,er){return er.def(nr.shared.vao+".currentVAO?"+nr.shared.elements+".getElements("+nr.shared.vao+".currentVAO.elements):null")}):null}(),un=Kt("offset",!0),Sn=function(){if("primitive"in mn){var Fn=mn.primitive;return Mn.primitive=Fn,J(function(Hn,nr){return Ee[Fn]})}if("primitive"in xn){var Xn=xn.primitive;return X(Xn,function(Hn,nr){var er=Hn.constants.primTypes,tr=Hn.invoke(nr,Xn);return nr.def(er,"[",tr,"]")})}return Jt?te(sn)?J(sn.value?function(Hn,nr){return nr.def(Hn.ELEMENTS,".primType")}:function(){return 4}):new G(sn.thisDep,sn.contextDep,sn.propDep,function(Hn,nr){var er=Hn.ELEMENTS;return nr.def(er,"?",er,".primType:",4)}):ln?new G(Wt.thisDep,Wt.contextDep,Wt.propDep,function(Hn,nr){return nr.def(Hn.shared.vao+".currentVAO?"+Hn.shared.vao+".currentVAO.primitive:4")}):null}(),Cn=function(){if("count"in mn){var Fn=0|mn.count;return Mn.count=Fn,J(function(){return Fn})}if("count"in xn){var Xn=xn.count;return X(Xn,function(Hn,nr){return Hn.invoke(nr,Xn)})}return Jt?te(sn)?sn?un?new G(un.thisDep,un.contextDep,un.propDep,function(Hn,nr){return nr.def(Hn.ELEMENTS,".vertCount-",Hn.OFFSET)}):J(function(Hn,nr){return nr.def(Hn.ELEMENTS,".vertCount")}):J(function(){return-1}):new G(sn.thisDep||un.thisDep,sn.contextDep||un.contextDep,sn.propDep||un.propDep,function(Hn,nr){var er=Hn.ELEMENTS;return Hn.OFFSET?nr.def(er,"?",er,".vertCount-",Hn.OFFSET,":-1"):nr.def(er,"?",er,".vertCount:-1")}):ln?new G(Wt.thisDep,Wt.contextDep,Wt.propDep,function(Hn,nr){return nr.def(Hn.shared.vao,".currentVAO?",Hn.shared.vao,".currentVAO.count:-1")}):null}(),jn=Kt("instances",!1);return{elements:sn,primitive:Sn,count:Cn,instances:jn,offset:un,vao:Wt,vaoActive:ln,elementsActive:Jt,static:Mn}}(Mt),sn=(nr=(Xn=Mt).static,er=Xn.dynamic,tr={},Vn.forEach(function(lr){function ur(Zn,pr){if(lr in nr){var Lr=Zn(nr[lr]);tr[_r]=J(function(){return Lr})}else if(lr in er){var Yr=er[lr];tr[_r]=X(Yr,function(si,ii){return pr(si,ii,si.invoke(ii,Yr))})}}var _r=It(lr);switch(lr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return ur(function(Zn){return Zn},function(Zn,pr,Lr){return Lr});case"depth.func":return ur(function(Zn){return Pt[Zn]},function(Zn,pr,Lr){return pr.def(Zn.constants.compareFuncs,"[",Lr,"]")});case"depth.range":return ur(function(Zn){return Zn},function(Zn,pr,Lr){return[pr.def("+",Lr,"[0]"),pr=pr.def("+",Lr,"[1]")]});case"blend.func":return ur(function(Zn){return[At["srcRGB"in Zn?Zn.srcRGB:Zn.src],At["dstRGB"in Zn?Zn.dstRGB:Zn.dst],At["srcAlpha"in Zn?Zn.srcAlpha:Zn.src],At["dstAlpha"in Zn?Zn.dstAlpha:Zn.dst]]},function(Zn,pr,Lr){function Yr(Qr,wi){return pr.def('"',Qr,wi,'" in ',Lr,"?",Lr,".",Qr,wi,":",Lr,".",Qr)}Zn=Zn.constants.blendFuncs;var si=Yr("src","RGB"),ii=Yr("dst","RGB"),hi=(si=pr.def(Zn,"[",si,"]"),pr.def(Zn,"[",Yr("src","Alpha"),"]"));return[si,ii=pr.def(Zn,"[",ii,"]"),hi,Zn=pr.def(Zn,"[",Yr("dst","Alpha"),"]")]});case"blend.equation":return ur(function(Zn){return"string"==typeof Zn?[dr[Zn],dr[Zn]]:"object"==typeof Zn?[dr[Zn.rgb],dr[Zn.alpha]]:void 0},function(Zn,pr,Lr){var Yr=Zn.constants.blendEquations,si=pr.def(),ii=pr.def();return(Zn=Zn.cond("typeof ",Lr,'==="string"')).then(si,"=",ii,"=",Yr,"[",Lr,"];"),Zn.else(si,"=",Yr,"[",Lr,".rgb];",ii,"=",Yr,"[",Lr,".alpha];"),pr(Zn),[si,ii]});case"blend.color":return ur(function(Zn){return b(4,function(pr){return+Zn[pr]})},function(Zn,pr,Lr){return b(4,function(Yr){return pr.def("+",Lr,"[",Yr,"]")})});case"stencil.mask":return ur(function(Zn){return 0|Zn},function(Zn,pr,Lr){return pr.def(Lr,"|0")});case"stencil.func":return ur(function(Zn){return[Pt[Zn.cmp||"keep"],Zn.ref||0,"mask"in Zn?Zn.mask:-1]},function(Zn,pr,Lr){return[Zn=pr.def('"cmp" in ',Lr,"?",Zn.constants.compareFuncs,"[",Lr,".cmp]",":",7680),pr.def(Lr,".ref|0"),pr=pr.def('"mask" in ',Lr,"?",Lr,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return ur(function(Zn){return["stencil.opBack"===lr?1029:1028,kt[Zn.fail||"keep"],kt[Zn.zfail||"keep"],kt[Zn.zpass||"keep"]]},function(Zn,pr,Lr){function Yr(ii){return pr.def('"',ii,'" in ',Lr,"?",si,"[",Lr,".",ii,"]:",7680)}var si=Zn.constants.stencilOps;return["stencil.opBack"===lr?1029:1028,Yr("fail"),Yr("zfail"),Yr("zpass")]});case"polygonOffset.offset":return ur(function(Zn){return[0|Zn.factor,0|Zn.units]},function(Zn,pr,Lr){return[pr.def(Lr,".factor|0"),pr=pr.def(Lr,".units|0")]});case"cull.face":return ur(function(Zn){var pr=0;return"front"===Zn?pr=1028:"back"===Zn&&(pr=1029),pr},function(Zn,pr,Lr){return pr.def(Lr,'==="front"?',1028,":",1029)});case"frontFace":return ur(function(Zn){return Ze[Zn]},function(Zn,pr,Lr){return pr.def(Lr+'==="cw"?2304:2305')});case"colorMask":return ur(function(Zn){return Zn.map(function(pr){return!!pr})},function(Zn,pr,Lr){return b(4,function(Yr){return"!!"+Lr+"["+Yr+"]"})});case"sample.coverage":return ur(function(Zn){return["value"in Zn?Zn.value:1,!!Zn.invert]},function(Zn,pr,Lr){return[pr.def('"value" in ',Lr,"?+",Lr,".value:1"),pr=pr.def("!!",Lr,".invert")]})}}),tr),un=function Yt(Mt,qt,Kt){function mn(sn){if(sn in xn){var un=We.id(xn[sn]);return(sn=J(function(){return un})).id=un,sn}if(sn in Mn){var Sn=Mn[sn];return X(Sn,function(Cn,jn){var Fn=Cn.invoke(jn,Sn);return jn.def(Cn.shared.strings,".id(",Fn,")")})}return null}var xn=Mt.static,Mn=Mt.dynamic,ln=mn("frag"),Wt=mn("vert"),Jt=null;return te(ln)&&te(Wt)?(Jt=vt.program(Wt.id,ln.id,null,Kt),Mt=J(function(sn,un){return sn.link(Jt)})):Mt=new G(ln&&ln.thisDep||Wt&&Wt.thisDep,ln&&ln.contextDep||Wt&&Wt.contextDep,ln&&ln.propDep||Wt&&Wt.propDep,function(sn,un){var Sn,Cn,jn=sn.shared.shader;return Sn=ln?ln.append(sn,un):un.def(jn,".","frag"),Cn=Wt?Wt.append(sn,un):un.def(jn,".","vert"),un.def(jn+".program("+Cn+","+Sn+")")}),{frag:ln,vert:Wt,progVar:Mt,program:Jt}}(Mt,0,ln);Mn("viewport"),Mn(It("scissor.box"));var Sn,Cn=0<Object.keys(sn).length;if((Sn={framebuffer:Sn,draw:Jt,shader:un,state:sn,dirty:Cn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(Xn){var Hn,nr=Xn.static;if(Xn=Xn.dynamic,"profile"in nr){var er=!!nr.profile;(Hn=J(function(lr,ur){return er})).enable=er}else if("profile"in Xn){var tr=Xn.profile;Hn=X(tr,function(lr,ur){return lr.invoke(ur,tr)})}return Hn}(Mt),Sn.uniforms=function(Xn,Hn){var nr=Xn.static,er=Xn.dynamic,tr={};return Object.keys(nr).forEach(function(lr){var ur,_r=nr[lr];if("number"==typeof _r||"boolean"==typeof _r)ur=J(function(){return _r});else if("function"==typeof _r){var Zn=_r._reglType;"texture2d"===Zn||"textureCube"===Zn?ur=J(function(pr){return pr.link(_r)}):"framebuffer"!==Zn&&"framebufferCube"!==Zn||(ur=J(function(pr){return pr.link(_r.color[0])}))}else x(_r)&&(ur=J(function(pr){return pr.global.def("[",b(_r.length,function(Lr){return _r[Lr]}),"]")}));ur.value=_r,tr[lr]=ur}),Object.keys(er).forEach(function(lr){var ur=er[lr];tr[lr]=X(ur,function(_r,Zn){return _r.invoke(Zn,ur)})}),tr}(Kt),Sn.drawVAO=Sn.scopeVAO=Jt.vao,!Sn.drawVAO&&un.program&&!ln&&rt.angle_instanced_arrays&&Jt.static.elements){var jn=!0;if(Mt=un.program.attributes.map(function(Xn){return Xn=qt.static[Xn],jn=jn&&!!Xn,Xn}),jn&&0<Mt.length){var Fn=pt.getVAO(pt.createVAO({attributes:Mt,elements:Jt.static.elements}));Sn.drawVAO=new G(null,null,null,function(Xn,Hn){return Xn.link(Fn)}),Sn.useVAO=!0}}return ln?Sn.useVAO=!0:Sn.attributes=function hn(Mt,qt){var Kt=Mt.static,mn=Mt.dynamic,xn={};return Object.keys(Kt).forEach(function(Mn){var ln=Kt[Mn],Wt=We.id(Mn),Jt=new qn;if(F(ln))Jt.state=1,Jt.buffer=ze.getBuffer(ze.create(ln,34962,!1,!0)),Jt.type=0;else if(un=ze.getBuffer(ln))Jt.state=1,Jt.buffer=un,Jt.type=0;else if("constant"in ln){var sn=ln.constant;Jt.buffer="null",Jt.state=2,"number"==typeof sn?Jt.x=sn:st.forEach(function(Hn,nr){nr<sn.length&&(Jt[Hn]=sn[nr])})}else{var un=F(ln.buffer)?ze.getBuffer(ze.create(ln.buffer,34962,!1,!0)):ze.getBuffer(ln.buffer),Sn=0|ln.offset,Cn=0|ln.stride,jn=0|ln.size,Fn=!!ln.normalized,Xn=0;"type"in ln&&(Xn=_e[ln.type]),ln=0|ln.divisor,Jt.buffer=un,Jt.state=1,Jt.size=jn,Jt.normalized=Fn,Jt.type=Xn||un.dtype,Jt.offset=Sn,Jt.stride=Cn,Jt.divisor=ln}xn[Mn]=J(function(Hn,nr){var er=Hn.attribCache;if(Wt in er)return er[Wt];var tr={isStream:!1};return Object.keys(Jt).forEach(function(lr){tr[lr]=Jt[lr]}),Jt.buffer&&(tr.buffer=Hn.link(Jt.buffer),tr.type=tr.type||tr.buffer+".dtype"),er[Wt]=tr})}),Object.keys(mn).forEach(function(Mn){var ln=mn[Mn];xn[Mn]=X(ln,function(Wt,Jt){function sn(er){Jt(Fn[er],"=",un,".",er,"|0;")}var un=Wt.invoke(Jt,ln),Sn=Wt.shared,Cn=Wt.constants,jn=Sn.isBufferArgs,Fn=(Sn=Sn.buffer,{isStream:Jt.def(!1)}),Xn=new qn;Xn.state=1,Object.keys(Xn).forEach(function(er){Fn[er]=Jt.def(""+Xn[er])});var Hn=Fn.buffer,nr=Fn.type;return Jt("if(",jn,"(",un,")){",Fn.isStream,"=true;",Hn,"=",Sn,".createStream(",34962,",",un,");",nr,"=",Hn,".dtype;","}else{",Hn,"=",Sn,".getBuffer(",un,");","if(",Hn,"){",nr,"=",Hn,".dtype;",'}else if("constant" in ',un,"){",Fn.state,"=",2,";","if(typeof "+un+'.constant === "number"){',Fn[st[0]],"=",un,".constant;",st.slice(1).map(function(er){return Fn[er]}).join("="),"=0;","}else{",st.map(function(er,tr){return Fn[er]+"="+un+".constant.length>"+tr+"?"+un+".constant["+tr+"]:0;"}).join(""),"}}else{","if(",jn,"(",un,".buffer)){",Hn,"=",Sn,".createStream(",34962,",",un,".buffer);","}else{",Hn,"=",Sn,".getBuffer(",un,".buffer);","}",nr,'="type" in ',un,"?",Cn.glTypes,"[",un,".type]:",Hn,".dtype;",Fn.normalized,"=!!",un,".normalized;"),sn("size"),sn("offset"),sn("stride"),sn("divisor"),Jt("}}"),Jt.exit("if(",Fn.isStream,"){",Sn,".destroyStream(",Hn,");","}"),Fn})}),xn}(qt),Sn.context=function(Xn){var Hn=Xn.static,nr=Xn.dynamic,er={};return Object.keys(Hn).forEach(function(tr){var lr=Hn[tr];er[tr]=J(function(ur,_r){return"number"==typeof lr||"boolean"==typeof lr?""+lr:ur.link(lr)})}),Object.keys(nr).forEach(function(tr){var lr=nr[tr];er[tr]=X(lr,function(ur,_r){return ur.invoke(_r,lr)})}),er}(mn),Sn}function on(Mt,qt,Kt){var mn=Mt.shared.context,xn=Mt.scope();Object.keys(Kt).forEach(function(Mn){qt.save(mn,"."+Mn);var ln=Kt[Mn].append(Mt,qt);Array.isArray(ln)?xn(mn,".",Mn,"=[",ln.join(),"];"):xn(mn,".",Mn,"=",ln,";")}),qt(xn)}function Ut(Mt,qt,Kt,mn){var xn,Mn=(Wt=Mt.shared).gl,ln=Wt.framebuffer;tn&&(xn=qt.def(Wt.extensions,".webgl_draw_buffers"));var Wt=(Jt=Mt.constants).drawBuffer,Jt=Jt.backBuffer;Mt=Kt?Kt.append(Mt,qt):qt.def(ln,".next"),mn||qt("if(",Mt,"!==",ln,".cur){"),qt("if(",Mt,"){",Mn,".bindFramebuffer(",36160,",",Mt,".framebuffer);"),tn&&qt(xn,".drawBuffersWEBGL(",Wt,"[",Mt,".colorAttachments.length]);"),qt("}else{",Mn,".bindFramebuffer(",36160,",null);"),tn&&qt(xn,".drawBuffersWEBGL(",Jt,");"),qt("}",ln,".cur=",Mt,";"),mn||qt("}")}function nn(Mt,qt,Kt){var mn=Mt.shared,xn=mn.gl,Mn=Mt.current,ln=Mt.next,Wt=mn.current,Jt=mn.next,sn=Mt.cond(Wt,".dirty");Vn.forEach(function(un){var Sn,Cn;if(!((un=It(un))in Kt.state))if(un in ln){Sn=ln[un],Cn=Mn[un];var jn=b(dn[un].length,function(Fn){return sn.def(Sn,"[",Fn,"]")});sn(Mt.cond(jn.map(function(Fn,Xn){return Fn+"!=="+Cn+"["+Xn+"]"}).join("||")).then(xn,".",Dn[un],"(",jn,");",jn.map(function(Fn,Xn){return Cn+"["+Xn+"]="+Fn}).join(";"),";"))}else Sn=sn.def(Jt,".",un),jn=Mt.cond(Sn,"!==",Wt,".",un),sn(jn),un in In?jn(Mt.cond(Sn).then(xn,".enable(",In[un],");").else(xn,".disable(",In[un],");"),Wt,".",un,"=",Sn,";"):jn(xn,".",Dn[un],"(",Sn,");",Wt,".",un,"=",Sn,";")}),0===Object.keys(Kt.state).length&&sn(Wt,".dirty=false;"),qt(sn)}function Xt(Mt,qt,Kt,mn){var xn,Mn=Mt.shared,ln=Mt.current,Wt=Mn.current,Jt=Mn.gl;j(Object.keys(Kt)).forEach(function(sn){var un=Kt[sn];if(!mn||mn(un)){var Sn=un.append(Mt,qt);if(In[sn]){var Cn=In[sn];te(un)?(xn=Mt.link(Sn,{stable:!0}),qt(Mt.cond(xn).then(Jt,".enable(",Cn,");").else(Jt,".disable(",Cn,");")),qt(Wt,".",sn,"=",xn,";")):(qt(Mt.cond(Sn).then(Jt,".enable(",Cn,");").else(Jt,".disable(",Cn,");")),qt(Wt,".",sn,"=",Sn,";"))}else if(x(Sn)){var jn=ln[sn];qt(Jt,".",Dn[sn],"(",Sn,");",Sn.map(function(Fn,Xn){return jn+"["+Xn+"]="+Fn}).join(";"),";")}else te(un)?(xn=Mt.link(Sn,{stable:!0}),qt(Jt,".",Dn[sn],"(",xn,");",Wt,".",sn,"=",xn,";")):qt(Jt,".",Dn[sn],"(",Sn,");",Wt,".",sn,"=",Sn,";")}})}function rn(Mt,qt){Ft&&(Mt.instancing=qt.def(Mt.shared.extensions,".angle_instanced_arrays"))}function fn(Mt,qt,Kt,mn,xn){function Mn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function ln(Xn){Xn(sn=qt.def(),"=",Mn(),";"),"string"==typeof xn?Xn(Cn,".count+=",xn,";"):Xn(Cn,".count++;"),ct&&(mn?Xn(un=qt.def(),"=",Fn,".getNumPendingQueries();"):Xn(Fn,".beginQuery(",Cn,");"))}function Wt(Xn){Xn(Cn,".cpuTime+=",Mn(),"-",sn,";"),ct&&(mn?Xn(Fn,".pushScopeStats(",un,",",Fn,".getNumPendingQueries(),",Cn,");"):Xn(Fn,".endQuery();"))}function Jt(Xn){var Hn=qt.def(jn,".profile");qt(jn,".profile=",Xn,";"),qt.exit(jn,".profile=",Hn,";")}var sn,un,Sn=Mt.shared,Cn=Mt.stats,jn=Sn.current,Fn=Sn.timer;if(Kt=Kt.profile){if(te(Kt))return void(Kt.enable?(ln(qt),Wt(qt.exit),Jt("true")):Jt("false"));Jt(Kt=Kt.append(Mt,qt))}else Kt=qt.def(jn,".profile");ln(Sn=Mt.block()),qt("if(",Kt,"){",Sn,"}"),Wt(Mt=Mt.block()),qt.exit("if(",Kt,"){",Mt,"}")}function gn(Mt,qt,Kt,mn,xn){var ln=Mt.shared;mn.forEach(function(Wt){var Jt,sn=Wt.name,un=Kt.attributes[sn];if(un){if(!xn(un))return;Jt=un.append(Mt,qt)}else{if(!xn(Xe))return;var Sn=Mt.scopeAttrib(sn);Jt={},Object.keys(new qn).forEach(function(Cn){Jt[Cn]=qt.def(Sn,".",Cn)})}!function Mn(Wt,Jt,sn){function un(){qt("if(!",Fn,".buffer){",Cn,".enableVertexAttribArray(",jn,");}");var er,tr=sn.type;er=sn.size?qt.def(sn.size,"||",Jt):Jt,qt("if(",Fn,".type!==",tr,"||",Fn,".size!==",er,"||",nr.map(function(lr){return Fn+"."+lr+"!=="+sn[lr]}).join("||"),"){",Cn,".bindBuffer(",34962,",",Xn,".buffer);",Cn,".vertexAttribPointer(",[jn,er,tr,sn.normalized,sn.stride,sn.offset],");",Fn,".type=",tr,";",Fn,".size=",er,";",nr.map(function(lr){return Fn+"."+lr+"="+sn[lr]+";"}).join(""),"}"),Ft&&qt("if(",Fn,".divisor!==",tr=sn.divisor,"){",Mt.instancing,".vertexAttribDivisorANGLE(",[jn,tr],");",Fn,".divisor=",tr,";}")}function Sn(){qt("if(",Fn,".buffer){",Cn,".disableVertexAttribArray(",jn,");",Fn,".buffer=null;","}if(",st.map(function(er,tr){return Fn+"."+er+"!=="+Hn[tr]}).join("||"),"){",Cn,".vertexAttrib4f(",jn,",",Hn,");",st.map(function(er,tr){return Fn+"."+er+"="+Hn[tr]+";"}).join(""),"}")}var Cn=ln.gl,jn=qt.def(Wt,".location"),Fn=qt.def(ln.attributes,"[",jn,"]"),Xn=sn.buffer,Hn=[sn.x,sn.y,sn.z,sn.w],nr=["buffer","normalized","offset","stride"];1===(Wt=sn.state)?un():2===Wt?Sn():(qt("if(",Wt,"===",1,"){"),un(),qt("}else{"),Sn(),qt("}"))}(Mt.link(Wt),function(Cn){switch(Cn){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Wt.info.type),Jt)})}function An(Mt,qt,Kt,mn,xn,Mn){for(var ln,Wt=Mt.shared,Jt=Wt.gl,sn=0;sn<mn.length;++sn){var un,Sn=(Fn=mn[sn]).name,Cn=Fn.info.type,jn=Kt.uniforms[Sn],Fn=Mt.link(Fn)+".location";if(jn){if(!xn(jn))continue;if(te(jn)){if(Sn=jn.value,35678===Cn||35680===Cn)qt(Jt,".uniform1i(",Fn,",",(Cn=Mt.link(Sn._texture||Sn.color[0]._texture))+".bind());"),qt.exit(Cn,".unbind();");else if(35674===Cn||35675===Cn||35676===Cn)jn=2,35675===Cn?jn=3:35676===Cn&&(jn=4),qt(Jt,".uniformMatrix",jn,"fv(",Fn,",false,",Sn=Mt.global.def("new Float32Array(["+Array.prototype.slice.call(Sn)+"])"),");");else{switch(Cn){case 5126:ln="1f";break;case 35664:ln="2f";break;case 35665:ln="3f";break;case 35666:ln="4f";break;case 35670:case 5124:ln="1i";break;case 35671:case 35667:ln="2i";break;case 35672:case 35668:ln="3i";break;case 35673:case 35669:ln="4i"}qt(Jt,".uniform",ln,"(",Fn,",",x(Sn)?Array.prototype.slice.call(Sn):Sn,");")}continue}un=jn.append(Mt,qt)}else{if(!xn(Xe))continue;un=qt.def(Wt.uniforms,"[",We.id(Sn),"]")}switch(35678===Cn?qt("if(",un,"&&",un,'._reglType==="framebuffer"){',un,"=",un,".color[0];","}"):35680===Cn&&qt("if(",un,"&&",un,'._reglType==="framebufferCube"){',un,"=",un,".color[0];","}"),Sn=1,Cn){case 35678:case 35680:Cn=qt.def(un,"._texture"),qt(Jt,".uniform1i(",Fn,",",Cn,".bind());"),qt.exit(Cn,".unbind();");continue;case 5124:case 35670:ln="1i";break;case 35667:case 35671:ln="2i",Sn=2;break;case 35668:case 35672:ln="3i",Sn=3;break;case 35669:case 35673:ln="4i",Sn=4;break;case 5126:ln="1f";break;case 35664:ln="2f",Sn=2;break;case 35665:ln="3f",Sn=3;break;case 35666:ln="4f",Sn=4;break;case 35674:ln="Matrix2fv";break;case 35675:ln="Matrix3fv";break;case 35676:ln="Matrix4fv"}if("M"===ln.charAt(0)){qt(Jt,".uniform",ln,"(",Fn,","),Fn=Math.pow(Cn-35674+2,2);var Xn=Mt.global.def("new Float32Array(",Fn,")");Array.isArray(un)?qt("false,(",b(Fn,function(nr){return Xn+"["+nr+"]="+un[nr]}),",",Xn,")"):qt("false,(Array.isArray(",un,")||",un," instanceof Float32Array)?",un,":(",b(Fn,function(nr){return Xn+"["+nr+"]="+un+"["+nr+"]"}),",",Xn,")"),qt(");")}else{if(1<Sn){Cn=[];var Hn=[];for(jn=0;jn<Sn;++jn)Array.isArray(un)?Hn.push(un[jn]):Hn.push(qt.def(un+"["+jn+"]")),Mn&&Cn.push(qt.def());Mn&&qt("if(!",Mt.batchId,"||",Cn.map(function(nr,er){return nr+"!=="+Hn[er]}).join("||"),"){",Cn.map(function(nr,er){return nr+"="+Hn[er]+";"}).join("")),qt(Jt,".uniform",ln,"(",Fn,",",Hn.join(","),");")}else Mn&&(Cn=qt.def(),qt("if(!",Mt.batchId,"||",Cn,"!==",un,"){",Cn,"=",un,";")),qt(Jt,".uniform",ln,"(",Fn,",",un,");");Mn&&qt("}")}}}function En(Mt,qt,Kt,mn){function xn(tr){var lr=Cn[tr];return lr?lr.append(Mt,lr.contextDep&&mn.contextDynamic||lr.propDep?Kt:qt):qt.def(Sn,".",tr)}function Mn(){function tr(){Kt(Jt,".drawElementsInstancedANGLE(",[Fn,Hn,nr,Xn+"<<(("+nr+"-5121)>>1)",Wt],");")}function lr(){Kt(Jt,".drawArraysInstancedANGLE(",[Fn,Xn,Hn,Wt],");")}jn&&"null"!==jn?er?tr():(Kt("if(",jn,"){"),tr(),Kt("}else{"),lr(),Kt("}")):lr()}function ln(){function tr(){Kt(un+".drawElements("+[Fn,Hn,nr,Xn+"<<(("+nr+"-5121)>>1)"]+");")}function lr(){Kt(un+".drawArrays("+[Fn,Xn,Hn]+");")}jn&&"null"!==jn?er?tr():(Kt("if(",jn,"){"),tr(),Kt("}else{"),lr(),Kt("}")):lr()}var Wt,Jt,tr,lr,sn=Mt.shared,un=sn.gl,Sn=sn.draw,Cn=mn.draw,jn=(lr=qt,(tr=Cn.elements)?((tr.contextDep&&mn.contextDynamic||tr.propDep)&&(lr=Kt),tr=tr.append(Mt,lr),Cn.elementsActive&&lr("if("+tr+")"+un+".bindBuffer(34963,"+tr+".buffer.buffer);")):(tr=lr.def(),lr(tr,"=",Sn,".","elements",";","if(",tr,"){",un,".bindBuffer(",34963,",",tr,".buffer.buffer);}","else if(",sn.vao,".currentVAO){",tr,"=",Mt.shared.elements+".getElements("+sn.vao,".currentVAO.elements);",cn?"":"if("+tr+")"+un+".bindBuffer(34963,"+tr+".buffer.buffer);","}")),tr),Fn=xn("primitive"),Xn=xn("offset"),Hn=function(){var tr=Cn.count,lr=qt;return tr?((tr.contextDep&&mn.contextDynamic||tr.propDep)&&(lr=Kt),tr=tr.append(Mt,lr)):tr=lr.def(Sn,".","count"),tr}();if("number"==typeof Hn){if(0===Hn)return}else Kt("if(",Hn,"){"),Kt.exit("}");Ft&&(Wt=xn("instances"),Jt=Mt.instancing);var nr=jn+".type",er=Cn.elements&&te(Cn.elements)&&!Cn.vaoActive;Ft&&("number"!=typeof Wt||0<=Wt)?"string"==typeof Wt?(Kt("if(",Wt,">0){"),Mn(),Kt("}else if(",Wt,"<0){"),ln(),Kt("}")):Mn():ln()}function bn(Mt,qt,Kt,mn,xn){return xn=(qt=$t()).proc("body",xn),Ft&&(qt.instancing=xn.def(qt.shared.extensions,".angle_instanced_arrays")),Mt(qt,xn,Kt,mn),qt.compile().body}function Ln(Mt,qt,Kt,mn){rn(Mt,qt),Kt.useVAO?Kt.drawVAO?qt(Mt.shared.vao,".setVAO(",Kt.drawVAO.append(Mt,qt),");"):qt(Mt.shared.vao,".setVAO(",Mt.shared.vao,".targetVAO);"):(qt(Mt.shared.vao,".setVAO(null);"),gn(Mt,qt,Kt,mn.attributes,function(){return!0})),An(Mt,qt,Kt,mn.uniforms,function(){return!0},!1),En(Mt,qt,qt,Kt)}function Wn(Mt,qt,Kt,mn){function xn(){return!0}Mt.batchId="a1",rn(Mt,qt),gn(Mt,qt,Kt,mn.attributes,xn),An(Mt,qt,Kt,mn.uniforms,xn,!1),En(Mt,qt,qt,Kt)}function Qn(Mt,qt,Kt,mn){function xn(Sn){return Sn.contextDep&&ln||Sn.propDep}function Mn(Sn){return!xn(Sn)}rn(Mt,qt);var ln=Kt.contextDep,Wt=qt.def(),Jt=qt.def();Mt.shared.props=Jt,Mt.batchId=Wt;var sn=Mt.scope(),un=Mt.scope();qt(sn.entry,"for(",Wt,"=0;",Wt,"<","a1",";++",Wt,"){",Jt,"=","a0","[",Wt,"];",un,"}",sn.exit),Kt.needsContext&&on(Mt,un,Kt.context),Kt.needsFramebuffer&&Ut(Mt,un,Kt.framebuffer),Xt(Mt,un,Kt.state,xn),Kt.profile&&xn(Kt.profile)&&fn(Mt,un,Kt,!1,!0),mn?(Kt.useVAO?Kt.drawVAO?xn(Kt.drawVAO)?un(Mt.shared.vao,".setVAO(",Kt.drawVAO.append(Mt,un),");"):sn(Mt.shared.vao,".setVAO(",Kt.drawVAO.append(Mt,sn),");"):sn(Mt.shared.vao,".setVAO(",Mt.shared.vao,".targetVAO);"):(sn(Mt.shared.vao,".setVAO(null);"),gn(Mt,sn,Kt,mn.attributes,Mn),gn(Mt,un,Kt,mn.attributes,xn)),An(Mt,sn,Kt,mn.uniforms,Mn,!1),An(Mt,un,Kt,mn.uniforms,xn,!0),En(Mt,sn,un,Kt)):(qt=Mt.global.def("{}"),mn=Kt.shader.progVar.append(Mt,un),Jt=un.def(mn,".id"),sn=un.def(qt,"[",Jt,"]"),un(Mt.shared.gl,".useProgram(",mn,".program);","if(!",sn,"){",sn,"=",qt,"[",Jt,"]=",Mt.link(function(Sn){return bn(Wn,Mt,Kt,Sn,2)}),"(",mn,");}",sn,".call(this,a0[",Wt,"],",Wt,");"))}function $n(Mt,qt,Kt){var mn=qt.static[Kt];if(mn&&function(un){if("object"==typeof un&&!x(un)){for(var Sn=Object.keys(un),Cn=0;Cn<Sn.length;++Cn)if(re.isDynamic(un[Sn[Cn]]))return!0;return!1}}(mn)){var xn=Mt.global,Mn=Object.keys(mn),ln=!1,Wt=!1,Jt=!1,sn=Mt.global.def("{}");Mn.forEach(function(un){var Sn=mn[un];if(re.isDynamic(Sn))"function"==typeof Sn&&(Sn=mn[un]=re.unbox(Sn)),un=X(Sn,null),ln=ln||un.thisDep,Jt=Jt||un.propDep,Wt=Wt||un.contextDep;else{switch(xn(sn,".",un,"="),typeof Sn){case"number":xn(Sn);break;case"string":xn('"',Sn,'"');break;case"object":Array.isArray(Sn)&&xn("[",Sn.join(),"]");break;default:xn(Mt.link(Sn))}xn(";")}}),qt.dynamic[Kt]=new re.DynamicVariable(4,{thisDep:ln,contextDep:Wt,propDep:Jt,ref:sn,append:function(un,Sn){Mn.forEach(function(Cn){var jn=mn[Cn];re.isDynamic(jn)&&(jn=un.invoke(Sn,jn),Sn(sn,".",Cn,"=",jn,";"))})}}),delete qt.static[Kt]}}var qn=pt.Record,dr={add:32774,subtract:32778,"reverse subtract":32779};rt.ext_blend_minmax&&(dr.min=32775,dr.max=32776);var Ft=rt.angle_instanced_arrays,tn=rt.webgl_draw_buffers,cn=rt.oes_vertex_array_object,dn={dirty:!0,profile:bt.profile},kn={},Vn=[],In={},Dn={};Dt("dither",3024),Dt("blend.enable",3042),Nt("blend.color","blendColor",[0,0,0,0]),Nt("blend.equation","blendEquationSeparate",[32774,32774]),Nt("blend.func","blendFuncSeparate",[1,0,1,0]),Dt("depth.enable",2929,!0),Nt("depth.func","depthFunc",513),Nt("depth.range","depthRange",[0,1]),Nt("depth.mask","depthMask",!0),Nt("colorMask","colorMask",[!0,!0,!0,!0]),Dt("cull.enable",2884),Nt("cull.face","cullFace",1029),Nt("frontFace","frontFace",2305),Nt("lineWidth","lineWidth",1),Dt("polygonOffset.enable",32823),Nt("polygonOffset.offset","polygonOffset",[0,0]),Dt("sample.alpha",32926),Dt("sample.enable",32928),Nt("sample.coverage","sampleCoverage",[1,!1]),Dt("stencil.enable",2960),Nt("stencil.mask","stencilMask",-1),Nt("stencil.func","stencilFunc",[519,0,-1]),Nt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Nt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Dt("scissor.enable",3089),Nt("scissor.box","scissor",[0,0,He.drawingBufferWidth,He.drawingBufferHeight]),Nt("viewport","viewport",[0,0,He.drawingBufferWidth,He.drawingBufferHeight]);var Kn={gl:He,context:wt,strings:We,next:kn,current:dn,draw:ut,elements:Be,buffer:ze,shader:vt,attributes:pt.state,vao:pt,uniforms:gt,framebuffer:et,extensions:rt,timer:ct,isBufferArgs:F},Vt={primTypes:Ee,compareFuncs:Pt,blendFuncs:At,blendEquations:dr,stencilOps:kt,glTypes:_e,orientationType:Ze};tn&&(Vt.backBuffer=[1029],Vt.drawBuffer=b(nt.maxDrawbuffers,function(Mt){return 0===Mt?[0]:b(Mt,function(qt){return 36064+qt})}));var _n=0;return{next:kn,current:dn,procs:function(){var Mt=$t(),qt=Mt.proc("poll"),Kt=Mt.proc("refresh"),mn=Mt.block();qt(mn),Kt(mn);var xn,Mn=(Jt=Mt.shared).gl,ln=Jt.next,Wt=Jt.current;mn(Wt,".dirty=false;"),Ut(Mt,qt),Ut(Mt,Kt,null,!0),Ft&&(xn=Mt.link(Ft)),rt.oes_vertex_array_object&&Kt(Mt.link(rt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Jt=Kt.def(Jt.attributes),sn=Kt.def(0),un=Mt.cond(sn,".buffer");un.then(Mn,".enableVertexAttribArray(i);",Mn,".bindBuffer(",34962,",",sn,".buffer.buffer);",Mn,".vertexAttribPointer(i,",sn,".size,",sn,".type,",sn,".normalized,",sn,".stride,",sn,".offset);").else(Mn,".disableVertexAttribArray(i);",Mn,".vertexAttrib4f(i,",sn,".x,",sn,".y,",sn,".z,",sn,".w);",sn,".buffer=null;");var Sn=Mt.link(nt.maxAttributes,{stable:!0});return Kt("for(var i=0;i<",Sn,";++i){",sn,"=",Jt,"[i];",un,"}"),Ft&&Kt("for(var i=0;i<",Sn,";++i){",xn,".vertexAttribDivisorANGLE(i,",Jt,"[i].divisor);","}"),Kt(Mt.shared.vao,".currentVAO=null;",Mt.shared.vao,".setVAO(",Mt.shared.vao,".targetVAO);"),Object.keys(In).forEach(function(Cn){var jn=In[Cn],Fn=mn.def(ln,".",Cn),Xn=Mt.block();Xn("if(",Fn,"){",Mn,".enable(",jn,")}else{",Mn,".disable(",jn,")}",Wt,".",Cn,"=",Fn,";"),Kt(Xn),qt("if(",Fn,"!==",Wt,".",Cn,"){",Xn,"}")}),Object.keys(Dn).forEach(function(Cn){var jn,Fn,Xn=Dn[Cn],Hn=dn[Cn],nr=Mt.block();nr(Mn,".",Xn,"("),x(Hn)?(Xn=Hn.length,jn=Mt.global.def(ln,".",Cn),Fn=Mt.global.def(Wt,".",Cn),nr(b(Xn,function(er){return jn+"["+er+"]"}),");",b(Xn,function(er){return Fn+"["+er+"]="+jn+"["+er+"];"}).join("")),qt("if(",b(Xn,function(er){return jn+"["+er+"]!=="+Fn+"["+er+"]"}).join("||"),"){",nr,"}")):(jn=mn.def(ln,".",Cn),Fn=mn.def(Wt,".",Cn),nr(jn,");",Wt,".",Cn,"=",jn,";"),qt("if(",jn,"!==",Fn,"){",nr,"}")),Kt(nr)}),Mt.compile()}(),compile:function(Mt,qt,Kt,mn,xn){var Mn=$t();Mn.stats=Mn.link(xn),Object.keys(qt.static).forEach(function(Wt){$n(Mn,qt,Wt)}),Tt.forEach(function(Wt){$n(Mn,Mt,Wt)});var ln=yn(Mt,qt,Kt,mn);return ln.shader.program&&(ln.shader.program.attributes.sort(function(Wt,Jt){return Wt.name<Jt.name?-1:1}),ln.shader.program.uniforms.sort(function(Wt,Jt){return Wt.name<Jt.name?-1:1})),function(Wt,Jt){var sn=Wt.proc("draw",1);rn(Wt,sn),on(Wt,sn,Jt.context),Ut(Wt,sn,Jt.framebuffer),nn(Wt,sn,Jt),Xt(Wt,sn,Jt.state),fn(Wt,sn,Jt,!1,!0);var un=Jt.shader.progVar.append(Wt,sn);if(sn(Wt.shared.gl,".useProgram(",un,".program);"),Jt.shader.program)Ln(Wt,sn,Jt,Jt.shader.program);else{sn(Wt.shared.vao,".setVAO(null);");var Sn=Wt.global.def("{}"),Cn=sn.def(un,".id"),jn=sn.def(Sn,"[",Cn,"]");sn(Wt.cond(jn).then(jn,".call(this,a0);").else(jn,"=",Sn,"[",Cn,"]=",Wt.link(function(Fn){return bn(Ln,Wt,Jt,Fn,1)}),"(",un,");",jn,".call(this,a0);"))}0<Object.keys(Jt.state).length&&sn(Wt.shared.current,".dirty=true;"),Wt.shared.vao&&sn(Wt.shared.vao,".setVAO(null);")}(Mn,ln),function ir(Mt,qt){function Kt(Wt){var Jt=qt.shader[Wt];Jt&&(Jt=Jt.append(Mt,mn),isNaN(Jt)?mn.set(xn.shader,"."+Wt,Jt):mn.set(xn.shader,"."+Wt,Mt.link(Jt,{stable:!0})))}var mn=Mt.proc("scope",3);Mt.batchId="a2";var xn=Mt.shared,Mn=xn.current;if(on(Mt,mn,qt.context),qt.framebuffer&&qt.framebuffer.append(Mt,mn),j(Object.keys(qt.state)).forEach(function(Wt){var Jt=qt.state[Wt],sn=Jt.append(Mt,mn);x(sn)?sn.forEach(function(un,Sn){isNaN(un)?mn.set(Mt.next[Wt],"["+Sn+"]",un):mn.set(Mt.next[Wt],"["+Sn+"]",Mt.link(un,{stable:!0}))}):te(Jt)?mn.set(xn.next,"."+Wt,Mt.link(sn,{stable:!0})):mn.set(xn.next,"."+Wt,sn)}),fn(Mt,mn,qt,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(Wt){var Jt=qt.draw[Wt];Jt&&(Jt=Jt.append(Mt,mn),isNaN(Jt)?mn.set(xn.draw,"."+Wt,Jt):mn.set(xn.draw,"."+Wt,Mt.link(Jt),{stable:!0}))}),Object.keys(qt.uniforms).forEach(function(Wt){var Jt=qt.uniforms[Wt].append(Mt,mn);Array.isArray(Jt)&&(Jt="["+Jt.map(function(sn){return isNaN(sn)?sn:Mt.link(sn,{stable:!0})})+"]"),mn.set(xn.uniforms,"["+Mt.link(We.id(Wt),{stable:!0})+"]",Jt)}),Object.keys(qt.attributes).forEach(function(Wt){var Jt=qt.attributes[Wt].append(Mt,mn),sn=Mt.scopeAttrib(Wt);Object.keys(new qn).forEach(function(un){mn.set(sn,"."+un,Jt[un])})}),qt.scopeVAO){var ln=qt.scopeVAO.append(Mt,mn);isNaN(ln)?mn.set(xn.vao,".targetVAO",ln):mn.set(xn.vao,".targetVAO",Mt.link(ln,{stable:!0}))}Kt("vert"),Kt("frag"),0<Object.keys(qt.state).length&&(mn(Mn,".dirty=true;"),mn.exit(Mn,".dirty=true;")),mn("a1(",Mt.shared.context,",a0,",Mt.batchId,");")}(Mn,ln),function(Wt,Jt){function sn(Hn){return Hn.contextDep&&Sn||Hn.propDep}var un=Wt.proc("batch",2);Wt.batchId="0",rn(Wt,un);var Sn=!1,Cn=!0;Object.keys(Jt.context).forEach(function(Hn){Sn=Sn||Jt.context[Hn].propDep}),Sn||(on(Wt,un,Jt.context),Cn=!1);var jn=!1;if((Fn=Jt.framebuffer)?(Fn.propDep?Sn=jn=!0:Fn.contextDep&&Sn&&(jn=!0),jn||Ut(Wt,un,Fn)):Ut(Wt,un,null),Jt.state.viewport&&Jt.state.viewport.propDep&&(Sn=!0),nn(Wt,un,Jt),Xt(Wt,un,Jt.state,function(Hn){return!sn(Hn)}),Jt.profile&&sn(Jt.profile)||fn(Wt,un,Jt,!1,"a1"),Jt.contextDep=Sn,Jt.needsContext=Cn,Jt.needsFramebuffer=jn,(Cn=Jt.shader.progVar).contextDep&&Sn||Cn.propDep)Qn(Wt,un,Jt,null);else if(Cn=Cn.append(Wt,un),un(Wt.shared.gl,".useProgram(",Cn,".program);"),Jt.shader.program)Qn(Wt,un,Jt,Jt.shader.program);else{un(Wt.shared.vao,".setVAO(null);");var Fn=Wt.global.def("{}"),Xn=(jn=un.def(Cn,".id"),un.def(Fn,"[",jn,"]"));un(Wt.cond(Xn).then(Xn,".call(this,a0,a1);").else(Xn,"=",Fn,"[",jn,"]=",Wt.link(function(Hn){return bn(Qn,Wt,Jt,Hn,2)}),"(",Cn,");",Xn,".call(this,a0,a1);"))}0<Object.keys(Jt.state).length&&un(Wt.shared.current,".dirty=true;"),Wt.shared.vao&&un(Wt.shared.vao,".setVAO(null);")}(Mn,ln),$(Mn.compile(),{destroy:function(){ln.shader.program.destroy()}})}}}function W(He,We){for(var rt=0;rt<He.length;++rt)if(He[rt]===We)return rt;return-1}var $=function(He,We){for(var rt=Object.keys(We),nt=0;nt<rt.length;++nt)He[rt[nt]]=We[rt[nt]];return He},ne=0,re={DynamicVariable:D,define:function(He,We){return new D(He,A(We+""))},isDynamic:function(He){return"function"==typeof He&&!He._reglType||He instanceof D},unbox:function He(We,rt){return"function"==typeof We?new D(0,We):"number"==typeof We||"boolean"==typeof We?new D(5,We):Array.isArray(We)?new D(6,We.map(function(nt,ze){return He(nt,rt+"["+ze+"]")})):We instanceof D?We:void 0},accessor:A},oe={next:"function"==typeof requestAnimationFrame?function(He){return requestAnimationFrame(He)}:function(He){return setTimeout(He,16)},cancel:"function"==typeof cancelAnimationFrame?function(He){return cancelAnimationFrame(He)}:clearTimeout},ue=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},xe=a();xe.zero=a();var me=function(He){return He instanceof Uint8Array||He instanceof Uint16Array||He instanceof Uint32Array||He instanceof Int8Array||He instanceof Int16Array||He instanceof Int32Array||He instanceof Float32Array||He instanceof Float64Array||He instanceof Uint8ClampedArray},pe=function(He){return Object.keys(He).map(function(We){return He[We]})},ge={shape:function(He){for(var We=[];He.length;He=He[0])We.push(He.length);return We},flatten:function(He,We,rt,nt){var ze=1;if(We.length)for(var Be=0;Be<We.length;++Be)ze*=We[Be];else ze=0;switch(rt=nt||xe.allocType(rt,ze),We.length){case 0:break;case 1:for(nt=We[0],We=0;We<nt;++We)rt[We]=He[We];break;case 2:for(nt=We[0],We=We[1],Be=ze=0;Be<nt;++Be)for(var tt=He[Be],et=0;et<We;++et)rt[ze++]=tt[et];break;case 3:i(He,We[0],We[1],We[2],rt,0);break;default:r(He,We,0,rt,0)}return rt}},Pe={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},_e={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},we={dynamic:35048,stream:35040,static:35044},se=ge.flatten,ae=ge.shape,fe=[];fe[5120]=1,fe[5122]=2,fe[5124]=4,fe[5121]=1,fe[5123]=2,fe[5125]=4,fe[5126]=4;var Ee={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ke=new Float32Array(1),be=new Uint32Array(ke.buffer),Ie=[9984,9986,9985,9987],Fe=[0,6409,6410,6407,6408],ce={};ce[6409]=ce[6406]=ce[6402]=1,ce[34041]=ce[6410]=2,ce[6407]=ce[35904]=3,ce[6408]=ce[35906]=4;var Te=g("HTMLCanvasElement"),ve=g("OffscreenCanvas"),Ce=g("CanvasRenderingContext2D"),Re=g("ImageBitmap"),Oe=g("HTMLImageElement"),je=g("HTMLVideoElement"),qe=Object.keys(Pe).concat([Te,ve,Ce,Re,Oe,je]),Je=[];Je[5121]=1,Je[5126]=4,Je[36193]=2,Je[5123]=2,Je[5125]=4;var it=[];it[32854]=2,it[32855]=2,it[36194]=2,it[34041]=4,it[33776]=.5,it[33777]=.5,it[33778]=1,it[33779]=1,it[35986]=.5,it[35987]=1,it[34798]=1,it[35840]=.5,it[35841]=.25,it[35842]=.5,it[35843]=.25,it[36196]=.5;var Qe=[];Qe[32854]=2,Qe[32855]=2,Qe[36194]=2,Qe[33189]=2,Qe[36168]=1,Qe[34041]=4,Qe[35907]=4,Qe[34836]=16,Qe[34842]=8,Qe[34843]=6;var yt=[];yt[6408]=4,yt[6407]=3;var mt=[];mt[5121]=1,mt[5126]=4,mt[36193]=2;var at=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],st=["x","y","z","w"],Tt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),At={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Pt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},kt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ze={cw:2304,ccw:2305},Xe=new G(!1,!1,!1,function(){});return function(He){function We(){if(0===Wn.length)jt&&jt.update(),qn=null;else{qn=oe.next(We),vt();for(var Ft=Wn.length-1;0<=Ft;--Ft){var tn=Wn[Ft];tn&&tn(yn,null,0)}ct.flush(),jt&&jt.update()}}function rt(){!qn&&0<Wn.length&&(qn=oe.next(We))}function nt(){qn&&(oe.cancel(We),qn=null)}function ze(Ft){Ft.preventDefault(),nt(),Qn.forEach(function(tn){tn()})}function Be(Ft){ct.getError(),bt.restore(),rn.restore(),Ut.restore(),fn.restore(),gn.restore(),An.restore(),Xt.restore(),jt&&jt.restore(),En.procs.refresh(),rt(),ir.forEach(function(tn){tn()})}function tt(Ft){function tn(Mt,qt){var Kt={},mn={};return Object.keys(Mt).forEach(function(xn){var Mn=Mt[xn];if(re.isDynamic(Mn))mn[xn]=re.unbox(Mn,xn);else{if(qt&&Array.isArray(Mn))for(var ln=0;ln<Mn.length;++ln)if(re.isDynamic(Mn[ln]))return void(mn[xn]=re.unbox(Mn,xn));Kt[xn]=Mn}}),{dynamic:mn,static:Kt}}var cn=tn(Ft.context||{},!0),dn=tn(Ft.uniforms||{},!0),kn=tn(Ft.attributes||{},!1);Ft=tn(function(Mt){function qt(mn){if(mn in Kt){var xn=Kt[mn];delete Kt[mn],Object.keys(xn).forEach(function(Mn){Kt[mn+"."+Mn]=xn[Mn]})}}var Kt=$({},Mt);return delete Kt.uniforms,delete Kt.attributes,delete Kt.context,delete Kt.vao,"stencil"in Kt&&Kt.stencil.op&&(Kt.stencil.opBack=Kt.stencil.opFront=Kt.stencil.op,delete Kt.stencil.op),qt("blend"),qt("depth"),qt("cull"),qt("stencil"),qt("polygonOffset"),qt("scissor"),qt("sample"),"vao"in Mt&&(Kt.vao=Mt.vao),Kt}(Ft),!1);var Vn={gpuTime:0,cpuTime:0,count:0},In=En.compile(Ft,kn,dn,cn,Vn),Dn=In.draw,Kn=In.batch,Vt=In.scope,_n=[];return $(function(Mt,qt){var Kt;if("function"==typeof Mt)return Vt.call(this,null,Mt,0);if("function"==typeof qt)if("number"==typeof Mt)for(Kt=0;Kt<Mt;++Kt)Vt.call(this,null,qt,Kt);else{if(!Array.isArray(Mt))return Vt.call(this,Mt,qt,0);for(Kt=0;Kt<Mt.length;++Kt)Vt.call(this,Mt[Kt],qt,Kt)}else if("number"==typeof Mt){if(0<Mt)return Kn.call(this,function(mn){for(;_n.length<mn;)_n.push(null);return _n}(0|Mt),0|Mt)}else{if(!Array.isArray(Mt))return Dn.call(this,Mt);if(Mt.length)return Kn.call(this,Mt,Mt.length)}},{stats:Vn,destroy:function(){In.destroy()}})}function et(Ft,tn){var cn=0;En.procs.poll();var dn=tn.color;dn&&(ct.clearColor(+dn[0]||0,+dn[1]||0,+dn[2]||0,+dn[3]||0),cn|=16384),"depth"in tn&&(ct.clearDepth(+tn.depth),cn|=256),"stencil"in tn&&(ct.clearStencil(0|tn.stencil),cn|=1024),ct.clear(cn)}function gt(Ft){return Wn.push(Ft),rt(),{cancel:function(){var tn=W(Wn,Ft);Wn[tn]=function cn(){var dn=W(Wn,cn);Wn[dn]=Wn[Wn.length-1],--Wn.length,0>=Wn.length&&nt()}}}}function pt(){var Ft=bn.viewport,tn=bn.scissor_box;Ft[0]=Ft[1]=tn[0]=tn[1]=0,yn.viewportWidth=yn.framebufferWidth=yn.drawingBufferWidth=Ft[2]=tn[2]=ct.drawingBufferWidth,yn.viewportHeight=yn.framebufferHeight=yn.drawingBufferHeight=Ft[3]=tn[3]=ct.drawingBufferHeight}function vt(){yn.tick+=1,yn.time=wt(),pt(),En.procs.poll()}function ut(){fn.refresh(),pt(),En.procs.refresh(),jt&&jt.update()}function wt(){return(ue()-Yt)/1e3}if(!(He=function T(He){var We,rt,nt,ze,Be=He||{};He={};var tt=[],et=[],gt=typeof window>"u"?1:window.devicePixelRatio,pt=!1,vt={},ut=function(ct){},wt=function(){};if("string"==typeof Be?We=document.querySelector(Be):"object"==typeof Be&&("string"==typeof Be.nodeName&&"function"==typeof Be.appendChild&&"function"==typeof Be.getBoundingClientRect?We=Be:"function"==typeof Be.drawArrays||"function"==typeof Be.drawElements?nt=(ze=Be).canvas:("gl"in Be?ze=Be.gl:"canvas"in Be?nt=l(Be.canvas):"container"in Be&&(rt=l(Be.container)),"attributes"in Be&&(He=Be.attributes),"extensions"in Be&&(tt=k(Be.extensions)),"optionalExtensions"in Be&&(et=k(Be.optionalExtensions)),"onDone"in Be&&(ut=Be.onDone),"profile"in Be&&(pt=!!Be.profile),"pixelRatio"in Be&&(gt=+Be.pixelRatio),"cachedCode"in Be&&(vt=Be.cachedCode))),We&&("canvas"===We.nodeName.toLowerCase()?nt=We:rt=We),!ze){if(!nt){if(!(We=function(ct,ft,bt){function It(){var $t=window.innerWidth,jt=window.innerHeight;ct!==document.body&&($t=(jt=Nt.getBoundingClientRect()).right-jt.left,jt=jt.bottom-jt.top),Nt.width=bt*$t,Nt.height=bt*jt}var Dt,Nt=document.createElement("canvas");return $(Nt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),ct.appendChild(Nt),ct===document.body&&(Nt.style.position="absolute",$(ct.style,{margin:0,padding:0})),ct!==document.body&&"function"==typeof ResizeObserver?(Dt=new ResizeObserver(function(){setTimeout(It)})).observe(ct):window.addEventListener("resize",It,!1),It(),{canvas:Nt,onDestroy:function(){Dt?Dt.disconnect():window.removeEventListener("resize",It),ct.removeChild(Nt)}}}(rt||document.body,0,gt)))return null;nt=We.canvas,wt=We.onDestroy}void 0===He.premultipliedAlpha&&(He.premultipliedAlpha=!0),ze=function(ct,ft){function bt(It){try{return ct.getContext(It,ft)}catch{return null}}return bt("webgl")||bt("experimental-webgl")||bt("webgl-experimental")}(nt,He)}return ze?{gl:ze,canvas:nt,container:rt,extensions:tt,optionalExtensions:et,pixelRatio:gt,profile:pt,cachedCode:vt,onDone:ut,onDestroy:wt}:(wt(),ut("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}(He)))return null;var ct=He.gl,ft=ct.getContextAttributes();ct.isContextLost();var bt=function(Ft,tn){function cn(In){var Dn;In=In.toLowerCase();try{Dn=dn[In]=Ft.getExtension(In)}catch{}return!!Dn}for(var dn={},kn=0;kn<tn.extensions.length;++kn){var Vn=tn.extensions[kn];if(!cn(Vn))return tn.onDestroy(),tn.onDone('"'+Vn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return tn.optionalExtensions.forEach(cn),{extensions:dn,restore:function(){Object.keys(dn).forEach(function(In){if(dn[In]&&!cn(In))throw Error("(regl): error restoring extension "+In)})}}}(ct,He);if(!bt)return null;var Ft,tn,It=(Ft={"":0},tn=[""],{id:function(cn){var dn=Ft[cn];return dn||(dn=Ft[cn]=tn.length,tn.push(cn),dn)},str:function(cn){return tn[cn]}}),Dt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Nt=He.cachedCode||{},$t=bt.extensions,jt=function(Ft,tn){function cn(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function dn(_n,Mt,qt){var Kt=In.pop()||new cn;Kt.startQueryIndex=_n,Kt.endQueryIndex=Mt,Kt.sum=0,Kt.stats=qt,Dn.push(Kt)}if(!tn.ext_disjoint_timer_query)return null;var kn=[],Vn=[],In=[],Dn=[],Kn=[],Vt=[];return{beginQuery:function(_n){var Mt=kn.pop()||tn.ext_disjoint_timer_query.createQueryEXT();tn.ext_disjoint_timer_query.beginQueryEXT(35007,Mt),Vn.push(Mt),dn(Vn.length-1,Vn.length,_n)},endQuery:function(){tn.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:dn,update:function(){var _n,Mt;if(0!==(_n=Vn.length)){Vt.length=Math.max(Vt.length,_n+1),Kn.length=Math.max(Kn.length,_n+1),Kn[0]=0;var qt=Vt[0]=0;for(Mt=_n=0;Mt<Vn.length;++Mt){var Kt=Vn[Mt];tn.ext_disjoint_timer_query.getQueryObjectEXT(Kt,34919)?(qt+=tn.ext_disjoint_timer_query.getQueryObjectEXT(Kt,34918),kn.push(Kt)):Vn[_n++]=Kt,Kn[Mt+1]=qt,Vt[Mt+1]=_n}for(Vn.length=_n,Mt=_n=0;Mt<Dn.length;++Mt){var mn=(qt=Dn[Mt]).startQueryIndex;qt.sum+=Kn[Kt=qt.endQueryIndex]-Kn[mn],(Kt=Vt[Kt])===(mn=Vt[mn])?(qt.stats.gpuTime+=qt.sum/1e6,In.push(qt)):(qt.startQueryIndex=mn,qt.endQueryIndex=Kt,Dn[_n++]=qt)}Dn.length=_n}},getNumPendingQueries:function(){return Vn.length},clear:function(){kn.push.apply(kn,Vn);for(var _n=0;_n<kn.length;_n++)tn.ext_disjoint_timer_query.deleteQueryEXT(kn[_n]);Vn.length=0,kn.length=0},restore:function(){Vn.length=0,kn.length=0}}}(0,$t),Yt=ue(),Gt=ct.drawingBufferWidth,hn=ct.drawingBufferHeight,yn={tick:0,time:0,viewportWidth:Gt,viewportHeight:hn,framebufferWidth:Gt,framebufferHeight:hn,drawingBufferWidth:Gt,drawingBufferHeight:hn,pixelRatio:He.pixelRatio},on=(Gt={elements:null,primitive:4,count:-1,offset:0,instances:-1},function(He,We){var rt=1;We.ext_texture_filter_anisotropic&&(rt=He.getParameter(34047));var nt=1,ze=1;We.webgl_draw_buffers&&(nt=He.getParameter(34852),ze=He.getParameter(36063));var Be=!!We.oes_texture_float;if(Be){Be=He.createTexture(),He.bindTexture(3553,Be),He.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var tt=He.createFramebuffer();if(He.bindFramebuffer(36160,tt),He.framebufferTexture2D(36160,36064,3553,Be,0),He.bindTexture(3553,null),36053!==He.checkFramebufferStatus(36160))Be=!1;else{He.viewport(0,0,1,1),He.clearColor(1,0,0,1),He.clear(16384);var et=xe.allocType(5126,4);He.readPixels(0,0,1,1,6408,5126,et),He.getError()?Be=!1:(He.deleteFramebuffer(tt),He.deleteTexture(Be),Be=1===et[0]),xe.freeType(et)}}return et=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(et=He.createTexture(),tt=xe.allocType(5121,36),He.activeTexture(33984),He.bindTexture(34067,et),He.texImage2D(34069,0,6408,3,3,0,6408,5121,tt),xe.freeType(tt),He.bindTexture(34067,null),He.deleteTexture(et),et=!He.getError()),{colorBits:[He.getParameter(3410),He.getParameter(3411),He.getParameter(3412),He.getParameter(3413)],depthBits:He.getParameter(3414),stencilBits:He.getParameter(3415),subpixelBits:He.getParameter(3408),extensions:Object.keys(We).filter(function(gt){return!!We[gt]}),maxAnisotropic:rt,maxDrawbuffers:nt,maxColorAttachments:ze,pointSizeDims:He.getParameter(33901),lineWidthDims:He.getParameter(33902),maxViewportDims:He.getParameter(3386),maxCombinedTextureUnits:He.getParameter(35661),maxCubeMapSize:He.getParameter(34076),maxRenderbufferSize:He.getParameter(34024),maxTextureUnits:He.getParameter(34930),maxTextureSize:He.getParameter(3379),maxAttributes:He.getParameter(34921),maxVertexUniforms:He.getParameter(36347),maxVertexTextureUnits:He.getParameter(35660),maxVaryingVectors:He.getParameter(36348),maxFragmentUniforms:He.getParameter(36349),glsl:He.getParameter(35724),renderer:He.getParameter(7937),vendor:He.getParameter(7936),version:He.getParameter(7938),readFloat:Be,npotTextureCube:et}}(ct,$t)),Ut=function u(He,We,rt,nt){function ze(ut){this.id=gt++,this.buffer=He.createBuffer(),this.type=ut,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,rt.profile&&(this.stats={size:0})}function Be(ut,wt,ct){ut.byteLength=wt.byteLength,He.bufferData(ut.type,wt,ct)}function tt(ut,wt,ct,ft,bt,It){if(ut.usage=ct,Array.isArray(wt)){if(ut.dtype=ft||5126,0<wt.length)if(Array.isArray(wt[0])){bt=ae(wt);for(var Dt=ft=1;Dt<bt.length;++Dt)ft*=bt[Dt];ut.dimension=ft,Be(ut,wt=se(wt,bt,ut.dtype),ct),It?ut.persistentData=wt:xe.freeType(wt)}else"number"==typeof wt[0]?(ut.dimension=bt,o(bt=xe.allocType(ut.dtype,wt.length),wt),Be(ut,bt,ct),It?ut.persistentData=bt:xe.freeType(bt)):me(wt[0])&&(ut.dimension=wt[0].length,ut.dtype=ft||n(wt[0])||5126,Be(ut,wt=se(wt,[wt.length,wt[0].length],ut.dtype),ct),It?ut.persistentData=wt:xe.freeType(wt))}else if(me(wt))ut.dtype=ft||n(wt),ut.dimension=bt,Be(ut,wt,ct),It&&(ut.persistentData=new Uint8Array(new Uint8Array(wt.buffer)));else if(t(wt)){var Nt=wt.stride,$t=(Dt=wt.offset,0),jt=0,Yt=0,Gt=0;1===(bt=wt.shape).length?($t=bt[0],jt=1,Yt=Nt[0],Gt=0):2===bt.length&&($t=bt[0],jt=bt[1],Yt=Nt[0],Gt=Nt[1]),ut.dtype=ft||n(wt.data)||5126,ut.dimension=jt,s(bt=xe.allocType(ut.dtype,$t*jt),wt.data,$t,jt,Yt,Gt,Dt),Be(ut,bt,ct),It?ut.persistentData=bt:xe.freeType(bt)}else wt instanceof ArrayBuffer&&(ut.dtype=5121,ut.dimension=bt,Be(ut,wt,ct),It&&(ut.persistentData=new Uint8Array(new Uint8Array(wt))))}function et(ut){We.bufferCount--,nt(ut),He.deleteBuffer(ut.buffer),ut.buffer=null,delete pt[ut.id]}var gt=0,pt={};ze.prototype.bind=function(){He.bindBuffer(this.type,this.buffer)},ze.prototype.destroy=function(){et(this)};var vt=[];return rt.profile&&(We.getTotalBufferSize=function(){var ut=0;return Object.keys(pt).forEach(function(wt){ut+=pt[wt].stats.size}),ut}),{create:function(ut,wt,ct,ft){function bt(Dt){var Nt=35044,$t=null,jt=0,Yt=0,Gt=1;return Array.isArray(Dt)||me(Dt)||t(Dt)||Dt instanceof ArrayBuffer?$t=Dt:"number"==typeof Dt?jt=0|Dt:Dt&&("data"in Dt&&($t=Dt.data),"usage"in Dt&&(Nt=we[Dt.usage]),"type"in Dt&&(Yt=_e[Dt.type]),"dimension"in Dt&&(Gt=0|Dt.dimension),"length"in Dt&&(jt=0|Dt.length)),It.bind(),$t?tt(It,$t,Nt,Yt,Gt,ft):(jt&&He.bufferData(It.type,jt,Nt),It.dtype=Yt||5121,It.usage=Nt,It.dimension=Gt,It.byteLength=jt),rt.profile&&(It.stats.size=It.byteLength*fe[It.dtype]),bt}We.bufferCount++;var It=new ze(wt);return pt[It.id]=It,ct||bt(ut),bt._reglType="buffer",bt._buffer=It,bt.subdata=function(Dt,Nt){var $t,jt=0|(Nt||0);if(It.bind(),me(Dt)||Dt instanceof ArrayBuffer)He.bufferSubData(It.type,jt,Dt);else if(Array.isArray(Dt)){if(0<Dt.length)if("number"==typeof Dt[0]){var Yt=xe.allocType(It.dtype,Dt.length);o(Yt,Dt),He.bufferSubData(It.type,jt,Yt),xe.freeType(Yt)}else(Array.isArray(Dt[0])||me(Dt[0]))&&($t=ae(Dt),Yt=se(Dt,$t,It.dtype),He.bufferSubData(It.type,jt,Yt),xe.freeType(Yt))}else if(t(Dt)){var Gt=Dt.stride,hn=Yt=0,yn=0,on=0;1===($t=Dt.shape).length?(Yt=$t[0],hn=1,yn=Gt[0],on=0):2===$t.length&&(Yt=$t[0],hn=$t[1],yn=Gt[0],on=Gt[1]),$t=Array.isArray(Dt.data)?It.dtype:n(Dt.data),s($t=xe.allocType($t,Yt*hn),Dt.data,Yt,hn,yn,on,Dt.offset),He.bufferSubData(It.type,jt,$t),xe.freeType($t)}return bt},rt.profile&&(bt.stats=It.stats),bt.destroy=function(){et(It)},bt},createStream:function(ut,wt){var ct=vt.pop();return ct||(ct=new ze(ut)),ct.bind(),tt(ct,wt,35040,0,1,!1),ct},destroyStream:function(ut){vt.push(ut)},clear:function(){pe(pt).forEach(et),vt.forEach(et)},getBuffer:function(ut){return ut&&ut._buffer instanceof ze?ut._buffer:null},restore:function(){pe(pt).forEach(function(ut){ut.buffer=He.createBuffer(),He.bindBuffer(ut.type,ut.buffer),He.bufferData(ut.type,ut.persistentData||ut.byteLength,ut.usage)})},_initBuffer:tt}}(ct,Dt,He,function(Ft){return Xt.destroyBuffer(Ft)}),nn=function p(He,We,rt,nt){function ze(ut){this.id=gt++,et[this.id]=this,this.buffer=ut,this.primType=4,this.type=this.vertCount=0}function Be(ut,wt,ct,ft,bt,It,Dt){var Nt;if(ut.buffer.bind(),wt?((Nt=Dt)||me(wt)&&(!t(wt)||me(wt.data))||(Nt=We.oes_element_index_uint?5125:5123),rt._initBuffer(ut.buffer,wt,ct,Nt,3)):(He.bufferData(34963,It,ct),ut.buffer.dtype=Nt||5121,ut.buffer.usage=ct,ut.buffer.dimension=3,ut.buffer.byteLength=It),Nt=Dt,!Dt){switch(ut.buffer.dtype){case 5121:case 5120:Nt=5121;break;case 5123:case 5122:Nt=5123;break;case 5125:case 5124:Nt=5125}ut.buffer.dtype=Nt}ut.type=Nt,0>(wt=bt)&&(wt=ut.buffer.byteLength,5123===Nt?wt>>=1:5125===Nt&&(wt>>=2)),ut.vertCount=wt,wt=ft,0>ft&&(wt=4,1===(ft=ut.buffer.dimension)&&(wt=0),2===ft&&(wt=1),3===ft&&(wt=4)),ut.primType=wt}function tt(ut){nt.elementsCount--,delete et[ut.id],ut.buffer.destroy(),ut.buffer=null}var et={},gt=0,pt={uint8:5121,uint16:5123};We.oes_element_index_uint&&(pt.uint32=5125),ze.prototype.bind=function(){this.buffer.bind()};var vt=[];return{create:function(ut,wt){function ct(It){if(It)if("number"==typeof It)ft(It),bt.primType=4,bt.vertCount=0|It,bt.type=5121;else{var Dt=null,Nt=35044,$t=-1,jt=-1,Yt=0,Gt=0;Array.isArray(It)||me(It)||t(It)?Dt=It:("data"in It&&(Dt=It.data),"usage"in It&&(Nt=we[It.usage]),"primitive"in It&&($t=Ee[It.primitive]),"count"in It&&(jt=0|It.count),"type"in It&&(Gt=pt[It.type]),"length"in It?Yt=0|It.length:(Yt=jt,5123===Gt||5122===Gt?Yt*=2:5125!==Gt&&5124!==Gt||(Yt*=4))),Be(bt,Dt,Nt,$t,jt,Yt,Gt)}else ft(),bt.primType=4,bt.vertCount=0,bt.type=5121;return ct}var ft=rt.create(null,34963,!0),bt=new ze(ft._buffer);return nt.elementsCount++,ct(ut),ct._reglType="elements",ct._elements=bt,ct.subdata=function(It,Dt){return ft.subdata(It,Dt),ct},ct.destroy=function(){tt(bt)},ct},createStream:function(ut){var wt=vt.pop();return wt||(wt=new ze(rt.create(null,34963,!0,!1)._buffer)),Be(wt,ut,35040,-1,-1,0,0),wt},destroyStream:function(ut){vt.push(ut)},getElements:function(ut){return"function"==typeof ut&&ut._elements instanceof ze?ut._elements:null},clear:function(){pe(et).forEach(tt)}}}(ct,$t,Ut,Dt),Xt=function L(He,We,rt,nt,ze,Be,tt){function et(){this.id=++vt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var ct=We.oes_vertex_array_object;this.vao=ct?ct.createVertexArrayOES():null,ut[this.id]=this,this.buffers=[]}var gt=rt.maxAttributes,pt=Array(gt);for(rt=0;rt<gt;++rt)pt[rt]=new E;var vt=0,ut={},wt={Record:E,scope:{},state:pt,currentVAO:null,targetVAO:null,restore:We.oes_vertex_array_object?function(){We.oes_vertex_array_object&&pe(ut).forEach(function(ct){ct.refresh()})}:function(){},createVAO:function(ct){function ft(It){var Dt;Array.isArray(It)?(Dt=It,bt.elements&&bt.ownsElements&&bt.elements.destroy(),bt.elements=null,bt.ownsElements=!1,bt.offset=0,bt.count=0,bt.instances=-1,bt.primitive=4):(It.elements?(Dt=It.elements,bt.ownsElements?("function"==typeof Dt&&"elements"===Dt._reglType?bt.elements.destroy():bt.elements(Dt),bt.ownsElements=!1):Be.getElements(It.elements)?(bt.elements=It.elements,bt.ownsElements=!1):(bt.elements=Be.create(It.elements),bt.ownsElements=!0)):(bt.elements=null,bt.ownsElements=!1),Dt=It.attributes,bt.offset=0,bt.count=-1,bt.instances=-1,bt.primitive=4,bt.elements&&(bt.count=bt.elements._elements.vertCount,bt.primitive=bt.elements._elements.primType),"offset"in It&&(bt.offset=0|It.offset),"count"in It&&(bt.count=0|It.count),"instances"in It&&(bt.instances=0|It.instances),"primitive"in It&&(bt.primitive=Ee[It.primitive])),It={};var Nt=bt.attributes;Nt.length=Dt.length;for(var $t=0;$t<Dt.length;++$t){var jt,Yt=Dt[$t],Gt=Nt[$t]=new E,hn=Yt.data||Yt;Array.isArray(hn)||me(hn)||t(hn)?(bt.buffers[$t]&&(jt=bt.buffers[$t],me(hn)&&jt._buffer.byteLength>=hn.byteLength?jt.subdata(hn):(jt.destroy(),bt.buffers[$t]=null)),bt.buffers[$t]||(jt=bt.buffers[$t]=ze.create(Yt,34962,!1,!0)),Gt.buffer=ze.getBuffer(jt),Gt.size=0|Gt.buffer.dimension,Gt.normalized=!1,Gt.type=Gt.buffer.dtype,Gt.offset=0,Gt.stride=0,Gt.divisor=0,Gt.state=1,It[$t]=1):ze.getBuffer(Yt)?(Gt.buffer=ze.getBuffer(Yt),Gt.size=0|Gt.buffer.dimension,Gt.normalized=!1,Gt.type=Gt.buffer.dtype,Gt.offset=0,Gt.stride=0,Gt.divisor=0,Gt.state=1):ze.getBuffer(Yt.buffer)?(Gt.buffer=ze.getBuffer(Yt.buffer),Gt.size=0|(+Yt.size||Gt.buffer.dimension),Gt.normalized=!!Yt.normalized||!1,Gt.type="type"in Yt?_e[Yt.type]:Gt.buffer.dtype,Gt.offset=0|(Yt.offset||0),Gt.stride=0|(Yt.stride||0),Gt.divisor=0|(Yt.divisor||0),Gt.state=1):"x"in Yt&&(Gt.x=+Yt.x||0,Gt.y=+Yt.y||0,Gt.z=+Yt.z||0,Gt.w=+Yt.w||0,Gt.state=2)}for(jt=0;jt<bt.buffers.length;++jt)!It[jt]&&bt.buffers[jt]&&(bt.buffers[jt].destroy(),bt.buffers[jt]=null);return bt.refresh(),ft}var bt=new et;return nt.vaoCount+=1,ft.destroy=function(){for(var It=0;It<bt.buffers.length;++It)bt.buffers[It]&&bt.buffers[It].destroy();bt.buffers.length=0,bt.ownsElements&&(bt.elements.destroy(),bt.elements=null,bt.ownsElements=!1),bt.destroy()},ft._vao=bt,ft._reglType="vao",ft(ct)},getVAO:function(ct){return"function"==typeof ct&&ct._vao?ct._vao:null},destroyBuffer:function(ct){for(var ft=0;ft<pt.length;++ft){var bt=pt[ft];bt.buffer===ct&&(He.disableVertexAttribArray(ft),bt.buffer=null)}},setVAO:We.oes_vertex_array_object?function(ct){ct!==wt.currentVAO&&(We.oes_vertex_array_object.bindVertexArrayOES(ct?ct.vao:null),wt.currentVAO=ct)}:function(ct){if(ct!==wt.currentVAO){if(ct)ct.bindAttrs();else{for(var ft=We.angle_instanced_arrays,bt=0;bt<pt.length;++bt){var It=pt[bt];It.buffer?(He.enableVertexAttribArray(bt),It.buffer.bind(),He.vertexAttribPointer(bt,It.size,It.type,It.normalized,It.stride,It.offfset),ft&&It.divisor&&ft.vertexAttribDivisorANGLE(bt,It.divisor)):(He.disableVertexAttribArray(bt),He.vertexAttrib4f(bt,It.x,It.y,It.z,It.w))}He.bindBuffer(34963,tt.elements?tt.elements.buffer.buffer:null)}wt.currentVAO=ct}},clear:We.oes_vertex_array_object?function(){pe(ut).forEach(function(ct){ct.destroy()})}:function(){}};return et.prototype.bindAttrs=function(){for(var ct=We.angle_instanced_arrays,ft=this.attributes,bt=0;bt<ft.length;++bt){var It=ft[bt];It.buffer?(He.enableVertexAttribArray(bt),He.bindBuffer(34962,It.buffer.buffer),He.vertexAttribPointer(bt,It.size,It.type,It.normalized,It.stride,It.offset),ct&&It.divisor&&ct.vertexAttribDivisorANGLE(bt,It.divisor)):(He.disableVertexAttribArray(bt),He.vertexAttrib4f(bt,It.x,It.y,It.z,It.w))}for(ct=ft.length;ct<gt;++ct)He.disableVertexAttribArray(ct);(ct=Be.getElements(this.elements))?He.bindBuffer(34963,ct.buffer.buffer):He.bindBuffer(34963,null)},et.prototype.refresh=function(){var ct=We.oes_vertex_array_object;ct&&(ct.bindVertexArrayOES(this.vao),this.bindAttrs(),wt.currentVAO=null,ct.bindVertexArrayOES(null))},et.prototype.destroy=function(){if(this.vao){var ct=We.oes_vertex_array_object;this===wt.currentVAO&&(wt.currentVAO=null,ct.bindVertexArrayOES(null)),ct.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ut[this.id]&&(delete ut[this.id],--nt.vaoCount)},wt}(ct,$t,on,Dt,Ut,nn,Gt),rn=function C(He,We,rt,nt){function ze(ft,bt,It,Dt){this.name=ft,this.id=bt,this.location=It,this.info=Dt}function Be(ft,bt){for(var It=0;It<ft.length;++It)if(ft[It].id===bt.id)return void(ft[It].location=bt.location);ft.push(bt)}function tt(ft,bt,It){if(!(Nt=(It=35632===ft?pt:vt)[bt])){var Dt=We.str(bt),Nt=He.createShader(ft);He.shaderSource(Nt,Dt),He.compileShader(Nt),It[bt]=Nt}return Nt}function et(ft,bt){this.id=ct++,this.fragId=ft,this.vertId=bt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,nt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function gt(ft,bt,It){var Dt;Dt=tt(35632,ft.fragId);var Nt=tt(35633,ft.vertId);if(bt=ft.program=He.createProgram(),He.attachShader(bt,Dt),He.attachShader(bt,Nt),It)for(Dt=0;Dt<It.length;++Dt)He.bindAttribLocation(bt,(Nt=It[Dt])[0],Nt[1]);He.linkProgram(bt),Nt=He.getProgramParameter(bt,35718),nt.profile&&(ft.stats.uniformsCount=Nt);var $t=ft.uniforms;for(Dt=0;Dt<Nt;++Dt)if(It=He.getActiveUniform(bt,Dt))if(1<It.size)for(var jt=0;jt<It.size;++jt){var Yt=It.name.replace("[0]","["+jt+"]");Be($t,new ze(Yt,We.id(Yt),He.getUniformLocation(bt,Yt),It))}else Be($t,new ze(It.name,We.id(It.name),He.getUniformLocation(bt,It.name),It));for(Nt=He.getProgramParameter(bt,35721),nt.profile&&(ft.stats.attributesCount=Nt),ft=ft.attributes,Dt=0;Dt<Nt;++Dt)(It=He.getActiveAttrib(bt,Dt))&&Be(ft,new ze(It.name,We.id(It.name),He.getAttribLocation(bt,It.name),It))}var pt={},vt={},ut={},wt=[],ct=0;return nt.profile&&(rt.getMaxUniformsCount=function(){var ft=0;return wt.forEach(function(bt){bt.stats.uniformsCount>ft&&(ft=bt.stats.uniformsCount)}),ft},rt.getMaxAttributesCount=function(){var ft=0;return wt.forEach(function(bt){bt.stats.attributesCount>ft&&(ft=bt.stats.attributesCount)}),ft}),{clear:function(){var ft=He.deleteShader.bind(He);pe(pt).forEach(ft),pt={},pe(vt).forEach(ft),vt={},wt.forEach(function(bt){He.deleteProgram(bt.program)}),wt.length=0,ut={},rt.shaderCount=0},program:function(ft,bt,It,Dt){var Nt=ut[bt];Nt||(Nt=ut[bt]={});var $t=Nt[ft];if($t&&($t.refCount++,!Dt))return $t;var jt=new et(bt,ft);return rt.shaderCount++,gt(jt,It,Dt),$t||(Nt[ft]=jt),wt.push(jt),$(jt,{destroy:function(){if(jt.refCount--,0>=jt.refCount){He.deleteProgram(jt.program);var Yt=wt.indexOf(jt);wt.splice(Yt,1),rt.shaderCount--}0>=Nt[jt.vertId].refCount&&(He.deleteShader(vt[jt.vertId]),delete vt[jt.vertId],delete ut[jt.fragId][jt.vertId]),Object.keys(ut[jt.fragId]).length||(He.deleteShader(pt[jt.fragId]),delete pt[jt.fragId],delete ut[jt.fragId])}})},restore:function(){pt={},vt={};for(var ft=0;ft<wt.length;++ft)gt(wt[ft],null,wt[ft].attributes.map(function(bt){return[bt.location,bt.name]}))},shader:tt,frag:-1,vert:-1}}(ct,It,Dt,He),fn=function S(He,We,rt,nt,ze,Be,tt){function et(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function gt(Vt,_n){Vt.internalformat=_n.internalformat,Vt.format=_n.format,Vt.type=_n.type,Vt.compressed=_n.compressed,Vt.premultiplyAlpha=_n.premultiplyAlpha,Vt.flipY=_n.flipY,Vt.unpackAlignment=_n.unpackAlignment,Vt.colorSpace=_n.colorSpace,Vt.width=_n.width,Vt.height=_n.height,Vt.channels=_n.channels}function pt(Vt,_n){if("object"==typeof _n&&_n){"premultiplyAlpha"in _n&&(Vt.premultiplyAlpha=_n.premultiplyAlpha),"flipY"in _n&&(Vt.flipY=_n.flipY),"alignment"in _n&&(Vt.unpackAlignment=_n.alignment),"colorSpace"in _n&&(Vt.colorSpace=En[_n.colorSpace]),"type"in _n&&(Vt.type=bn[_n.type]);var Mt=Vt.width,qt=Vt.height,Kt=Vt.channels,mn=!1;"shape"in _n?(Mt=_n.shape[0],qt=_n.shape[1],3===_n.shape.length&&(Kt=_n.shape[2],mn=!0)):("radius"in _n&&(Mt=qt=_n.radius),"width"in _n&&(Mt=_n.width),"height"in _n&&(qt=_n.height),"channels"in _n&&(Kt=_n.channels,mn=!0)),Vt.width=0|Mt,Vt.height=0|qt,Vt.channels=0|Kt,Mt=!1,"format"in _n&&(qt=Vt.internalformat=Ln[Mt=_n.format],Vt.format=cn[qt],Mt in bn&&!("type"in _n)&&(Vt.type=bn[Mt]),Mt in Wn&&(Vt.compressed=!0),Mt=!0),!mn&&Mt?Vt.channels=ce[Vt.format]:mn&&!Mt&&Vt.channels!==Fe[Vt.format]&&(Vt.format=Vt.internalformat=Fe[Vt.channels])}}function vt(Vt){He.pixelStorei(37440,Vt.flipY),He.pixelStorei(37441,Vt.premultiplyAlpha),He.pixelStorei(37443,Vt.colorSpace),He.pixelStorei(3317,Vt.unpackAlignment)}function ut(){et.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function wt(Vt,_n){var Mt=null;if(m(_n)?Mt=_n:_n&&(pt(Vt,_n),"x"in _n&&(Vt.xOffset=0|_n.x),"y"in _n&&(Vt.yOffset=0|_n.y),m(_n.data)&&(Mt=_n.data)),_n.copy){var qt=ze.viewportWidth,Kt=ze.viewportHeight;Vt.width=Vt.width||qt-Vt.xOffset,Vt.height=Vt.height||Kt-Vt.yOffset,Vt.needsCopy=!0}else if(Mt){if(me(Mt))Vt.channels=Vt.channels||4,Vt.data=Mt,"type"in _n||5121!==Vt.type||(Vt.type=0|Pe[Object.prototype.toString.call(Mt)]);else if(h(Mt)){switch(Vt.channels=Vt.channels||4,Kt=(qt=Mt).length,Vt.type){case 5121:case 5123:case 5125:case 5126:(Kt=xe.allocType(Vt.type,Kt)).set(qt),Vt.data=Kt;break;case 36193:Vt.data=c(qt)}Vt.alignment=1,Vt.needsFree=!0}else if(t(Mt)){qt=Mt.data,Array.isArray(qt)||5121!==Vt.type||(Vt.type=0|Pe[Object.prototype.toString.call(qt)]);var mn,xn,Mn,ln,Wt=Mt.stride;3===(Kt=Mt.shape).length?(Mn=Kt[2],ln=Wt[2]):ln=Mn=1,mn=Kt[0],xn=Kt[1],Kt=Wt[0],Wt=Wt[1],Vt.alignment=1,Vt.width=mn,Vt.height=xn,Vt.channels=Mn,Vt.format=Vt.internalformat=Fe[Mn],Vt.needsFree=!0,mn=ln,Mt=Mt.offset;for(var Jt=xe.allocType(36193===Vt.type?5126:Vt.type,(Mn=Vt.width)*(ln=Vt.height)*(xn=Vt.channels)),sn=0,un=0;un<ln;++un)for(var Sn=0;Sn<Mn;++Sn)for(var Cn=0;Cn<xn;++Cn)Jt[sn++]=qt[Kt*Sn+Wt*un+mn*Cn+Mt];_(Vt,Jt)}else if(v(Mt)===Te||v(Mt)===ve||v(Mt)===Ce)Vt.element=v(Mt)===Te||v(Mt)===ve?Mt:Mt.canvas,Vt.width=Vt.element.width,Vt.height=Vt.element.height,Vt.channels=4;else if(v(Mt)===Re)Vt.element=Mt,Vt.width=Mt.width,Vt.height=Mt.height,Vt.channels=4;else if(v(Mt)===Oe)Vt.element=Mt,Vt.width=Mt.naturalWidth,Vt.height=Mt.naturalHeight,Vt.channels=4;else if(v(Mt)===je)Vt.element=Mt,Vt.width=Mt.videoWidth,Vt.height=Mt.videoHeight,Vt.channels=4;else if(y(Mt)){for(qt=Vt.width||Mt[0].length,Kt=Vt.height||Mt.length,Wt=Vt.channels,Wt=x(Mt[0][0])?Wt||Mt[0][0].length:Wt||1,mn=ge.shape(Mt),Mn=1,ln=0;ln<mn.length;++ln)Mn*=mn[ln];Mn=xe.allocType(36193===Vt.type?5126:Vt.type,Mn),ge.flatten(Mt,mn,"",Mn),_(Vt,Mn),Vt.alignment=1,Vt.width=qt,Vt.height=Kt,Vt.channels=Wt,Vt.format=Vt.internalformat=Fe[Wt],Vt.needsFree=!0}}else Vt.width=Vt.width||1,Vt.height=Vt.height||1,Vt.channels=Vt.channels||4}function ct(Vt,_n,Mt,qt,Kt){var mn=Vt.element,xn=Vt.data,Mn=Vt.internalformat,ln=Vt.format,Wt=Vt.type,Jt=Vt.width,sn=Vt.height;vt(Vt),mn?He.texSubImage2D(_n,Kt,Mt,qt,ln,Wt,mn):Vt.compressed?He.compressedTexSubImage2D(_n,Kt,Mt,qt,Mn,Jt,sn,xn):Vt.needsCopy?(nt(),He.copyTexSubImage2D(_n,Kt,Mt,qt,Vt.xOffset,Vt.yOffset,Jt,sn)):He.texSubImage2D(_n,Kt,Mt,qt,Jt,sn,ln,Wt,xn)}function ft(){return dn.pop()||new ut}function bt(Vt){Vt.needsFree&&xe.freeType(Vt.data),ut.call(Vt),dn.push(Vt)}function It(){et.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Dt(Vt,_n,Mt){var qt=Vt.images[0]=ft();Vt.mipmask=1,qt.width=Vt.width=_n,qt.height=Vt.height=Mt,qt.channels=Vt.channels=4}function Nt(Vt,_n){var Mt=null;if(m(_n))gt(Mt=Vt.images[0]=ft(),Vt),wt(Mt,_n),Vt.mipmask=1;else if(pt(Vt,_n),Array.isArray(_n.mipmap))for(var qt=_n.mipmap,Kt=0;Kt<qt.length;++Kt)gt(Mt=Vt.images[Kt]=ft(),Vt),Mt.width>>=Kt,Mt.height>>=Kt,wt(Mt,qt[Kt]),Vt.mipmask|=1<<Kt;else gt(Mt=Vt.images[0]=ft(),Vt),wt(Mt,_n),Vt.mipmask=1;gt(Vt,Vt.images[0])}function $t(Vt,_n){for(var Mt=Vt.images,qt=0;qt<Mt.length&&Mt[qt];++qt){var Kt=Mt[qt],mn=_n,xn=qt,Mn=Kt.element,ln=Kt.data,Wt=Kt.internalformat,Jt=Kt.format,sn=Kt.type,un=Kt.width,Sn=Kt.height;vt(Kt),Mn?He.texImage2D(mn,xn,Jt,Jt,sn,Mn):Kt.compressed?He.compressedTexImage2D(mn,xn,Wt,un,Sn,0,ln):Kt.needsCopy?(nt(),He.copyTexImage2D(mn,xn,Jt,Kt.xOffset,Kt.yOffset,un,Sn,0)):He.texImage2D(mn,xn,Jt,un,Sn,0,Jt,sn,ln||null)}}function jt(){var Vt=kn.pop()||new It;et.call(Vt);for(var _n=Vt.mipmask=0;16>_n;++_n)Vt.images[_n]=null;return Vt}function Yt(Vt){for(var _n=Vt.images,Mt=0;Mt<_n.length;++Mt)_n[Mt]&&bt(_n[Mt]),_n[Mt]=null;kn.push(Vt)}function Gt(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function hn(Vt,_n){"min"in _n&&(Vt.minFilter=An[_n.min],0<=Ie.indexOf(Vt.minFilter)&&!("faces"in _n)&&(Vt.genMipmaps=!0)),"mag"in _n&&(Vt.magFilter=gn[_n.mag]);var Mt=Vt.wrapS,qt=Vt.wrapT;if("wrap"in _n){var Kt=_n.wrap;"string"==typeof Kt?Mt=qt=fn[Kt]:Array.isArray(Kt)&&(Mt=fn[Kt[0]],qt=fn[Kt[1]])}else"wrapS"in _n&&(Mt=fn[_n.wrapS]),"wrapT"in _n&&(qt=fn[_n.wrapT]);if(Vt.wrapS=Mt,Vt.wrapT=qt,"anisotropic"in _n&&(Vt.anisotropic=_n.anisotropic),"mipmap"in _n){switch(Mt=!1,typeof _n.mipmap){case"string":Vt.mipmapHint=rn[_n.mipmap],Mt=Vt.genMipmaps=!0;break;case"boolean":Mt=Vt.genMipmaps=_n.mipmap;break;case"object":Vt.genMipmaps=!1,Mt=!0}!Mt||"min"in _n||(Vt.minFilter=9984)}}function yn(Vt,_n){He.texParameteri(_n,10241,Vt.minFilter),He.texParameteri(_n,10240,Vt.magFilter),He.texParameteri(_n,10242,Vt.wrapS),He.texParameteri(_n,10243,Vt.wrapT),We.ext_texture_filter_anisotropic&&He.texParameteri(_n,34046,Vt.anisotropic),Vt.genMipmaps&&(He.hint(33170,Vt.mipmapHint),He.generateMipmap(_n))}function on(Vt){et.call(this),this.mipmask=0,this.internalformat=6408,this.id=Vn++,this.refCount=1,this.target=Vt,this.texture=He.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Gt,tt.profile&&(this.stats={size:0})}function Ut(Vt){He.activeTexture(33984),He.bindTexture(Vt.target,Vt.texture)}function nn(){var Vt=Kn[0];Vt?He.bindTexture(Vt.target,Vt.texture):He.bindTexture(3553,null)}function Xt(Vt){var _n=Vt.texture,Mt=Vt.unit,qt=Vt.target;0<=Mt&&(He.activeTexture(33984+Mt),He.bindTexture(qt,null),Kn[Mt]=null),He.deleteTexture(_n),Vt.texture=null,Vt.params=null,Vt.pixels=null,Vt.refCount=0,delete In[Vt.id],Be.textureCount--}var rn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},fn={repeat:10497,clamp:33071,mirror:33648},gn={nearest:9728,linear:9729},An=$({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},gn),En={none:0,browser:37444},bn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Ln={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Wn={};We.ext_srgb&&(Ln.srgb=35904,Ln.srgba=35906),We.oes_texture_float&&(bn.float32=bn.float=5126),We.oes_texture_half_float&&(bn.float16=bn["half float"]=36193),We.webgl_depth_texture&&($(Ln,{depth:6402,"depth stencil":34041}),$(bn,{uint16:5123,uint32:5125,"depth stencil":34042})),We.webgl_compressed_texture_s3tc&&$(Wn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),We.webgl_compressed_texture_atc&&$(Wn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),We.webgl_compressed_texture_pvrtc&&$(Wn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),We.webgl_compressed_texture_etc1&&(Wn["rgb etc1"]=36196);var Qn=Array.prototype.slice.call(He.getParameter(34467));Object.keys(Wn).forEach(function(Vt){var _n=Wn[Vt];0<=Qn.indexOf(_n)&&(Ln[Vt]=_n)});var ir=Object.keys(Ln);rt.textureFormats=ir;var $n=[];Object.keys(Ln).forEach(function(Vt){$n[Ln[Vt]]=Vt});var qn=[];Object.keys(bn).forEach(function(Vt){qn[bn[Vt]]=Vt});var dr=[];Object.keys(gn).forEach(function(Vt){dr[gn[Vt]]=Vt});var Ft=[];Object.keys(An).forEach(function(Vt){Ft[An[Vt]]=Vt});var tn=[];Object.keys(fn).forEach(function(Vt){tn[fn[Vt]]=Vt});var cn=ir.reduce(function(Vt,_n){var Mt=Ln[_n];return Vt[Mt]=6409===Mt||6406===Mt||6409===Mt||6410===Mt||6402===Mt||34041===Mt||We.ext_srgb&&(35904===Mt||35906===Mt)?Mt:32855===Mt||0<=_n.indexOf("rgba")?6408:6407,Vt},{}),dn=[],kn=[],Vn=0,In={},Dn=rt.maxTextureUnits,Kn=Array(Dn).map(function(){return null});return $(on.prototype,{bind:function(){this.bindCount+=1;var Vt=this.unit;if(0>Vt){for(var _n=0;_n<Dn;++_n){var Mt=Kn[_n];if(Mt){if(0<Mt.bindCount)continue;Mt.unit=-1}Kn[_n]=this,Vt=_n;break}tt.profile&&Be.maxTextureUnits<Vt+1&&(Be.maxTextureUnits=Vt+1),this.unit=Vt,He.activeTexture(33984+Vt),He.bindTexture(this.target,this.texture)}return Vt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&Xt(this)}}),tt.profile&&(Be.getTotalTextureSize=function(){var Vt=0;return Object.keys(In).forEach(function(_n){Vt+=In[_n].stats.size}),Vt}),{create2D:function(Vt,_n){function Mt(Kt,mn){var xn=qt.texInfo;Gt.call(xn);var Mn=jt();return"number"==typeof Kt?Dt(Mn,0|Kt,"number"==typeof mn?0|mn:0|Kt):Kt?(hn(xn,Kt),Nt(Mn,Kt)):Dt(Mn,1,1),xn.genMipmaps&&(Mn.mipmask=(Mn.width<<1)-1),qt.mipmask=Mn.mipmask,gt(qt,Mn),qt.internalformat=Mn.internalformat,Mt.width=Mn.width,Mt.height=Mn.height,Ut(qt),$t(Mn,3553),yn(xn,3553),nn(),Yt(Mn),tt.profile&&(qt.stats.size=f(qt.internalformat,qt.type,Mn.width,Mn.height,xn.genMipmaps,!1)),Mt.format=$n[qt.internalformat],Mt.type=qn[qt.type],Mt.mag=dr[xn.magFilter],Mt.min=Ft[xn.minFilter],Mt.wrapS=tn[xn.wrapS],Mt.wrapT=tn[xn.wrapT],Mt}var qt=new on(3553);return In[qt.id]=qt,Be.textureCount++,Mt(Vt,_n),Mt.subimage=function(Kt,mn,xn,Mn){mn|=0,xn|=0,Mn|=0;var ln=ft();return gt(ln,qt),ln.width=0,ln.height=0,wt(ln,Kt),ln.width=ln.width||(qt.width>>Mn)-mn,ln.height=ln.height||(qt.height>>Mn)-xn,Ut(qt),ct(ln,3553,mn,xn,Mn),nn(),bt(ln),Mt},Mt.resize=function(Kt,mn){var xn=0|Kt,Mn=0|mn||xn;if(xn===qt.width&&Mn===qt.height)return Mt;Mt.width=qt.width=xn,Mt.height=qt.height=Mn,Ut(qt);for(var ln=0;qt.mipmask>>ln;++ln){var Wt=xn>>ln,Jt=Mn>>ln;if(!Wt||!Jt)break;He.texImage2D(3553,ln,qt.format,Wt,Jt,0,qt.format,qt.type,null)}return nn(),tt.profile&&(qt.stats.size=f(qt.internalformat,qt.type,xn,Mn,!1,!1)),Mt},Mt._reglType="texture2d",Mt._texture=qt,tt.profile&&(Mt.stats=qt.stats),Mt.destroy=function(){qt.decRef()},Mt},createCube:function(Vt,_n,Mt,qt,Kt,mn){function xn(Wt,Jt,sn,un,Sn,Cn){var jn,Fn=Mn.texInfo;for(Gt.call(Fn),jn=0;6>jn;++jn)ln[jn]=jt();if("number"!=typeof Wt&&Wt){if("object"==typeof Wt)if(Jt)Nt(ln[0],Wt),Nt(ln[1],Jt),Nt(ln[2],sn),Nt(ln[3],un),Nt(ln[4],Sn),Nt(ln[5],Cn);else if(hn(Fn,Wt),pt(Mn,Wt),"faces"in Wt)for(Wt=Wt.faces,jn=0;6>jn;++jn)gt(ln[jn],Mn),Nt(ln[jn],Wt[jn]);else for(jn=0;6>jn;++jn)Nt(ln[jn],Wt)}else for(Wt=0|Wt||1,jn=0;6>jn;++jn)Dt(ln[jn],Wt,Wt);for(gt(Mn,ln[0]),Mn.mipmask=Fn.genMipmaps?(ln[0].width<<1)-1:ln[0].mipmask,Mn.internalformat=ln[0].internalformat,xn.width=ln[0].width,xn.height=ln[0].height,Ut(Mn),jn=0;6>jn;++jn)$t(ln[jn],34069+jn);for(yn(Fn,34067),nn(),tt.profile&&(Mn.stats.size=f(Mn.internalformat,Mn.type,xn.width,xn.height,Fn.genMipmaps,!0)),xn.format=$n[Mn.internalformat],xn.type=qn[Mn.type],xn.mag=dr[Fn.magFilter],xn.min=Ft[Fn.minFilter],xn.wrapS=tn[Fn.wrapS],xn.wrapT=tn[Fn.wrapT],jn=0;6>jn;++jn)Yt(ln[jn]);return xn}var Mn=new on(34067);In[Mn.id]=Mn,Be.cubeCount++;var ln=Array(6);return xn(Vt,_n,Mt,qt,Kt,mn),xn.subimage=function(Wt,Jt,sn,un,Sn){sn|=0,un|=0,Sn|=0;var Cn=ft();return gt(Cn,Mn),Cn.width=0,Cn.height=0,wt(Cn,Jt),Cn.width=Cn.width||(Mn.width>>Sn)-sn,Cn.height=Cn.height||(Mn.height>>Sn)-un,Ut(Mn),ct(Cn,34069+Wt,sn,un,Sn),nn(),bt(Cn),xn},xn.resize=function(Wt){if((Wt|=0)!==Mn.width){xn.width=Mn.width=Wt,xn.height=Mn.height=Wt,Ut(Mn);for(var Jt=0;6>Jt;++Jt)for(var sn=0;Mn.mipmask>>sn;++sn)He.texImage2D(34069+Jt,sn,Mn.format,Wt>>sn,Wt>>sn,0,Mn.format,Mn.type,null);return nn(),tt.profile&&(Mn.stats.size=f(Mn.internalformat,Mn.type,xn.width,xn.height,!1,!0)),xn}},xn._reglType="textureCube",xn._texture=Mn,tt.profile&&(xn.stats=Mn.stats),xn.destroy=function(){Mn.decRef()},xn},clear:function(){for(var Vt=0;Vt<Dn;++Vt)He.activeTexture(33984+Vt),He.bindTexture(3553,null),Kn[Vt]=null;pe(In).forEach(Xt),Be.cubeCount=0,Be.textureCount=0},getTexture:function(Vt){return null},restore:function(){for(var Vt=0;Vt<Dn;++Vt){var _n=Kn[Vt];_n&&(_n.bindCount=0,_n.unit=-1,Kn[Vt]=null)}pe(In).forEach(function(Mt){Mt.texture=He.createTexture(),He.bindTexture(Mt.target,Mt.texture);for(var qt=0;32>qt;++qt)if(Mt.mipmask&1<<qt)if(3553===Mt.target)He.texImage2D(3553,qt,Mt.internalformat,Mt.width>>qt,Mt.height>>qt,0,Mt.internalformat,Mt.type,null);else for(var Kt=0;6>Kt;++Kt)He.texImage2D(34069+Kt,qt,Mt.internalformat,Mt.width>>qt,Mt.height>>qt,0,Mt.internalformat,Mt.type,null);yn(Mt.texInfo,Mt.target)})},refresh:function(){for(var Vt=0;Vt<Dn;++Vt){var _n=Kn[Vt];_n&&(_n.bindCount=0,_n.unit=-1,Kn[Vt]=null),He.activeTexture(33984+Vt),He.bindTexture(3553,null),He.bindTexture(34067,null)}}}}(ct,$t,on,function(){En.procs.poll()},yn,Dt,He),gn=function(He,We,rt,nt,ze){function Be(ut){this.id=pt++,this.refCount=1,this.renderbuffer=ut,this.format=32854,this.height=this.width=0,ze.profile&&(this.stats={size:0})}function tt(ut){var wt=ut.renderbuffer;He.bindRenderbuffer(36161,null),He.deleteRenderbuffer(wt),ut.renderbuffer=null,ut.refCount=0,delete vt[ut.id],nt.renderbufferCount--}var et={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};We.ext_srgb&&(et.srgba=35907),We.ext_color_buffer_half_float&&(et.rgba16f=34842,et.rgb16f=34843),We.webgl_color_buffer_float&&(et.rgba32f=34836);var gt=[];Object.keys(et).forEach(function(ut){gt[et[ut]]=ut});var pt=0,vt={};return Be.prototype.decRef=function(){0>=--this.refCount&&tt(this)},ze.profile&&(nt.getTotalRenderbufferSize=function(){var ut=0;return Object.keys(vt).forEach(function(wt){ut+=vt[wt].stats.size}),ut}),{create:function(ut,wt){function ct(bt,It){var Dt=0,Nt=0,$t=32854;if("object"==typeof bt&&bt?("shape"in bt?(Dt=0|(Nt=bt.shape)[0],Nt=0|Nt[1]):("radius"in bt&&(Dt=Nt=0|bt.radius),"width"in bt&&(Dt=0|bt.width),"height"in bt&&(Nt=0|bt.height)),"format"in bt&&($t=et[bt.format])):"number"==typeof bt?(Dt=0|bt,Nt="number"==typeof It?0|It:Dt):bt||(Dt=Nt=1),Dt!==ft.width||Nt!==ft.height||$t!==ft.format)return ct.width=ft.width=Dt,ct.height=ft.height=Nt,ft.format=$t,He.bindRenderbuffer(36161,ft.renderbuffer),He.renderbufferStorage(36161,$t,Dt,Nt),ze.profile&&(ft.stats.size=Qe[ft.format]*ft.width*ft.height),ct.format=gt[ft.format],ct}var ft=new Be(He.createRenderbuffer());return vt[ft.id]=ft,nt.renderbufferCount++,ct(ut,wt),ct.resize=function(bt,It){var Dt=0|bt,Nt=0|It||Dt;return Dt===ft.width&&Nt===ft.height||(ct.width=ft.width=Dt,ct.height=ft.height=Nt,He.bindRenderbuffer(36161,ft.renderbuffer),He.renderbufferStorage(36161,ft.format,Dt,Nt),ze.profile&&(ft.stats.size=Qe[ft.format]*ft.width*ft.height)),ct},ct._reglType="renderbuffer",ct._renderbuffer=ft,ze.profile&&(ct.stats=ft.stats),ct.destroy=function(){ft.decRef()},ct},clear:function(){pe(vt).forEach(tt)},restore:function(){pe(vt).forEach(function(ut){ut.renderbuffer=He.createRenderbuffer(),He.bindRenderbuffer(36161,ut.renderbuffer),He.renderbufferStorage(36161,ut.format,ut.width,ut.height)}),He.bindRenderbuffer(36161,null)}}}(ct,$t,0,Dt,He),An=function w(He,We,rt,nt,ze,Be){function tt(on,Ut,nn){this.target=on,this.texture=Ut,this.renderbuffer=nn;var Xt=on=0;Ut?(on=Ut.width,Xt=Ut.height):nn&&(on=nn.width,Xt=nn.height),this.width=on,this.height=Xt}function et(on){on&&(on.texture&&on.texture._texture.decRef(),on.renderbuffer&&on.renderbuffer._renderbuffer.decRef())}function gt(on,Ut,nn){on&&(on.texture?on.texture._texture.refCount+=1:on.renderbuffer._renderbuffer.refCount+=1)}function pt(on,Ut){Ut&&(Ut.texture?He.framebufferTexture2D(36160,on,Ut.target,Ut.texture._texture.texture,0):He.framebufferRenderbuffer(36160,on,36161,Ut.renderbuffer._renderbuffer.renderbuffer))}function vt(on){var Ut=3553,nn=null,Xt=null,rn=on;return"object"==typeof on&&(rn=on.data,"target"in on&&(Ut=0|on.target)),"texture2d"===(on=rn._reglType)||"textureCube"===on?nn=rn:"renderbuffer"===on&&(Xt=rn,Ut=36161),new tt(Ut,nn,Xt)}function ut(on,Ut,nn,Xt,rn){return nn?((on=nt.create2D({width:on,height:Ut,format:Xt,type:rn}))._texture.refCount=0,new tt(3553,on,null)):((on=ze.create({width:on,height:Ut,format:Xt}))._renderbuffer.refCount=0,new tt(36161,null,on))}function wt(on){return on&&(on.texture||on.renderbuffer)}function ct(on,Ut,nn){on&&(on.texture?on.texture.resize(Ut,nn):on.renderbuffer&&on.renderbuffer.resize(Ut,nn),on.width=Ut,on.height=nn)}function ft(){this.id=hn++,yn[this.id]=this,this.framebuffer=He.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function bt(on){on.colorAttachments.forEach(et),et(on.depthAttachment),et(on.stencilAttachment),et(on.depthStencilAttachment)}function It(on){He.deleteFramebuffer(on.framebuffer),on.framebuffer=null,Be.framebufferCount--,delete yn[on.id]}function Dt(on){var Ut;He.bindFramebuffer(36160,on.framebuffer);var nn=on.colorAttachments;for(Ut=0;Ut<nn.length;++Ut)pt(36064+Ut,nn[Ut]);for(Ut=nn.length;Ut<rt.maxColorAttachments;++Ut)He.framebufferTexture2D(36160,36064+Ut,3553,null,0);He.framebufferTexture2D(36160,33306,3553,null,0),He.framebufferTexture2D(36160,36096,3553,null,0),He.framebufferTexture2D(36160,36128,3553,null,0),pt(36096,on.depthAttachment),pt(36128,on.stencilAttachment),pt(33306,on.depthStencilAttachment),He.checkFramebufferStatus(36160),He.isContextLost(),He.bindFramebuffer(36160,$t.next?$t.next.framebuffer:null),$t.cur=$t.next,He.getError()}function Nt(on,Ut){function nn(rn,fn){var gn,An=0,En=0,bn=!0,Ln=!0;gn=null;var Wn=!0,Qn="rgba",ir="uint8",$n=1,qn=null,dr=null,Ft=null,tn=!1;"number"==typeof rn?(An=0|rn,En=0|fn||An):rn?("shape"in rn?(An=(En=rn.shape)[0],En=En[1]):("radius"in rn&&(An=En=rn.radius),"width"in rn&&(An=rn.width),"height"in rn&&(En=rn.height)),("color"in rn||"colors"in rn)&&(gn=rn.color||rn.colors,Array.isArray(gn)),gn||("colorCount"in rn&&($n=0|rn.colorCount),"colorTexture"in rn&&(Wn=!!rn.colorTexture,Qn="rgba4"),"colorType"in rn&&(ir=rn.colorType,!Wn)&&("half float"===ir||"float16"===ir?Qn="rgba16f":"float"!==ir&&"float32"!==ir||(Qn="rgba32f")),"colorFormat"in rn&&(0<=jt.indexOf(Qn=rn.colorFormat)?Wn=!0:0<=Yt.indexOf(Qn)&&(Wn=!1))),("depthTexture"in rn||"depthStencilTexture"in rn)&&(tn=!(!rn.depthTexture&&!rn.depthStencilTexture)),"depth"in rn&&("boolean"==typeof rn.depth?bn=rn.depth:(qn=rn.depth,Ln=!1)),"stencil"in rn&&("boolean"==typeof rn.stencil?Ln=rn.stencil:(dr=rn.stencil,bn=!1)),"depthStencil"in rn&&("boolean"==typeof rn.depthStencil?bn=Ln=rn.depthStencil:(Ft=rn.depthStencil,Ln=bn=!1))):An=En=1;var cn=null,dn=null,kn=null,Vn=null;if(Array.isArray(gn))cn=gn.map(vt);else if(gn)cn=[vt(gn)];else for(cn=Array($n),gn=0;gn<$n;++gn)cn[gn]=ut(An,En,Wn,Qn,ir);for(An=An||cn[0].width,En=En||cn[0].height,qn?dn=vt(qn):bn&&!Ln&&(dn=ut(An,En,tn,"depth","uint32")),dr?kn=vt(dr):Ln&&!bn&&(kn=ut(An,En,!1,"stencil","uint8")),Ft?Vn=vt(Ft):!qn&&!dr&&Ln&&bn&&(Vn=ut(An,En,tn,"depth stencil","depth stencil")),bn=null,gn=0;gn<cn.length;++gn)gt(cn[gn]),cn[gn]&&cn[gn].texture&&(Ln=yt[cn[gn].texture._texture.format]*mt[cn[gn].texture._texture.type],null===bn&&(bn=Ln));return gt(dn),gt(kn),gt(Vn),bt(Xt),Xt.width=An,Xt.height=En,Xt.colorAttachments=cn,Xt.depthAttachment=dn,Xt.stencilAttachment=kn,Xt.depthStencilAttachment=Vn,nn.color=cn.map(wt),nn.depth=wt(dn),nn.stencil=wt(kn),nn.depthStencil=wt(Vn),nn.width=Xt.width,nn.height=Xt.height,Dt(Xt),nn}var Xt=new ft;return Be.framebufferCount++,nn(on,Ut),$(nn,{resize:function(rn,fn){var gn=Math.max(0|rn,1),An=Math.max(0|fn||gn,1);if(gn===Xt.width&&An===Xt.height)return nn;for(var En=Xt.colorAttachments,bn=0;bn<En.length;++bn)ct(En[bn],gn,An);return ct(Xt.depthAttachment,gn,An),ct(Xt.stencilAttachment,gn,An),ct(Xt.depthStencilAttachment,gn,An),Xt.width=nn.width=gn,Xt.height=nn.height=An,Dt(Xt),nn},_reglType:"framebuffer",_framebuffer:Xt,destroy:function(){It(Xt),bt(Xt)},use:function(rn){$t.setFBO({framebuffer:nn},rn)}})}var $t={cur:null,next:null,dirty:!1,setFBO:null},jt=["rgba"],Yt=["rgba4","rgb565","rgb5 a1"];We.ext_srgb&&Yt.push("srgba"),We.ext_color_buffer_half_float&&Yt.push("rgba16f","rgb16f"),We.webgl_color_buffer_float&&Yt.push("rgba32f");var Gt=["uint8"];We.oes_texture_half_float&&Gt.push("half float","float16"),We.oes_texture_float&&Gt.push("float","float32");var hn=0,yn={};return $($t,{getFramebuffer:function(on){return"function"==typeof on&&"framebuffer"===on._reglType&&(on=on._framebuffer)instanceof ft?on:null},create:Nt,createCube:function(on){function Ut(Xt){var rn,fn={color:null},gn=0,An=null;rn="rgba";var En="uint8",bn=1;if("number"==typeof Xt?gn=0|Xt:Xt?("shape"in Xt?gn=Xt.shape[0]:("radius"in Xt&&(gn=0|Xt.radius),"width"in Xt?gn=0|Xt.width:"height"in Xt&&(gn=0|Xt.height)),("color"in Xt||"colors"in Xt)&&(An=Xt.color||Xt.colors,Array.isArray(An)),An||("colorCount"in Xt&&(bn=0|Xt.colorCount),"colorType"in Xt&&(En=Xt.colorType),"colorFormat"in Xt&&(rn=Xt.colorFormat)),"depth"in Xt&&(fn.depth=Xt.depth),"stencil"in Xt&&(fn.stencil=Xt.stencil),"depthStencil"in Xt&&(fn.depthStencil=Xt.depthStencil)):gn=1,An)if(Array.isArray(An))for(Xt=[],rn=0;rn<An.length;++rn)Xt[rn]=An[rn];else Xt=[An];else for(Xt=Array(bn),An={radius:gn,format:rn,type:En},rn=0;rn<bn;++rn)Xt[rn]=nt.createCube(An);for(fn.color=Array(Xt.length),rn=0;rn<Xt.length;++rn)bn=Xt[rn],gn=gn||bn.width,fn.color[rn]={target:34069,data:Xt[rn]};for(rn=0;6>rn;++rn){for(bn=0;bn<Xt.length;++bn)fn.color[bn].target=34069+rn;0<rn&&(fn.depth=nn[0].depth,fn.stencil=nn[0].stencil,fn.depthStencil=nn[0].depthStencil),nn[rn]?nn[rn](fn):nn[rn]=Nt(fn)}return $(Ut,{width:gn,height:gn,color:Xt})}var nn=Array(6);return Ut(on),$(Ut,{faces:nn,resize:function(Xt){var rn=0|Xt;if(rn===Ut.width)return Ut;var fn=Ut.color;for(Xt=0;Xt<fn.length;++Xt)fn[Xt].resize(rn);for(Xt=0;6>Xt;++Xt)nn[Xt].resize(rn);return Ut.width=Ut.height=rn,Ut},_reglType:"framebufferCube",destroy:function(){nn.forEach(function(Xt){Xt.destroy()})}})},clear:function(){pe(yn).forEach(It)},restore:function(){$t.cur=null,$t.next=null,$t.dirty=!0,pe(yn).forEach(function(on){on.framebuffer=He.createFramebuffer(),Dt(on)})}})}(ct,$t,on,fn,gn,Dt),En=Y(ct,It,$t,on,Ut,nn,0,An,{},Xt,rn,Gt,yn,jt,Nt,He),bn=(It=function O(He,We,rt,nt,ze,Be,tt){function et(gt){var pt;pt=null===We.next?5121:We.next.colorAttachments[0].texture._texture.type;var vt=0,ut=0,wt=nt.framebufferWidth,ct=nt.framebufferHeight,ft=null;return me(gt)?ft=gt:gt&&(vt=0|gt.x,ut=0|gt.y,wt=0|(gt.width||nt.framebufferWidth-vt),ct=0|(gt.height||nt.framebufferHeight-ut),ft=gt.data||null),rt(),gt=wt*ct*4,ft||(5121===pt?ft=new Uint8Array(gt):5126===pt&&(ft=ft||new Float32Array(gt))),He.pixelStorei(3333,4),He.readPixels(vt,ut,wt,ct,6408,pt,ft),ft}return function(gt){return gt&&"framebuffer"in gt?(We.setFBO({framebuffer:(pt=gt).framebuffer},function(){vt=et(pt)}),vt):et(gt);var pt,vt}}(ct,An,En.procs.poll,yn),En.next),Ln=ct.canvas,Wn=[],Qn=[],ir=[],$n=[He.onDestroy],qn=null;Ln&&(Ln.addEventListener("webglcontextlost",ze,!1),Ln.addEventListener("webglcontextrestored",Be,!1));var dr=An.setFBO=tt({framebuffer:re.define.call(null,1,"framebuffer")});return ut(),ft=$(tt,{clear:function(Ft){if("framebuffer"in Ft)if(Ft.framebuffer&&"framebufferCube"===Ft.framebuffer_reglType)for(var tn=0;6>tn;++tn)dr($({framebuffer:Ft.framebuffer.faces[tn]},Ft),et);else dr(Ft,et);else et(0,Ft)},prop:re.define.bind(null,1),context:re.define.bind(null,2),this:re.define.bind(null,3),draw:tt({}),buffer:function(Ft){return Ut.create(Ft,34962,!1,!1)},elements:function(Ft){return nn.create(Ft,!1)},texture:fn.create2D,cube:fn.createCube,renderbuffer:gn.create,framebuffer:An.create,framebufferCube:An.createCube,vao:Xt.createVAO,attributes:ft,frame:gt,on:function(Ft,tn){var cn;switch(Ft){case"frame":return gt(tn);case"lost":cn=Qn;break;case"restore":cn=ir;break;case"destroy":cn=$n}return cn.push(tn),{cancel:function(){for(var dn=0;dn<cn.length;++dn)if(cn[dn]===tn){cn[dn]=cn[cn.length-1],cn.pop();break}}}},limits:on,hasExtension:function(Ft){return 0<=on.extensions.indexOf(Ft.toLowerCase())},read:It,destroy:function(){Wn.length=0,nt(),Ln&&(Ln.removeEventListener("webglcontextlost",ze),Ln.removeEventListener("webglcontextrestored",Be)),rn.clear(),An.clear(),gn.clear(),Xt.clear(),fn.clear(),nn.clear(),Ut.clear(),jt&&jt.clear(),$n.forEach(function(Ft){Ft()})},_gl:ct,_refresh:ut,poll:function(){vt(),jt&&jt.update()},now:wt,stats:Dt,getCachedCode:function(){return Nt},preloadCachedCode:function(Ft){Object.entries(Ft).forEach(function(tn){Nt[tn[0]]=tn[1]})}}),He.onDone(null,ft),ft}}()},71665:function(ee,D,e){var A=e(12856),k=A.Buffer;function l(b,d){for(var a in b)d[a]=b[a]}function T(b,d,a){return k(b,d,a)}k.from&&k.alloc&&k.allocUnsafe&&k.allocUnsafeSlow?ee.exports=A:(l(A,D),D.Buffer=T),T.prototype=Object.create(k.prototype),l(k,T),T.from=function(b,d,a){if("number"==typeof b)throw new TypeError("Argument must not be a number");return k(b,d,a)},T.alloc=function(b,d,a){if("number"!=typeof b)throw new TypeError("Argument must be a number");var t=k(b);return void 0!==d?"string"==typeof a?t.fill(d,a):t.fill(d):t.fill(0),t},T.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return k(b)},T.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return A.SlowBuffer(b)}},21630:function(ee,D,e){ee.exports=k;var A=e(15398).EventEmitter;function k(){A.call(this)}e(42018)(k,A),k.Readable=e(40410),k.Writable=e(37493),k.Duplex=e(37865),k.Transform=e(74308),k.PassThrough=e(66897),k.finished=e(12726),k.pipeline=e(10168),k.Stream=k,k.prototype.pipe=function(l,T){var b=this;function d(s){l.writable&&!1===l.write(s)&&b.pause&&b.pause()}function a(){b.readable&&b.resume&&b.resume()}b.on("data",d),l.on("drain",a),l._isStdio||T&&!1===T.end||(b.on("end",i),b.on("close",r));var t=!1;function i(){t||(t=!0,l.end())}function r(){t||(t=!0,"function"==typeof l.destroy&&l.destroy())}function n(s){if(o(),0===A.listenerCount(this,"error"))throw s}function o(){b.removeListener("data",d),l.removeListener("drain",a),b.removeListener("end",i),b.removeListener("close",r),b.removeListener("error",n),l.removeListener("error",n),b.removeListener("end",o),b.removeListener("close",o),l.removeListener("close",o)}return b.on("error",n),l.on("error",n),b.on("end",o),b.on("close",o),l.on("close",o),l.emit("pipe",b),l}},74322:function(ee){"use strict";var D={};function e(k,l,T){T||(T=Error);var b=function(d){var a,t;function i(r,n,o){return d.call(this,"string"==typeof l?l:l(r,n,o))||this}return t=d,(a=i).prototype=Object.create(t.prototype),a.prototype.constructor=a,a.__proto__=t,i}(T);b.prototype.name=T.name,b.prototype.code=k,D[k]=b}function A(k,l){if(Array.isArray(k)){var T=k.length;return k=k.map(function(b){return String(b)}),T>2?"one of ".concat(l," ").concat(k.slice(0,T-1).join(", "),", or ")+k[T-1]:2===T?"one of ".concat(l," ").concat(k[0]," or ").concat(k[1]):"of ".concat(l," ").concat(k[0])}return"of ".concat(l," ").concat(String(k))}e("ERR_INVALID_OPT_VALUE",function(k,l){return'The value "'+l+'" is invalid for option "'+k+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(k,l,T){var b,a,t,i,n,s;if("string"==typeof l&&("not ","not "===l.substr(0,4))?(b="must not be",l=l.replace(/^not /,"")):b="must be",n=k," argument",(void 0===s||s>n.length)&&(s=n.length)," argument"===n.substring(s-9,s))a="The ".concat(k," ").concat(b," ").concat(A(l,"type"));else{var r=("number"!=typeof i&&(i=0),i+1>(t=k).length||-1===t.indexOf(".",i)?"argument":"property");a='The "'.concat(k,'" ').concat(r," ").concat(b," ").concat(A(l,"type"))}return a+". Received type ".concat(typeof T)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(k){return"The "+k+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(k){return"Cannot call "+k+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(k){return"Unknown encoding: "+k},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ee.exports.q=D},37865:function(ee,D,e){"use strict";var A=e(90386),k=Object.keys||function(n){var o=[];for(var s in n)o.push(s);return o};ee.exports=t;var l=e(40410),T=e(37493);e(42018)(t,l);for(var b=k(T.prototype),d=0;d<b.length;d++){var a=b[d];t.prototype[a]||(t.prototype[a]=T.prototype[a])}function t(n){if(!(this instanceof t))return new t(n);l.call(this,n),T.call(this,n),this.allowHalfOpen=!0,n&&(!1===n.readable&&(this.readable=!1),!1===n.writable&&(this.writable=!1),!1===n.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",i)))}function i(){this._writableState.ended||A.nextTick(r,this)}function r(n){n.end()}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(n){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=n,this._writableState.destroyed=n)}})},66897:function(ee,D,e){"use strict";ee.exports=k;var A=e(74308);function k(l){if(!(this instanceof k))return new k(l);A.call(this,l)}e(42018)(k,A),k.prototype._transform=function(l,T,b){b(null,l)}},40410:function(ee,D,e){"use strict";var A,k=e(90386);ee.exports=_,_.ReadableState=m,e(15398);var l,T=function(J,X){return J.listeners(X).length},b=e(71405),d=e(12856).Buffer,a=e.g.Uint8Array||function(){},t=e(40964);l=t&&t.debuglog?t.debuglog("stream"):function(){};var i,r,n,o=e(31125),s=e(65756),u=e(56306).getHighWaterMark,p=e(74322).q,c=p.ERR_INVALID_ARG_TYPE,x=p.ERR_STREAM_PUSH_AFTER_EOF,g=p.ERR_METHOD_NOT_IMPLEMENTED,h=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(42018)(_,b);var y=s.errorOrDestroy,v=["error","close","destroy","pause","resume"];function m(J,X,Y){A=A||e(37865),"boolean"!=typeof Y&&(Y=X instanceof A),this.objectMode=!!(J=J||{}).objectMode,Y&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=u(this,J,"readableHighWaterMark",Y),this.buffer=new o,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==J.emitClose,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(i||(i=e(68019).s),this.decoder=new i(J.encoding),this.encoding=J.encoding)}function _(J){if(A=A||e(37865),!(this instanceof _))return new _(J);this._readableState=new m(J,this,this instanceof A),this.readable=!0,J&&("function"==typeof J.read&&(this._read=J.read),"function"==typeof J.destroy&&(this._destroy=J.destroy)),b.call(this)}function f(J,X,Y,W,$){l("readableAddChunk",X);var ne,oe,ue,xe,Me,re=J._readableState;if(null===X)re.reading=!1,function(oe,ue){if(l("onEofChunk"),!ue.ended){if(ue.decoder){var xe=ue.decoder.end();xe&&xe.length&&(ue.buffer.push(xe),ue.length+=ue.objectMode?1:xe.length)}ue.ended=!0,ue.sync?L(oe):(ue.needReadable=!1,ue.emittedReadable||(ue.emittedReadable=!0,C(oe)))}}(J,re);else if($||(oe=re,d.isBuffer(Me=ue=X)||Me instanceof a||"string"==typeof ue||void 0===ue||oe.objectMode||(xe=new c("chunk",["string","Buffer","Uint8Array"],ue)),ne=xe),ne)y(J,ne);else if(re.objectMode||X&&X.length>0)if("string"==typeof X||re.objectMode||Object.getPrototypeOf(X)===d.prototype||(X=function(oe){return d.from(oe)}(X)),W)re.endEmitted?y(J,new h):S(J,re,X,!0);else if(re.ended)y(J,new x);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!Y?(X=re.decoder.write(X),re.objectMode||0!==X.length?S(J,re,X,!1):O(J,re)):S(J,re,X,!1)}else W||(re.reading=!1,O(J,re));return!re.ended&&(re.length<re.highWaterMark||0===re.length)}function S(J,X,Y,W){X.flowing&&0===X.length&&!X.sync?(X.awaitDrain=0,J.emit("data",Y)):(X.length+=X.objectMode?1:Y.length,W?X.buffer.unshift(Y):X.buffer.push(Y),X.needReadable&&L(J)),O(J,X)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(J){this._readableState&&(this._readableState.destroyed=J)}}),_.prototype.destroy=s.destroy,_.prototype._undestroy=s.undestroy,_.prototype._destroy=function(J,X){X(J)},_.prototype.push=function(J,X){var Y,W=this._readableState;return W.objectMode?Y=!0:"string"==typeof J&&((X=X||W.defaultEncoding)!==W.encoding&&(J=d.from(J,X),X=""),Y=!0),f(this,J,X,!1,Y)},_.prototype.unshift=function(J){return f(this,J,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(J){i||(i=e(68019).s);var X=new i(J);this._readableState.decoder=X,this._readableState.encoding=this._readableState.decoder.encoding;for(var Y=this._readableState.buffer.head,W="";null!==Y;)W+=X.write(Y.data),Y=Y.next;return this._readableState.buffer.clear(),""!==W&&this._readableState.buffer.push(W),this._readableState.length=W.length,this};var w=1073741824;function E(J,X){return J<=0||0===X.length&&X.ended?0:X.objectMode?1:J!=J?X.flowing&&X.length?X.buffer.head.data.length:X.length:(J>X.highWaterMark&&(X.highWaterMark=((Y=J)>=w?Y=w:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y)),J<=X.length?J:X.ended?X.length:(X.needReadable=!0,0));var Y}function L(J){var X=J._readableState;l("emitReadable",X.needReadable,X.emittedReadable),X.needReadable=!1,X.emittedReadable||(l("emitReadable",X.flowing),X.emittedReadable=!0,k.nextTick(C,J))}function C(J){var X=J._readableState;l("emitReadable_",X.destroyed,X.length,X.ended),X.destroyed||!X.length&&!X.ended||(J.emit("readable"),X.emittedReadable=!1),X.needReadable=!X.flowing&&!X.ended&&X.length<=X.highWaterMark,N(J)}function O(J,X){X.readingMore||(X.readingMore=!0,k.nextTick(R,J,X))}function R(J,X){for(;!X.reading&&!X.ended&&(X.length<X.highWaterMark||X.flowing&&0===X.length);){var Y=X.length;if(l("maybeReadMore read 0"),J.read(0),Y===X.length)break}X.readingMore=!1}function q(J){var X=J._readableState;X.readableListening=J.listenerCount("readable")>0,X.resumeScheduled&&!X.paused?X.flowing=!0:J.listenerCount("data")>0&&J.resume()}function P(J){l("readable nexttick read 0"),J.read(0)}function U(J,X){l("resume",X.reading),X.reading||J.read(0),X.resumeScheduled=!1,J.emit("resume"),N(J),X.flowing&&!X.reading&&J.read(0)}function N(J){var X=J._readableState;for(l("flow",X.flowing);X.flowing&&null!==J.read(););}function F(J,X){return 0===X.length?null:(X.objectMode?Y=X.buffer.shift():!J||J>=X.length?(Y=X.decoder?X.buffer.join(""):1===X.buffer.length?X.buffer.first():X.buffer.concat(X.length),X.buffer.clear()):Y=X.buffer.consume(J,X.decoder),Y);var Y}function j(J){var X=J._readableState;l("endReadable",X.endEmitted),X.endEmitted||(X.ended=!0,k.nextTick(G,X,J))}function G(J,X){if(l("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&0===J.length&&(J.endEmitted=!0,X.readable=!1,X.emit("end"),J.autoDestroy)){var Y=X._writableState;(!Y||Y.autoDestroy&&Y.finished)&&X.destroy()}}function te(J,X){for(var Y=0,W=J.length;Y<W;Y++)if(J[Y]===X)return Y;return-1}_.prototype.read=function(J){l("read",J),J=parseInt(J,10);var X=this._readableState,Y=J;if(0!==J&&(X.emittedReadable=!1),0===J&&X.needReadable&&((0!==X.highWaterMark?X.length>=X.highWaterMark:X.length>0)||X.ended))return l("read: emitReadable",X.length,X.ended),0===X.length&&X.ended?j(this):L(this),null;if(0===(J=E(J,X))&&X.ended)return 0===X.length&&j(this),null;var W,$=X.needReadable;return l("need readable",$),(0===X.length||X.length-J<X.highWaterMark)&&l("length less than watermark",$=!0),X.ended||X.reading?l("reading or ended",$=!1):$&&(l("do read"),X.reading=!0,X.sync=!0,0===X.length&&(X.needReadable=!0),this._read(X.highWaterMark),X.sync=!1,X.reading||(J=E(Y,X))),null===(W=J>0?F(J,X):null)?(X.needReadable=X.length<=X.highWaterMark,J=0):(X.length-=J,X.awaitDrain=0),0===X.length&&(X.ended||(X.needReadable=!0),Y!==J&&X.ended&&j(this)),null!==W&&this.emit("data",W),W},_.prototype._read=function(J){y(this,new g("_read()"))},_.prototype.pipe=function(J,X){var Y=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=J;break;case 1:W.pipes=[W.pipes,J];break;default:W.pipes.push(J)}W.pipesCount+=1,l("pipe count=%d opts=%j",W.pipesCount,X);var $=X&&!1===X.end||J===k.stdout||J===k.stderr?pe:ne;function ne(){l("onend"),J.end()}W.endEmitted?k.nextTick($):Y.once("end",$),J.on("unpipe",function ge(Pe,_e){l("onunpipe"),Pe===Y&&_e&&!1===_e.hasUnpiped&&(_e.hasUnpiped=!0,l("cleanup"),J.removeListener("close",Me),J.removeListener("finish",me),J.removeListener("drain",re),J.removeListener("error",xe),J.removeListener("unpipe",ge),Y.removeListener("end",ne),Y.removeListener("end",pe),Y.removeListener("data",ue),oe=!0,!W.awaitDrain||J._writableState&&!J._writableState.needDrain||re())});var ge,re=(ge=Y,function(){var Pe=ge._readableState;l("pipeOnDrain",Pe.awaitDrain),Pe.awaitDrain&&Pe.awaitDrain--,0===Pe.awaitDrain&&T(ge,"data")&&(Pe.flowing=!0,N(ge))});J.on("drain",re);var oe=!1;function ue(ge){l("ondata");var Pe=J.write(ge);l("dest.write",Pe),!1===Pe&&((1===W.pipesCount&&W.pipes===J||W.pipesCount>1&&-1!==te(W.pipes,J))&&!oe&&(l("false write response, pause",W.awaitDrain),W.awaitDrain++),Y.pause())}function xe(ge){l("onerror",ge),pe(),J.removeListener("error",xe),0===T(J,"error")&&y(J,ge)}function Me(){J.removeListener("finish",me),pe()}function me(){l("onfinish"),J.removeListener("close",Me),pe()}function pe(){l("unpipe"),Y.unpipe(J)}return Y.on("data",ue),function(ge,Pe,_e){if("function"==typeof ge.prependListener)return ge.prependListener(Pe,_e);ge._events&&ge._events[Pe]?Array.isArray(ge._events[Pe])?ge._events[Pe].unshift(_e):ge._events[Pe]=[_e,ge._events[Pe]]:ge.on(Pe,_e)}(J,"error",xe),J.once("close",Me),J.once("finish",me),J.emit("pipe",Y),W.flowing||(l("pipe resume"),Y.resume()),J},_.prototype.unpipe=function(J){var X=this._readableState,Y={hasUnpiped:!1};if(0===X.pipesCount)return this;if(1===X.pipesCount)return J&&J!==X.pipes||(J||(J=X.pipes),X.pipes=null,X.pipesCount=0,X.flowing=!1,J&&J.emit("unpipe",this,Y)),this;if(!J){var W=X.pipes,$=X.pipesCount;X.pipes=null,X.pipesCount=0,X.flowing=!1;for(var ne=0;ne<$;ne++)W[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var re=te(X.pipes,J);return-1===re||(X.pipes.splice(re,1),X.pipesCount-=1,1===X.pipesCount&&(X.pipes=X.pipes[0]),J.emit("unpipe",this,Y)),this},_.prototype.addListener=_.prototype.on=function(J,X){var Y=b.prototype.on.call(this,J,X),W=this._readableState;return"data"===J?(W.readableListening=this.listenerCount("readable")>0,!1!==W.flowing&&this.resume()):"readable"===J&&(W.endEmitted||W.readableListening||(W.readableListening=W.needReadable=!0,W.flowing=!1,W.emittedReadable=!1,l("on readable",W.length,W.reading),W.length?L(this):W.reading||k.nextTick(P,this))),Y},_.prototype.removeListener=function(J,X){var Y=b.prototype.removeListener.call(this,J,X);return"readable"===J&&k.nextTick(q,this),Y},_.prototype.removeAllListeners=function(J){var X=b.prototype.removeAllListeners.apply(this,arguments);return"readable"!==J&&void 0!==J||k.nextTick(q,this),X},_.prototype.resume=function(){var Y,J=this._readableState;return J.flowing||(l("resume"),J.flowing=!J.readableListening,this,(Y=J).resumeScheduled||(Y.resumeScheduled=!0,k.nextTick(U,this,Y))),J.paused=!1,this},_.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(J){var X=this,Y=this._readableState,W=!1;for(var $ in J.on("end",function(){if(l("wrapped end"),Y.decoder&&!Y.ended){var re=Y.decoder.end();re&&re.length&&X.push(re)}X.push(null)}),J.on("data",function(re){l("wrapped data"),Y.decoder&&(re=Y.decoder.write(re)),Y.objectMode&&null==re||(Y.objectMode||re&&re.length)&&(X.push(re)||(W=!0,J.pause()))}),J)void 0===this[$]&&"function"==typeof J[$]&&(this[$]=function(re){return function(){return J[re].apply(J,arguments)}}($));for(var ne=0;ne<v.length;ne++)J.on(v[ne],this.emit.bind(this,v[ne]));return this._read=function(re){l("wrapped _read",re),W&&(W=!1,J.resume())},this},"function"==typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return void 0===r&&(r=e(68221)),r(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(J){this._readableState&&(this._readableState.flowing=J)}}),_._fromList=F,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_.from=function(J,X){return void 0===n&&(n=e(31748)),n(_,J,X)})},74308:function(ee,D,e){"use strict";ee.exports=t;var A=e(74322).q,k=A.ERR_METHOD_NOT_IMPLEMENTED,l=A.ERR_MULTIPLE_CALLBACK,T=A.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=A.ERR_TRANSFORM_WITH_LENGTH_0,d=e(37865);function a(n,o){var s=this._transformState;s.transforming=!1;var u=s.writecb;if(null===u)return this.emit("error",new l);s.writechunk=null,s.writecb=null,null!=o&&this.push(o),u(n);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);d.call(this,n),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&("function"==typeof n.transform&&(this._transform=n.transform),"function"==typeof n.flush&&(this._flush=n.flush)),this.on("prefinish",i)}function i(){var n=this;"function"!=typeof this._flush||this._readableState.destroyed?r(this,null,null):this._flush(function(o,s){r(n,o,s)})}function r(n,o,s){if(o)return n.emit("error",o);if(null!=s&&n.push(s),n._writableState.length)throw new b;if(n._transformState.transforming)throw new T;return n.push(null)}e(42018)(t,d),t.prototype.push=function(n,o){return this._transformState.needTransform=!1,d.prototype.push.call(this,n,o)},t.prototype._transform=function(n,o,s){s(new k("_transform()"))},t.prototype._write=function(n,o,s){var u=this._transformState;if(u.writecb=s,u.writechunk=n,u.writeencoding=o,!u.transforming){var p=this._readableState;(u.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},t.prototype._read=function(n){var o=this._transformState;null===o.writechunk||o.transforming?o.needTransform=!0:(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform))},t.prototype._destroy=function(n,o){d.prototype._destroy.call(this,n,function(s){o(s)})}},37493:function(ee,D,e){"use strict";var A,k=e(90386);function l(O){var R=this;this.next=null,this.entry=null,this.finish=function(){!function(q,P,U){var N=q.entry;for(q.entry=null;N;){var F=N.callback;P.pendingcb--,F(void 0),N=N.next}P.corkedRequestsFree.next=q}(R,O)}}ee.exports=_,_.WritableState=m;var T,b={deprecate:e(20588)},d=e(71405),a=e(12856).Buffer,t=e.g.Uint8Array||function(){},i=e(65756),r=e(56306).getHighWaterMark,n=e(74322).q,o=n.ERR_INVALID_ARG_TYPE,s=n.ERR_METHOD_NOT_IMPLEMENTED,u=n.ERR_MULTIPLE_CALLBACK,p=n.ERR_STREAM_CANNOT_PIPE,c=n.ERR_STREAM_DESTROYED,x=n.ERR_STREAM_NULL_VALUES,g=n.ERR_STREAM_WRITE_AFTER_END,h=n.ERR_UNKNOWN_ENCODING,y=i.errorOrDestroy;function v(){}function m(O,R,q){A=A||e(37865),"boolean"!=typeof q&&(q=R instanceof A),this.objectMode=!!(O=O||{}).objectMode,q&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=r(this,O,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===O.decodeStrings),this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(U){!function(N,F){var X,j=N._writableState,G=j.sync,te=j.writecb;if("function"!=typeof te)throw new u;if((X=j).writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0,F)!function(X,Y,W,$,ne){--Y.pendingcb,W?(k.nextTick(ne,$),k.nextTick(C,X,Y),X._writableState.errorEmitted=!0,y(X,$)):(ne($),X._writableState.errorEmitted=!0,y(X,$),C(X,Y))}(N,j,G,F,te);else{var J=E(j)||N.destroyed;J||j.corked||j.bufferProcessing||!j.bufferedRequest||w(N,j),G?k.nextTick(S,N,j,J,te):S(N,j,J,te)}}(R,U)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==O.emitClose,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function _(O){var R=this instanceof(A=A||e(37865));if(!R&&!T.call(_,this))return new _(O);this._writableState=new m(O,this,R),this.writable=!0,O&&("function"==typeof O.write&&(this._write=O.write),"function"==typeof O.writev&&(this._writev=O.writev),"function"==typeof O.destroy&&(this._destroy=O.destroy),"function"==typeof O.final&&(this._final=O.final)),d.call(this)}function f(O,R,q,P,U,N,F){R.writelen=P,R.writecb=F,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new c("write")):q?O._writev(U,R.onwrite):O._write(U,N,R.onwrite),R.sync=!1}function S(O,R,q,P){var U,N;q||(U=O,0===(N=R).length&&N.needDrain&&(N.needDrain=!1,U.emit("drain"))),R.pendingcb--,P(),C(O,R)}function w(O,R){R.bufferProcessing=!0;var q=R.bufferedRequest;if(O._writev&&q&&q.next){var U=new Array(R.bufferedRequestCount),N=R.corkedRequestsFree;N.entry=q;for(var F=0,j=!0;q;)U[F]=q,q.isBuf||(j=!1),q=q.next,F+=1;U.allBuffers=j,f(O,R,!0,R.length,U,"",N.finish),R.pendingcb++,R.lastBufferedRequest=null,N.next?(R.corkedRequestsFree=N.next,N.next=null):R.corkedRequestsFree=new l(R),R.bufferedRequestCount=0}else{for(;q;){var G=q.chunk;if(f(O,R,!1,R.objectMode?1:G.length,G,q.encoding,q.callback),q=q.next,R.bufferedRequestCount--,R.writing)break}null===q&&(R.lastBufferedRequest=null)}R.bufferedRequest=q,R.bufferProcessing=!1}function E(O){return O.ending&&0===O.length&&null===O.bufferedRequest&&!O.finished&&!O.writing}function L(O,R){O._final(function(q){R.pendingcb--,q&&y(O,q),R.prefinished=!0,O.emit("prefinish"),C(O,R)})}function C(O,R){var U,N,q=E(R);if(q&&(U=O,(N=R).prefinished||N.finalCalled||("function"!=typeof U._final||N.destroyed?(N.prefinished=!0,U.emit("prefinish")):(N.pendingcb++,N.finalCalled=!0,k.nextTick(L,U,N))),0===R.pendingcb&&(R.finished=!0,O.emit("finish"),R.autoDestroy))){var P=O._readableState;(!P||P.autoDestroy&&P.endEmitted)&&O.destroy()}return q}e(42018)(_,d),m.prototype.getBuffer=function(){for(var O=this.bufferedRequest,R=[];O;)R.push(O),O=O.next;return R},function(){try{Object.defineProperty(m.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(O){return!!T.call(this,O)||this===_&&O&&O._writableState instanceof m}})):T=function(O){return O instanceof this},_.prototype.pipe=function(){y(this,new p)},_.prototype.write=function(O,R,q){var P,j,G,te,U=this._writableState,N=!1,F=!U.objectMode&&(a.isBuffer(P=O)||P instanceof t);return F&&!a.isBuffer(O)&&(O=a.from(O)),"function"==typeof R&&(q=R,R=null),F?R="buffer":R||(R=U.defaultEncoding),"function"!=typeof q&&(q=v),U.ending?(j=this,G=q,te=new g,y(j,te),k.nextTick(G,te)):(F||function(j,G,te,J){var X;return null===te?X=new x:"string"==typeof te||G.objectMode||(X=new o("chunk",["string","Buffer"],te)),!X||(y(j,X),k.nextTick(J,X),!1)}(this,U,O,q))&&(U.pendingcb++,N=function(j,G,te,J,X,Y){if(!te){var W=(ue=J,(oe=G).objectMode||!1===oe.decodeStrings||"string"!=typeof ue||(ue=a.from(ue,X)),ue);J!==W&&(te=!0,X="buffer",J=W)}var oe,ue,$=G.objectMode?1:J.length;G.length+=$;var ne=G.length<G.highWaterMark;if(ne||(G.needDrain=!0),G.writing||G.corked){var re=G.lastBufferedRequest;G.lastBufferedRequest={chunk:J,encoding:X,isBuf:te,callback:Y,next:null},re?re.next=G.lastBufferedRequest:G.bufferedRequest=G.lastBufferedRequest,G.bufferedRequestCount+=1}else f(j,G,!1,$,J,X,Y);return ne}(this,U,F,O,R,q)),N},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,O.writing||O.corked||O.bufferProcessing||!O.bufferedRequest||w(this,O))},_.prototype.setDefaultEncoding=function(O){if("string"==typeof O&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new h(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(O,R,q){q(new s("_write()"))},_.prototype._writev=null,_.prototype.end=function(O,R,q){var U,N,F,P=this._writableState;return"function"==typeof O?(q=O,O=null,R=null):"function"==typeof R&&(q=R,R=null),null!=O&&this.write(O,R),P.corked&&(P.corked=1,this.uncork()),P.ending||(U=this,F=q,(N=P).ending=!0,C(U,N),F&&(N.finished?k.nextTick(F):U.once("finish",F)),N.ended=!0,U.writable=!1),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),_.prototype.destroy=i.destroy,_.prototype._undestroy=i.undestroy,_.prototype._destroy=function(O,R){R(O)}},68221:function(ee,D,e){"use strict";var A,k=e(90386);function l(x,g,h){return g in x?Object.defineProperty(x,g,{value:h,enumerable:!0,configurable:!0,writable:!0}):x[g]=h,x}var T=e(12726),b=Symbol("lastResolve"),d=Symbol("lastReject"),a=Symbol("error"),t=Symbol("ended"),i=Symbol("lastPromise"),r=Symbol("handlePromise"),n=Symbol("stream");function o(x,g){return{value:x,done:g}}function s(x){var g=x[b];if(null!==g){var h=x[n].read();null!==h&&(x[i]=null,x[b]=null,x[d]=null,g(o(h,!1)))}}function u(x){k.nextTick(s,x)}var p=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((l(A={get stream(){return this[n]},next:function(){var x=this,g=this[a];if(null!==g)return Promise.reject(g);if(this[t])return Promise.resolve(o(void 0,!0));if(this[n].destroyed)return new Promise(function(m,_){k.nextTick(function(){x[a]?_(x[a]):m(o(void 0,!0))})});var h,m,_,y=this[i];if(y)h=new Promise((m=y,_=this,function(f,S){m.then(function(){_[t]?f(o(void 0,!0)):_[r](f,S)},S)}));else{var v=this[n].read();if(null!==v)return Promise.resolve(o(v,!1));h=new Promise(this[r])}return this[i]=h,h}},Symbol.asyncIterator,function(){return this}),l(A,"return",function(){var x=this;return new Promise(function(g,h){x[n].destroy(null,function(y){y?h(y):g(o(void 0,!0))})})}),A),p);ee.exports=function(x){var g,h=Object.create(c,(l(g={},n,{value:x,writable:!0}),l(g,b,{value:null,writable:!0}),l(g,d,{value:null,writable:!0}),l(g,a,{value:null,writable:!0}),l(g,t,{value:x._readableState.endEmitted,writable:!0}),l(g,r,{value:function(y,v){var m=h[n].read();m?(h[i]=null,h[b]=null,h[d]=null,y(o(m,!1))):(h[b]=y,h[d]=v)},writable:!0}),g));return h[i]=null,T(x,function(y){if(y&&"ERR_STREAM_PREMATURE_CLOSE"!==y.code){var v=h[d];return null!==v&&(h[i]=null,h[b]=null,h[d]=null,v(y)),void(h[a]=y)}var m=h[b];null!==m&&(h[i]=null,h[b]=null,h[d]=null,m(o(void 0,!0))),h[t]=!0}),x.on("readable",u.bind(null,h)),h}},31125:function(ee,D,e){"use strict";function A(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),i.push.apply(i,r)}return i}function k(a,t,i){return t in a?Object.defineProperty(a,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[t]=i,a}var T=e(12856).Buffer,b=e(69862).inspect,d=b&&b.custom||"inspect";ee.exports=function(){function a(){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}var i;return i=[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(0!==this.length){var r=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(0===this.length)return"";for(var n=this.head,o=""+n.data;n=n.next;)o+=r+n.data;return o}},{key:"concat",value:function(r){if(0===this.length)return T.alloc(0);for(var u=T.allocUnsafe(r>>>0),p=this.head,c=0;p;)T.prototype.copy.call(p.data,u,c),c+=p.data.length,p=p.next;return u}},{key:"consume",value:function(r,n){var o;return r<this.head.data.length?(o=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):o=r===this.head.data.length?this.shift():n?this._getString(r):this._getBuffer(r),o}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,o=1,s=n.data;for(r-=s.length;n=n.next;){var u=n.data,p=r>u.length?u.length:r;if(s+=p===u.length?u:u.slice(0,r),0==(r-=p)){p===u.length?(++o,this.head=n.next?n.next:this.tail=null):(this.head=n,n.data=u.slice(p));break}++o}return this.length-=o,s}},{key:"_getBuffer",value:function(r){var n=T.allocUnsafe(r),o=this.head,s=1;for(o.data.copy(n),r-=o.data.length;o=o.next;){var u=o.data,p=r>u.length?u.length:r;if(u.copy(n,n.length-r,0,p),0==(r-=p)){p===u.length?(++s,this.head=o.next?o.next:this.tail=null):(this.head=o,o.data=u.slice(p));break}++s}return this.length-=s,n}},{key:d,value:function(r,n){return b(this,function(o){for(var s=1;s<arguments.length;s++){var u=null!=arguments[s]?arguments[s]:{};s%2?A(Object(u),!0).forEach(function(p){k(o,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):A(Object(u)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(u,p))})}return o}({},n,{depth:0,customInspect:!1}))}}],i&&function l(a,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}(a.prototype,i),a}()},65756:function(ee,D,e){"use strict";var A=e(90386);function k(b,d){T(b,d),l(b)}function l(b){b._writableState&&!b._writableState.emitClose||b._readableState&&!b._readableState.emitClose||b.emit("close")}function T(b,d){b.emit("error",d)}ee.exports={destroy:function(b,d){var a=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(d?d(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,A.nextTick(T,this,b)):A.nextTick(T,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(r){!d&&r?a._writableState?a._writableState.errorEmitted?A.nextTick(l,a):(a._writableState.errorEmitted=!0,A.nextTick(k,a,r)):A.nextTick(k,a,r):d?(A.nextTick(l,a),d(r)):A.nextTick(l,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(b,d){var a=b._readableState,t=b._writableState;a&&a.autoDestroy||t&&t.autoDestroy?b.destroy(d):b.emit("error",d)}}},12726:function(ee,D,e){"use strict";var A=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function k(){}ee.exports=function l(T,b,d){if("function"==typeof b)return l(T,null,b);var x,g;b||(b={}),x=d||k,g=!1,d=function(){if(!g){g=!0;for(var h=arguments.length,y=new Array(h),v=0;v<h;v++)y[v]=arguments[v];x.apply(this,y)}};var a=b.readable||!1!==b.readable&&T.readable,t=b.writable||!1!==b.writable&&T.writable,i=function(){T.writable||n()},r=T._writableState&&T._writableState.finished,n=function(){t=!1,r=!0,a||d.call(T)},o=T._readableState&&T._readableState.endEmitted,s=function(){a=!1,o=!0,t||d.call(T)},u=function(x){d.call(T,x)},p=function(){var x;return a&&!o?(T._readableState&&T._readableState.ended||(x=new A),d.call(T,x)):t&&!r?(T._writableState&&T._writableState.ended||(x=new A),d.call(T,x)):void 0},c=function(){T.req.on("finish",n)};return function(x){return x.setHeader&&"function"==typeof x.abort}(T)?(T.on("complete",n),T.on("abort",p),T.req?c():T.on("request",c)):t&&!T._writableState&&(T.on("end",i),T.on("close",i)),T.on("end",s),T.on("finish",n),!1!==b.error&&T.on("error",u),T.on("close",p),function(){T.removeListener("complete",n),T.removeListener("abort",p),T.removeListener("request",c),T.req&&T.req.removeListener("finish",n),T.removeListener("end",i),T.removeListener("close",i),T.removeListener("finish",n),T.removeListener("end",s),T.removeListener("error",u),T.removeListener("close",p)}}},31748:function(ee){ee.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(ee,D,e){"use strict";var A,k=e(74322).q,l=k.ERR_MISSING_ARGS,T=k.ERR_STREAM_DESTROYED;function b(t){if(t)throw t}function d(t){t()}function a(t,i){return t.pipe(i)}ee.exports=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var n,u,o=(u=i).length?"function"!=typeof u[u.length-1]?b:u.pop():b;if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new l("streams");var s=i.map(function(u,p){var c=p<i.length-1;return function(x,g,h,y){var _,f;_=y,f=!1,y=function(){f||(f=!0,_.apply(void 0,arguments))};var v=!1;x.on("close",function(){v=!0}),void 0===A&&(A=e(12726)),A(x,{readable:g,writable:h},function(_){if(_)return y(_);v=!0,y()});var m=!1;return function(_){if(!v&&!m)return m=!0,function(f){return f.setHeader&&"function"==typeof f.abort}(x)?x.abort():"function"==typeof x.destroy?x.destroy():void y(_||new T("pipe"))}}(u,c,p>0,function(x){n||(n=x),x&&s.forEach(d),c||(s.forEach(d),o(n))})});return i.reduce(a)}},56306:function(ee,D,e){"use strict";var A=e(74322).q.ERR_INVALID_OPT_VALUE;ee.exports={getHighWaterMark:function(k,l,T,b){var a,d=null!=(a=l).highWaterMark?a.highWaterMark:b?a[T]:null;if(null!=d){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new A(b?T:"highWaterMark",d);return Math.floor(d)}return k.objectMode?16:16384}}},71405:function(ee,D,e){ee.exports=e(15398).EventEmitter},68019:function(ee,D,e){"use strict";var A=e(71665).Buffer,k=A.isEncoding||function(o){switch((o=""+o)&&o.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(o){var s;switch(this.encoding=function(u){var p=function(c){if(!c)return"utf8";for(var x;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(x)return;c=(""+c).toLowerCase(),x=!0}}(u);if("string"!=typeof p&&(A.isEncoding===k||!k(u)))throw new Error("Unknown encoding: "+u);return p||u}(o),this.encoding){case"utf16le":this.text=d,this.end=a,s=4;break;case"utf8":this.fillLast=b,s=4;break;case"base64":this.text=t,this.end=i,s=3;break;default:return this.write=r,void(this.end=n)}this.lastNeed=0,this.lastTotal=0,this.lastChar=A.allocUnsafe(s)}function T(o){return o<=127?0:o>>5==6?2:o>>4==14?3:o>>3==30?4:o>>6==2?-1:-2}function b(o){var s=this.lastTotal-this.lastNeed,u=function(p,c,x){if(128!=(192&c[0]))return p.lastNeed=0,"\ufffd";if(p.lastNeed>1&&c.length>1){if(128!=(192&c[1]))return p.lastNeed=1,"\ufffd";if(p.lastNeed>2&&c.length>2&&128!=(192&c[2]))return p.lastNeed=2,"\ufffd"}}(this,o);return void 0!==u?u:this.lastNeed<=o.length?(o.copy(this.lastChar,s,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(o.copy(this.lastChar,s,0,o.length),void(this.lastNeed-=o.length))}function d(o,s){if((o.length-s)%2==0){var u=o.toString("utf16le",s);if(u){var p=u.charCodeAt(u.length-1);if(p>=55296&&p<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=o[o.length-2],this.lastChar[1]=o[o.length-1],u.slice(0,-1)}return u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=o[o.length-1],o.toString("utf16le",s,o.length-1)}function a(o){var s=o&&o.length?this.write(o):"";return this.lastNeed?s+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):s}function t(o,s){var u=(o.length-s)%3;return 0===u?o.toString("base64",s):(this.lastNeed=3-u,this.lastTotal=3,1===u?this.lastChar[0]=o[o.length-1]:(this.lastChar[0]=o[o.length-2],this.lastChar[1]=o[o.length-1]),o.toString("base64",s,o.length-u))}function i(o){var s=o&&o.length?this.write(o):"";return this.lastNeed?s+this.lastChar.toString("base64",0,3-this.lastNeed):s}function r(o){return o.toString(this.encoding)}function n(o){return o&&o.length?this.write(o):""}D.s=l,l.prototype.write=function(o){if(0===o.length)return"";var s,u;if(this.lastNeed){if(void 0===(s=this.fillLast(o)))return"";u=this.lastNeed,this.lastNeed=0}else u=0;return u<o.length?s?s+this.text(o,u):this.text(o,u):s||""},l.prototype.end=function(o){var s=o&&o.length?this.write(o):"";return this.lastNeed?s+"\ufffd":s},l.prototype.text=function(o,s){var u=function(c,x,g){var h=x.length-1;if(h<g)return 0;var y=T(x[h]);return y>=0?(y>0&&(c.lastNeed=y-1),y):--h<g||-2===y?0:(y=T(x[h]))>=0?(y>0&&(c.lastNeed=y-2),y):--h<g||-2===y?0:(y=T(x[h]))>=0?(y>0&&(2===y?y=0:c.lastNeed=y-3),y):0}(this,o,s);if(!this.lastNeed)return o.toString("utf8",s);this.lastTotal=u;var p=o.length-(u-this.lastNeed);return o.copy(this.lastChar,0,p),o.toString("utf8",s,p)},l.prototype.fillLast=function(o){if(this.lastNeed<=o.length)return o.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);o.copy(this.lastChar,this.lastTotal-this.lastNeed,0,o.length),this.lastNeed-=o.length}},90715:function(ee,D,e){var A=e(32791),k=e(41633)("stream-parser");ee.exports=function(c){var x=c&&"function"==typeof c._transform;if(!(x||c&&"function"==typeof c._write))throw new Error("must pass a Writable or Transform stream in");k("extending Parser into stream"),c._bytes=t,c._skipBytes=i,x&&(c._passthrough=r),x?c._transform=o:c._write=n};var l=-1,T=0,b=1,d=2;function a(c){k("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=l,c._parserCallback=null,"function"==typeof c.push&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,x){A(!this._parserCallback,'there is already a "callback" set!'),A(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||a(this),k("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=T}function i(c,x){A(!this._parserCallback,'there is already a "callback" set!'),A(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||a(this),k("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=b}function r(c,x){A(!this._parserCallback,'There is already a "callback" set!'),A(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||a(this),k("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=d}function n(c,x,g){this._parserInit||a(this),k("write(%o bytes)",c.length),"function"==typeof x&&(g=x),u(this,c,null,g)}function o(c,x,g){this._parserInit||a(this),k("transform(%o bytes)",c.length),"function"!=typeof x&&(x=this._parserOutput),u(this,c,x,g)}function s(c,x,g,h){if(c._parserBytesLeft-=x.length,k("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===T?(c._parserBuffers.push(x),c._parserBuffered+=x.length):c._parserState===d&&g(x),0!==c._parserBytesLeft)return h;var y=c._parserCallback;if(y&&c._parserState===T&&c._parserBuffers.length>1&&(x=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==T&&(x=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=l,c._parserBuffers.splice(0),y){var v=[];x&&v.push(x),g&&v.push(g);var m=y.length>v.length;m&&v.push(p(h));var _=y.apply(c,v);if(!m||h===_)return h}}var u=p(function c(x,g,h,y){return x._parserBytesLeft<=0?y(new Error("got data but not currently parsing anything")):g.length<=x._parserBytesLeft?function(){return s(x,g,h,y)}:function(){var v=g.slice(0,x._parserBytesLeft);return s(x,v,h,function(m){return m?y(m):g.length>v.length?function(){return c(x,g.slice(v.length),h,y)}:void 0})}});function p(c){return function(){for(var x=c.apply(this,arguments);"function"==typeof x;)x=x();return x}}},41633:function(ee,D,e){var A=e(90386);function k(){var l;try{l=D.storage.debug}catch{}return!l&&void 0!==A&&"env"in A&&(l=A.env.DEBUG),l}(D=ee.exports=e(74469)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},D.formatArgs=function(l){var T=this.useColors;if(l[0]=(T?"%c":"")+this.namespace+(T?" %c":" ")+l[0]+(T?"%c ":" ")+"+"+D.humanize(this.diff),T){var b="color: "+this.color;l.splice(1,0,b,"color: inherit");var d=0,a=0;l[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(d++,"%c"===t&&(a=d))}),l.splice(a,0,b)}},D.save=function(l){try{null==l?D.storage.removeItem("debug"):D.storage.debug=l}catch{}},D.load=k,D.useColors=function(){return!(typeof window>"u"||!window.process||"renderer"!==window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},D.storage=typeof chrome<"u"&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),D.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],D.formatters.j=function(l){try{return JSON.stringify(l)}catch(T){return"[UnexpectedJSONParseError]: "+T.message}},D.enable(k())},74469:function(ee,D,e){var A;function k(l){function T(){if(T.enabled){var b=T,d=+new Date;b.diff=d-(A||d),b.prev=A,b.curr=d,A=d;for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];t[0]=D.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var r=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(n,o){if("%%"===n)return n;r++;var s=D.formatters[o];return"function"==typeof s&&(n=s.call(b,t[r]),t.splice(r,1),r--),n}),D.formatArgs.call(b,t),(T.log||D.log||console.log.bind(console)).apply(b,t)}}return T.namespace=l,T.enabled=D.enabled(l),T.useColors=D.useColors(),T.color=function(b){var d,a=0;for(d in b)a=(a<<5)-a+b.charCodeAt(d),a|=0;return D.colors[Math.abs(a)%D.colors.length]}(l),"function"==typeof D.init&&D.init(T),T}(D=ee.exports=k.debug=k.default=k).coerce=function(l){return l instanceof Error?l.stack||l.message:l},D.disable=function(){D.enable("")},D.enable=function(l){D.save(l),D.names=[],D.skips=[];for(var T=("string"==typeof l?l:"").split(/[\s,]+/),b=T.length,d=0;d<b;d++)T[d]&&("-"===(l=T[d].replace(/\*/g,".*?"))[0]?D.skips.push(new RegExp("^"+l.substr(1)+"$")):D.names.push(new RegExp("^"+l+"$")))},D.enabled=function(l){var T,b;for(T=0,b=D.skips.length;T<b;T++)if(D.skips[T].test(l))return!1;for(T=0,b=D.names.length;T<b;T++)if(D.names[T].test(l))return!0;return!1},D.humanize=e(11375),D.names=[],D.skips=[],D.formatters={}},11375:function(ee){var D=1e3,e=60*D,A=60*e,k=24*A;function l(T,b,d){if(!(T<b))return T<1.5*b?Math.floor(T/b)+" "+d:Math.ceil(T/b)+" "+d+"s"}ee.exports=function(T,b){b=b||{};var d,t,a=typeof T;if("string"===a&&T.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(i){var r=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*k;case"hours":case"hour":case"hrs":case"hr":case"h":return r*A;case"minutes":case"minute":case"mins":case"min":case"m":return r*e;case"seconds":case"second":case"secs":case"sec":case"s":return r*D;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(T);if("number"===a&&!1===isNaN(T))return b.long?l(d=T,k,"day")||l(d,A,"hour")||l(d,e,"minute")||l(d,D,"second")||d+" ms":(t=T)>=k?Math.round(t/k)+"d":t>=A?Math.round(t/A)+"h":t>=e?Math.round(t/e)+"m":t>=D?Math.round(t/D)+"s":t+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(T))}},99011:function(ee,D,e){"use strict";var A=e(88641);ee.exports=function(k,l,T){if(null==k)throw Error("First argument should be a string");if(null==l)throw Error("Separator should be a string or a RegExp");T?("string"==typeof T||Array.isArray(T))&&(T={ignore:T}):T={},null==T.escape&&(T.escape=!0),null==T.ignore?T.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof T.ignore&&(T.ignore=[T.ignore]),T.ignore=T.ignore.map(function(n){return 1===n.length&&(n+=n),n}));var b=A.parse(k,{flat:!0,brackets:T.ignore}),d=b[0].split(l);if(T.escape){for(var a=[],t=0;t<d.length;t++){var i=d[t];"\\"===i[i.length-1]&&"\\"!==i[i.length-2]?(a.push(i+l+d[t+1]),t++):a.push(i)}d=a}for(t=0;t<d.length;t++)b[0]=d[t],d[t]=A.stringify(b,{flat:!0});return d}},68664:function(ee){"use strict";ee.exports=function(D){for(var e=D.length,A=new Array(e),k=new Array(e),l=new Array(e),T=new Array(e),b=new Array(e),d=new Array(e),a=0;a<e;++a)A[a]=-1,k[a]=0,l[a]=!1,T[a]=0,b[a]=-1,d[a]=[];var t,i=0,r=[],n=[];function o(p){var c=[p],x=[p];for(A[p]=k[p]=i,l[p]=!0,i+=1;x.length>0;){var g=D[p=x[x.length-1]];if(T[p]<g.length){for(var h=T[p];h<g.length;++h){var y=g[h];if(A[y]<0){A[y]=k[y]=i,l[y]=!0,i+=1,c.push(y),x.push(y);break}l[y]&&(k[p]=0|Math.min(k[p],k[y])),b[y]>=0&&d[p].push(b[y])}T[p]=h}else{if(k[p]===A[p]){var v=[],m=[],_=0;for(h=c.length-1;h>=0;--h){var f=c[h];if(l[f]=!1,v.push(f),m.push(d[f]),_+=d[f].length,b[f]=r.length,f===p){c.length=h;break}}r.push(v);var S=new Array(_);for(h=0;h<m.length;h++)for(var w=0;w<m[h].length;w++)S[--_]=m[h][w];n.push(S)}x.pop()}}}for(a=0;a<e;++a)A[a]<0&&o(a);for(a=0;a<n.length;a++){var s=n[a];if(0!==s.length){s.sort(function(p,c){return p-c}),t=[s[0]];for(var u=1;u<s.length;u++)s[u]!==s[u-1]&&t.push(s[u]);n[a]=t}}return{components:r,adjacencyList:n}}},7095:function(ee,D,e){"use strict";e.r(D);var A=2*Math.PI,k=function(b,d,a,t,i,r,n){var o=b.x,s=b.y;return{x:t*(o*=d)-i*(s*=a)+r,y:i*o+t*s+n}},l=function(b,d){var a=1.5707963267948966===d?.551915024494:-1.5707963267948966===d?-.551915024494:1.3333333333333333*Math.tan(d/4),t=Math.cos(b),i=Math.sin(b),r=Math.cos(b+d),n=Math.sin(b+d);return[{x:t-i*a,y:i+t*a},{x:r+n*a,y:n-r*a},{x:r,y:n}]},T=function(b,d,a,t){var i=b*a+d*t;return i>1&&(i=1),i<-1&&(i=-1),(b*t-d*a<0?-1:1)*Math.acos(i)};D.default=function(b){var d=b.px,a=b.py,t=b.cx,i=b.cy,r=b.rx,n=b.ry,o=b.xAxisRotation,s=void 0===o?0:o,u=b.largeArcFlag,p=void 0===u?0:u,c=b.sweepFlag,x=void 0===c?0:c,g=[];if(0===r||0===n)return[];var h=Math.sin(s*A/360),y=Math.cos(s*A/360),v=y*(d-t)/2+h*(a-i)/2,m=-h*(d-t)/2+y*(a-i)/2;if(0===v&&0===m)return[];r=Math.abs(r),n=Math.abs(n);var _=Math.pow(v,2)/Math.pow(r,2)+Math.pow(m,2)/Math.pow(n,2);_>1&&(r*=Math.sqrt(_),n*=Math.sqrt(_));var S=function(P,U){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return function(N,F){var j=[],G=!0,te=!1,J=void 0;try{for(var X,Y=N[Symbol.iterator]();!(G=(X=Y.next()).done)&&(j.push(X.value),4!==j.length);G=!0);}catch(W){te=!0,J=W}finally{try{!G&&Y.return&&Y.return()}finally{if(te)throw J}}return j}(P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(function(P,U,N,F,j,G,te,J,X,Y,W,$){var ne=Math.pow(j,2),re=Math.pow(G,2),oe=Math.pow(W,2),ue=Math.pow($,2),xe=ne*re-ne*ue-re*oe;xe<0&&(xe=0),xe/=ne*ue+re*oe;var Me=(xe=Math.sqrt(xe)*(te===J?-1:1))*j/G*$,me=xe*-G/j*W,pe=Y*Me-X*me+(P+N)/2,ge=X*Me+Y*me+(U+F)/2,Pe=(W-Me)/j,_e=($-me)/G,we=(-W-Me)/j,se=(-$-me)/G,ae=T(1,0,Pe,_e),fe=T(Pe,_e,we,se);return 0===J&&fe>0&&(fe-=A),1===J&&fe<0&&(fe+=A),[pe,ge,ae,fe]}(d,a,t,i,r,n,p,x,h,y,v,m)),w=S[0],E=S[1],L=S[2],C=S[3],O=Math.abs(C)/(A/4);Math.abs(1-O)<1e-7&&(O=1);var R=Math.max(Math.ceil(O),1);C/=R;for(var q=0;q<R;q++)g.push(l(L,C)),L+=C;return g.map(function(P){var U=k(P[0],r,n,y,h,w,E),N=U.x,F=U.y,j=k(P[1],r,n,y,h,w,E),G=j.x,te=j.y,J=k(P[2],r,n,y,h,w,E);return{x1:N,y1:F,x2:G,y2:te,x:J.x,y:J.y}})}},1750:function(ee,D,e){"use strict";var A=e(95616),k=e(65185),l=e(29988),T=e(89546),b=e(32791);ee.exports=function(d){if(Array.isArray(d)&&1===d.length&&"string"==typeof d[0]&&(d=d[0]),"string"==typeof d&&(b(T(d),"String is not an SVG path."),d=A(d)),b(Array.isArray(d),"Argument should be a string or an array of path segments."),d=k(d),!(d=l(d)).length)return[0,0,0,0];for(var a=[1/0,1/0,-1/0,-1/0],t=0,i=d.length;t<i;t++)for(var r=d[t].slice(1),n=0;n<r.length;n+=2)r[n+0]<a[0]&&(a[0]=r[n+0]),r[n+1]<a[1]&&(a[1]=r[n+1]),r[n+0]>a[2]&&(a[2]=r[n+0]),r[n+1]>a[3]&&(a[3]=r[n+1]);return a}},29988:function(ee,D,e){"use strict";ee.exports=function(T){for(var b,d=[],a=0,t=0,i=0,r=0,n=null,o=null,s=0,u=0,p=0,c=T.length;p<c;p++){var x=T[p],g=x[0];switch(g){case"M":i=x[1],r=x[2];break;case"A":var h=A({px:s,py:u,cx:x[6],cy:x[7],rx:x[1],ry:x[2],xAxisRotation:x[3],largeArcFlag:x[4],sweepFlag:x[5]});if(!h.length)continue;for(var y,v=0;v<h.length;v++)x=["C",(y=h[v]).x1,y.y1,y.x2,y.y2,y.x,y.y],v<h.length-1&&d.push(x);break;case"S":var m=s,_=u;"C"!=b&&"S"!=b||(m+=m-a,_+=_-t),x=["C",m,_,x[1],x[2],x[3],x[4]];break;case"T":"Q"==b||"T"==b?(n=2*s-n,o=2*u-o):(n=s,o=u),x=l(s,u,n,o,x[1],x[2]);break;case"Q":n=x[1],o=x[2],x=l(s,u,x[1],x[2],x[3],x[4]);break;case"L":x=k(s,u,x[1],x[2]);break;case"H":x=k(s,u,x[1],u);break;case"V":x=k(s,u,s,x[1]);break;case"Z":x=k(s,u,i,r)}b=g,s=x[x.length-2],u=x[x.length-1],x.length>4?(a=x[x.length-4],t=x[x.length-3]):(a=s,t=u),d.push(x)}return d};var A=e(7095);function k(T,b,d,a){return["C",T,b,d,a,d,a]}function l(T,b,d,a,t,i){return["C",T/3+.6666666666666666*d,b/3+.6666666666666666*a,t/3+.6666666666666666*d,i/3+.6666666666666666*a,t,i]}},82019:function(ee,D,e){"use strict";var A,k=e(1750),l=e(95616),T=e(31457),b=e(89546),d=e(44781),a=document.createElement("canvas"),t=a.getContext("2d");ee.exports=function(i,r){if(!b(i))throw Error("Argument should be valid svg path string");var n,o;r||(r={}),r.shape?(n=r.shape[0],o=r.shape[1]):(n=a.width=r.w||r.width||200,o=a.height=r.h||r.height||200);var s=Math.min(n,o),u=r.stroke||0,p=r.viewbox||r.viewBox||k(i),c=[n/(p[2]-p[0]),o/(p[3]-p[1])],x=Math.min(c[0]||0,c[1]||0)/2;if(t.fillStyle="black",t.fillRect(0,0,n,o),t.fillStyle="white",u&&("number"!=typeof u&&(u=1),t.strokeStyle=u>0?"white":"black",t.lineWidth=Math.abs(u)),t.translate(.5*n,.5*o),t.scale(x,x),function(){if(null!=A)return A;var y=document.createElement("canvas").getContext("2d");if(y.canvas.width=y.canvas.height=1,!window.Path2D)return A=!1;var v=new Path2D("M0,0h1v1h-1v-1Z");y.fillStyle="black",y.fill(v);var m=y.getImageData(0,0,1,1);return A=m&&m.data&&255===m.data[3]}()){var g=new Path2D(i);t.fill(g),u&&t.stroke(g)}else{var h=l(i);T(t,h),t.fill(),u&&t.stroke()}return t.setTransform(1,0,0,1,0,0),d(t,{cutoff:null!=r.cutoff?r.cutoff:.5,radius:null!=r.radius?r.radius:.5*s})}},84267:function(ee,D,e){var A;!function(k){var l=/^\s+/,T=/\s+$/,b=0,d=k.round,a=k.min,t=k.max,i=k.random;function r(W,$){if($=$||{},(W=W||"")instanceof r)return W;if(!(this instanceof r))return new r(W,$);var re,ue,xe,Me,me,pe,ge,Pe,_e,we,ne=(Me={r:0,g:0,b:0},me=1,pe=null,ge=null,Pe=null,_e=!1,we=!1,"string"==typeof(re=W)&&(re=function(se){se=se.replace(l,"").replace(T,"").toLowerCase();var ae,fe=!1;if(L[se])se=L[se],fe=!0;else if("transparent"==se)return{r:0,g:0,b:0,a:0,format:"name"};return(ae=X.rgb.exec(se))?{r:ae[1],g:ae[2],b:ae[3]}:(ae=X.rgba.exec(se))?{r:ae[1],g:ae[2],b:ae[3],a:ae[4]}:(ae=X.hsl.exec(se))?{h:ae[1],s:ae[2],l:ae[3]}:(ae=X.hsla.exec(se))?{h:ae[1],s:ae[2],l:ae[3],a:ae[4]}:(ae=X.hsv.exec(se))?{h:ae[1],s:ae[2],v:ae[3]}:(ae=X.hsva.exec(se))?{h:ae[1],s:ae[2],v:ae[3],a:ae[4]}:(ae=X.hex8.exec(se))?{r:P(ae[1]),g:P(ae[2]),b:P(ae[3]),a:j(ae[4]),format:fe?"name":"hex8"}:(ae=X.hex6.exec(se))?{r:P(ae[1]),g:P(ae[2]),b:P(ae[3]),format:fe?"name":"hex"}:(ae=X.hex4.exec(se))?{r:P(ae[1]+""+ae[1]),g:P(ae[2]+""+ae[2]),b:P(ae[3]+""+ae[3]),a:j(ae[4]+""+ae[4]),format:fe?"name":"hex8"}:!!(ae=X.hex3.exec(se))&&{r:P(ae[1]+""+ae[1]),g:P(ae[2]+""+ae[2]),b:P(ae[3]+""+ae[3]),format:fe?"name":"hex"}}(re)),"object"==typeof re&&(Y(re.r)&&Y(re.g)&&Y(re.b)?(ue=re.g,xe=re.b,Me={r:255*R(re.r,255),g:255*R(ue,255),b:255*R(xe,255)},_e=!0,we="%"===String(re.r).substr(-1)?"prgb":"rgb"):Y(re.h)&&Y(re.s)&&Y(re.v)?(pe=N(re.s),ge=N(re.v),Me=function(se,ae,fe){se=6*R(se,360),ae=R(ae,100),fe=R(fe,100);var Ee=k.floor(se),ke=se-Ee,be=fe*(1-ae),Ie=fe*(1-ke*ae),Fe=fe*(1-(1-ke)*ae),ce=Ee%6;return{r:255*[fe,Ie,be,be,Fe,fe][ce],g:255*[Fe,fe,fe,Ie,be,be][ce],b:255*[be,be,Fe,fe,fe,Ie][ce]}}(re.h,pe,ge),_e=!0,we="hsv"):Y(re.h)&&Y(re.s)&&Y(re.l)&&(pe=N(re.s),Pe=N(re.l),Me=function(se,ae,fe){var Ee,ke,be;function Ie(Te,ve,Ce){return Ce<0&&(Ce+=1),Ce>1&&(Ce-=1),Ce<1/6?Te+6*(ve-Te)*Ce:Ce<.5?ve:Ce<2/3?Te+(ve-Te)*(2/3-Ce)*6:Te}if(se=R(se,360),ae=R(ae,100),fe=R(fe,100),0===ae)Ee=ke=be=fe;else{var Fe=fe<.5?fe*(1+ae):fe+ae-fe*ae,ce=2*fe-Fe;Ee=Ie(ce,Fe,se+1/3),ke=Ie(ce,Fe,se),be=Ie(ce,Fe,se-1/3)}return{r:255*Ee,g:255*ke,b:255*be}}(re.h,pe,Pe),_e=!0,we="hsl"),re.hasOwnProperty("a")&&(me=re.a)),me=O(me),{ok:_e,format:re.format||we,r:a(255,t(Me.r,0)),g:a(255,t(Me.g,0)),b:a(255,t(Me.b,0)),a:me});this._originalInput=W,this._r=ne.r,this._g=ne.g,this._b=ne.b,this._a=ne.a,this._roundA=d(100*this._a)/100,this._format=$.format||ne.format,this._gradientType=$.gradientType,this._r<1&&(this._r=d(this._r)),this._g<1&&(this._g=d(this._g)),this._b<1&&(this._b=d(this._b)),this._ok=ne.ok,this._tc_id=b++}function n(W,$,ne){W=R(W,255),$=R($,255),ne=R(ne,255);var re,oe,ue=t(W,$,ne),xe=a(W,$,ne),Me=(ue+xe)/2;if(ue==xe)re=oe=0;else{var me=ue-xe;switch(oe=Me>.5?me/(2-ue-xe):me/(ue+xe),ue){case W:re=($-ne)/me+($<ne?6:0);break;case $:re=(ne-W)/me+2;break;case ne:re=(W-$)/me+4}re/=6}return{h:re,s:oe,l:Me}}function o(W,$,ne){W=R(W,255),$=R($,255),ne=R(ne,255);var re,oe,ue=t(W,$,ne),xe=a(W,$,ne),Me=ue,me=ue-xe;if(oe=0===ue?0:me/ue,ue==xe)re=0;else{switch(ue){case W:re=($-ne)/me+($<ne?6:0);break;case $:re=(ne-W)/me+2;break;case ne:re=(W-$)/me+4}re/=6}return{h:re,s:oe,v:Me}}function s(W,$,ne,re){var oe=[U(d(W).toString(16)),U(d($).toString(16)),U(d(ne).toString(16))];return re&&oe[0].charAt(0)==oe[0].charAt(1)&&oe[1].charAt(0)==oe[1].charAt(1)&&oe[2].charAt(0)==oe[2].charAt(1)?oe[0].charAt(0)+oe[1].charAt(0)+oe[2].charAt(0):oe.join("")}function u(W,$,ne,re){return[U(F(re)),U(d(W).toString(16)),U(d($).toString(16)),U(d(ne).toString(16))].join("")}function p(W,$){$=0===$?0:$||10;var ne=r(W).toHsl();return ne.s-=$/100,ne.s=q(ne.s),r(ne)}function c(W,$){$=0===$?0:$||10;var ne=r(W).toHsl();return ne.s+=$/100,ne.s=q(ne.s),r(ne)}function x(W){return r(W).desaturate(100)}function g(W,$){$=0===$?0:$||10;var ne=r(W).toHsl();return ne.l+=$/100,ne.l=q(ne.l),r(ne)}function h(W,$){$=0===$?0:$||10;var ne=r(W).toRgb();return ne.r=t(0,a(255,ne.r-d(-$/100*255))),ne.g=t(0,a(255,ne.g-d(-$/100*255))),ne.b=t(0,a(255,ne.b-d(-$/100*255))),r(ne)}function y(W,$){$=0===$?0:$||10;var ne=r(W).toHsl();return ne.l-=$/100,ne.l=q(ne.l),r(ne)}function v(W,$){var ne=r(W).toHsl(),re=(ne.h+$)%360;return ne.h=re<0?360+re:re,r(ne)}function m(W){var $=r(W).toHsl();return $.h=($.h+180)%360,r($)}function _(W){var $=r(W).toHsl(),ne=$.h;return[r(W),r({h:(ne+120)%360,s:$.s,l:$.l}),r({h:(ne+240)%360,s:$.s,l:$.l})]}function f(W){var $=r(W).toHsl(),ne=$.h;return[r(W),r({h:(ne+90)%360,s:$.s,l:$.l}),r({h:(ne+180)%360,s:$.s,l:$.l}),r({h:(ne+270)%360,s:$.s,l:$.l})]}function S(W){var $=r(W).toHsl(),ne=$.h;return[r(W),r({h:(ne+72)%360,s:$.s,l:$.l}),r({h:(ne+216)%360,s:$.s,l:$.l})]}function w(W,$,ne){$=$||6,ne=ne||30;var re=r(W).toHsl(),oe=360/ne,ue=[r(W)];for(re.h=(re.h-(oe*$>>1)+720)%360;--$;)re.h=(re.h+oe)%360,ue.push(r(re));return ue}function E(W,$){$=$||6;for(var ne=r(W).toHsv(),re=ne.h,oe=ne.s,ue=ne.v,xe=[],Me=1/$;$--;)xe.push(r({h:re,s:oe,v:ue})),ue=(ue+Me)%1;return xe}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var W=this.toRgb();return(299*W.r+587*W.g+114*W.b)/1e3},getLuminance:function(){var W,$,ne,re=this.toRgb();return $=re.g/255,ne=re.b/255,.2126*((W=re.r/255)<=.03928?W/12.92:k.pow((W+.055)/1.055,2.4))+.7152*($<=.03928?$/12.92:k.pow(($+.055)/1.055,2.4))+.0722*(ne<=.03928?ne/12.92:k.pow((ne+.055)/1.055,2.4))},setAlpha:function(W){return this._a=O(W),this._roundA=d(100*this._a)/100,this},toHsv:function(){var W=o(this._r,this._g,this._b);return{h:360*W.h,s:W.s,v:W.v,a:this._a}},toHsvString:function(){var W=o(this._r,this._g,this._b),$=d(360*W.h),ne=d(100*W.s),re=d(100*W.v);return 1==this._a?"hsv("+$+", "+ne+"%, "+re+"%)":"hsva("+$+", "+ne+"%, "+re+"%, "+this._roundA+")"},toHsl:function(){var W=n(this._r,this._g,this._b);return{h:360*W.h,s:W.s,l:W.l,a:this._a}},toHslString:function(){var W=n(this._r,this._g,this._b),$=d(360*W.h),ne=d(100*W.s),re=d(100*W.l);return 1==this._a?"hsl("+$+", "+ne+"%, "+re+"%)":"hsla("+$+", "+ne+"%, "+re+"%, "+this._roundA+")"},toHex:function(W){return s(this._r,this._g,this._b,W)},toHexString:function(W){return"#"+this.toHex(W)},toHex8:function(W){return ne=this._g,re=this._b,oe=this._a,ue=W,xe=[U(d(this._r).toString(16)),U(d(ne).toString(16)),U(d(re).toString(16)),U(F(oe))],ue&&xe[0].charAt(0)==xe[0].charAt(1)&&xe[1].charAt(0)==xe[1].charAt(1)&&xe[2].charAt(0)==xe[2].charAt(1)&&xe[3].charAt(0)==xe[3].charAt(1)?xe[0].charAt(0)+xe[1].charAt(0)+xe[2].charAt(0)+xe[3].charAt(0):xe.join("");var ne,re,oe,ue,xe},toHex8String:function(W){return"#"+this.toHex8(W)},toRgb:function(){return{r:d(this._r),g:d(this._g),b:d(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+d(this._r)+", "+d(this._g)+", "+d(this._b)+")":"rgba("+d(this._r)+", "+d(this._g)+", "+d(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:d(100*R(this._r,255))+"%",g:d(100*R(this._g,255))+"%",b:d(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+d(100*R(this._r,255))+"%, "+d(100*R(this._g,255))+"%, "+d(100*R(this._b,255))+"%)":"rgba("+d(100*R(this._r,255))+"%, "+d(100*R(this._g,255))+"%, "+d(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(C[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(W){var $="#"+u(this._r,this._g,this._b,this._a),ne=$,re=this._gradientType?"GradientType = 1, ":"";if(W){var oe=r(W);ne="#"+u(oe._r,oe._g,oe._b,oe._a)}return"progid:DXImageTransform.Microsoft.gradient("+re+"startColorstr="+$+",endColorstr="+ne+")"},toString:function(W){var $=!!W;W=W||this._format;var ne=!1;return $||!(this._a<1&&this._a>=0)||"hex"!==W&&"hex6"!==W&&"hex3"!==W&&"hex4"!==W&&"hex8"!==W&&"name"!==W?("rgb"===W&&(ne=this.toRgbString()),"prgb"===W&&(ne=this.toPercentageRgbString()),"hex"!==W&&"hex6"!==W||(ne=this.toHexString()),"hex3"===W&&(ne=this.toHexString(!0)),"hex4"===W&&(ne=this.toHex8String(!0)),"hex8"===W&&(ne=this.toHex8String()),"name"===W&&(ne=this.toName()),"hsl"===W&&(ne=this.toHslString()),"hsv"===W&&(ne=this.toHsvString()),ne||this.toHexString()):"name"===W&&0===this._a?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(W,$){var ne=W.apply(null,[this].concat([].slice.call($)));return this._r=ne._r,this._g=ne._g,this._b=ne._b,this.setAlpha(ne._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(W,$){return W.apply(null,[this].concat([].slice.call($)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(f,arguments)}},r.fromRatio=function(W,$){if("object"==typeof W){var ne={};for(var re in W)W.hasOwnProperty(re)&&(ne[re]="a"===re?W[re]:N(W[re]));W=ne}return r(W,$)},r.equals=function(W,$){return!(!W||!$)&&r(W).toRgbString()==r($).toRgbString()},r.random=function(){return r.fromRatio({r:i(),g:i(),b:i()})},r.mix=function(W,$,ne){ne=0===ne?0:ne||50;var re=r(W).toRgb(),oe=r($).toRgb(),ue=ne/100;return r({r:(oe.r-re.r)*ue+re.r,g:(oe.g-re.g)*ue+re.g,b:(oe.b-re.b)*ue+re.b,a:(oe.a-re.a)*ue+re.a})},r.readability=function(W,$){var ne=r(W),re=r($);return(k.max(ne.getLuminance(),re.getLuminance())+.05)/(k.min(ne.getLuminance(),re.getLuminance())+.05)},r.isReadable=function(W,$,ne){var re,oe,ue,xe,Me,me=r.readability(W,$);switch(oe=!1,(ue=ne,"AA"!==(xe=((ue=ue||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==xe&&(xe="AA"),"small"!==(Me=(ue.size||"small").toLowerCase())&&"large"!==Me&&(Me="small"),re={level:xe,size:Me}).level+re.size){case"AAsmall":case"AAAlarge":oe=me>=4.5;break;case"AAlarge":oe=me>=3;break;case"AAAsmall":oe=me>=7}return oe},r.mostReadable=function(W,$,ne){var re,oe,ue,xe,Me=null,me=0;oe=(ne=ne||{}).includeFallbackColors,ue=ne.level,xe=ne.size;for(var pe=0;pe<$.length;pe++)(re=r.readability(W,$[pe]))>me&&(me=re,Me=r($[pe]));return r.isReadable(W,Me,{level:ue,size:xe})||!oe?Me:(ne.includeFallbackColors=!1,r.mostReadable(W,["#fff","#000"],ne))};var L=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=r.hexNames=function(W){var $={};for(var ne in W)W.hasOwnProperty(ne)&&($[W[ne]]=ne);return $}(L);function O(W){return W=parseFloat(W),(isNaN(W)||W<0||W>1)&&(W=1),W}function R(W,$){var re;"string"==typeof(re=W)&&-1!=re.indexOf(".")&&1===parseFloat(re)&&(W="100%");var ne=function(re){return"string"==typeof re&&-1!=re.indexOf("%")}(W);return W=a($,t(0,parseFloat(W))),ne&&(W=parseInt(W*$,10)/100),k.abs(W-$)<1e-6?1:W%$/parseFloat($)}function q(W){return a(1,t(0,W))}function P(W){return parseInt(W,16)}function U(W){return 1==W.length?"0"+W:""+W}function N(W){return W<=1&&(W=100*W+"%"),W}function F(W){return k.round(255*parseFloat(W)).toString(16)}function j(W){return P(W)/255}var G,te,J,X=(te="[\\s|\\(]+("+(G="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",J="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",{CSS_UNIT:new RegExp(G),rgb:new RegExp("rgb"+te),rgba:new RegExp("rgba"+J),hsl:new RegExp("hsl"+te),hsla:new RegExp("hsla"+J),hsv:new RegExp("hsv"+te),hsva:new RegExp("hsva"+J),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Y(W){return!!X.CSS_UNIT.exec(W)}ee.exports?ee.exports=r:void 0===(A=function(){return r}.call(D,e,D,ee))||(ee.exports=A)}(Math)},57060:function(ee){"use strict";ee.exports=e,ee.exports.float32=ee.exports.float=e,ee.exports.fract32=ee.exports.fract=function(A,k){if(A.length){if(A instanceof Float32Array)return new Float32Array(A.length);k instanceof Float32Array||(k=e(A));for(var l=0,T=k.length;l<T;l++)k[l]=A[l]-k[l];return k}return e(A-e(A))};var D=new Float32Array(1);function e(A){return A.length?A instanceof Float32Array?A:new Float32Array(A):(D[0]=A,D[0])}},75686:function(ee,D,e){"use strict";var A=e(25677);ee.exports=T;var k=96;function l(b,d){var a=A(getComputedStyle(b).getPropertyValue(d));return a[0]*T(a[1],b)}function T(b,d){switch(d=d||document.body,b=(b||"px").trim().toLowerCase(),d!==window&&d!==document||(d=document.body),b){case"%":return d.clientHeight/100;case"ch":case"ex":return function(a,t){var i=document.createElement("div");i.style["font-size"]="128"+a,t.appendChild(i);var r=l(i,"font-size")/128;return t.removeChild(i),r}(b,d);case"em":return l(d,"font-size");case"rem":return l(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return k;case"cm":return k/2.54;case"mm":return k/25.4;case"pt":return k/72;case"pc":return k/6}return 1}},96892:function(ee,D,e){"use strict";function A(T){return T}function k(T,b){return"string"==typeof b&&(b=T.objects[b]),"GeometryCollection"===b.type?{type:"FeatureCollection",features:b.geometries.map(function(d){return l(T,d)})}:l(T,b)}function l(T,b){var d=b.id,a=b.bbox,t=null==b.properties?{}:b.properties,i=function(r,n){var o=function(h){if(null==h)return A;var y,v,m=h.scale[0],_=h.scale[1],f=h.translate[0],S=h.translate[1];return function(w,E){E||(y=v=0);var L=2,C=w.length,O=new Array(C);for(O[0]=(y+=w[0])*m+f,O[1]=(v+=w[1])*_+S;L<C;)O[L]=w[L],++L;return O}}(r.transform),s=r.arcs;function u(h,y){y.length&&y.pop();for(var v=s[h<0?~h:h],m=0,_=v.length;m<_;++m)y.push(o(v[m],m));h<0&&function(f,S){for(var w,E=f.length,L=E-S;L<--E;)w=f[L],f[L++]=f[E],f[E]=w}(y,_)}function p(h){return o(h)}function c(h){for(var y=[],v=0,m=h.length;v<m;++v)u(h[v],y);return y.length<2&&y.push(y[0]),y}function x(h){for(var y=c(h);y.length<4;)y.push(y[0]);return y}function g(h){return h.map(x)}return function h(y){var v,m=y.type;switch(m){case"GeometryCollection":return{type:m,geometries:y.geometries.map(h)};case"Point":v=p(y.coordinates);break;case"MultiPoint":v=y.coordinates.map(p);break;case"LineString":v=c(y.arcs);break;case"MultiLineString":v=y.arcs.map(c);break;case"Polygon":v=g(y.arcs);break;case"MultiPolygon":v=y.arcs.map(g);break;default:return null}return{type:m,coordinates:v}}(n)}(T,b);return null==d&&null==a?{type:"Feature",properties:t,geometry:i}:null==a?{type:"Feature",id:d,properties:t,geometry:i}:{type:"Feature",id:d,bbox:a,properties:t,geometry:i}}e.d(D,{zL:function(){return k}})},73116:function(ee,D,e){"use strict";var A=e(24511);ee.exports=function(k){if("function"!=typeof k||!hasOwnProperty.call(k,"length"))return!1;try{if("number"!=typeof k.length||"function"!=typeof k.call||"function"!=typeof k.apply)return!1}catch{return!1}return!A(k)}},69190:function(ee,D,e){"use strict";var A=e(24582),k=e(47403),l=e(9234),T=e(6048),b=function(d,a){return d.replace("%v",T(a))};ee.exports=function(d,a,t){if(!k(t))throw new TypeError(b(a,d));if(!A(d)){if("default"in t)return t.default;if(t.isOptional)return null}var i=l(t.errorMessage);throw A(i)||(i=a),new TypeError(b(i,d))}},18497:function(ee){"use strict";ee.exports=function(D){try{return D.toString()}catch{try{return String(D)}catch{return null}}}},6048:function(ee,D,e){"use strict";var A=e(18497),k=/[\n\r\u2028\u2029]/g;ee.exports=function(l){var T=A(l);return null===T?"<Non-coercible to string value>":(T.length>100&&(T=T.slice(0,99)+"\u2026"),T=T.replace(k,function(b){switch(b){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(ee,D,e){"use strict";var A=e(24582),k={object:!0,function:!0,undefined:!0};ee.exports=function(l){return!!A(l)&&hasOwnProperty.call(k,typeof l)}},82527:function(ee,D,e){"use strict";var A=e(69190),k=e(84985);ee.exports=function(l){return k(l)?l:A(l,"%v is not a plain function",arguments[1])}},84985:function(ee,D,e){"use strict";var A=e(73116),k=/^\s*class[\s{/}]/,l=Function.prototype.toString;ee.exports=function(T){return!!A(T)&&!k.test(l.call(T))}},24511:function(ee,D,e){"use strict";var A=e(47403);ee.exports=function(k){if(!A(k))return!1;try{return!!k.constructor&&k.constructor.prototype===k}catch{return!1}}},9234:function(ee,D,e){"use strict";var A=e(24582),k=e(47403),l=Object.prototype.toString;ee.exports=function(T){if(!A(T))return null;if(k(T)){var b=T.toString;if("function"!=typeof b||b===l)return null}try{return""+T}catch{return null}}},10424:function(ee,D,e){"use strict";var A=e(69190),k=e(24582);ee.exports=function(l){return k(l)?l:A(l,"Cannot use %v",arguments[1])}},24582:function(ee){"use strict";ee.exports=function(D){return null!=D}},58404:function(ee,D,e){"use strict";var A=e(13547),k=e(12129),l=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:k([32,0]),UINT16:k([32,0]),UINT32:k([32,0]),BIGUINT64:k([32,0]),INT8:k([32,0]),INT16:k([32,0]),INT32:k([32,0]),BIGINT64:k([32,0]),FLOAT:k([32,0]),DOUBLE:k([32,0]),DATA:k([32,0]),UINT8C:k([32,0]),BUFFER:k([32,0])});var T=typeof Uint8ClampedArray<"u",b=typeof BigUint64Array<"u",d=typeof BigInt64Array<"u",a=e.g.__TYPEDARRAY_POOL;a.UINT8C||(a.UINT8C=k([32,0])),a.BIGUINT64||(a.BIGUINT64=k([32,0])),a.BIGINT64||(a.BIGINT64=k([32,0])),a.BUFFER||(a.BUFFER=k([32,0]));var t=a.DATA,i=a.BUFFER;function r(S){if(S){var E=A.log2(S.length||S.byteLength);t[E].push(S)}}function n(S){S=A.nextPow2(S);var w=A.log2(S),E=t[w];return E.length>0?E.pop():new ArrayBuffer(S)}function o(S){return new Uint8Array(n(S),0,S)}function s(S){return new Uint16Array(n(2*S),0,S)}function u(S){return new Uint32Array(n(4*S),0,S)}function p(S){return new Int8Array(n(S),0,S)}function c(S){return new Int16Array(n(2*S),0,S)}function x(S){return new Int32Array(n(4*S),0,S)}function g(S){return new Float32Array(n(4*S),0,S)}function h(S){return new Float64Array(n(8*S),0,S)}function y(S){return T?new Uint8ClampedArray(n(S),0,S):o(S)}function v(S){return b?new BigUint64Array(n(8*S),0,S):null}function m(S){return d?new BigInt64Array(n(8*S),0,S):null}function _(S){return new DataView(n(S),0,S)}function f(S){S=A.nextPow2(S);var w=A.log2(S),E=i[w];return E.length>0?E.pop():new l(S)}D.free=function(S){if(l.isBuffer(S))i[A.log2(S.length)].push(S);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(S)&&(S=S.buffer),!S)return;var E=0|A.log2(S.length||S.byteLength);t[E].push(S)}},D.freeUint8=D.freeUint16=D.freeUint32=D.freeBigUint64=D.freeInt8=D.freeInt16=D.freeInt32=D.freeBigInt64=D.freeFloat32=D.freeFloat=D.freeFloat64=D.freeDouble=D.freeUint8Clamped=D.freeDataView=function(S){r(S.buffer)},D.freeArrayBuffer=r,D.freeBuffer=function(S){i[A.log2(S.length)].push(S)},D.malloc=function(S,w){if(void 0===w||"arraybuffer"===w)return n(S);switch(w){case"uint8":return o(S);case"uint16":return s(S);case"uint32":return u(S);case"int8":return p(S);case"int16":return c(S);case"int32":return x(S);case"float":case"float32":return g(S);case"double":case"float64":return h(S);case"uint8_clamped":return y(S);case"bigint64":return m(S);case"biguint64":return v(S);case"buffer":return f(S);case"data":case"dataview":return _(S);default:return null}return null},D.mallocArrayBuffer=n,D.mallocUint8=o,D.mallocUint16=s,D.mallocUint32=u,D.mallocInt8=p,D.mallocInt16=c,D.mallocInt32=x,D.mallocFloat32=D.mallocFloat=g,D.mallocFloat64=D.mallocDouble=h,D.mallocUint8Clamped=y,D.mallocBigUint64=v,D.mallocBigInt64=m,D.mallocDataView=_,D.mallocBuffer=f,D.clearCache=function(){for(var S=0;S<32;++S)a.UINT8[S].length=0,a.UINT16[S].length=0,a.UINT32[S].length=0,a.INT8[S].length=0,a.INT16[S].length=0,a.INT32[S].length=0,a.FLOAT[S].length=0,a.DOUBLE[S].length=0,a.BIGUINT64[S].length=0,a.BIGINT64[S].length=0,a.UINT8C[S].length=0,t[S].length=0,i[S].length=0}},90448:function(ee){var D=/[\'\"]/;ee.exports=function(e){return e?(D.test(e.charAt(0))&&(e=e.substr(1)),D.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},93447:function(ee){"use strict";ee.exports=function(D,e,A){Array.isArray(A)||(A=[].slice.call(arguments,2));for(var k=0,l=A.length;k<l;k++){var T=A[k];for(var b in T)if((void 0===e[b]||Array.isArray(e[b])||D[b]!==e[b])&&b in e){var d;if(!0===T[b])d=e[b];else if(!1===T[b]||"function"==typeof T[b]&&void 0===(d=T[b](e[b],D,e)))continue;D[b]=d}}return D}},20588:function(ee,D,e){function A(k){try{if(!e.g.localStorage)return!1}catch{return!1}var l=e.g.localStorage[k];return null!=l&&"true"===String(l).toLowerCase()}ee.exports=function(k,l){if(A("noDeprecation"))return k;var T=!1;return function(){if(!T){if(A("throwDeprecation"))throw new Error(l);A("traceDeprecation")?console.trace(l):console.warn(l),T=!0}return k.apply(this,arguments)}}},45920:function(ee){ee.exports=function(D){return D&&"object"==typeof D&&"function"==typeof D.copy&&"function"==typeof D.fill&&"function"==typeof D.readUInt8}},4936:function(ee,D,e){"use strict";var A=e(47216),k=e(65481),l=e(21099),T=e(9187);function b(R){return R.call.bind(R)}var d=typeof BigInt<"u",a=typeof Symbol<"u",t=b(Object.prototype.toString),i=b(Number.prototype.valueOf),r=b(String.prototype.valueOf),n=b(Boolean.prototype.valueOf);if(d)var o=b(BigInt.prototype.valueOf);if(a)var s=b(Symbol.prototype.valueOf);function u(R,q){if("object"!=typeof R)return!1;try{return q(R),!0}catch{return!1}}function p(R){return"[object Map]"===t(R)}function c(R){return"[object Set]"===t(R)}function x(R){return"[object WeakMap]"===t(R)}function g(R){return"[object WeakSet]"===t(R)}function h(R){return"[object ArrayBuffer]"===t(R)}function y(R){return typeof ArrayBuffer<"u"&&(h.working?h(R):R instanceof ArrayBuffer)}function v(R){return"[object DataView]"===t(R)}function m(R){return typeof DataView<"u"&&(v.working?v(R):R instanceof DataView)}D.isArgumentsObject=A,D.isGeneratorFunction=k,D.isTypedArray=T,D.isPromise=function(R){return typeof Promise<"u"&&R instanceof Promise||null!==R&&"object"==typeof R&&"function"==typeof R.then&&"function"==typeof R.catch},D.isArrayBufferView=function(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):T(R)||m(R)},D.isUint8Array=function(R){return"Uint8Array"===l(R)},D.isUint8ClampedArray=function(R){return"Uint8ClampedArray"===l(R)},D.isUint16Array=function(R){return"Uint16Array"===l(R)},D.isUint32Array=function(R){return"Uint32Array"===l(R)},D.isInt8Array=function(R){return"Int8Array"===l(R)},D.isInt16Array=function(R){return"Int16Array"===l(R)},D.isInt32Array=function(R){return"Int32Array"===l(R)},D.isFloat32Array=function(R){return"Float32Array"===l(R)},D.isFloat64Array=function(R){return"Float64Array"===l(R)},D.isBigInt64Array=function(R){return"BigInt64Array"===l(R)},D.isBigUint64Array=function(R){return"BigUint64Array"===l(R)},p.working=typeof Map<"u"&&p(new Map),D.isMap=function(R){return typeof Map<"u"&&(p.working?p(R):R instanceof Map)},c.working=typeof Set<"u"&&c(new Set),D.isSet=function(R){return typeof Set<"u"&&(c.working?c(R):R instanceof Set)},x.working=typeof WeakMap<"u"&&x(new WeakMap),D.isWeakMap=function(R){return typeof WeakMap<"u"&&(x.working?x(R):R instanceof WeakMap)},g.working=typeof WeakSet<"u"&&g(new WeakSet),D.isWeakSet=function(R){return g(R)},h.working=typeof ArrayBuffer<"u"&&h(new ArrayBuffer),D.isArrayBuffer=y,v.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&v(new DataView(new ArrayBuffer(1),0,1)),D.isDataView=m;var _=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function f(R){return"[object SharedArrayBuffer]"===t(R)}function S(R){return void 0!==_&&(void 0===f.working&&(f.working=f(new _)),f.working?f(R):R instanceof _)}function w(R){return u(R,i)}function E(R){return u(R,r)}function L(R){return u(R,n)}function C(R){return d&&u(R,o)}function O(R){return a&&u(R,s)}D.isSharedArrayBuffer=S,D.isAsyncFunction=function(R){return"[object AsyncFunction]"===t(R)},D.isMapIterator=function(R){return"[object Map Iterator]"===t(R)},D.isSetIterator=function(R){return"[object Set Iterator]"===t(R)},D.isGeneratorObject=function(R){return"[object Generator]"===t(R)},D.isWebAssemblyCompiledModule=function(R){return"[object WebAssembly.Module]"===t(R)},D.isNumberObject=w,D.isStringObject=E,D.isBooleanObject=L,D.isBigIntObject=C,D.isSymbolObject=O,D.isBoxedPrimitive=function(R){return w(R)||E(R)||L(R)||C(R)||O(R)},D.isAnyArrayBuffer=function(R){return typeof Uint8Array<"u"&&(y(R)||S(R))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(D,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})},43827:function(ee,D,e){var A=e(90386),k=Object.getOwnPropertyDescriptors||function(O){for(var R=Object.keys(O),q={},P=0;P<R.length;P++)q[R[P]]=Object.getOwnPropertyDescriptor(O,R[P]);return q},l=/%[sdj%]/g;D.format=function(O){if(!x(O)){for(var R=[],q=0;q<arguments.length;q++)R.push(a(arguments[q]));return R.join(" ")}q=1;for(var P=arguments,U=P.length,N=String(O).replace(l,function(j){if("%%"===j)return"%";if(q>=U)return j;switch(j){case"%s":return String(P[q++]);case"%d":return Number(P[q++]);case"%j":try{return JSON.stringify(P[q++])}catch{return"[Circular]"}default:return j}}),F=P[q];q<U;F=P[++q])p(F)||!y(F)?N+=" "+F:N+=" "+a(F);return N},D.deprecate=function(O,R){if(void 0!==A&&!0===A.noDeprecation)return O;if(void 0===A)return function(){return D.deprecate(O,R).apply(this,arguments)};var q=!1;return function(){if(!q){if(A.throwDeprecation)throw new Error(R);A.traceDeprecation?console.trace(R):console.error(R),q=!0}return O.apply(this,arguments)}};var T={},b=/^$/;if(A.env.NODE_DEBUG){var d=A.env.NODE_DEBUG;d=d.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),b=new RegExp("^"+d+"$","i")}function a(O,R){var q={seen:[],stylize:i};return arguments.length>=3&&(q.depth=arguments[2]),arguments.length>=4&&(q.colors=arguments[3]),u(R)?q.showHidden=R:R&&D._extend(q,R),g(q.showHidden)&&(q.showHidden=!1),g(q.depth)&&(q.depth=2),g(q.colors)&&(q.colors=!1),g(q.customInspect)&&(q.customInspect=!0),q.colors&&(q.stylize=t),r(q,O,q.depth)}function t(O,R){var q=a.styles[R];return q?"\x1b["+a.colors[q][0]+"m"+O+"\x1b["+a.colors[q][1]+"m":O}function i(O,R){return O}function r(O,R,q){if(O.customInspect&&R&&_(R.inspect)&&R.inspect!==D.inspect&&(!R.constructor||R.constructor.prototype!==R)){var P=R.inspect(q,O);return x(P)||(P=r(O,P,q)),P}var U=function(Y,W){if(g(W))return Y.stylize("undefined","undefined");if(x(W)){var $="'"+JSON.stringify(W).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Y.stylize($,"string")}return c(W)?Y.stylize(""+W,"number"):u(W)?Y.stylize(""+W,"boolean"):p(W)?Y.stylize("null","null"):void 0}(O,R);if(U)return U;var W,N=Object.keys(R),F=(W={},N.forEach(function($,ne){W[$]=!0}),W);if(O.showHidden&&(N=Object.getOwnPropertyNames(R)),m(R)&&(N.indexOf("message")>=0||N.indexOf("description")>=0))return n(R);if(0===N.length){if(_(R))return O.stylize("[Function"+(R.name?": "+R.name:"")+"]","special");if(h(R))return O.stylize(RegExp.prototype.toString.call(R),"regexp");if(v(R))return O.stylize(Date.prototype.toString.call(R),"date");if(m(R))return n(R)}var G,te="",J=!1,X=["{","}"];return s(R)&&(J=!0,X=["[","]"]),_(R)&&(te=" [Function"+(R.name?": "+R.name:"")+"]"),h(R)&&(te=" "+RegExp.prototype.toString.call(R)),v(R)&&(te=" "+Date.prototype.toUTCString.call(R)),m(R)&&(te=" "+n(R)),0!==N.length||J&&0!=R.length?q<0?h(R)?O.stylize(RegExp.prototype.toString.call(R),"regexp"):O.stylize("[Object]","special"):(O.seen.push(R),G=J?function(Y,W,$,ne,re){for(var oe=[],ue=0,xe=W.length;ue<xe;++ue)E(W,String(ue))?oe.push(o(Y,W,$,ne,String(ue),!0)):oe.push("");return re.forEach(function(Me){Me.match(/^\d+$/)||oe.push(o(Y,W,$,ne,Me,!0))}),oe}(O,R,q,F,N):N.map(function(Y){return o(O,R,q,F,Y,J)}),O.seen.pop(),function(Y,W,$){return Y.reduce(function(ne,re){return re.indexOf("\n"),ne+re.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?$[0]+(""===W?"":W+"\n ")+" "+Y.join(",\n  ")+" "+$[1]:$[0]+W+" "+Y.join(", ")+" "+$[1]}(G,te,X)):X[0]+te+X[1]}function n(O){return"["+Error.prototype.toString.call(O)+"]"}function o(O,R,q,P,U,N){var F,j,G;if((G=Object.getOwnPropertyDescriptor(R,U)||{value:R[U]}).get?j=O.stylize(G.set?"[Getter/Setter]":"[Getter]","special"):G.set&&(j=O.stylize("[Setter]","special")),E(P,U)||(F="["+U+"]"),j||(O.seen.indexOf(G.value)<0?(j=p(q)?r(O,G.value,null):r(O,G.value,q-1)).indexOf("\n")>-1&&(j=N?j.split("\n").map(function(te){return"  "+te}).join("\n").slice(2):"\n"+j.split("\n").map(function(te){return"   "+te}).join("\n")):j=O.stylize("[Circular]","special")),g(F)){if(N&&U.match(/^\d+$/))return j;(F=JSON.stringify(""+U)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.slice(1,-1),F=O.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=O.stylize(F,"string"))}return F+": "+j}function s(O){return Array.isArray(O)}function u(O){return"boolean"==typeof O}function p(O){return null===O}function c(O){return"number"==typeof O}function x(O){return"string"==typeof O}function g(O){return void 0===O}function h(O){return y(O)&&"[object RegExp]"===f(O)}function y(O){return"object"==typeof O&&null!==O}function v(O){return y(O)&&"[object Date]"===f(O)}function m(O){return y(O)&&("[object Error]"===f(O)||O instanceof Error)}function _(O){return"function"==typeof O}function f(O){return Object.prototype.toString.call(O)}function S(O){return O<10?"0"+O.toString(10):O.toString(10)}D.debuglog=function(O){if(O=O.toUpperCase(),!T[O])if(b.test(O)){var R=A.pid;T[O]=function(){var q=D.format.apply(D,arguments);console.error("%s %d: %s",O,R,q)}}else T[O]=function(){};return T[O]},D.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},D.types=e(4936),D.isArray=s,D.isBoolean=u,D.isNull=p,D.isNullOrUndefined=function(O){return null==O},D.isNumber=c,D.isString=x,D.isSymbol=function(O){return"symbol"==typeof O},D.isUndefined=g,D.isRegExp=h,D.types.isRegExp=h,D.isObject=y,D.isDate=v,D.types.isDate=v,D.isError=m,D.types.isNativeError=m,D.isFunction=_,D.isPrimitive=function(O){return null===O||"boolean"==typeof O||"number"==typeof O||"string"==typeof O||"symbol"==typeof O||void 0===O},D.isBuffer=e(45920);var w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(O,R){return Object.prototype.hasOwnProperty.call(O,R)}D.log=function(){var O,R;console.log("%s - %s",(R=[S((O=new Date).getHours()),S(O.getMinutes()),S(O.getSeconds())].join(":"),[O.getDate(),w[O.getMonth()],R].join(" ")),D.format.apply(D,arguments))},D.inherits=e(42018),D._extend=function(O,R){if(!R||!y(R))return O;for(var q=Object.keys(R),P=q.length;P--;)O[q[P]]=R[q[P]];return O};var L=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function C(O,R){if(!O){var q=new Error("Promise was rejected with a falsy value");q.reason=O,O=q}return R(O)}D.promisify=function(O){if("function"!=typeof O)throw new TypeError('The "original" argument must be of type Function');if(L&&O[L]){var R;if("function"!=typeof(R=O[L]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(R,L,{value:R,enumerable:!1,writable:!1,configurable:!0}),R}function R(){for(var q,P,U=new Promise(function(j,G){q=j,P=G}),N=[],F=0;F<arguments.length;F++)N.push(arguments[F]);N.push(function(j,G){j?P(j):q(G)});try{O.apply(this,N)}catch(j){P(j)}return U}return Object.setPrototypeOf(R,Object.getPrototypeOf(O)),L&&Object.defineProperty(R,L,{value:R,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(R,k(O))},D.promisify.custom=L,D.callbackify=function(O){if("function"!=typeof O)throw new TypeError('The "original" argument must be of type Function');function R(){for(var q=[],P=0;P<arguments.length;P++)q.push(arguments[P]);var U=q.pop();if("function"!=typeof U)throw new TypeError("The last argument must be of type Function");var N=this,F=function(){return U.apply(N,arguments)};O.apply(this,q).then(function(j){A.nextTick(F.bind(null,null,j))},function(j){A.nextTick(C.bind(null,j,F))})}return Object.setPrototypeOf(R,Object.getPrototypeOf(O)),Object.defineProperties(R,k(O)),R}},40372:function(ee,D,e){var A=e(86249);ee.exports=function(k){return A("webgl",k)}},21099:function(ee,D,e){"use strict";var A=e(31353),k=e(72077),l=e(6614),T=e(40383),b=l("Object.prototype.toString"),d=e(84543)(),a=typeof globalThis>"u"?e.g:globalThis,t=k(),i=l("String.prototype.slice"),r={},n=Object.getPrototypeOf;d&&T&&n&&A(t,function(s){if("function"==typeof a[s]){var u=new a[s];if(Symbol.toStringTag in u){var p=n(u),c=T(p,Symbol.toStringTag);if(!c){var x=n(p);c=T(x,Symbol.toStringTag)}r[s]=c.get}}});var o=e(9187);ee.exports=function(s){return!!o(s)&&(d&&Symbol.toStringTag in s?(u=s,p=!1,A(r,function(c,x){if(!p)try{var g=c.call(u);g===x&&(p=g)}catch{}}),p):i(b(s),8,-1));var u,p}},3961:function(ee,D,e){var A=e(63489),k=e(56131),l=A.instance();function T(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}k(T.prototype=new A.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(n,o){if("string"==typeof n){var s=n.match(d);return s?s[0]:""}var u=this._validateYear(n),p=n.month(),c=""+this.toChineseMonth(u,p);return o&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(u,p)&&(c+="i"),c},monthNames:function(n){if("string"==typeof n){var o=n.match(a);return o?o[0]:""}var s=this._validateYear(n),u=n.month(),p=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(s,u)-1];return this.isIntercalaryMonth(s,u)&&(p="\u95f0"+p),p},monthNamesShort:function(n){if("string"==typeof n){var o=n.match(t);return o?o[0]:""}var s=this._validateYear(n),u=n.month(),p=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(s,u)-1];return this.isIntercalaryMonth(s,u)&&(p="\u95f0"+p),p},parseMonth:function(n,o){n=this._validateYear(n);var s,u=parseInt(o);if(isNaN(u))"\u95f0"===o[0]&&(s=!0,o=o.substring(1)),"\u6708"===o[o.length-1]&&(o=o.substring(0,o.length-1)),u=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(o);else{var p=o[o.length-1];s="i"===p||"I"===p}return this.toMonthIndex(n,u,s)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(n,o){if(n.year&&(n=n.year()),"number"!=typeof n||n<1888||n>2111)throw o.replace(/\{0\}/,this.local.name);return n},toMonthIndex:function(n,o,s){var u=this.intercalaryMonth(n);if(s&&o!==u||o<1||o>12)throw A.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?!s&&o<=u?o-1:o:o-1},toChineseMonth:function(n,o){n.year&&(o=(n=n.year()).month());var s=this.intercalaryMonth(n);if(o<0||o>(s?12:11))throw A.local.invalidMonth.replace(/\{0\}/,this.local.name);return s?o<s?o+1:o:o+1},intercalaryMonth:function(n){return n=this._validateYear(n),i[n-i[0]]>>13},isIntercalaryMonth:function(n,o){n.year&&(o=(n=n.year()).month());var s=this.intercalaryMonth(n);return!!s&&s===o},leapYear:function(n){return 0!==this.intercalaryMonth(n)},weekOfYear:function(n,o,s){var u,p=this._validateYear(n,A.local.invalidyear),c=r[p-r[0]];(u=l.newDate(c>>9&4095,c>>5&15,31&c)).add(4-(u.dayOfWeek()||7),"d");var y=this.toJD(n,o,s)-u.toJD();return 1+Math.floor(y/7)},monthsInYear:function(n){return this.leapYear(n)?13:12},daysInMonth:function(n,o){n.year&&(o=n.month(),n=n.year()),n=this._validateYear(n);var s=i[n-i[0]];if(o>(s>>13?12:11))throw A.local.invalidMonth.replace(/\{0\}/,this.local.name);return s&1<<12-o?30:29},weekDay:function(n,o,s){return(this.dayOfWeek(n,o,s)||7)<6},toJD:function(n,o,s){var u=this._validate(n,c,s,A.local.invalidDate);n=this._validateYear(u.year()),o=u.month(),s=u.day();var p=this.isIntercalaryMonth(n,o),c=this.toChineseMonth(n,o),x=function(g,h,y,v,m){var _,f,S;if("object"==typeof g)f=g,_=h||{};else{var w;if(!("number"==typeof g&&g>=1888&&g<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof h&&h>=1&&h<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof y&&y>=1&&y<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof v?(w=!1,_=v):(w=!!v,_={}),f={year:g,month:h,day:y,isIntercalary:w}}S=f.day-1;var E,L=i[f.year-i[0]],C=L>>13;E=C&&(f.month>C||f.isIntercalary)?f.month:f.month-1;for(var O=0;O<E;O++)S+=L&1<<12-O?30:29;var R=r[f.year-r[0]],q=new Date(R>>9&4095,(R>>5&15)-1,(31&R)+S);return _.year=q.getFullYear(),_.month=1+q.getMonth(),_.day=q.getDate(),_}(n,c,s,p);return l.toJD(x.year,x.month,x.day)},fromJD:function(n){var o=l.fromJD(n),s=function(p,c,x,g){var h,y;if("object"==typeof p)h=p,y=c||{};else{if(!("number"==typeof p&&p>=1888&&p<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof c&&c>=1&&c<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof x&&x>=1&&x<=31))throw new Error("Solar day outside range 1 - 31");h={year:p,month:c,day:x},y={}}var v=r[h.year-r[0]];y.year=(h.year<<9|h.month<<5|h.day)>=v?h.year:h.year-1,v=r[y.year-r[0]];var _,f=new Date(v>>9&4095,(v>>5&15)-1,31&v),S=new Date(h.year,h.month-1,h.day);_=Math.round((S-f)/864e5);var w,E=i[y.year-i[0]];for(w=0;w<13;w++){var L=E&1<<12-w?30:29;if(_<L)break;_-=L}var C=E>>13;return!C||w<C?(y.isIntercalary=!1,y.month=1+w):w===C?(y.isIntercalary=!0,y.month=w):(y.isIntercalary=!1,y.month=w),y.day=1+_,y}(o.year(),o.month(),o.day()),u=this.toMonthIndex(s.year,s.month,s.isIntercalary);return this.newDate(s.year,u,s.day)},fromString:function(n){var o=n.match(b),s=this._validateYear(+o[1]),c=this.toMonthIndex(s,+o[2],!!o[3]);return this.newDate(s,c,+o[4])},add:function(n,o,s){var u=n.year(),p=n.month(),c=this.isIntercalaryMonth(u,p),x=this.toChineseMonth(u,p),g=Object.getPrototypeOf(T.prototype).add.call(this,n,o,s);if("y"===s){var h=g.year(),y=g.month(),v=this.isIntercalaryMonth(h,x),m=this.toMonthIndex(h,x,!(!c||!v));m!==y&&g.month(m)}return g}});var b=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,d=/^\d?\d[iI]?/m,a=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,t=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;A.calendars.chinese=T;var i=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],r=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(ee,D,e){var A=e(63489);function l(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}e(56131)(l.prototype=new A.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var b=this._validate(T,this.minMonth,this.minDay,A.local.invalidYear);return(T=b.year()+(b.year()<0?1:0))%4==3||T%4==-1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,A.local.invalidYear||A.regionalOptions[""].invalidYear),13},weekOfYear:function(T,b,d){var a=this.newDate(T,b,d);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(T,b){var d=this._validate(T,b,this.minDay,A.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(13===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(T,b,d){return(this.dayOfWeek(T,b,d)||7)<6},toJD:function(T,b,d){var a=this._validate(T,b,d,A.local.invalidDate);return(T=a.year())<0&&T++,a.day()+30*(a.month()-1)+365*(T-1)+Math.floor(T/4)+this.jdEpoch-1},fromJD:function(T){var b=Math.floor(T)+.5-this.jdEpoch,d=Math.floor((b-Math.floor((b+366)/1461))/365)+1;d<=0&&d--,b=Math.floor(T)+.5-this.newDate(d,1,1).toJD();var a=Math.floor(b/30)+1;return this.newDate(d,a,b-30*(a-1)+1)}}),A.calendars.coptic=l},86825:function(ee,D,e){var A=e(63489);function l(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}e(56131)(l.prototype=new A.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(b){return this._validate(b,this.minMonth,this.minDay,A.local.invalidYear),!1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,A.local.invalidYear),13},daysInYear:function(b){return this._validate(b,this.minMonth,this.minDay,A.local.invalidYear),400},weekOfYear:function(b,d,a){var t=this.newDate(b,d,a);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(b,d){var a=this._validate(b,d,this.minDay,A.local.invalidMonth);return this.daysPerMonth[a.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(b,d,a){return(this._validate(b,d,a,A.local.invalidDate).day()+1)%8},weekDay:function(b,d,a){var t=this.dayOfWeek(b,d,a);return t>=2&&t<=6},extraInfo:function(b,d,a){var t=this._validate(b,d,a,A.local.invalidDate);return{century:T[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(b,d,a){var t=this._validate(b,d,a,A.local.invalidDate);return b=t.year()+(t.year()<0?1:0),d=t.month(),(a=t.day())+(d>1?16:0)+(d>2?32*(d-2):0)+400*(b-1)+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b+.5)-Math.floor(this.jdEpoch)-1;var d=Math.floor(b/400)+1;b-=400*(d-1),b+=b>15?16:0;var a=Math.floor(b/32)+1;return this.newDate(d<=0?d-1:d,a,b-32*(a-1)+1)}});var T={20:"Fruitbat",21:"Anchovy"};A.calendars.discworld=l},37715:function(ee,D,e){var A=e(63489);function l(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}e(56131)(l.prototype=new A.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var b=this._validate(T,this.minMonth,this.minDay,A.local.invalidYear);return(T=b.year()+(b.year()<0?1:0))%4==3||T%4==-1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,A.local.invalidYear||A.regionalOptions[""].invalidYear),13},weekOfYear:function(T,b,d){var a=this.newDate(T,b,d);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(T,b){var d=this._validate(T,b,this.minDay,A.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(13===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(T,b,d){return(this.dayOfWeek(T,b,d)||7)<6},toJD:function(T,b,d){var a=this._validate(T,b,d,A.local.invalidDate);return(T=a.year())<0&&T++,a.day()+30*(a.month()-1)+365*(T-1)+Math.floor(T/4)+this.jdEpoch-1},fromJD:function(T){var b=Math.floor(T)+.5-this.jdEpoch,d=Math.floor((b-Math.floor((b+366)/1461))/365)+1;d<=0&&d--,b=Math.floor(T)+.5-this.newDate(d,1,1).toJD();var a=Math.floor(b/30)+1;return this.newDate(d,a,b-30*(a-1)+1)}}),A.calendars.ethiopian=l},99384:function(ee,D,e){var A=e(63489);function l(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function T(b,d){return b-d*Math.floor(b/d)}e(56131)(l.prototype=new A.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var d=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return this._leapYear(d.year())},_leapYear:function(b){return T(7*(b=b<0?b+1:b)+1,19)<7},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,A.local.invalidYear),this._leapYear(b.year?b.year():b)?13:12},weekOfYear:function(b,d,a){var t=this.newDate(b,d,a);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){return b=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear).year(),this.toJD(-1===b?1:b+1,7,1)-this.toJD(b,7,1)},daysInMonth:function(b,d){return b.year&&(d=b.month(),b=b.year()),this._validate(b,d,this.minDay,A.local.invalidMonth),12===d&&this.leapYear(b)||8===d&&5===T(this.daysInYear(b),10)?30:9===d&&3===T(this.daysInYear(b),10)?29:this.daysPerMonth[d-1]},weekDay:function(b,d,a){return 6!==this.dayOfWeek(b,d,a)},extraInfo:function(b,d,a){var t=this._validate(b,d,a,A.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(b,d,a){var t=this._validate(b,d,a,A.local.invalidDate);b=t.year(),d=t.month(),a=t.day();var i=b<=0?b+1:b,r=this.jdEpoch+this._delay1(i)+this._delay2(i)+a+1;if(d<7){for(var n=7;n<=this.monthsInYear(b);n++)r+=this.daysInMonth(b,n);for(n=1;n<d;n++)r+=this.daysInMonth(b,n)}else for(n=7;n<d;n++)r+=this.daysInMonth(b,n);return r},_delay1:function(b){var d=Math.floor((235*b-234)/19),t=29*d+Math.floor((12084+13753*d)/25920);return T(3*(t+1),7)<3&&t++,t},_delay2:function(b){var d=this._delay1(b-1),a=this._delay1(b);return this._delay1(b+1)-a==356?2:a-d==382?1:0},fromJD:function(b){b=Math.floor(b)+.5;for(var d=Math.floor(98496*(b-this.jdEpoch)/35975351)-1;b>=this.toJD(-1===d?1:d+1,7,1);)d++;for(var a=b<this.toJD(d,1,1)?7:1;b>this.toJD(d,a,this.daysInMonth(d,a));)a++;var t=b-this.toJD(d,a,1)+1;return this.newDate(d,a,t)}}),A.calendars.hebrew=l},43805:function(ee,D,e){var A=e(63489);function l(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}e(56131)(l.prototype=new A.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(T){return(11*this._validate(T,this.minMonth,this.minDay,A.local.invalidYear).year()+14)%30<11},weekOfYear:function(T,b,d){var a=this.newDate(T,b,d);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(T){return this.leapYear(T)?355:354},daysInMonth:function(T,b){var d=this._validate(T,b,this.minDay,A.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(12===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(T,b,d){return 5!==this.dayOfWeek(T,b,d)},toJD:function(T,b,d){var a=this._validate(T,b,d,A.local.invalidDate);return T=a.year(),b=a.month(),T=T<=0?T+1:T,(d=a.day())+Math.ceil(29.5*(b-1))+354*(T-1)+Math.floor((3+11*T)/30)+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T)+.5;var b=Math.floor((30*(T-this.jdEpoch)+10646)/10631);b=b<=0?b-1:b;var d=Math.min(12,Math.ceil((T-29-this.toJD(b,1,1))/29.5)+1),a=T-this.toJD(b,d,1)+1;return this.newDate(b,d,a)}}),A.calendars.islamic=l},88874:function(ee,D,e){var A=e(63489);function l(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}e(56131)(l.prototype=new A.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var b=this._validate(T,this.minMonth,this.minDay,A.local.invalidYear);return(T=b.year()<0?b.year()+1:b.year())%4==0},weekOfYear:function(T,b,d){var a=this.newDate(T,b,d);return a.add(4-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(T,b){var d=this._validate(T,b,this.minDay,A.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(2===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(T,b,d){return(this.dayOfWeek(T,b,d)||7)<6},toJD:function(T,b,d){var a=this._validate(T,b,d,A.local.invalidDate);return T=a.year(),b=a.month(),d=a.day(),T<0&&T++,b<=2&&(T--,b+=12),Math.floor(365.25*(T+4716))+Math.floor(30.6001*(b+1))+d-1524.5},fromJD:function(T){var b=Math.floor(T+.5)+1524,d=Math.floor((b-122.1)/365.25),a=Math.floor(365.25*d),t=Math.floor((b-a)/30.6001),i=t-Math.floor(t<14?1:13),r=d-Math.floor(i>2?4716:4715),n=b-a-Math.floor(30.6001*t);return r<=0&&r--,this.newDate(r,i,n)}}),A.calendars.julian=l},83290:function(ee,D,e){var A=e(63489);function l(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}function T(d,a){return d-a*Math.floor(d/a)}function b(d,a){return T(d-1,a)+1}e(56131)(l.prototype=new A.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(d){return this._validate(d,this.minMonth,this.minDay,A.local.invalidYear),!1},formatYear:function(d){d=this._validate(d,this.minMonth,this.minDay,A.local.invalidYear).year();var a=Math.floor(d/400);return d%=400,d+=d<0?400:0,a+"."+Math.floor(d/20)+"."+d%20},forYear:function(d){if((d=d.split(".")).length<3)throw"Invalid Mayan year";for(var a=0,t=0;t<d.length;t++){var i=parseInt(d[t],10);if(Math.abs(i)>19||t>0&&i<0)throw"Invalid Mayan year";a=20*a+i}return a},monthsInYear:function(d){return this._validate(d,this.minMonth,this.minDay,A.local.invalidYear),18},weekOfYear:function(d,a,t){return this._validate(d,a,t,A.local.invalidDate),0},daysInYear:function(d){return this._validate(d,this.minMonth,this.minDay,A.local.invalidYear),360},daysInMonth:function(d,a){return this._validate(d,a,this.minDay,A.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(d,a,t){return this._validate(d,a,t,A.local.invalidDate).day()},weekDay:function(d,a,t){return this._validate(d,a,t,A.local.invalidDate),!0},extraInfo:function(d,a,t){var i=this._validate(d,a,t,A.local.invalidDate).toJD(),r=this._toHaab(i),n=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[r[0]-1],haabMonth:r[0],haabDay:r[1],tzolkinDayName:this.local.tzolkinMonths[n[0]-1],tzolkinDay:n[0],tzolkinTrecena:n[1]}},_toHaab:function(d){var a=T(8+(d-=this.jdEpoch)+340,365);return[Math.floor(a/20)+1,T(a,20)]},_toTzolkin:function(d){return[b(20+(d-=this.jdEpoch),20),b(d+4,13)]},toJD:function(d,a,t){var i=this._validate(d,a,t,A.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(d){d=Math.floor(d)+.5-this.jdEpoch;var a=Math.floor(d/360);d%=360,d+=d<0?360:0;var t=Math.floor(d/20);return this.newDate(a,t,d%20)}}),A.calendars.mayan=l},29108:function(ee,D,e){var A=e(63489),k=e(56131);function l(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}l.prototype=new A.baseCalendar;var T=A.instance("gregorian");k(l.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var d=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear||A.regionalOptions[""].invalidYear);return T.leapYear(d.year()+(d.year()<1?1:0)+1469)},weekOfYear:function(b,d,a){var t=this.newDate(b,d,a);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,d){var a=this._validate(b,d,this.minDay,A.local.invalidMonth);return this.daysPerMonth[a.month()-1]+(12===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(b,d,a){return(this.dayOfWeek(b,d,a)||7)<6},toJD:function(b,d,a){var t=this._validate(b,d,a,A.local.invalidMonth);(b=t.year())<0&&b++;for(var i=t.day(),r=1;r<t.month();r++)i+=this.daysPerMonth[r-1];return i+T.toJD(b+1468,3,13)},fromJD:function(b){b=Math.floor(b+.5);for(var d=Math.floor((b-(this.jdEpoch-1))/366);b>=this.toJD(d+1,1,1);)d++;for(var a=b-Math.floor(this.toJD(d,1,1)+.5)+1,t=1;a>this.daysInMonth(d,t);)a-=this.daysInMonth(d,t),t++;return this.newDate(d,t,a)}}),A.calendars.nanakshahi=l},55422:function(ee,D,e){var A=e(63489);function l(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}e(56131)(l.prototype=new A.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(T){return this.daysInYear(T)!==this.daysPerYear},weekOfYear:function(T,b,d){var a=this.newDate(T,b,d);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(T){if(T=this._validate(T,this.minMonth,this.minDay,A.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[T])return this.daysPerYear;for(var b=0,d=this.minMonth;d<=12;d++)b+=this.NEPALI_CALENDAR_DATA[T][d];return b},daysInMonth:function(T,b){return T.year&&(b=T.month(),T=T.year()),this._validate(T,b,this.minDay,A.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[T]?this.daysPerMonth[b-1]:this.NEPALI_CALENDAR_DATA[T][b]},weekDay:function(T,b,d){return 6!==this.dayOfWeek(T,b,d)},toJD:function(T,b,d){var a=this._validate(T,b,d,A.local.invalidDate);T=a.year(),b=a.month(),d=a.day();var t=A.instance(),i=0,r=b,n=T;this._createMissingCalendarData(T);var o=T-(r>9||9===r&&d>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(9!==b&&(i=d,r--);9!==r;)r<=0&&(r=12,n--),i+=this.NEPALI_CALENDAR_DATA[n][r],r--;return 9===b?(i+=d-this.NEPALI_CALENDAR_DATA[n][0])<0&&(i+=t.daysInYear(o)):i+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],t.newDate(o,1,1).add(i,"d").toJD()},fromJD:function(T){var b=A.instance().fromJD(T),d=b.year(),a=b.dayOfYear(),t=d+56;this._createMissingCalendarData(t);for(var i=9,n=this.NEPALI_CALENDAR_DATA[t][i]-this.NEPALI_CALENDAR_DATA[t][0]+1;a>n;)++i>12&&(i=1,t++),n+=this.NEPALI_CALENDAR_DATA[t][i];return this.newDate(t,i,this.NEPALI_CALENDAR_DATA[t][i]-(n-a))},_createMissingCalendarData:function(T){var b=this.daysPerMonth.slice(0);b.unshift(17);for(var d=T-1;d<T+2;d++)void 0===this.NEPALI_CALENDAR_DATA[d]&&(this.NEPALI_CALENDAR_DATA[d]=b)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),A.calendars.nepali=l},94320:function(ee,D,e){var A=e(63489);function l(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function T(b,d){return b-d*Math.floor(b/d)}e(56131)(l.prototype=new A.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(b){var d=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return 682*((d.year()-(d.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(b,d,a){var t=this.newDate(b,d,a);return t.add(-(t.dayOfWeek()+1)%7,"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,d){var a=this._validate(b,d,this.minDay,A.local.invalidMonth);return this.daysPerMonth[a.month()-1]+(12===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(b,d,a){return 5!==this.dayOfWeek(b,d,a)},toJD:function(b,d,a){var t=this._validate(b,d,a,A.local.invalidDate);b=t.year(),d=t.month(),a=t.day();var i=b-(b>=0?474:473),r=474+T(i,2820);return a+(d<=7?31*(d-1):30*(d-1)+6)+Math.floor((682*r-110)/2816)+365*(r-1)+1029983*Math.floor(i/2820)+this.jdEpoch-1},fromJD:function(b){var d=(b=Math.floor(b)+.5)-this.toJD(475,1,1),a=Math.floor(d/1029983),t=T(d,1029983),i=2820;if(1029982!==t){var r=Math.floor(t/366),n=T(t,366);i=Math.floor((2134*r+2816*n+2815)/1028522)+r+1}var o=i+2820*a+474,s=b-this.toJD(o=o<=0?o-1:o,1,1)+1,u=s<=186?Math.ceil(s/31):Math.ceil((s-6)/30),p=b-this.toJD(o,u,1)+1;return this.newDate(o,u,p)}}),A.calendars.persian=l,A.calendars.jalali=l},31320:function(ee,D,e){var A=e(63489),k=e(56131),l=A.instance();function T(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}k(T.prototype=new A.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(b){var d=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return b=this._t2gYear(d.year()),l.leapYear(b)},weekOfYear:function(b,d,a){var t=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return b=this._t2gYear(t.year()),l.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,d){var a=this._validate(b,d,this.minDay,A.local.invalidMonth);return this.daysPerMonth[a.month()-1]+(2===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(b,d,a){return(this.dayOfWeek(b,d,a)||7)<6},toJD:function(b,d,a){var t=this._validate(b,d,a,A.local.invalidDate);return b=this._t2gYear(t.year()),l.toJD(b,t.month(),t.day())},fromJD:function(b){var d=l.fromJD(b),a=this._g2tYear(d.year());return this.newDate(a,d.month(),d.day())},_t2gYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)},_g2tYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)}}),A.calendars.taiwan=T},51367:function(ee,D,e){var A=e(63489),k=e(56131),l=A.instance();function T(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}k(T.prototype=new A.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var d=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return b=this._t2gYear(d.year()),l.leapYear(b)},weekOfYear:function(b,d,a){var t=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return b=this._t2gYear(t.year()),l.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,d){var a=this._validate(b,d,this.minDay,A.local.invalidMonth);return this.daysPerMonth[a.month()-1]+(2===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(b,d,a){return(this.dayOfWeek(b,d,a)||7)<6},toJD:function(b,d,a){var t=this._validate(b,d,a,A.local.invalidDate);return b=this._t2gYear(t.year()),l.toJD(b,t.month(),t.day())},fromJD:function(b){var d=l.fromJD(b),a=this._g2tYear(d.year());return this.newDate(a,d.month(),d.day())},_t2gYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)},_g2tYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)}}),A.calendars.thai=T},21457:function(ee,D,e){var A=e(63489);function l(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}e(56131)(l.prototype=new A.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(b){var d=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return 355===this.daysInYear(d.year())},weekOfYear:function(b,d,a){var t=this.newDate(b,d,a);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){for(var d=0,a=1;a<=12;a++)d+=this.daysInMonth(b,a);return d},daysInMonth:function(b,d){for(var a=this._validate(b,d,this.minDay,A.local.invalidMonth).toJD()-24e5+.5,t=0,i=0;i<T.length;i++){if(T[i]>a)return T[t]-T[t-1];t++}return 30},weekDay:function(b,d,a){return 5!==this.dayOfWeek(b,d,a)},toJD:function(b,d,a){var t=this._validate(b,d,a,A.local.invalidDate),i=12*(t.year()-1)+t.month()-15292;return t.day()+T[i-1]-1+24e5-.5},fromJD:function(b){for(var d=b-24e5+.5,a=0,t=0;t<T.length&&!(T[t]>d);t++)a++;var i=a+15292,r=Math.floor((i-1)/12);return this.newDate(r+1,i-12*r,d-T[a-1]+1)},isValid:function(b,d,a){var t=A.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(t=(b=null!=b.year?b.year:b)>=1276&&b<=1500),t},_validate:function(b,d,a,t){var i=A.baseCalendar.prototype._validate.apply(this,arguments);if(i.year<1276||i.year>1500)throw t.replace(/\{0\}/,this.local.name);return i}}),A.calendars.ummalqura=l;var T=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(ee,D,e){var A=e(56131);function k(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function l(t,i,r,n){if(this._calendar=t,this._year=i,this._month=r,this._day=n,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(a.local.invalidDate||a.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function T(t,i){return"000000".substring(0,i-(t=""+t).length)+t}function b(){this.shortYearCutoff="+10"}function d(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}A(k.prototype,{instance:function(t,i){t=(t||"gregorian").toLowerCase();var r=this._localCals[t+"-"+(i=i||"")];if(!r&&this.calendars[t]&&(r=new this.calendars[t](i),this._localCals[t+"-"+i]=r),!r)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return r},newDate:function(t,i,r,n,o){return(n=(null!=t&&t.year?t.calendar():"string"==typeof n?this.instance(n,o):n)||this.instance()).newDate(t,i,r)},substituteDigits:function(t){return function(i){return(i+"").replace(/[0-9]/g,function(r){return t[r]})}},substituteChineseDigits:function(t,i){return function(r){for(var n="",o=0;r>0;){var s=r%10;n=(0===s?"":t[s]+i[o])+n,o++,r=Math.floor(r/10)}return 0===n.indexOf(t[1]+i[1])&&(n=n.substr(1)),n||t[0]}}}),A(l.prototype,{newDate:function(t,i,r){return this._calendar.newDate(t??this,i,r)},year:function(t){return 0===arguments.length?this._year:this.set(t,"y")},month:function(t){return 0===arguments.length?this._month:this.set(t,"m")},day:function(t){return 0===arguments.length?this._day:this.set(t,"d")},date:function(t,i,r){if(!this._calendar.isValid(t,i,r))throw(a.local.invalidDate||a.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=i,this._day=r,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,i){return this._calendar.add(this,t,i)},set:function(t,i){return this._calendar.set(this,t,i)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(a.local.differentCalendars||a.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var i=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return 0===i?0:i<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+T(Math.abs(this.year()),4)+"-"+T(this.month(),2)+"-"+T(this.day(),2)}}),A(b.prototype,{_validateLevel:0,newDate:function(t,i,r){return null==t?this.today():(t.year&&(this._validate(t,i,r,a.local.invalidDate||a.regionalOptions[""].invalidDate),r=t.day(),i=t.month(),t=t.year()),new l(this,t,i,r))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear);return(i.year()<0?"-":"")+T(Math.abs(i.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear),12},monthOfYear:function(t,i){var r=this._validate(t,i,this.minDay,a.local.invalidMonth||a.regionalOptions[""].invalidMonth);return(r.month()+this.monthsInYear(r)-this.firstMonth)%this.monthsInYear(r)+this.minMonth},fromMonthOfYear:function(t,i){var r=(i+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,r,this.minDay,a.local.invalidMonth||a.regionalOptions[""].invalidMonth),r},daysInYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear);return this.leapYear(i)?366:365},dayOfYear:function(t,i,r){var n=this._validate(t,i,r,a.local.invalidDate||a.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,i,r){var n=this._validate(t,i,r,a.local.invalidDate||a.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,i,r){return this._validate(t,i,r,a.local.invalidDate||a.regionalOptions[""].invalidDate),{}},add:function(t,i,r){return this._validate(t,this.minMonth,this.minDay,a.local.invalidDate||a.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,i,r),i,r)},_add:function(t,i,r){if(this._validateLevel++,"d"===r||"w"===r){var n=t.toJD()+i*("w"===r?this.daysInWeek():1),o=t.calendar().fromJD(n);return this._validateLevel--,[o.year(),o.month(),o.day()]}try{var s=t.year()+("y"===r?i:0),u=t.monthOfYear()+("m"===r?i:0);o=t.day(),"y"===r?(t.month()!==this.fromMonthOfYear(s,u)&&(u=this.newDate(s,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(s)),o=Math.min(o,this.daysInMonth(s,this.fromMonthOfYear(s,u)))):"m"===r&&(function(c){for(;u<c.minMonth;)s--,u+=c.monthsInYear(s);for(var x=c.monthsInYear(s);u>x-1+c.minMonth;)s++,u-=x,x=c.monthsInYear(s)}(this),o=Math.min(o,this.daysInMonth(s,this.fromMonthOfYear(s,u))));var p=[s,this.fromMonthOfYear(s,u),o];return this._validateLevel--,p}catch(c){throw this._validateLevel--,c}},_correctAdd:function(t,i,r,n){if(!(this.hasYearZero||"y"!==n&&"m"!==n||0!==i[0]&&t.year()>0==i[0]>0)){var o={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n];i=this._add(t,r*o[0]+(r<0?-1:1)*o[1],o[2])}return t.date(i[0],i[1],i[2])},set:function(t,i,r){this._validate(t,this.minMonth,this.minDay,a.local.invalidDate||a.regionalOptions[""].invalidDate);var n="y"===r?i:t.year(),o="m"===r?i:t.month(),s="d"===r?i:t.day();return"y"!==r&&"m"!==r||(s=Math.min(s,this.daysInMonth(n,o))),t.date(n,o,s)},isValid:function(t,i,r){this._validateLevel++;var n=this.hasYearZero||0!==t;if(n){var o=this.newDate(t,i,this.minDay);n=i>=this.minMonth&&i-this.minMonth<this.monthsInYear(o)&&r>=this.minDay&&r-this.minDay<this.daysInMonth(o)}return this._validateLevel--,n},toJSDate:function(t,i,r){var n=this._validate(t,i,r,a.local.invalidDate||a.regionalOptions[""].invalidDate);return a.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(a.instance().fromJSDate(t).toJD())},_validate:function(t,i,r,n){if(t.year){if(0===this._validateLevel&&this.name!==t.calendar().name)throw(a.local.differentCalendars||a.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(t,i,r))throw n.replace(/\{0\}/,this.local.name);var o=this.newDate(t,i,r);return this._validateLevel--,o}catch(s){throw this._validateLevel--,s}}}),A(d.prototype=new b,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear);return(t=i.year()+(i.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,i,r){var n=this.newDate(t,i,r);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,i){var r=this._validate(t,i,this.minDay,a.local.invalidMonth||a.regionalOptions[""].invalidMonth);return this.daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,i,r){return(this.dayOfWeek(t,i,r)||7)<6},toJD:function(t,i,r){var n=this._validate(t,i,r,a.local.invalidDate||a.regionalOptions[""].invalidDate);t=n.year(),i=n.month(),r=n.day(),t<0&&t++,i<3&&(i+=12,t--);var o=Math.floor(t/100),s=2-o+Math.floor(o/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+r+s-1524.5},fromJD:function(t){var i=Math.floor(t+.5),r=Math.floor((i-1867216.25)/36524.25),n=1524+(r=i+1+r-Math.floor(r/4)),o=Math.floor((n-122.1)/365.25),s=Math.floor(365.25*o),u=Math.floor((n-s)/30.6001),p=n-s-Math.floor(30.6001*u),c=u-(u>13.5?13:1),x=o-(c>2.5?4716:4715);return x<=0&&x--,this.newDate(x,c,p)},toJSDate:function(t,i,r){var n=this._validate(t,i,r,a.local.invalidDate||a.regionalOptions[""].invalidDate),o=new Date(n.year(),n.month()-1,n.day());return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o.setHours(o.getHours()>12?o.getHours()+2:0),o},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var a=ee.exports=new k;a.cdate=l,a.baseCalendar=b,a.calendars.gregorian=d},94338:function(ee,D,e){var A=e(56131),k=e(63489);A(k.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),k.local=k.regionalOptions[""],A(k.cdate.prototype,{formatDate:function(l,T){return"string"!=typeof l&&(T=l,l=""),this._calendar.formatDate(l||"",this,T)}}),A(k.baseCalendar.prototype,{UNIX_EPOCH:k.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:k.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(l,T,b){if("string"!=typeof l&&(b=T,T=l,l=""),!T)return"";if(T.calendar()!==this)throw k.local.invalidFormat||k.regionalOptions[""].invalidFormat;l=l||this.local.dateFormat;for(var d,a,t,i=(b=b||{}).dayNamesShort||this.local.dayNamesShort,r=b.dayNames||this.local.dayNames,n=b.monthNumbers||this.local.monthNumbers,o=b.monthNamesShort||this.local.monthNamesShort,s=b.monthNames||this.local.monthNames,u=function(f,S){for(var w=1;_+w<l.length&&l.charAt(_+w)===f;)w++;return _+=w-1,Math.floor(w/(S||1))>1},p=function(f,S,w,E){var L=""+S;if(u(f,E))for(;L.length<w;)L="0"+L;return L},c=this,g=function(f,S){return S?"function"==typeof s?s.call(c,f):s[f.month()-c.minMonth]:"function"==typeof o?o.call(c,f):o[f.month()-c.minMonth]},h=this.local.digits,y=function(f){return b.localNumbers&&h?h(f):f},v="",m=!1,_=0;_<l.length;_++)if(m)"'"!==l.charAt(_)||u("'")?v+=l.charAt(_):m=!1;else switch(l.charAt(_)){case"d":v+=y(p("d",T.day(),2));break;case"D":v+=(d=T.dayOfWeek(),a=i,t=r,u("D")?t[d]:a[d]);break;case"o":v+=p("o",T.dayOfYear(),3);break;case"w":v+=p("w",T.weekOfYear(),2);break;case"m":v+=(f=T,"function"==typeof n?n.call(c,f,u("m")):y(p("m",f.month(),2)));break;case"M":v+=g(T,u("M"));break;case"y":v+=u("y",2)?T.year():(T.year()%100<10?"0":"")+T.year()%100;break;case"Y":u("Y",2),v+=T.formatYear();break;case"J":v+=T.toJD();break;case"@":v+=(T.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":v+=(T.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?v+="'":m=!0;break;default:v+=l.charAt(_)}var f;return v},parseDate:function(l,T,b){if(null==T)throw k.local.invalidArguments||k.regionalOptions[""].invalidArguments;if(""===(T="object"==typeof T?T.toString():T+""))return null;l=l||this.local.dateFormat;var d=(b=b||{}).shortYearCutoff||this.shortYearCutoff;d="string"!=typeof d?d:this.today().year()%100+parseInt(d,10);for(var a=b.dayNamesShort||this.local.dayNamesShort,t=b.dayNames||this.local.dayNames,i=b.parseMonth||this.local.parseMonth,r=b.monthNumbers||this.local.monthNumbers,n=b.monthNamesShort||this.local.monthNamesShort,o=b.monthNames||this.local.monthNames,s=-1,u=-1,p=-1,c=-1,x=-1,g=!1,h=!1,y=function(R,q){for(var P=1;L+P<l.length&&l.charAt(L+P)===R;)P++;return L+=P-1,Math.floor(P/(q||1))>1},v=function(R,q){var P=y(R,q),U=[2,3,P?4:2,P?4:2,10,11,20]["oyYJ@!".indexOf(R)+1],N=new RegExp("^-?\\d{1,"+U+"}"),F=T.substring(E).match(N);if(!F)throw(k.local.missingNumberAt||k.regionalOptions[""].missingNumberAt).replace(/\{0\}/,E);return E+=F[0].length,parseInt(F[0],10)},m=this,_=function(){if("function"==typeof r){y("m");var R=r.call(m,T.substring(E));return E+=R.length,R}return v("m")},f=function(R,q,P,U){for(var N=y(R,U)?P:q,F=0;F<N.length;F++)if(T.substr(E,N[F].length).toLowerCase()===N[F].toLowerCase())return E+=N[F].length,F+m.minMonth;throw(k.local.unknownNameAt||k.regionalOptions[""].unknownNameAt).replace(/\{0\}/,E)},S=function(){if("function"==typeof o){var R=y("M")?o.call(m,T.substring(E)):n.call(m,T.substring(E));return E+=R.length,R}return f("M",n,o)},w=function(){if(T.charAt(E)!==l.charAt(L))throw(k.local.unexpectedLiteralAt||k.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,E);E++},E=0,L=0;L<l.length;L++)if(h)"'"!==l.charAt(L)||y("'")?w():h=!1;else switch(l.charAt(L)){case"d":c=v("d");break;case"D":f("D",a,t);break;case"o":x=v("o");break;case"w":v("w");break;case"m":p=_();break;case"M":p=S();break;case"y":var C=L;g=!y("y",2),L=C,u=v("y",2);break;case"Y":u=v("Y",2);break;case"J":s=v("J")+.5,"."===T.charAt(E)&&(E++,v("J"));break;case"@":s=v("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":s=v("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":E=T.length;break;case"'":y("'")?w():h=!0;break;default:w()}if(E<T.length)throw k.local.unexpectedText||k.regionalOptions[""].unexpectedText;if(-1===u?u=this.today().year():u<100&&g&&(u+=-1===d?1900:this.today().year()-this.today().year()%100-(u<=d?0:100)),"string"==typeof p&&(p=i.call(this,u,p)),x>-1){c=x;for(var O=this.daysInMonth(u,p=1);c>O;O=this.daysInMonth(u,p))p++,c-=O}return s>-1?this.fromJD(s):this.newDate(u,p,c)},determineDate:function(l,T,b,d,a){b&&"object"!=typeof b&&(a=d,d=b,b=null),"string"!=typeof d&&(a=d,d="");var t=this;return T=T?T.newDate():null,null==l?T:"string"==typeof l?function(i){try{return t.parseDate(d,i,a)}catch{}for(var r=((i=i.toLowerCase()).match(/^c/)&&b?b.newDate():null)||t.today(),n=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,o=n.exec(i);o;)r.add(parseInt(o[1],10),o[2]||"d"),o=n.exec(i);return r}(l):"number"==typeof l?isNaN(l)||l===1/0||l===-1/0?T:t.today().add(l,"d"):t.newDate(l)}})},69862:function(){},40964:function(){},72077:function(ee,D,e){"use strict";var A=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],k=typeof globalThis>"u"?e.g:globalThis;ee.exports=function(){for(var l=[],T=0;T<A.length;T++)"function"==typeof k[A[T]]&&(l[l.length]=A[T]);return l}},81684:function(ee,D,e){"use strict";function A(me,pe,ge){me.prototype=pe.prototype=ge,ge.constructor=me}function k(me,pe){var ge=Object.create(me.prototype);for(var Pe in pe)ge[Pe]=pe[Pe];return ge}function l(){}e.d(D,{sX:function(){return Me},k4:function(){return Y}});var T=.7,b=1/T,d="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i=/^#([0-9a-f]{3,8})$/,r=new RegExp("^rgb\\(".concat(d,",").concat(d,",").concat(d,"\\)$")),n=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),o=new RegExp("^rgba\\(".concat(d,",").concat(d,",").concat(d,",").concat(a,"\\)$")),s=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(a,"\\)$")),u=new RegExp("^hsl\\(".concat(a,",").concat(t,",").concat(t,"\\)$")),p=new RegExp("^hsla\\(".concat(a,",").concat(t,",").concat(t,",").concat(a,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function x(){return this.rgb().formatHex()}function g(){return this.rgb().formatRgb()}function h(me){var pe,ge;return me=(me+"").trim().toLowerCase(),(pe=i.exec(me))?(ge=pe[1].length,pe=parseInt(pe[1],16),6===ge?y(pe):3===ge?new _(pe>>8&15|pe>>4&240,pe>>4&15|240&pe,(15&pe)<<4|15&pe,1):8===ge?v(pe>>24&255,pe>>16&255,pe>>8&255,(255&pe)/255):4===ge?v(pe>>12&15|pe>>8&240,pe>>8&15|pe>>4&240,pe>>4&15|240&pe,((15&pe)<<4|15&pe)/255):null):(pe=r.exec(me))?new _(pe[1],pe[2],pe[3],1):(pe=n.exec(me))?new _(255*pe[1]/100,255*pe[2]/100,255*pe[3]/100,1):(pe=o.exec(me))?v(pe[1],pe[2],pe[3],pe[4]):(pe=s.exec(me))?v(255*pe[1]/100,255*pe[2]/100,255*pe[3]/100,pe[4]):(pe=u.exec(me))?C(pe[1],pe[2]/100,pe[3]/100,1):(pe=p.exec(me))?C(pe[1],pe[2]/100,pe[3]/100,pe[4]):c.hasOwnProperty(me)?y(c[me]):"transparent"===me?new _(NaN,NaN,NaN,0):null}function y(me){return new _(me>>16&255,me>>8&255,255&me,1)}function v(me,pe,ge,Pe){return Pe<=0&&(me=pe=ge=NaN),new _(me,pe,ge,Pe)}function m(me,pe,ge,Pe){return 1===arguments.length?((_e=me)instanceof l||(_e=h(_e)),_e?new _((_e=_e.rgb()).r,_e.g,_e.b,_e.opacity):new _):new _(me,pe,ge,Pe??1);var _e}function _(me,pe,ge,Pe){this.r=+me,this.g=+pe,this.b=+ge,this.opacity=+Pe}function f(){return"#".concat(L(this.r)).concat(L(this.g)).concat(L(this.b))}function S(){var me=w(this.opacity);return"".concat(1===me?"rgb(":"rgba(").concat(E(this.r),", ").concat(E(this.g),", ").concat(E(this.b)).concat(1===me?")":", ".concat(me,")"))}function w(me){return isNaN(me)?1:Math.max(0,Math.min(1,me))}function E(me){return Math.max(0,Math.min(255,Math.round(me)||0))}function L(me){return((me=E(me))<16?"0":"")+me.toString(16)}function C(me,pe,ge,Pe){return Pe<=0?me=pe=ge=NaN:ge<=0||ge>=1?me=pe=NaN:pe<=0&&(me=NaN),new R(me,pe,ge,Pe)}function O(me){if(me instanceof R)return new R(me.h,me.s,me.l,me.opacity);if(me instanceof l||(me=h(me)),!me)return new R;if(me instanceof R)return me;var pe=(me=me.rgb()).r/255,ge=me.g/255,Pe=me.b/255,_e=Math.min(pe,ge,Pe),we=Math.max(pe,ge,Pe),se=NaN,ae=we-_e,fe=(we+_e)/2;return ae?(se=pe===we?(ge-Pe)/ae+6*(ge<Pe):ge===we?(Pe-pe)/ae+2:(pe-ge)/ae+4,ae/=fe<.5?we+_e:2-we-_e,se*=60):ae=fe>0&&fe<1?0:se,new R(se,ae,fe,me.opacity)}function R(me,pe,ge,Pe){this.h=+me,this.s=+pe,this.l=+ge,this.opacity=+Pe}function q(me){return(me=(me||0)%360)<0?me+360:me}function P(me){return Math.max(0,Math.min(1,me||0))}function U(me,pe,ge){return 255*(me<60?pe+(ge-pe)*me/60:me<180?ge:me<240?pe+(ge-pe)*(240-me)/60:pe)}function N(me,pe,ge,Pe,_e){var we=me*me,se=we*me;return((1-3*me+3*we-se)*pe+(4-6*we+3*se)*ge+(1+3*me+3*we-3*se)*Pe+se*_e)/6}A(l,h,{copy:function(me){return Object.assign(new this.constructor,this,me)},displayable:function(){return this.rgb().displayable()},hex:x,formatHex:x,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return O(this).formatHsl()},formatRgb:g,toString:g}),A(_,m,k(l,{brighter:function(me){return me=null==me?b:Math.pow(b,me),new _(this.r*me,this.g*me,this.b*me,this.opacity)},darker:function(me){return me=null==me?T:Math.pow(T,me),new _(this.r*me,this.g*me,this.b*me,this.opacity)},rgb:function(){return this},clamp:function(){return new _(E(this.r),E(this.g),E(this.b),w(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f,formatHex:f,formatHex8:function(){return"#".concat(L(this.r)).concat(L(this.g)).concat(L(this.b)).concat(L(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:S,toString:S})),A(R,function(me,pe,ge,Pe){return 1===arguments.length?O(me):new R(me,pe,ge,Pe??1)},k(l,{brighter:function(me){return me=null==me?b:Math.pow(b,me),new R(this.h,this.s,this.l*me,this.opacity)},darker:function(me){return me=null==me?T:Math.pow(T,me),new R(this.h,this.s,this.l*me,this.opacity)},rgb:function(){var me=this.h%360+360*(this.h<0),pe=isNaN(me)||isNaN(this.s)?0:this.s,ge=this.l,Pe=ge+(ge<.5?ge:1-ge)*pe,_e=2*ge-Pe;return new _(U(me>=240?me-240:me+120,_e,Pe),U(me,_e,Pe),U(me<120?me+240:me-120,_e,Pe),this.opacity)},clamp:function(){return new R(q(this.h),P(this.s),P(this.l),w(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var me=w(this.opacity);return"".concat(1===me?"hsl(":"hsla(").concat(q(this.h),", ").concat(100*P(this.s),"%, ").concat(100*P(this.l),"%").concat(1===me?")":", ".concat(me,")"))}}));var F=function(me){return function(){return me}};function j(me,pe){var Pe,_e,ge=pe-me;return ge?(Pe=me,_e=ge,function(we){return Pe+we*_e}):F(isNaN(me)?pe:me)}var G=function me(pe){var _e,ge=1==(_e=+(_e=pe))?j:function(we,se){return se-we?(ae=we,fe=se,Ee=_e,ae=Math.pow(ae,Ee),fe=Math.pow(fe,Ee)-ae,Ee=1/Ee,function(ke){return Math.pow(ae+ke*fe,Ee)}):F(isNaN(we)?se:we);var ae,fe,Ee};function Pe(_e,we){var se=ge((_e=m(_e)).r,(we=m(we)).r),ae=ge(_e.g,we.g),fe=ge(_e.b,we.b),Ee=j(_e.opacity,we.opacity);return function(ke){return _e.r=se(ke),_e.g=ae(ke),_e.b=fe(ke),_e.opacity=Ee(ke),_e+""}}return Pe.gamma=me,Pe}(1);function te(me){return function(pe){var ge,Pe,_e=pe.length,we=new Array(_e),se=new Array(_e),ae=new Array(_e);for(ge=0;ge<_e;++ge)Pe=m(pe[ge]),we[ge]=Pe.r||0,se[ge]=Pe.g||0,ae[ge]=Pe.b||0;return we=me(we),se=me(se),ae=me(ae),Pe.opacity=1,function(fe){return Pe.r=we(fe),Pe.g=se(fe),Pe.b=ae(fe),Pe+""}}}function J(me,pe){var ge,Pe=pe?pe.length:0,_e=me?Math.min(Pe,me.length):0,we=new Array(_e),se=new Array(Pe);for(ge=0;ge<_e;++ge)we[ge]=Me(me[ge],pe[ge]);for(;ge<Pe;++ge)se[ge]=pe[ge];return function(ae){for(ge=0;ge<_e;++ge)se[ge]=we[ge](ae);return se}}function X(me,pe){var ge=new Date;return me=+me,pe=+pe,function(Pe){return ge.setTime(me*(1-Pe)+pe*Pe),ge}}function Y(me,pe){return me=+me,pe=+pe,function(ge){return me*(1-ge)+pe*ge}}function W(me){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(me)}function $(me,pe){var ge,Pe={},_e={};for(ge in null!==me&&"object"===W(me)||(me={}),null!==pe&&"object"===W(pe)||(pe={}),pe)ge in me?Pe[ge]=Me(me[ge],pe[ge]):_e[ge]=pe[ge];return function(we){for(ge in Pe)_e[ge]=Pe[ge](we);return _e}}te(function(me){var pe=me.length-1;return function(ge){var Pe=ge<=0?ge=0:ge>=1?(ge=1,pe-1):Math.floor(ge*pe),_e=me[Pe],we=me[Pe+1];return N((ge-Pe/pe)*pe,Pe>0?me[Pe-1]:2*_e-we,_e,we,Pe<pe-1?me[Pe+2]:2*we-_e)}}),te(function(me){var pe=me.length;return function(ge){var Pe=Math.floor(((ge%=1)<0?++ge:ge)*pe);return N((ge-Pe/pe)*pe,me[(Pe+pe-1)%pe],me[Pe%pe],me[(Pe+1)%pe],me[(Pe+2)%pe])}});var ne=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,re=new RegExp(ne.source,"g");function oe(me,pe){var ge,Pe,_e,Ee,we=ne.lastIndex=re.lastIndex=0,se=-1,ae=[],fe=[];for(me+="",pe+="";(ge=ne.exec(me))&&(Pe=re.exec(pe));)(_e=Pe.index)>we&&(_e=pe.slice(we,_e),ae[se]?ae[se]+=_e:ae[++se]=_e),(ge=ge[0])===(Pe=Pe[0])?ae[se]?ae[se]+=Pe:ae[++se]=Pe:(ae[++se]=null,fe.push({i:se,x:Y(ge,Pe)})),we=re.lastIndex;return we<pe.length&&(_e=pe.slice(we),ae[se]?ae[se]+=_e:ae[++se]=_e),ae.length<2?fe[0]?(Ee=fe[0].x,function(ke){return Ee(ke)+""}):function(Ee){return function(){return Ee}}(pe):(pe=fe.length,function(Ee){for(var ke,be=0;be<pe;++be)ae[(ke=fe[be]).i]=ke.x(Ee);return ae.join("")})}function ue(me,pe){pe||(pe=[]);var ge,Pe=me?Math.min(pe.length,me.length):0,_e=pe.slice();return function(we){for(ge=0;ge<Pe;++ge)_e[ge]=me[ge]*(1-we)+pe[ge]*we;return _e}}function xe(me){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(me)}function Me(me,pe){var ge,Pe,_e=xe(pe);return null==pe||"boolean"===_e?F(pe):("number"===_e?Y:"string"===_e?(ge=h(pe))?(pe=ge,G):oe:pe instanceof h?G:pe instanceof Date?X:(Pe=pe,!ArrayBuffer.isView(Pe)||Pe instanceof DataView?Array.isArray(pe)?J:"function"!=typeof pe.valueOf&&"function"!=typeof pe.toString||isNaN(pe)?$:Y:ue))(me,pe)}},40402:function(ee){"use strict";ee.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(ee){"use strict";ee.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(ee){"use strict";ee.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(ee){"use strict";ee.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(ee){"use strict";ee.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(ee){"use strict";ee.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},vr={};function kr(ee){var D=vr[ee];if(void 0!==D)return D.exports;var e=vr[ee]={exports:{}};return ns[ee].call(e.exports,e,e.exports,kr),e.exports}return kr.n=function(ee){var D=ee&&ee.__esModule?function(){return ee.default}:function(){return ee};return kr.d(D,{a:D}),D},kr.d=function(ee,D){for(var e in D)kr.o(D,e)&&!kr.o(ee,e)&&Object.defineProperty(ee,e,{enumerable:!0,get:D[e]})},kr.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),kr.o=function(ee,D){return Object.prototype.hasOwnProperty.call(ee,D)},kr.r=function(ee){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ee,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ee,"__esModule",{value:!0})},kr(27909)}()},39669:(Ol,ns,vr)=>{"use strict";vr.d(ns,{lX:()=>N,zs:()=>te});var kr=vr(15861),ee=vr(86656),D=vr(65879),e=vr(96814),A=vr(56223),k=vr(96711),l=vr(54807),T=vr(43161),b=vr(612),d=vr(48329),a=vr(97582),t=vr(32013),i=vr(83620),r=vr(93997),n=vr(32181);const o=["vc"];function s(J,X){1&J&&(D.TgZ(0,"tab",2),D.GkF(1,null,3),D.qZA()),2&J&&D.Q6J("heading",X.$implicit.tabProperties.header||"Tab "+(X.index+1))}const u="bootstrap";const m={name:"ng-select",label:"UI Select Input",packageName:u,category:"Basic",description:"NG Select component",itemProperties:(()=>{class J extends k.mW{constructor(...Y){super(...Y),(0,ee.Z)(this,"itemsSource",void 0),(0,ee.Z)(this,"selectHeight",void 0),(0,ee.Z)(this,"placeholder",void 0),(0,ee.Z)(this,"bindLabel",void 0),(0,ee.Z)(this,"bindValue",void 0),(0,ee.Z)(this,"multiple",void 0),(0,ee.Z)(this,"add",void 0),(0,ee.Z)(this,"blur",void 0),(0,ee.Z)(this,"change",void 0),(0,ee.Z)(this,"debounceTime",void 0),(0,ee.Z)(this,"typeahead",void 0),(0,ee.Z)(this,"close",void 0),(0,ee.Z)(this,"clear",void 0),(0,ee.Z)(this,"focus",void 0),(0,ee.Z)(this,"search",void 0),(0,ee.Z)(this,"open",void 0),(0,ee.Z)(this,"remove",void 0),(0,ee.Z)(this,"scroll",void 0),(0,ee.Z)(this,"scrollToEnd",void 0)}}return(0,a.gn)([(0,k.$M)({description:"Select options or binding to dataModel.",example:'[{label: "One", value: 1}]'}),(0,a.w6)("design:type",Object)],J.prototype,"itemsSource",void 0),(0,a.gn)([(0,k.$M)({description:"Select height.",example:"30px"}),(0,a.w6)("design:type",String)],J.prototype,"selectHeight",void 0),(0,a.gn)([(0,k.$M)({description:"Placeholder",example:"Select name"}),(0,a.w6)("design:type",String)],J.prototype,"placeholder",void 0),(0,a.gn)([(0,k.$M)({description:"Label property.",example:"name"}),(0,a.w6)("design:type",String)],J.prototype,"bindLabel",void 0),(0,a.gn)([(0,k.$M)({description:"Value property.",example:"id"}),(0,a.w6)("design:type",String)],J.prototype,"bindValue",void 0),(0,a.gn)([(0,k.$M)({description:"Allows to select multiple items.",example:"true"}),(0,a.w6)("design:type",Boolean)],J.prototype,"multiple",void 0),(0,a.gn)([(0,k.$M)({description:"Output add event handler.",example:"onAdd()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"add",void 0),(0,a.gn)([(0,k.$M)({description:"Output blur event handler.",example:"onBlur()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"blur",void 0),(0,a.gn)([(0,k.$M)({description:"Output change event handler.",example:"onChange()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"change",void 0),(0,a.gn)([(0,k.$M)({description:"debounceTime in miliseconds. Used only with `typeahead` event handler. Default is 500 (miliseconds)",example:"500",type:k.ng.PROPERTY}),(0,a.w6)("design:type",String)],J.prototype,"debounceTime",void 0),(0,a.gn)([(0,k.$M)({description:"Typeahead event handler.",example:"onTypeahead()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"typeahead",void 0),(0,a.gn)([(0,k.$M)({description:"Output close event handler.",example:"onClose()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"close",void 0),(0,a.gn)([(0,k.$M)({description:"Output clear event handler.",example:"onClear()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"clear",void 0),(0,a.gn)([(0,k.$M)({description:"Output focus event handler.",example:"onFocus()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"focus",void 0),(0,a.gn)([(0,k.$M)({description:"Output search event handler.",example:"onSearch()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"search",void 0),(0,a.gn)([(0,k.$M)({description:"Output open event handler.",example:"onOpen()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"open",void 0),(0,a.gn)([(0,k.$M)({description:"Output remove event handler.",example:"onRemove()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"remove",void 0),(0,a.gn)([(0,k.$M)({description:"Output scroll event handler.",example:"onScroll()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"scroll",void 0),(0,a.gn)([(0,k.$M)({description:"Output scrollToEnd event handler.",example:"onScrollToEnd()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"scrollToEnd",void 0),J})(),component:(()=>{var J;class X extends k.A5{constructor(...W){super(...W),(0,ee.Z)(this,"searchText$",new t.x),(0,ee.Z)(this,"loading",!1)}onSelect(W){this.changedDataModel.emit(this.dataModel),this.emitEvent(this.properties.change,W)}get debounceTime(){return this.properties.debounceTime?parseInt(this.properties.debounceTime,10):500}ngOnInit(){var W=()=>super.ngOnInit,$=this;return(0,kr.Z)(function*(){yield W().call($),$.searchText$.pipe((0,i.b)($.debounceTime),(0,r.x)()).subscribe(ne=>$.emitEvent($.properties.typeahead,ne,"typeahead"))})()}get selectStyles(){return this.properties.selectHeight?{height:this.properties.selectHeight}:null}get options(){const W=this.eventResults.get("typeahead")??this.properties.itemsSource;return Array.isArray(W)?W:"string"==typeof W&&W.startsWith("$.")?(0,k.TS)(this.dataModel,W):void 0}}return J=X,(0,ee.Z)(X,"\u0275fac",function(){let Y;return function($){return(Y||(Y=D.n5z(J)))($||J)}}()),(0,ee.Z)(X,"\u0275cmp",D.Xpm({type:J,selectors:[["dc-select"]],features:[D.qOj],decls:1,vars:7,consts:[[3,"items","ngStyle","ngModel","bindLabel","typeahead","bindValue","placeholder","ngModelChange","add","blur","change","close","clear","focus","search","open","remove","scroll","scrollToEnd"]],template:function(W,$){1&W&&(D.TgZ(0,"ng-select",0),D.NdJ("ngModelChange",function(re){return $.componentDataModel=re})("add",function(re){return $.emitEvent($.properties.add,re)})("blur",function(re){return $.emitEvent($.properties.blur,re)})("change",function(re){return $.onSelect(re)})("close",function(re){return $.emitEvent($.properties.close,re)})("clear",function(re){return $.emitEvent($.properties.clear,re)})("focus",function(re){return $.emitEvent($.properties.focus,re)})("search",function(re){return $.emitEvent($.properties.search,re)})("open",function(re){return $.emitEvent($.properties.open,re)})("remove",function(re){return $.emitEvent($.properties.remove,re)})("scroll",function(re){return $.emitEvent($.properties.scroll,re)})("scrollToEnd",function(re){return $.emitEvent($.properties.scrollToEnd,re)}),D.qZA()),2&W&&D.Q6J("items",$.options)("ngStyle",$.selectStyles)("ngModel",$.componentDataModel)("bindLabel",$.properties.bindLabel)("typeahead",$.searchText$)("bindValue",$.properties.bindValue||"value")("placeholder",$.properties.placeholder)},dependencies:[e.PC,A.JJ,A.On,l.w9,d.Bp],styles:["[_nghost-%COMP%]     .ng-select.ng-select-single .ng-select-container{height:inherit;min-height:30px}"]})),X})(),example:[{uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Select Option</label>\n        <ng-select width="300px" binding="$.selectedOption">\n          <option value="o1">Option 1</option>\n          <option value="o2">Option 2</option>\n        </ng-select>\n      </div>\n    </div>\n  ',dataModel:{},title:"Static dropdown declaration"},{uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Select</label>\n        <ng-select width="300px" itemsSource="$.list" binding="$.selected"></ng-select>\n      </div>\n    </div>\n  ',dataModel:{list:[{label:"Data 1",value:"d1"},{label:"Data 2",value:"d2"}]},title:"Dropdown options binded to dataModel"},{uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Select</label>\n        <ng-select width="300px"\n          typeahead="onTypeahead(searchTerm)"\n          debounceTime="1000"\n          binding="$.selected"\n          change="onChange()">\n        </ng-select>\n      </div>\n\n      <text binding="$.selected"></text>\n    </div>\n  ',dataModel:{},scripts:"\n  async def onTypeahead():\n    if searchTerm != null:\n      # can be server-side call\n      return [\n        {label: searchTerm + ' 1', value: searchTerm + ' 1'},\n        {label: searchTerm + ' 2', value: searchTerm + ' 2'}\n      ]\n\n  async def onChange():\n    print('Selected value: ', dataModel.selected)\n  ",title:"drop-down with typeahead and debounceTime"}],parseUIModel(J){const X={};return!J.attrs.itemsSource&&J.childNodes&&(X.itemsSource=J.childNodes.map(Y=>({label:Y._,value:Y.$&&Object.hasOwn(Y.$,"value")?Y.$.value:Y._})),J.childNodes=null),X.multiple="true"===J.attrs.multiple,{type:"ng-select",itemProperties:X}},defaultModel:'<ng-select width="100px" itemsSource="$.list" binding="$.value"></ng-select>',propertiesDescriptor:[["selectHeight",{name:"selectHeight",label:"Select Height",category:k.Fe.Layout}]],children:[{tag:"option",properties:[{name:"value",label:"Option value"}]}]};let _=(()=>{var J;class X extends k.A5{constructor(...W){super(...W),(0,ee.Z)(this,"vContainers",void 0)}ngAfterViewInit(){var W=this;return(0,kr.Z)(function*(){W.vContainers.forEach(($,ne)=>(0,k.LM)(W,W.uiModel.children[ne],$)),W.setHostStyles(),W.emitEvent(W.properties.onInit)})()}}return J=X,(0,ee.Z)(X,"\u0275fac",function(){let Y;return function($){return(Y||(Y=D.n5z(J)))($||J)}}()),(0,ee.Z)(X,"\u0275cmp",D.Xpm({type:J,selectors:[["dc-tabs-ui"]],viewQuery:function(W,$){if(1&W&&D.Gf(o,5,D.s_b),2&W){let ne;D.iGM(ne=D.CRH())&&($.vContainers=ne)}},features:[D.qOj],decls:2,vars:1,consts:[[1,"tabset-fx","w-100","h-100","nav-tabs-boxed"],[3,"heading",4,"ngFor","ngForOf"],[3,"heading"],["vc",""]],template:function(W,$){1&W&&(D.TgZ(0,"tabset",0),D.YNc(1,s,3,1,"tab",1),D.qZA()),2&W&&(D.xp6(1),D.Q6J("ngForOf",$.uiModel.children))},dependencies:[e.sg,b.wW,b.AH],encapsulation:2})),X})();const N=[{name:"tab-container",label:"Tabs container (Bootstrap)",packageName:u,category:"Containers",description:"Tabs component",itemProperties:class f extends k.vH{constructor(...X){super(...X),(0,ee.Z)(this,"header",void 0)}},component:_,example:{title:"Tabs group example",uiModel:'\n  <tab-container width="100%" height="100%" margin="8px">\n\t\t<tab header="Test tab" padding="0.5rem">\n\t\t\t<text text-style="h1">Tab 1 static text content</text>\n\t\t</tab>\n    <tab header="Btn tab" class="align-items-start p-2 flex-column">\n      <text text-style="h1">Button content</text>\n      <button class="btn btn-primary mr-2" onClick="button1_Click">Click</button>\n      <div>\n        <h4>ClickCount:</h4>\n        <text text-style="h4">$.clickCount</text>\n      </div>\n\t\t</tab>\n\t</tab-container>\n  ',scripts:'\n  def button1_Click():\n    print("button1_Click")\n    if dataModel.clickCount == null:\n      dataModel.clickCount = 0\n    dataModel.clickCount = dataModel.clickCount + 1\n  ',dataModel:{clickCount:2}},parseUIModel:J=>({type:"tab-container",children:J.childNodes?.map(Y=>{if(1===Y.$$?.length)return{tabProperties:Y.$,...k.pX.getUIModel((0,k.Y_)(Y.$$[0]))};const W=Y.$;return W.height="100%",W.width="100%",{type:"div",children:Y.$$.map($=>({tabProperties:Y.$,...k.pX.getUIModel((0,k.Y_)($))})),itemProperties:W}})}),children:[{tag:"tab",hasChildren:!0,properties:[{name:"header",label:"Tab title"}]}],defaultModel:'<tab-container width="100%" height="100%" margin="8px">\n  <tab header="Tab 1" padding="0.5rem">\n    <text text-style="h1">Tab 1 static text content</text>\n  </tab>\n  <tab header="Tab 2" padding="0.5rem">\n    <text text-style="h1">Tab 2 static text content</text>\n  </tab>\n</tab-container>'},m,{name:"input-typeahead",label:"Input typeahead",packageName:u,category:"Basic",description:"Input typeahead component",itemProperties:(()=>{class J extends k.mW{constructor(...Y){super(...Y),(0,ee.Z)(this,"itemsSource",void 0),(0,ee.Z)(this,"typeaheadOptionField",void 0),(0,ee.Z)(this,"placeholder",void 0),(0,ee.Z)(this,"multiple",void 0),(0,ee.Z)(this,"change",void 0),(0,ee.Z)(this,"debounceTime",void 0),(0,ee.Z)(this,"typeahead",void 0)}}return(0,a.gn)([(0,k.$M)({description:"Select suggestions or binding to dataModel.",example:'[{label: "One", value: 1}]'}),(0,a.w6)("design:type",Object)],J.prototype,"itemsSource",void 0),(0,a.gn)([(0,k.$M)({description:"Option field",defaultValue:"label",example:"30px"}),(0,a.w6)("design:type",String)],J.prototype,"typeaheadOptionField",void 0),(0,a.gn)([(0,k.$M)({description:"Placeholder",example:"Name"}),(0,a.w6)("design:type",String)],J.prototype,"placeholder",void 0),(0,a.gn)([(0,k.$M)({description:"Allows to select multiple items.",example:"true"}),(0,a.w6)("design:type",Boolean)],J.prototype,"multiple",void 0),(0,a.gn)([(0,k.$M)({description:"Output change event handler.",example:"onChange()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"change",void 0),(0,a.gn)([(0,k.$M)({description:"debounceTime in miliseconds. Used only with `typeahead` event handler. Default is 500 (miliseconds)",example:"500",type:k.ng.PROPERTY}),(0,a.w6)("design:type",String)],J.prototype,"debounceTime",void 0),(0,a.gn)([(0,k.$M)({description:"Typeahead event handler.",example:"onTypeahead()",type:k.ng.EVENT}),(0,a.w6)("design:type",String)],J.prototype,"typeahead",void 0),J})(),component:(()=>{var J;class X extends k.A5{constructor(...W){super(...W),(0,ee.Z)(this,"wrapperClass",null),(0,ee.Z)(this,"searchText$",new t.x),(0,ee.Z)(this,"loading",!1),(0,ee.Z)(this,"suggestions$",new t.x),(0,ee.Z)(this,"suggestions",void 0),(0,ee.Z)(this,"isAsync",void 0)}get debounceTime(){return this.properties.debounceTime?parseInt(this.properties.debounceTime,10):500}ngOnInit(){var W=()=>super.ngOnInit,$=this;return(0,kr.Z)(function*(){$.isAsync=!!$.properties.typeahead,yield W().call($),$.searchText$.pipe((0,i.b)($.debounceTime),(0,r.x)()).subscribe(ne=>$.emitEvent($.properties.typeahead,ne,"typeahead")),$.eventResults$.pipe((0,n.h)(ne=>"typeahead"===ne)).subscribe(()=>$.suggestions$.next($.eventResults.get("typeahead"))),$.suggestions$.subscribe(ne=>$.suggestions=ne),$.initSugesstions()})()}initSugesstions(){let W=this.properties.itemsSource;"string"==typeof W&&W.startsWith("$.")&&(W=(0,k.TS)(this.dataModel,W)),Array.isArray(W)&&this.suggestions$.next(W)}onSelect(){this.changedDataModel.emit(this.dataModel),this.emitEvent(this.properties.change,this.componentDataModel)}onInput(){this.searchText$.next(this.componentDataModel)}}return J=X,(0,ee.Z)(X,"\u0275fac",function(){let Y;return function($){return(Y||(Y=D.n5z(J)))($||J)}}()),(0,ee.Z)(X,"\u0275cmp",D.Xpm({type:J,selectors:[["dc-input-typeahead"]],hostVars:1,hostBindings:function(W,$){2&W&&D.uIk("class",$.wrapperClass)},features:[D.qOj],decls:1,vars:8,consts:[[3,"ngModel","typeahead","typeaheadAsync","placeholder","typeaheadOptionField","typeaheadMultipleSearch","ngModelChange","input","change"]],template:function(W,$){if(1&W&&(D.TgZ(0,"input",0),D.NdJ("ngModelChange",function(re){return $.componentDataModel=re})("input",function(){return $.onInput()})("change",function(){return $.onSelect()}),D.qZA()),2&W){let ne,re;D.Tol($.properties.class),D.Q6J("ngModel",$.componentDataModel)("typeahead",$.isAsync?$.suggestions$:$.suggestions)("typeaheadAsync",$.isAsync)("placeholder",null!==(ne=$.properties.placeholder)&&void 0!==ne?ne:"")("typeaheadOptionField",null!==(re=$.properties.typeaheadOptionField)&&void 0!==re?re:"label")("typeaheadMultipleSearch",$.properties.multiple)}},dependencies:[A.Fj,A.JJ,A.On,d.Bp],styles:["[_nghost-%COMP%]     .input-typeahead.input-typeahead-single .input-typeahead-container{height:inherit;min-height:30px}"]})),X})(),example:[{uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Type text</label>\n        <input-typeahead width="300px"\n          typeahead="onTypeahead(searchTerm)"\n          debounceTime="1000"\n          binding="$.selected"\n          change="onChange()">\n        </input-typeahead>\n      </div>\n\n      <text binding="$.selected"></text>\n    </div>\n  ',dataModel:{},scripts:"\n  async def onTypeahead():\n    if searchTerm != null:\n      # can be server-side call\n      return [\n        {label: searchTerm + ' 1', value: searchTerm + ' 1'},\n        {label: searchTerm + ' 2', value: searchTerm + ' 2'}\n      ]\n\n  async def onChange():\n    print('Selected value: ', dataModel.selected)\n  ",title:"drop-down with typeahead and debounceTime"},{uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Country</label>\n        <input-typeahead onSelect="countryChanged" width="300px" binding="$.country">\n          <option value="uk">United Kingdom</option>\n          <option value="ua">Ukraine</option>\n        </input-typeahead>\n      </div>\n      <div class="form-group">\n        <label class="col-form-label" width="60px">City</label>\n        <input-typeahead width="300px" itemsSource="$.cities" binding="$.city"></input-typeahead>\n      </div>\n    </div>\n  ',dataModel:{},scripts:'\n  # Evaluated with JSPython https://jspython.dev/\n\n  def countryChanged():\n    dataModel.city = null\n    if dataModel.country == null:\n      dataModel.cities = []\n    if dataModel.country == "uk":\n      dataModel.cities = [{label: "London", value: "lon"}, {label: "Liverpool", value: "liv"}]\n    if dataModel.country == "ua":\n      dataModel.cities = [{label: "Kyiv", value: "kyiv"}, {label: "Lviv", value: "lvi"}]\n  ',title:"Dependency between dropdowns",description:"Handles change event from first dropdown and changes values in second."},{uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Type text</label>\n        <input-typeahead class="form-control" width="300px" itemsSource="$.list" binding="$.selected"></input-typeahead>\n      </div>\n    </div>\n  ',dataModel:{list:[{label:"Data 1",value:"d1"},{label:"Data 2",value:"d2"}]},title:"Dropdown options binded to dataModel"}],parseUIModel(J){const X={};return!J.attrs.itemsSource&&J.childNodes&&(X.itemsSource=J.childNodes.map(Y=>({label:Y._,value:Y.$&&Object.hasOwn(Y.$,"value")?Y.$.value:Y._})),J.childNodes=null),X.multiple="true"===J.attrs.multiple,{type:"input-typeahead",itemProperties:X}},defaultModel:'<input-typeahead width="100px" itemsSource="$.list" binding="$.value"></input-typeahead>',propertiesDescriptor:[["selectHeight",{name:"selectHeight",label:"Select Height",category:k.Fe.Layout}]],children:[{tag:"option",properties:[{name:"value",label:"Option value"}]}]}],G=b.P4.forRoot();let te=(()=>{var J;class X{constructor(){(0,T.Dc)("bs4"),function F(){N.forEach(J=>k.pX.registerComponent(J))}()}}return J=X,(0,ee.Z)(X,"\u0275fac",function(W){return new(W||J)}),(0,ee.Z)(X,"\u0275mod",D.oAB({type:J})),(0,ee.Z)(X,"\u0275inj",D.cJS({imports:[k.V6,e.ez,A.u5,l.A0,d.H3,G]})),X})()}}]);