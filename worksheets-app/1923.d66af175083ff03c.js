"use strict";(self.webpackChunkworksheets_app_runtime=self.webpackChunkworksheets_app_runtime||[]).push([[1923],{20178:(ae,B,i)=>{i.d(B,{V:()=>j});var y=i(96814),s=i(53546),g=i(56223),D=i(51220),I=i(96711),l=i(54940),Z=i(65879);let j=(()=>{var e;class u{constructor(){(0,l.QR)()}}return(e=u).\u0275fac=function(F){return new(F||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({imports:[y.ez,I.V6,s.sF,D.C,g.u5]}),u})()},54940:(ae,B,i)=>{i.d(B,{lX:()=>K,QR:()=>J});var y=i(96711),s=i(15861),g=i(51220),D=i(32013),I=i(59773);var e=i(65879),u=i(91922);let c=(()=>{var $;class N extends y.A5{constructor(M,O){super(),this.cd=M,this.themeService=O,this.display="block",this.options={},this.themes={light:"ag-vivid",dark:"ag-vivid-dark"},this.destroy$=new D.x}ngOnInit(){var M=this;return(0,s.Z)(function*(){M.properties.type&&(M.options={series:[{type:M.properties.type,listeners:{nodeClick:O=>M.nodeClick(O)}}]}),M.themeService.activeTheme$.pipe((0,I.R)(M.destroy$)).subscribe(O=>{M.setOptions({theme:M.themes[O]})})})()}ngOnDestroy(){var M=()=>super.ngOnDestroy,O=this;return(0,s.Z)(function*(){M().call(O),O.destroy$.next(null),O.destroy$.complete()})()}setOptions(M){this.options={...this.options,...M},this.cd.detectChanges()}nodeClick(M){this.options.series?.forEach(O=>{O?.listeners?.nodeClick?.(M)})}}return($=N).\u0275fac=function(M){return new(M||$)(e.Y36(e.sBO),e.Y36(u.f))},$.\u0275cmp=e.Xpm({type:$,selectors:[["app-chart"]],viewQuery:function(M,O){if(1&M&&e.Gf(g.q,7),2&M){let k;e.iGM(k=e.CRH())&&(O.agChart=k.first)}},hostVars:2,hostBindings:function(M,O){2&M&&e.Udp("display",O.display)},features:[e.qOj],decls:1,vars:1,consts:[[3,"options"]],template:function(M,O){1&M&&e._UZ(0,"ag-charts-angular",0),2&M&&e.Q6J("options",O.options)},dependencies:[g.q],changeDetection:0}),N})();const G={name:"ag-chart",packageName:"ag",label:"Chart",category:"Data",description:"Chart component",itemProperties:class F extends y.hl{},component:c,example:[{title:"Grid example",uiModel:'\n  <div class="h-100">\n    <ag-chart class="h-100"></ag-chart>\n  </div>\n  ',dataModel:{chartData:[{position:1,name:"Hydrogen",weight:1.0079,symbol:"H"},{position:2,name:"Helium",weight:4.0026,symbol:"He"},{position:3,name:"Lithium",weight:6.941,symbol:"Li"},{position:4,name:"Beryllium",weight:9.0122,symbol:"Be"},{position:5,name:"Boron",weight:10.811,symbol:"B"},{position:6,name:"Carbon",weight:12.0107,symbol:"C"},{position:7,name:"Nitrogen",weight:14.0067,symbol:"N"},{position:8,name:"Oxygen",weight:15.9994,symbol:"O"},{position:9,name:"Fluorine",weight:18.9984,symbol:"F"},{position:10,name:"Neon",weight:20.1797,symbol:"Ne"}]}}],children:!1};var U=i(53546);let Y=(()=>{var $;class N extends y.A5{constructor(){super(...arguments),this.display="block",this.agGrid={},this.rowData=[]}}return($=N).\u0275fac=function(){let P;return function(O){return(P||(P=e.n5z($)))(O||$)}}(),$.\u0275cmp=e.Xpm({type:$,selectors:[["app-grid"]],viewQuery:function(M,O){if(1&M&&e.Gf(U.N8,7),2&M){let k;e.iGM(k=e.CRH())&&(O.agGrid=k.first)}},hostVars:2,hostBindings:function(M,O){2&M&&e.Udp("display",O.display)},features:[e.qOj],decls:1,vars:0,consts:[[1,"ag-theme-ws-runner","h-100"]],template:function(M,O){1&M&&e._UZ(0,"ag-grid-angular",0)},dependencies:[U.N8],changeDetection:0}),N})();const K=[{name:"ag-grid",packageName:"ag",label:"DataGrid",category:"Data",description:"Data table component",itemProperties:class W extends y.hl{},component:Y,example:[{title:"Grid example",uiModel:'\n  <div class="h-100">\n    <ag-grid class="h-100"></ag-grid>\n  </div>\n  ',dataModel:{tableData:[{position:1,name:"Hydrogen",weight:1.0079,symbol:"H"},{position:2,name:"Helium",weight:4.0026,symbol:"He"},{position:3,name:"Lithium",weight:6.941,symbol:"Li"},{position:4,name:"Beryllium",weight:9.0122,symbol:"Be"},{position:5,name:"Boron",weight:10.811,symbol:"B"},{position:6,name:"Carbon",weight:12.0107,symbol:"C"},{position:7,name:"Nitrogen",weight:14.0067,symbol:"N"},{position:8,name:"Oxygen",weight:15.9994,symbol:"O"},{position:9,name:"Fluorine",weight:18.9984,symbol:"F"},{position:10,name:"Neon",weight:20.1797,symbol:"Ne"}]}}],children:!1},G];function J(){K.forEach($=>y.pX.registerComponent($))}},13477:(ae,B,i)=>{i.d(B,{P:()=>g});var y=i(96711),s=i(60674);function g(D){const I=(0,s.Pi)(D),l=I.evaluate;return I.evaluate=(...Z)=>(I.addFunction("getComponentById",j=>{if(Z?.length>1&&Z[1].rootUIModel)return(0,y.r6)(Z[1].rootUIModel,j);throw new Error("rootUIModel not available")}),l.apply(I,Z)),I}},40444:(ae,B,i)=>{i.d(B,{lX:()=>se,QR:()=>me});var y=i(96711),s=i(15861),g=i(97582),D=i(32013),I=i(16321),l=i(59773),Z=i(21473),j=i(79522),e=i(65879),u=i(75263),c=i(69569),F=i(18372);let G=(()=>{var o;class _ extends y.A5{constructor(t,n,h){super(),this.dataService=t,this.notificationService=n,this.runnerService=h,this.loadedModel="",this.script="",this.destroy$=new D.x}ngOnInit(){var t=()=>super.ngOnInit,n=this;return(0,s.Z)(function*(){yield t().call(n);const h=yield n.getComponentContent();if(h){const{uiModel:X,onInit:z}=h;n.renderContent(X),n.onInit=z,I.z.schedule(()=>n.onRendered(n.uiModel)),n.eventHandlers.pipe((0,l.R)(n.destroy$)).subscribe(ge=>n.componentEventHandlers(ge))}})()}onRendered(t){this.jspyCodePath&&this.runnerService.onNgxRendered(t,this.onInit,this.script,this.jspyCodePath,{dataContext:this.dataModelBinding})}ngOnDestroy(){var t=()=>super.ngOnDestroy,n=this;return(0,s.Z)(function*(){t().call(n),n.destroy$.next(null),n.destroy$.complete()})()}get dataModelBinding(){return(0,y.TS)(this.dataModel,this.properties.dataContext,{})}renderContent(t){this.uiModel.children=[y.pX.parseXMLModel(t)],(0,y.XD)(this)}getComponentContent(){var t=this;return(0,s.Z)(function*(){try{if(t.runnerService?.appRuntime?.info){const{appName:n,appOwner:h}=t.runnerService.appRuntime?.info,X=yield t.dataService.loadAppFileContent(h,n,(0,Z.tT)(t.properties?.path||"")),z=yield(0,j.mF)(X.content);return t.jspyCodePath=z?.jspyCodePath,z&&z.jspyCodePath&&(t.script=(yield t.dataService.loadAppFileContent(h,n,(0,Z.tT)(z.jspyCodePath))).content??""),z}}catch(n){t.notificationService.error(t.getComponentErrorMessage(n))}})()}getComponentErrorMessage(t){return`load-component '${this.properties.path}'. Error: ${(0,Z.e$)(t)}.`}componentEventHandlers(t){var n=this;return(0,s.Z)(function*(){n.jspyCodePath&&n.runnerService.ngxEventHandlers(t,n.script,n.jspyCodePath,{dataContext:n.dataModel,rootUIModel:n.uiModel})})()}}return(o=_).\u0275fac=function(t){return new(t||o)(e.Y36(u.UW),e.Y36(c.g),e.Y36(F.$))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-load-component"]],features:[e.qOj],decls:2,vars:0,consts:[["vc",""]],template:function(t,n){1&t&&e.GkF(0,null,0)},encapsulation:2}),_})();class V extends y.vH{}(0,g.gn)([(0,y.$M)({description:"Path to component.",example:"path/test.component.xml"})],V.prototype,"path",void 0),(0,g.gn)([(0,y.$M)({description:"Datamodel binding",example:"$.prop"})],V.prototype,"dataContext",void 0);const oe={name:"load-component",label:"Load component",packageName:"runner",category:"Custom Controls",description:"Loads component",itemProperties:V,component:G,example:{title:"Dynamic component example",uiModel:'<load-component path="user/user.component.xml" dataContext="$.user"></load-component>',dataModel:{user:{name:"Paul Jackson Pollock",born:"January 28, 1912",died:"August 11, 1956 (aged 44)",education:"Art Students League of New York"}}}};var U=i(75187),Y=i(32181),W=i(26671);function q(o,_){1&o&&(e.TgZ(0,"div",3)(1,"div",4)(2,"span",5),e._uU(3,"Loading..."),e.qZA()()())}let K=(()=>{var o;class _ extends y.A5{constructor(t,n,h,X,z){super(),this.appRuntimeService=t,this.notificationService=n,this.dataService=h,this.route=X,this.router=z,this.error=new e.vpe,this.destroy$=new D.x}ngOnInit(){var t=()=>super.setHostStyles,n=this;return(0,s.Z)(function*(){t().call(n),n.router.events.pipe((0,l.R)(n.destroy$),(0,Y.h)(h=>h instanceof U.m2)).subscribe(()=>n.onPageRouteChange()),yield n.onPageRouteChange(),n.eventHandlers.pipe((0,l.R)(n.destroy$)).subscribe(h=>n.pageEventHandlers(h))})()}ngOnDestroy(){var t=()=>super.ngOnDestroy,n=this;return(0,s.Z)(function*(){t().call(n),n.destroy$.next(null),n.destroy$.complete()})()}onPageRouteChange(){var t=this;return(0,s.Z)(function*(){try{const n=t.route.snapshot.params,h=t.route.firstChild?.snapshot.params;t.containerRef?.clear(),(h||t.properties.defaultPage)&&(t.pageName=h?h.page:t.properties.defaultPage,t.dataModel={},t.pageInfo=yield t.dataService.loadPage(n.appOwner,n.appName,t.pageName),t.appRuntimeService.appRuntime&&(t.appRuntimeService.appRuntime.currentPage={name:t.pageName,title:t.pageInfo?.title||t.pageName,parameters:(0,Z.vl)()}),t.renderContent(t.pageInfo.uiModel))}catch(n){console.error(n);const h=(0,Z.e$)(n);t.notificationService.error(`Error rendering '${t.pageName}.page.xml' : ${h}`)}})()}renderContent(t){this.uiModel.children=[y.pX.parseXMLModel(t)],(0,y.XD)(this);const n=this.pageInfo?.jspyCodePath??`page script: ${this.pageName}`,h=this.pageInfo?.script;h&&I.z.schedule(()=>this.appRuntimeService.onNgxRendered(this.uiModel,this.pageInfo?.onInit,h,n,{dataContext:this.dataModel}))}pageEventHandlers(t){var n=this;return(0,s.Z)(function*(){const h=n.pageInfo?.jspyCodePath??`page script: ${n.pageName}`;n.pageInfo?.script&&n.appRuntimeService.ngxEventHandlers(t,n.pageInfo.script,h,{dataContext:n.dataModel,rootUIModel:n.uiModel})})()}}return(o=_).\u0275fac=function(t){return new(t||o)(e.Y36(F.$),e.Y36(c.g),e.Y36(W.U),e.Y36(U.gz),e.Y36(U.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-page"]],outputs:{error:"error"},features:[e.qOj],decls:5,vars:0,consts:[[1,"d-flex","position-relative","h-100","w-100"],["vc",""],["spinner",""],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.GkF(1,null,1),e.qZA(),e.YNc(3,q,4,0,"ng-template",null,2,e.W1O))},encapsulation:2}),_})();class J extends y.vH{}(0,g.gn)([(0,y.$M)({description:"Default Page which will be rendered when no page specified.",example:"page-1"})],J.prototype,"defaultPage",void 0);const ee={name:"page-placeholder",packageName:"runner",label:"Page container",category:"Containers",description:"Page component",itemProperties:J,component:K,children:!1};var P=i(96814),M=i(64007),O=i(72500);const k=["submenu"];function re(o,_){if(1&o){const d=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(d);const n=e.oxw().$implicit,h=e.oxw(2);return e.KtG(h.onItemClick(n))}),e._uU(1),e.qZA()}if(2&o){const d=e.oxw().$implicit;e.xp6(1),e.Oqu(d.label)}}function ie(o,_){1&o&&e.GkF(0)}const A=function(){return[]},C=function(o,_){return{items:o,parents:_}};function E(o,_){if(1&o&&(e.TgZ(0,"div",19),e.YNc(1,ie,1,0,"ng-container",20),e.qZA()),2&o){const d=e.oxw(2).$implicit;e.oxw();const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.WLB(3,C,d.children,e.DdM(2,A)))}}function p(o,_){if(1&o&&(e.ynx(0),e.TgZ(1,"a",16),e._uU(2),e._UZ(3,"i",17),e.qZA(),e.YNc(4,E,2,6,"div",18),e.BQk()),2&o){const d=e.oxw().$implicit;e.xp6(2),e.hij(" ",d.label," ")}}function x(o,_){if(1&o&&(e.TgZ(0,"li",12),e.YNc(1,re,2,1,"a",13),e.YNc(2,p,5,1,"ng-container",14),e.qZA()),2&o){const d=_.$implicit;e.xp6(1),e.Q6J("ngIf",!d.children),e.xp6(1),e.Q6J("ngIf",d.children)}}function S(o,_){if(1&o){const d=e.EpF();e.TgZ(0,"a",25),e.NdJ("click",function(){e.CHM(d);const n=e.oxw().$implicit,h=e.oxw(3);return e.KtG(h.onItemClick(n))}),e._uU(1),e.qZA()}if(2&o){const d=e.oxw().$implicit;e.xp6(1),e.Oqu(d.label)}}function H(o,_){1&o&&e.GkF(0)}function b(o,_){if(1&o&&(e.TgZ(0,"div",28),e.YNc(1,H,1,0,"ng-container",20),e.qZA()),2&o){const d=e.oxw(2).$implicit,t=e.MAs(1),n=e.oxw().parents;e.oxw();const h=e.MAs(3),X=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",e.WLB(2,C,d.children,X.getParentsList(n,t)))}}function L(o,_){if(1&o&&(e.ynx(0),e.TgZ(1,"a",26),e._uU(2),e.qZA(),e.YNc(3,b,2,5,"div",27),e.BQk()),2&o){const d=e.oxw().$implicit;e.xp6(2),e.hij(" ",d.label," ")}}function Q(o,_){if(1&o&&(e.TgZ(0,"li",22,23),e.YNc(2,S,2,1,"a",24),e.YNc(3,L,4,1,"ng-container",14),e.qZA()),2&o){const d=_.$implicit;e.xp6(2),e.Q6J("ngIf",!d.children),e.xp6(1),e.Q6J("ngIf",d.children)}}function R(o,_){1&o&&e.YNc(0,Q,4,2,"li",21),2&o&&e.Q6J("ngForOf",_.items)}function te(o,_){if(1&o&&(e.TgZ(0,"ul",9),e.YNc(1,x,3,2,"li",10),e.YNc(2,R,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&o){const d=_.ngIf;e.xp6(1),e.Q6J("ngForOf",d)}}let r=(()=>{var o;class _ extends y.A5{constructor(t){super(),this.runtimeService=t,this.display="block"}ngOnInit(){var t=()=>super.ngOnInit,n=this;return(0,s.Z)(function*(){const h=n.runtimeService.appRuntime?.info;h&&(n.title=h.title,n.appHomePage=`/app/${h.appOwner}/${h.appName}`),t().call(n)})()}onItemClick(t){t.click&&this.emitEvent(t.click,t)}getParentsList(t,n){return[...t,n]}onShowSubMenu(t,n){this.dropdowns?.forEach(h=>{h.isOpen&&h!==t&&!n.includes(h)&&h.hide()})}}return(o=_).\u0275fac=function(t){return new(t||o)(e.Y36(F.$))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-header"]],viewQuery:function(t,n){if(1&t&&e.Gf(k,5),2&t){let h;e.iGM(h=e.CRH())&&(n.dropdowns=h)}},hostVars:2,hostBindings:function(t,n){2&t&&e.Udp("display",n.display)},features:[e.qOj],decls:10,vars:3,consts:[[1,"d-flex","flex-row","align-items-center","c-header"],[1,"col","px-0"],[1,"row","align-items-center","mx-0"],["routerLink","/",1,"c-header-brand","pl-1","pr-0"],["src","assets/img/ca-logo-80x80.png","width","45","height","45",1,"d-none","d-md-block","mr-2"],["src","assets/img/ca-logo-80x80.png","width","30","height","30",1,"d-md-none","c-header-brand-sm-up-center"],[1,"m-0","h2","top-sub-header","w-md-down-50",3,"routerLink"],["class","c-header-nav d-md-down-none",4,"ngIf"],[1,"d-flex","ml-auto"],[1,"c-header-nav","d-md-down-none"],["class","c-header-nav-item dropdown px-1","dropdown","","placement","bottom left","container","body",4,"ngFor","ngForOf"],["list",""],["dropdown","","placement","bottom left","container","body",1,"c-header-nav-item","dropdown","px-1"],["class","c-header-nav-link cursor-pointer",3,"click",4,"ngIf"],[4,"ngIf"],[1,"c-header-nav-link","cursor-pointer",3,"click"],["role","button","aria-haspopup","true","aria-expanded","false","dropdownToggle","",1,"c-header-nav-link","cursor-pointer"],[1,"fa","fa-caret-down","ml-1"],["class","dropdown-menu",4,"dropdownMenu"],[1,"dropdown-menu"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","c-header-nav-item dropdown","dropdown","","triggers","mouseover","placement","right","container","body",4,"ngFor","ngForOf"],["dropdown","","triggers","mouseover","placement","right","container","body",1,"c-header-nav-item","dropdown"],["submenu","bs-dropdown"],["class","dropdown-item cursor-pointer",3,"click",4,"ngIf"],[1,"dropdown-item","cursor-pointer",3,"click"],["role","button","aria-haspopup","true","aria-expanded","false","dropdownToggle","",1,"dropdown-item","cursor-pointer","d-caret"],["class","dropdown-menu dropdown-sub-menu-right",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-sub-menu-right"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e._UZ(4,"img",4)(5,"img",5),e.qZA(),e.TgZ(6,"a",6),e._uU(7),e.qZA()()(),e.YNc(8,te,4,1,"ul",7),e._UZ(9,"app-nav",8),e.qZA()),2&t&&(e.xp6(6),e.s9C("routerLink",n.appHomePage),e.xp6(1),e.hij(" ",n.title," "),e.xp6(1),e.Q6J("ngIf",n.properties.menuItems))},dependencies:[P.sg,P.O5,P.tP,U.rH,M.r,O.Hz,O.Mq,O.TO],styles:["[_nghost-%COMP%]{background:var(--bg);border-color:var(--border-color)}.top-sub-header[_ngcontent-%COMP%]{color:var(--color);font-family:Calibri;font-size:19px;font-weight:600;text-decoration:none}"],changeDetection:0}),_})();const f={name:"app-header",packageName:"app",label:"Header",category:"Custom Controls",description:"Header component",itemProperties:class v extends y.hl{},component:r,parseUIModel(o){const _={};return o.childNodes&&(o.childNodes.forEach(d=>{const t=(0,y.Y_)(d);"menu-items"===t.type&&(_.menuItems=t.childNodes?.map(y.Y_)?.filter(n=>"menu"===n.type)?.map(n=>{const h={icon:n.attrs.icon,label:n.attrs.label,click:n.attrs.click};return n.childNodes&&(h.children=n.childNodes.map(X=>(0,y.Y_)(X).attrs)),h})||[])}),o.childNodes=null),{type:"app-header",itemProperties:_}},example:[{title:"Header example",uiModel:"\n  <app-header>\n    <menu-items>\n      <menu label='link 1' icon='fa fa-icon' click='onLink1()'/>\n      <menu label='link 2' icon='fa fa-icon' click='onLink2()'/>\n    </menu-items>\n  </app-header>\n  ",dataModel:null}],children:!1};function T(o,_){if(1&o&&(e.TgZ(0,"li")(1,"a",4),e._uU(2),e.qZA()()),2&o){const d=_.$implicit,t=e.oxw();e.xp6(1),e.Q6J("routerLink",t.getRouterLink(d))("queryParams",t.getQueryParams(d)),e.xp6(1),e.Oqu(t.getFileName(d))}}let w=(()=>{var o;class _ extends y.A5{constructor(t,n){super(),this.runtimeService=t,this.router=n,this.display="block",this.appObject=null,this.fileLinks=[]}ngOnInit(){var t=()=>super.ngOnInit,n=this;return(0,s.Z)(function*(){n.appObject=n.runtimeService.appRuntime;const h=n.appObject?.info;h&&(n.title=`${h.appOwner}.${h.appName}`),n.fileLinks=yield n.runtimeService.getAppContentLinks(),yield t().call(n)})()}getFileName(t){return(0,Z.Js)(t)}getQueryParams(t){return{file:(0,Z.Js)(t)}}getRouterLink(t){if(!this.runtimeService.appRuntime)throw new Error("App is not initialized yet");const{appOwner:n,appName:h}=this.runtimeService.appRuntime?.info;return`/data-studio/app/${n}/${h}`}}return(o=_).\u0275fac=function(t){return new(t||o)(e.Y36(F.$),e.Y36(U.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-welcome"]],hostVars:2,hostBindings:function(t,n){2&t&&e.Udp("display",n.display)},features:[e.qOj],decls:9,vars:2,consts:[[1,"container","d-flex","flex-column","mt-4"],[1,"d-flex","align-items-bottom","justify-content-center"],[1,"d-flex","flex-column","mt-4","align-items-start"],[4,"ngFor","ngForOf"],[1,"cursor-pointer",3,"routerLink","queryParams"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3),e.qZA()(),e.TgZ(4,"div",2)(5,"h3"),e._uU(6,"Files"),e.qZA(),e.TgZ(7,"ul"),e.YNc(8,T,3,3,"li",3),e.qZA()()()),2&t&&(e.xp6(3),e.hij("Welcome to ",n.title," app"),e.xp6(5),e.Q6J("ngForOf",n.fileLinks))},dependencies:[P.sg,U.rH],styles:['[_ngcontent-%COMP%]:root{--bg: #fff;--body-bg: #e4e5e6;--header-bg: #ebedef;--color: #4f5d73;--border-color: #c4c9d0;--ws-alt: #f7f7f7;--form-input-bg: #fff;--form-input-color: #768192;--nav-link-color: #8a93a2;--secondary-color: #c4c9d0;--opacity: .05;--hover: "#f0f3f5"}[_nghost-%COMP%]{background:var(--bg);border-color:var(--border-color);border-radius:2px;text-align:center;display:flex}ul[_ngcontent-%COMP%]{padding-inline-start:.8em}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-align:left;color:#20a8d8}']}),_})();const pe={name:"welcome",packageName:"app",label:"Welcome",category:"Custom Controls",description:"Welcome component",itemProperties:class le extends y.hl{},component:w,example:[{title:"Welcome example",uiModel:"\n  <app-welcome/>\n  ",dataModel:null}],children:!1};var ce=i(20553);let de=(()=>{var o;class _ extends y.A5{constructor(){super(...arguments),this.display="block",this.version=ce.N.version}}return(o=_).\u0275fac=function(){let d;return function(n){return(d||(d=e.n5z(o)))(n||o)}}(),o.\u0275cmp=e.Xpm({type:o,selectors:[["app-footer"]],hostVars:2,hostBindings:function(t,n){2&t&&e.Udp("display",n.display)},features:[e.qOj],decls:10,vars:1,consts:[[1,"d-flex","px-2","position-relative","flex-column"],[1,"mx-auto"],[1,"terms-privacy","mx-auto","px-2"],["href","https://worksheet.systems/terms-of-service/","target","blank",1,"ml-auto"],["href","https://worksheet.systems/privacy-policy/","target","blank",1,"mx-2"]],template:function(t,n){1&t&&(e.TgZ(0,"footer",0)(1,"div",1),e._uU(2,"Copyright \xa9 FalconSoft Ltd"),e.qZA(),e.TgZ(3,"div",2)(4,"a",3),e._uU(5,"Terms & Conditions"),e.qZA(),e.TgZ(6,"a",4),e._uU(7,"Privacy"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()()),2&t&&(e.xp6(9),e.hij("v",n.version,""))},styles:["footer[_ngcontent-%COMP%]{background:var(--bg);border-top:1px solid var(--border-color);color:var(--color);flex:0 0 25px}.terms-privacy[_ngcontent-%COMP%]{position:absolute;right:0}@media (max-width: 767.98px){.terms-privacy[_ngcontent-%COMP%]{position:initial}}"],changeDetection:0}),_})();const se=[ee,oe,f,pe,{name:"app-footer",packageName:"app",label:"Footer",category:"Custom Controls",description:"Footer component",itemProperties:class ue extends y.hl{},component:de,example:{title:"Footer",uiModel:"<app-footer>",dataModel:null},children:!1}];function me(){se.forEach(o=>y.pX.registerComponent(o))}},18372:(ae,B,i)=>{i.d(B,{$:()=>ie});var y=i(15861),s=i(85926),g=i(42793),D=i(18916),I=i(65619),l=i(93997),Z=i(21473),j=i(99796),e=i(32013),u=i(65879),c=i(33374),F=i(69569),G=i(75263),V=i(96814),ne=i(96711);function oe(A,C){if(1&A){const E=u.EpF();u.TgZ(0,"ngx-dynamic-component",8),u.NdJ("render",function(x){u.CHM(E);const S=u.oxw();return u.KtG(S.onRendered(x))})("eventHandlers",function(x){u.CHM(E);const S=u.oxw();return u.KtG(S.eventHandlers(x))}),u.qZA()}if(2&A){const E=u.oxw();u.Q6J("xmlUIModel",E.uiModel)("dataModel",E.dataModel)}}function U(A,C){1&A&&(u.TgZ(0,"div",9)(1,"div",10)(2,"span",11),u._uU(3,"Loading..."),u.qZA()()())}let Y=(()=>{var A;class C{constructor(p,x,S,H){this.dialogRef=p,this.runnerService=x,this.notificationService=S,this.dataService=H,this.dataModel={},this.title="",this.loaded=!0,this.uiModel="",this.destroy$=new e.x}ngOnInit(){var p=this;return(0,y.Z)(function*(){if(!p.runnerService.appRuntime)throw new Error("App Runtime is not initialized yet");if(!p.dlgSettings)throw new Error("dlgSettings is not initialized yet");const{appOwner:x,appName:S}=p.runnerService.appRuntime.info,H=p.dlgSettings.pageName;p.parentPage=p.runnerService.appRuntime?.currentPage||void 0;try{p.pageInfo=yield p.dataService.loadPage(x,S,H),p.runnerService.appRuntime.currentPage={name:H,title:p.pageInfo?.title||H,parameters:p.dlgSettings?.params},p.title=p.pageInfo.title||"",p.uiModel=p.pageInfo.uiModel}catch(b){console.error(b);const L=`'${H}.page.xml':${(0,j.e$)(b)}`;p.notificationService.error(L)}})()}onRendered(p){this.runnerService.onNgxRendered(p,this.pageInfo?.onInit,this.pageInfo?.script,this.pageInfo?.jspyCodePath,{dataContext:this.dataModel,dialogRef:this.dialogRef,dialogParams:this.dlgSettings?.params})}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete(),this.runnerService?.appRuntime&&(this.runnerService.appRuntime.currentPage=this.parentPage||{})}eventHandlers(p){var x=this;return(0,y.Z)(function*(){x.runnerService.ngxEventHandlers(p,x.pageInfo?.script??"",x.pageInfo?.jspyCodePath??"",{rootUIModel:x.uiModel,dataContext:x.dataModel,dialogRef:x.dialogRef,dialogParams:x.dlgSettings?.params})})()}onClose(){this.dialogRef.close()}}return(A=C).\u0275fac=function(p){return new(p||A)(u.Y36(c.z),u.Y36(ie),u.Y36(F.g),u.Y36(G.UW))},A.\u0275cmp=u.Xpm({type:A,selectors:[["app-dynamic-modal"]],inputs:{dlgSettings:"dlgSettings"},decls:11,vars:3,consts:[[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","overflow-auto"],[3,"xmlUIModel","dataModel","render","eventHandlers",4,"ngIf","ngIfElse"],["spinner",""],[3,"xmlUIModel","dataModel","render","eventHandlers"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(p,x){if(1&p&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),u._uU(3),u.qZA(),u.TgZ(4,"button",3),u.NdJ("click",function(){return x.onClose()}),u.TgZ(5,"span",4),u._uU(6,"\xd7"),u.qZA()()(),u.TgZ(7,"div",5),u.YNc(8,oe,1,2,"ngx-dynamic-component",6),u.qZA(),u.YNc(9,U,4,0,"ng-template",null,7,u.W1O),u.qZA()),2&p){const S=u.MAs(10);u.xp6(3),u.Oqu(x.title),u.xp6(5),u.Q6J("ngIf",x.loaded)("ngIfElse",S)}},dependencies:[V.O5,ne.MY],styles:[".spinner[_ngcontent-%COMP%]{left:0}.modal-content[_ngcontent-%COMP%]{max-height:90vh}"]}),C})();var W=new WeakMap,q=new WeakMap,K=new WeakMap,J=new WeakMap,ee=new WeakMap,$=new WeakMap,N=new WeakMap;class P{get currentPage(){return(0,D.Z)(this,W).value}set currentPage(C){(0,D.Z)(this,W).next(C)}constructor(C,E,p,x,S,H,b){(0,s.Z)(this,W,{writable:!0,value:void 0}),(0,s.Z)(this,q,{writable:!0,value:void 0}),(0,s.Z)(this,K,{writable:!0,value:void 0}),(0,s.Z)(this,J,{writable:!0,value:void 0}),(0,s.Z)(this,ee,{writable:!0,value:void 0}),(0,s.Z)(this,$,{writable:!0,value:void 0}),(0,s.Z)(this,N,{writable:!0,value:void 0}),(0,g.Z)(this,W,new I.X(null)),this.currentUser=null,this.currentPage$=(0,D.Z)(this,W).asObservable().pipe((0,l.x)()),(0,g.Z)(this,q,E),(0,g.Z)(this,K,p),(0,g.Z)(this,J,x),(0,g.Z)(this,ee,S),(0,g.Z)(this,$,H),(0,g.Z)(this,N,b),this.info={appName:C.appName,appOwner:C.appOwner,description:C.description,logo:C.logo,title:C.title,accessLevel:C.accessLevel,codeAccessLevel:C.codeAccessLevel,publicAccess:C.publicAccess,publicCodeAccess:C.publicCodeAccess},b.isAuthenticated$.subscribe(L=>{this.currentUser=b.user?{userName:b.user.userName,firstName:b.user.firstName,lastName:b.user.lastName,email:b.user.email,avatar:b.user.avatar}:null})}showPage(C,E={}){if(!this.info)throw new Error("App is not loaded");const{appOwner:p,appName:x}=this.info;"string"==typeof E&&(E=(0,Z.vl)(void 0,E)),(0,D.Z)(this,q).navigate(["app",p,x,C],{queryParams:E})}showDialog(C,E={},p){if(!this.info)throw new Error("App is not loaded");return"string"==typeof E&&(E=(0,Z.vl)(void 0,E)),(0,D.Z)(this,ee).open(Y,{class:p||"modal-md",initialState:{dlgSettings:{pageName:C,params:E}}})}showErrorToast(C){(0,D.Z)(this,J).error(C)}getQueryParams(){return(0,Z.vl)()}showNotificationToast(C){(0,D.Z)(this,J).success(C)}toggleTheme(C){(0,D.Z)(this,$).toggleMode(C)}showLoginDialog(){(0,D.Z)(this,N).showLoginDialog()}}var M=i(13477),O=i(79522),k=i(75187),re=i(91922);let ie=(()=>{var A;class C{constructor(p,x,S,H,b,L,Q){this.router=p,this.route=x,this.notificationService=S,this.dialogService=H,this.themeService=b,this.authService=L,this.appDataService=Q,this._currentApp=null,this.interpreter=this.getCurrentAppInterpreter()}get appRuntime(){return this._currentApp}getAppContentLinks(){var p=this;return(0,y.Z)(function*(){if(!p._currentApp?.info)throw new Error("App is not initialized yet");return yield p.appDataService.loadAppFileLinks(p._currentApp?.info.appOwner,p._currentApp?.info.appName)})()}getCurrentAppInterpreter(){var x,p=this;return(0,M.P)(function(H){return(x=x||(0,y.Z)(function*(b){if(b.startsWith("./")&&(b=b.substring(2)),b.startsWith("/")&&(b=b.substring(1)),!p._currentApp)throw new Error("Current App is not initialized yet");return(yield p.appDataService.loadAppFileContent(p._currentApp.info.appOwner,p._currentApp.info.appName,(0,Z.tT)(b))).content||""})).apply(this,arguments)})}createAppRuntime(p){this._currentApp=new P(p,this.router,this.route,this.notificationService,this.dialogService,this.themeService,this.authService)}onNgxRendered(p,x,S,H,b={}){if(!x||!S)return;const[L,Q]=(0,ne.Ok)(x),R={uiModel:p,argsKey:Q,argsValue:(0,ne.IF)(L)};Q&&(R[Q]=R.argsValue),this.ngxEventHandlers({eventName:"onInit",eventHandler:L,rootUIModel:p,parameters:R},S,H??"",b)}ngxEventHandlers(p,x,S,H){var b=this;return(0,y.Z)(function*(){const{eventName:L,rootUIModel:Q=null,parameters:R,eventHandler:te,sender:r}=p;if(b.interpreter)if(b.interpreter.hasFunction(x,te))try{const v=yield b.interpreter.evaluate(x,{rootUIModel:Q,app:b.appRuntime,eventArgs:(0,O.$m)(p),...H,__env:{args:{},entryModule:S,entryFunction:te||"",runsAt:"app"},...R},[te,R?.argsValue],S);r?.setEventHandlerResult(L,v)}catch(v){b.interpreterErrorHandler(v)}else"parseError"===te&&b.interpreterErrorHandler(new Error(`'app.xml' error: ${R?.error?.message||R?.error||R}`))})()}interpreterErrorHandler(p){var x=this;return(0,y.Z)(function*(){console.error(p),x.notificationService.error(p)})()}}return(A=C).\u0275fac=function(p){return new(p||A)(u.LFG(k.F0),u.LFG(k.gz),u.LFG(F.g),u.LFG(c.x),u.LFG(re.f),u.LFG(G.$h),u.LFG(G.UW))},A.\u0275prov=u.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),C})()},39669:(ae,B,i)=>{i.d(B,{lX:()=>b,zs:()=>te});var y=i(15861),s=i(86656),g=i(65879),D=i(96814),I=i(56223),l=i(96711),Z=i(54807),j=i(43161),e=i(612),u=i(48329),c=i(97582),F=i(32013),G=i(83620),V=i(93997),ne=i(32181);const oe=["vc"];function U(r,v){1&r&&(g.TgZ(0,"tab",2),g.GkF(1,null,3),g.qZA()),2&r&&g.Q6J("heading",v.$implicit.itemProperties.header||"Tab "+(v.index+1))}const Y="bootstrap";const P={name:"ng-select",label:"UI Select Input",packageName:Y,category:"Basic",description:"NG Select component",itemProperties:(()=>{class r extends l.mW{constructor(...f){super(...f),(0,s.Z)(this,"itemsSource",void 0),(0,s.Z)(this,"selectHeight",void 0),(0,s.Z)(this,"placeholder",void 0),(0,s.Z)(this,"bindLabel",void 0),(0,s.Z)(this,"bindValue",void 0),(0,s.Z)(this,"multiple",void 0),(0,s.Z)(this,"add",void 0),(0,s.Z)(this,"blur",void 0),(0,s.Z)(this,"change",void 0),(0,s.Z)(this,"debounceTime",void 0),(0,s.Z)(this,"typeahead",void 0),(0,s.Z)(this,"close",void 0),(0,s.Z)(this,"clear",void 0),(0,s.Z)(this,"focus",void 0),(0,s.Z)(this,"search",void 0),(0,s.Z)(this,"open",void 0),(0,s.Z)(this,"remove",void 0),(0,s.Z)(this,"scroll",void 0),(0,s.Z)(this,"scrollToEnd",void 0)}}return(0,c.gn)([(0,l.$M)({description:"Select options or binding to dataModel.",example:'[{label: "One", value: 1}]'}),(0,c.w6)("design:type",Object)],r.prototype,"itemsSource",void 0),(0,c.gn)([(0,l.$M)({description:"Select height.",example:"30px"}),(0,c.w6)("design:type",String)],r.prototype,"selectHeight",void 0),(0,c.gn)([(0,l.$M)({description:"Placeholder",example:"Select name"}),(0,c.w6)("design:type",String)],r.prototype,"placeholder",void 0),(0,c.gn)([(0,l.$M)({description:"Label property.",example:"name"}),(0,c.w6)("design:type",String)],r.prototype,"bindLabel",void 0),(0,c.gn)([(0,l.$M)({description:"Value property.",example:"id"}),(0,c.w6)("design:type",String)],r.prototype,"bindValue",void 0),(0,c.gn)([(0,l.$M)({description:"Allows to select multiple items.",example:"true"}),(0,c.w6)("design:type",Boolean)],r.prototype,"multiple",void 0),(0,c.gn)([(0,l.$M)({description:"Output add event handler.",example:"onAdd()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"add",void 0),(0,c.gn)([(0,l.$M)({description:"Output blur event handler.",example:"onBlur()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"blur",void 0),(0,c.gn)([(0,l.$M)({description:"Output change event handler.",example:"onChange()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"change",void 0),(0,c.gn)([(0,l.$M)({description:"debounceTime in miliseconds. Used only with `typeahead` event handler. Default is 500 (miliseconds)",example:"500",type:l.ng.PROPERTY}),(0,c.w6)("design:type",String)],r.prototype,"debounceTime",void 0),(0,c.gn)([(0,l.$M)({description:"Typeahead event handler.",example:"onTypeahead()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"typeahead",void 0),(0,c.gn)([(0,l.$M)({description:"Output close event handler.",example:"onClose()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"close",void 0),(0,c.gn)([(0,l.$M)({description:"Output clear event handler.",example:"onClear()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"clear",void 0),(0,c.gn)([(0,l.$M)({description:"Output focus event handler.",example:"onFocus()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"focus",void 0),(0,c.gn)([(0,l.$M)({description:"Output search event handler.",example:"onSearch()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"search",void 0),(0,c.gn)([(0,l.$M)({description:"Output open event handler.",example:"onOpen()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"open",void 0),(0,c.gn)([(0,l.$M)({description:"Output remove event handler.",example:"onRemove()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"remove",void 0),(0,c.gn)([(0,l.$M)({description:"Output scroll event handler.",example:"onScroll()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"scroll",void 0),(0,c.gn)([(0,l.$M)({description:"Output scrollToEnd event handler.",example:"onScrollToEnd()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"scrollToEnd",void 0),r})(),component:(()=>{var r;class v extends l.A5{constructor(...m){super(...m),(0,s.Z)(this,"searchText$",new F.x),(0,s.Z)(this,"loading",!1)}onSelect(m){this.changedDataModel.emit(this.dataModel),this.emitEvent(this.properties.change,m)}get debounceTime(){return this.properties.debounceTime?parseInt(this.properties.debounceTime,10):500}ngOnInit(){var m=()=>super.ngOnInit,a=this;return(0,y.Z)(function*(){yield m().call(a),a.searchText$.pipe((0,G.b)(a.debounceTime),(0,V.x)()).subscribe(T=>a.emitEvent(a.properties.typeahead,T,"typeahead"))})()}get selectStyles(){return this.properties.selectHeight?{height:this.properties.selectHeight}:null}get options(){const m=this.eventResults.get("typeahead")??this.properties.itemsSource;return Array.isArray(m)?m:"string"==typeof m&&m.startsWith("$.")?(0,l.TS)(this.dataModel,m):void 0}}return r=v,(0,s.Z)(v,"\u0275fac",function(){let f;return function(a){return(f||(f=g.n5z(r)))(a||r)}}()),(0,s.Z)(v,"\u0275cmp",g.Xpm({type:r,selectors:[["dc-select"]],features:[g.qOj],decls:1,vars:7,consts:[[3,"items","ngStyle","ngModel","bindLabel","typeahead","bindValue","placeholder","ngModelChange","add","blur","change","close","clear","focus","search","open","remove","scroll","scrollToEnd"]],template:function(m,a){1&m&&(g.TgZ(0,"ng-select",0),g.NdJ("ngModelChange",function(w){return a.componentDataModel=w})("add",function(w){return a.emitEvent(a.properties.add,w)})("blur",function(w){return a.emitEvent(a.properties.blur,w)})("change",function(w){return a.onSelect(w)})("close",function(w){return a.emitEvent(a.properties.close,w)})("clear",function(w){return a.emitEvent(a.properties.clear,w)})("focus",function(w){return a.emitEvent(a.properties.focus,w)})("search",function(w){return a.emitEvent(a.properties.search,w)})("open",function(w){return a.emitEvent(a.properties.open,w)})("remove",function(w){return a.emitEvent(a.properties.remove,w)})("scroll",function(w){return a.emitEvent(a.properties.scroll,w)})("scrollToEnd",function(w){return a.emitEvent(a.properties.scrollToEnd,w)}),g.qZA()),2&m&&g.Q6J("items",a.options)("ngStyle",a.selectStyles)("ngModel",a.componentDataModel)("bindLabel",a.properties.bindLabel)("typeahead",a.searchText$)("bindValue",a.properties.bindValue||"value")("placeholder",a.properties.placeholder)},dependencies:[D.PC,I.JJ,I.On,Z.w9,u.Bp],styles:["[_nghost-%COMP%]     .ng-select.ng-select-single .ng-select-container{height:inherit;min-height:30px}"]})),v})(),example:[{uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Select Option</label>\n        <ng-select width="300px" binding="$.selectedOption">\n          <option value="o1">Option 1</option>\n          <option value="o2">Option 2</option>\n        </ng-select>\n      </div>\n    </div>\n  ',dataModel:{},title:"Static dropdown declaration"},{uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Select</label>\n        <ng-select width="300px" itemsSource="$.list" binding="$.selected"></ng-select>\n      </div>\n    </div>\n  ',dataModel:{list:[{label:"Data 1",value:"d1"},{label:"Data 2",value:"d2"}]},title:"Dropdown options binded to dataModel"},{uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Select</label>\n        <ng-select width="300px"\n          typeahead="onTypeahead(searchTerm)"\n          debounceTime="1000"\n          binding="$.selected"\n          change="onChange()">\n        </ng-select>\n      </div>\n\n      <text binding="$.selected"></text>\n    </div>\n  ',dataModel:{},scripts:"\n  async def onTypeahead():\n    if searchTerm != null:\n      # can be server-side call\n      return [\n        {label: searchTerm + ' 1', value: searchTerm + ' 1'},\n        {label: searchTerm + ' 2', value: searchTerm + ' 2'}\n      ]\n\n  async def onChange():\n    print('Selected value: ', dataModel.selected)\n  ",title:"drop-down with typeahead and debounceTime"}],parseUIModel(r){const v={};return!r.attrs.itemsSource&&r.childNodes&&(v.itemsSource=r.childNodes.map(f=>({label:f._,value:f.$&&Object.hasOwn(f.$,"value")?f.$.value:f._})),r.childNodes=null),v.multiple="true"===r.attrs.multiple,{type:"ng-select",itemProperties:v}},defaultModel:'<ng-select width="100px" itemsSource="$.list" binding="$.value"></ng-select>',propertiesDescriptor:[["selectHeight",{name:"selectHeight",label:"Select Height",category:l.Fe.Layout}]],children:[{tag:"option",properties:[{name:"value",label:"Option value"}]}]};let M=(()=>{var r;class v extends l.A5{constructor(...m){super(...m),(0,s.Z)(this,"vContainers",void 0)}ngAfterViewInit(){var m=this;return(0,y.Z)(function*(){m.vContainers.forEach((a,T)=>(0,l.LM)(m,m.uiModel.children[T],a)),m.setHostStyles(),m.emitEvent(m.properties.onInit)})()}}return r=v,(0,s.Z)(v,"\u0275fac",function(){let f;return function(a){return(f||(f=g.n5z(r)))(a||r)}}()),(0,s.Z)(v,"\u0275cmp",g.Xpm({type:r,selectors:[["dc-tabs-ui"]],viewQuery:function(m,a){if(1&m&&g.Gf(oe,5,g.s_b),2&m){let T;g.iGM(T=g.CRH())&&(a.vContainers=T)}},features:[g.qOj],decls:2,vars:1,consts:[[1,"tabset-fx","w-100","h-100","nav-tabs-boxed"],[3,"heading",4,"ngFor","ngForOf"],[3,"heading"],["vc",""]],template:function(m,a){1&m&&(g.TgZ(0,"tabset",0),g.YNc(1,U,3,1,"tab",1),g.qZA()),2&m&&(g.xp6(1),g.Q6J("ngForOf",a.uiModel.children))},dependencies:[D.sg,e.wW,e.AH],encapsulation:2})),v})();const b=[{name:"tab-container",label:"Tabs container (Bootstrap)",packageName:Y,category:"Containers",description:"Tabs component",itemProperties:class O extends l.vH{constructor(...v){super(...v),(0,s.Z)(this,"header",void 0)}},component:M,example:{title:"Tabs group example",uiModel:'\n  <tab-container width="100%" height="100%" margin="8px">\n\t\t<tab header="Test tab" padding="0.5rem">\n\t\t\t<text text-style="h1">Tab 1 static text content</text>\n\t\t</tab>\n    <tab header="Btn tab" class="align-items-start p-2 flex-column">\n      <text text-style="h1">Button content</text>\n      <button class="btn btn-primary mr-2" onClick="button1_Click">Click</button>\n      <div>\n        <h4>ClickCount:</h4>\n        <text text-style="h4">$.clickCount</text>\n      </div>\n\t\t</tab>\n\t</tab-container>\n  ',scripts:'\n  def button1_Click():\n    print("button1_Click")\n    if dataModel.clickCount == null:\n      dataModel.clickCount = 0\n    dataModel.clickCount = dataModel.clickCount + 1\n  ',dataModel:{clickCount:2}},parseUIModel:r=>({type:"tab-container",children:r.childNodes?.map(f=>{if(1===f.$$?.length)return l.pX.getUIModel((0,l.Y_)(f.$$[0]));const m=f.$;return m.height="100%",m.width="100%",{type:"div",children:f.$$.map(a=>l.pX.getUIModel((0,l.Y_)(a))),itemProperties:m}})}),children:[{tag:"tab",hasChildren:!0,properties:[{name:"header",label:"Tab title"}]}],defaultModel:'<tab-container width="100%" height="100%" margin="8px">\n  <tab header="Tab 1" padding="0.5rem">\n    <text text-style="h1">Tab 1 static text content</text>\n  </tab>\n  <tab header="Tab 2" padding="0.5rem">\n    <text text-style="h1">Tab 2 static text content</text>\n  </tab>\n</tab-container>'},P,{name:"input-typeahead",label:"Input typeahead",packageName:Y,category:"Basic",description:"Input typeahead component",itemProperties:(()=>{class r extends l.mW{constructor(...f){super(...f),(0,s.Z)(this,"itemsSource",void 0),(0,s.Z)(this,"typeaheadOptionField",void 0),(0,s.Z)(this,"placeholder",void 0),(0,s.Z)(this,"multiple",void 0),(0,s.Z)(this,"change",void 0),(0,s.Z)(this,"debounceTime",void 0),(0,s.Z)(this,"typeahead",void 0)}}return(0,c.gn)([(0,l.$M)({description:"Select suggestions or binding to dataModel.",example:'[{label: "One", value: 1}]'}),(0,c.w6)("design:type",Object)],r.prototype,"itemsSource",void 0),(0,c.gn)([(0,l.$M)({description:"Option field",defaultValue:"label",example:"30px"}),(0,c.w6)("design:type",String)],r.prototype,"typeaheadOptionField",void 0),(0,c.gn)([(0,l.$M)({description:"Placeholder",example:"Name"}),(0,c.w6)("design:type",String)],r.prototype,"placeholder",void 0),(0,c.gn)([(0,l.$M)({description:"Allows to select multiple items.",example:"true"}),(0,c.w6)("design:type",Boolean)],r.prototype,"multiple",void 0),(0,c.gn)([(0,l.$M)({description:"Output change event handler.",example:"onChange()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"change",void 0),(0,c.gn)([(0,l.$M)({description:"debounceTime in miliseconds. Used only with `typeahead` event handler. Default is 500 (miliseconds)",example:"500",type:l.ng.PROPERTY}),(0,c.w6)("design:type",String)],r.prototype,"debounceTime",void 0),(0,c.gn)([(0,l.$M)({description:"Typeahead event handler.",example:"onTypeahead()",type:l.ng.EVENT}),(0,c.w6)("design:type",String)],r.prototype,"typeahead",void 0),r})(),component:(()=>{var r;class v extends l.A5{constructor(...m){super(...m),(0,s.Z)(this,"wrapperClass",null),(0,s.Z)(this,"searchText$",new F.x),(0,s.Z)(this,"loading",!1),(0,s.Z)(this,"suggestions$",new F.x),(0,s.Z)(this,"suggestions",void 0),(0,s.Z)(this,"isAsync",void 0)}get debounceTime(){return this.properties.debounceTime?parseInt(this.properties.debounceTime,10):500}ngOnInit(){var m=()=>super.ngOnInit,a=this;return(0,y.Z)(function*(){a.isAsync=!!a.properties.typeahead,yield m().call(a),a.searchText$.pipe((0,G.b)(a.debounceTime),(0,V.x)()).subscribe(T=>a.emitEvent(a.properties.typeahead,T,"typeahead")),a.eventResults$.pipe((0,ne.h)(T=>"typeahead"===T)).subscribe(()=>a.suggestions$.next(a.eventResults.get("typeahead"))),a.suggestions$.subscribe(T=>a.suggestions=T),a.initSugesstions()})()}initSugesstions(){let m=this.properties.itemsSource;"string"==typeof m&&m.startsWith("$.")&&(m=(0,l.TS)(this.dataModel,m)),Array.isArray(m)&&this.suggestions$.next(m)}onSelect(){this.changedDataModel.emit(this.dataModel),this.emitEvent(this.properties.change,this.componentDataModel)}onInput(){this.searchText$.next(this.componentDataModel)}}return r=v,(0,s.Z)(v,"\u0275fac",function(){let f;return function(a){return(f||(f=g.n5z(r)))(a||r)}}()),(0,s.Z)(v,"\u0275cmp",g.Xpm({type:r,selectors:[["dc-input-typeahead"]],hostVars:1,hostBindings:function(m,a){2&m&&g.uIk("class",a.wrapperClass)},features:[g.qOj],decls:1,vars:8,consts:[[3,"ngModel","typeahead","typeaheadAsync","placeholder","typeaheadOptionField","typeaheadMultipleSearch","ngModelChange","input","change"]],template:function(m,a){if(1&m&&(g.TgZ(0,"input",0),g.NdJ("ngModelChange",function(w){return a.componentDataModel=w})("input",function(){return a.onInput()})("change",function(){return a.onSelect()}),g.qZA()),2&m){let T,w;g.Tol(a.properties.class),g.Q6J("ngModel",a.componentDataModel)("typeahead",a.isAsync?a.suggestions$:a.suggestions)("typeaheadAsync",a.isAsync)("placeholder",null!==(T=a.properties.placeholder)&&void 0!==T?T:"")("typeaheadOptionField",null!==(w=a.properties.typeaheadOptionField)&&void 0!==w?w:"label")("typeaheadMultipleSearch",a.properties.multiple)}},dependencies:[I.Fj,I.JJ,I.On,u.Bp],styles:["[_nghost-%COMP%]     .input-typeahead.input-typeahead-single .input-typeahead-container{height:inherit;min-height:30px}"]})),v})(),example:[{uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Type text</label>\n        <input-typeahead width="300px"\n          typeahead="onTypeahead(searchTerm)"\n          debounceTime="1000"\n          binding="$.selected"\n          change="onChange()">\n        </input-typeahead>\n      </div>\n\n      <text binding="$.selected"></text>\n    </div>\n  ',dataModel:{},scripts:"\n  async def onTypeahead():\n    if searchTerm != null:\n      # can be server-side call\n      return [\n        {label: searchTerm + ' 1', value: searchTerm + ' 1'},\n        {label: searchTerm + ' 2', value: searchTerm + ' 2'}\n      ]\n\n  async def onChange():\n    print('Selected value: ', dataModel.selected)\n  ",title:"drop-down with typeahead and debounceTime"},{uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Country</label>\n        <input-typeahead onSelect="countryChanged" width="300px" binding="$.country">\n          <option value="uk">United Kingdom</option>\n          <option value="ua">Ukraine</option>\n        </input-typeahead>\n      </div>\n      <div class="form-group">\n        <label class="col-form-label" width="60px">City</label>\n        <input-typeahead width="300px" itemsSource="$.cities" binding="$.city"></input-typeahead>\n      </div>\n    </div>\n  ',dataModel:{},scripts:'\n  # Evaluated with JSPython https://jspython.dev/\n\n  def countryChanged():\n    dataModel.city = null\n    if dataModel.country == null:\n      dataModel.cities = []\n    if dataModel.country == "uk":\n      dataModel.cities = [{label: "London", value: "lon"}, {label: "Liverpool", value: "liv"}]\n    if dataModel.country == "ua":\n      dataModel.cities = [{label: "Kyiv", value: "kyiv"}, {label: "Lviv", value: "lvi"}]\n  ',title:"Dependency between dropdowns",description:"Handles change event from first dropdown and changes values in second."},{uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Type text</label>\n        <input-typeahead class="form-control" width="300px" itemsSource="$.list" binding="$.selected"></input-typeahead>\n      </div>\n    </div>\n  ',dataModel:{list:[{label:"Data 1",value:"d1"},{label:"Data 2",value:"d2"}]},title:"Dropdown options binded to dataModel"}],parseUIModel(r){const v={};return!r.attrs.itemsSource&&r.childNodes&&(v.itemsSource=r.childNodes.map(f=>({label:f._,value:f.$&&Object.hasOwn(f.$,"value")?f.$.value:f._})),r.childNodes=null),v.multiple="true"===r.attrs.multiple,{type:"input-typeahead",itemProperties:v}},defaultModel:'<input-typeahead width="100px" itemsSource="$.list" binding="$.value"></input-typeahead>',propertiesDescriptor:[["selectHeight",{name:"selectHeight",label:"Select Height",category:l.Fe.Layout}]],children:[{tag:"option",properties:[{name:"value",label:"Option value"}]}]}],R=e.P4.forRoot();let te=(()=>{var r;class v{constructor(){(0,j.Dc)("bs4"),function L(){b.forEach(r=>l.pX.registerComponent(r))}()}}return r=v,(0,s.Z)(v,"\u0275fac",function(m){return new(m||r)}),(0,s.Z)(v,"\u0275mod",g.oAB({type:r})),(0,s.Z)(v,"\u0275inj",g.cJS({imports:[l.V6,D.ez,I.u5,Z.A0,u.H3,R]})),v})()}}]);