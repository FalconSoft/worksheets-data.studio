<dcml>

<script>

from 'datapipe-js/utils' import parseNumberOrNull


# Evaluated with JSPython https://jspython.dev/

async def onInit():
  data = httpGet("https://raw.githubusercontent.com/FalconSoft/sample-data/master/JSON/array-5935.json")
  dataContext.rowData = data
  dataContext.columnsDef = Object.keys(data[0]).map(f => {field: f})

  print('++++>', parseNumberOrNull('1234'))

  #setUIValue(rowData, data)
  #setUIValue(columnsDef, Object.keys(data[0]).map(f => {field: f}))

def onTestClick():
  print('test 111 ')


  </script>

  <template>

		<div class="h-100 overflow-auto d-flex flex-column">
			<div class="container my-2 p-2 h-100 w-100 bg-main overflow-auto">
        <div class="d-flex flex-column h-100">
          <ag-grid class="h-100" rowData="$.rowData" columnsDef="$.columnsDef"></ag-grid>
          <button onClick="onTestClick()">Load Data</button>
        </div>
			</div>
		</div>

  </template>
</dcml>